{"items":[{"tags":["java","spring-boot","jpa","stored-procedures","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5769951,"reputation":725,"user_id":4553646,"accept_rate":67,"display_name":"Alexander Stepchkov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1589268531,"creation_date":1589268531,"answer_id":61746057,"question_id":61655464,"body_markdown":"I could not find working solution with annotations and submitted a bug [DATAJPA-1722][1]\r\n\r\nBut I could managed to solve issue using ```EntityManager```:\r\n\r\n\t@SpringBootTest\r\n\tclass DemoApplicationTests {\r\n\r\n\t\t@PersistenceContext\r\n\t\tprivate EntityManager em;\r\n\t\t\r\n\t\t@Test\r\n\t\tvoid callStoredProcedureUsingEntitiManager() {\r\n\t\t\tStoredProcedureQuery proc = em.createStoredProcedureQuery(&quot;test_sp&quot;);\r\n\t\t\tproc.registerStoredProcedureParameter(&quot;x&quot;, Integer.class, ParameterMode.OUT);\r\n\t\t\tproc.registerStoredProcedureParameter(&quot;y&quot;, Integer.class, ParameterMode.OUT);\r\n\t\t\tproc.execute();\r\n\t\t\tassertThat(proc.getOutputParameterValue(&quot;x&quot;)).isEqualTo(17);\r\n\t\t\tassertThat(proc.getOutputParameterValue(&quot;y&quot;)).isEqualTo(93);\r\n\t\t}\r\n\r\n\t}\r\n\r\n  [1]: https://jira.spring.io/browse/DATAJPA-1722","title":"Spring Boot Data JPA receive Multiple Out Parameters from stored procedure","body":"<p>I could not find working solution with annotations and submitted a bug <a href=\"https://jira.spring.io/browse/DATAJPA-1722\" rel=\"nofollow noreferrer\">DATAJPA-1722</a></p>\n\n<p>But I could managed to solve issue using <code>EntityManager</code>:</p>\n\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    @Test\n    void callStoredProcedureUsingEntitiManager() {\n        StoredProcedureQuery proc = em.createStoredProcedureQuery(\"test_sp\");\n        proc.registerStoredProcedureParameter(\"x\", Integer.class, ParameterMode.OUT);\n        proc.registerStoredProcedureParameter(\"y\", Integer.class, ParameterMode.OUT);\n        proc.execute();\n        assertThat(proc.getOutputParameterValue(\"x\")).isEqualTo(17);\n        assertThat(proc.getOutputParameterValue(\"y\")).isEqualTo(93);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23501907,"reputation":41,"user_id":17551704,"display_name":"Parawata"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638273856,"creation_date":1638273856,"answer_id":70169083,"question_id":61655464,"body_markdown":"FYI for anyone still using older versions of Spring Boot. This error was caused by calling a procedure without enclosing it in a transaction. Error message was a bit of a red herring but the fix was to add @Transaction to the caller.\r\n\r\nIn the example above I&#39;d include a service layer class between Controller and SomeRepository and annotate my service layer method as transactional.\r\n\r\ni.e.\r\n\r\n    @Service\r\n    public class SomeService{\r\n        \r\n        @Autowired\r\n        SomeRepository someRepo;\r\n\r\n        @Transactional\r\n        public Map&lt;String, Object&gt; testSp(String docName){\r\n            return someRepo.testSp(docName);\r\n        }\r\n    }\r\n    \r\n\r\n","title":"Spring Boot Data JPA receive Multiple Out Parameters from stored procedure","body":"<p>FYI for anyone still using older versions of Spring Boot. This error was caused by calling a procedure without enclosing it in a transaction. Error message was a bit of a red herring but the fix was to add @Transaction to the caller.</p>\n<p>In the example above I'd include a service layer class between Controller and SomeRepository and annotate my service layer method as transactional.</p>\n<p>i.e.</p>\n<pre><code>@Service\npublic class SomeService{\n    \n    @Autowired\n    SomeRepository someRepo;\n\n    @Transactional\n    public Map&lt;String, Object&gt; testSp(String docName){\n        return someRepo.testSp(docName);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5769951,"reputation":725,"user_id":4553646,"accept_rate":67,"display_name":"Alexander Stepchkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8876,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61746057,"answer_count":2,"score":5,"last_activity_date":1638273856,"creation_date":1588847131,"question_id":61655464,"body_markdown":"I&#39;m trying to call stored procedure with multiple out parameters via Spring Boot Data JPA (v2.2.6), but receive an error:\r\n\r\n\tDEBUG [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlStatementLogger: {call TEST_SP(?,?,?)}\r\n\tRACE [http-nio-8080-exec-1] org.hibernate.type.descriptor.sql.BasicBinder: binding parameter [DOC_NAME] as [VARCHAR] - [ololo]\r\n\tERROR [http-nio-8080-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: OUT/INOUT parameter not available: DOC_ID; nested exception is java.lang.IllegalArgumentException: OUT/INOUT parameter not available: DOC_ID] with root cause\r\n\tjava.lang.IllegalArgumentException: OUT/INOUT parameter not available: DOC_ID\r\n\r\nStored procedure in MS SQL Server 2012:\r\n\r\n\tCREATE PROCEDURE [dbo].[TEST_SP]\r\n\t\t@DOC_ID bigint output,\r\n\t\t@DOC_GUID nvarchar(255) output,\r\n\t\t@DOC_NAME nvarchar(255)\r\n\tAS\r\n\tBEGIN\r\n\t\tSET NOCOUNT ON;\r\n\r\n\t\tSELECT @DOC_ID = 6666, @DOC_GUID = @DOC_NAME\r\n\tEND\r\n\r\nHere my entity (it is not related to SP):\r\n\r\n\r\n\t@Data\r\n\t@Entity\r\n\t@NamedStoredProcedureQuery(name = &quot;SomeEntity.test&quot;, procedureName = &quot;TEST_SP&quot;, parameters = {\r\n\t\t\t@StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;DOC_ID&quot;, type = Long.class),\r\n\t\t\t@StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;DOC_GUID&quot;, type = String.class),\r\n\t\t\t@StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;DOC_NAME&quot;, type = String.class)\r\n\t})\r\n\t@Table(name = &quot;DOCUMENT_DATA&quot;)\r\n\tpublic class SomeEntity {\r\n        // some variables\r\n    }\r\n\r\nHere my repository:\r\n\r\n\tpublic interface SomeRepository extends JpaRepository&lt;SomeEntity, Long&gt; {\r\n\r\n\t\t@Procedure(name = &quot;SomeEntity.test&quot;)\r\n\t\tMap&lt;String, Object&gt; testSp(@Param(&quot;DOC_NAME&quot;) String docName);\r\n\t}\r\n\r\nHere how I call it:\r\n\r\n\t@RestController\r\n\tpublic class Controller {\r\n\r\n\t\t@Autowired\r\n\t\tSomeRepository repository;\r\n\r\n\t\t@GetMapping(&quot;test&quot;)\r\n\t\tString test() {\r\n\t\t\treturn repository.testSp(&quot;ololo&quot;).toString();\r\n\t\t}\r\n\t}\r\n\r\nAs example I used these links: \r\nhttps://github.com/spring-projects/spring-data-jpa/blob/master/src/test/java/org/springframework/data/jpa/domain/sample/User.java#L77\r\nhttps://github.com/spring-projects/spring-data-jpa/blob/e27933455efa6d1821dea23abd2bbe109b5d59a7/src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java#L362\r\n\r\n**Upd:** I&#39;ve tried with Oracle 11g\r\n\r\n\r\n\tCREATE OR REPLACE PROCEDURE test_sp(x OUT INTEGER, y OUT INTEGER) AS\r\n\tBEGIN\r\n\t  x := 17; y := 93;\r\n\tEND;\r\n\r\n\r\n\t@NamedStoredProcedureQuery(name = &quot;EstatementsDataEntity.test&quot;, procedureName = &quot;test_sp&quot;, parameters = {\r\n\t\t\t@StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;x&quot;, type = Integer.class),\r\n\t\t\t@StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;y&quot;, type = Integer.class)\r\n\t})\r\n\r\nBut receive almost identical error:\r\n\r\n    java.lang.IllegalArgumentException: OUT/INOUT parameter not available: 1\r\n","title":"Spring Boot Data JPA receive Multiple Out Parameters from stored procedure","body":"<p>I'm trying to call stored procedure with multiple out parameters via Spring Boot Data JPA (v2.2.6), but receive an error:</p>\n\n<pre><code>DEBUG [http-nio-8080-exec-1] org.hibernate.engine.jdbc.spi.SqlStatementLogger: {call TEST_SP(?,?,?)}\nRACE [http-nio-8080-exec-1] org.hibernate.type.descriptor.sql.BasicBinder: binding parameter [DOC_NAME] as [VARCHAR] - [ololo]\nERROR [http-nio-8080-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: OUT/INOUT parameter not available: DOC_ID; nested exception is java.lang.IllegalArgumentException: OUT/INOUT parameter not available: DOC_ID] with root cause\njava.lang.IllegalArgumentException: OUT/INOUT parameter not available: DOC_ID\n</code></pre>\n\n<p>Stored procedure in MS SQL Server 2012:</p>\n\n<pre><code>CREATE PROCEDURE [dbo].[TEST_SP]\n    @DOC_ID bigint output,\n    @DOC_GUID nvarchar(255) output,\n    @DOC_NAME nvarchar(255)\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    SELECT @DOC_ID = 6666, @DOC_GUID = @DOC_NAME\nEND\n</code></pre>\n\n<p>Here my entity (it is not related to SP):</p>\n\n<pre><code>@Data\n@Entity\n@NamedStoredProcedureQuery(name = \"SomeEntity.test\", procedureName = \"TEST_SP\", parameters = {\n        @StoredProcedureParameter(mode = ParameterMode.OUT, name = \"DOC_ID\", type = Long.class),\n        @StoredProcedureParameter(mode = ParameterMode.OUT, name = \"DOC_GUID\", type = String.class),\n        @StoredProcedureParameter(mode = ParameterMode.IN, name = \"DOC_NAME\", type = String.class)\n})\n@Table(name = \"DOCUMENT_DATA\")\npublic class SomeEntity {\n    // some variables\n}\n</code></pre>\n\n<p>Here my repository:</p>\n\n<pre><code>public interface SomeRepository extends JpaRepository&lt;SomeEntity, Long&gt; {\n\n    @Procedure(name = \"SomeEntity.test\")\n    Map&lt;String, Object&gt; testSp(@Param(\"DOC_NAME\") String docName);\n}\n</code></pre>\n\n<p>Here how I call it:</p>\n\n<pre><code>@RestController\npublic class Controller {\n\n    @Autowired\n    SomeRepository repository;\n\n    @GetMapping(\"test\")\n    String test() {\n        return repository.testSp(\"ololo\").toString();\n    }\n}\n</code></pre>\n\n<p>As example I used these links: \n<a href=\"https://github.com/spring-projects/spring-data-jpa/blob/master/src/test/java/org/springframework/data/jpa/domain/sample/User.java#L77\" rel=\"noreferrer\">https://github.com/spring-projects/spring-data-jpa/blob/master/src/test/java/org/springframework/data/jpa/domain/sample/User.java#L77</a>\n<a href=\"https://github.com/spring-projects/spring-data-jpa/blob/e27933455efa6d1821dea23abd2bbe109b5d59a7/src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java#L362\" rel=\"noreferrer\">https://github.com/spring-projects/spring-data-jpa/blob/e27933455efa6d1821dea23abd2bbe109b5d59a7/src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java#L362</a></p>\n\n<p><strong>Upd:</strong> I've tried with Oracle 11g</p>\n\n<pre><code>CREATE OR REPLACE PROCEDURE test_sp(x OUT INTEGER, y OUT INTEGER) AS\nBEGIN\n  x := 17; y := 93;\nEND;\n\n\n@NamedStoredProcedureQuery(name = \"EstatementsDataEntity.test\", procedureName = \"test_sp\", parameters = {\n        @StoredProcedureParameter(mode = ParameterMode.OUT, name = \"x\", type = Integer.class),\n        @StoredProcedureParameter(mode = ParameterMode.OUT, name = \"y\", type = Integer.class)\n})\n</code></pre>\n\n<p>But receive almost identical error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: OUT/INOUT parameter not available: 1\n</code></pre>\n"},{"tags":["java","android","audio","graph","mp3"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1463861271,"post_id":37367448,"comment_id":62247790,"body_markdown":"Why is decoding too slow?","body":"Why is decoding too slow?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1463861305,"post_id":37367448,"comment_id":62247797,"body_markdown":"Can you read a book without opening it?","body":"Can you read a book without opening it?"},{"owner":{"account_id":8488481,"reputation":61,"user_id":6365711,"display_name":"Hoa Nguyen"},"score":0,"creation_date":1463861457,"post_id":37367448,"comment_id":62247851,"body_markdown":"I followed an instruction here https://github.com/taehwandev/MediaCodecExample. But it takes my phone 30~1min to decode a mp3 audio. \n\nYeah I know that&#39;s a dumb question but just looking for some hope","body":"I followed an instruction here <a href=\"https://github.com/taehwandev/MediaCodecExample\" rel=\"nofollow noreferrer\">github.com/taehwandev/MediaCodecExample</a>. But it takes my phone 30~1min to decode a mp3 audio.   Yeah I know that&#39;s a dumb question but just looking for some hope"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1463863014,"post_id":37367448,"comment_id":62248307,"body_markdown":"@ElliottFrisch, I think it&#39;s a reasonable question.  An MP3 file is not just a simple representation of a waveform.  It&#39;s a much higher-level representation of what the signal sounds like to a human ear.  Unfortunately, I have not worked with that algorithm, so I don&#39;t know the answer, but it seems quite reasonable to ask whether one could extract just a low-res version of the amplitude envelope without doing all the work to fully reconstruct the original waveform.","body":"@ElliottFrisch, I think it&#39;s a reasonable question.  An MP3 file is not just a simple representation of a waveform.  It&#39;s a much higher-level representation of what the signal sounds like to a human ear.  Unfortunately, I have not worked with that algorithm, so I don&#39;t know the answer, but it seems quite reasonable to ask whether one could extract just a low-res version of the amplitude envelope without doing all the work to fully reconstruct the original waveform."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1463863670,"post_id":37367448,"comment_id":62248488,"body_markdown":"@jameslarge Perhaps it sounds reasonable, but MP3 is a *lossy* compression algorithm of the waveform (you have to *decode* it to retrieve the waveform). My analogy may not be perfect, but it fits.","body":"@jameslarge Perhaps it sounds reasonable, but MP3 is a <i>lossy</i> compression algorithm of the waveform (you have to <i>decode</i> it to retrieve the waveform). My analogy may not be perfect, but it fits."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1463863970,"post_id":37367448,"comment_id":62248576,"body_markdown":"Yes, you have to decode it to retrieve the waveform, but you might not have to _fully_ decode it to retrieve the amplitude envelope.","body":"Yes, you have to decode it to retrieve the waveform, but you might not have to <i>fully</i> decode it to retrieve the amplitude envelope."},{"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"score":0,"creation_date":1638276999,"post_id":37367448,"comment_id":124040840,"body_markdown":"Might I suggest running your code on a PC? An average consumer pc-cpu should be able to run much more complex instructions than a smartphone cpu and thus cut your computation time by a significant margin. Most likely below 10 seconds.  I just noticed he wants to run this in an App. My bad","body":"Might I suggest running your code on a PC? An average consumer pc-cpu should be able to run much more complex instructions than a smartphone cpu and thus cut your computation time by a significant margin. Most likely below 10 seconds.  I just noticed he wants to run this in an App. My bad"}],"owner":{"account_id":8488481,"reputation":61,"user_id":6365711,"display_name":"Hoa Nguyen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1638273781,"creation_date":1463860902,"question_id":37367448,"body_markdown":"Actually, I need to draw a graph of amplitude for my app, but decoding takes too long time and I want to get rid of it. Could anybody show me a proper way to do that? ","title":"Can we read amplitude of an MP3 audio without decoding?","body":"<p>Actually, I need to draw a graph of amplitude for my app, but decoding takes too long time and I want to get rid of it. Could anybody show me a proper way to do that?</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1481459480,"post_id":41086162,"comment_id":69377465,"body_markdown":"Based and derived are more commonly used for c#, but java is more like parent class and child class","body":"Based and derived are more commonly used for c#, but java is more like parent class and child class"}],"answers":[{"tags":[],"owner":{"account_id":876062,"reputation":1329,"user_id":925684,"display_name":"TigOldBitties"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1481460205,"creation_date":1481460205,"answer_id":41086290,"question_id":41086162,"body_markdown":"As I understand it, going to the lowest level, when you instantiate a derived class in a statically typed language, it is stored in memory with the parent class delimited in memory from the child class. When you access the instance, based on what type you retrieve it as, it will access the same memory area as either the entire memory area of the instance or only the base part area of the memory. However the base class methods will point towards the derived class in case they&#39;re overridden in derived classes.\r\n\r\nIt&#39;s not a good answer, it&#39;s just how it&#39;s been retained in my memory while working in OOP environments.\r\n\r\nIn any case there are tons of literature on the subject which can help you clarify OOP better than I ever could in a SO answer.\r\n\r\n","title":"Understanding the Java Base class and Derived Class","body":"<p>As I understand it, going to the lowest level, when you instantiate a derived class in a statically typed language, it is stored in memory with the parent class delimited in memory from the child class. When you access the instance, based on what type you retrieve it as, it will access the same memory area as either the entire memory area of the instance or only the base part area of the memory. However the base class methods will point towards the derived class in case they're overridden in derived classes.</p>\n\n<p>It's not a good answer, it's just how it's been retained in my memory while working in OOP environments.</p>\n\n<p>In any case there are tons of literature on the subject which can help you clarify OOP better than I ever could in a SO answer.</p>\n"},{"tags":[],"owner":{"account_id":9827531,"reputation":21,"user_id":7280283,"display_name":"Hari Krishna Bobba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481464632,"creation_date":1481464632,"answer_id":41086953,"question_id":41086162,"body_markdown":"When you are extending a class, the derived class actually inherits methods from base class.The derived class object contains all the methods and variables of derived class and super class.But if any methods are overridden, the derived class object refers to overridden method.\r\nThat means first priority goes to derived class.If compiler does not find that method in derived class, then it checks in base class.\r\n\r\nsuper.setValues(10,20) calls super class method since you have used super keyword.If you use it without super keyword, then it checks in derived class first.\r\n","title":"Understanding the Java Base class and Derived Class","body":"<p>When you are extending a class, the derived class actually inherits methods from base class.The derived class object contains all the methods and variables of derived class and super class.But if any methods are overridden, the derived class object refers to overridden method.\nThat means first priority goes to derived class.If compiler does not find that method in derived class, then it checks in base class.</p>\n\n<p>super.setValues(10,20) calls super class method since you have used super keyword.If you use it without super keyword, then it checks in derived class first.</p>\n"}],"owner":{"account_id":7822884,"reputation":75,"user_id":5915461,"accept_rate":75,"display_name":"gauri pranaya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1638279517,"accepted_answer_id":41086290,"answer_count":2,"score":-1,"last_activity_date":1638273626,"creation_date":1481459319,"question_id":41086162,"body_markdown":"I was searching the Internet to understand the concept of Base class and derived class. I have a question on if derived class contains all the variables and methods of a base class or derived class just refers to base class variables and methods.\r\n\r\nWhen I extend a class from Base class and create an object of derived class, does the derived class object act as container containing a Base class object + its own variables and methods? Is the Base class object copied inline? When I call super class method super.setValues (10,20), does it call Super class, set the values, and copy these value inline?\r\n\r\nI am confused over the internal workings of the code? Can somebody please explain?\r\n\r\n","title":"Understanding the Java Base class and Derived Class","body":"<p>I was searching the Internet to understand the concept of Base class and derived class. I have a question on if derived class contains all the variables and methods of a base class or derived class just refers to base class variables and methods.</p>\n<p>When I extend a class from Base class and create an object of derived class, does the derived class object act as container containing a Base class object + its own variables and methods? Is the Base class object copied inline? When I call super class method super.setValues (10,20), does it call Super class, set the values, and copy these value inline?</p>\n<p>I am confused over the internal workings of the code? Can somebody please explain?</p>\n"},{"tags":["java","spring","spring-boot","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":8625,"reputation":2119,"user_id":15627,"accept_rate":86,"display_name":"Lars Westergren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638273485,"creation_date":1638273485,"answer_id":70169006,"question_id":66058439,"body_markdown":"Generally WebMvcTest will not create a full Spring context with all components (Service etc) injected, but only the Controller you define. Either use a full SpringBootTest, or add something like this in your WebMvcTest class:\r\n\r\n    @TestConfiguration\r\n    static class AdditionalTestConfig {\r\n        @Bean\r\n        public RolesManagerService getService() {\r\n            return new RolesManagerService();\r\n        }\r\n    }\r\n\r\n","title":"WebMvcTest with real service implementation","body":"<p>Generally WebMvcTest will not create a full Spring context with all components (Service etc) injected, but only the Controller you define. Either use a full SpringBootTest, or add something like this in your WebMvcTest class:</p>\n<pre><code>@TestConfiguration\nstatic class AdditionalTestConfig {\n    @Bean\n    public RolesManagerService getService() {\n        return new RolesManagerService();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5351697,"reputation":77,"user_id":4265671,"display_name":"kk2449"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638273485,"creation_date":1612505599,"question_id":66058439,"body_markdown":"how can I create a &quot;quasi&quot; MVC integration test in Spring Boot. I would like to use my real implementation of a service, but I can&#39;t mange to do it. How can I inject real implementation instead of a mock.\r\nMy classes look like this\r\n\r\n    @Controller\r\n    @RequiredArgsConstructor\r\n    public class DashboardController {\r\n    \r\n        private final RolesManagerService rolesManagerService;\r\n        private final ServletRequestManagerService servletRequestManagerService;\r\n    \r\n        @GetMapping({&quot;/&quot;, &quot;/dashboard&quot;})\r\n        public String index(Model model, HttpServletRequest httpServletRequest) {\r\n            model.addAttribute(&quot;canAddNewOrder&quot;, rolesManagerService.canRoleAccessApplicationPart(servletRequestManagerService.getRole(httpServletRequest), ApplicationPart.CREATE_NEW_ORDER));\r\n            model.addAttribute(&quot;var&quot;, &quot;test&quot;);\r\n            return &quot;dashboard&quot;;\r\n        }\r\n    }\r\n\r\nand the test\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(controllers = DashboardController.class)\r\n    @AutoConfigureMockMvc\r\n    class IndexControllerTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @MockBean\r\n        RolesManagerService rolesManagerService;\r\n        @MockBean\r\n        private ServletRequestManagerService servletRequestManagerService;\r\n    \r\n        @Test\r\n        void testDashboard() throws Exception {\r\n            mockMvc.perform(get(&quot;/dashboard&quot;).with(user(&quot;admin&quot;).password(&quot;pass&quot;).roles(&quot;USER&quot;,&quot;ADMIN&quot;)))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(view().name(&quot;dashboard&quot;))\r\n                    .andExpect(xpath(&quot;//a&quot;).nodeCount(1))\r\n                    .andExpect(model().attributeExists(&quot;canAddNewOrder&quot;))\r\n                    .andExpect(model().size(2))\r\n                    .andExpect(model().attribute(&quot;var&quot;, equalTo(&quot;test&quot;)))\r\n                    .andExpect(model().attribute(&quot;canAddNewOrder&quot;, equalTo(false)))\r\n                    .andDo(print());\r\n        }\r\n    \r\n    }","title":"WebMvcTest with real service implementation","body":"<p>how can I create a &quot;quasi&quot; MVC integration test in Spring Boot. I would like to use my real implementation of a service, but I can't mange to do it. How can I inject real implementation instead of a mock.\nMy classes look like this</p>\n<pre><code>@Controller\n@RequiredArgsConstructor\npublic class DashboardController {\n\n    private final RolesManagerService rolesManagerService;\n    private final ServletRequestManagerService servletRequestManagerService;\n\n    @GetMapping({&quot;/&quot;, &quot;/dashboard&quot;})\n    public String index(Model model, HttpServletRequest httpServletRequest) {\n        model.addAttribute(&quot;canAddNewOrder&quot;, rolesManagerService.canRoleAccessApplicationPart(servletRequestManagerService.getRole(httpServletRequest), ApplicationPart.CREATE_NEW_ORDER));\n        model.addAttribute(&quot;var&quot;, &quot;test&quot;);\n        return &quot;dashboard&quot;;\n    }\n}\n</code></pre>\n<p>and the test</p>\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(controllers = DashboardController.class)\n@AutoConfigureMockMvc\nclass IndexControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private UserDetailsService userDetailsService;\n\n    @MockBean\n    RolesManagerService rolesManagerService;\n    @MockBean\n    private ServletRequestManagerService servletRequestManagerService;\n\n    @Test\n    void testDashboard() throws Exception {\n        mockMvc.perform(get(&quot;/dashboard&quot;).with(user(&quot;admin&quot;).password(&quot;pass&quot;).roles(&quot;USER&quot;,&quot;ADMIN&quot;)))\n                .andExpect(status().isOk())\n                .andExpect(view().name(&quot;dashboard&quot;))\n                .andExpect(xpath(&quot;//a&quot;).nodeCount(1))\n                .andExpect(model().attributeExists(&quot;canAddNewOrder&quot;))\n                .andExpect(model().size(2))\n                .andExpect(model().attribute(&quot;var&quot;, equalTo(&quot;test&quot;)))\n                .andExpect(model().attribute(&quot;canAddNewOrder&quot;, equalTo(false)))\n                .andDo(print());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638190257,"post_id":70153771,"comment_id":124013983,"body_markdown":"Spring Conversion is from one type to another. You are doing String to Double conversion for which a converter is already present. You want to interpret Strings and based on that calculate something, that isn&#39;t something that is part of the Spring type conversion system. It would work if you had a `Percentage` class you could then create a `StringToPercentageConverter` (and vice-versa).","body":"Spring Conversion is from one type to another. You are doing String to Double conversion for which a converter is already present. You want to interpret Strings and based on that calculate something, that isn&#39;t something that is part of the Spring type conversion system. It would work if you had a <code>Percentage</code> class you could then create a <code>StringToPercentageConverter</code> (and vice-versa)."},{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1638190838,"post_id":70153771,"comment_id":124014243,"body_markdown":"True, I could create a bespoke `Percentage` but that still puts effort onto app dev to know about it and ends up with a dubious pattern of `void setValue(Percentage)` setting a `double value;`","body":"True, I could create a bespoke <code>Percentage</code> but that still puts effort onto app dev to know about it and ends up with a dubious pattern of <code>void setValue(Percentage)</code> setting a <code>double value;</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638191022,"post_id":70153771,"comment_id":124014329,"body_markdown":"You should be setting a `Percentage` not a `double` in the first place.","body":"You should be setting a <code>Percentage</code> not a <code>double</code> in the first place."},{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1638191456,"post_id":70153771,"comment_id":124014552,"body_markdown":"If Java supported aliases sure but I don&#39;t feel great about wrapping primitives in classes just to get them into the system. There&#39;s plenty of prior here: spring NumberUtil supports all sorts of patterns into `Number` ... just not this one.","body":"If Java supported aliases sure but I don&#39;t feel great about wrapping primitives in classes just to get them into the system. There&#39;s plenty of prior here: spring NumberUtil supports all sorts of patterns into <code>Number</code> ... just not this one."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638191597,"post_id":70153771,"comment_id":124014612,"body_markdown":"`NumberUtils` is for converting a number (hex or plain number) into a number, it isn&#39;t for converting a string into something else. Nor is Spring `Converter` system usable for this as it is for type conversion, not for interpreting strings and parse them into something else.","body":"<code>NumberUtils</code> is for converting a number (hex or plain number) into a number, it isn&#39;t for converting a string into something else. Nor is Spring <code>Converter</code> system usable for this as it is for type conversion, not for interpreting strings and parse them into something else."}],"answers":[{"tags":[],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638273445,"creation_date":1638273445,"answer_id":70168998,"question_id":70153771,"body_markdown":"Self answer as no one proposes anything better than defining a bespoke class. \r\n\r\nThis is a clumsy example, you can make the parsing/formatting as flexible as you wish but doing it with a static `valueOf(String)` method means it gets picked up automatically by Spring (and other libraries like Jackson) without needing any further bespoke converters.\r\n\r\n```java\r\npublic class Percent {\r\n    public final double value;\r\n\r\n    public static Percent valueOf(String source) {\r\n        if (&#39;%&#39; == source.charAt(source.length() - 1)) {\r\n            return new Percent(Double.parseDouble(source.substring(0, source.length() - 1)) / 100);\r\n        }\r\n        throw new NumberFormatException(source + &quot; not a percentage&quot;);\r\n    }\r\n\r\n    public Percent(double value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return Double.toString(value * 100) + &#39;%&#39;;\r\n    }\r\n}\r\n```","title":"How to write a Spring property Converter for percentage to double","body":"<p>Self answer as no one proposes anything better than defining a bespoke class.</p>\n<p>This is a clumsy example, you can make the parsing/formatting as flexible as you wish but doing it with a static <code>valueOf(String)</code> method means it gets picked up automatically by Spring (and other libraries like Jackson) without needing any further bespoke converters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Percent {\n    public final double value;\n\n    public static Percent valueOf(String source) {\n        if ('%' == source.charAt(source.length() - 1)) {\n            return new Percent(Double.parseDouble(source.substring(0, source.length() - 1)) / 100);\n        }\n        throw new NumberFormatException(source + &quot; not a percentage&quot;);\n    }\n\n    public Percent(double value) {\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return Double.toString(value * 100) + '%';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638273445,"creation_date":1638184761,"question_id":70153771,"body_markdown":"I want a Spring-Boot app to bind percentages to `int` or `double` properties without custom parsing per setter. Since it is doesn&#39;t have built-in support via [NumberUtils][1], this means using their Converter API but I can&#39;t find the way to do that - augmenting `Number`/primitive parsing is more complex than simply supporting a new type.\r\n\r\nI want this minimal example to work, though equally happy if parsing `50%` returned `50d` instead of `0.5d`...\r\n```java\r\npublic class MyApp {\r\n  @Bean\r\n  public MyApp bean(@Value(&quot;50%&quot;) double percent, @Value(&quot;0.5&quot;) double real) {\r\n    assert percent == real;\r\n    return null;\r\n  }\r\n\r\n  public static void main(String[] args) { SpringApplication.run(MyApp.class, args); }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/util/NumberUtils.java","title":"How to write a Spring property Converter for percentage to double","body":"<p>I want a Spring-Boot app to bind percentages to <code>int</code> or <code>double</code> properties without custom parsing per setter. Since it is doesn't have built-in support via <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/util/NumberUtils.java\" rel=\"nofollow noreferrer\">NumberUtils</a>, this means using their Converter API but I can't find the way to do that - augmenting <code>Number</code>/primitive parsing is more complex than simply supporting a new type.</p>\n<p>I want this minimal example to work, though equally happy if parsing <code>50%</code> returned <code>50d</code> instead of <code>0.5d</code>...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyApp {\n  @Bean\n  public MyApp bean(@Value(&quot;50%&quot;) double percent, @Value(&quot;0.5&quot;) double real) {\n    assert percent == real;\n    return null;\n  }\n\n  public static void main(String[] args) { SpringApplication.run(MyApp.class, args); }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1366105,"reputation":4796,"user_id":1302488,"accept_rate":25,"display_name":"Yogesh Prajapati"},"score":0,"creation_date":1583405113,"post_id":60543507,"comment_id":107108563,"body_markdown":"Please provide the sample how yare you calling WCF, via browser or any other tool ? might be java guy don&#39;t knoe WCF.","body":"Please provide the sample how yare you calling WCF, via browser or any other tool ? might be java guy don&#39;t knoe WCF."},{"owner":{"account_id":17131749,"reputation":21,"user_id":12397692,"display_name":"Sheena"},"score":0,"creation_date":1583405329,"post_id":60543507,"comment_id":107108722,"body_markdown":"Actually we just created a WCF in .Net and one of our client is trying to call it in Java but they are unable to do so. They are getting error for operation contract mismatch","body":"Actually we just created a WCF in .Net and one of our client is trying to call it in Java but they are unable to do so. They are getting error for operation contract mismatch"}],"answers":[{"tags":[],"owner":{"account_id":5598570,"reputation":75,"user_id":4435465,"display_name":"vijay "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583405265,"creation_date":1583405265,"answer_id":60543616,"question_id":60543507,"body_markdown":"You can consume the webservice using Java there are different frameworks to make your job easier, like [AXIS][1] and [Apache CXF][2]\r\n\r\nLook at following article for more details\r\n\r\n[Consuming WCF services with Java][3]\r\n\r\n\r\n  [1]: http://axis.apache.org/axis/\r\n  [2]: http://cxf.apache.org/\r\n  [3]: http://www.hoonzis.com/consuming-wcf-services-with-java-client/","title":"How to Call a WCF service in java","body":"<p>You can consume the webservice using Java there are different frameworks to make your job easier, like <a href=\"http://axis.apache.org/axis/\" rel=\"nofollow noreferrer\">AXIS</a> and <a href=\"http://cxf.apache.org/\" rel=\"nofollow noreferrer\">Apache CXF</a></p>\n\n<p>Look at following article for more details</p>\n\n<p><a href=\"http://www.hoonzis.com/consuming-wcf-services-with-java-client/\" rel=\"nofollow noreferrer\">Consuming WCF services with Java</a></p>\n"},{"tags":[],"owner":{"account_id":1089246,"reputation":1349,"user_id":1084266,"accept_rate":62,"display_name":"Sunil Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583405399,"creation_date":1583405399,"answer_id":60543659,"question_id":60543507,"body_markdown":"For Java client application, I think you can generate the proxy class from Eclipse and invoke the call to WCF service.\r\n\r\nThe general steps are as follows:\r\n\r\n1. Prepare the WCF service and run the service.\r\n\r\n2. Create the Java client application in Eclipse IDE, and name the project, like WCFClientApp in this case.\r\n\r\nYou can follow this blog for better practical understanding\r\nhttps://www.codeproject.com/Articles/777036/Consuming-WCF-Service-in-Java-Client","title":"How to Call a WCF service in java","body":"<p>For Java client application, I think you can generate the proxy class from Eclipse and invoke the call to WCF service.</p>\n\n<p>The general steps are as follows:</p>\n\n<ol>\n<li><p>Prepare the WCF service and run the service.</p></li>\n<li><p>Create the Java client application in Eclipse IDE, and name the project, like WCFClientApp in this case.</p></li>\n</ol>\n\n<p>You can follow this blog for better practical understanding\n<a href=\"https://www.codeproject.com/Articles/777036/Consuming-WCF-Service-in-Java-Client\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/777036/Consuming-WCF-Service-in-Java-Client</a></p>\n"},{"tags":[],"owner":{"account_id":7921530,"reputation":1,"user_id":5982356,"display_name":"Wayne Redelinghuys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638273389,"creation_date":1638273389,"answer_id":70168981,"question_id":60543507,"body_markdown":"You can make a direct call using HttpURLConnection in the Java.Net library\r\n\r\n    URL url = new URL(&quot;https://{ApiEndpoint}/v2/EmailMarketing.svc/SendEmail&quot;);\r\n    HttpURLConnection http = (HttpURLConnection)url.openConnection();\r\n    http.setRequestMethod(&quot;POST&quot;);\r\n    http.setDoOutput(true);\r\n    http.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    http.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n    String data = &quot;{\\&quot;Id\\&quot;: 78912, \\&quot;Quantity\\&quot;: 1, \\&quot;Price\\&quot;: 19.00}&quot;;\r\n\r\n    byte[] out = data.getBytes(StandardCharsets.UTF_8);\r\n\r\n    OutputStream stream = http.getOutputStream();\r\n    stream.write(out);\r\n\r\n    System.out.println(http.getResponseCode() + &quot; &quot; + \r\n    http.getResponseMessage());\r\n    http.disconnect();","title":"How to Call a WCF service in java","body":"<p>You can make a direct call using HttpURLConnection in the Java.Net library</p>\n<pre><code>URL url = new URL(&quot;https://{ApiEndpoint}/v2/EmailMarketing.svc/SendEmail&quot;);\nHttpURLConnection http = (HttpURLConnection)url.openConnection();\nhttp.setRequestMethod(&quot;POST&quot;);\nhttp.setDoOutput(true);\nhttp.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\nhttp.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n\nString data = &quot;{\\&quot;Id\\&quot;: 78912, \\&quot;Quantity\\&quot;: 1, \\&quot;Price\\&quot;: 19.00}&quot;;\n\nbyte[] out = data.getBytes(StandardCharsets.UTF_8);\n\nOutputStream stream = http.getOutputStream();\nstream.write(out);\n\nSystem.out.println(http.getResponseCode() + &quot; &quot; + \nhttp.getResponseMessage());\nhttp.disconnect();\n</code></pre>\n"}],"owner":{"account_id":17131749,"reputation":21,"user_id":12397692,"display_name":"Sheena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1955,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1638273389,"creation_date":1583404918,"question_id":60543507,"body_markdown":"I am new to Java and I need to call a WCF. Is there any way in Java that I do not need to consume it and can directly hit the url to get response?","title":"How to Call a WCF service in java","body":"<p>I am new to Java and I need to call a WCF. Is there any way in Java that I do not need to consume it and can directly hit the url to get response?</p>\n"},{"tags":["java","php","api","cs-cart"],"answers":[{"tags":[],"owner":{"account_id":20737467,"reputation":36,"user_id":15228005,"display_name":"Nilesh G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1628941919,"creation_date":1628939553,"answer_id":68782747,"question_id":66802527,"body_markdown":"You need to provide\r\n\r\n 1. Auth Email\r\n 2. Auth Password\r\n\r\nin Basic Oth in Postman","title":"CS CART API Login Post URL","body":"<p>You need to provide</p>\n<ol>\n<li>Auth Email</li>\n<li>Auth Password</li>\n</ol>\n<p>in Basic Oth in Postman</p>\n"},{"tags":[],"owner":{"account_id":1412957,"reputation":309,"user_id":1339207,"accept_rate":28,"display_name":"Kiriakos Grhgoriadhs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638273141,"creation_date":1638273141,"answer_id":70168930,"question_id":66802527,"body_markdown":"How do your make this call, via CURL I guesss?\r\n\r\nYou need to provide user&#39;s email and API KEY generated for this user, base64 encoded.\r\n\r\nFor example you could have:\r\n\r\n    $user = &quot;test@example.com&quot;;\r\n    $api = &quot;api_generated_through_edit_user&quot;;\r\n    \r\n    $base64 = base64_encode($user.&quot;:&quot;.$api);\r\n\r\nhaving this piece of code, you could add it to the `CURLOPT_HTTPHEADER` of your CURL request, like so:\r\n\r\n    ...\r\n    ...\r\n    CURLOPT_HTTPHEADER =&gt; array(\r\n                    &quot;Authorization: Basic &quot; $base64 ,\r\n                    &quot;Content-Type: application/json&quot;,\r\n                    &quot;cache-control: no-cache&quot;\r\n                ),\r\n    ...\r\n    ...\r\n\r\nYou may also want to take a look here:\r\nhttps://forum.cs-cart.com/topic/55511-update-product-via-rest-api/\r\n\r\nLast but not least, where do you want to make the redirect?\r\nFor eaxmple, you could have sothing like this:\r\n\r\n    return array(CONTROLLER_STATUS_OK, &quot;products.manage&quot;);","title":"CS CART API Login Post URL","body":"<p>How do your make this call, via CURL I guesss?</p>\n<p>You need to provide user's email and API KEY generated for this user, base64 encoded.</p>\n<p>For example you could have:</p>\n<pre><code>$user = &quot;test@example.com&quot;;\n$api = &quot;api_generated_through_edit_user&quot;;\n\n$base64 = base64_encode($user.&quot;:&quot;.$api);\n</code></pre>\n<p>having this piece of code, you could add it to the <code>CURLOPT_HTTPHEADER</code> of your CURL request, like so:</p>\n<pre><code>...\n...\nCURLOPT_HTTPHEADER =&gt; array(\n                &quot;Authorization: Basic &quot; $base64 ,\n                &quot;Content-Type: application/json&quot;,\n                &quot;cache-control: no-cache&quot;\n            ),\n...\n...\n</code></pre>\n<p>You may also want to take a look here:\n<a href=\"https://forum.cs-cart.com/topic/55511-update-product-via-rest-api/\" rel=\"nofollow noreferrer\">https://forum.cs-cart.com/topic/55511-update-product-via-rest-api/</a></p>\n<p>Last but not least, where do you want to make the redirect?\nFor eaxmple, you could have sothing like this:</p>\n<pre><code>return array(CONTROLLER_STATUS_OK, &quot;products.manage&quot;);\n</code></pre>\n"}],"owner":{"account_id":10051508,"reputation":39,"user_id":7431183,"display_name":"muaz butt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68782747,"answer_count":2,"score":0,"last_activity_date":1638273141,"creation_date":1616685610,"question_id":66802527,"body_markdown":"There is an auth attribute having 2 parameters, but it didn&#39;t work\r\n\r\n`http://example.com/api/auth?email=example@gmail.com`\r\n\r\nThe output of the URL is \r\n```\r\n{\r\n    &quot;message&quot;: &quot;Method Not Allowed: Missing parameters&quot;,\r\n    &quot;status&quot;: 405\r\n}\r\n```\r\n\r\nAlso, the redirection_url parameter is not working. \r\n\r\nPlease help me fix this. ","title":"CS CART API Login Post URL","body":"<p>There is an auth attribute having 2 parameters, but it didn't work</p>\n<p><code>http://example.com/api/auth?email=example@gmail.com</code></p>\n<p>The output of the URL is</p>\n<pre><code>{\n    &quot;message&quot;: &quot;Method Not Allowed: Missing parameters&quot;,\n    &quot;status&quot;: 405\n}\n</code></pre>\n<p>Also, the redirection_url parameter is not working.</p>\n<p>Please help me fix this.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1638272908,"post_id":70168854,"comment_id":124039304,"body_markdown":"Okay... Do you have a question regarding this information?","body":"Okay... Do you have a question regarding this information?"},{"owner":{"account_id":2225264,"reputation":3565,"user_id":1972388,"accept_rate":77,"display_name":"DevWithZachary"},"score":0,"creation_date":1638272926,"post_id":70168854,"comment_id":124039312,"body_markdown":"Welcome to Stack Overflow! Please visit [help](https://stackoverflow.com/help) center, take [tour](https://stackoverflow.com/tour) to learn the basics and [How to Ask](https://stackoverflow.com/help/how-to-ask). \nDo some research,search for related topics on SO; \nif you get stuck, post a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of your attempt, noting input and expected output.","body":"Welcome to Stack Overflow! Please visit <a href=\"https://stackoverflow.com/help\">help</a> center, take <a href=\"https://stackoverflow.com/tour\">tour</a> to learn the basics and <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>.  Do some research,search for related topics on SO;  if you get stuck, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your attempt, noting input and expected output."}],"answers":[{"tags":[],"owner":{"account_id":9748857,"reputation":4106,"user_id":7227834,"display_name":"AmrDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638273020,"creation_date":1638273020,"answer_id":70168906,"question_id":70168854,"body_markdown":"You can use Regex named group to get them or use split by space\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    String text = &quot;Rock 12 10 0&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;([a-zA-Z0-9]+) ([0-9]+) ([0-9]+) ([0-9]+)&quot;);\r\n    Matcher matcher = pattern.matcher(text);\r\n    while (matcher.find()) {\r\n        String name = matcher.group(1);\r\n        String maximum_health = matcher.group(2);\r\n        String current_health = matcher.group(3);\r\n        String no_of_wins = matcher.group(4);\r\n        Player player = new Player(name, maximum_health, current_health, no_of_wins);\r\n    }\r\n}\r\n```","title":"I wanted to create a java Object by reading a text file","body":"<p>You can use Regex named group to get them or use split by space</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    String text = &quot;Rock 12 10 0&quot;;\n    Pattern pattern = Pattern.compile(&quot;([a-zA-Z0-9]+) ([0-9]+) ([0-9]+) ([0-9]+)&quot;);\n    Matcher matcher = pattern.matcher(text);\n    while (matcher.find()) {\n        String name = matcher.group(1);\n        String maximum_health = matcher.group(2);\n        String current_health = matcher.group(3);\n        String no_of_wins = matcher.group(4);\n        Player player = new Player(name, maximum_health, current_health, no_of_wins);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21445224,"reputation":33,"user_id":15798915,"display_name":"Pratik Gaikwad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70168906,"answer_count":1,"score":-1,"last_activity_date":1638273139,"creation_date":1638272796,"question_id":70168854,"body_markdown":"The text file contains the following data :\r\n```\r\nRock\r\n12\r\n10\r\n0\r\n```\r\nI want to use this data and add as properties to the Object.\r\nThe Object Name is the player and the properties are:\r\n  - name\r\n  - maximum_health\r\n  - current_health\r\n  - no_of_wins\r\n\r\nSo when the object is created the player.name is `&quot;Rock&quot;`, player.maximum_health is `12`, player.current_health is `10` and player.no_of_wins is `0`.","title":"I wanted to create a java Object by reading a text file","body":"<p>The text file contains the following data :</p>\n<pre><code>Rock\n12\n10\n0\n</code></pre>\n<p>I want to use this data and add as properties to the Object.\nThe Object Name is the player and the properties are:</p>\n<ul>\n<li>name</li>\n<li>maximum_health</li>\n<li>current_health</li>\n<li>no_of_wins</li>\n</ul>\n<p>So when the object is created the player.name is <code>&quot;Rock&quot;</code>, player.maximum_health is <code>12</code>, player.current_health is <code>10</code> and player.no_of_wins is <code>0</code>.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-batch"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1388763813,"post_id":20907206,"comment_id":31383844,"body_markdown":"I&#39;m not familiar with spring batch, but it looks as though some thread local stuff isn&#39;t getting cleaned up on completion of a job.  I&#39;d look into that, google may have some good results.","body":"I&#39;m not familiar with spring batch, but it looks as though some thread local stuff isn&#39;t getting cleaned up on completion of a job.  I&#39;d look into that, google may have some good results."},{"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"score":0,"creation_date":1389055740,"post_id":20907206,"comment_id":31488888,"body_markdown":"Can you post more results if you have them?","body":"Can you post more results if you have them?"},{"owner":{"account_id":2695184,"reputation":752,"user_id":2327445,"display_name":"Nitish Kumar"},"score":0,"creation_date":1562150410,"post_id":20907206,"comment_id":100285170,"body_markdown":"Any update on this ? Struggling with the same issue","body":"Any update on this ? Struggling with the same issue"}],"answers":[{"tags":[],"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1638273046,"creation_date":1389054978,"answer_id":20961958,"question_id":20907206,"body_markdown":"The error comes from JpaTransactionManager line 403:\r\n\r\n    TransactionSynchronizationManager.bindResource(getDataSource(), conHolder);\r\n\r\nThe error means that the transaction manager is trying to bind the **datasource** (not the entity manager) to the thread, but the datasource is already there and this is unexpected. \r\n\r\nNote that the transaction manager had not started yet to bind the Entity Manager to the thread, that would happen next at JpaTransactionManager line 416:\r\n\r\nThere are two possible explanations:\r\n\r\n - Somebody (another transaction manager?) is adding the datasource to the thread before the transaction manager and this is unexpected.\r\n\r\n - Or no one is adding the datasource to the transaction manager, is just that at the end of the task execution no one cleans the thread before returning it to the pool, maybe due an error or an unhandled exception.\r\n\r\nOne question, does this also happen for only one execution thread, or only when there are several?\r\n\r\nTo find out what the problem is, these are some steps:\r\n\r\n - run with a minimal number of threads that cause the problem\r\n\r\n - put a breakpoint in `TransactionSynchronizationManager.bindResource()` to see who adds the connection to the thread. The breakpoint can be a [conditional breakpoint][1] with a condition on the thread name: &quot;jobLauncherTaskExecutor-1&quot;.equals(Thread.currentThread().getName()) \r\n\r\n - put also a breakpoint in `TransactionSynchronizationManager.unbindResource()`,  to see if the datasource is unbound from the thread. when the breakpoints hit, scroll down the stacktrace and see which classes are causing this. \r\n\r\n\r\n  [1]: http://wiki.eclipse.org/FAQ_How_do_I_set_a_conditional_breakpoint?","title":"Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException","body":"<p>The error comes from JpaTransactionManager line 403:</p>\n<pre><code>TransactionSynchronizationManager.bindResource(getDataSource(), conHolder);\n</code></pre>\n<p>The error means that the transaction manager is trying to bind the <strong>datasource</strong> (not the entity manager) to the thread, but the datasource is already there and this is unexpected.</p>\n<p>Note that the transaction manager had not started yet to bind the Entity Manager to the thread, that would happen next at JpaTransactionManager line 416:</p>\n<p>There are two possible explanations:</p>\n<ul>\n<li><p>Somebody (another transaction manager?) is adding the datasource to the thread before the transaction manager and this is unexpected.</p>\n</li>\n<li><p>Or no one is adding the datasource to the transaction manager, is just that at the end of the task execution no one cleans the thread before returning it to the pool, maybe due an error or an unhandled exception.</p>\n</li>\n</ul>\n<p>One question, does this also happen for only one execution thread, or only when there are several?</p>\n<p>To find out what the problem is, these are some steps:</p>\n<ul>\n<li><p>run with a minimal number of threads that cause the problem</p>\n</li>\n<li><p>put a breakpoint in <code>TransactionSynchronizationManager.bindResource()</code> to see who adds the connection to the thread. The breakpoint can be a <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_set_a_conditional_breakpoint?\" rel=\"noreferrer\">conditional breakpoint</a> with a condition on the thread name: &quot;jobLauncherTaskExecutor-1&quot;.equals(Thread.currentThread().getName())</p>\n</li>\n<li><p>put also a breakpoint in <code>TransactionSynchronizationManager.unbindResource()</code>,  to see if the datasource is unbound from the thread. when the breakpoints hit, scroll down the stacktrace and see which classes are causing this.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":285620,"reputation":920,"user_id":584388,"display_name":"Sinto"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1389419804,"creation_date":1389419804,"answer_id":21059045,"question_id":20907206,"body_markdown":"This normally happens when you have multiple transaction managers in place. &lt;/p&gt;\r\nSome hints..&lt;/p&gt;\r\nWhen using annotaion @EnableBatchProcessing, Spring Batch automatically registers a transaction manager , and your JpaTransactionManager may never get used. \r\nIf you want to change the transaction manager that spring batch uses, you have to implement the interface BatchConfigurer.(https://blog.codecentric.de/en/2013/06/spring-batch-2-2-javaconfig-part-3-profiles-and-environments/). \r\n\r\nYou can specify transaction manager for tasklets as follows:\r\n\r\n    &lt;tasklet transaction-manager=&quot;transactionManager&quot;&gt;","title":"Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException","body":"<p>This normally happens when you have multiple transaction managers in place. </p>\nSome hints..</p>\nWhen using annotaion @EnableBatchProcessing, Spring Batch automatically registers a transaction manager , and your JpaTransactionManager may never get used. \nIf you want to change the transaction manager that spring batch uses, you have to implement the interface BatchConfigurer.(<a href=\"https://blog.codecentric.de/en/2013/06/spring-batch-2-2-javaconfig-part-3-profiles-and-environments/\">https://blog.codecentric.de/en/2013/06/spring-batch-2-2-javaconfig-part-3-profiles-and-environments/</a>). </p>\n\n<p>You can specify transaction manager for tasklets as follows:</p>\n\n<pre><code>&lt;tasklet transaction-manager=\"transactionManager\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3896319,"reputation":3078,"user_id":3225260,"accept_rate":45,"display_name":"mad_fox"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1534342494,"creation_date":1534342494,"answer_id":51860428,"question_id":20907206,"body_markdown":"I was able to solve a similar issue by implementing a spring batch configuration for JPA\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.inject.Inject;\r\n    import javax.sql.DataSource;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.batch.core.configuration.BatchConfigurationException;\r\n    import org.springframework.batch.core.configuration.annotation.BatchConfigurer;\r\n    import org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\n    import org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\n    import org.springframework.batch.core.explore.JobExplorer;\r\n    import org.springframework.batch.core.explore.support.JobExplorerFactoryBean;\r\n    import org.springframework.batch.core.explore.support.MapJobExplorerFactoryBean;\r\n    import org.springframework.batch.core.launch.JobLauncher;\r\n    import org.springframework.batch.core.launch.support.SimpleJobLauncher;\r\n    import org.springframework.batch.core.repository.JobRepository;\r\n    import org.springframework.batch.core.repository.support.JobRepositoryFactoryBean;\r\n    import org.springframework.batch.core.repository.support.MapJobRepositoryFactoryBean;\r\n    import org.springframework.batch.support.transaction.ResourcelessTransactionManager;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.task.SimpleAsyncTaskExecutor;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    \r\n    \r\n    @Configuration\r\n    public class JpaBatchConfigurer implements BatchConfigurer {\r\n    \tprivate static final Logger logger = LoggerFactory\r\n    \t\t\t.getLogger(JpaBatchConfigurer.class);\r\n    \r\n    \t@Inject\t\r\n    \tprivate DataSource dataSource;\r\n    \t\r\n    \t@Inject\r\n    \tprivate PlatformTransactionManager transactionManager;\r\n    \t\r\n    \tprivate JobRepository jobRepository;\r\n    \tprivate JobLauncher jobLauncher;\r\n    \tprivate JobExplorer jobExplorer;\r\n    \r\n    \r\n    \tprotected JpaBatchConfigurer() {\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \t@Bean\r\n    \tpublic JobRepository getJobRepository() {\r\n    \t\treturn jobRepository;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic PlatformTransactionManager getTransactionManager() {\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Bean\r\n    \tpublic JobLauncher getJobLauncher() {\r\n    \t\treturn jobLauncher;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Bean\r\n    \tpublic JobExplorer getJobExplorer() {\r\n    \t\treturn jobExplorer;\r\n    \t}\r\n    \r\n    \t@PostConstruct\r\n    \tpublic void initialize() {\r\n    \t\ttry {\r\n    \t\t\tif (dataSource == null) {\r\n    \t\t\t\tlogger.warn(&quot;No datasource was provided...using a Map based JobRepository&quot;);\r\n    \r\n    \t\t\t\tif (this.transactionManager == null) {\r\n    \t\t\t\t\tthis.transactionManager = new ResourcelessTransactionManager();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tMapJobRepositoryFactoryBean jobRepositoryFactory = new MapJobRepositoryFactoryBean(\r\n    \t\t\t\t\t\tthis.transactionManager);\r\n    \t\t\t\tjobRepositoryFactory.afterPropertiesSet();\r\n    \t\t\t\tthis.jobRepository = jobRepositoryFactory.getObject();\r\n    \r\n    \t\t\t\tMapJobExplorerFactoryBean jobExplorerFactory = new MapJobExplorerFactoryBean(\r\n    \t\t\t\t\t\tjobRepositoryFactory);\r\n    \t\t\t\tjobExplorerFactory.afterPropertiesSet();\r\n    \t\t\t\tthis.jobExplorer = jobExplorerFactory.getObject();\r\n    \t\t\t} else {\r\n    \t\t\t\tthis.jobRepository = createJobRepository();\r\n    \r\n    \t\t\t\tJobExplorerFactoryBean jobExplorerFactoryBean = new JobExplorerFactoryBean();\r\n    \t\t\t\tjobExplorerFactoryBean.setDataSource(this.dataSource);\r\n    \t\t\t\tjobExplorerFactoryBean.afterPropertiesSet();\r\n    \t\t\t\tthis.jobExplorer = jobExplorerFactoryBean.getObject();\r\n    \t\t\t}\r\n    \r\n    \t\t\tthis.jobLauncher = createJobLauncher();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new BatchConfigurationException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate JobLauncher createJobLauncher() throws Exception {\r\n    \t\tSimpleJobLauncher jobLauncher = new SimpleJobLauncher();\r\n    \t\tjobLauncher.setJobRepository(jobRepository);\r\n    \t\tjobLauncher.setTaskExecutor( new SimpleAsyncTaskExecutor());\r\n    \t\tjobLauncher.afterPropertiesSet();\r\n    \t\treturn jobLauncher;\r\n    \t}\r\n    \r\n    \tprotected JobRepository createJobRepository() throws Exception {\r\n    \t\tJobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\r\n    \t\tfactory.setIsolationLevelForCreate(&quot;ISOLATION_SERIALIZABLE&quot;);\r\n    \t\tfactory.setDataSource(dataSource);\r\n    \t\tfactory.setTransactionManager(transactionManager);\r\n    \t\tfactory.setValidateTransactionState(false);\r\n    \t\tfactory.afterPropertiesSet();\r\n    \t\treturn factory.getObject();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic JobBuilderFactory jobBuilderFactory(JobRepository jobRepository){\r\n    \t\treturn new JobBuilderFactory(jobRepository);\r\n    \t}\r\n    \t\r\n    \t@Bean\t\r\n    \tpublic StepBuilderFactory stepBuilderFactory(JobRepository jobRepository, PlatformTransactionManager transactionManager){\r\n    \t\treturn new StepBuilderFactory(jobRepository, transactionManager);\r\n    \t}\r\n    }\r\n\r\n\r\nThis was copied from:https://github.com/hantsy/spring4-sandbox/blob/master/batch-jpa/src/main/java/com/hantsylabs/example/spring/config/JpaBatchConfigurer.java","title":"Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException","body":"<p>I was able to solve a similar issue by implementing a spring batch configuration for JPA</p>\n\n<pre><code>import javax.annotation.PostConstruct;\nimport javax.inject.Inject;\nimport javax.sql.DataSource;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.batch.core.configuration.BatchConfigurationException;\nimport org.springframework.batch.core.configuration.annotation.BatchConfigurer;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.explore.JobExplorer;\nimport org.springframework.batch.core.explore.support.JobExplorerFactoryBean;\nimport org.springframework.batch.core.explore.support.MapJobExplorerFactoryBean;\nimport org.springframework.batch.core.launch.JobLauncher;\nimport org.springframework.batch.core.launch.support.SimpleJobLauncher;\nimport org.springframework.batch.core.repository.JobRepository;\nimport org.springframework.batch.core.repository.support.JobRepositoryFactoryBean;\nimport org.springframework.batch.core.repository.support.MapJobRepositoryFactoryBean;\nimport org.springframework.batch.support.transaction.ResourcelessTransactionManager;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.task.SimpleAsyncTaskExecutor;\nimport org.springframework.transaction.PlatformTransactionManager;\n\n\n@Configuration\npublic class JpaBatchConfigurer implements BatchConfigurer {\n    private static final Logger logger = LoggerFactory\n            .getLogger(JpaBatchConfigurer.class);\n\n    @Inject \n    private DataSource dataSource;\n\n    @Inject\n    private PlatformTransactionManager transactionManager;\n\n    private JobRepository jobRepository;\n    private JobLauncher jobLauncher;\n    private JobExplorer jobExplorer;\n\n\n    protected JpaBatchConfigurer() {\n    }\n\n\n    @Override\n    @Bean\n    public JobRepository getJobRepository() {\n        return jobRepository;\n    }\n\n    @Override\n    public PlatformTransactionManager getTransactionManager() {\n        return transactionManager;\n    }\n\n    @Override\n    @Bean\n    public JobLauncher getJobLauncher() {\n        return jobLauncher;\n    }\n\n    @Override\n    @Bean\n    public JobExplorer getJobExplorer() {\n        return jobExplorer;\n    }\n\n    @PostConstruct\n    public void initialize() {\n        try {\n            if (dataSource == null) {\n                logger.warn(\"No datasource was provided...using a Map based JobRepository\");\n\n                if (this.transactionManager == null) {\n                    this.transactionManager = new ResourcelessTransactionManager();\n                }\n\n                MapJobRepositoryFactoryBean jobRepositoryFactory = new MapJobRepositoryFactoryBean(\n                        this.transactionManager);\n                jobRepositoryFactory.afterPropertiesSet();\n                this.jobRepository = jobRepositoryFactory.getObject();\n\n                MapJobExplorerFactoryBean jobExplorerFactory = new MapJobExplorerFactoryBean(\n                        jobRepositoryFactory);\n                jobExplorerFactory.afterPropertiesSet();\n                this.jobExplorer = jobExplorerFactory.getObject();\n            } else {\n                this.jobRepository = createJobRepository();\n\n                JobExplorerFactoryBean jobExplorerFactoryBean = new JobExplorerFactoryBean();\n                jobExplorerFactoryBean.setDataSource(this.dataSource);\n                jobExplorerFactoryBean.afterPropertiesSet();\n                this.jobExplorer = jobExplorerFactoryBean.getObject();\n            }\n\n            this.jobLauncher = createJobLauncher();\n        } catch (Exception e) {\n            throw new BatchConfigurationException(e);\n        }\n    }\n\n    private JobLauncher createJobLauncher() throws Exception {\n        SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\n        jobLauncher.setJobRepository(jobRepository);\n        jobLauncher.setTaskExecutor( new SimpleAsyncTaskExecutor());\n        jobLauncher.afterPropertiesSet();\n        return jobLauncher;\n    }\n\n    protected JobRepository createJobRepository() throws Exception {\n        JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\n        factory.setIsolationLevelForCreate(\"ISOLATION_SERIALIZABLE\");\n        factory.setDataSource(dataSource);\n        factory.setTransactionManager(transactionManager);\n        factory.setValidateTransactionState(false);\n        factory.afterPropertiesSet();\n        return factory.getObject();\n    }\n\n    @Bean\n    public JobBuilderFactory jobBuilderFactory(JobRepository jobRepository){\n        return new JobBuilderFactory(jobRepository);\n    }\n\n    @Bean   \n    public StepBuilderFactory stepBuilderFactory(JobRepository jobRepository, PlatformTransactionManager transactionManager){\n        return new StepBuilderFactory(jobRepository, transactionManager);\n    }\n}\n</code></pre>\n\n<p>This was copied from:<a href=\"https://github.com/hantsy/spring4-sandbox/blob/master/batch-jpa/src/main/java/com/hantsylabs/example/spring/config/JpaBatchConfigurer.java\" rel=\"nofollow noreferrer\">https://github.com/hantsy/spring4-sandbox/blob/master/batch-jpa/src/main/java/com/hantsylabs/example/spring/config/JpaBatchConfigurer.java</a></p>\n"},{"tags":[],"owner":{"account_id":12896518,"reputation":1,"user_id":9326695,"display_name":"Jeevitha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539321904,"creation_date":1539321904,"answer_id":52772801,"question_id":20907206,"body_markdown":"These kind of problems occur with older version of java like jdk 6 or further lower versions.Upgrade your jdk version to 7 or above. Even i do had the same kinda issue before which gone when i updated my jdk version to 7. ","title":"Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException","body":"<p>These kind of problems occur with older version of java like jdk 6 or further lower versions.Upgrade your jdk version to 7 or above. Even i do had the same kinda issue before which gone when i updated my jdk version to 7. </p>\n"},{"tags":[],"owner":{"account_id":2805836,"reputation":121,"user_id":2413100,"display_name":"G.Dileo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571760726,"creation_date":1571760726,"answer_id":58508376,"question_id":20907206,"body_markdown":"If you have 2 dataSource, I suggest you to read:\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/3012\r\n\r\n\r\nSo... configure the main datasource (is important the transaction manager&#39;s name)\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;entityManager&quot;,\r\n            transactionManagerRef = &quot;transactionManager&quot;,\r\n            basePackages = &quot;a.b.c&quot;)\r\n    @PropertySource({&quot;classpath:db_persistence.properties&quot;})\r\n    @EnableTransactionManagement\r\n\r\nand the other datasource:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n            entityManagerFactoryRef = &quot;another_EntityManager&quot;,\r\n            transactionManagerRef = &quot;another_transactionManager&quot;,\r\n            basePackages = &quot;x.y.z&quot;)\r\n    @PropertySource({&quot;classpath:db_persistence.properties&quot;})\r\n    @EnableTransactionManagement\r\n\r\nI hope that this help you.","title":"Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException","body":"<p>If you have 2 dataSource, I suggest you to read:</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/3012\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/3012</a></p>\n\n<p>So... configure the main datasource (is important the transaction manager's name)</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        entityManagerFactoryRef = \"entityManager\",\n        transactionManagerRef = \"transactionManager\",\n        basePackages = \"a.b.c\")\n@PropertySource({\"classpath:db_persistence.properties\"})\n@EnableTransactionManagement\n</code></pre>\n\n<p>and the other datasource:</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        entityManagerFactoryRef = \"another_EntityManager\",\n        transactionManagerRef = \"another_transactionManager\",\n        basePackages = \"x.y.z\")\n@PropertySource({\"classpath:db_persistence.properties\"})\n@EnableTransactionManagement\n</code></pre>\n\n<p>I hope that this help you.</p>\n"},{"tags":[],"owner":{"account_id":4825454,"reputation":111,"user_id":3895040,"display_name":"Ullas V"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593101959,"creation_date":1593101083,"answer_id":62579590,"question_id":20907206,"body_markdown":"    return stepBuilderFactory.get(&quot;orderStep1&quot;).&lt;sourceBean, destBean&gt;chunk(5)\r\n\t\t\t\t.reader(reader)\r\n\t\t\t\t.processor(batchFileRowProcessor)\r\n\t\t\t\t.writer(batchFileRowDataWritter)\r\n\t\t\t\t.taskExecutor(taskExecutor)\r\n\t\t\t\t.transactionManager(platformTransactionManager)\r\n\t\t\t\t.throttleLimit(1).build();\r\n\r\n`platformTransactionManager` is the qualified bean from the data source configuration ","title":"Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException","body":"<pre><code>return stepBuilderFactory.get(&quot;orderStep1&quot;).&lt;sourceBean, destBean&gt;chunk(5)\n            .reader(reader)\n            .processor(batchFileRowProcessor)\n            .writer(batchFileRowDataWritter)\n            .taskExecutor(taskExecutor)\n            .transactionManager(platformTransactionManager)\n            .throttleLimit(1).build();\n</code></pre>\n<p><code>platformTransactionManager</code> is the qualified bean from the data source configuration</p>\n"}],"owner":{"account_id":2534457,"reputation":1847,"user_id":2201958,"accept_rate":77,"display_name":"achingfingers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144077,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":20961958,"answer_count":6,"score":29,"last_activity_date":1638273046,"creation_date":1388763323,"question_id":20907206,"body_markdown":"I am quite new to Spring and Spring-Batch in particular. \r\nStill I somehow managed to install the **Spring Batch-Admin**. I added custom jobs and **Hibernate/JPA** for persistence. \r\n\r\nEverything is working as expected, up to the point where the first chunk should be persisted. Then I receive the following error-message:\r\n\r\n    org.springframework.transaction.CannotCreateTransactionException: \r\n          Could not open JPA  EntityManager for transaction;\r\n \r\n    nested exception is java.lang.IllegalStateException: Already value\r\n          [org.springframework.jdbc.datasource.ConnectionHolder@60d31437] \r\n          for key [org.springframework.jdbc.datasource.DriverManagerDataSource@12da4b19] \r\n          bound to thread [jobLauncherTaskExecutor-1]\r\n\r\n\r\nThis is the **full stacktrace**:\r\n\r\n\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JPA  EntityManager for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@43f9e588] for key [org.springframework.jdbc.datasource.DriverManagerDataSource@84f171a] bound to thread [jobLauncherTaskExecutor-1]\r\n\t     at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:427)\r\n\t     at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\r\n\t     at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\r\n\t     at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\r\n\t     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\t     at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n\t     at com.sun.proxy.$Proxy41.saveIfUnique(Unknown Source)\r\n\t     at com.qompa.batch.ArticleItemWriter.write(ArticleItemWriter.java:28)\r\n\t     at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:171)\r\n\t     at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:150)\r\n\t     at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$3.doWithRetry(FaultTolerantChunkProcessor.java:313)\r\n\t     at org.springframework.batch.retry.support.RetryTemplate.doExecute(RetryTemplate.java:240)\r\n\t     at org.springframework.batch.retry.support.RetryTemplate.execute(RetryTemplate.java:187)\r\n\t     at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:213)\r\n\t     at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:402)\r\n\t     at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:194)\r\n\t     at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:74)\r\n\t     at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:386)\r\n\t     at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)\r\n\t     at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:264)\r\n\t     at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:76)\r\n\t     at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:367)\r\n\t     at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:214)\r\n\t     at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:143)\r\n\t     at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:250)\r\n\t     at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:195)\r\n\t     at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:135)\r\n\t     at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:61)\r\n\t     at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:60)\r\n\t     at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:144)\r\n\t     at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:124)\r\n\t     at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:135)\r\n\t     at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:281)\r\n\t     at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:120)\r\n\t     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\t     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\t     at java.lang.Thread.run(Thread.java:724)\r\n    Caused by: java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@43f9e588] for key [org.springframework.jdbc.datasource.DriverManagerDataSource@84f171a] bound to thread [jobLauncherTaskExecutor-1]\r\n\t     at org.springframework.transaction.support.TransactionSynchronizationManager.bindResource(TransactionSynchronizationManager.java:189)\r\n\t     at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)\r\n\t... 36 more\r\n\r\nThe same Job executes fine in a standalone application. The problem occurs only in the  Spring-Batch-Admin environment. Below you can see the **project structure and dependencies**:\r\n\r\n![enter image description here][1]\r\n\r\nThis is the app-context.xml that overrides/extends the Batch-Admin configuration:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:batch=&quot;http://www.springframework.org/schema/batch&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:task=&quot;http://www.springframework.org/schema/task&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-2.1.xsd\r\n    \t\thttp://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd&quot;&gt;\r\n    \r\n    \t&lt;context:component-scan base-package=&quot;com.company.batch&quot; /&gt;\r\n    \r\n    \t&lt;context:property-placeholder location=&quot;classpath:batch.properties&quot; /&gt;\r\n    \r\n    \t&lt;import resource=&quot;classpath:/META-INF/spring/batch/jobs/article-job.xml&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${batch.jdbc.driver}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;${batch.jdbc.url}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${batch.jdbc.user}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${batch.jdbc.password}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;entityManagerFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;com.qompa.batch&quot; /&gt;\r\n    \t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n    \t\t\t\t&lt;property name=&quot;database&quot; value=&quot;POSTGRESQL&quot;&gt;&lt;/property&gt;\r\n    \t\t\t\t&lt;property name=&quot;showSql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t\t&lt;property name=&quot;generateDdl&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t&lt;property name=&quot;databasePlatform&quot; value=&quot;com.company.utils.persistence.CustomPGDialect&quot; /&gt;\r\n    \t\t\t&lt;/bean&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;jpaProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;txManager&quot; /&gt;\r\n    \r\n    \t&lt;!-- schedule tasks --&gt;\r\n    \t&lt;task:scheduled-tasks&gt;\r\n    \t\t&lt;task:scheduled ref=&quot;articleRetrieval&quot; method=&quot;run&quot;\r\n    \t\t\tcron=&quot;0 0 */4 * * *&quot; /&gt;\r\n    \t\t&lt;task:scheduled ref=&quot;articleConversion&quot; method=&quot;run&quot;\r\n    \t\t\tcron=&quot;0 15 */4 * * *&quot; /&gt;\r\n    \t&lt;/task:scheduled-tasks&gt;\r\n    &lt;/beans&gt;\r\n\r\nWhat I understand so far is that it has to do with the [ThreadPoolTaskExecutor][2] to which the `jobLauncherTaskExecutor` bean refers. It seems to handle **connection pooling for concurrently running jobs** ... but to be honest I have no clue how to change my configurations to make these things work.\r\n\r\n[Edit]: I am not even sure wether it is the afromentioned ThreadPoolTaskExecutor. But it seem s to be an implementation of the [TaskExecutor][3] interface.\r\n\r\nIf anyone ran into a similar issue, or has a suggestion how to configure my application in a way that transactions can be created for my persistence methods: Please give me a hint!\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2vces.png\r\n  [2]: http://docs.spring.io/spring/docs/3.2.6.RELEASE/javadoc-api/org/springframework/scheduling/backportconcurrent/ThreadPoolTaskExecutor.html\r\n  [3]: http://docs.spring.io/spring/docs/2.0.x/api/org/springframework/core/task/TaskExecutor.html","title":"Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException","body":"<p>I am quite new to Spring and Spring-Batch in particular. \nStill I somehow managed to install the <strong>Spring Batch-Admin</strong>. I added custom jobs and <strong>Hibernate/JPA</strong> for persistence. </p>\n\n<p>Everything is working as expected, up to the point where the first chunk should be persisted. Then I receive the following error-message:</p>\n\n<pre><code>org.springframework.transaction.CannotCreateTransactionException: \n      Could not open JPA  EntityManager for transaction;\n\nnested exception is java.lang.IllegalStateException: Already value\n      [org.springframework.jdbc.datasource.ConnectionHolder@60d31437] \n      for key [org.springframework.jdbc.datasource.DriverManagerDataSource@12da4b19] \n      bound to thread [jobLauncherTaskExecutor-1]\n</code></pre>\n\n<p>This is the <strong>full stacktrace</strong>:</p>\n\n<pre><code>org.springframework.transaction.CannotCreateTransactionException: Could not open JPA  EntityManager for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@43f9e588] for key [org.springframework.jdbc.datasource.DriverManagerDataSource@84f171a] bound to thread [jobLauncherTaskExecutor-1]\n     at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:427)\n     at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\n     at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\n     at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\n     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n     at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n     at com.sun.proxy.$Proxy41.saveIfUnique(Unknown Source)\n     at com.qompa.batch.ArticleItemWriter.write(ArticleItemWriter.java:28)\n     at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:171)\n     at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:150)\n     at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor$3.doWithRetry(FaultTolerantChunkProcessor.java:313)\n     at org.springframework.batch.retry.support.RetryTemplate.doExecute(RetryTemplate.java:240)\n     at org.springframework.batch.retry.support.RetryTemplate.execute(RetryTemplate.java:187)\n     at org.springframework.batch.core.step.item.BatchRetryTemplate.execute(BatchRetryTemplate.java:213)\n     at org.springframework.batch.core.step.item.FaultTolerantChunkProcessor.write(FaultTolerantChunkProcessor.java:402)\n     at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:194)\n     at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:74)\n     at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:386)\n     at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)\n     at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:264)\n     at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:76)\n     at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:367)\n     at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:214)\n     at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:143)\n     at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:250)\n     at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:195)\n     at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:135)\n     at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:61)\n     at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:60)\n     at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:144)\n     at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:124)\n     at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:135)\n     at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:281)\n     at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:120)\n     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n     at java.lang.Thread.run(Thread.java:724)\nCaused by: java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@43f9e588] for key [org.springframework.jdbc.datasource.DriverManagerDataSource@84f171a] bound to thread [jobLauncherTaskExecutor-1]\n     at org.springframework.transaction.support.TransactionSynchronizationManager.bindResource(TransactionSynchronizationManager.java:189)\n     at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)\n... 36 more\n</code></pre>\n\n<p>The same Job executes fine in a standalone application. The problem occurs only in the  Spring-Batch-Admin environment. Below you can see the <strong>project structure and dependencies</strong>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/2vces.png\" alt=\"enter image description here\"></p>\n\n<p>This is the app-context.xml that overrides/extends the Batch-Admin configuration:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:batch=\"http://www.springframework.org/schema/batch\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:task=\"http://www.springframework.org/schema/task\" xmlns:jdbc=\"http://www.springframework.org/schema/jdbc\"\n    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n        http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-2.1.xsd\n        http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.company.batch\" /&gt;\n\n    &lt;context:property-placeholder location=\"classpath:batch.properties\" /&gt;\n\n    &lt;import resource=\"classpath:/META-INF/spring/batch/jobs/article-job.xml\" /&gt;\n\n    &lt;bean id=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"${batch.jdbc.driver}\" /&gt;\n        &lt;property name=\"url\" value=\"${batch.jdbc.url}\" /&gt;\n        &lt;property name=\"username\" value=\"${batch.jdbc.user}\" /&gt;\n        &lt;property name=\"password\" value=\"${batch.jdbc.password}\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"entityManagerFactory\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"packagesToScan\" value=\"com.qompa.batch\" /&gt;\n        &lt;property name=\"jpaVendorAdapter\"&gt;\n            &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n                &lt;property name=\"database\" value=\"POSTGRESQL\"&gt;&lt;/property&gt;\n                &lt;property name=\"showSql\" value=\"true\" /&gt;\n                &lt;property name=\"generateDdl\" value=\"false\" /&gt;\n                &lt;property name=\"databasePlatform\" value=\"com.company.utils.persistence.CustomPGDialect\" /&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n        &lt;property name=\"jpaProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"txManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n    &lt;/bean&gt;\n    &lt;tx:annotation-driven transaction-manager=\"txManager\" /&gt;\n\n    &lt;!-- schedule tasks --&gt;\n    &lt;task:scheduled-tasks&gt;\n        &lt;task:scheduled ref=\"articleRetrieval\" method=\"run\"\n            cron=\"0 0 */4 * * *\" /&gt;\n        &lt;task:scheduled ref=\"articleConversion\" method=\"run\"\n            cron=\"0 15 */4 * * *\" /&gt;\n    &lt;/task:scheduled-tasks&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>What I understand so far is that it has to do with the <a href=\"http://docs.spring.io/spring/docs/3.2.6.RELEASE/javadoc-api/org/springframework/scheduling/backportconcurrent/ThreadPoolTaskExecutor.html\">ThreadPoolTaskExecutor</a> to which the <code>jobLauncherTaskExecutor</code> bean refers. It seems to handle <strong>connection pooling for concurrently running jobs</strong> ... but to be honest I have no clue how to change my configurations to make these things work.</p>\n\n<p>[Edit]: I am not even sure wether it is the afromentioned ThreadPoolTaskExecutor. But it seem s to be an implementation of the <a href=\"http://docs.spring.io/spring/docs/2.0.x/api/org/springframework/core/task/TaskExecutor.html\">TaskExecutor</a> interface.</p>\n\n<p>If anyone ran into a similar issue, or has a suggestion how to configure my application in a way that transactions can be created for my persistence methods: Please give me a hint!</p>\n"},{"tags":["java","json","scala","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":7621146,"reputation":727,"user_id":5779137,"display_name":"Hamel Kothari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1454686486,"creation_date":1454686486,"answer_id":35227877,"question_id":35227796,"body_markdown":"DataType has a json() method and a fromJson() method which you can use to serialize/deserialize schemas.\r\n\r\n    val df = sqlContext.read().....load()\r\n    val jsonString:String = df.schema.json()\r\n    val schema:StructType = DataType.fromJson(jsonString).asInstanceOf[StructType]","title":"How to convert Spark dataframe output to json?","body":"<p>DataType has a json() method and a fromJson() method which you can use to serialize/deserialize schemas.</p>\n\n<pre><code>val df = sqlContext.read().....load()\nval jsonString:String = df.schema.json()\nval schema:StructType = DataType.fromJson(jsonString).asInstanceOf[StructType]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4704401,"reputation":58,"user_id":3807020,"display_name":"viswanathanr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638272996,"creation_date":1588163374,"answer_id":61501853,"question_id":35227796,"body_markdown":"Spark SQL way,\r\n\r\n    df.createOrReplaceTempView(&quot;&lt;table_name&gt;&quot;)\r\n    spark.sql(&quot;SELECT COLLECT_SET(STRUCT(&lt;field_name&gt;)) AS `` FROM &lt;table_name&gt; LIMIT 1&quot;).coalesce(1).write.format(&quot;org.apache.spark.sql.json&quot;).mode(&quot;overwrite&quot;).save(&lt;Blob Path1/ ADLS Path1&gt;)\r\n\r\nOutput will be like,\r\n\r\n    {&quot;&quot;:[{&lt;field_name&gt;:&lt;field_value1&gt;},{&lt;field_name&gt;:&lt;field_value2&gt;}]}\r\n\r\nHere the header can be avoided by following 3 lines (Assumption No Tilda in data),\r\n\r\n    val jsonToCsvDF=spark.read.format(&quot;com.databricks.spark.csv&quot;).option(&quot;delimiter&quot;, &quot;~&quot;).load(&lt;Blob Path1/ ADLS Path1&gt;)\r\n    \r\n    jsonToCsvDF.createOrReplaceTempView(&quot;json_to_csv&quot;)\r\n    \r\n    spark.sql(&quot;SELECT SUBSTR(`_c0`,5,length(`_c0`)-5) FROM json_to_csv&quot;).coalesce(1).write.option(&quot;header&quot;,false).mode(&quot;overwrite&quot;).text(&lt;Blob Path2/ ADLS Path2&gt;)","title":"How to convert Spark dataframe output to json?","body":"<p>Spark SQL way,</p>\n<pre><code>df.createOrReplaceTempView(&quot;&lt;table_name&gt;&quot;)\nspark.sql(&quot;SELECT COLLECT_SET(STRUCT(&lt;field_name&gt;)) AS `` FROM &lt;table_name&gt; LIMIT 1&quot;).coalesce(1).write.format(&quot;org.apache.spark.sql.json&quot;).mode(&quot;overwrite&quot;).save(&lt;Blob Path1/ ADLS Path1&gt;)\n</code></pre>\n<p>Output will be like,</p>\n<pre><code>{&quot;&quot;:[{&lt;field_name&gt;:&lt;field_value1&gt;},{&lt;field_name&gt;:&lt;field_value2&gt;}]}\n</code></pre>\n<p>Here the header can be avoided by following 3 lines (Assumption No Tilda in data),</p>\n<pre><code>val jsonToCsvDF=spark.read.format(&quot;com.databricks.spark.csv&quot;).option(&quot;delimiter&quot;, &quot;~&quot;).load(&lt;Blob Path1/ ADLS Path1&gt;)\n\njsonToCsvDF.createOrReplaceTempView(&quot;json_to_csv&quot;)\n\nspark.sql(&quot;SELECT SUBSTR(`_c0`,5,length(`_c0`)-5) FROM json_to_csv&quot;).coalesce(1).write.option(&quot;header&quot;,false).mode(&quot;overwrite&quot;).text(&lt;Blob Path2/ ADLS Path2&gt;)\n</code></pre>\n"}],"owner":{"account_id":4203603,"reputation":5,"user_id":3443121,"accept_rate":100,"display_name":"Devz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35227877,"answer_count":2,"score":0,"last_activity_date":1638272996,"creation_date":1454686239,"question_id":35227796,"body_markdown":"I am reading file with CSV file with Spark SQL Context.\r\n\r\n**Code :** \r\n    \t\t\r\n    m.put(&quot;path&quot;, CSV_DIRECTORY+file.getOriginalFilename());\r\n    m.put(&quot;inferSchema&quot;, &quot;true&quot;); // Automatically infer data types else string by default\r\n    m.put(&quot;header&quot;, &quot;true&quot;);      // Use first line of all files as header\t\t   \r\n    m.put(&quot;delimiter&quot;, &quot;;&quot;);\r\n    \t\t   \r\n    DataFrame df = sqlContext.load(&quot;com.databricks.spark.csv&quot;,m);    \t\t   \r\n    df.printSchema();\r\n\r\nFetching Column names and Data type with `df.printSchema()`\r\n\r\n**O/P :** \r\n\r\n    |--id : integer (nullable = true)\r\n    |-- ApplicationNo: string (nullable = true)\r\n    |-- Applidate: timestamp(nullable = true)\r\n\r\nWhat is the return type of the statement printSchema. How to convert the output in JSON format, How to convert data frame into JSON??\r\n\r\n**Desired O/P:** \r\n\r\n    {&quot;column&quot;:&quot;id&quot;,&quot;datatype&quot;:&quot;integer&quot;}\r\n\r\n\r\n","title":"How to convert Spark dataframe output to json?","body":"<p>I am reading file with CSV file with Spark SQL Context.</p>\n\n<p><strong>Code :</strong> </p>\n\n<pre><code>m.put(\"path\", CSV_DIRECTORY+file.getOriginalFilename());\nm.put(\"inferSchema\", \"true\"); // Automatically infer data types else string by default\nm.put(\"header\", \"true\");      // Use first line of all files as header         \nm.put(\"delimiter\", \";\");\n\nDataFrame df = sqlContext.load(\"com.databricks.spark.csv\",m);              \ndf.printSchema();\n</code></pre>\n\n<p>Fetching Column names and Data type with <code>df.printSchema()</code></p>\n\n<p><strong>O/P :</strong> </p>\n\n<pre><code>|--id : integer (nullable = true)\n|-- ApplicationNo: string (nullable = true)\n|-- Applidate: timestamp(nullable = true)\n</code></pre>\n\n<p>What is the return type of the statement printSchema. How to convert the output in JSON format, How to convert data frame into JSON??</p>\n\n<p><strong>Desired O/P:</strong> </p>\n\n<pre><code>{\"column\":\"id\",\"datatype\":\"integer\"}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":1,"creation_date":1357593915,"post_id":14204247,"comment_id":19695553,"body_markdown":"The first question is if float has the precission needed to represent such number without altering it. My guess is that it does not. Check how float values are encoded. Probably you will end using `BigDecimal`","body":"The first question is if float has the precission needed to represent such number without altering it. My guess is that it does not. Check how float values are encoded. Probably you will end using <code>BigDecimal</code>"},{"owner":{"account_id":323460,"reputation":2036,"user_id":643483,"display_name":"Aaron Kurtzhals"},"score":1,"creation_date":1357594049,"post_id":14204247,"comment_id":19695615,"body_markdown":"Duplicate of http://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java","body":"Duplicate of <a href=\"http://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java\" title=\"how to round a number to n decimal places in java\">stackoverflow.com/questions/153724/&hellip;</a>"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1357594807,"post_id":14204247,"comment_id":19695992,"body_markdown":"`229806210.04` is too large to be a float. You would lose precision.  Try using `double` instead.","body":"<code>229806210.04</code> is too large to be a float. You would lose precision.  Try using <code>double</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":2206819,"reputation":1398,"user_id":1949840,"accept_rate":75,"display_name":"john_omalley"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1357593907,"creation_date":1357593907,"answer_id":14204281,"question_id":14204247,"body_markdown":"This looks like Java so see DecimalFormat.  It&#39;s pretty well documented how to format a number.","title":"formatting float to two decimal format","body":"<p>This looks like Java so see DecimalFormat.  It's pretty well documented how to format a number.</p>\n"},{"tags":[],"owner":{"account_id":2156100,"reputation":11279,"user_id":1911306,"accept_rate":83,"display_name":"Marcin Szymczak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357597900,"creation_date":1357593955,"answer_id":14204294,"question_id":14204247,"body_markdown":"What Should You use?\r\n------------------\r\n\r\nYou should use DecimalFormat. \r\nIt takes a parameter with needed format and returns formatter \r\n\r\nDocumentation is available [here][1].\r\n\r\nJust show me the code!\r\n----------------------\r\n\r\n    Double number = 1144.034;\r\n    DecimalFormat format = new DecimalFormat(&quot;0.00&quot;);\r\n    System.out.println(format.format(price));\r\n\r\nAnd the output is \r\n\r\n    1144.03\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/i18n/format/decimalFormat.html","title":"formatting float to two decimal format","body":"<h2>What Should You use?</h2>\n\n<p>You should use DecimalFormat. \nIt takes a parameter with needed format and returns formatter </p>\n\n<p>Documentation is available <a href=\"http://docs.oracle.com/javase/tutorial/i18n/format/decimalFormat.html\" rel=\"nofollow\">here</a>.</p>\n\n<h2>Just show me the code!</h2>\n\n<pre><code>Double number = 1144.034;\nDecimalFormat format = new DecimalFormat(\"0.00\");\nSystem.out.println(format.format(price));\n</code></pre>\n\n<p>And the output is </p>\n\n<pre><code>1144.03\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1357594131,"creation_date":1357594131,"answer_id":14204349,"question_id":14204247,"body_markdown":"A float has a limited accuracy of approximately 7 to 8 decimal digits. Once you store a value in a float you cannot expect more significant digits no matter how you post process it.","title":"formatting float to two decimal format","body":"<p>A float has a limited accuracy of approximately 7 to 8 decimal digits. Once you store a value in a float you cannot expect more significant digits no matter how you post process it.</p>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638272987,"creation_date":1357594306,"answer_id":14204388,"question_id":14204247,"body_markdown":"DecimalFormat gives (sometimes unwanted) locale decimal points (&quot;.&quot; vs., &quot;,&quot;)\r\nrecently i changed to use \r\n\r\n    double x= ...;\r\n    String formatted = String.format(Locale.US, &quot;%.2f&quot;, x);\r\n\r\nwhich is much more handy, (C-Style formatting symbols)\r\n","title":"formatting float to two decimal format","body":"<p>DecimalFormat gives (sometimes unwanted) locale decimal points (&quot;.&quot; vs., &quot;,&quot;)\nrecently i changed to use</p>\n<pre><code>double x= ...;\nString formatted = String.format(Locale.US, &quot;%.2f&quot;, x);\n</code></pre>\n<p>which is much more handy, (C-Style formatting symbols)</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357594934,"creation_date":1357594626,"answer_id":14204469,"question_id":14204247,"body_markdown":"Floating point numbers are for *approximate* calculations with a fixed number of significant digits. That is, a `float` will only store the exponent of the number, and the first 24 binary digits of the number (which is about 7 decimal digits). Since your number has more than 7 digits, rounding will chop off the remaining digits. \r\n\r\nAt the very least, you&#39;ll want to use a `double` to hold the number. With 16 significant decimal digits, it can at least express differences of 0.01 for numbers of that magnitude. However, computations will still be only approximate.\r\n\r\nIf you need exact representation and computation, use a `BigDecimal` instead.\r\n\r\nFinally, for formatting a number, use a NumberFormat. The [Java Tutorial](http://docs.oracle.com/javase/tutorial/i18n/format/index.html) explains that quite well.","title":"formatting float to two decimal format","body":"<p>Floating point numbers are for <em>approximate</em> calculations with a fixed number of significant digits. That is, a <code>float</code> will only store the exponent of the number, and the first 24 binary digits of the number (which is about 7 decimal digits). Since your number has more than 7 digits, rounding will chop off the remaining digits. </p>\n\n<p>At the very least, you'll want to use a <code>double</code> to hold the number. With 16 significant decimal digits, it can at least express differences of 0.01 for numbers of that magnitude. However, computations will still be only approximate.</p>\n\n<p>If you need exact representation and computation, use a <code>BigDecimal</code> instead.</p>\n\n<p>Finally, for formatting a number, use a NumberFormat. The <a href=\"http://docs.oracle.com/javase/tutorial/i18n/format/index.html\" rel=\"nofollow\">Java Tutorial</a> explains that quite well.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1357595247,"creation_date":1357594758,"answer_id":14204495,"question_id":14204247,"body_markdown":"&gt; I tried to convert the number to double and currency format before printing it out but the number is still off (last two digit as 08 instead of 10). Is there a way to address this issue?\r\n\r\nCasting it to a double after the fact is too late, the information has been lost.\r\n\r\nYou have to use double, i.e. 64-bit floating point every where the value might have passed (Or for a database you can use fixed precision)\r\n\r\n---\r\n\r\n`float` is not the best format for amounts (or most things) I would suggest using double instead (or BigDecimal or long with fixed precision)\r\n\r\nInstead of\r\n\r\n    Stringbuilder buffer = new StringBuilder();\r\n    buffer.append (&quot;the amount = &quot; + amount)\r\n    emailObject.setBody(buffer.toString());\r\n\r\nYou can write\r\n\r\n    emailObject.setBody(String.format(&quot;the amount = %.2f%n&quot; , amount));\r\n\r\nIt might be &quot;polite&quot; to have at least one newline. ;)\r\n\r\n","title":"formatting float to two decimal format","body":"<blockquote>\n  <p>I tried to convert the number to double and currency format before printing it out but the number is still off (last two digit as 08 instead of 10). Is there a way to address this issue?</p>\n</blockquote>\n\n<p>Casting it to a double after the fact is too late, the information has been lost.</p>\n\n<p>You have to use double, i.e. 64-bit floating point every where the value might have passed (Or for a database you can use fixed precision)</p>\n\n<hr>\n\n<p><code>float</code> is not the best format for amounts (or most things) I would suggest using double instead (or BigDecimal or long with fixed precision)</p>\n\n<p>Instead of</p>\n\n<pre><code>Stringbuilder buffer = new StringBuilder();\nbuffer.append (\"the amount = \" + amount)\nemailObject.setBody(buffer.toString());\n</code></pre>\n\n<p>You can write</p>\n\n<pre><code>emailObject.setBody(String.format(\"the amount = %.2f%n\" , amount));\n</code></pre>\n\n<p>It might be \"polite\" to have at least one newline. ;)</p>\n"}],"owner":{"account_id":946997,"reputation":2155,"user_id":974047,"accept_rate":65,"display_name":"user974047"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6490,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":6,"score":-1,"last_activity_date":1638272987,"creation_date":1357593757,"question_id":14204247,"body_markdown":"I&#39;m trying to print out a float value in plain text with two decimal values (if possible). For example, if I had 229806210.039999 in the database, then I would like to print it out as 229806210.04, but for some reason it&#39;s printing out in scientific notation: 2.29806208E8, which is incorrect in that the last two digit is 08 instead of 10. I tried to convert the number to double and currency format before printing it out but the number is still off (last two digit as 08 instead of 10). Is there a way to address this issue? Here&#39;s what I have now:\r\n\r\n    float amount = 0;\r\n    amount = something.getAmount() //this will run the query\r\n                                  //to retrieve the amount stored in database (i.e. 229806210.039999)\r\n    Stringbuilder buffer = new StringBuilder();\r\n    buffer.append (&quot;the amount = &quot; + amount)\r\n    emailObject.setBody(buffer.toString());\r\n    emailService.sendEmail(emailObject);","title":"formatting float to two decimal format","body":"<p>I'm trying to print out a float value in plain text with two decimal values (if possible). For example, if I had 229806210.039999 in the database, then I would like to print it out as 229806210.04, but for some reason it's printing out in scientific notation: 2.29806208E8, which is incorrect in that the last two digit is 08 instead of 10. I tried to convert the number to double and currency format before printing it out but the number is still off (last two digit as 08 instead of 10). Is there a way to address this issue? Here's what I have now:</p>\n\n<pre><code>float amount = 0;\namount = something.getAmount() //this will run the query\n                              //to retrieve the amount stored in database (i.e. 229806210.039999)\nStringbuilder buffer = new StringBuilder();\nbuffer.append (\"the amount = \" + amount)\nemailObject.setBody(buffer.toString());\nemailService.sendEmail(emailObject);\n</code></pre>\n"},{"tags":["java","path","arraylist"],"answers":[{"tags":[],"owner":{"account_id":318738,"reputation":5100,"user_id":636115,"display_name":"jbrookover"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1304862220,"creation_date":1304823230,"answer_id":5925320,"question_id":5925239,"body_markdown":"I&#39;m not sure an ArrayList is your best bet.  I presume at every &quot;tick&quot; in the game, each unit will move a designated distance which means you&#39;ll have colliding units, shifting each other in and out of position on a list.\r\n\r\nI&#39;m also working under the assumption that each &quot;block&quot; is deeper than 1.  Meaning that for each &quot;tick,&quot; a given unit could move farther within the block than another and if a unit has reached the end of a block, the next tick bumps it into the next block.\r\n\r\nOption 1 (mediocre):\r\n\r\nUse a `Map&lt;Integer, Set&lt;Enemy&gt;&gt;` where the Integer is from `0 - BLOCK_DEPTH` and each sees enemies jumping from one set to another.  There&#39;s no sorting here; just pointer reallocation.  You also just have to do a `map.get(0)` and add that to `nextMap.get(BLOCK_DEPTH)`\r\n\r\nOption 2 (better?):\r\n\r\nUse a `SortedSet` that implements a comparator based on Enemy.position where position is an Integer from `0 - BLOCK_DEPTH`.  Each Enemy has a listener that updates it&#39;s position on a tick and then you start each tick by popping off the elements from the Set while Enemy.position is 0, pushing them onto the next set.","title":"How do I keep a list of units in a path in order?","body":"<p>I'm not sure an ArrayList is your best bet.  I presume at every \"tick\" in the game, each unit will move a designated distance which means you'll have colliding units, shifting each other in and out of position on a list.</p>\n\n<p>I'm also working under the assumption that each \"block\" is deeper than 1.  Meaning that for each \"tick,\" a given unit could move farther within the block than another and if a unit has reached the end of a block, the next tick bumps it into the next block.</p>\n\n<p>Option 1 (mediocre):</p>\n\n<p>Use a <code>Map&lt;Integer, Set&lt;Enemy&gt;&gt;</code> where the Integer is from <code>0 - BLOCK_DEPTH</code> and each sees enemies jumping from one set to another.  There's no sorting here; just pointer reallocation.  You also just have to do a <code>map.get(0)</code> and add that to <code>nextMap.get(BLOCK_DEPTH)</code></p>\n\n<p>Option 2 (better?):</p>\n\n<p>Use a <code>SortedSet</code> that implements a comparator based on Enemy.position where position is an Integer from <code>0 - BLOCK_DEPTH</code>.  Each Enemy has a listener that updates it's position on a tick and then you start each tick by popping off the elements from the Set while Enemy.position is 0, pushing them onto the next set.</p>\n"},{"tags":[],"owner":{"account_id":382109,"reputation":3426,"user_id":737147,"accept_rate":100,"display_name":"House"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638272987,"creation_date":1304824782,"answer_id":5925390,"question_id":5925239,"body_markdown":"You could calculate the distance to home base when each unit is spawned, then subtract the move amount when the units move. Then each tower will just run through the list and see which unit has the least distance to home base.\r\n\r\nYou get the original distance you can use [A* path finding][1], count the number of blocks the unit will pass over and multiply by the size of the block, or do a simple straight line distance. Depending on the layout of your game, you&#39;d know best.\r\n\r\n    public static double Get2DDistance(float x1, float y1, float x2, float y2) {\r\n        float dx = x2 - x1;\r\n        float dy = y2 - y1;\r\n        double distance = Math.sqrt(dx * dx + dy * dy);\r\n        return distance;\r\n    }\r\n\r\n\r\n  [1]: https://web.archive.org/web/20171022224528/http://www.policyalmanac.org:80/games/aStarTutorial.htm","title":"How do I keep a list of units in a path in order?","body":"<p>You could calculate the distance to home base when each unit is spawned, then subtract the move amount when the units move. Then each tower will just run through the list and see which unit has the least distance to home base.</p>\n<p>You get the original distance you can use <a href=\"https://web.archive.org/web/20171022224528/http://www.policyalmanac.org:80/games/aStarTutorial.htm\" rel=\"nofollow noreferrer\">A* path finding</a>, count the number of blocks the unit will pass over and multiply by the size of the block, or do a simple straight line distance. Depending on the layout of your game, you'd know best.</p>\n<pre><code>public static double Get2DDistance(float x1, float y1, float x2, float y2) {\n    float dx = x2 - x1;\n    float dy = y2 - y1;\n    double distance = Math.sqrt(dx * dx + dy * dy);\n    return distance;\n}\n</code></pre>\n"}],"owner":{"account_id":386041,"reputation":77,"user_id":743572,"accept_rate":75,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5925320,"answer_count":2,"score":1,"last_activity_date":1638272987,"creation_date":1304821678,"question_id":5925239,"body_markdown":"I&#39;m working on a tower defense game and I want the defending turrets to shoot at the attacking unit thats farthest along the path within its range.  I&#39;m programming it in java and using ArrayLists for holding the units.\r\n\r\nSo far I have the path broken up into different blocks that each have a list of units in them.  As a unit leaves the block it gets passed to the next block on the path.  If the units all moved at the same speed it would be easy to keep track of which unit is farthest because it would be the first in the list.  But I&#39;d like the units to be able to move at different speeds.\r\n\r\nWhen a unit is added to a block it gets added to the end of the arraylist.  So the units that were added earlier are at the front of the list and the units that were recently added are at the end of the list.\r\n\r\nMy original idea was to have each unit check the units lower than it in the arraylist to see if they&#39;re farther along the path.  If they are it would move down the arraylist to the correct spot.  This kind of seems like a lot additional work for the blocks to do and I&#39;m afraid it will slow down the game alot.\r\n\r\nIs this a good idea or should I try something else?  I can post some of the code if it would help.","title":"How do I keep a list of units in a path in order?","body":"<p>I'm working on a tower defense game and I want the defending turrets to shoot at the attacking unit thats farthest along the path within its range.  I'm programming it in java and using ArrayLists for holding the units.</p>\n\n<p>So far I have the path broken up into different blocks that each have a list of units in them.  As a unit leaves the block it gets passed to the next block on the path.  If the units all moved at the same speed it would be easy to keep track of which unit is farthest because it would be the first in the list.  But I'd like the units to be able to move at different speeds.</p>\n\n<p>When a unit is added to a block it gets added to the end of the arraylist.  So the units that were added earlier are at the front of the list and the units that were recently added are at the end of the list.</p>\n\n<p>My original idea was to have each unit check the units lower than it in the arraylist to see if they're farther along the path.  If they are it would move down the arraylist to the correct spot.  This kind of seems like a lot additional work for the blocks to do and I'm afraid it will slow down the game alot.</p>\n\n<p>Is this a good idea or should I try something else?  I can post some of the code if it would help.</p>\n"},{"tags":["java","prepared-statement","threadpool"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638272812,"creation_date":1638272812,"answer_id":70168858,"question_id":70168555,"body_markdown":"Absolutely. You should not be doing this - each thread needs to have its own database connection (which therefore implies it neccessarily also ends up having its own `PreparedStatement`).\r\n\r\nBetter yet - don&#39;t do this. You&#39;re just making things confusing and slower, it&#39;s lose-lose-lose. There is no benefit at all to your plan. The database isn&#39;t going to magically do the job faster if you insert from 2 threads simultaneously.\r\n\r\nThe conclusion is simple: __threads are a really  bad idea when INSERTing a lot of data into the same table, so DO NOT DO IT!__\r\n\r\n## But I really want to speed up my INSERTs!\r\n\r\n### My data gathering is slow\r\n\r\n__IF__ (big if!!) gathering the data for insertion is slower than the database can insert records for you, __and__ the data gathering job lends itself well to multi-threading, then have threads that gather the data, but have these threads put objects onto a queue, and have a separate &#39;DB inserter&#39; thread (the only thread that even has a connection to the DB) that pulls objects off this queue and runs an INSERT.\r\n\r\nIf you can gather the data quickly, or the source does not lend itself to multi-threaded, this only makes your code longer, harder to understand, considerably harder to test, and slower. No point at all.\r\n\r\nUseful tools: [`LinkedBlockingQueue`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/LinkedBlockingQueue.html) - an instance of this is the one piece of shared data all threads have. Your data gatherer threads toss objects onto this queue, and your single db inserted thread fetches objects off of it.\r\n\r\n### General insert speed advice 1: bundling\r\n\r\nDBs work in transactions. If you have autocommit mode on (and Connections start in this mode), that&#39;s not &#39;no transactions&#39;. That&#39;s merely (hence the name): The DB commits after every transaction. You can&#39;t do &#39;non-transactional&#39; in proper databases. A `commit()` is heavy (takes a long time to process), but so is excessively long transactions (doing thousands of things in a single transaction before committing). Thus, you get the goldilocks principle: You want to run about 500 or so inserts, then commit.\r\n\r\nNote that this has a downside: If an error occurs halfway through this process, then some records have been committed and some haven&#39;t been. Keep that in mind - your process needs to be idempotent or that is likely not acceptable and you&#39;d need to _make it_ idempotent (e.g. by having a column that lists the &#39;insert session&#39; id, so you can delete them all if the operation cannot be completed properly) - and if your DB is simultaneously used by other stuff, you need more complexity as well (some sort of flag or filter so that other simultaneous code doesn&#39;t consider any of the committed, inserted records until the entire batch is completely added).\r\n\r\nRelevant methods:\r\n* [`con.setAutoCommit(false);`](https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Connection.html#setAutoCommit(boolean))\r\n* [`con.commit()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Connection.html#commit())\r\n* This general structure:\r\n\r\n```java\r\ntry (PreparedStatement ps = con.prepare.......) {\r\n  int inserted = 0;\r\n  while (!allGenerationDone) {\r\n    Data d = queue.take();\r\n    ps.setString(1, d.getName());\r\n    ps.setDate(2, d.getBirthDate());\r\n    // set the other stuff\r\n    ps.execute();\r\n    if (inserted++ % 500 == 0) con.commit();\r\n  }\r\n}\r\ncon.commit();\r\n```\r\n\r\n\r\n## General insert speed advice 2: bulk\r\n\r\nMost DB engines have special commands for bulk insertion. From a DB engine&#39;s perspective, various cleanup and care tasks take a ton of time and may not even be neccessary, or can be combined to save a load of time, when doing bulk inserts. Specifically, checking of constraints (particularly, reference constraints) and building of indices takes most of the time of processing an `INSERT`, and these things can either be skipped entirely or sped up considerably by doing them in bulk all at once at the end.\r\n\r\nThe way to do this is highly dependent on the underlying database. For example, in postgres, you can turn off constraint checking and turn off index building, then run your inserts, then re-enable. You can even choose to omit constraint checks entirely (meaning, your DB could be in an invalid state if your code is messed up, but if speed is more important than safety this can be the right way to go about it). Index building is _considerably_ faster if done at the end.\r\n\r\nOther databases generally have similar strategies. Alternatively, there are commands that combine it all, generally called `COPY` (instead of `INSERT`). Check your DB engine&#39;s docs.\r\n\r\nRead [this SO question](https://stackoverflow.com/questions/46715354/how-does-copy-work-and-why-is-it-so-much-faster-than-insert) for some info and benchmarks on how `COPY` compares to `INSERT`. And use a web search engine searching for e.g. `mysql bulk insert`.\r\n","title":"PreparedStatement in Threads (java)","body":"<p>Absolutely. You should not be doing this - each thread needs to have its own database connection (which therefore implies it neccessarily also ends up having its own <code>PreparedStatement</code>).</p>\n<p>Better yet - don't do this. You're just making things confusing and slower, it's lose-lose-lose. There is no benefit at all to your plan. The database isn't going to magically do the job faster if you insert from 2 threads simultaneously.</p>\n<p>The conclusion is simple: <strong>threads are a really  bad idea when INSERTing a lot of data into the same table, so DO NOT DO IT!</strong></p>\n<h2>But I really want to speed up my INSERTs!</h2>\n<h3>My data gathering is slow</h3>\n<p><strong>IF</strong> (big if!!) gathering the data for insertion is slower than the database can insert records for you, <strong>and</strong> the data gathering job lends itself well to multi-threading, then have threads that gather the data, but have these threads put objects onto a queue, and have a separate 'DB inserter' thread (the only thread that even has a connection to the DB) that pulls objects off this queue and runs an INSERT.</p>\n<p>If you can gather the data quickly, or the source does not lend itself to multi-threaded, this only makes your code longer, harder to understand, considerably harder to test, and slower. No point at all.</p>\n<p>Useful tools: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/LinkedBlockingQueue.html\" rel=\"nofollow noreferrer\"><code>LinkedBlockingQueue</code></a> - an instance of this is the one piece of shared data all threads have. Your data gatherer threads toss objects onto this queue, and your single db inserted thread fetches objects off of it.</p>\n<h3>General insert speed advice 1: bundling</h3>\n<p>DBs work in transactions. If you have autocommit mode on (and Connections start in this mode), that's not 'no transactions'. That's merely (hence the name): The DB commits after every transaction. You can't do 'non-transactional' in proper databases. A <code>commit()</code> is heavy (takes a long time to process), but so is excessively long transactions (doing thousands of things in a single transaction before committing). Thus, you get the goldilocks principle: You want to run about 500 or so inserts, then commit.</p>\n<p>Note that this has a downside: If an error occurs halfway through this process, then some records have been committed and some haven't been. Keep that in mind - your process needs to be idempotent or that is likely not acceptable and you'd need to <em>make it</em> idempotent (e.g. by having a column that lists the 'insert session' id, so you can delete them all if the operation cannot be completed properly) - and if your DB is simultaneously used by other stuff, you need more complexity as well (some sort of flag or filter so that other simultaneous code doesn't consider any of the committed, inserted records until the entire batch is completely added).</p>\n<p>Relevant methods:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Connection.html#setAutoCommit(boolean)\" rel=\"nofollow noreferrer\"><code>con.setAutoCommit(false);</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Connection.html#commit()\" rel=\"nofollow noreferrer\"><code>con.commit()</code></a></li>\n<li>This general structure:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>try (PreparedStatement ps = con.prepare.......) {\n  int inserted = 0;\n  while (!allGenerationDone) {\n    Data d = queue.take();\n    ps.setString(1, d.getName());\n    ps.setDate(2, d.getBirthDate());\n    // set the other stuff\n    ps.execute();\n    if (inserted++ % 500 == 0) con.commit();\n  }\n}\ncon.commit();\n</code></pre>\n<h2>General insert speed advice 2: bulk</h2>\n<p>Most DB engines have special commands for bulk insertion. From a DB engine's perspective, various cleanup and care tasks take a ton of time and may not even be neccessary, or can be combined to save a load of time, when doing bulk inserts. Specifically, checking of constraints (particularly, reference constraints) and building of indices takes most of the time of processing an <code>INSERT</code>, and these things can either be skipped entirely or sped up considerably by doing them in bulk all at once at the end.</p>\n<p>The way to do this is highly dependent on the underlying database. For example, in postgres, you can turn off constraint checking and turn off index building, then run your inserts, then re-enable. You can even choose to omit constraint checks entirely (meaning, your DB could be in an invalid state if your code is messed up, but if speed is more important than safety this can be the right way to go about it). Index building is <em>considerably</em> faster if done at the end.</p>\n<p>Other databases generally have similar strategies. Alternatively, there are commands that combine it all, generally called <code>COPY</code> (instead of <code>INSERT</code>). Check your DB engine's docs.</p>\n<p>Read <a href=\"https://stackoverflow.com/questions/46715354/how-does-copy-work-and-why-is-it-so-much-faster-than-insert\">this SO question</a> for some info and benchmarks on how <code>COPY</code> compares to <code>INSERT</code>. And use a web search engine searching for e.g. <code>mysql bulk insert</code>.</p>\n"}],"owner":{"account_id":23501564,"reputation":25,"user_id":17551397,"display_name":"Rusandal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70168858,"answer_count":1,"score":1,"last_activity_date":1638272812,"creation_date":1638271457,"question_id":70168555,"body_markdown":"I am writing a program with threads insert into a db.\r\nExample\r\n\r\n    public static void save(String name){\r\n    {\r\n        try(PreparedStatement preparedStatement = ...insert...)\r\n        {\r\n            preparedStatement.setString(1, name);\r\n            preparedStatement.executeUpdate();\r\n            preparedStatement.close();\r\n        } catch (...){\r\n        }\r\n    }\r\n\r\nQuestion: Could it be that when simultaneously executing threads of insert into a table, one thread will use (preparedStatement.executeUpdate()) the preparedStatement from another Thread?","title":"PreparedStatement in Threads (java)","body":"<p>I am writing a program with threads insert into a db.\nExample</p>\n<pre><code>public static void save(String name){\n{\n    try(PreparedStatement preparedStatement = ...insert...)\n    {\n        preparedStatement.setString(1, name);\n        preparedStatement.executeUpdate();\n        preparedStatement.close();\n    } catch (...){\n    }\n}\n</code></pre>\n<p>Question: Could it be that when simultaneously executing threads of insert into a table, one thread will use (preparedStatement.executeUpdate()) the preparedStatement from another Thread?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1638214595,"post_id":70158943,"comment_id":124024024,"body_markdown":"Is there perhaps a definition of `DynamoDBMapperConfig` in the library or some other code? Making one bean primary should at least fix the error. Even if it’s not the right/best solution.","body":"Is there perhaps a definition of <code>DynamoDBMapperConfig</code> in the library or some other code? Making one bean primary should at least fix the error. Even if it’s not the right/best solution."},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1638217326,"post_id":70158943,"comment_id":124024919,"body_markdown":"And what spring version are you using? With spring boot?","body":"And what spring version are you using? With spring boot?"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638208413,"creation_date":1638208413,"answer_id":70159164,"question_id":70158943,"body_markdown":"You need to stop scanning package where `Consumer` declared.","title":"Spring profile annotation multiple beans","body":"<p>You need to stop scanning package where <code>Consumer</code> declared.</p>\n"},{"tags":[],"owner":{"account_id":5277424,"reputation":2670,"user_id":4213803,"accept_rate":80,"display_name":"V&#252;sal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638272734,"creation_date":1638272734,"answer_id":70168836,"question_id":70158943,"body_markdown":"`@Profile` behaves differently if it&#39;s applied to the `@Bean` annotated method.\r\n\r\nFrom [Profile doc.](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html):  \r\n&gt; Use distinct Java method names pointing to the same bean name if you&#39;d like to define alternative beans with different profile conditions  \r\n\r\nThis means, you should do:  \r\n```\r\n@Configuration\r\npublic class Config {\r\n    \r\n    @Bean(&quot;a&quot;)\r\n    @Profile(&quot;!dev&quot;)\r\n    A a1(){\r\n        return new A();\r\n    }\r\n    \r\n    @Bean(&quot;a&quot;)\r\n    @Profile(&quot;dev&quot;)\r\n    A a2(){\r\n        return new A();\r\n    }\r\n}\r\n```  \r\n\r\nNote the same bean names.","title":"Spring profile annotation multiple beans","body":"<p><code>@Profile</code> behaves differently if it's applied to the <code>@Bean</code> annotated method.</p>\n<p>From <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html\" rel=\"nofollow noreferrer\">Profile doc.</a>:</p>\n<blockquote>\n<p>Use distinct Java method names pointing to the same bean name if you'd like to define alternative beans with different profile conditions</p>\n</blockquote>\n<p>This means, you should do:</p>\n<pre><code>@Configuration\npublic class Config {\n    \n    @Bean(&quot;a&quot;)\n    @Profile(&quot;!dev&quot;)\n    A a1(){\n        return new A();\n    }\n    \n    @Bean(&quot;a&quot;)\n    @Profile(&quot;dev&quot;)\n    A a2(){\n        return new A();\n    }\n}\n</code></pre>\n<p>Note the same bean names.</p>\n"}],"owner":{"account_id":7878616,"reputation":19,"user_id":8601513,"display_name":"Nikita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638272734,"creation_date":1638207425,"question_id":70158943,"body_markdown":"Let&#39;s say I have a library (I cannot change it). There is a class Consumer that uses a spring component of class A.\r\n\r\n    @Component\r\n    public class Consumer{\r\n       @Autowired\r\n       private A a;\r\n    }\r\n\r\n\r\nIn my configuration class I want to define two beans of same class A depending on the profile.\r\n\r\n    @Configuration\r\n    public class Config {\r\n        \r\n        @Bean\r\n        @Profile(&quot;!dev&quot;)\r\n        A a1(){\r\n            return new A();\r\n        }\r\n        \r\n        @Bean\r\n        @Profile(&quot;dev&quot;)\r\n        A a2(){\r\n            return new A();\r\n        }\r\n    }\r\n\r\nBut when I start the app, I get next exception \r\n\r\n&gt; Parameter 1 of constructor in sample.Consumer required a single bean, but 2 were found:\r\n\r\nI can&#39;t get how to fix that. I&#39;ve tried to create 2 separate configs for that with profile annotation and single bean there, but it also did not work.\r\nMarking one bean @Primary also does not help.\r\n\r\nDo you guys know how to fix that? Thanks!\r\n\r\nUPD.\r\n\r\nLet me make it more specific. That class is a part of dynamodb spring starter. Consumer - DynamoDBMapperFactory. My bean - DynamoDBMapperConfig. So I want to have 2 versions of DynamoDBMapperConfig in my app.","title":"Spring profile annotation multiple beans","body":"<p>Let's say I have a library (I cannot change it). There is a class Consumer that uses a spring component of class A.</p>\n<pre><code>@Component\npublic class Consumer{\n   @Autowired\n   private A a;\n}\n</code></pre>\n<p>In my configuration class I want to define two beans of same class A depending on the profile.</p>\n<pre><code>@Configuration\npublic class Config {\n    \n    @Bean\n    @Profile(&quot;!dev&quot;)\n    A a1(){\n        return new A();\n    }\n    \n    @Bean\n    @Profile(&quot;dev&quot;)\n    A a2(){\n        return new A();\n    }\n}\n</code></pre>\n<p>But when I start the app, I get next exception</p>\n<blockquote>\n<p>Parameter 1 of constructor in sample.Consumer required a single bean, but 2 were found:</p>\n</blockquote>\n<p>I can't get how to fix that. I've tried to create 2 separate configs for that with profile annotation and single bean there, but it also did not work.\nMarking one bean @Primary also does not help.</p>\n<p>Do you guys know how to fix that? Thanks!</p>\n<p>UPD.</p>\n<p>Let me make it more specific. That class is a part of dynamodb spring starter. Consumer - DynamoDBMapperFactory. My bean - DynamoDBMapperConfig. So I want to have 2 versions of DynamoDBMapperConfig in my app.</p>\n"},{"tags":["java","python-3.x","unit-testing"],"comments":[{"owner":{"account_id":2225264,"reputation":3565,"user_id":1972388,"accept_rate":77,"display_name":"DevWithZachary"},"score":0,"creation_date":1638272815,"post_id":70168834,"comment_id":124039272,"body_markdown":"I&#39;m sure you could hack something together... but why not just write your unit tests in Java?","body":"I&#39;m sure you could hack something together... but why not just write your unit tests in Java?"},{"owner":{"account_id":2225264,"reputation":3565,"user_id":1972388,"accept_rate":77,"display_name":"DevWithZachary"},"score":0,"creation_date":1638272860,"post_id":70168834,"comment_id":124039286,"body_markdown":"actually, no on second thought it&#39;s a terrible idea. Stick to writing unit tests in the language your code base is in.","body":"actually, no on second thought it&#39;s a terrible idea. Stick to writing unit tests in the language your code base is in."},{"owner":{"account_id":23056528,"reputation":21,"user_id":17172486,"display_name":"Zubair"},"score":0,"creation_date":1638273093,"post_id":70168834,"comment_id":124039378,"body_markdown":"I got it. So, the best way will be learning JAVA. Thanks for your suggestions.","body":"I got it. So, the best way will be learning JAVA. Thanks for your suggestions."}],"owner":{"account_id":23056528,"reputation":21,"user_id":17172486,"display_name":"Zubair"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1638272716,"creation_date":1638272716,"question_id":70168834,"body_markdown":"Is there any way that I can run an unit test for a java file in python? Basically I create unit test in python language. But recently, I got a project that is written in java. So, if I want to run unit test do I need learn JAVA? Or I can do it in python? ","title":"Is there any way that I can run an unit test for a java file in python?","body":"<p>Is there any way that I can run an unit test for a java file in python? Basically I create unit test in python language. But recently, I got a project that is written in java. So, if I want to run unit test do I need learn JAVA? Or I can do it in python?</p>\n"},{"tags":["java","database","spring-boot","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1638271498,"post_id":70168163,"comment_id":124038816,"body_markdown":"Why not just a **SELECT COUNT(*) AS CNT FROM &lt;table&gt;**? If the table is empty count is 0.","body":"Why not just a <b>SELECT COUNT(*) AS CNT FROM &lt;table&gt;</b>? If the table is empty count is 0."}],"answers":[{"tags":[],"owner":{"account_id":17397631,"reputation":1874,"user_id":12607126,"display_name":"Michael Golos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638272434,"creation_date":1638272434,"answer_id":70168776,"question_id":70168163,"body_markdown":"You can query the INFORMATION_SCHEMA tables:\r\n\r\n    SELECT ROW_COUNT\r\n        FROM INFORMATION_SCHEMA.TABLES\r\n       WHERE TABLE_SCHEMA = &#39;&lt;schema_name&gt;&#39;\r\n         AND TABLE_NAME = &#39;&lt;table_name&gt;&#39;;\r\n\r\nOr use SHOW TABLES and get the result using result_scan:\r\n\r\n    SHOW TABLES LIKE &#39;pattern&#39;;\r\n    \r\n    SELECT rows\r\n      FROM TABLE (result_scan (last_query_id ()));\r\n\r\n\r\nReference: [INFORMATION SCHEMA.TABLES][1], [SHOW TABLES][2], [RESULT_SCAN][3]\r\n\r\n\r\n  [1]: https://docs.snowflake.com/en/sql-reference/info-schema/tables.html\r\n  [2]: https://docs.snowflake.com/en/sql-reference/sql/show-tables.html\r\n  [3]: https://docs.snowflake.com/en/sql-reference/functions/result_scan.html","title":"How to check if table in Snowflake is empty and get response for it - Java, SpringBoot","body":"<p>You can query the INFORMATION_SCHEMA tables:</p>\n<pre><code>SELECT ROW_COUNT\n    FROM INFORMATION_SCHEMA.TABLES\n   WHERE TABLE_SCHEMA = '&lt;schema_name&gt;'\n     AND TABLE_NAME = '&lt;table_name&gt;';\n</code></pre>\n<p>Or use SHOW TABLES and get the result using result_scan:</p>\n<pre><code>SHOW TABLES LIKE 'pattern';\n\nSELECT rows\n  FROM TABLE (result_scan (last_query_id ()));\n</code></pre>\n<p>Reference: <a href=\"https://docs.snowflake.com/en/sql-reference/info-schema/tables.html\" rel=\"nofollow noreferrer\">INFORMATION SCHEMA.TABLES</a>, <a href=\"https://docs.snowflake.com/en/sql-reference/sql/show-tables.html\" rel=\"nofollow noreferrer\">SHOW TABLES</a>, <a href=\"https://docs.snowflake.com/en/sql-reference/functions/result_scan.html\" rel=\"nofollow noreferrer\">RESULT_SCAN</a></p>\n"}],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638272434,"creation_date":1638269858,"question_id":70168163,"body_markdown":"I am using Snowflake database with Spring Boot in my project.\r\n\r\nI have written a query in Java that queries the Snowflake temporary table and then copies that data in CVS format to S3.\r\n\r\nEverything works fine until there is a user with no Snowflake data.\r\nThen the temporary table that was created is empty and no data is being copied in S3 which gives an error from S3 that `objectKey is not found`\r\n\r\nSo I was thinking to first create temporary table and then to check it if is empty.\r\nIf is not empty, copy data to S3 if it is, return error.\r\n\r\nI have this code for creating temporary table\r\n\r\n    public void getUser(String userId, String dbName) {\r\n    \r\n    String q = &quot;CREATE TEMPORARY TABLE \\&quot;TEST_DATABASE\\&quot;.\\&quot;PUBLIC\\&quot;.\\&quot;USER_TABLE_TEMP\\&quot; AS SELECT \\&quot;USERID\\&quot;, \\&quot;FIRSTNAME\\&quot;, \\&quot;LASTNAME\\&quot; from \\&quot;TEST_DATABASE\\&quot;.\\&quot;PUBLIC\\&quot;.\\&quot;USER\\&quot;&quot;;\r\n    \r\n    jdbcTemplatePerBrand.values().forEach(tab -&gt; tab.query(q, s -&gt; {}));\r\n    \r\n    }\r\n\r\nThen I was thinking to add this part of code to check if table is empty:\r\n\r\n    String ifTableEmpty = &quot;SELECT CASE WHEN EXISTS(SELECT 1 FROM \\&quot;TEST_DATABASE\\&quot;.\\&quot;PUBLIC\\&quot;.\\&quot;USER_TABLE_TEMP\\&quot;) THEN 0 ELSE 1 END AS IsEmpty;\\n&quot;;\r\n    \r\n    jdbcTemplatePerBrand.get(brandAfterMigration).query(ifTableEmpty, s -&gt; {});\r\n    \r\n    if(ifTableEmpty.equals(&quot;0&quot;)){\r\n     System.out.println(&quot;&quot;);\r\n    }\r\n\r\nFrom above query I am not getting any result in way of 0 or 1 (Which I would like).\r\n\r\nWhen I run a query to check if the table is empty in Snowflake, I get this result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x4GVr.png\r\n\r\nBut I don&#39;t know how to get that result back to my code.\r\n","title":"How to check if table in Snowflake is empty and get response for it - Java, SpringBoot","body":"<p>I am using Snowflake database with Spring Boot in my project.</p>\n<p>I have written a query in Java that queries the Snowflake temporary table and then copies that data in CVS format to S3.</p>\n<p>Everything works fine until there is a user with no Snowflake data.\nThen the temporary table that was created is empty and no data is being copied in S3 which gives an error from S3 that <code>objectKey is not found</code></p>\n<p>So I was thinking to first create temporary table and then to check it if is empty.\nIf is not empty, copy data to S3 if it is, return error.</p>\n<p>I have this code for creating temporary table</p>\n<pre><code>public void getUser(String userId, String dbName) {\n\nString q = &quot;CREATE TEMPORARY TABLE \\&quot;TEST_DATABASE\\&quot;.\\&quot;PUBLIC\\&quot;.\\&quot;USER_TABLE_TEMP\\&quot; AS SELECT \\&quot;USERID\\&quot;, \\&quot;FIRSTNAME\\&quot;, \\&quot;LASTNAME\\&quot; from \\&quot;TEST_DATABASE\\&quot;.\\&quot;PUBLIC\\&quot;.\\&quot;USER\\&quot;&quot;;\n\njdbcTemplatePerBrand.values().forEach(tab -&gt; tab.query(q, s -&gt; {}));\n\n}\n</code></pre>\n<p>Then I was thinking to add this part of code to check if table is empty:</p>\n<pre><code>String ifTableEmpty = &quot;SELECT CASE WHEN EXISTS(SELECT 1 FROM \\&quot;TEST_DATABASE\\&quot;.\\&quot;PUBLIC\\&quot;.\\&quot;USER_TABLE_TEMP\\&quot;) THEN 0 ELSE 1 END AS IsEmpty;\\n&quot;;\n\njdbcTemplatePerBrand.get(brandAfterMigration).query(ifTableEmpty, s -&gt; {});\n\nif(ifTableEmpty.equals(&quot;0&quot;)){\n System.out.println(&quot;&quot;);\n}\n</code></pre>\n<p>From above query I am not getting any result in way of 0 or 1 (Which I would like).</p>\n<p>When I run a query to check if the table is empty in Snowflake, I get this result:</p>\n<p><a href=\"https://i.stack.imgur.com/x4GVr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x4GVr.png\" alt=\"enter image description here\" /></a></p>\n<p>But I don't know how to get that result back to my code.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1638164608,"post_id":70150180,"comment_id":124005827,"body_markdown":"as per this context you need factory that returns object and then cast same into your client. or add more context","body":"as per this context you need factory that returns object and then cast same into your client. or add more context"},{"owner":{"account_id":17690549,"reputation":155,"user_id":12842412,"display_name":"ysn"},"score":0,"creation_date":1638169831,"post_id":70150180,"comment_id":124006861,"body_markdown":"@bananas , could you please small code snippet of the approach ?","body":"@bananas , could you please small code snippet of the approach ?"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638272290,"creation_date":1638272290,"answer_id":70168744,"question_id":70150180,"body_markdown":"I changed the class names.\r\n\r\n```\r\nclass SOQ&lt;T&gt;\r\n{\r\n\r\n   T defaultValue;\r\n   String value;\r\n   \r\n}\r\n\r\nclass SOQ_Impl\r\n{\r\n\r\n   private void test(String datatype)\r\n   {\r\n   \r\n      switch (datatype)\r\n      {\r\n      \r\n         case &quot;Integer&quot;: {\r\n            SOQ&lt;Integer&gt; test = new SOQ&lt;&gt;();\r\n            test.defaultValue = 3;\r\n            actionsCommonForAllPossibleDataTypes(test);\r\n            break;\r\n         }\r\n      \r\n         case &quot;String&quot;: {\r\n            SOQ&lt;String&gt; test = new SOQ&lt;&gt;();\r\n            test.defaultValue = &quot;dummy&quot;;\r\n            actionsCommonForAllPossibleDataTypes(test);\r\n            break;\r\n         }\r\n      \r\n      }\r\n      \r\n   }\r\n   \r\n   private void actionsCommonForAllPossibleDataTypes(SOQ&lt;?&gt; test)\r\n   {\r\n   \r\n         // some other actions common for all possible data types \r\n   \r\n   }\r\n   \r\n}\r\n```\r\n\r\nYou declared the type with a `&lt;?&gt;` parameter, and that is what is causing you problems. I resolved this by not declaring the variable I was going to use until after I knew what type I wanted it to be.","title":"Assigning datatype to a generic type of variable based on a condition in Java","body":"<p>I changed the class names.</p>\n<pre><code>class SOQ&lt;T&gt;\n{\n\n   T defaultValue;\n   String value;\n   \n}\n\nclass SOQ_Impl\n{\n\n   private void test(String datatype)\n   {\n   \n      switch (datatype)\n      {\n      \n         case &quot;Integer&quot;: {\n            SOQ&lt;Integer&gt; test = new SOQ&lt;&gt;();\n            test.defaultValue = 3;\n            actionsCommonForAllPossibleDataTypes(test);\n            break;\n         }\n      \n         case &quot;String&quot;: {\n            SOQ&lt;String&gt; test = new SOQ&lt;&gt;();\n            test.defaultValue = &quot;dummy&quot;;\n            actionsCommonForAllPossibleDataTypes(test);\n            break;\n         }\n      \n      }\n      \n   }\n   \n   private void actionsCommonForAllPossibleDataTypes(SOQ&lt;?&gt; test)\n   {\n   \n         // some other actions common for all possible data types \n   \n   }\n   \n}\n</code></pre>\n<p>You declared the type with a <code>&lt;?&gt;</code> parameter, and that is what is causing you problems. I resolved this by not declaring the variable I was going to use until after I knew what type I wanted it to be.</p>\n"}],"owner":{"account_id":17690549,"reputation":155,"user_id":12842412,"display_name":"ysn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70168744,"answer_count":1,"score":1,"last_activity_date":1638272290,"creation_date":1638164253,"question_id":70150180,"body_markdown":"I have a usecase of supporting multiple datatypes for same variable. So tried to use Generics. For example\r\n\r\n```java\r\nclass Test&lt;T&gt; {\r\n    T defaultValue;\r\n    String value;\r\n}\r\n\r\nclass TestImpl {\r\n    private void test(String datatype ){\r\n        Test&lt;?&gt; test = null;\r\n        if (datatype.equals(&quot;Integer&quot;)) {\r\n            test = new Test&lt;Integer&gt;();\r\n            test.setDefaultValue(3); // I get some issues while doing this statement\r\n        }\r\n        if (datatype.equals(&quot;String&quot;)) {\r\n            test = new Test&lt;String&gt;();\r\n            test.setDefaultValue(&quot;dummy&quot;);\r\n        }\r\n        // some other actions common for all possible data types \r\n    }\r\n}\r\n```\r\n\r\nThe above code does not work. Can anyone please suggest a good way of doing it?","title":"Assigning datatype to a generic type of variable based on a condition in Java","body":"<p>I have a usecase of supporting multiple datatypes for same variable. So tried to use Generics. For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Test&lt;T&gt; {\n    T defaultValue;\n    String value;\n}\n\nclass TestImpl {\n    private void test(String datatype ){\n        Test&lt;?&gt; test = null;\n        if (datatype.equals(&quot;Integer&quot;)) {\n            test = new Test&lt;Integer&gt;();\n            test.setDefaultValue(3); // I get some issues while doing this statement\n        }\n        if (datatype.equals(&quot;String&quot;)) {\n            test = new Test&lt;String&gt;();\n            test.setDefaultValue(&quot;dummy&quot;);\n        }\n        // some other actions common for all possible data types \n    }\n}\n</code></pre>\n<p>The above code does not work. Can anyone please suggest a good way of doing it?</p>\n"},{"tags":["java","spring","spring-boot","email"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638268716,"post_id":70167758,"comment_id":124037690,"body_markdown":"It cannot be `null`, else your test would fail with an error stating the `@Autowired` couldn&#39;t be fulfilled. You are using Junit make sure you aren&#39;t mixing JUnit 4 and 5 in one calls.","body":"It cannot be <code>null</code>, else your test would fail with an error stating the <code>@Autowired</code> couldn&#39;t be fulfilled. You are using Junit make sure you aren&#39;t mixing JUnit 4 and 5 in one calls."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1638269145,"post_id":70167758,"comment_id":124037841,"body_markdown":"first guess: Is `MailSenderTestConfiguration` picked up by component scan? (if it is,) 2. guess: Is `javaMailSender == null` or `mailService.javaMailSender == null` ??","body":"first guess: Is <code>MailSenderTestConfiguration</code> picked up by component scan? (if it is,) 2. guess: Is <code>javaMailSender == null</code> or <code>mailService.javaMailSender == null</code> ??"}],"answers":[{"tags":[],"owner":{"account_id":10967097,"reputation":36,"user_id":8058533,"display_name":"Peasant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638270216,"creation_date":1638270216,"answer_id":70168257,"question_id":70167758,"body_markdown":"The configuration looks fine. I just run it on my local and it works. The reason may be that your MailSenderTestConfiguration is not invoked - try to put breakpoint inside the testJavaMailSender() method. \r\n\r\nI would try to experiment with `@SpringBootTest(classes = ....)` and/or separate `@TestConfiguration` class to make sure that the test loads correct context with my test config.\r\n\r\nThis is my test class (all in one file) that works fine:\r\n\r\n    import org.junit.jupiter.api.AfterEach;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @SpringBootTest\r\n    class ApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;testJavaMailSender&quot;)\r\n    \tprivate JavaMailSender javaMailSender;\r\n    \r\n    \r\n    \t@BeforeEach\r\n    \tpublic void setup() {\r\n    \t\tSystem.out.println(&quot;Do before each!&quot;);\r\n    \t}\r\n    \r\n    \t@AfterEach\r\n    \tpublic void teardown() {\r\n    \t\tSystem.out.println(&quot;Do after each!&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void shouldSendNotificationEmailToRecipient() {\r\n    \t\tSystem.out.println(javaMailSender.getMessage());\r\n    \r\n    \t}\r\n    }\r\n    \r\n    @Configuration\r\n    class MailSenderTestConfiguration {\r\n    \r\n    \t@Bean(name = &quot;testJavaMailSender&quot;)\r\n    \tpublic JavaMailSender testJavaMailSender() {\r\n    \t\tSystem.out.println(&quot;My config works!&quot;);\r\n    \t\tJavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    \t\treturn mailSender;\r\n    \t}\r\n    }\r\n    \r\n    class JavaMailSenderImpl implements JavaMailSender {\r\n    \r\n    \t@Override\r\n    \tpublic String getMessage() {\r\n    \t\treturn &quot;I&#39;m the one you&#39;re looking for!&quot;;\r\n    \t}\r\n    }\r\n    \r\n    interface JavaMailSender {\r\n    \tString getMessage();\r\n    }\r\n\r\nOutput:\r\n\r\n    My config works!\r\n    ......\r\n    Do before each!\r\n    I&#39;m the one you&#39;re looking for!\r\n    Do after each!","title":"@SpringBootTest does not autowire JavaMailSender. I setup everything and also created an explicit Bean. Still does not work","body":"<p>The configuration looks fine. I just run it on my local and it works. The reason may be that your MailSenderTestConfiguration is not invoked - try to put breakpoint inside the testJavaMailSender() method.</p>\n<p>I would try to experiment with <code>@SpringBootTest(classes = ....)</code> and/or separate <code>@TestConfiguration</code> class to make sure that the test loads correct context with my test config.</p>\n<p>This is my test class (all in one file) that works fine:</p>\n<pre><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@SpringBootTest\nclass ApplicationTests {\n\n    @Autowired\n    @Qualifier(&quot;testJavaMailSender&quot;)\n    private JavaMailSender javaMailSender;\n\n\n    @BeforeEach\n    public void setup() {\n        System.out.println(&quot;Do before each!&quot;);\n    }\n\n    @AfterEach\n    public void teardown() {\n        System.out.println(&quot;Do after each!&quot;);\n    }\n\n    @Test\n    public void shouldSendNotificationEmailToRecipient() {\n        System.out.println(javaMailSender.getMessage());\n\n    }\n}\n\n@Configuration\nclass MailSenderTestConfiguration {\n\n    @Bean(name = &quot;testJavaMailSender&quot;)\n    public JavaMailSender testJavaMailSender() {\n        System.out.println(&quot;My config works!&quot;);\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n        return mailSender;\n    }\n}\n\nclass JavaMailSenderImpl implements JavaMailSender {\n\n    @Override\n    public String getMessage() {\n        return &quot;I'm the one you're looking for!&quot;;\n    }\n}\n\ninterface JavaMailSender {\n    String getMessage();\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>My config works!\n......\nDo before each!\nI'm the one you're looking for!\nDo after each!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638272104,"creation_date":1638270262,"answer_id":70168264,"question_id":70167758,"body_markdown":"This Test passes (all in one .java file):\r\n\r\n\t@SpringBootTest\r\n\tclass DemoApplicationTests {\r\n\t\t@Autowired \r\n\t\t@Qualifier(&quot;testJavaMailSender&quot;)\r\n\t\tprivate JavaMailSender javaMailSender;\r\n\r\n\t\t@Test\r\n\t\tvoid contextLoads() {\r\n\t\t\tassertNotNull(javaMailSender);\r\n\t\t}\r\n\r\n\t}\r\n\t@Configuration\r\n\tclass MailSenderTestConfiguration {\r\n\r\n\t\t@Bean(name = &quot;testJavaMailSender&quot;)\r\n\t\tpublic JavaMailSender testJavaMailSender() {\r\n            // for simplicity/brevity just:\r\n\t\t\treturn new JavaMailSenderImpl();\r\n\t\t}\r\n\t}\r\n\r\nWhereas this *does not* (same file, on the second assert):\r\n\r\n\t@SpringBootTest\r\n\tclass DemoApplicationTests {\r\n\t\t@Autowired // this happens &quot;long after&quot; instantiation/construction (of DemoApplicationTests object), but before @Test ;)\r\n\t\t@Qualifier(&quot;testJavaMailSender&quot;)\r\n\t\tprivate JavaMailSender javaMailSender;\r\n        \r\n        // This will be FINALLY assigned, before DemoApplicationTests (object) is even (properly) created/before constructor.\r\n\t\tfinal MailService ms = new MailService(javaMailSender);\r\n\r\n\t\t@Test\r\n\t\tvoid contextLoads() {\r\n\t\t\tassertNotNull(javaMailSender); // pass!\r\n\t\t\tassertNotNull(ms.ms); // FAILS here!\r\n\t\t}\r\n\r\n\t}\r\n\t@Configuration\r\n\tclass MailSenderTestConfiguration {\r\n\t\t@Bean(name = &quot;testJavaMailSender&quot;)\r\n\t\tpublic JavaMailSender testJavaMailSender() {\r\n\t\t\treturn new JavaMailSenderImpl();\r\n\t\t}\r\n\t}\r\n\tclass MailService {\r\n\t\tfinal JavaMailSender ms;\r\n\t\tMailService(JavaMailSender ms) {\r\n\t\t\tthis.ms = ms;\r\n\t\t}\r\n\t}\r\n\r\n#### Problem:\r\n\r\nInitialization of `MailService` (in class body ... i.e. &quot;instance initializer&quot;)! (It is done BEFORE object creation(i.e. &quot;construction&quot;)/any &quot;spring magic&quot;.)\r\n\r\n#### Solution:\r\n\r\nInitialize `MailService`, when `JavaMailSender` is available! \r\n\r\ne.g. move `@Autowired` to constructor (of Test):\r\n\r\n\t@SpringBootTest\r\n\tclass DemoApplicationTests {\r\n\t\tfinal MailService ms;\r\n\r\n\t\tpublic DemoApplicationTests(@Autowired @Qualifier(&quot;testJavaMailSender&quot;) JavaMailSender javaMailSender) {\r\n\t\t\tms = new MailService(javaMailSender);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tvoid contextLoads() {\r\n\t\t\tassertNotNull(ms.ms);\r\n\t\t}\r\n\r\n\t}\r\n\r\nAnd i&#39;d even prefer:\r\n\r\n\t@SpringBootTest\r\n\tclass DemoApplicationTests {\r\n\t\t@Autowired\r\n\t\tprivate MailService ms;\r\n\t\t@Autowired\r\n\t\t@Qualifier(&quot;testJavaMailSender&quot;)\r\n\t\tprivate JavaMailSender javaMailSender;\r\n\r\n\t\t@Test\r\n\t\tvoid contextLoads() {\r\n\t\t\tassertNotNull(javaMailSender);\r\n\t\t\tassertSame(javaMailSender, ms.ms); //!\r\n\t\t}\r\n\t}\r\n\r\n\t@Configuration\r\n\tclass MailSenderTestConfiguration {\r\n\r\n\t\t@Bean(name = &quot;testJavaMailSender&quot;)\r\n\t\tpublic JavaMailSender testJavaMailSender() {\r\n\t\t\treturn new JavaMailSenderImpl();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic MailService mailService(@Qualifier(&quot;testJavaMailSender&quot;) JavaMailSender javaMailSender) {\r\n\t\t    return new MailService(javaMailSender);\r\n\t\t}\r\n\t}\r\n    \r\n...to &quot;manage&quot; `MailService` by spring.\r\n","title":"@SpringBootTest does not autowire JavaMailSender. I setup everything and also created an explicit Bean. Still does not work","body":"<p>This Test passes (all in one .java file):</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n    @Autowired \n    @Qualifier(&quot;testJavaMailSender&quot;)\n    private JavaMailSender javaMailSender;\n\n    @Test\n    void contextLoads() {\n        assertNotNull(javaMailSender);\n    }\n\n}\n@Configuration\nclass MailSenderTestConfiguration {\n\n    @Bean(name = &quot;testJavaMailSender&quot;)\n    public JavaMailSender testJavaMailSender() {\n        // for simplicity/brevity just:\n        return new JavaMailSenderImpl();\n    }\n}\n</code></pre>\n<p>Whereas this <em>does not</em> (same file, on the second assert):</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n    @Autowired // this happens &quot;long after&quot; instantiation/construction (of DemoApplicationTests object), but before @Test ;)\n    @Qualifier(&quot;testJavaMailSender&quot;)\n    private JavaMailSender javaMailSender;\n    \n    // This will be FINALLY assigned, before DemoApplicationTests (object) is even (properly) created/before constructor.\n    final MailService ms = new MailService(javaMailSender);\n\n    @Test\n    void contextLoads() {\n        assertNotNull(javaMailSender); // pass!\n        assertNotNull(ms.ms); // FAILS here!\n    }\n\n}\n@Configuration\nclass MailSenderTestConfiguration {\n    @Bean(name = &quot;testJavaMailSender&quot;)\n    public JavaMailSender testJavaMailSender() {\n        return new JavaMailSenderImpl();\n    }\n}\nclass MailService {\n    final JavaMailSender ms;\n    MailService(JavaMailSender ms) {\n        this.ms = ms;\n    }\n}\n</code></pre>\n<h4>Problem:</h4>\n<p>Initialization of <code>MailService</code> (in class body ... i.e. &quot;instance initializer&quot;)! (It is done BEFORE object creation(i.e. &quot;construction&quot;)/any &quot;spring magic&quot;.)</p>\n<h4>Solution:</h4>\n<p>Initialize <code>MailService</code>, when <code>JavaMailSender</code> is available!</p>\n<p>e.g. move <code>@Autowired</code> to constructor (of Test):</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n    final MailService ms;\n\n    public DemoApplicationTests(@Autowired @Qualifier(&quot;testJavaMailSender&quot;) JavaMailSender javaMailSender) {\n        ms = new MailService(javaMailSender);\n    }\n\n    @Test\n    void contextLoads() {\n        assertNotNull(ms.ms);\n    }\n\n}\n</code></pre>\n<p>And i'd even prefer:</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n    @Autowired\n    private MailService ms;\n    @Autowired\n    @Qualifier(&quot;testJavaMailSender&quot;)\n    private JavaMailSender javaMailSender;\n\n    @Test\n    void contextLoads() {\n        assertNotNull(javaMailSender);\n        assertSame(javaMailSender, ms.ms); //!\n    }\n}\n\n@Configuration\nclass MailSenderTestConfiguration {\n\n    @Bean(name = &quot;testJavaMailSender&quot;)\n    public JavaMailSender testJavaMailSender() {\n        return new JavaMailSenderImpl();\n    }\n\n    @Bean\n    public MailService mailService(@Qualifier(&quot;testJavaMailSender&quot;) JavaMailSender javaMailSender) {\n        return new MailService(javaMailSender);\n    }\n}\n</code></pre>\n<p>...to &quot;manage&quot; <code>MailService</code> by spring.</p>\n"}],"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638272104,"creation_date":1638267950,"question_id":70167758,"body_markdown":"I have a very hard time understanding why my `JavaMailSender` instance is not being created even tho I created an explicit Bean. The IDE is showing me a successful injection but still when I run the integration test and debug the value of `javaMailSender` it&#39;s always `null` whatever I do.\r\n\r\nHere is my test class with the `@Configuration` class that explicitly creates the `JavaMailSender` Bean.\r\n\r\n```java\r\n// MailServiceTest.java\r\n\r\n@SpringBootTest\r\nclass MailServiceTest {\r\n    @Autowired\r\n    @Qualifier(&quot;testJavaMailSender&quot;)\r\n    private JavaMailSender javaMailSender;\r\n    private final MailService mailService = new MailService(javaMailSender);\r\n    private final GreenMail greenMail = new GreenMail();\r\n\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        greenMail.setUser(&quot;foo@localhost&quot;, &quot;foo&quot;, &quot;password&quot;);\r\n        greenMail.start();\r\n    }\r\n\r\n    @AfterEach\r\n    public void teardown() {\r\n        greenMail.stop();\r\n    }\r\n\r\n    @Test\r\n    public void shouldSendNotificationEmailToRecipient() {\r\n        final String expectedText = &quot;An error occured while executing the Jira Connector import sync.&quot;\r\n                + &quot;Please see the log file: &#39;jira-connector.log&#39; in the application directory&quot;;\r\n\r\n        mailService.notifyAdmin();\r\n\r\n        final MimeMessage[] receivedMessage = greenMail.getReceivedMessagesForDomain(&quot;my-ag.com&quot;);\r\n        final String actual = GreenMailUtil.getBody(receivedMessage[0]);\r\n\r\n        assertThat(actual).isEqualTo(expectedText);\r\n\r\n    }\r\n}\r\n\r\n@Configuration\r\nclass MailSenderTestConfiguration {\r\n\r\n    @Bean(name = &quot;testJavaMailSender&quot;)\r\n    public JavaMailSender testJavaMailSender() {\r\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n        mailSender.setPort(587);\r\n\r\n        mailSender.setUsername(&quot;my.gmail@gmail.com&quot;);\r\n        mailSender.setPassword(&quot;password&quot;);\r\n\r\n        Properties props = mailSender.getJavaMailProperties();\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n        return mailSender;\r\n    }\r\n}\r\n```\r\n\r\nI placed a breakpoint at the first line of the `shouldSendNotificationEmailToRecipient` method and the debugger tells me `javaMailSender = null`. Any ideas? I tried everything Google &amp; Stackoverflow offered.\r\n","title":"@SpringBootTest does not autowire JavaMailSender. I setup everything and also created an explicit Bean. Still does not work","body":"<p>I have a very hard time understanding why my <code>JavaMailSender</code> instance is not being created even tho I created an explicit Bean. The IDE is showing me a successful injection but still when I run the integration test and debug the value of <code>javaMailSender</code> it's always <code>null</code> whatever I do.</p>\n<p>Here is my test class with the <code>@Configuration</code> class that explicitly creates the <code>JavaMailSender</code> Bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// MailServiceTest.java\n\n@SpringBootTest\nclass MailServiceTest {\n    @Autowired\n    @Qualifier(&quot;testJavaMailSender&quot;)\n    private JavaMailSender javaMailSender;\n    private final MailService mailService = new MailService(javaMailSender);\n    private final GreenMail greenMail = new GreenMail();\n\n\n    @BeforeEach\n    public void setup() {\n        greenMail.setUser(&quot;foo@localhost&quot;, &quot;foo&quot;, &quot;password&quot;);\n        greenMail.start();\n    }\n\n    @AfterEach\n    public void teardown() {\n        greenMail.stop();\n    }\n\n    @Test\n    public void shouldSendNotificationEmailToRecipient() {\n        final String expectedText = &quot;An error occured while executing the Jira Connector import sync.&quot;\n                + &quot;Please see the log file: 'jira-connector.log' in the application directory&quot;;\n\n        mailService.notifyAdmin();\n\n        final MimeMessage[] receivedMessage = greenMail.getReceivedMessagesForDomain(&quot;my-ag.com&quot;);\n        final String actual = GreenMailUtil.getBody(receivedMessage[0]);\n\n        assertThat(actual).isEqualTo(expectedText);\n\n    }\n}\n\n@Configuration\nclass MailSenderTestConfiguration {\n\n    @Bean(name = &quot;testJavaMailSender&quot;)\n    public JavaMailSender testJavaMailSender() {\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\n        mailSender.setPort(587);\n\n        mailSender.setUsername(&quot;my.gmail@gmail.com&quot;);\n        mailSender.setPassword(&quot;password&quot;);\n\n        Properties props = mailSender.getJavaMailProperties();\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n        return mailSender;\n    }\n}\n</code></pre>\n<p>I placed a breakpoint at the first line of the <code>shouldSendNotificationEmailToRecipient</code> method and the debugger tells me <code>javaMailSender = null</code>. Any ideas? I tried everything Google &amp; Stackoverflow offered.</p>\n"},{"tags":["java","jenkins","groovy","spock"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1638285988,"post_id":70168550,"comment_id":124044837,"body_markdown":"I bet if you print the exception, it&#39;s that `url` isn&#39;t defined when you do `URL u  = new URL(url)`.  I can&#39;t see what you are trying to do, nor how you want it to work :-/","body":"I bet if you print the exception, it&#39;s that <code>url</code> isn&#39;t defined when you do <code>URL u  = new URL(url)</code>.  I can&#39;t see what you are trying to do, nor how you want it to work :-/"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1638289544,"post_id":70168550,"comment_id":124046581,"body_markdown":"&quot;How can I perform this test?&quot; - Do you want to test the logic that is inside of your `call` method, do you want to test that the code that invokes your `call` method passes an expected value, or something else?","body":"&quot;How can I perform this test?&quot; - Do you want to test the logic that is inside of your <code>call</code> method, do you want to test that the code that invokes your <code>call</code> method passes an expected value, or something else?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1638296207,"post_id":70168550,"comment_id":124049193,"body_markdown":"I do not see that `url` gets initialised anywhere in your test. You set an identically named binding in your `gitClone` field, but not in the specification or feature method itself.","body":"I do not see that <code>url</code> gets initialised anywhere in your test. You set an identically named binding in your <code>gitClone</code> field, but not in the specification or feature method itself."},{"owner":{"account_id":23415588,"reputation":3,"user_id":17476585,"display_name":"Subhojoy Dey"},"score":0,"creation_date":1638417891,"post_id":70168550,"comment_id":124084623,"body_markdown":"How do I initialise **url** \nI was assuming `gitClone.getBinding().setVariable( &quot;url&quot;, &quot;https://www.google.com/&quot;)` initialises url but maybe I was wrong. So, how do I initialize it.","body":"How do I initialise <b>url</b>  I was assuming <code>gitClone.getBinding().setVariable( &quot;url&quot;, &quot;https:&#47;&#47;www.google.com&#47;&quot;)</code> initialises url but maybe I was wrong. So, how do I initialize it."},{"owner":{"account_id":23415588,"reputation":3,"user_id":17476585,"display_name":"Subhojoy Dey"},"score":0,"creation_date":1638418059,"post_id":70168550,"comment_id":124084640,"body_markdown":"My aim is to check if the `url` in the call function is a valid url.\nI don&#39;t wish to test anything else.","body":"My aim is to check if the <code>url</code> in the call function is a valid url. I don&#39;t wish to test anything else."},{"owner":{"account_id":23415588,"reputation":3,"user_id":17476585,"display_name":"Subhojoy Dey"},"score":0,"creation_date":1638508618,"post_id":70168550,"comment_id":124112519,"body_markdown":"@kriegaex I tested the code by defining a variable `url` in my feature method `def url = &quot;https://www.google.com/&quot;` and it worked. But now how do I link it with the `url` of gitClone.groovy. I mean I want to test the `url` of function `call`, so how should I initialize it .Please help :)","body":"@kriegaex I tested the code by defining a variable <code>url</code> in my feature method <code>def url = &quot;https:&#47;&#47;www.google.com&#47;&quot;</code> and it worked. But now how do I link it with the <code>url</code> of gitClone.groovy. I mean I want to test the <code>url</code> of function <code>call</code>, so how should I initialize it .Please help :)"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1638678565,"post_id":70168550,"comment_id":124149984,"body_markdown":"I am not a Jenkins API user. So if you would please provide an [MCVE](https://stackoverflow.com/help/mcve) on GitHub which I can clone and build, I could take a look.","body":"I am not a Jenkins API user. So if you would please provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub which I can clone and build, I could take a look."}],"owner":{"account_id":23415588,"reputation":3,"user_id":17476585,"display_name":"Subhojoy Dey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638271445,"creation_date":1638271445,"question_id":70168550,"body_markdown":"I have a groovy file gitClone.groovy which has a function call.\r\n\r\n    def call(credentials, url, project, branch, path, refs, noTags=false,\r\n        timeout=20)\r\n    {\r\n    \r\n    }\r\n\r\nI am writing a test for validating the &#39;url&#39;. I want to write a test case which will validate if the url is correct or not. My test file is as follows:\r\ngitCloneSpec.groovy\r\n\r\n    import com.homeaway.devtools.jenkins.testing.JenkinsPipelineSpecification;\r\n    import spock.lang.*\r\n    import java.net.URL;\r\n    public class gitCloneSpec extends JenkinsPipelineSpecification {\r\n    \r\n            def gitClone = null\r\n            def check = 0\r\n            def setup() {\r\n                    gitClone = loadPipelineScriptForTest(&quot;vars/gitClone.groovy&quot;)\r\n                    gitClone.getBinding().setVariable( &quot;url&quot;, &quot;https://www.google.com/&quot;)\r\n                                     \r\n                    }\r\n    \r\n            def &quot;validate url&quot;(){\r\n                    when:\r\n                            try {\r\n                                    URL u  = new URL(url)\r\n                                    u.toURI()\r\n                                    check = 1\r\n                            }\r\n    \r\n                            // If there was an Exception\r\n                            // while creating URL object\r\n                            catch (Exception e) {\r\n                                    check = 2;\r\n                            }\r\n                    then:\r\n                            check == 1\r\n                    }\r\n    }\r\n\r\nSomehow **url** is not able to store the string &quot;http://www.google.com&quot; and it is throwing the exception where &#39;check&#39; is getting updated with value &#39;2&#39;\r\nHow can I perform this test?\r\n\r\n \r\n\r\n","title":"Problem while authenticating URL in spock testing","body":"<p>I have a groovy file gitClone.groovy which has a function call.</p>\n<pre><code>def call(credentials, url, project, branch, path, refs, noTags=false,\n    timeout=20)\n{\n\n}\n</code></pre>\n<p>I am writing a test for validating the 'url'. I want to write a test case which will validate if the url is correct or not. My test file is as follows:\ngitCloneSpec.groovy</p>\n<pre><code>import com.homeaway.devtools.jenkins.testing.JenkinsPipelineSpecification;\nimport spock.lang.*\nimport java.net.URL;\npublic class gitCloneSpec extends JenkinsPipelineSpecification {\n\n        def gitClone = null\n        def check = 0\n        def setup() {\n                gitClone = loadPipelineScriptForTest(&quot;vars/gitClone.groovy&quot;)\n                gitClone.getBinding().setVariable( &quot;url&quot;, &quot;https://www.google.com/&quot;)\n                                 \n                }\n\n        def &quot;validate url&quot;(){\n                when:\n                        try {\n                                URL u  = new URL(url)\n                                u.toURI()\n                                check = 1\n                        }\n\n                        // If there was an Exception\n                        // while creating URL object\n                        catch (Exception e) {\n                                check = 2;\n                        }\n                then:\n                        check == 1\n                }\n}\n</code></pre>\n<p>Somehow <strong>url</strong> is not able to store the string &quot;http://www.google.com&quot; and it is throwing the exception where 'check' is getting updated with value '2'\nHow can I perform this test?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1638265545,"post_id":70167201,"comment_id":124036442,"body_markdown":"post what you&#39;ve tried with shared prefs","body":"post what you&#39;ve tried with shared prefs"}],"answers":[{"tags":[],"owner":{"account_id":18045227,"reputation":61,"user_id":13116405,"display_name":"Abdlhay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638271417,"creation_date":1638271417,"answer_id":70168542,"question_id":70167201,"body_markdown":"            SharedPreferences preference = getSharedPreferences(&quot;mPreference&quot;, MODE_PRIVATE);\r\n        boolean isUserAgreed = preference.getBoolean(&quot;isUserAgreed&quot;, false);\r\n        if (!isUserAgreed){\r\n            // show bottomSheetDialog\r\n        } else {\r\n            startActivity(new Intent(MainActivity.this, Activity2.class));\r\n            finish();\r\n        }\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(\r\n                        MainActivity.this, R.style.BottomSheetDialogTheme);\r\n                View bottomSheetView = LayoutInflater.from(getApplicationContext())\r\n                        .inflate(R.layout.layout_bottom_sheet, (LinearLayout) findViewById(R.id.bottomSheetContainer));\r\n                bottomSheetDialog.setContentView(bottomSheetView);\r\n\r\n\r\n                bottomSheetView.findViewById(R.id.doNotAgree).setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        System.exit(0);\r\n                    }\r\n                });\r\n                bottomSheetView.findViewById(R.id.agree).setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        SharedPreferences.Editor editor = getSharedPreferences(&quot;mPreference&quot;, MODE_PRIVATE).edit();\r\n                        editor.putBoolean(&quot;isUserAgreed&quot;, true);\r\n                        editor.apply();\r\n                        startActivity(new Intent(MainActivity.this, Activity2.class));\r\n                        finish();\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n        });","title":"How to make Bottom Sheet Dialog that shows one time only","body":"<pre><code>        SharedPreferences preference = getSharedPreferences(&quot;mPreference&quot;, MODE_PRIVATE);\n    boolean isUserAgreed = preference.getBoolean(&quot;isUserAgreed&quot;, false);\n    if (!isUserAgreed){\n        // show bottomSheetDialog\n    } else {\n        startActivity(new Intent(MainActivity.this, Activity2.class));\n        finish();\n    }\n\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(\n                    MainActivity.this, R.style.BottomSheetDialogTheme);\n            View bottomSheetView = LayoutInflater.from(getApplicationContext())\n                    .inflate(R.layout.layout_bottom_sheet, (LinearLayout) findViewById(R.id.bottomSheetContainer));\n            bottomSheetDialog.setContentView(bottomSheetView);\n\n\n            bottomSheetView.findViewById(R.id.doNotAgree).setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    System.exit(0);\n                }\n            });\n            bottomSheetView.findViewById(R.id.agree).setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    SharedPreferences.Editor editor = getSharedPreferences(&quot;mPreference&quot;, MODE_PRIVATE).edit();\n                    editor.putBoolean(&quot;isUserAgreed&quot;, true);\n                    editor.apply();\n                    startActivity(new Intent(MainActivity.this, Activity2.class));\n                    finish();\n                }\n\n            });\n        }\n\n    });\n</code></pre>\n"}],"owner":{"account_id":22727775,"reputation":3,"user_id":16891208,"display_name":"Hallies Valentine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70168542,"answer_count":1,"score":0,"last_activity_date":1638271417,"creation_date":1638265389,"question_id":70167201,"body_markdown":"I want to create a Bottom Sheet Dialog. It looks like the image below\r\n[enter image description here][1]\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        //this is Button that open dialog\r\n        private Button button;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            button = findViewById(R.id.nextBtn);\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(\r\n                            MainActivity.this, R.style.BottomSheetDialogTheme);\r\n                    View bottomSheetView = LayoutInflater.from(getApplicationContext())\r\n                            .inflate(R.layout.layout_bottom_sheet, (LinearLayout) findViewById(R.id.bottomSheetContainer));\r\n                    bottomSheetDialog.setContentView(bottomSheetView);\r\n    \r\n    \r\n                    bottomSheetView.findViewById(R.id.doNotAgree).setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            System.exit(0);\r\n                        }\r\n                    });\r\n                    bottomSheetView.findViewById(R.id.agree).setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            startActivity(new Intent(MainActivity.this, Activity2.class));\r\n                            finish();\r\n                        }\r\n    \r\n                    });\r\n                }\r\n    \r\n            });\r\n        }\r\n    }\r\n\r\nI have tried many methods such as SharedPreferences. But it not working\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/add0X.jpg\r\n","title":"How to make Bottom Sheet Dialog that shows one time only","body":"<p>I want to create a Bottom Sheet Dialog. It looks like the image below\n<a href=\"https://i.stack.imgur.com/add0X.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n    //this is Button that open dialog\n    private Button button;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button = findViewById(R.id.nextBtn);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(\n                        MainActivity.this, R.style.BottomSheetDialogTheme);\n                View bottomSheetView = LayoutInflater.from(getApplicationContext())\n                        .inflate(R.layout.layout_bottom_sheet, (LinearLayout) findViewById(R.id.bottomSheetContainer));\n                bottomSheetDialog.setContentView(bottomSheetView);\n\n\n                bottomSheetView.findViewById(R.id.doNotAgree).setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        System.exit(0);\n                    }\n                });\n                bottomSheetView.findViewById(R.id.agree).setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        startActivity(new Intent(MainActivity.this, Activity2.class));\n                        finish();\n                    }\n\n                });\n            }\n\n        });\n    }\n}\n</code></pre>\n<p>I have tried many methods such as SharedPreferences. But it not working</p>\n"},{"tags":["java","java-stream","java-io"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638271403,"creation_date":1638270960,"answer_id":70168432,"question_id":70168400,"body_markdown":"You could replace the method reference with a lambda expression on the `File` object, although you&#39;ll have to specify the types (see the additional discussion [here](https://stackoverflow.com/q/24436871/2422776)):\r\n\r\n```java\r\nFiles.list(Paths.get(importDir))\r\n     .map(Path::toFile)\r\n     .sorted(Comparator.&lt;File, String&gt; comparing(f -&gt; StringUtils.substringBefore\r\n                                                      (f.getName(), &quot;_&quot;))\r\n                       .thenComparingLong(File::lastModified))\r\n     .forEachOrdered(file -&gt; System.out.println(file.getName()));\r\n```","title":"How to sort files in a stream by partial filename?","body":"<p>You could replace the method reference with a lambda expression on the <code>File</code> object, although you'll have to specify the types (see the additional discussion <a href=\"https://stackoverflow.com/q/24436871/2422776\">here</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.list(Paths.get(importDir))\n     .map(Path::toFile)\n     .sorted(Comparator.&lt;File, String&gt; comparing(f -&gt; StringUtils.substringBefore\n                                                      (f.getName(), &quot;_&quot;))\n                       .thenComparingLong(File::lastModified))\n     .forEachOrdered(file -&gt; System.out.println(file.getName()));\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70168432,"answer_count":1,"score":2,"last_activity_date":1638271403,"creation_date":1638270837,"question_id":70168400,"body_markdown":"I use the following to sort files first by name, then by modification date:\r\n\r\n    Files.list(Paths.get(importDir))\r\n    \t\t.map(Path::toFile)\r\n    \t\t.sorted(Comparator.comparing(File::getName).thenComparingLong(File::lastModified))\r\n    \t\t.forEachOrdered(file -&gt; System.out.println(file.getName()));\r\n\t\t\t\t\t\r\nQuestion: how can I refactor the `File::getName` part to only compare based on partial filename, like: `StringUtils.substringBefore(file.getName(), &quot;_&quot;)`?","title":"How to sort files in a stream by partial filename?","body":"<p>I use the following to sort files first by name, then by modification date:</p>\n<pre><code>Files.list(Paths.get(importDir))\n        .map(Path::toFile)\n        .sorted(Comparator.comparing(File::getName).thenComparingLong(File::lastModified))\n        .forEachOrdered(file -&gt; System.out.println(file.getName()));\n                \n</code></pre>\n<p>Question: how can I refactor the <code>File::getName</code> part to only compare based on partial filename, like: <code>StringUtils.substringBefore(file.getName(), &quot;_&quot;)</code>?</p>\n"},{"tags":["java","android","date","android-camera"],"comments":[{"owner":{"account_id":1153421,"reputation":10133,"user_id":1134649,"accept_rate":49,"display_name":"Ronen Ness"},"score":4,"creation_date":1478430966,"post_id":40448534,"comment_id":68143080,"body_markdown":"Hi Eray, welcome to SO. We are not a coding writing service and questions like &quot;I want to do X please write the code for me&quot; will not be answered. Please show us the effort you tried to solve this problem (eg the code you wrote), describe the errors / problems you are getting, and we will try to help you solve them.","body":"Hi Eray, welcome to SO. We are not a coding writing service and questions like &quot;I want to do X please write the code for me&quot; will not be answered. Please show us the effort you tried to solve this problem (eg the code you wrote), describe the errors / problems you are getting, and we will try to help you solve them."}],"answers":[{"tags":[],"owner":{"account_id":9560387,"reputation":25,"user_id":7101446,"accept_rate":88,"display_name":"trip03"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1478430535,"creation_date":1478430535,"answer_id":40448634,"question_id":40448534,"body_markdown":"Try this code. \r\n\r\n// get today day. and put into ListView which is situated on bottom-right corner //in xml file. \r\n\r\n    final Calendar cal = Calendar.getInstance();\r\n                                year = cal.get(Calendar.YEAR);\r\n                                month = cal.get(Calendar.MONTH)+1;\r\n                                day = cal.get(Calendar.DAY_OF_MONTH);\r\n    \r\n    TextView out=(TextView)findViewById(R.id.yourtextview);\r\n    out.setText(day+&quot;.&quot;+month+&quot;.&quot;+year);","title":"How can I add date text (Bottom-Right Corner) to image and save","body":"<p>Try this code. </p>\n\n<p>// get today day. and put into ListView which is situated on bottom-right corner //in xml file. </p>\n\n<pre><code>final Calendar cal = Calendar.getInstance();\n                            year = cal.get(Calendar.YEAR);\n                            month = cal.get(Calendar.MONTH)+1;\n                            day = cal.get(Calendar.DAY_OF_MONTH);\n\nTextView out=(TextView)findViewById(R.id.yourtextview);\nout.setText(day+\".\"+month+\".\"+year);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3841789,"reputation":386,"user_id":3184640,"display_name":"Dinum Dissanayaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502700086,"creation_date":1502265414,"answer_id":45584790,"question_id":40448534,"body_markdown":"Try this   \r\n\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n     \r\n    public class WatermarkImage {\r\n     \r\n          public static void main(String[] args) {\r\n        \t  \r\n        \t  \tSimpleDateFormat sdfDate = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        \t  \tDate now = new Date();\r\n     \r\n                File origFile = new File(&quot;E:/watermark/test.jpg&quot;);\r\n                ImageIcon icon = new ImageIcon(origFile.getPath());\r\n     \r\n                // create BufferedImage object of same width and height as of original image\r\n                BufferedImage bufferedImage = new BufferedImage(icon.getIconWidth(),\r\n                            icon.getIconHeight(), BufferedImage.TYPE_INT_RGB);\r\n     \r\n                // create graphics object and add original image to it\r\n                Graphics graphics = bufferedImage.getGraphics();\r\n                graphics.drawImage(icon.getImage(), 0, 0, null);\r\n     \r\n                // set font for the watermark text\r\n                graphics.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n                String watermark =  sdfDate.format(now);\r\n     \r\n                // add the watermark text\r\n                graphics.drawString(watermark, (icon.getIconWidth()*80)/100, (icon.getIconHeight()*90)/100);\r\n                graphics.dispose();\r\n     \r\n                File newFile = new File(&quot;E:/watermark/WatermarkedImage.jpg&quot;);\r\n                try {\r\n                      ImageIO.write(bufferedImage, &quot;jpg&quot;, newFile);\r\n                } catch (IOException e) {\r\n                      e.printStackTrace();\r\n                }\r\n     \r\n                System.out.println(newFile.getPath() + &quot; created successfully!&quot;);\r\n     \r\n          }\r\n     \r\n    }","title":"How can I add date text (Bottom-Right Corner) to image and save","body":"<p>Try this   </p>\n\n<pre><code>import java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\n\npublic class WatermarkImage {\n\n      public static void main(String[] args) {\n\n            SimpleDateFormat sdfDate = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n            Date now = new Date();\n\n            File origFile = new File(\"E:/watermark/test.jpg\");\n            ImageIcon icon = new ImageIcon(origFile.getPath());\n\n            // create BufferedImage object of same width and height as of original image\n            BufferedImage bufferedImage = new BufferedImage(icon.getIconWidth(),\n                        icon.getIconHeight(), BufferedImage.TYPE_INT_RGB);\n\n            // create graphics object and add original image to it\n            Graphics graphics = bufferedImage.getGraphics();\n            graphics.drawImage(icon.getImage(), 0, 0, null);\n\n            // set font for the watermark text\n            graphics.setFont(new Font(\"Arial\", Font.BOLD, 20));\n            String watermark =  sdfDate.format(now);\n\n            // add the watermark text\n            graphics.drawString(watermark, (icon.getIconWidth()*80)/100, (icon.getIconHeight()*90)/100);\n            graphics.dispose();\n\n            File newFile = new File(\"E:/watermark/WatermarkedImage.jpg\");\n            try {\n                  ImageIO.write(bufferedImage, \"jpg\", newFile);\n            } catch (IOException e) {\n                  e.printStackTrace();\n            }\n\n            System.out.println(newFile.getPath() + \" created successfully!\");\n\n      }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8870596,"reputation":1760,"user_id":6624422,"accept_rate":64,"display_name":"Anil Jagtap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574075187,"creation_date":1574075187,"answer_id":58913166,"question_id":40448534,"body_markdown":"Try this code. It&#39;s saved lot of effort for me\r\n\r\n                String d = &quot;18-11-2019&quot;;\t\t\t\r\n\t\t\t\tBufferedImage bi = ImageIO.read(sourceFile);\r\n\t\t\t\tGraphics2D graphics = bi.createGraphics();\r\n\t\t\t\tFont font = new Font(&quot;ARIAL&quot;, Font.PLAIN, 50);\r\n\t\t\t\tgraphics.setFont(font);\r\n\t\t\t\tgraphics.drawString(d, 50, 50);\r\n\t\t\t\tbi.flush();\r\n\t\t\t\tImageIO.write(bi, &quot;jpg&quot;, targetFile);","title":"How can I add date text (Bottom-Right Corner) to image and save","body":"<p>Try this code. It's saved lot of effort for me</p>\n\n<pre><code>            String d = \"18-11-2019\";            \n            BufferedImage bi = ImageIO.read(sourceFile);\n            Graphics2D graphics = bi.createGraphics();\n            Font font = new Font(\"ARIAL\", Font.PLAIN, 50);\n            graphics.setFont(font);\n            graphics.drawString(d, 50, 50);\n            bi.flush();\n            ImageIO.write(bi, \"jpg\", targetFile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21131741,"reputation":185,"user_id":15535934,"display_name":"Nikit Dungrani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638271090,"creation_date":1638271090,"answer_id":70168468,"question_id":40448534,"body_markdown":"for bottom right corner u can do somthinge like this \r\n\r\n    private Bitmap addWaterMark(Bitmap src) {\r\n        int w = src.getWidth();\r\n        int h = src.getHeight();\r\n        Bitmap result = Bitmap.createBitmap(w, h, src.getConfig());\r\n        Canvas canvas = new Canvas(result);\r\n        canvas.drawBitmap(src, 0, 0, null);\r\n\r\n        Bitmap waterMark = BitmapFactory.decodeResource(getResources(), R.drawable.watermark3x);\r\n        int ww = w-waterMark.getWidth();\r\n        int hh = h-waterMark.getHeight();\r\n\r\n        canvas.drawBitmap(waterMark, ww, hh, null);\r\n\r\n        return result;\r\n    }","title":"How can I add date text (Bottom-Right Corner) to image and save","body":"<p>for bottom right corner u can do somthinge like this</p>\n<pre><code>private Bitmap addWaterMark(Bitmap src) {\n    int w = src.getWidth();\n    int h = src.getHeight();\n    Bitmap result = Bitmap.createBitmap(w, h, src.getConfig());\n    Canvas canvas = new Canvas(result);\n    canvas.drawBitmap(src, 0, 0, null);\n\n    Bitmap waterMark = BitmapFactory.decodeResource(getResources(), R.drawable.watermark3x);\n    int ww = w-waterMark.getWidth();\n    int hh = h-waterMark.getHeight();\n\n    canvas.drawBitmap(waterMark, ww, hh, null);\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":9042274,"reputation":11,"user_id":6736101,"display_name":"Eray Emin Ocak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1638271090,"creation_date":1478429877,"question_id":40448534,"body_markdown":"I am very new to Java. I need to add date as bottom-right corner text to captured image by my camera and save it. Like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9hbgv.png","title":"How can I add date text (Bottom-Right Corner) to image and save","body":"<p>I am very new to Java. I need to add date as bottom-right corner text to captured image by my camera and save it. Like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9hbgv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9hbgv.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","pedometer"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1637776503,"post_id":70098200,"comment_id":123918646,"body_markdown":"Never use `Date`, `Calendar`, and `SimpleDateFormat`. These terrible classes were supplanted years ago by the modern *java.time* classes defined in JSR 310.","body":"Never use <code>Date</code>, <code>Calendar</code>, and <code>SimpleDateFormat</code>. These terrible classes were supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":22286968,"reputation":1,"user_id":16514431,"display_name":"kels_osas888"},"score":0,"creation_date":1637818834,"post_id":70098200,"comment_id":123928553,"body_markdown":"@Basil Bourque ..Thank you so much it worked perfectly. I went with the java.time you mentioned, converted to string and save to db. When i wanted to use same data, fetched from db and converted string back to localdate and gave some conditions to output my expected result.","body":"@Basil Bourque ..Thank you so much it worked perfectly. I went with the java.time you mentioned, converted to string and save to db. When i wanted to use same data, fetched from db and converted string back to localdate and gave some conditions to output my expected result."}],"owner":{"account_id":22286968,"reputation":1,"user_id":16514431,"display_name":"kels_osas888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638270930,"creation_date":1637765396,"question_id":70098200,"body_markdown":"I&#39;m working on a personal project on a pedometer integrated with firebase but I&#39;m not so good with date. Don&#39;t know if you can help out with this... What I&#39;m trying to achieve will be a situation whereby when users click the *save/update* for that day activity it should update that same particular document for the day. The next day when the app is opened it should create another document in the firestore under its collection and when the user clicks update... The same process continues. But I&#39;m not getting the expected actual result when I compare both strings in the code. When I run the app and click update. It keeps adding a new document with the same date under the same collection. Any way to solve this issue? Thanks in advance\r\n[view image here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0fy0G.jpg\r\n\r\n    \r\n\r\n        mSaveDataToFireStore.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String stepCountNum = mTV_StepCounter.getText().toString();\r\n                String stepCountMeter = mTV_StepCounter_meter.getText().toString();\r\n                String stepCalories = mCalories_Burn.getText().toString();\r\n                String stepDuration = mCounter_Duration.getText().toString();\r\n                \r\n                DateFormat dateFormat = new SimpleDateFormat(&quot;E, MMM dd yyyy&quot;);\r\n                Date date = new Date();\r\n                saveCurrentDate = dateFormat.format(date).toString();\r\n\r\n\r\n                Calendar callForDate = Calendar.getInstance();\r\n                \r\n                SimpleDateFormat currentDay = new SimpleDateFormat(&quot;E&quot;);\r\n                saveCurrentDay = currentDay.format(callForDate.getTime());\r\n\r\n                SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH:mm:ss a&quot;);\r\n                saveCurrentTime = currentTime.format(callForDate.getTime());\r\n\r\n                FirebaseUser AppUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                if (AppUser != null) {\r\n                    USER_ID = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                    STEP_COUNTER = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\r\n                    CollectionReference colRef = FirebaseFirestore.getInstance()\r\n                            .collection(&quot;REGISTERED USERS&quot;).document(USER_ID)\r\n                            .collection(&quot;STEP COUNTER&quot;);\r\n\r\n                    colRef.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                            StepCounter_Model stepCountUpdate = new StepCounter_Model(saveCurrentDate, saveCurrentDay, saveCurrentTime, stepCountNum,\r\n                                    stepCountMeter, stepCalories, stepDuration);\r\n                            \r\n\r\n                            if (!queryDocumentSnapshots.isEmpty()) {\r\n\r\n                                for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\r\n                                    String currentDayy = documentSnapshot.getString(&quot;mStepDay&quot;);\r\n                                    String currentDatee = documentSnapshot.getString(&quot;mStepDate&quot;);\r\n\r\n                                    StepCounter_Model StepCountData = documentSnapshot.toObject(StepCounter_Model.class);\r\n\r\n\r\n                                    DateFormat dateFormat = new SimpleDateFormat(&quot;E, MMM dd yyyy&quot;);\r\n                                    Date date = new Date();\r\n                                    String getTodayDate = dateFormat.format(date).toString();\r\n\r\n\r\n\r\n                                    if (currentDatee.compareTo(getTodayDate) == 0) {\r\n                                        //currentDatee.equals(getTodayDate) &amp;&amp; currentDatee.matches(getTodayDate) &amp;&amp; !currentDatee.isEmpty()\r\n                                        Toast.makeText(StepTrackerActivity.this, &quot;Data updated successfully&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                        StepCountData.setmStepID(documentSnapshot.getId());\r\n                                        String documentID = StepCountData.getmStepID();\r\n\r\n                                        Map&lt;String, Object&gt; saveInfo = new HashMap&lt;&gt;();\r\n                                        saveInfo.put(&quot;mStepDate&quot;, stepCountUpdate.mStepDate);\r\n                                        saveInfo.put(&quot;mStepDay&quot;, stepCountUpdate.mStepDay);\r\n                                        saveInfo.put(&quot;mStepTime&quot;, stepCountUpdate.mStepTime);\r\n                                        saveInfo.put(&quot;mStepCount&quot;, stepCountUpdate.mStepCount);\r\n                                        saveInfo.put(&quot;mStepCountMeter&quot;, stepCountUpdate.mStepCountMeter);\r\n                                        saveInfo.put(&quot;mStepCalories&quot;, stepCountUpdate.mStepCalories);\r\n                                        saveInfo.put(&quot;mStepDuration&quot;, stepCountUpdate.mStepDuration);\r\n\r\n                                        colRef.document(documentID).update(saveInfo);\r\n\r\n                                        return;\r\n\r\n                                    }\r\n                                    if (currentDatee.compareTo(getTodayDate) &lt; 0 || currentDatee.compareTo(getTodayDate) &gt; 0) {\r\n                                        //!currentDatee.equals(getTodayDate) &amp;&amp; !currentDatee.matches(getTodayDate)\r\n                                        //resetCounter();\r\n                                        addTo_FireStoreDB(saveCurrentDate, saveCurrentDay, saveCurrentTime, stepCountNum,\r\n                                                stepCountMeter, stepCalories, stepDuration);\r\n\r\n                                        return;\r\n\r\n                                    }\r\n\r\n\r\n                                }\r\n\r\n                            } else {\r\n\r\n\r\n                                addTo_FireStoreDB(saveCurrentDate, saveCurrentDay, saveCurrentTime, stepCountNum,\r\n                                        stepCountMeter, stepCalories, stepDuration);\r\n\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n","title":"How to keep track on date and update document in firestore ( Pedometer )?","body":"<p>I'm working on a personal project on a pedometer integrated with firebase but I'm not so good with date. Don't know if you can help out with this... What I'm trying to achieve will be a situation whereby when users click the <em>save/update</em> for that day activity it should update that same particular document for the day. The next day when the app is opened it should create another document in the firestore under its collection and when the user clicks update... The same process continues. But I'm not getting the expected actual result when I compare both strings in the code. When I run the app and click update. It keeps adding a new document with the same date under the same collection. Any way to solve this issue? Thanks in advance\n<a href=\"https://i.stack.imgur.com/0fy0G.jpg\" rel=\"nofollow noreferrer\">view image here</a></p>\n<pre><code>    mSaveDataToFireStore.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            String stepCountNum = mTV_StepCounter.getText().toString();\n            String stepCountMeter = mTV_StepCounter_meter.getText().toString();\n            String stepCalories = mCalories_Burn.getText().toString();\n            String stepDuration = mCounter_Duration.getText().toString();\n            \n            DateFormat dateFormat = new SimpleDateFormat(&quot;E, MMM dd yyyy&quot;);\n            Date date = new Date();\n            saveCurrentDate = dateFormat.format(date).toString();\n\n\n            Calendar callForDate = Calendar.getInstance();\n            \n            SimpleDateFormat currentDay = new SimpleDateFormat(&quot;E&quot;);\n            saveCurrentDay = currentDay.format(callForDate.getTime());\n\n            SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH:mm:ss a&quot;);\n            saveCurrentTime = currentTime.format(callForDate.getTime());\n\n            FirebaseUser AppUser = FirebaseAuth.getInstance().getCurrentUser();\n            if (AppUser != null) {\n                USER_ID = FirebaseAuth.getInstance().getCurrentUser().getUid();\n                STEP_COUNTER = FirebaseAuth.getInstance().getCurrentUser().getUid();\n\n                CollectionReference colRef = FirebaseFirestore.getInstance()\n                        .collection(&quot;REGISTERED USERS&quot;).document(USER_ID)\n                        .collection(&quot;STEP COUNTER&quot;);\n\n                colRef.get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                        StepCounter_Model stepCountUpdate = new StepCounter_Model(saveCurrentDate, saveCurrentDay, saveCurrentTime, stepCountNum,\n                                stepCountMeter, stepCalories, stepDuration);\n                        \n\n                        if (!queryDocumentSnapshots.isEmpty()) {\n\n                            for (QueryDocumentSnapshot documentSnapshot : queryDocumentSnapshots) {\n                                String currentDayy = documentSnapshot.getString(&quot;mStepDay&quot;);\n                                String currentDatee = documentSnapshot.getString(&quot;mStepDate&quot;);\n\n                                StepCounter_Model StepCountData = documentSnapshot.toObject(StepCounter_Model.class);\n\n\n                                DateFormat dateFormat = new SimpleDateFormat(&quot;E, MMM dd yyyy&quot;);\n                                Date date = new Date();\n                                String getTodayDate = dateFormat.format(date).toString();\n\n\n\n                                if (currentDatee.compareTo(getTodayDate) == 0) {\n                                    //currentDatee.equals(getTodayDate) &amp;&amp; currentDatee.matches(getTodayDate) &amp;&amp; !currentDatee.isEmpty()\n                                    Toast.makeText(StepTrackerActivity.this, &quot;Data updated successfully&quot;, Toast.LENGTH_SHORT).show();\n\n                                    StepCountData.setmStepID(documentSnapshot.getId());\n                                    String documentID = StepCountData.getmStepID();\n\n                                    Map&lt;String, Object&gt; saveInfo = new HashMap&lt;&gt;();\n                                    saveInfo.put(&quot;mStepDate&quot;, stepCountUpdate.mStepDate);\n                                    saveInfo.put(&quot;mStepDay&quot;, stepCountUpdate.mStepDay);\n                                    saveInfo.put(&quot;mStepTime&quot;, stepCountUpdate.mStepTime);\n                                    saveInfo.put(&quot;mStepCount&quot;, stepCountUpdate.mStepCount);\n                                    saveInfo.put(&quot;mStepCountMeter&quot;, stepCountUpdate.mStepCountMeter);\n                                    saveInfo.put(&quot;mStepCalories&quot;, stepCountUpdate.mStepCalories);\n                                    saveInfo.put(&quot;mStepDuration&quot;, stepCountUpdate.mStepDuration);\n\n                                    colRef.document(documentID).update(saveInfo);\n\n                                    return;\n\n                                }\n                                if (currentDatee.compareTo(getTodayDate) &lt; 0 || currentDatee.compareTo(getTodayDate) &gt; 0) {\n                                    //!currentDatee.equals(getTodayDate) &amp;&amp; !currentDatee.matches(getTodayDate)\n                                    //resetCounter();\n                                    addTo_FireStoreDB(saveCurrentDate, saveCurrentDay, saveCurrentTime, stepCountNum,\n                                            stepCountMeter, stepCalories, stepDuration);\n\n                                    return;\n\n                                }\n\n\n                            }\n\n                        } else {\n\n\n                            addTo_FireStoreDB(saveCurrentDate, saveCurrentDay, saveCurrentTime, stepCountNum,\n                                    stepCountMeter, stepCalories, stepDuration);\n\n                        }\n                    }\n                });\n            }\n\n\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","jersey","jersey-2.0","jersey-1.0","spring-jersey"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1638230252,"post_id":70160856,"comment_id":124028571,"body_markdown":"Jersey 1.x and 2.x injection work completely differently. Even the integration with Spring.","body":"Jersey 1.x and 2.x injection work completely differently. Even the integration with Spring."},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1638259318,"post_id":70160856,"comment_id":124034222,"body_markdown":"@PaulSamsotha Do have any good example from which i can understand? Except documentation I wasn&#39;t able to find any good examples","body":"@PaulSamsotha Do have any good example from which i can understand? Except documentation I wasn&#39;t able to find any good examples"}],"answers":[{"tags":[],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638270030,"creation_date":1638270030,"answer_id":70168212,"question_id":70160856,"body_markdown":"Got it working. I had to create a binder class and app class and link it in web.xml. The binder class needed to have binding of all the classes i&#39;m injecting via @Inject and their dependencies.\r\n\r\nFollowed https://www.appsdeveloperblog.com/dependency-injection-hk2-jersey-jax-rs/","title":"Jersey 1 @Inject migrated to Jersey 2 stopped working","body":"<p>Got it working. I had to create a binder class and app class and link it in web.xml. The binder class needed to have binding of all the classes i'm injecting via @Inject and their dependencies.</p>\n<p>Followed <a href=\"https://www.appsdeveloperblog.com/dependency-injection-hk2-jersey-jax-rs/\" rel=\"nofollow noreferrer\">https://www.appsdeveloperblog.com/dependency-injection-hk2-jersey-jax-rs/</a></p>\n"}],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70168212,"answer_count":1,"score":0,"last_activity_date":1638270030,"creation_date":1638217263,"question_id":70160856,"body_markdown":"I am doing a Jersey 1 to Jersey 2 migration of my system. \r\nIn my code I had `@Inject` annotation from `com.sun.jersey.spi.inject.Inject` and `@Singleton` from `com.sun.jersey.spi.resource.Singleton`. I&#39;ve changed these to `javax.inject.Inject` and `javax.inject.Singleton`. \r\n\r\nSince this change I am getting errors while injecting any object annotated with it. My error is this\r\n```\r\njavax.servlet.ServletException: A MultiException has 4 exceptions.  They are:\r\n1. org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=APIConnectorHandler,parent=BarcodeSearchClient,qualifiers={},position=-1,optional=false,self=false,unqualified=null,1090224052)\r\n2. org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=APIConnectorHandler,parent=RSearchClient,qualifiers={},position=-1,optional=false,self=false,unqualified=null,1247004825)\r\n3. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.search.barcode.BarcodeSearchClient errors were found\r\n4. java.lang.IllegalStateException: Unable to perform operation: resolve on com.search.barcode.BarcodeSearchClient\r\n\r\n\torg.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:423)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tcom.filter.MetricsEmittingFilter.doFilter(MetricsEmittingFilter.java:89)\r\n```\r\n\r\nThe `APIConnectorHandler` is Injected both in `RSearchClient` and `BarcodeSearchClient`. I first called the endpoint hitting RSearchClient in the flow and then BarcodeSearchClient because of which RSearchClient is also shown as exception \\#2. \r\n\r\nMy web.xml looks like this\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!--\r\nWhen modifying this file, DO NOT FORGET to also modify workspace-web.xml\r\nif necessary so that &quot;brazil-build server&quot; will work.\r\n--&gt;\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n         version=&quot;3.0&quot;&gt;\r\n\r\n\t&lt;context-param&gt;\r\n  \t\t&lt;description&gt;Spring Expression Language Support&lt;/description&gt;\r\n  \t\t&lt;param-name&gt;springJspExpressionSupport&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;com.abc.listener.ContextListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;JerseyServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                com.search, com.fasterxml.jackson.jaxrs.json\r\n            &lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;JerseyServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;MetricsEmittingFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n\r\n```\r\n\r\nA few things i did find what that Hk2 is unable to find the beans and stuff but what i&#39;m unable to understand is how did it work in Jersey 1. Where was Jersey 1 `@Inject` getting the beans from?\r\n\r\n\r\nPS. This is a super legacy code and i don&#39;t really know why but it has spring integration but none of the objects are created as beans. They are just initialized with new in multiple places. Spring is used to initialize only region specific beans.","title":"Jersey 1 @Inject migrated to Jersey 2 stopped working","body":"<p>I am doing a Jersey 1 to Jersey 2 migration of my system.\nIn my code I had <code>@Inject</code> annotation from <code>com.sun.jersey.spi.inject.Inject</code> and <code>@Singleton</code> from <code>com.sun.jersey.spi.resource.Singleton</code>. I've changed these to <code>javax.inject.Inject</code> and <code>javax.inject.Singleton</code>.</p>\n<p>Since this change I am getting errors while injecting any object annotated with it. My error is this</p>\n<pre><code>javax.servlet.ServletException: A MultiException has 4 exceptions.  They are:\n1. org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=APIConnectorHandler,parent=BarcodeSearchClient,qualifiers={},position=-1,optional=false,self=false,unqualified=null,1090224052)\n2. org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=APIConnectorHandler,parent=RSearchClient,qualifiers={},position=-1,optional=false,self=false,unqualified=null,1247004825)\n3. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.search.barcode.BarcodeSearchClient errors were found\n4. java.lang.IllegalStateException: Unable to perform operation: resolve on com.search.barcode.BarcodeSearchClient\n\n    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:423)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    com.filter.MetricsEmittingFilter.doFilter(MetricsEmittingFilter.java:89)\n</code></pre>\n<p>The <code>APIConnectorHandler</code> is Injected both in <code>RSearchClient</code> and <code>BarcodeSearchClient</code>. I first called the endpoint hitting RSearchClient in the flow and then BarcodeSearchClient because of which RSearchClient is also shown as exception #2.</p>\n<p>My web.xml looks like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!--\nWhen modifying this file, DO NOT FORGET to also modify workspace-web.xml\nif necessary so that &quot;brazil-build server&quot; will work.\n--&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n         version=&quot;3.0&quot;&gt;\n\n    &lt;context-param&gt;\n        &lt;description&gt;Spring Expression Language Support&lt;/description&gt;\n        &lt;param-name&gt;springJspExpressionSupport&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;com.abc.listener.ContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;JerseyServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;\n                com.search, com.fasterxml.jackson.jaxrs.json\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;JerseyServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;MetricsEmittingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n\n</code></pre>\n<p>A few things i did find what that Hk2 is unable to find the beans and stuff but what i'm unable to understand is how did it work in Jersey 1. Where was Jersey 1 <code>@Inject</code> getting the beans from?</p>\n<p>PS. This is a super legacy code and i don't really know why but it has spring integration but none of the objects are created as beans. They are just initialized with new in multiple places. Spring is used to initialize only region specific beans.</p>\n"},{"tags":["java","spring","spring-boot","servlets","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638265389,"post_id":70167169,"comment_id":124036377,"body_markdown":"Which session created event? Which listeners, how are you registering them?","body":"Which session created event? Which listeners, how are you registering them?"},{"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"score":0,"creation_date":1638265698,"post_id":70167169,"comment_id":124036496,"body_markdown":"I have first tried the most basic way, and it didn&#39;t work.\n\n```\n@Component\npublic class InitHttpSessionListener implements HttpSessionListener {\n\tpublic void sessionCreated(HttpSessionEvent event) {\n\t\t...\n\t}\n}\n```\n\nThen, I tried answers from [here](https://stackoverflow.com/questions/32739957/httpsessionlistener-doesnt-work), which also didn&#39;t work","body":"I have first tried the most basic way, and it didn&#39;t work.  ``` @Component public class InitHttpSessionListener implements HttpSessionListener { \tpublic void sessionCreated(HttpSessionEvent event) { \t\t... \t} } ```  Then, I tried answers from <a href=\"https://stackoverflow.com/questions/32739957/httpsessionlistener-doesnt-work\">here</a>, which also didn&#39;t work"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638265773,"post_id":70167169,"comment_id":124036527,"body_markdown":"Please edit your question instead of adding code as comments that is totally unreadable.","body":"Please edit your question instead of adding code as comments that is totally unreadable."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638266225,"post_id":70167169,"comment_id":124036699,"body_markdown":"Is that listener in a package that is properly covered by the component scanning?","body":"Is that listener in a package that is properly covered by the component scanning?"},{"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"score":0,"creation_date":1638267723,"post_id":70167169,"comment_id":124037284,"body_markdown":"Yes, bean called `initHttpSessionListener` is present in ApplicationContext.","body":"Yes, bean called <code>initHttpSessionListener</code> is present in ApplicationContext."},{"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"score":0,"creation_date":1638267799,"post_id":70167169,"comment_id":124037317,"body_markdown":"I also see many session-related beans, since Spring Security is using session, so I suspect something might be overriding my class, but I am not sure how to approach the problem.","body":"I also see many session-related beans, since Spring Security is using session, so I suspect something might be overriding my class, but I am not sure how to approach the problem."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638267812,"post_id":70167169,"comment_id":124037326,"body_markdown":"Then it should just work (tm), so either there is no session created or there is something else you aren&#39;t showing here that disables the listener. Which Spring Boot version are you using?","body":"Then it should just work (tm), so either there is no session created or there is something else you aren&#39;t showing here that disables the listener. Which Spring Boot version are you using?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638267846,"post_id":70167169,"comment_id":124037337,"body_markdown":"What do you mean with *&quot;session-related beans&quot;*?","body":"What do you mean with <i>&quot;session-related beans&quot;</i>?"},{"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"score":0,"creation_date":1638267983,"post_id":70167169,"comment_id":124037386,"body_markdown":"By &quot;session-related beans&quot;, I mean `httpSessionEventPublisher`, `sessionRepository`, `sessionEventHttpSessionListenerAdapter`, `springSessionRepositoryFilter`, and many others that I haven&#39;t manually initialized. Session is being created (I see new session in local database)","body":"By &quot;session-related beans&quot;, I mean <code>httpSessionEventPublisher</code>, <code>sessionRepository</code>, <code>sessionEventHttpSessionListenerAdapter</code>, <code>springSessionRepositoryFilter</code>, and many others that I haven&#39;t manually initialized. Session is being created (I see new session in local database)"},{"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"score":0,"creation_date":1638268030,"post_id":70167169,"comment_id":124037399,"body_markdown":"I am using version 2.5.6","body":"I am using version 2.5.6"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638268473,"post_id":70167169,"comment_id":124037598,"body_markdown":"Are you using Spring Session by any change or just Spring Security without Spring Session? If you are using Spring Session than there will not be the creation of a regular HTTP Session. So there is nothing to listen to.","body":"Are you using Spring Session by any change or just Spring Security without Spring Session? If you are using Spring Session than there will not be the creation of a regular HTTP Session. So there is nothing to listen to."},{"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"score":0,"creation_date":1638269188,"post_id":70167169,"comment_id":124037864,"body_markdown":"I am using Spring Security backed with Spring Session JDBC. HttpSession is properly injected in controller methods, I can access it and all properties are properly stored in MySQL DB. There is no way of reacting to session created event.","body":"I am using Spring Security backed with Spring Session JDBC. HttpSession is properly injected in controller methods, I can access it and all properties are properly stored in MySQL DB. There is no way of reacting to session created event."},{"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"score":0,"creation_date":1638269233,"post_id":70167169,"comment_id":124037884,"body_markdown":"What is the proper event to listen to?","body":"What is the proper event to listen to?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1638269368,"post_id":70167169,"comment_id":124037934,"body_markdown":"The JDBC integration doesn&#39;t support event publishing. See https://stackoverflow.com/questions/40554089/session-events-dont-work-in-spring-session?rq=1","body":"The JDBC integration doesn&#39;t support event publishing. See <a href=\"https://stackoverflow.com/questions/40554089/session-events-dont-work-in-spring-session?rq=1\" title=\"session events dont work in spring session\">stackoverflow.com/questions/40554089/&hellip;</a>"},{"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"score":0,"creation_date":1638269612,"post_id":70167169,"comment_id":124038046,"body_markdown":"That&#39;s a very sad limitation.. Thank you very much for your time!!!","body":"That&#39;s a very sad limitation.. Thank you very much for your time!!!"},{"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"score":0,"creation_date":1638269645,"post_id":70167169,"comment_id":124038063,"body_markdown":"Please, add it as answer (so I can mark it)","body":"Please, add it as answer (so I can mark it)"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638269953,"creation_date":1638269953,"answer_id":70168196,"question_id":70167169,"body_markdown":"As what was getting clear from your comments is that you are using [Spring Session JDBC][1]. Due to the nature of JDBC this doesn&#39;t support publishing of session events and thus you cannot listen to those events. \r\n\r\nAs a workaround you could create your own `AuthenticationSuccessHandler` and put the logic for filling the `Session` in there. Or listen to an `AuthenticationSuccessEvent` using a Spring event listener (would be a bit harder to get to the session but doable). \r\n\r\n[1]: https://spring.io/projects/spring-session-jdbc\r\n[2]: https://stackoverflow.com/questions/40554089/session-events-dont-work-in-spring-session?rq=1","title":"Can&#39;t use any kind of SessionListener when using Spring Security in Spring Boot","body":"<p>As what was getting clear from your comments is that you are using <a href=\"https://spring.io/projects/spring-session-jdbc\" rel=\"nofollow noreferrer\">Spring Session JDBC</a>. Due to the nature of JDBC this doesn't support publishing of session events and thus you cannot listen to those events.</p>\n<p>As a workaround you could create your own <code>AuthenticationSuccessHandler</code> and put the logic for filling the <code>Session</code> in there. Or listen to an <code>AuthenticationSuccessEvent</code> using a Spring event listener (would be a bit harder to get to the session but doable).</p>\n"}],"owner":{"account_id":7560166,"reputation":197,"user_id":5738061,"display_name":"Borisav Živanović"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70168196,"answer_count":1,"score":0,"last_activity_date":1638269953,"creation_date":1638265238,"question_id":70167169,"body_markdown":"I have a very basic Spring Security setup using Session. My problem is that I can&#39;t find a way to use any kind of Session Listener (both Spring and Servlet API versions) to listen to SessionCreated event. Login is working and session is being created properly.\r\n\r\nThe reason I need a listener is because I want to initialize certain session attributes (ex. shopping kart, recent items list) so I can access them seamlessly from `@Controller` request mappings, without having to worry whether session attributes are initialized.\r\n\r\nSecurity configuration code:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true)\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    DataSource dataSource;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/secured/**&quot;).authenticated()\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .and()\r\n                .logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutSuccessUrl(&quot;/&quot;)\r\n                .and()\r\n                .rememberMe().key(&quot;unique&quot;);\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\nFirst, I have tried the most basic session listenter:\r\n\r\n```\r\n@Component\r\npublic class InitHttpSessionListener implements HttpSessionListener {\r\n\r\n\tpublic void sessionCreated(HttpSessionEvent event) {\r\n\t\t...\r\n\t}\r\n}\r\n```\r\n\r\nI have also tried answers from [here][1], which also didn&#39;t work\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32739957/httpsessionlistener-doesnt-work","title":"Can&#39;t use any kind of SessionListener when using Spring Security in Spring Boot","body":"<p>I have a very basic Spring Security setup using Session. My problem is that I can't find a way to use any kind of Session Listener (both Spring and Servlet API versions) to listen to SessionCreated event. Login is working and session is being created properly.</p>\n<p>The reason I need a listener is because I want to initialize certain session attributes (ex. shopping kart, recent items list) so I can access them seamlessly from <code>@Controller</code> request mappings, without having to worry whether session attributes are initialized.</p>\n<p>Security configuration code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    DataSource dataSource;\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/secured/**&quot;).authenticated()\n                .anyRequest().permitAll()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/&quot;)\n                .and()\n                .rememberMe().key(&quot;unique&quot;);\n    }\n\n    ...\n}\n</code></pre>\n<p>First, I have tried the most basic session listenter:</p>\n<pre><code>@Component\npublic class InitHttpSessionListener implements HttpSessionListener {\n\n    public void sessionCreated(HttpSessionEvent event) {\n        ...\n    }\n}\n</code></pre>\n<p>I have also tried answers from <a href=\"https://stackoverflow.com/questions/32739957/httpsessionlistener-doesnt-work\">here</a>, which also didn't work</p>\n"},{"tags":["java","android","string","char","charsequence"],"answers":[{"tags":[],"owner":{"account_id":261698,"reputation":6422,"user_id":546060,"accept_rate":86,"display_name":"Charles Goodwin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1309998162,"creation_date":1309986971,"answer_id":6603107,"question_id":6603084,"body_markdown":"Shorthand, as in fewest typed characters possible:\r\n\r\n    c+&quot;&quot;; // where c is a char\r\n\r\nIn full:\r\n\r\n    textView.setText(c+&quot;&quot;);\r\n\r\n","title":"Most efficient way to convert a single char to a CharSequence","body":"<p>Shorthand, as in fewest typed characters possible:</p>\n\n<pre><code>c+\"\"; // where c is a char\n</code></pre>\n\n<p>In full:</p>\n\n<pre><code>textView.setText(c+\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265054,"reputation":1580,"user_id":551773,"display_name":"Grekz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309987108,"creation_date":1309987108,"answer_id":6603130,"question_id":6603084,"body_markdown":"    char c = &#39;y&#39;;\r\n    textView.setText(&quot;&quot;+c);","title":"Most efficient way to convert a single char to a CharSequence","body":"<pre><code>char c = 'y';\ntextView.setText(\"\"+c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14630,"reputation":16827,"user_id":30316,"accept_rate":82,"display_name":"eljenso"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1309987120,"creation_date":1309987120,"answer_id":6603135,"question_id":6603084,"body_markdown":"    textView.setText(String.valueOf(c))\r\n\r\n","title":"Most efficient way to convert a single char to a CharSequence","body":"<pre><code>textView.setText(String.valueOf(c))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":403847,"reputation":23234,"user_id":771837,"display_name":"trutheality"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1309987897,"creation_date":1309987351,"answer_id":6603177,"question_id":6603084,"body_markdown":"Looking at the implementation of the `Character.toString(char c)` method reveals that they use almost the same code you use:\r\n\r\n      public String toString() {\r\n           char buf[] = {value};\r\n           return String.valueOf(buf);\r\n      }\r\n\r\nFor readability, you should just use `Character.toString( c )`.\r\n\r\n\r\nAnother efficient way would probably be\r\n\r\n    new StringBuilder(1).append(c);\r\n\r\nIt&#39;s definitely more efficient that using the `+` operator because, according to the javadoc:\r\n&gt;The Java language provides special support for the string concatenation operator ( + ), and for conversion of other objects to strings. String concatenation is implemented through the `StringBuilder`(or `StringBuffer`) class and its append method","title":"Most efficient way to convert a single char to a CharSequence","body":"<p>Looking at the implementation of the <code>Character.toString(char c)</code> method reveals that they use almost the same code you use:</p>\n\n<pre><code>  public String toString() {\n       char buf[] = {value};\n       return String.valueOf(buf);\n  }\n</code></pre>\n\n<p>For readability, you should just use <code>Character.toString( c )</code>.</p>\n\n<p>Another efficient way would probably be</p>\n\n<pre><code>new StringBuilder(1).append(c);\n</code></pre>\n\n<p>It's definitely more efficient that using the <code>+</code> operator because, according to the javadoc:</p>\n\n<blockquote>\n  <p>The Java language provides special support for the string concatenation operator ( + ), and for conversion of other objects to strings. String concatenation is implemented through the <code>StringBuilder</code>(or <code>StringBuffer</code>) class and its append method</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":428412,"reputation":13424,"user_id":810720,"display_name":"phlogratos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309987381,"creation_date":1309987381,"answer_id":6603180,"question_id":6603084,"body_markdown":"A solution without concatenation is this:\r\n\r\n    Character.valueOf(c).toString();","title":"Most efficient way to convert a single char to a CharSequence","body":"<p>A solution without concatenation is this:</p>\n\n<pre><code>Character.valueOf(c).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6202591,"reputation":500,"user_id":4831823,"display_name":"Bruce Hamilton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429967324,"creation_date":1429966346,"answer_id":29865413,"question_id":6603084,"body_markdown":"The most compact CharSequence you can get when you have a handful of chars is the CharBuffer.  To initialize this with your char value:\r\n\r\n    CharBuffer.wrap(new char[]{c});\r\n\r\nThat being said, using Strings is a fair bit more readable and easy to work with.","title":"Most efficient way to convert a single char to a CharSequence","body":"<p>The most compact CharSequence you can get when you have a handful of chars is the CharBuffer.  To initialize this with your char value:</p>\n\n<pre><code>CharBuffer.wrap(new char[]{c});\n</code></pre>\n\n<p>That being said, using Strings is a fair bit more readable and easy to work with.</p>\n"},{"tags":[],"owner":{"account_id":6943057,"reputation":9,"user_id":5328645,"display_name":"Samarth Singhal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638269930,"creation_date":1638254443,"answer_id":70165291,"question_id":6603084,"body_markdown":"Adding to an answer mentioned above ([link][1]), adding an example to make things clearer\r\n\r\n    char c = &#39;a&#39;;\r\n    CharSequence cs = String.valueOf(c);\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/6603135/2227743","title":"Most efficient way to convert a single char to a CharSequence","body":"<p>Adding to an answer mentioned above (<a href=\"http://stackoverflow.com/a/6603135/2227743\">link</a>), adding an example to make things clearer</p>\n<pre><code>char c = 'a';\nCharSequence cs = String.valueOf(c);\n</code></pre>\n"}],"owner":{"account_id":163375,"reputation":60245,"user_id":385478,"accept_rate":85,"display_name":"Graham Borland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47187,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":6603135,"answer_count":7,"score":28,"last_activity_date":1638269930,"creation_date":1309986805,"question_id":6603084,"body_markdown":"What&#39;s the most efficient way to pass a single char to a method expecting a CharSequence?\r\n\r\nThis is what I&#39;ve got:\r\n\r\n    textView.setText(new String(new char[] {c} ));\r\n\r\nAccording to [the answers given here][1], this is a sensible way of doing it where the input is a character array. I was wondering if there was a sneaky shortcut I could apply in the single-char case.\r\n\r\n  [1]: https://stackoverflow.com/questions/299606/java-convert-a-char-to-a-charsequence","title":"Most efficient way to convert a single char to a CharSequence","body":"<p>What's the most efficient way to pass a single char to a method expecting a CharSequence?</p>\n\n<p>This is what I've got:</p>\n\n<pre><code>textView.setText(new String(new char[] {c} ));\n</code></pre>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/299606/java-convert-a-char-to-a-charsequence\">the answers given here</a>, this is a sensible way of doing it where the input is a character array. I was wondering if there was a sneaky shortcut I could apply in the single-char case.</p>\n"},{"tags":["java","hibernate","jpa","mapping","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638265780,"creation_date":1638265780,"answer_id":70167288,"question_id":70166910,"body_markdown":"You have one organizational unit which can have multiple users, so you need `OneToMany` relationship on the organization unit:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;Ou&quot;)\r\npublic class OU {\r\n    @Id\r\n    private long id;\r\n    \r\n    private String name;\r\n    private String path;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;organizationalUnit&quot;)\r\n    private Collection&lt;UserOUData&gt; usersData;\r\n}\r\n```\r\n\r\nFor the `UserOUData` you need a `ManyToOne`, since multiple users can be part of the same `OU`:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;UserOUData&quot;)\r\npublic class UserOUData {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private String UserEmail;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;ou_id&quot;)\r\n    private OU organizationalUnit;\r\n}\r\n```\r\n\r\nThis setup assumes that you would want to make the connection bidirectional between `OU` and `UserOUData`.","title":"How can i map this requiremnt for oneToMany","body":"<p>You have one organizational unit which can have multiple users, so you need <code>OneToMany</code> relationship on the organization unit:</p>\n<pre><code>@Entity\n@Table(name=&quot;Ou&quot;)\npublic class OU {\n    @Id\n    private long id;\n    \n    private String name;\n    private String path;\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;organizationalUnit&quot;)\n    private Collection&lt;UserOUData&gt; usersData;\n}\n</code></pre>\n<p>For the <code>UserOUData</code> you need a <code>ManyToOne</code>, since multiple users can be part of the same <code>OU</code>:</p>\n<pre><code>@Entity\n@Table(name=&quot;UserOUData&quot;)\npublic class UserOUData {\n\n    @Id\n    private Long id;\n\n    private String UserEmail;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ou_id&quot;)\n    private OU organizationalUnit;\n}\n</code></pre>\n<p>This setup assumes that you would want to make the connection bidirectional between <code>OU</code> and <code>UserOUData</code>.</p>\n"}],"owner":{"account_id":18686986,"reputation":45,"user_id":13622252,"display_name":"Saurabh Kohade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638269860,"creation_date":1638264016,"question_id":70166910,"body_markdown":"\r\n```@Entity\r\npublic class UserOUData {\r\n\r\n\t@Id\r\n\tprivate Long id;\r\n\r\n\tprivate String UserEmail;\r\n@OneToMany(mappedBy=&quot;usersId&quot;)\r\nprivate Long orgUnitPathId;\r\n}\r\n@Entity\r\n@Table(name=&quot;Ou&quot;)\r\npublic class OU {\r\n\r\n\t@Id\r\n\tprivate long id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\tprivate String path;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;orgUnitPathId&quot;)\r\n\tprivate Collection&lt;UserOUData&gt; usersId;\r\n\t}\r\n\r\n```\r\n\r\ni have tried some of posible examples\r\nbut stil i am facing the issue\r\n\r\n**Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: cloudcodes.schema.generator.model.UserOUData.orgUnitPathId**\r\n\r\n```@OneToMany(mappedBy=&quot;usersId&quot;)\r\n\tprivate Long orgUnitPathId;\r\n    @ManyToOne\r\n\t@JoinColumn(name=&quot;orgUnitPathId&quot;)\r\n\tprivate Collection&lt;UserOUData&gt; usersId;\r\n```\r\n\r\n\r\n\r\ncan anyone help me out with this\r\nthanks in advance.","title":"How can i map this requiremnt for oneToMany","body":"<pre><code>public class UserOUData {\n\n    @Id\n    private Long id;\n\n    private String UserEmail;\n@OneToMany(mappedBy=&quot;usersId&quot;)\nprivate Long orgUnitPathId;\n}\n@Entity\n@Table(name=&quot;Ou&quot;)\npublic class OU {\n\n    @Id\n    private long id;\n    \n    private String name;\n    \n    private String path;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;orgUnitPathId&quot;)\n    private Collection&lt;UserOUData&gt; usersId;\n    }\n\n</code></pre>\n<p>i have tried some of posible examples\nbut stil i am facing the issue</p>\n<p><strong>Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: cloudcodes.schema.generator.model.UserOUData.orgUnitPathId</strong></p>\n<pre><code>    private Long orgUnitPathId;\n    @ManyToOne\n    @JoinColumn(name=&quot;orgUnitPathId&quot;)\n    private Collection&lt;UserOUData&gt; usersId;\n</code></pre>\n<p>can anyone help me out with this\nthanks in advance.</p>\n"},{"tags":["java","spring-boot","jackson","jackson-databind","jackson-dataformat-csv"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1638292995,"post_id":70168157,"comment_id":124047997,"body_markdown":"`.withQuoteChar(&#39;\\&quot;&#39;)` should be `.withQuoteChar(&#39;&quot;&#39;)`.","body":"<code>.withQuoteChar(&#39;\\&quot;&#39;)</code> should be <code>.withQuoteChar(&#39;&quot;&#39;)</code>."},{"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":0,"creation_date":1638293592,"post_id":70168157,"comment_id":124048206,"body_markdown":"What is the expected result? What is the minimal example of User class to reproduce it?","body":"What is the expected result? What is the minimal example of User class to reproduce it?"}],"owner":{"account_id":1871428,"reputation":1438,"user_id":1693541,"accept_rate":37,"display_name":"Braham Shakti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638269843,"creation_date":1638269843,"question_id":70168157,"body_markdown":"I am getting error when I try to parse my csv file, This is error\r\n\r\n&gt; com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;s&#39; (code 115)): Expected separator (&#39;&quot;&#39; (code 34)) or end-of-line\r\n\r\nand this is my csv file line that throws the error\r\n\r\n&gt; SOME NAME|BULGARIA|123444|&quot;abc def ghijkl, abcdef abcd abc., efg, 8 \\&quot;hi. jk. lmnopqrst\\&quot; abcd, we-2636 abcdffe, bulgaria&quot;|0|Abcdef ghui Llmnopqres.|&quot;0 \\&quot;hi. jk. Wertyyi\\&quot; abcd&quot;|Abcdef|&quot;&quot;|WE-2636|yahoo|call|&quot;123444|1|Abcd&quot;|WE_4981878\r\n\r\nSorry for the long line\r\n\r\nHere is syntax \r\n\r\n    csvSchema = csvMapper.schemaFor(User.class)\r\n                        .withUseHeader(true)\r\n                        .withColumnSeparator(&quot;|&quot;)\r\n                        .withQuoteChar(&#39;\\&quot;&#39;)\r\n\r\nBut this is not working but the same syntax is working for ```&quot;Aple \\&quot;Abcd Abcd Abcdefghijk\\&quot;&quot;```\r\nAlso I can&#39;t use `withoutQuoteChar`because my line contains `&quot;123444|1|Abcd&quot;`","title":"CSVMapper and CSVSchema throwing error for Quotes","body":"<p>I am getting error when I try to parse my csv file, This is error</p>\n<blockquote>\n<p>com.fasterxml.jackson.core.JsonParseException: Unexpected character ('s' (code 115)): Expected separator ('&quot;' (code 34)) or end-of-line</p>\n</blockquote>\n<p>and this is my csv file line that throws the error</p>\n<blockquote>\n<p>SOME NAME|BULGARIA|123444|&quot;abc def ghijkl, abcdef abcd abc., efg, 8 &quot;hi. jk. lmnopqrst&quot; abcd, we-2636 abcdffe, bulgaria&quot;|0|Abcdef ghui Llmnopqres.|&quot;0 &quot;hi. jk. Wertyyi&quot; abcd&quot;|Abcdef|&quot;&quot;|WE-2636|yahoo|call|&quot;123444|1|Abcd&quot;|WE_4981878</p>\n</blockquote>\n<p>Sorry for the long line</p>\n<p>Here is syntax</p>\n<pre><code>csvSchema = csvMapper.schemaFor(User.class)\n                    .withUseHeader(true)\n                    .withColumnSeparator(&quot;|&quot;)\n                    .withQuoteChar('\\&quot;')\n</code></pre>\n<p>But this is not working but the same syntax is working for <code>&quot;Aple \\&quot;Abcd Abcd Abcdefghijk\\&quot;&quot;</code>\nAlso I can't use <code>withoutQuoteChar</code>because my line contains <code>&quot;123444|1|Abcd&quot;</code></p>\n"},{"tags":["java","hibernate","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638265034,"creation_date":1638265034,"answer_id":70167129,"question_id":70161759,"body_markdown":"Make sure that you&#39;re using a managed ExecutorService (i.e. do not create it yourself, use the built-in methods):\r\n\r\n    public class MyApplication extends Application&lt;MyConfiguration&gt; {\r\n        @Override\r\n        public void run(MyConfiguration configuration, Environment environment) {\r\n    \r\n            ExecutorService executorService = environment.lifecycle()\r\n                .executorService(nameFormat)\r\n                .maxThreads(maxThreads)\r\n                .build();\r\n    \r\n            ScheduledExecutorService scheduledExecutorService = environment.lifecycle()\r\n                .scheduledExecutorService(nameFormat)\r\n                .build();\r\n        }\r\n    }","title":"Getting &quot;No session currently bound to execution context&quot; when using Threadpool Executor","body":"<p>Make sure that you're using a managed ExecutorService (i.e. do not create it yourself, use the built-in methods):</p>\n<pre><code>public class MyApplication extends Application&lt;MyConfiguration&gt; {\n    @Override\n    public void run(MyConfiguration configuration, Environment environment) {\n\n        ExecutorService executorService = environment.lifecycle()\n            .executorService(nameFormat)\n            .maxThreads(maxThreads)\n            .build();\n\n        ScheduledExecutorService scheduledExecutorService = environment.lifecycle()\n            .scheduledExecutorService(nameFormat)\n            .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638269631,"creation_date":1638269631,"answer_id":70168113,"question_id":70161759,"body_markdown":"`@UnitOfWork` uses the current session context strategy, so you need to put a session to the current thread context\r\n\r\n[Dropwizard @UnitOfWork with asynchronous database call](https://stackoverflow.com/a/47037848/3405171)","title":"Getting &quot;No session currently bound to execution context&quot; when using Threadpool Executor","body":"<p><code>@UnitOfWork</code> uses the current session context strategy, so you need to put a session to the current thread context</p>\n<p><a href=\"https://stackoverflow.com/a/47037848/3405171\">Dropwizard @UnitOfWork with asynchronous database call</a></p>\n"}],"owner":{"display_name":"user8830835"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638269631,"creation_date":1638222774,"question_id":70161759,"body_markdown":"I am new to Dropwizard and Hibernate.\r\nCurrently I am working on an application where I need to use AsyncThreadPool for performing some time consuming operations from my main thread which needs to send a response right away.\r\nIn the synchromous flow the operations are working fine because my listener has @UnitOfWork annotation in place. But in the threadpool spawned thread I am getting &quot;No session currently bound to execution context&quot; error every time. \r\nI tried @UnitOfWork annotation on thread class as well as the run() method, as the documentation says that I have to use this annotation from the resource accessing the instance. \r\nHere is my runnable class.\r\n\r\n```\r\npublic class CallbackTask implements Runnable{\r\n\r\n    Snapshot baseSnapshot;\r\n    ProcessorResponse processorResponse;\r\n    Job job;\r\n    ElasticSearchDAO esDao;\r\n    OrchestratorJobService orchestratorJobService;\r\n    Snapshot snapshot;\r\n    RestoreHelper restoreHelper;\r\n    String indexName;\r\n    public CallbackTask(Snapshot baseSnapshot, ProcessorResponse processorResponse, Job job, ElasticSearchDAO esDao, OrchestratorJobService orchestratorJobService, Snapshot snapshot, RestoreHelper restoreHelper, String indexName) {\r\n        this.baseSnapshot = baseSnapshot;\r\n        this.processorResponse = processorResponse;\r\n        this.job = job;\r\n        this.esDao = esDao;\r\n        this.orchestratorJobService = orchestratorJobService;\r\n        this.snapshot = snapshot;\r\n        this.restoreHelper = restoreHelper;\r\n        this.indexName = indexName;\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public void run() {\r\n        int retryCount = job.getRetrialCount()==null ? 0: job.getRetrialCount();\r\n        if(retryCount&lt; JOB_RETRY_COUNT){\r\n            job.setRetrialCount(++retryCount);\r\n            //orchestratorJobService.runConfig(job.getConfigId(), null);\r\n        }else{\r\n            snapshot.setSoftDelete(true);\r\n        }\r\n        orchestratorJobService.persistData(job, snapshot);\r\n    }\r\n```\r\nThanks in advance for any help.\r\n","title":"Getting &quot;No session currently bound to execution context&quot; when using Threadpool Executor","body":"<p>I am new to Dropwizard and Hibernate.\nCurrently I am working on an application where I need to use AsyncThreadPool for performing some time consuming operations from my main thread which needs to send a response right away.\nIn the synchromous flow the operations are working fine because my listener has @UnitOfWork annotation in place. But in the threadpool spawned thread I am getting &quot;No session currently bound to execution context&quot; error every time.\nI tried @UnitOfWork annotation on thread class as well as the run() method, as the documentation says that I have to use this annotation from the resource accessing the instance.\nHere is my runnable class.</p>\n<pre><code>public class CallbackTask implements Runnable{\n\n    Snapshot baseSnapshot;\n    ProcessorResponse processorResponse;\n    Job job;\n    ElasticSearchDAO esDao;\n    OrchestratorJobService orchestratorJobService;\n    Snapshot snapshot;\n    RestoreHelper restoreHelper;\n    String indexName;\n    public CallbackTask(Snapshot baseSnapshot, ProcessorResponse processorResponse, Job job, ElasticSearchDAO esDao, OrchestratorJobService orchestratorJobService, Snapshot snapshot, RestoreHelper restoreHelper, String indexName) {\n        this.baseSnapshot = baseSnapshot;\n        this.processorResponse = processorResponse;\n        this.job = job;\n        this.esDao = esDao;\n        this.orchestratorJobService = orchestratorJobService;\n        this.snapshot = snapshot;\n        this.restoreHelper = restoreHelper;\n        this.indexName = indexName;\n    }\n\n    @Override\n    @Transactional\n    public void run() {\n        int retryCount = job.getRetrialCount()==null ? 0: job.getRetrialCount();\n        if(retryCount&lt; JOB_RETRY_COUNT){\n            job.setRetrialCount(++retryCount);\n            //orchestratorJobService.runConfig(job.getConfigId(), null);\n        }else{\n            snapshot.setSoftDelete(true);\n        }\n        orchestratorJobService.persistData(job, snapshot);\n    }\n</code></pre>\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","mysql","database","hibernate","jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638269626,"post_id":70168025,"comment_id":124038051,"body_markdown":"I&#39;m not sure MySQL supports a &quot;partial&quot; unique constraint, i.e. one that only applies if status is not FAILED. If this is supported you might be able to use that. Alternatively, you could try to add a 5th column like &quot;attempt&quot; which is part of the constraint and must be null or have a defined value for anything but FAILED (you could use a check constraint for this).","body":"I&#39;m not sure MySQL supports a &quot;partial&quot; unique constraint, i.e. one that only applies if status is not FAILED. If this is supported you might be able to use that. Alternatively, you could try to add a 5th column like &quot;attempt&quot; which is part of the constraint and must be null or have a defined value for anything but FAILED (you could use a check constraint for this)."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1638272671,"post_id":70168025,"comment_id":124039214,"body_markdown":"mysql does not support exemptions from a unique index. Either it applies to all records on the table or does not apply at all.","body":"mysql does not support exemptions from a unique index. Either it applies to all records on the table or does not apply at all."},{"owner":{"account_id":20560027,"reputation":31,"user_id":15090741,"display_name":"ab AL"},"score":0,"creation_date":1638277092,"post_id":70168025,"comment_id":124040878,"body_markdown":"@Thomas can you elaborate on the 5th column alternative please?","body":"@Thomas can you elaborate on the 5th column alternative please?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638277815,"post_id":70168025,"comment_id":124041193,"body_markdown":"Well, as an example you could add another column like &quot;attempt&quot; which is basially a sequence number of each failed operation, i.e. you set a new value for each row with a FAILED status and set it to NULL or some default value if the status is something else. Then add &quot;attempt&quot; to your unique constraint which results in multiple failed attempts being supported (because the key differs by &quot;attempt&quot;) but allows for only one record with another status (because &quot;attempt&quot; will have the same value for those). ...","body":"Well, as an example you could add another column like &quot;attempt&quot; which is basially a sequence number of each failed operation, i.e. you set a new value for each row with a FAILED status and set it to NULL or some default value if the status is something else. Then add &quot;attempt&quot; to your unique constraint which results in multiple failed attempts being supported (because the key differs by &quot;attempt&quot;) but allows for only one record with another status (because &quot;attempt&quot; will have the same value for those). ..."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638277992,"post_id":70168025,"comment_id":124041265,"body_markdown":"... To make it safe you need to ensure that &quot;attempt&quot; has the default value or NULL if the status is not FAILED. That&#39;s where a CHECK constraint might come in handy. It doesn&#39;t seem to be supported by MySQL 5.7 but there seems to be a workaround as described here: https://dasini.net/blog/2019/05/14/check-constraints-in-mysql/","body":"... To make it safe you need to ensure that &quot;attempt&quot; has the default value or NULL if the status is not FAILED. That&#39;s where a CHECK constraint might come in handy. It doesn&#39;t seem to be supported by MySQL 5.7 but there seems to be a workaround as described here: <a href=\"https://dasini.net/blog/2019/05/14/check-constraints-in-mysql/\" rel=\"nofollow noreferrer\">dasini.net/blog/2019/05/14/check-constraints-in-mysql</a>"},{"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"score":0,"creation_date":1686040469,"post_id":70168025,"comment_id":134740994,"body_markdown":"Related: https://stackoverflow.com/questions/4955704/unique-constraint-only-when-a-field-contains-a-specific-value","body":"Related: <a href=\"https://stackoverflow.com/questions/4955704/unique-constraint-only-when-a-field-contains-a-specific-value\" title=\"unique constraint only when a field contains a specific value\">stackoverflow.com/questions/4955704/&hellip;</a>"}],"owner":{"account_id":20560027,"reputation":31,"user_id":15090741,"display_name":"ab AL"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638269161,"creation_date":1638269161,"question_id":70168025,"body_markdown":"I created a table that had a unique constraint of `user_id` , `document_id` and `status`:\r\n\r\n```java\r\n@Entity\r\n@Table(uniqueConstraints = @UniqueConstraint(columnNames = { &quot;user_id&quot;, &quot;document_id&quot;,\r\n\t\t&quot;status&quot; }), name = &quot;acquired_document&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class AcquiredDocument {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long acquiredDocumentId;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;user_id&quot;, nullable = false, updatable = false)\r\n\tprivate User user;\r\n\r\n\t@Column(name = &quot;document_id&quot;, nullable = false, updatable = false)\r\n\tprivate String documentId;\r\n\r\n\t@Column(name = &quot;status&quot;, nullable = false)\r\n\tprivate String status;\r\n```\r\nNow due to change in requirements we need to have a unique constraint disable on these three columns if the status is &quot;FAILED&quot; (to enable multiple failed documents to be acquired).\r\n\r\nSo this is invalid:\r\n```\r\n+-----+----------+-------------+--------+\r\n| id  |  user_id | document_id | status |\r\n+-----+----------+-------------+--------+\r\n|  1  | 1        |     1       | PAID   |\r\n|  2  | 1        |     1       | PAID   |\r\n+-----+----------+-------------+--------+\r\n```\r\n\r\nBut this should not be:\r\n```\r\n+-----+----------+-------------+--------+\r\n| id  |  user_id | document_id | status | \r\n+-----+----------+-------------+--------+\r\n|  1  | 1        |     1       | FAILED |\r\n|  2  | 1        |     1       | FAILED |\r\n+-----+----------+-------------+--------+\r\n```\r\n\r\nI am using JPA (JAVA 1.8) and mySQL server 5.7.","title":"Disable unique Constraint on specific value","body":"<p>I created a table that had a unique constraint of <code>user_id</code> , <code>document_id</code> and <code>status</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(uniqueConstraints = @UniqueConstraint(columnNames = { &quot;user_id&quot;, &quot;document_id&quot;,\n        &quot;status&quot; }), name = &quot;acquired_document&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class AcquiredDocument {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Long acquiredDocumentId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, updatable = false)\n    private User user;\n\n    @Column(name = &quot;document_id&quot;, nullable = false, updatable = false)\n    private String documentId;\n\n    @Column(name = &quot;status&quot;, nullable = false)\n    private String status;\n</code></pre>\n<p>Now due to change in requirements we need to have a unique constraint disable on these three columns if the status is &quot;FAILED&quot; (to enable multiple failed documents to be acquired).</p>\n<p>So this is invalid:</p>\n<pre><code>+-----+----------+-------------+--------+\n| id  |  user_id | document_id | status |\n+-----+----------+-------------+--------+\n|  1  | 1        |     1       | PAID   |\n|  2  | 1        |     1       | PAID   |\n+-----+----------+-------------+--------+\n</code></pre>\n<p>But this should not be:</p>\n<pre><code>+-----+----------+-------------+--------+\n| id  |  user_id | document_id | status | \n+-----+----------+-------------+--------+\n|  1  | 1        |     1       | FAILED |\n|  2  | 1        |     1       | FAILED |\n+-----+----------+-------------+--------+\n</code></pre>\n<p>I am using JPA (JAVA 1.8) and mySQL server 5.7.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1638269807,"post_id":70168021,"comment_id":124038139,"body_markdown":"This seems to be a case of blocking the event dispatch thread (EDT), i.e. your code blocks actual updates to the UI until it is done. Use a SwingWorker instead to do the pixelation in a separate thread.","body":"This seems to be a case of blocking the event dispatch thread (EDT), i.e. your code blocks actual updates to the UI until it is done. Use a SwingWorker instead to do the pixelation in a separate thread."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1638272082,"post_id":70168021,"comment_id":124039017,"body_markdown":"it is also not the best idea to create a new `JLabel` and continuously add it to the frame (not even revalidating it - the new label will have zero size, ergo not be displayed even after the EDT is unblocked) - as commented above, use `SwingWorker` and just change the image assigned to the label.","body":"it is also not the best idea to create a new <code>JLabel</code> and continuously add it to the frame (not even revalidating it - the new label will have zero size, ergo not be displayed even after the EDT is unblocked) - as commented above, use <code>SwingWorker</code> and just change the image assigned to the label."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638283425,"post_id":70168021,"comment_id":124043689,"body_markdown":"Check out [Bubble Sort Animation](https://stackoverflow.com/questions/64196198/bubble-sort-animation) for an example of using a SwingWorker to achieve animation.","body":"Check out <a href=\"https://stackoverflow.com/questions/64196198/bubble-sort-animation\">Bubble Sort Animation</a> for an example of using a SwingWorker to achieve animation."}],"owner":{"account_id":23105540,"reputation":53,"user_id":17214243,"display_name":"Turqay Umudzade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638269139,"creation_date":1638269139,"question_id":70168021,"body_markdown":"The following code should take an image, and pixelate the areas according to the most average color, but I have to show how it works during the process not all at once, so I am trying to reattach and repaint each time but it only displays a white popup after the first image.\r\n\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.ImageIcon;\r\n    import java.awt.Toolkit;\r\n    import java.awt.Dimension;\r\n    import javax.imageio.ImageIO;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    class ImageUtil {\r\n        static JFrame f;\r\n        static Dimension screenSize;\r\n        static JLabel lbl;\r\n    \r\n        public static BufferedImage pixelate(BufferedImage imageToPixelate, int pixelSize) {\r\n            BufferedImage pixelateImage = new BufferedImage(\r\n                    imageToPixelate.getWidth(),\r\n                    imageToPixelate.getHeight(),\r\n                    imageToPixelate.getType());\r\n    \r\n            for (int y = 0; y &lt; imageToPixelate.getHeight(); y += pixelSize) {\r\n                for (int x = 0; x &lt; imageToPixelate.getWidth(); x += pixelSize) {\r\n                    BufferedImage croppedImage = getCroppedImage(imageToPixelate, x, y, pixelSize, pixelSize);\r\n                    Color dominantColor = getDominantColor(croppedImage);\r\n                    for (int yd = y; (yd &lt; y + pixelSize) &amp;&amp; (yd &lt; pixelateImage.getHeight()); yd++) {\r\n                        for (int xd = x; (xd &lt; x + pixelSize) &amp;&amp; (xd &lt; pixelateImage.getWidth()); xd++) {\r\n                            pixelateImage.setRGB(xd, yd, dominantColor.getRGB());\r\n                            ImageIcon img = new ImageIcon(pixelateImage);\r\n                            display(img);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return pixelateImage;\r\n        }\r\n    \r\n        public static BufferedImage getCroppedImage(BufferedImage image, int startx, int starty, int width, int height) {\r\n            if (startx &lt; 0)\r\n                startx = 0;\r\n            if (starty &lt; 0)\r\n                starty = 0;\r\n            if (startx &gt; image.getWidth())\r\n                startx = image.getWidth();\r\n            if (starty &gt; image.getHeight())\r\n                starty = image.getHeight();\r\n            if (startx + width &gt; image.getWidth())\r\n                width = image.getWidth() - startx;\r\n            if (starty + height &gt; image.getHeight())\r\n                height = image.getHeight() - starty;\r\n            return image.getSubimage(startx, starty, width, height);\r\n        }\r\n    \r\n        public static Color getDominantColor(BufferedImage image) {\r\n            int sumR = 0, sumB = 0, sumG = 0, sum2 = 0;\r\n            int color = 0;\r\n            for (int x = 0; x &lt; image.getWidth(); x++) {\r\n                for (int y = 0; y &lt; image.getHeight(); y++) {\r\n                    color = image.getRGB(x, y);\r\n                    Color c = new Color(color);\r\n                    sumR += c.getRed();\r\n                    sumB += c.getBlue();\r\n                    sumG += c.getGreen();\r\n                    sum2++;\r\n                }\r\n            }\r\n            return new Color(sumR / sum2, sumG / sum2, sumB / sum2);\r\n        }\r\n    \r\n        public static void display(ImageIcon image) {\r\n            f.remove(lbl);\r\n            lbl = new JLabel(image);\r\n            f.getContentPane().add(lbl);\r\n            f.repaint();\r\n            try {\r\n                TimeUnit.SECONDS.sleep(1);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String filename = args[0];\r\n            int PIX_SIZE = Integer.parseInt(args[1]);\r\n    \r\n            f = new JFrame();\r\n            screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n            f.setUndecorated(true); // removes the surrounding border\r\n    \r\n            int x = (screenSize.width - f.getSize().width) / 2;\r\n            int y = (screenSize.height - f.getSize().height) / 2;\r\n            f.setLocation(x, y);\r\n    \r\n            try {\r\n                BufferedImage img = ImageIO.read(new File(&quot;download.jpg&quot;));\r\n                ImageIcon image = new ImageIcon(img);\r\n                lbl = new JLabel(image);\r\n                f.setSize(image.getIconWidth(), image.getIconHeight());\r\n                f.getContentPane().add(lbl);\r\n                f.setVisible(true);\r\n                BufferedImage imagePixelated = ImageUtil.pixelate(img, PIX_SIZE);\r\n                // ImageIO.write(imagePixelated, &quot;jpg&quot;, new File(&quot;pixelated.jpg&quot;));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nThe dispay function is supposed to repaint and is called inside the pixelate function.","title":"JLabel displays white image","body":"<p>The following code should take an image, and pixelate the areas according to the most average color, but I have to show how it works during the process not all at once, so I am trying to reattach and repaint each time but it only displays a white popup after the first image.</p>\n<pre><code>import java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.swing.JLabel;\nimport javax.swing.JFrame;\nimport javax.swing.ImageIcon;\nimport java.awt.Toolkit;\nimport java.awt.Dimension;\nimport javax.imageio.ImageIO;\nimport java.util.concurrent.TimeUnit;\n\nclass ImageUtil {\n    static JFrame f;\n    static Dimension screenSize;\n    static JLabel lbl;\n\n    public static BufferedImage pixelate(BufferedImage imageToPixelate, int pixelSize) {\n        BufferedImage pixelateImage = new BufferedImage(\n                imageToPixelate.getWidth(),\n                imageToPixelate.getHeight(),\n                imageToPixelate.getType());\n\n        for (int y = 0; y &lt; imageToPixelate.getHeight(); y += pixelSize) {\n            for (int x = 0; x &lt; imageToPixelate.getWidth(); x += pixelSize) {\n                BufferedImage croppedImage = getCroppedImage(imageToPixelate, x, y, pixelSize, pixelSize);\n                Color dominantColor = getDominantColor(croppedImage);\n                for (int yd = y; (yd &lt; y + pixelSize) &amp;&amp; (yd &lt; pixelateImage.getHeight()); yd++) {\n                    for (int xd = x; (xd &lt; x + pixelSize) &amp;&amp; (xd &lt; pixelateImage.getWidth()); xd++) {\n                        pixelateImage.setRGB(xd, yd, dominantColor.getRGB());\n                        ImageIcon img = new ImageIcon(pixelateImage);\n                        display(img);\n                    }\n                }\n            }\n        }\n\n        return pixelateImage;\n    }\n\n    public static BufferedImage getCroppedImage(BufferedImage image, int startx, int starty, int width, int height) {\n        if (startx &lt; 0)\n            startx = 0;\n        if (starty &lt; 0)\n            starty = 0;\n        if (startx &gt; image.getWidth())\n            startx = image.getWidth();\n        if (starty &gt; image.getHeight())\n            starty = image.getHeight();\n        if (startx + width &gt; image.getWidth())\n            width = image.getWidth() - startx;\n        if (starty + height &gt; image.getHeight())\n            height = image.getHeight() - starty;\n        return image.getSubimage(startx, starty, width, height);\n    }\n\n    public static Color getDominantColor(BufferedImage image) {\n        int sumR = 0, sumB = 0, sumG = 0, sum2 = 0;\n        int color = 0;\n        for (int x = 0; x &lt; image.getWidth(); x++) {\n            for (int y = 0; y &lt; image.getHeight(); y++) {\n                color = image.getRGB(x, y);\n                Color c = new Color(color);\n                sumR += c.getRed();\n                sumB += c.getBlue();\n                sumG += c.getGreen();\n                sum2++;\n            }\n        }\n        return new Color(sumR / sum2, sumG / sum2, sumB / sum2);\n    }\n\n    public static void display(ImageIcon image) {\n        f.remove(lbl);\n        lbl = new JLabel(image);\n        f.getContentPane().add(lbl);\n        f.repaint();\n        try {\n            TimeUnit.SECONDS.sleep(1);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n\n        String filename = args[0];\n        int PIX_SIZE = Integer.parseInt(args[1]);\n\n        f = new JFrame();\n        screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        f.setUndecorated(true); // removes the surrounding border\n\n        int x = (screenSize.width - f.getSize().width) / 2;\n        int y = (screenSize.height - f.getSize().height) / 2;\n        f.setLocation(x, y);\n\n        try {\n            BufferedImage img = ImageIO.read(new File(&quot;download.jpg&quot;));\n            ImageIcon image = new ImageIcon(img);\n            lbl = new JLabel(image);\n            f.setSize(image.getIconWidth(), image.getIconHeight());\n            f.getContentPane().add(lbl);\n            f.setVisible(true);\n            BufferedImage imagePixelated = ImageUtil.pixelate(img, PIX_SIZE);\n            // ImageIO.write(imagePixelated, &quot;jpg&quot;, new File(&quot;pixelated.jpg&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>The dispay function is supposed to repaint and is called inside the pixelate function.</p>\n"},{"tags":["java","arrays","list","arraylist","null"],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1638269116,"creation_date":1638187803,"answer_id":70154413,"question_id":70154349,"body_markdown":"Such behaviour is documented in the Javadoc of [`List::toArray(T[])`][1]:\r\n\r\n&gt; If the list fits in the specified array with room to spare (i.e., the array has more elements than the list), the element in the array immediately following the end of the list is set to null **(This is useful in determining the length of the list only if the caller knows that the list does not contain any null elements.)**\r\n\r\n&lt;sup&gt;(Emphasis mine.)&lt;/sup&gt;\r\n\r\nI find it &lt;strike&gt;a bit&lt;/strike&gt; &lt;strike&gt;quite&lt;/strike&gt; *very* difficult to come up with a concrete example, but at least the position of the `null` element is equal to the original length of the list prior to calling `toArray`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html#toArray(T%5B%5D)","title":"Why Java inserts null to array when using List.toArray","body":"<p>Such behaviour is documented in the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html#toArray(T%5B%5D)\" rel=\"nofollow noreferrer\"><code>List::toArray(T[])</code></a>:</p>\n<blockquote>\n<p>If the list fits in the specified array with room to spare (i.e., the array has more elements than the list), the element in the array immediately following the end of the list is set to null <strong>(This is useful in determining the length of the list only if the caller knows that the list does not contain any null elements.)</strong></p>\n</blockquote>\n<p><sup>(Emphasis mine.)</sup></p>\n<p>I find it <strike>a bit</strike> <strike>quite</strike> <em>very</em> difficult to come up with a concrete example, but at least the position of the <code>null</code> element is equal to the original length of the list prior to calling <code>toArray</code>.</p>\n"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70154413,"answer_count":1,"score":5,"last_activity_date":1638269116,"creation_date":1638187500,"question_id":70154349,"body_markdown":"The output of the code snippet\r\n\r\n    List&lt;Integer&gt; list = List.of(10, 20, 30, 40, 50);\r\n    Integer[] array = {1, 2, 3, 4, 5, 6, 7, 8, 9, 0};\r\n    list.toArray(array);\r\n    System.out.println(Arrays.toString(array));\r\n\r\nis:\r\n\r\n&gt; [10, 20, 30, 40, 50, null, 7, 8, 9, 0]\r\n\r\nI have found following code in `ArrayList.toArray` method:\r\n\r\n    if (a.length &gt; size)\r\n        a[size] = null;\r\n\r\nWhat is the reason for such behavior?\r\nWhy the 5th element in may example is `null`, but not `6`?","title":"Why Java inserts null to array when using List.toArray","body":"<p>The output of the code snippet</p>\n<pre><code>List&lt;Integer&gt; list = List.of(10, 20, 30, 40, 50);\nInteger[] array = {1, 2, 3, 4, 5, 6, 7, 8, 9, 0};\nlist.toArray(array);\nSystem.out.println(Arrays.toString(array));\n</code></pre>\n<p>is:</p>\n<blockquote>\n<p>[10, 20, 30, 40, 50, null, 7, 8, 9, 0]</p>\n</blockquote>\n<p>I have found following code in <code>ArrayList.toArray</code> method:</p>\n<pre><code>if (a.length &gt; size)\n    a[size] = null;\n</code></pre>\n<p>What is the reason for such behavior?\nWhy the 5th element in may example is <code>null</code>, but not <code>6</code>?</p>\n"},{"tags":["java","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":17249078,"reputation":26,"user_id":17424182,"display_name":"lettuce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638268669,"creation_date":1638268669,"answer_id":70167905,"question_id":70152895,"body_markdown":"Answering your question: no, it is not necessary while creating any library. The configuration class here is created to enable component scanning, add a property source and enable component scanning for interfaces that declare they are Feign clients. And the annotation is created in order to conveniently import this configuration into your project.","title":"Do we need to create annotation and configuration files while creating a spring boot library?","body":"<p>Answering your question: no, it is not necessary while creating any library. The configuration class here is created to enable component scanning, add a property source and enable component scanning for interfaces that declare they are Feign clients. And the annotation is created in order to conveniently import this configuration into your project.</p>\n"}],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638268669,"creation_date":1638180759,"question_id":70152895,"body_markdown":"I&#39;m implementing a library using spring boot maven. I&#39;m following a resource that is [&quot;How to Write a Spring Boot Library Project?&quot;][1]. In this he created annotation and configuration files. My question is why do we need to create annotation and configuration files, are these necessary while creating any library?\r\n\r\nthe configuration file that he has created is\r\n```\r\n@EnableFeignClients(clients = RandomJokeClient.class)\r\n@ComponentScan(basePackageClasses = MarvelousApiClientProxy.class)\r\n@Configuration\r\n@PropertySource(value = &quot;classpath:marvelousapiclient-application.yaml&quot;, factory = YamlPropertySourceFactory.class)\r\npublic class MarvelousApiClientConfiguration {\r\n}\r\n```\r\nand annotation file for the above configuration file is\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\n@Import(MarvelousApiClientConfiguration.class)\r\npublic @interface EnableMarvelousApiClient {\r\n}\r\n```\r\n\r\n\r\n  [1]: https://medium.com/trendyol-tech/how-to-write-a-spring-boot-library-project-7064e831b63b","title":"Do we need to create annotation and configuration files while creating a spring boot library?","body":"<p>I'm implementing a library using spring boot maven. I'm following a resource that is <a href=\"https://medium.com/trendyol-tech/how-to-write-a-spring-boot-library-project-7064e831b63b\" rel=\"nofollow noreferrer\">&quot;How to Write a Spring Boot Library Project?&quot;</a>. In this he created annotation and configuration files. My question is why do we need to create annotation and configuration files, are these necessary while creating any library?</p>\n<p>the configuration file that he has created is</p>\n<pre><code>@EnableFeignClients(clients = RandomJokeClient.class)\n@ComponentScan(basePackageClasses = MarvelousApiClientProxy.class)\n@Configuration\n@PropertySource(value = &quot;classpath:marvelousapiclient-application.yaml&quot;, factory = YamlPropertySourceFactory.class)\npublic class MarvelousApiClientConfiguration {\n}\n</code></pre>\n<p>and annotation file for the above configuration file is</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Import(MarvelousApiClientConfiguration.class)\npublic @interface EnableMarvelousApiClient {\n}\n</code></pre>\n"},{"tags":["java","eclipse","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":2327957,"reputation":1188,"user_id":2041986,"accept_rate":67,"display_name":"Prasad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638268139,"creation_date":1638268139,"answer_id":70167792,"question_id":70152454,"body_markdown":"Instead of `to` use `toD`. The `toD` is used for sending message to a dynamic endpoint. \r\n\r\nPlease refer : [Camel docs][1]\r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.13.x/eips/toD-eip.html#_using_tod","title":"How to use a dynamic endpoint while using the validator component of apache camel?","body":"<p>Instead of <code>to</code> use <code>toD</code>. The <code>toD</code> is used for sending message to a dynamic endpoint.</p>\n<p>Please refer : <a href=\"https://camel.apache.org/components/3.13.x/eips/toD-eip.html#_using_tod\" rel=\"nofollow noreferrer\">Camel docs</a></p>\n"}],"owner":{"account_id":18128966,"reputation":395,"user_id":13184263,"display_name":"Jenny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70167792,"answer_count":1,"score":0,"last_activity_date":1638268139,"creation_date":1638178572,"question_id":70152454,"body_markdown":"I want to do an xml validation rest service using apache camel, however I want the path to the file to be dynamic but I was not able to do that:\r\n```\r\npackage com.example.XMLValidator;\r\n\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.stereotype.Component;\r\n\r\n\r\nimport core.ErrorProcessor;\r\n\r\n@Component\r\npublic class XMLValidatorRestService extends RouteBuilder{\r\n\t\r\n\t\t@Override\r\n\t    public void configure() throws Exception {\r\n\t        \r\n\t\t\tonException(Exception.class).handled(true)\r\n\t    \t.process(new ErrorProcessor());\r\n\t    \t\r\n\t    \t\r\n\r\n\t        rest(&quot;/xmlValidator/{xsdLocation}&quot;)\r\n\t        .post()\r\n\t        \r\n\t        .to(&quot;direct:xmlValidator&quot;);\r\n\t        \r\n \r\n\t        from(&quot;direct:xmlValidator&quot;)\r\n\t        .choice()\r\n\t        \t.when(header(&quot;ebmName&quot;).isEqualTo(&quot;pers.marriage.ebm.marrInfo_1.0&quot;)).to(&quot;validator:${header.xsdLocation}&quot;)\r\n\t  .log(&quot;${body}&quot;);\r\n\t    }\t\r\n}\r\n```\r\nHowever this code is giving me the following error:\r\n```\r\nCannot find resource: ${header.ebmName} for URI: ${header.ebmName}\r\n```\r\nThis is the correct route: ```.to(&quot;validator:file:C:/ISF/trunk/ISFApplications/ServiceBusApplications/Applications/MarriageServiceBusApplication/MarriageSBProject/apps/pers.marriage/ebm/pers.marriage.ebm.marrInfo_1.0.xsd&quot;)```\r\nSo any idea how to make this path dynamic? Thank you\r\n","title":"How to use a dynamic endpoint while using the validator component of apache camel?","body":"<p>I want to do an xml validation rest service using apache camel, however I want the path to the file to be dynamic but I was not able to do that:</p>\n<pre><code>package com.example.XMLValidator;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n\nimport core.ErrorProcessor;\n\n@Component\npublic class XMLValidatorRestService extends RouteBuilder{\n    \n        @Override\n        public void configure() throws Exception {\n            \n            onException(Exception.class).handled(true)\n            .process(new ErrorProcessor());\n            \n            \n\n            rest(&quot;/xmlValidator/{xsdLocation}&quot;)\n            .post()\n            \n            .to(&quot;direct:xmlValidator&quot;);\n            \n \n            from(&quot;direct:xmlValidator&quot;)\n            .choice()\n                .when(header(&quot;ebmName&quot;).isEqualTo(&quot;pers.marriage.ebm.marrInfo_1.0&quot;)).to(&quot;validator:${header.xsdLocation}&quot;)\n      .log(&quot;${body}&quot;);\n        }   \n}\n</code></pre>\n<p>However this code is giving me the following error:</p>\n<pre><code>Cannot find resource: ${header.ebmName} for URI: ${header.ebmName}\n</code></pre>\n<p>This is the correct route: <code>.to(&quot;validator:file:C:/ISF/trunk/ISFApplications/ServiceBusApplications/Applications/MarriageServiceBusApplication/MarriageSBProject/apps/pers.marriage/ebm/pers.marriage.ebm.marrInfo_1.0.xsd&quot;)</code>\nSo any idea how to make this path dynamic? Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638172306,"post_id":70151220,"comment_id":124007501,"body_markdown":"Use a different layout manager - see [A Visual Guide to Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)","body":"Use a different layout manager - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">A Visual Guide to Layout Managers</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638173136,"creation_date":1638173136,"answer_id":70151433,"question_id":70151220,"body_markdown":"Use a different layout manager - see [A Visual Guide to Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.DefaultComboBoxModel;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(16, 16, 16, 16));\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add( new JLabel(&quot;I&#39;m assuming you want something&quot;), gbc);\r\n\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n                gbc.gridy = 1;\r\n                gbc.gridwidth = 1;\r\n                add(new JLabel(&quot;Please make a selection&quot;), gbc);\r\n\r\n                DefaultComboBoxModel&lt;String&gt; model = new DefaultComboBoxModel&lt;String&gt;();\r\n                model.addElement(&quot;This is not what you are looking for&quot;);\r\n                model.addElement(&quot;This is something else&quot;);\r\n                model.addElement(&quot;Not what you think&quot;);\r\n\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n                gbc.gridx++;\r\n\r\n                add(new JComboBox&lt;String&gt;(model));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2JCcV.png","title":"Align label and combo box in vertical instead of horizontal in java","body":"<p>Use a different layout manager - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">A Visual Guide to Layout Managers</a></p>\n<p><a href=\"https://i.stack.imgur.com/2JCcV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2JCcV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(16, 16, 16, 16));\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.anchor = GridBagConstraints.LINE_START;\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add( new JLabel(&quot;I'm assuming you want something&quot;), gbc);\n\n            gbc.anchor = GridBagConstraints.LINE_END;\n            gbc.gridy = 1;\n            gbc.gridwidth = 1;\n            add(new JLabel(&quot;Please make a selection&quot;), gbc);\n\n            DefaultComboBoxModel&lt;String&gt; model = new DefaultComboBoxModel&lt;String&gt;();\n            model.addElement(&quot;This is not what you are looking for&quot;);\n            model.addElement(&quot;This is something else&quot;);\n            model.addElement(&quot;Not what you think&quot;);\n\n            gbc.anchor = GridBagConstraints.LINE_START;\n            gbc.gridx++;\n\n            add(new JComboBox&lt;String&gt;(model));\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19491403,"reputation":1,"user_id":14259531,"display_name":"Dakalo Netshianzwane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638268102,"creation_date":1638172046,"question_id":70151220,"body_markdown":"How do I get my label and combo box to appear vertical instead of horizontal in java? I tried setting the layout to null but it hides the label.\r\n\r\n    public PetrolApplication()\r\n       {\r\n           \r\n\t       setLayout(new FlowLayout());\r\n               add(label);\r\n               add(label2);\r\n\t       Combo1 = new JComboBox(Arraycities);\r\n\t       Combo1.setBounds(50, 50, 100, 20);","title":"Align label and combo box in vertical instead of horizontal in java","body":"<p>How do I get my label and combo box to appear vertical instead of horizontal in java? I tried setting the layout to null but it hides the label.</p>\n<pre><code>public PetrolApplication()\n   {\n       \n       setLayout(new FlowLayout());\n           add(label);\n           add(label2);\n       Combo1 = new JComboBox(Arraycities);\n       Combo1.setBounds(50, 50, 100, 20);\n</code></pre>\n"},{"tags":["java","javafx","module-info"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1638265515,"post_id":70166812,"comment_id":124036427,"body_markdown":"I advise you search for JavaFX naming conventions and apply them (e.g. fix your package name).","body":"I advise you search for JavaFX naming conventions and apply them (e.g. fix your package name)."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1638266254,"post_id":70166812,"comment_id":124036716,"body_markdown":"the error tells you all: _because module HLC does not export VideoClub.controllers to module javafx.fxml_ .. just export that package as well.","body":"the error tells you all: <i>because module HLC does not export VideoClub.controllers to module javafx.fxml</i> .. just export that package as well."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1638267030,"post_id":70166812,"comment_id":124037030,"body_markdown":"sry, but this question is getting worse .. old: A) FIX the module info as suggested by the error message (I already pointed out which line of stacktrace to look at) B) FIX the module info as suggested in the answer by @jewelsea new: C) learn how to lookup resources (periods are NOT supported) Anyway: debugging questions __require__ a [mcve]","body":"sry, but this question is getting worse .. old: A) FIX the module info as suggested by the error message (I already pointed out which line of stacktrace to look at) B) FIX the module info as suggested in the answer by @jewelsea new: C) learn how to lookup resources (periods are NOT supported) Anyway: debugging questions <b>require</b> a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638265458,"creation_date":1638265458,"answer_id":70167218,"question_id":70166812,"body_markdown":"Error says:\r\n\r\n    because module HLC does not export VideoClub.controllers to module javafx.fxml\r\n\r\nSo that is a package you need to open to fxml.\r\n\r\nAdd to your module info:\r\n\r\n    opens VideoClub.controllers to javafx.fxml;\r\n\r\n","title":"Exception in Application start method (JavaFX) module-info","body":"<p>Error says:</p>\n<pre><code>because module HLC does not export VideoClub.controllers to module javafx.fxml\n</code></pre>\n<p>So that is a package you need to open to fxml.</p>\n<p>Add to your module info:</p>\n<pre><code>opens VideoClub.controllers to javafx.fxml;\n</code></pre>\n"}],"owner":{"account_id":21130649,"reputation":5,"user_id":15535074,"display_name":"Tach0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638267136,"accepted_answer_id":70167218,"answer_count":1,"score":0,"last_activity_date":1638267995,"creation_date":1638263483,"question_id":70166812,"body_markdown":"I am trying to start my application with the module-info in Eclipse but I get this exception that I do not understand, I have tried to run my application with No-Module but sometimes it works and when I restart the PC it does not work. Thanks.\r\nI am trying to start my application with the module-info in Eclipse but I get this exception that I do not understand, I have tried to run my application with No-Module but sometimes it works and when I restart the PC it does not work. Thanks.\r\n\r\nLauncher.java:\r\n```\r\npackage VideoClub;\r\n\r\n/**\r\n * @author Carlos Hidalgo Risco \r\n */\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n\r\npublic class Launcher extends Application {\r\n\r\n  public static void main(String[] args) {\r\n    launch(args);\r\n  }\r\n\r\n  @Override\r\n  public void start(Stage stage) throws IOException {\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;views/inicio.fxml&quot;));\r\n\r\n    Scene scene = new Scene(root);\r\n\r\n    stage.setTitle(&quot;VideoClub&quot;);\r\n    stage.setScene(scene);\r\n    stage.show();\r\n\r\n    stage.setResizable(false);\r\n  }\r\n}\r\n\r\n```\r\n\r\nException:\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: javafx.fxml.LoadException: \r\n/D:/eclipse/HLC/bin/VideoClub/views/inicio.fxml:11\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.access$700(FXMLLoader.java:105)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:943)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:980)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:227)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:752)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2722)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2552)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\r\n\tat HLC/VideoClub.Launcher.start(Launcher.java:22)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\t... 1 more\r\nCaused by: java.lang.IllegalAccessException: class javafx.fxml.FXMLLoader$ValueElement (in module javafx.fxml) cannot access class VideoClub.controllers.InicioController (in module HLC) because module HLC does not export VideoClub.controllers to module javafx.fxml\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\r\n\tat java.base/jdk.internal.reflect.Reflection.ensureMemberAccess(Reflection.java:99)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:579)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:936)\r\n\t... 22 more\r\nException running application VideoClub.Launcher\r\n```\r\nFXML:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.Cursor?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane id=&quot;anchor-menu&quot; prefHeight=&quot;768.0&quot; prefWidth=&quot;1024.0&quot; stylesheets=&quot;@styles.css&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;VideoClub.controllers.InicioController&quot;&gt;\r\n    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;50.0&quot; styleClass=&quot;styles.css&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n        &lt;Label fx:id=&quot;title&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;94.0&quot; prefWidth=&quot;326.0&quot; text=&quot;VideoClub&quot;&gt;\r\n            &lt;font&gt;\r\n                &lt;Font name=&quot;System Bold&quot; size=&quot;65.0&quot; /&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n         &lt;Button fx:id=&quot;peliculasBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#peliculasBtnAction&quot; prefWidth=&quot;400.0&quot; text=&quot;&#128253; Pel&#237;culas&quot;&gt;\r\n             &lt;cursor&gt;\r\n                 &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\r\n             &lt;/cursor&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;48.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n         &lt;/Button&gt;\r\n      &lt;Button fx:id=&quot;sociosBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#sociosBtnAction&quot; prefWidth=&quot;400.0&quot; text=&quot;&#128590;‍♂️ Socios&quot;&gt;\r\n         &lt;cursor&gt;\r\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\r\n         &lt;/cursor&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;48.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n      &lt;Button fx:id=&quot;alquileresBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#alquileresBtnAction&quot; prefWidth=&quot;400.0&quot; text=&quot;&#128722; Alquileres&quot;&gt;\r\n         &lt;cursor&gt;\r\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\r\n         &lt;/cursor&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;48.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n         &lt;VBox.margin&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; /&gt;\r\n         &lt;/VBox.margin&gt;\r\n      &lt;/Button&gt;\r\n    &lt;/VBox&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\nmodule-info.java:\r\n``` \r\nmodule HLC {\r\n  requires transitive javafx.graphics;\r\n  requires javafx.controls;\r\n  requires javafx.fxml;\r\n  requires java.desktop;\r\n  requires javafx.base;\r\n  requires javafx.web;\r\n  requires javafx.media;\r\n  requires java.sql;\r\n  \r\n  opens VideoClub to javafx.fxml;\r\n  \r\n  exports VideoClub;\r\n\r\n}\r\n\r\n```\r\n\r\nUPDATE\r\n\r\nOk now my application opens but does not recognize the fxml files.\r\n\r\nException:\r\n```\r\nnov. 30, 2021 10:52:46 A. M. javafx.fxml.FXMLLoader$ValueElement processValue\r\nADVERTENCIA: Loading FXML document with JavaFX API of version 16 by JavaFX runtime of version 11.0.2\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1782)\r\n\t... 47 more\r\nCaused by: java.lang.NullPointerException: Location is required.\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3230)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\r\n\tat HLC/VideoClub.controllers.InicioController.peliculasBtnAction(InicioController.java:46)\r\n\t... 58 more\r\n```\r\n\r\npeliculasBtnAction:\r\n```\r\n@FXML\r\n    void peliculasBtnAction(ActionEvent event) throws IOException {\r\n\r\n      Parent parent = FXMLLoader.load(getClass().getResource(&quot;../views/peliculas.fxml&quot;));\r\n      Scene scene = new Scene(parent);\r\n\r\n      Stage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n\r\n      stage.setScene(scene);\r\n      stage.show();\r\n    }\r\n```\r\n\r\n[file structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0h4kL.png\r\n\r\n","title":"Exception in Application start method (JavaFX) module-info","body":"<p>I am trying to start my application with the module-info in Eclipse but I get this exception that I do not understand, I have tried to run my application with No-Module but sometimes it works and when I restart the PC it does not work. Thanks.\nI am trying to start my application with the module-info in Eclipse but I get this exception that I do not understand, I have tried to run my application with No-Module but sometimes it works and when I restart the PC it does not work. Thanks.</p>\n<p>Launcher.java:</p>\n<pre><code>package VideoClub;\n\n/**\n * @author Carlos Hidalgo Risco \n */\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class Launcher extends Application {\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n\n  @Override\n  public void start(Stage stage) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;views/inicio.fxml&quot;));\n\n    Scene scene = new Scene(root);\n\n    stage.setTitle(&quot;VideoClub&quot;);\n    stage.setScene(scene);\n    stage.show();\n\n    stage.setResizable(false);\n  }\n}\n\n</code></pre>\n<p>Exception:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javafx.fxml.LoadException: \n/D:/eclipse/HLC/bin/VideoClub/views/inicio.fxml:11\n\n    at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\n    at javafx.fxml/javafx.fxml.FXMLLoader.access$700(FXMLLoader.java:105)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:943)\n    at javafx.fxml/javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:980)\n    at javafx.fxml/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:227)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:752)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2722)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2552)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\n    at HLC/VideoClub.Launcher.start(Launcher.java:22)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    ... 1 more\nCaused by: java.lang.IllegalAccessException: class javafx.fxml.FXMLLoader$ValueElement (in module javafx.fxml) cannot access class VideoClub.controllers.InicioController (in module HLC) because module HLC does not export VideoClub.controllers to module javafx.fxml\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\n    at java.base/jdk.internal.reflect.Reflection.ensureMemberAccess(Reflection.java:99)\n    at java.base/java.lang.Class.newInstance(Class.java:579)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:936)\n    ... 22 more\nException running application VideoClub.Launcher\n</code></pre>\n<p>FXML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.Cursor?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane id=&quot;anchor-menu&quot; prefHeight=&quot;768.0&quot; prefWidth=&quot;1024.0&quot; stylesheets=&quot;@styles.css&quot; xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;VideoClub.controllers.InicioController&quot;&gt;\n    &lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;50.0&quot; styleClass=&quot;styles.css&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n        &lt;Label fx:id=&quot;title&quot; alignment=&quot;CENTER&quot; prefHeight=&quot;94.0&quot; prefWidth=&quot;326.0&quot; text=&quot;VideoClub&quot;&gt;\n            &lt;font&gt;\n                &lt;Font name=&quot;System Bold&quot; size=&quot;65.0&quot; /&gt;\n            &lt;/font&gt;\n        &lt;/Label&gt;\n         &lt;Button fx:id=&quot;peliculasBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#peliculasBtnAction&quot; prefWidth=&quot;400.0&quot; text=&quot;📽 Películas&quot;&gt;\n             &lt;cursor&gt;\n                 &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\n             &lt;/cursor&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;48.0&quot; /&gt;\n         &lt;/font&gt;\n         &lt;/Button&gt;\n      &lt;Button fx:id=&quot;sociosBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#sociosBtnAction&quot; prefWidth=&quot;400.0&quot; text=&quot;🙎‍♂️ Socios&quot;&gt;\n         &lt;cursor&gt;\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\n         &lt;/cursor&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;48.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n      &lt;Button fx:id=&quot;alquileresBtn&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#alquileresBtnAction&quot; prefWidth=&quot;400.0&quot; text=&quot;🛒 Alquileres&quot;&gt;\n         &lt;cursor&gt;\n            &lt;Cursor fx:constant=&quot;HAND&quot; /&gt;\n         &lt;/cursor&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;48.0&quot; /&gt;\n         &lt;/font&gt;\n         &lt;VBox.margin&gt;\n            &lt;Insets bottom=&quot;20.0&quot; /&gt;\n         &lt;/VBox.margin&gt;\n      &lt;/Button&gt;\n    &lt;/VBox&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>module-info.java:</p>\n<pre><code>module HLC {\n  requires transitive javafx.graphics;\n  requires javafx.controls;\n  requires javafx.fxml;\n  requires java.desktop;\n  requires javafx.base;\n  requires javafx.web;\n  requires javafx.media;\n  requires java.sql;\n  \n  opens VideoClub to javafx.fxml;\n  \n  exports VideoClub;\n\n}\n\n</code></pre>\n<p>UPDATE</p>\n<p>Ok now my application opens but does not recognize the fxml files.</p>\n<p>Exception:</p>\n<pre><code>nov. 30, 2021 10:52:46 A. M. javafx.fxml.FXMLLoader$ValueElement processValue\nADVERTENCIA: Loading FXML document with JavaFX API of version 16 by JavaFX runtime of version 11.0.2\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1782)\n    ... 47 more\nCaused by: java.lang.NullPointerException: Location is required.\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3230)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\n    at HLC/VideoClub.controllers.InicioController.peliculasBtnAction(InicioController.java:46)\n    ... 58 more\n</code></pre>\n<p>peliculasBtnAction:</p>\n<pre><code>@FXML\n    void peliculasBtnAction(ActionEvent event) throws IOException {\n\n      Parent parent = FXMLLoader.load(getClass().getResource(&quot;../views/peliculas.fxml&quot;));\n      Scene scene = new Scene(parent);\n\n      Stage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n\n      stage.setScene(scene);\n      stage.show();\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0h4kL.png\" rel=\"nofollow noreferrer\">file structure</a></p>\n"},{"tags":["java","printwriter"],"comments":[{"owner":{"account_id":20741201,"reputation":333,"user_id":15230812,"display_name":"Marlon"},"score":1,"creation_date":1638264130,"post_id":70166847,"comment_id":124035875,"body_markdown":"Do you checked with the debugger whether you go through the while loop more than one time?","body":"Do you checked with the debugger whether you go through the while loop more than one time?"},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":3,"creation_date":1638264132,"post_id":70166847,"comment_id":124035876,"body_markdown":"try to print anything in the catch block just to be sure that there are no Exceptions : \n           catch (Exception e) {\n\t\t\te.printStackTrace();\n\t\t}","body":"try to print anything in the catch block just to be sure that there are no Exceptions :             catch (Exception e) { \t\t\te.printStackTrace(); \t\t}"},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1638264824,"post_id":70166847,"comment_id":124036152,"body_markdown":"That delimiter seems a bit fishy. What is the format of your file?","body":"That delimiter seems a bit fishy. What is the format of your file?"},{"owner":{"account_id":18583853,"reputation":63,"user_id":13542748,"display_name":"Syramid"},"score":0,"creation_date":1638265234,"post_id":70166847,"comment_id":124036312,"body_markdown":"@Renis1235 I have updated the post and included the text file.","body":"@Renis1235 I have updated the post and included the text file."},{"owner":{"account_id":18583853,"reputation":63,"user_id":13542748,"display_name":"Syramid"},"score":0,"creation_date":1638265329,"post_id":70166847,"comment_id":124036351,"body_markdown":"@OussamaZAGHDOUD It says java.util.InputMismatchException, and it seems like the line `dbcuid = Sc1.nextInt();` is not getting a number from the text file, but the first value in each row is a number","body":"@OussamaZAGHDOUD It says java.util.InputMismatchException, and it seems like the line <code>dbcuid = Sc1.nextInt();</code> is not getting a number from the text file, but the first value in each row is a number"},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1638266341,"post_id":70166847,"comment_id":124036754,"body_markdown":"@Syramid you can use instead of this line :  if(Sc1.hasNextInt()) { dbcuid = Sc1.nextInt(); }","body":"@Syramid you can use instead of this line :  if(Sc1.hasNextInt()) { dbcuid = Sc1.nextInt(); }"},{"owner":{"account_id":18583853,"reputation":63,"user_id":13542748,"display_name":"Syramid"},"score":0,"creation_date":1638267349,"post_id":70166847,"comment_id":124037148,"body_markdown":"@OussamaZAGHDOUD Thank you very much for the suggestion. It turns out that the structure of the text file is the problem, everything works fine now after I have made a new one.","body":"@OussamaZAGHDOUD Thank you very much for the suggestion. It turns out that the structure of the text file is the problem, everything works fine now after I have made a new one."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638267400,"creation_date":1638267400,"answer_id":70167630,"question_id":70166847,"body_markdown":"Testing your code with your file worked for me. But the error that you receive signals that you are not reading an integer with `scanner.nextInt()`.\r\n\r\nI would test your full file with this snippet below. Just to check where does the parsing fail. And fix that problem.\r\n```java\r\nString dbcuidStr = sc.next();\r\n\r\ntry\r\n{\r\n    System.out.println(&quot;This is the ID: &quot; + dbcuidStr);\r\n    dbcuid = Integer.parseInt(dbcuidStr);\r\n}\r\ncatch (Exception e)\r\n{\r\n    System.out.println(dbcuidStr + &quot; could not be parsed to an integer&quot;);\r\n    \r\n}\r\n```\r\n\r\nAnd you could always use `Scanner` functions such as `.hasNextInt()`.","title":"PrintWriter is printing only the first line in text file","body":"<p>Testing your code with your file worked for me. But the error that you receive signals that you are not reading an integer with <code>scanner.nextInt()</code>.</p>\n<p>I would test your full file with this snippet below. Just to check where does the parsing fail. And fix that problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dbcuidStr = sc.next();\n\ntry\n{\n    System.out.println(&quot;This is the ID: &quot; + dbcuidStr);\n    dbcuid = Integer.parseInt(dbcuidStr);\n}\ncatch (Exception e)\n{\n    System.out.println(dbcuidStr + &quot; could not be parsed to an integer&quot;);\n    \n}\n</code></pre>\n<p>And you could always use <code>Scanner</code> functions such as <code>.hasNextInt()</code>.</p>\n"}],"owner":{"account_id":18583853,"reputation":63,"user_id":13542748,"display_name":"Syramid"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638267400,"creation_date":1638263664,"question_id":70166847,"body_markdown":"The closing of PrintWriter is placed in the finally block, so logically it should write all the existing line in the text file as the code below suggests,\r\n\r\n         public boolean updatecentre(String row, int cuid) throws IOException\r\n    {\r\n        boolean updated = false;\r\n        int dbcuid;\r\n        String dbcname, dbcentre, dba1, dba2, dba3, vac1, dose1, vac2, dose2, vac3, dose3, dbstr;\r\n        \r\n        File F1 = new File(&quot;Centre.txt&quot;);\r\n        File Ftc1 = new File(&quot;Temp.txt&quot;);\r\n        FileWriter fw1 = new FileWriter(Ftc1, true);\r\n        BufferedWriter bw1 = new BufferedWriter(fw1);\r\n        PrintWriter pw1 = new PrintWriter(bw1);\r\n        Scanner Sc1 = new Scanner(F1);\r\n        Sc1.useDelimiter(&quot;[/\\n]&quot;);\r\n        try\r\n        {\r\n            while(Sc1.hasNext())\r\n            {\r\n                dbcuid = Sc1.nextInt();\r\n                dbcname = Sc1.next();\r\n                dba1 = Sc1.next();\r\n                dba2 = Sc1.next();\r\n                dba3 = Sc1.next();\r\n                vac1 = Sc1.next();\r\n                dose1 = Sc1.next();\r\n                vac2 = Sc1.next();\r\n                dose2 = Sc1.next();\r\n                vac3 = Sc1.next();\r\n                dose3 = Sc1.next();\r\n                dbstr = dbcuid+&quot;/&quot;+dbcname+&quot;/&quot;+dba1+&quot;/&quot;+dba2+&quot;/&quot;+dba3+&quot;/&quot;+vac1+&quot;/&quot;+dose1+&quot;/&quot;+vac2+&quot;/&quot;+dose2+&quot;/&quot;+vac3+&quot;/&quot;+dose3;\r\n                if(dbcuid == cuid)\r\n                {\r\n                    pw1.print(row +&quot;\\n&quot;);\r\n                    updated = true;\r\n                }\r\n                else\r\n                {\r\n                    pw1.print(dbstr+&quot;\\n&quot;);\r\n                }\r\n            }\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            \r\n        }\r\n        finally\r\n        {\r\n            Sc1.close();\r\n            pw1.flush();\r\n            pw1.close();\r\n            bw1.close();\r\n            fw1.close();\r\n            F1.delete();\r\n            File dump = new File(&quot;Centre.txt&quot;);\r\n            Ftc1.renameTo(dump);  \r\n        }\r\n        return updated;\r\n    }\r\n\r\nBut what it does now is that it prints just the first line, the line after it are not printed upon execution, so what is the problem here? It was working fine yesterday, but all of the sudden this issue started to appear.\r\n\r\nContent in text file:\r\n\r\n    1/Axiata Arena Bukit Jalil/L2-E-10, Enterprise 4,/Technology Park Malaysia, Bukit Jalil,/57000, Kuala Lumpur/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25\r\n    2/Titiwangsa Stadium/Jalan Tembeling,/Titiwangsa,/53200, Kuala Lumpur/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25\r\n    3/Kompleks Sukan Pandamaran Klang/Padamaran,/Port Klang,/42000, Selangor/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25\r\n    4/KPL Ampang Puteri Hospital/1, Jalan Mamanda 9,/Taman Dato Ahmad Razali,/68000 Ampang, Selangor/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25\r\n    5/Mines Convention Centre/MIECC, Jalan Dulang,/Mines Wellness City, Seri Kembangan,/43300, Selangor/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25","title":"PrintWriter is printing only the first line in text file","body":"<p>The closing of PrintWriter is placed in the finally block, so logically it should write all the existing line in the text file as the code below suggests,</p>\n<pre><code>     public boolean updatecentre(String row, int cuid) throws IOException\n{\n    boolean updated = false;\n    int dbcuid;\n    String dbcname, dbcentre, dba1, dba2, dba3, vac1, dose1, vac2, dose2, vac3, dose3, dbstr;\n    \n    File F1 = new File(&quot;Centre.txt&quot;);\n    File Ftc1 = new File(&quot;Temp.txt&quot;);\n    FileWriter fw1 = new FileWriter(Ftc1, true);\n    BufferedWriter bw1 = new BufferedWriter(fw1);\n    PrintWriter pw1 = new PrintWriter(bw1);\n    Scanner Sc1 = new Scanner(F1);\n    Sc1.useDelimiter(&quot;[/\\n]&quot;);\n    try\n    {\n        while(Sc1.hasNext())\n        {\n            dbcuid = Sc1.nextInt();\n            dbcname = Sc1.next();\n            dba1 = Sc1.next();\n            dba2 = Sc1.next();\n            dba3 = Sc1.next();\n            vac1 = Sc1.next();\n            dose1 = Sc1.next();\n            vac2 = Sc1.next();\n            dose2 = Sc1.next();\n            vac3 = Sc1.next();\n            dose3 = Sc1.next();\n            dbstr = dbcuid+&quot;/&quot;+dbcname+&quot;/&quot;+dba1+&quot;/&quot;+dba2+&quot;/&quot;+dba3+&quot;/&quot;+vac1+&quot;/&quot;+dose1+&quot;/&quot;+vac2+&quot;/&quot;+dose2+&quot;/&quot;+vac3+&quot;/&quot;+dose3;\n            if(dbcuid == cuid)\n            {\n                pw1.print(row +&quot;\\n&quot;);\n                updated = true;\n            }\n            else\n            {\n                pw1.print(dbstr+&quot;\\n&quot;);\n            }\n        }\n    }\n    catch(Exception e)\n    {\n        \n    }\n    finally\n    {\n        Sc1.close();\n        pw1.flush();\n        pw1.close();\n        bw1.close();\n        fw1.close();\n        F1.delete();\n        File dump = new File(&quot;Centre.txt&quot;);\n        Ftc1.renameTo(dump);  \n    }\n    return updated;\n}\n</code></pre>\n<p>But what it does now is that it prints just the first line, the line after it are not printed upon execution, so what is the problem here? It was working fine yesterday, but all of the sudden this issue started to appear.</p>\n<p>Content in text file:</p>\n<pre><code>1/Axiata Arena Bukit Jalil/L2-E-10, Enterprise 4,/Technology Park Malaysia, Bukit Jalil,/57000, Kuala Lumpur/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25\n2/Titiwangsa Stadium/Jalan Tembeling,/Titiwangsa,/53200, Kuala Lumpur/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25\n3/Kompleks Sukan Pandamaran Klang/Padamaran,/Port Klang,/42000, Selangor/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25\n4/KPL Ampang Puteri Hospital/1, Jalan Mamanda 9,/Taman Dato Ahmad Razali,/68000 Ampang, Selangor/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25\n5/Mines Convention Centre/MIECC, Jalan Dulang,/Mines Wellness City, Seri Kembangan,/43300, Selangor/Pfizer-BioNTech/100/CoronaVac/50/AstraZeneca/25\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","tomcat"],"owner":{"account_id":15574855,"reputation":169,"user_id":11236220,"display_name":"Jaehyuck Choi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638267302,"creation_date":1638267169,"question_id":70167576,"body_markdown":" When I run the backend on NetBeans 8.2, it shows these errors. I think they are related to data, but the codes and database are seemed to have no problems... Other colleagues can run it without any problems. It happens only to my laptop. I don&#39;t know what to do. Please help me out.\r\n&lt;br&gt;&lt;br&gt;\r\nEorror 1 below:\r\n   \r\n    30-Nov-2021 20:03:49.193 SEVERE [http-nio-8080-exec-15] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    30-Nov-2021 20:03:49.193 SEVERE [http-nio-8080-exec-15] org.apache.catalina.core.StandardContext.startInternal Context [/quickq-api] startup failed due to previous errors\r\n    java.lang.IllegalStateException: Session/EntityManager is closed\r\n\t    at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:326)\r\n\t    at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:126)\r\n\t    at org.hibernate.internal.AbstractSharedSessionContract.getNamedQuery(AbstractSharedSessionContract.java:530)\r\n\t    at org.hibernate.internal.AbstractSharedSessionContract.getNamedQuery(AbstractSharedSessionContract.java:101)\r\n\t    at dao.QueueDao.removeAllCustomersTimerVersion(QueueDao.java:619)\r\n\t    at util.RunAtDynamicTimeUtil.run(RunAtDynamicTimeUtil.java:94)\r\n\t    at java.util.TimerThread.mainLoop(Timer.java:555)\r\n\t    at java.util.TimerThread.run(Timer.java:505)\r\n\r\nEorror 2 below:\r\n\r\n    java.lang.IllegalStateException: Session/EntityManager is closed\r\n\t    at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:326)\r\n\t    at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:126)\r\n\t    at org.hibernate.internal.AbstractSharedSessionContract.getNamedQuery(AbstractSharedSessionContract.java:530)\r\n\t    at org.hibernate.internal.AbstractSharedSessionContract.getNamedQuery(AbstractSharedSessionContract.java:101)\r\n\t    at dao.QueueDao.removeAllCustomersTimerVersion(QueueDao.java:523)\r\n\t    at util.RunAtDynamicTimeUtil.run(RunAtDynamicTimeUtil.java:94)\r\n\t    at java.util.TimerThread.mainLoop(Timer.java:555)\r\n\t    at java.util.TimerThread.run(Timer.java:505)\r\n\r\nThe relevant code below:&lt;br&gt;\r\nError 1 is related to `List&lt;Queue&gt; queueList = session.getNamedQuery(&quot;Queue.findQueueByBusinessId&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getResultList();` &lt;br&gt;&lt;br&gt;\r\n\r\nError 2 is related to `openHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdTuesday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult();` in the `case 2` of the `switch()` statement.\r\n\r\n    public static void removeAllCustomersTimerVersion (Session session) throws IOException\r\n    {\r\n        PushNotificationGenerator notification = new PushNotificationGenerator();\r\n        RegisterDao registerDao = new RegisterDao();\r\n        BusinessDao businessDao = new BusinessDao();\r\n        QueueHistoryDao queueHistoryDao = new QueueHistoryDao();\r\n        List&lt;Business&gt; businesses = (List&lt;Business&gt;) session.getNamedQuery(&quot;Business.getAll&quot;).getResultList();\r\n        List&lt;String&gt; fcmTokens  = new ArrayList&lt;String&gt;();\r\n        \r\n        try {\r\n            TimezoneMapper timezoneMapper = new TimezoneMapper();\r\n            TimeConverHelper timeConverHelper = new TimeConverHelper();\r\n\r\n\r\n        for (Business business : businesses){\r\n            System.out.println(business.getBusinessId());\r\n            int num = timezoneMapper.getTzInt(business.getLatitude().floatValue(),business.getLongitude().floatValue());\r\n            int cow = timeConverHelper.getDateOfWeek(timezoneMapper.timezoneStrings[num]);\r\n\r\n            OpenHours openHours = null;\r\n\t\tswitch (cow)\r\n\t\t{\r\n\t\t\tcase 0: {\r\n\t\t\t\topenHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdSunday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 1: { \r\n\t\t\t\topenHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdMonday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \r\n\t\t\t\tbreak; \r\n\t\t\t}\r\n\t\t\tcase 2: { \r\n\t\t\t\topenHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdTuesday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \r\n\t\t\t\tbreak; \r\n\t\t\t}\r\n\t\t\tcase 3: { \r\n\t\t\t\topenHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdWednesday&quot;).setParameter(&quot;businessId&quot;,business.getBusinessId()).getSingleResult(); \r\n\t\t\t\tbreak; \r\n\t\t\t}\r\n\t\t\tcase 4: { \r\n\t\t\t\topenHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdThursday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \r\n\t\t\t\tbreak; \r\n\t\t\t}\r\n\t\t\tcase 5: { \r\n\t\t\t\topenHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdFriday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \r\n\t\t\t\tbreak; \r\n\t\t\t}\r\n\t\t\tcase 6: { \r\n\t\t\t\topenHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdSaturday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \r\n\t\t\t\tbreak; \r\n\t\t\t}\r\n\t\t\tdefault: break;\r\n\t\t}\r\n            int openTime;\r\n            if(openHours.getOpenTime().contains(&quot;a&quot;))\r\n            {\r\n                openTime = Integer.parseInt(openHours.getOpenTime().replaceAll(&quot;[A-Za-z:]&quot;, &quot;&quot;));\r\n                if(openTime &lt; 100)\r\n                {\r\n                    openTime = openTime*100;\r\n                }\r\n                if(openTime == 12)\r\n                {\r\n                    openTime = 0;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                openTime = Integer.parseInt(openHours.getOpenTime().replaceAll(&quot;[A-Za-z:]&quot;, &quot;&quot;)) + 12;\r\n                if(openTime &lt; 100)\r\n                {\r\n                    if(openTime != 24){\r\n                        openTime = openTime*100;\r\n                    } else {\r\n                        openTime = (openTime - 12)*100;\r\n                    }\r\n                }\r\n                else if (openTime &gt;= 1200 &amp;&amp; openTime &lt;1300){\r\n                    openTime = openTime - 12;\r\n                }\r\n                else\r\n                {\r\n                    openTime = openTime - 12 + 1200;\r\n                }\r\n            }\r\n            int closeTime;\r\n            if(openHours.getCloseTime().contains(&quot;a&quot;))\r\n            {\r\n                closeTime = Integer.parseInt(openHours.getCloseTime().replaceAll(&quot;[A-Za-z:]&quot;, &quot;&quot;));\r\n                if(closeTime &lt; 100)\r\n                {\r\n                    closeTime = closeTime*100;\r\n                }                   \r\n                if(closeTime == 12)\r\n                {\r\n                    closeTime = 0;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                closeTime = Integer.parseInt(openHours.getCloseTime().replaceAll(&quot;[A-Za-z:]&quot;, &quot;&quot;)) + 12;\r\n                System.out.println(&quot;closeTime testing: &quot; + closeTime);\r\n                if(closeTime &lt; 100)\r\n                {\r\n                    if(closeTime != 24){\r\n                        closeTime = closeTime*100;\r\n                    } else {\r\n                        closeTime = (closeTime - 12)*100;\r\n                    }\r\n                    System.out.println(&quot;+++++++++++++++++++++++++++++++++++++++++++&quot;);\r\n                    System.out.println(closeTime);\r\n                } \r\n                else if (closeTime &gt;= 1200 &amp;&amp; closeTime &lt;1300){\r\n                    closeTime = closeTime - 12;\r\n                }\r\n                else\r\n                {\r\n                    closeTime = closeTime - 12 + 1200;\r\n                }\r\n            }\r\n            \r\n            Date now = timeConverHelper.localTimeToGivenTimezone(timezoneMapper.timezoneStrings[num]);\r\n            SimpleDateFormat Formatter = new SimpleDateFormat(&quot;HHmm&quot;);\r\n            String dateNow = &quot;&quot;;\r\n            dateNow = Formatter.format(now);\r\n            \r\n            if (Integer.parseInt(dateNow) &lt; openTime || Integer.parseInt(dateNow) &gt; closeTime||!business.getIsVisable()) {\r\n                System.out.println(&quot;the business has been closed from function removeAllCustomersTimerVersion&quot;);\r\n                List&lt;Queue&gt; queueList = session.getNamedQuery(&quot;Queue.findQueueByBusinessId&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getResultList();\r\n                Collections.reverse(queueList);\r\n\r\n                if(!queueList.isEmpty()){\r\n                    for(Queue queue:queueList) {\r\n                        System.out.println(&quot;start to get ticket using queue id: &quot; + queue.getQueueId());\r\n                        Ticket ticket = null;\r\n\r\n                        try {\r\n                           ticket = (Ticket) session.getNamedQuery(&quot;Ticket.findTicketByQueueId&quot;).setParameter(&quot;queueId&quot;, queue.getQueueId()).getSingleResult();\r\n                           System.out.println(&quot;get ticket using queue id successfully&quot;);\r\n                        }  catch (Exception e) {\r\n                            System.out.println(&quot;no ticket find, but it is alright, ignore it&quot;);\r\n                            //e.printStackTrace();\r\n                        }\r\n                        \r\n                        queue.setQueueNumber(-1);\r\n\r\n                        queue.setModifiedDate(timeConverHelper.localTimeToUTC());\r\n                        queue.setDeletedDate(timeConverHelper.localTimeToUTC());\r\n                        System.out.println(&quot;update queue successfully&quot;);\r\n                        if (ticket != null) {\r\n                            System.out.println(&quot;start update ticket&quot;);\r\n                        ticket.setQueueNumber(-1);\r\n                        ticket.setIsCancelled(true);\r\n                        ticket.setModifiedDate(timeConverHelper.localTimeToUTC());\r\n                        ticket.setDeletedDate(timeConverHelper.localTimeToUTC());\r\n\r\n                         List&lt;Register&gt; registers = registerDao.getFCMToken(ticket.getUserId(), session);\r\n                         for(Register r:registers )\r\n                         {\r\n                              fcmTokens.add(r.getFcmToken());\r\n                         }\r\n\r\n                        session.saveOrUpdate(ticket);\r\n                        queueHistoryDao.convertTicketToQueueHistoryTimerVersion(ticket, session);\r\n                        }\r\n                        session.saveOrUpdate(queue);\r\n                    }\r\n                }\r\n                            // if no token in the list, dont call the pushnotification function\r\n                if(!fcmTokens.isEmpty()){\r\n                    //notification.pushNotification(fcmTokens, business.getBusinessName() + &quot; is closed. Your ticket has been cancelled&quot;, &quot; &quot;);\r\n                    notification.pushNotification(fcmTokens,&quot;Your ticket has been cancelled&quot;, &quot; &quot;);\r\n                    fcmTokens.clear();\r\n                }\r\n\r\n                System.out.println(&quot;fcmTokens is empty, don&#39;t have notification to send&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;the business is still open&quot;);\r\n            }\r\n            }\r\n            \r\n\r\n\r\n           \r\n        } catch (Exception e) {\r\n            System.out.println(&quot;cannot remove queue for unknown reason: &quot; + e.toString());\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // session.getTransaction().commit();\r\n        // session.close();\r\n    }\r\n","title":"java.lang.IllegalStateException: Session/EntityManager is closed","body":"<p>When I run the backend on NetBeans 8.2, it shows these errors. I think they are related to data, but the codes and database are seemed to have no problems... Other colleagues can run it without any problems. It happens only to my laptop. I don't know what to do. Please help me out.\n<br><br>\nEorror 1 below:</p>\n<pre><code>30-Nov-2021 20:03:49.193 SEVERE [http-nio-8080-exec-15] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\n30-Nov-2021 20:03:49.193 SEVERE [http-nio-8080-exec-15] org.apache.catalina.core.StandardContext.startInternal Context [/quickq-api] startup failed due to previous errors\njava.lang.IllegalStateException: Session/EntityManager is closed\n    at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:326)\n    at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:126)\n    at org.hibernate.internal.AbstractSharedSessionContract.getNamedQuery(AbstractSharedSessionContract.java:530)\n    at org.hibernate.internal.AbstractSharedSessionContract.getNamedQuery(AbstractSharedSessionContract.java:101)\n    at dao.QueueDao.removeAllCustomersTimerVersion(QueueDao.java:619)\n    at util.RunAtDynamicTimeUtil.run(RunAtDynamicTimeUtil.java:94)\n    at java.util.TimerThread.mainLoop(Timer.java:555)\n    at java.util.TimerThread.run(Timer.java:505)\n</code></pre>\n<p>Eorror 2 below:</p>\n<pre><code>java.lang.IllegalStateException: Session/EntityManager is closed\n    at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:326)\n    at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:126)\n    at org.hibernate.internal.AbstractSharedSessionContract.getNamedQuery(AbstractSharedSessionContract.java:530)\n    at org.hibernate.internal.AbstractSharedSessionContract.getNamedQuery(AbstractSharedSessionContract.java:101)\n    at dao.QueueDao.removeAllCustomersTimerVersion(QueueDao.java:523)\n    at util.RunAtDynamicTimeUtil.run(RunAtDynamicTimeUtil.java:94)\n    at java.util.TimerThread.mainLoop(Timer.java:555)\n    at java.util.TimerThread.run(Timer.java:505)\n</code></pre>\n<p>The relevant code below:<br>\nError 1 is related to <code>List&lt;Queue&gt; queueList = session.getNamedQuery(&quot;Queue.findQueueByBusinessId&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getResultList();</code> <br><br></p>\n<p>Error 2 is related to <code>openHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdTuesday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult();</code> in the <code>case 2</code> of the <code>switch()</code> statement.</p>\n<pre><code>public static void removeAllCustomersTimerVersion (Session session) throws IOException\n{\n    PushNotificationGenerator notification = new PushNotificationGenerator();\n    RegisterDao registerDao = new RegisterDao();\n    BusinessDao businessDao = new BusinessDao();\n    QueueHistoryDao queueHistoryDao = new QueueHistoryDao();\n    List&lt;Business&gt; businesses = (List&lt;Business&gt;) session.getNamedQuery(&quot;Business.getAll&quot;).getResultList();\n    List&lt;String&gt; fcmTokens  = new ArrayList&lt;String&gt;();\n    \n    try {\n        TimezoneMapper timezoneMapper = new TimezoneMapper();\n        TimeConverHelper timeConverHelper = new TimeConverHelper();\n\n\n    for (Business business : businesses){\n        System.out.println(business.getBusinessId());\n        int num = timezoneMapper.getTzInt(business.getLatitude().floatValue(),business.getLongitude().floatValue());\n        int cow = timeConverHelper.getDateOfWeek(timezoneMapper.timezoneStrings[num]);\n\n        OpenHours openHours = null;\n    switch (cow)\n    {\n        case 0: {\n            openHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdSunday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult();\n            break;\n        }\n        case 1: { \n            openHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdMonday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \n            break; \n        }\n        case 2: { \n            openHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdTuesday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \n            break; \n        }\n        case 3: { \n            openHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdWednesday&quot;).setParameter(&quot;businessId&quot;,business.getBusinessId()).getSingleResult(); \n            break; \n        }\n        case 4: { \n            openHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdThursday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \n            break; \n        }\n        case 5: { \n            openHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdFriday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \n            break; \n        }\n        case 6: { \n            openHours = (OpenHours) session.getNamedQuery(&quot;OpenHours.findByIdSaturday&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getSingleResult(); \n            break; \n        }\n        default: break;\n    }\n        int openTime;\n        if(openHours.getOpenTime().contains(&quot;a&quot;))\n        {\n            openTime = Integer.parseInt(openHours.getOpenTime().replaceAll(&quot;[A-Za-z:]&quot;, &quot;&quot;));\n            if(openTime &lt; 100)\n            {\n                openTime = openTime*100;\n            }\n            if(openTime == 12)\n            {\n                openTime = 0;\n            }\n        }\n        else\n        {\n            openTime = Integer.parseInt(openHours.getOpenTime().replaceAll(&quot;[A-Za-z:]&quot;, &quot;&quot;)) + 12;\n            if(openTime &lt; 100)\n            {\n                if(openTime != 24){\n                    openTime = openTime*100;\n                } else {\n                    openTime = (openTime - 12)*100;\n                }\n            }\n            else if (openTime &gt;= 1200 &amp;&amp; openTime &lt;1300){\n                openTime = openTime - 12;\n            }\n            else\n            {\n                openTime = openTime - 12 + 1200;\n            }\n        }\n        int closeTime;\n        if(openHours.getCloseTime().contains(&quot;a&quot;))\n        {\n            closeTime = Integer.parseInt(openHours.getCloseTime().replaceAll(&quot;[A-Za-z:]&quot;, &quot;&quot;));\n            if(closeTime &lt; 100)\n            {\n                closeTime = closeTime*100;\n            }                   \n            if(closeTime == 12)\n            {\n                closeTime = 0;\n            }\n        }\n        else\n        {\n            closeTime = Integer.parseInt(openHours.getCloseTime().replaceAll(&quot;[A-Za-z:]&quot;, &quot;&quot;)) + 12;\n            System.out.println(&quot;closeTime testing: &quot; + closeTime);\n            if(closeTime &lt; 100)\n            {\n                if(closeTime != 24){\n                    closeTime = closeTime*100;\n                } else {\n                    closeTime = (closeTime - 12)*100;\n                }\n                System.out.println(&quot;+++++++++++++++++++++++++++++++++++++++++++&quot;);\n                System.out.println(closeTime);\n            } \n            else if (closeTime &gt;= 1200 &amp;&amp; closeTime &lt;1300){\n                closeTime = closeTime - 12;\n            }\n            else\n            {\n                closeTime = closeTime - 12 + 1200;\n            }\n        }\n        \n        Date now = timeConverHelper.localTimeToGivenTimezone(timezoneMapper.timezoneStrings[num]);\n        SimpleDateFormat Formatter = new SimpleDateFormat(&quot;HHmm&quot;);\n        String dateNow = &quot;&quot;;\n        dateNow = Formatter.format(now);\n        \n        if (Integer.parseInt(dateNow) &lt; openTime || Integer.parseInt(dateNow) &gt; closeTime||!business.getIsVisable()) {\n            System.out.println(&quot;the business has been closed from function removeAllCustomersTimerVersion&quot;);\n            List&lt;Queue&gt; queueList = session.getNamedQuery(&quot;Queue.findQueueByBusinessId&quot;).setParameter(&quot;businessId&quot;, business.getBusinessId()).getResultList();\n            Collections.reverse(queueList);\n\n            if(!queueList.isEmpty()){\n                for(Queue queue:queueList) {\n                    System.out.println(&quot;start to get ticket using queue id: &quot; + queue.getQueueId());\n                    Ticket ticket = null;\n\n                    try {\n                       ticket = (Ticket) session.getNamedQuery(&quot;Ticket.findTicketByQueueId&quot;).setParameter(&quot;queueId&quot;, queue.getQueueId()).getSingleResult();\n                       System.out.println(&quot;get ticket using queue id successfully&quot;);\n                    }  catch (Exception e) {\n                        System.out.println(&quot;no ticket find, but it is alright, ignore it&quot;);\n                        //e.printStackTrace();\n                    }\n                    \n                    queue.setQueueNumber(-1);\n\n                    queue.setModifiedDate(timeConverHelper.localTimeToUTC());\n                    queue.setDeletedDate(timeConverHelper.localTimeToUTC());\n                    System.out.println(&quot;update queue successfully&quot;);\n                    if (ticket != null) {\n                        System.out.println(&quot;start update ticket&quot;);\n                    ticket.setQueueNumber(-1);\n                    ticket.setIsCancelled(true);\n                    ticket.setModifiedDate(timeConverHelper.localTimeToUTC());\n                    ticket.setDeletedDate(timeConverHelper.localTimeToUTC());\n\n                     List&lt;Register&gt; registers = registerDao.getFCMToken(ticket.getUserId(), session);\n                     for(Register r:registers )\n                     {\n                          fcmTokens.add(r.getFcmToken());\n                     }\n\n                    session.saveOrUpdate(ticket);\n                    queueHistoryDao.convertTicketToQueueHistoryTimerVersion(ticket, session);\n                    }\n                    session.saveOrUpdate(queue);\n                }\n            }\n                        // if no token in the list, dont call the pushnotification function\n            if(!fcmTokens.isEmpty()){\n                //notification.pushNotification(fcmTokens, business.getBusinessName() + &quot; is closed. Your ticket has been cancelled&quot;, &quot; &quot;);\n                notification.pushNotification(fcmTokens,&quot;Your ticket has been cancelled&quot;, &quot; &quot;);\n                fcmTokens.clear();\n            }\n\n            System.out.println(&quot;fcmTokens is empty, don't have notification to send&quot;);\n        }\n        else{\n            System.out.println(&quot;the business is still open&quot;);\n        }\n        }\n        \n\n\n       \n    } catch (Exception e) {\n        System.out.println(&quot;cannot remove queue for unknown reason: &quot; + e.toString());\n        e.printStackTrace();\n    }\n\n    // session.getTransaction().commit();\n    // session.close();\n}\n</code></pre>\n"},{"tags":["java","datetime","datetime-format"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1638266239,"post_id":70167300,"comment_id":124036707,"body_markdown":"What you are looking for is a specific _format_ of a local date time (i.e. a string), not a `LocalDateTime`. It&#39;s like asking &quot;how do I get a `double` to represent `5`? I always get `5.0`&quot;","body":"What you are looking for is a specific <i>format</i> of a local date time (i.e. a string), not a <code>LocalDateTime</code>. It&#39;s like asking &quot;how do I get a <code>double</code> to represent <code>5</code>? I always get <code>5.0</code>&quot;"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1638266718,"post_id":70167300,"comment_id":124036898,"body_markdown":"Hm, ok, I got you","body":"Hm, ok, I got you"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1638280288,"post_id":70167300,"comment_id":124042229,"body_markdown":"Does this answer your question? [Java Instant to LocalDateTime trailing zero](https://stackoverflow.com/questions/53314552/java-instant-to-localdatetime-trailing-zero). Also related: [Problem converting string to LocalDateTime \\[duplicate\\]](https://stackoverflow.com/questions/70122794/problem-converting-string-to-localdatetime).","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53314552/java-instant-to-localdatetime-trailing-zero\">Java Instant to LocalDateTime trailing zero</a>. Also related: <a href=\"https://stackoverflow.com/questions/70122794/problem-converting-string-to-localdatetime\">Problem converting string to LocalDateTime &#91;duplicate&#93;</a>."}],"answers":[{"tags":[],"owner":{"account_id":16147551,"reputation":169,"user_id":11656785,"display_name":"Uday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638267106,"creation_date":1638267106,"answer_id":70167561,"question_id":70167300,"body_markdown":"Java fraction-of-seconds is always return 3 digits. \r\n\r\nWork around is, first convert LocalDateTime to String, then remove last character of the string.\r\n\r\nOff course, please validate null checks.\r\n\r\n    private static String removeLastDigit(String localDateTime) {\r\n            return localDateTime.substring(0, localDateTime.length()-1);\r\n     }","title":"How to parse LocalDateTime to two digits millis in the end? Java","body":"<p>Java fraction-of-seconds is always return 3 digits.</p>\n<p>Work around is, first convert LocalDateTime to String, then remove last character of the string.</p>\n<p>Off course, please validate null checks.</p>\n<pre><code>private static String removeLastDigit(String localDateTime) {\n        return localDateTime.substring(0, localDateTime.length()-1);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1638267279,"creation_date":1638267279,"answer_id":70167598,"question_id":70167300,"body_markdown":"Note that the strings &quot;2021-11-24T15:11:38.39&quot; and &quot;2021-11-24T15:11:38.39&lt;b&gt;0&lt;/b&gt;&quot; represent the same `LocalDateTime`. Technically, you&#39;ve already got your expected output!\r\n\r\nSince you say that the output is not what you expect, you are actually expecting a `String` as the output, since &quot;2021-11-24T15:11:38.39&quot; and  &quot;2021-11-24T15:11:38.390&quot; are different _strings_. `formatToISO` should return a string - you should not parse the formatted date back to a `LocalDateTime`:\r\n\r\n    public static String formatToISO(final LocalDateTime localDateTime) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(ISO_DATE_TIME);\r\n        return formatter.format(localDateTime);\r\n    }\r\n\r\nThis is similar to the common mistake of beginners printing out `double`s and expecting the specific format they have used to assign to the variable to come out.\r\n\r\n    double d = 5;\r\n    System.out.println(d); // expected 5, actual 5.0\r\n\r\n`LocalDateTime`, just like `double`, doesn&#39;t store anything about how it should formatted. It just stores a _value_, and the same value will be formatted the same way.","title":"How to parse LocalDateTime to two digits millis in the end? Java","body":"<p>Note that the strings &quot;2021-11-24T15:11:38.39&quot; and &quot;2021-11-24T15:11:38.39<b>0</b>&quot; represent the same <code>LocalDateTime</code>. Technically, you've already got your expected output!</p>\n<p>Since you say that the output is not what you expect, you are actually expecting a <code>String</code> as the output, since &quot;2021-11-24T15:11:38.39&quot; and  &quot;2021-11-24T15:11:38.390&quot; are different <em>strings</em>. <code>formatToISO</code> should return a string - you should not parse the formatted date back to a <code>LocalDateTime</code>:</p>\n<pre><code>public static String formatToISO(final LocalDateTime localDateTime) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(ISO_DATE_TIME);\n    return formatter.format(localDateTime);\n}\n</code></pre>\n<p>This is similar to the common mistake of beginners printing out <code>double</code>s and expecting the specific format they have used to assign to the variable to come out.</p>\n<pre><code>double d = 5;\nSystem.out.println(d); // expected 5, actual 5.0\n</code></pre>\n<p><code>LocalDateTime</code>, just like <code>double</code>, doesn't store anything about how it should formatted. It just stores a <em>value</em>, and the same value will be formatted the same way.</p>\n"}],"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70167598,"answer_count":2,"score":1,"last_activity_date":1638267279,"creation_date":1638265846,"question_id":70167300,"body_markdown":"I want to parse LocalDateTime `2021-11-24T15:11:38.395` to LocalDateTime `2021-11-24T15:11:38.39`. But LocalDateTime.parse() always adds zero in the end, ignoring my pattern.\r\n\r\n    public class DateTimeFormatUtils {\r\n        private static final String ISO_DATE_TIME = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SS&quot;;\r\n    \r\n        public static LocalDateTime formatToISO(final LocalDateTime localDateTime) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(ISO_DATE_TIME);\r\n            return LocalDateTime.parse(formatter.format(localDateTime), formatter);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            LocalDateTime now = LocalDateTime.now();\r\n            System.out.println(now);\r\n            System.out.println(formatToISO(now));\r\n        }\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    2021-11-30T11:48:28.449195200\r\n    2021-11-30T11:48:28.440\r\n\r\nIs there way to deal with this problem?","title":"How to parse LocalDateTime to two digits millis in the end? Java","body":"<p>I want to parse LocalDateTime <code>2021-11-24T15:11:38.395</code> to LocalDateTime <code>2021-11-24T15:11:38.39</code>. But LocalDateTime.parse() always adds zero in the end, ignoring my pattern.</p>\n<pre><code>public class DateTimeFormatUtils {\n    private static final String ISO_DATE_TIME = &quot;yyyy-MM-dd'T'HH:mm:ss.SS&quot;;\n\n    public static LocalDateTime formatToISO(final LocalDateTime localDateTime) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(ISO_DATE_TIME);\n        return LocalDateTime.parse(formatter.format(localDateTime), formatter);\n    }\n\n    public static void main(String[] args) {\n        LocalDateTime now = LocalDateTime.now();\n        System.out.println(now);\n        System.out.println(formatToISO(now));\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>2021-11-30T11:48:28.449195200\n2021-11-30T11:48:28.440\n</code></pre>\n<p>Is there way to deal with this problem?</p>\n"},{"tags":["java","python-3.x","cryptography","aes","pycrypto"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1638217876,"post_id":70160625,"comment_id":124025091,"body_markdown":"The Python code works for me. Post test data that can be used to reproduce the problem. The PyCryptodome code corresponds to AES/CBC/NoPadding, since PyCryptodome does not implicitly pad/unpad.","body":"The Python code works for me. Post test data that can be used to reproduce the problem. The PyCryptodome code corresponds to AES/CBC/NoPadding, since PyCryptodome does not implicitly pad/unpad."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1638217917,"post_id":70160625,"comment_id":124025105,"body_markdown":"The problem could be anywhere, this code is missing many, many important details. A [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) would go a long way here.","body":"The problem could be anywhere, this code is missing many, many important details. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> would go a long way here."},{"owner":{"account_id":7065592,"reputation":31,"user_id":6300573,"display_name":"Gilberto"},"score":0,"creation_date":1638266140,"post_id":70160625,"comment_id":124036669,"body_markdown":"Hello @PresidentJamesK.Polk, you are right so i edited the post. Now you have a two working examples where encrypting is not working.","body":"Hello @PresidentJamesK.Polk, you are right so i edited the post. Now you have a two working examples where encrypting is not working."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1638277260,"post_id":70160625,"comment_id":124040944,"body_markdown":"You must not hash the key with MD5 in the Python code, as this does not happen in the Java code either. Instead: `self.key = key.encode(&#39;utf8&#39;)`. With this decryption works with the Python code.","body":"You must not hash the key with MD5 in the Python code, as this does not happen in the Java code either. Instead: <code>self.key = key.encode(&#39;utf8&#39;)</code>. With this decryption works with the Python code."},{"owner":{"account_id":7065592,"reputation":31,"user_id":6300573,"display_name":"Gilberto"},"score":0,"creation_date":1638277641,"post_id":70160625,"comment_id":124041102,"body_markdown":"Yes! It was that @Topaco !! Thank you!!","body":"Yes! It was that @Topaco !! Thank you!!"}],"owner":{"account_id":7065592,"reputation":31,"user_id":6300573,"display_name":"Gilberto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638267015,"creation_date":1638215888,"question_id":70160625,"body_markdown":"Im working on a custom protocol that works via UDP. The packets sent across the network are encoded with AES/CBC/NOPADDING algorithm in a JAVA client. \r\n\r\nIm using a python3 client, so i need to decrypt this packets. My question is if there is any implementation of AES/CBC/NOPADDING in python3.\r\n\r\nIm currently using this to decode in python:\r\n\r\n    def decrypt(key, data):\r\n        from Crypto.Hash.MD5 import MD5Hash\r\n        if data is None:\r\n            return None\r\n        cipher = AES.new(key.encode(&#39;utf8&#39;), AES.MODE_CBC, bytes([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))\r\n        return cipher.decrypt(data)\r\n\r\nBut the data return is random and not well decoded.\r\n\r\nHowever, i can succesfuly decode the packets in java like this:\r\n\r\n    \t\t\tCipher cipher;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tcipher = Cipher.getInstance(&quot;AES/CBC/NOPADDING&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tcipher.init(Cipher.DECRYPT_MODE, aesKey, new IvParameterSpec(iv));\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tcipher.doFinal(buffer, *** ...);\t\t\t\r\n\t\t\t\t\t} catch (ShortBufferException | IllegalBlockSizeException | BadPaddingException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (InvalidKeyException | InvalidAlgorithmParameterException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t} catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\nHere i put a working example:\r\nFirstr, i encrypt on java:\r\n\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.ByteOrder;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.ArrayList;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.List;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.ShortBufferException;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.util.Base64;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            String keyBytes = &quot;UfrGUmAJq86pVtkd&quot;;\r\n            String text_to_encrypt = &quot;topotatopotatota&quot;;\r\n\r\n        \tSecretKey aesKey = new SecretKeySpec(keyBytes.getBytes(), &quot;AES&quot;);\r\n        \tbyte [] iv = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};\r\n        \tCipher cipher;\r\n        \ttry {\r\n        \t\tcipher = Cipher.getInstance(&quot;AES/CBC/NOPADDING&quot;);\r\n        \t\ttry {\r\n        \t\t\tcipher.init(Cipher.ENCRYPT_MODE, aesKey, new IvParameterSpec(iv));\r\n        \t\t\ttry {\r\n        \t\t\t\tString test = Base64.getEncoder().encodeToString(cipher.doFinal(text_to_encrypt.getBytes(&quot;UTF-8&quot;)));\t\r\n        \t\t\t\tSystem.out.println(test);\r\n        \t\t\t} catch (IllegalBlockSizeException | UnsupportedEncodingException | BadPaddingException e ) {\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t}\r\n        \t\t} catch (InvalidKeyException | InvalidAlgorithmParameterException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t} catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\r\n        \t\te.printStackTrace();\r\n        \t}\r\n        }\r\n    }\r\n\r\nLate i decode in python:\r\n\r\n    from hashlib import md5\r\n    from base64 import b64decode\r\n    from base64 import b64encode\r\n    \r\n    from Crypto.Cipher import AES\r\n    from Crypto.Random import get_random_bytes\r\n    from Crypto.Util.Padding import pad, unpad\r\n    \r\n    \r\n    class AESCipher:\r\n        def __init__(self, key):\r\n            self.key = md5(key.encode(&#39;utf8&#39;)).digest()\r\n    \r\n        def decrypt(self, data):\r\n            raw = b64decode(data)\r\n            self.cipher = AES.new(self.key, AES.MODE_CBC, bytes([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))\r\n            return self.cipher.decrypt(raw)\r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        key = &quot;UfrGUmAJq86pVtkd&quot;\r\n        expectedt_result = &quot;topotatopotatota&quot;\r\n        encrypted_data = &quot;ynCF3bJejxlLn1aAk8vcAw==&quot;\r\n        cipher = AESCipher(key)\r\n        decrypted_data = cipher.decrypt(encrypted_data)\r\n        print(decrypted_data)\r\n\r\n","title":"Java AES/CBC/NOPADDING equivalent in Python3","body":"<p>Im working on a custom protocol that works via UDP. The packets sent across the network are encoded with AES/CBC/NOPADDING algorithm in a JAVA client.</p>\n<p>Im using a python3 client, so i need to decrypt this packets. My question is if there is any implementation of AES/CBC/NOPADDING in python3.</p>\n<p>Im currently using this to decode in python:</p>\n<pre><code>def decrypt(key, data):\n    from Crypto.Hash.MD5 import MD5Hash\n    if data is None:\n        return None\n    cipher = AES.new(key.encode('utf8'), AES.MODE_CBC, bytes([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))\n    return cipher.decrypt(data)\n</code></pre>\n<p>But the data return is random and not well decoded.</p>\n<p>However, i can succesfuly decode the packets in java like this:</p>\n<pre><code>            Cipher cipher;\n\n        try {\n            cipher = Cipher.getInstance(&quot;AES/CBC/NOPADDING&quot;);\n            try {\n                cipher.init(Cipher.DECRYPT_MODE, aesKey, new IvParameterSpec(iv));\n                try {\n                    cipher.doFinal(buffer, *** ...);            \n                } catch (ShortBufferException | IllegalBlockSizeException | BadPaddingException e) {\n                    e.printStackTrace();\n                }\n            } catch (InvalidKeyException | InvalidAlgorithmParameterException e) {\n                e.printStackTrace();\n            }\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Here i put a working example:\nFirstr, i encrypt on java:</p>\n<pre><code>import java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.ArrayList;\nimport java.io.UnsupportedEncodingException;\nimport java.util.List;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.ShortBufferException;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.util.Base64;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        String keyBytes = &quot;UfrGUmAJq86pVtkd&quot;;\n        String text_to_encrypt = &quot;topotatopotatota&quot;;\n\n        SecretKey aesKey = new SecretKeySpec(keyBytes.getBytes(), &quot;AES&quot;);\n        byte [] iv = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};\n        Cipher cipher;\n        try {\n            cipher = Cipher.getInstance(&quot;AES/CBC/NOPADDING&quot;);\n            try {\n                cipher.init(Cipher.ENCRYPT_MODE, aesKey, new IvParameterSpec(iv));\n                try {\n                    String test = Base64.getEncoder().encodeToString(cipher.doFinal(text_to_encrypt.getBytes(&quot;UTF-8&quot;)));    \n                    System.out.println(test);\n                } catch (IllegalBlockSizeException | UnsupportedEncodingException | BadPaddingException e ) {\n                    e.printStackTrace();\n                }\n            } catch (InvalidKeyException | InvalidAlgorithmParameterException e) {\n                e.printStackTrace();\n            }\n        } catch (NoSuchAlgorithmException | NoSuchPaddingException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Late i decode in python:</p>\n<pre><code>from hashlib import md5\nfrom base64 import b64decode\nfrom base64 import b64encode\n\nfrom Crypto.Cipher import AES\nfrom Crypto.Random import get_random_bytes\nfrom Crypto.Util.Padding import pad, unpad\n\n\nclass AESCipher:\n    def __init__(self, key):\n        self.key = md5(key.encode('utf8')).digest()\n\n    def decrypt(self, data):\n        raw = b64decode(data)\n        self.cipher = AES.new(self.key, AES.MODE_CBC, bytes([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))\n        return self.cipher.decrypt(raw)\n\nif __name__ == '__main__':\n    key = &quot;UfrGUmAJq86pVtkd&quot;\n    expectedt_result = &quot;topotatopotatota&quot;\n    encrypted_data = &quot;ynCF3bJejxlLn1aAk8vcAw==&quot;\n    cipher = AESCipher(key)\n    decrypted_data = cipher.decrypt(encrypted_data)\n    print(decrypted_data)\n</code></pre>\n"},{"tags":["java","maven","unit-testing","intellij-idea","junit"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1638269114,"post_id":70167501,"comment_id":124037829,"body_markdown":"what error do you get in the terminal with the results?","body":"what error do you get in the terminal with the results?"},{"owner":{"account_id":5164304,"reputation":49,"user_id":4134886,"accept_rate":0,"display_name":"Ali Yahya"},"score":0,"creation_date":1638274967,"post_id":70167501,"comment_id":124040031,"body_markdown":"@Stultuske I get the typical `[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.3:test (default-test) on project myFirstProject: There are test failures.` In my surefire reports it says `java.lang.NoSuchMethodError` on one of the methods in v2 of A.","body":"@Stultuske I get the typical <code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.3:test (default-test) on project myFirstProject: There are test failures.</code> In my surefire reports it says <code>java.lang.NoSuchMethodError</code> on one of the methods in v2 of A."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638277505,"post_id":70167501,"comment_id":124041041,"body_markdown":"... NoSuchMethodError, seems pretty clear what that wants to say, doesn&#39;t it? maybe you have a dependency in a specific scope and you need that class in another scope. Or, in your case, you need to call a method from version X while your test is calling that from version Y","body":"... NoSuchMethodError, seems pretty clear what that wants to say, doesn&#39;t it? maybe you have a dependency in a specific scope and you need that class in another scope. Or, in your case, you need to call a method from version X while your test is calling that from version Y"}],"owner":{"account_id":5164304,"reputation":49,"user_id":4134886,"accept_rate":0,"display_name":"Ali Yahya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638266746,"creation_date":1638266746,"question_id":70167501,"body_markdown":"I have written a unit test which uses a class (let&#39;s call it A)\r\n\r\nThis class A can be found directly in one of the dependencies D1 in my pom.xml and can also be found in 2 other dependencies D2 &amp; D3 declared in the same pom but is part of a transitive dependency of these 2 dependencies, so this is roughly what the situation looks like:\r\n\r\n    Project\r\n    |____\r\n    |    D1\r\n    |    |__ A (v1)\r\n    |____\r\n    |    D2\r\n    |    |__TD1\r\n    |       |__A (v1)\r\n    |____\r\n         D3\r\n         |__TD2\r\n            |__A (v2)\r\n\r\n\r\nJust for clarification, TD stands for transitive dependency and v1 is an older version of class A while v2 is the newest one.\r\n\r\nNow, what&#39;s happening is that if I run `mvn clean install -DskipTests` on my project which contains classes that use methods that can only be found in the newest version (v2) of class A, it builds successfully. However, if I remove the `-DskipTests` flag and let the tests run, they fail because they couldn&#39;t resolve a method ( which should be available in v2 of class A ).\r\n\r\nSo, to make sure that my tests are in fact using v1 of class A, I ran them in debug mode ( using the flag `-Dmaven.surefire.debug`), attached a debugger, and evaluated the expression `A.class.getProtectionDomain().getCodeSource().getLocation().getPath()` and it showed me that in fact the class is being read from D1.\r\n\r\nWhat&#39;s even more interesting is that if I switch the order of dependencies in my pom and put D1 under D2 and D3, my tests pass but my build fails, for the same reason of not being able to resolve a certain method.\r\n\r\nWhat could be happening here? and why is IntelliJ able to run my tests successfully?","title":"Offline tests pass when ran in IntelliJ but fail when ran with mvn","body":"<p>I have written a unit test which uses a class (let's call it A)</p>\n<p>This class A can be found directly in one of the dependencies D1 in my pom.xml and can also be found in 2 other dependencies D2 &amp; D3 declared in the same pom but is part of a transitive dependency of these 2 dependencies, so this is roughly what the situation looks like:</p>\n<pre><code>Project\n|____\n|    D1\n|    |__ A (v1)\n|____\n|    D2\n|    |__TD1\n|       |__A (v1)\n|____\n     D3\n     |__TD2\n        |__A (v2)\n</code></pre>\n<p>Just for clarification, TD stands for transitive dependency and v1 is an older version of class A while v2 is the newest one.</p>\n<p>Now, what's happening is that if I run <code>mvn clean install -DskipTests</code> on my project which contains classes that use methods that can only be found in the newest version (v2) of class A, it builds successfully. However, if I remove the <code>-DskipTests</code> flag and let the tests run, they fail because they couldn't resolve a method ( which should be available in v2 of class A ).</p>\n<p>So, to make sure that my tests are in fact using v1 of class A, I ran them in debug mode ( using the flag <code>-Dmaven.surefire.debug</code>), attached a debugger, and evaluated the expression <code>A.class.getProtectionDomain().getCodeSource().getLocation().getPath()</code> and it showed me that in fact the class is being read from D1.</p>\n<p>What's even more interesting is that if I switch the order of dependencies in my pom and put D1 under D2 and D3, my tests pass but my build fails, for the same reason of not being able to resolve a certain method.</p>\n<p>What could be happening here? and why is IntelliJ able to run my tests successfully?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638269392,"post_id":70167498,"comment_id":124037945,"body_markdown":"What do you mean by `lib`? What actual error do you get, and what command are you running when you get it?","body":"What do you mean by <code>lib</code>? What actual error do you get, and what command are you running when you get it?"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1638321568,"post_id":70167498,"comment_id":124056322,"body_markdown":"@tgdavies External Libraries in IDEA, so far I have solved the problem by unlink the module from parent pom, and added it to the parent again, invalid cache and restart IDEA, all the dependencies are normal after that... I wonder if there are some hidding configurations which leads to this problem, and by doing re-adding pom, the broken configurations are corrected by IDEA automatically.","body":"@tgdavies External Libraries in IDEA, so far I have solved the problem by unlink the module from parent pom, and added it to the parent again, invalid cache and restart IDEA, all the dependencies are normal after that... I wonder if there are some hidding configurations which leads to this problem, and by doing re-adding pom, the broken configurations are corrected by IDEA automatically."}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638266730,"creation_date":1638266730,"question_id":70167498,"body_markdown":"Here is my pom file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;parent-web&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;web-amazon-auth&lt;/artifactId&gt;\r\n    &lt;description&gt;\r\n        Amazon Auth\r\n    &lt;/description&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n            &lt;artifactId&gt;web-common&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--mybatis-plus--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--failed dependencies--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dynamic-datasource-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.1024&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16.81&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;auth&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16.81&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!--quick boot--&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!--fork: required to enable devtool--&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThat was quite strange, All the dependencies added below tag `&lt;!--failed dependencies--&gt;` are successfully added to maven, but I cannot use them in my code.\r\n\r\nBy searching them in lib, there is nothing until I force add them manually from module setting, this situation will not happen in any of other modules. I have tried to clean or invalid cache and restart, also I have tried to relink the child pom to the parent, so far , only force add manually worked. I don&#39;t know how to fix this...\r\n\r\nAll the required jars are normal in my maven repository, and they all run well in my other projects with the same `pom.xml`. I&#39;m stuck here for a long time why the jars will not added into lib in this module.","title":"Maven successfully add dependency but found nothing in lib","body":"<p>Here is my pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;parent-web&lt;/artifactId&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;web-amazon-auth&lt;/artifactId&gt;\n    &lt;description&gt;\n        Amazon Auth\n    &lt;/description&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.test&lt;/groupId&gt;\n            &lt;artifactId&gt;web-common&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--mybatis-plus--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--failed dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamic-datasource-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n            &lt;version&gt;1.11.1024&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sts&lt;/artifactId&gt;\n            &lt;version&gt;2.16.81&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;auth&lt;/artifactId&gt;\n            &lt;version&gt;2.16.81&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!--quick boot--&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;!--fork: required to enable devtool--&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>That was quite strange, All the dependencies added below tag <code>&lt;!--failed dependencies--&gt;</code> are successfully added to maven, but I cannot use them in my code.</p>\n<p>By searching them in lib, there is nothing until I force add them manually from module setting, this situation will not happen in any of other modules. I have tried to clean or invalid cache and restart, also I have tried to relink the child pom to the parent, so far , only force add manually worked. I don't know how to fix this...</p>\n<p>All the required jars are normal in my maven repository, and they all run well in my other projects with the same <code>pom.xml</code>. I'm stuck here for a long time why the jars will not added into lib in this module.</p>\n"},{"tags":["java","ubuntu","system","environment"],"answers":[{"tags":[],"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638266549,"creation_date":1638266549,"answer_id":70167467,"question_id":70167110,"body_markdown":"This is presumably because IntelliJ runs the application in a non-login shell. One solution could be to source `/etc/profile` as part of the run configuration. Check out this [stack overflow discussion][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15203498/intellij-idea-running-a-shell-script-as-a-run-debug-configuration","title":"Try to access env variables in ubuntu /etc/profile with Java program","body":"<p>This is presumably because IntelliJ runs the application in a non-login shell. One solution could be to source <code>/etc/profile</code> as part of the run configuration. Check out this <a href=\"https://stackoverflow.com/questions/15203498/intellij-idea-running-a-shell-script-as-a-run-debug-configuration\">stack overflow discussion</a>.</p>\n"}],"owner":{"account_id":23500646,"reputation":1,"user_id":17550573,"display_name":"Marty LIn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638266549,"creation_date":1638264932,"question_id":70167110,"body_markdown":"I&#39;m writing a program in which I have to get some env variables like JAVA_HOME with the IDE IntelliJ IDEA in Ubuntu.\r\n\r\nI have set all my env variables in **/etc/profile** and **~/.bashrc**, but with code like ``` System.getenv() ```, I cannot access the env that I have set since the code may only access variables set in /etc/environment.\r\n\r\nSo is there any way to find these variables in **/etc/profile** with Java program in the **Ubuntu** system?\r\n\r\nMy code sample:\r\n```\r\npublic class EnvVarTest {[enter image description here][1]\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; env = System.getenv();\r\n        for (String envName : env.keySet()) {\r\n            System.out.format(&quot;%s=%s%n&quot;,\r\n                    envName,\r\n                    env.get(envName));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nResult:\r\n```\r\nLANGUAGE=zh_CN:zh\r\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin\r\nXAUTHORITY=/run/user/1000/gdm/Xauthority\r\nSHELL=/bin/bash\r\nOLDPWD=/home/lin/ideaIC-2020.1.4/idea-IC-201.8743.12/bin\r\nTERM=xterm-256color\r\nUSER=root\r\nLANG=zh_CN.UTF-8\r\nSUDO_COMMAND=./idea.sh\r\nSUDO_USER=lin\r\nSUDO_GID=1000\r\nDISPLAY=:0\r\nMAIL=/var/mail/root\r\nCOLORTERM=truecolor\r\nLOGNAME=root\r\nSUDO_UID=1000\r\nLS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:\r\nPWD=/home/lin/code/Test\r\nHOME=/root\r\n```\r\n[etc-profile]\r\n\r\n[etc-profile]: https://i.stack.imgur.com/bz8T0.png\r\n","title":"Try to access env variables in ubuntu /etc/profile with Java program","body":"<p>I'm writing a program in which I have to get some env variables like JAVA_HOME with the IDE IntelliJ IDEA in Ubuntu.</p>\n<p>I have set all my env variables in <strong>/etc/profile</strong> and <strong>~/.bashrc</strong>, but with code like <code>System.getenv()</code>, I cannot access the env that I have set since the code may only access variables set in /etc/environment.</p>\n<p>So is there any way to find these variables in <strong>/etc/profile</strong> with Java program in the <strong>Ubuntu</strong> system?</p>\n<p>My code sample:</p>\n<pre><code>public class EnvVarTest {[enter image description here][1]\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; env = System.getenv();\n        for (String envName : env.keySet()) {\n            System.out.format(&quot;%s=%s%n&quot;,\n                    envName,\n                    env.get(envName));\n        }\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>LANGUAGE=zh_CN:zh\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin\nXAUTHORITY=/run/user/1000/gdm/Xauthority\nSHELL=/bin/bash\nOLDPWD=/home/lin/ideaIC-2020.1.4/idea-IC-201.8743.12/bin\nTERM=xterm-256color\nUSER=root\nLANG=zh_CN.UTF-8\nSUDO_COMMAND=./idea.sh\nSUDO_USER=lin\nSUDO_GID=1000\nDISPLAY=:0\nMAIL=/var/mail/root\nCOLORTERM=truecolor\nLOGNAME=root\nSUDO_UID=1000\nLS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:\nPWD=/home/lin/code/Test\nHOME=/root\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bz8T0.png\" rel=\"nofollow noreferrer\">etc-profile</a></p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":13835425,"reputation":131,"user_id":9987059,"display_name":"TGLEE"},"score":0,"creation_date":1618569960,"post_id":55167859,"comment_id":118647017,"body_markdown":"Not exactly answer to the question but I could selectively remove models using .ignoredParameterTypes() from Docket. I referenced answers from https://stackoverflow.com/questions/46651381/is-there-a-way-i-can-stop-springfox-swagger-from-scanning-the-model-classes?noredirect=1&amp;lq=1","body":"Not exactly answer to the question but I could selectively remove models using .ignoredParameterTypes() from Docket. I referenced answers from <a href=\"https://stackoverflow.com/questions/46651381/is-there-a-way-i-can-stop-springfox-swagger-from-scanning-the-model-classes?noredirect=1&amp;lq=1\" title=\"is there a way i can stop springfox swagger from scanning the model classes\">stackoverflow.com/questions/46651381/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6878179,"reputation":4548,"user_id":5285908,"display_name":"Amith Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552596548,"creation_date":1552596548,"answer_id":55171741,"question_id":55167859,"body_markdown":"You can use [hidden](http://docs.swagger.io/swagger-core/apidocs/com/wordnik/swagger/annotations/ApiModelProperty.html#hidden()) attribute of `@ApiModelProperty` to hide any specific property of the model. There is no global setting for it. &lt;br&gt;&lt;br&gt;Once you have base-package for swagger scan declared, swagger will generate definitions for all components in the package out of box for you. However, with correct use of set of swagger `annotations`, you can override/customize your swagger documentation. &lt;br&gt;&lt;br&gt;Please follow these great tutorials ([1](https://dzone.com/articles/spring-boot-restful-api-documentation-with-swagger), [2](https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api)) to familiarize yourself with most useful annotations &amp; usage.\r\n&gt;@Api, @ApiOperation, @ApiResponses, @ApiParam, @ApiIgnore, @ApiModel, @ApiModelProperty etc","title":"Prevent Swagger from automatically adding some models","body":"<p>You can use <a href=\"http://docs.swagger.io/swagger-core/apidocs/com/wordnik/swagger/annotations/ApiModelProperty.html#hidden()\" rel=\"nofollow noreferrer\">hidden</a> attribute of <code>@ApiModelProperty</code> to hide any specific property of the model. There is no global setting for it. <br><br>Once you have base-package for swagger scan declared, swagger will generate definitions for all components in the package out of box for you. However, with correct use of set of swagger <code>annotations</code>, you can override/customize your swagger documentation. <br><br>Please follow these great tutorials (<a href=\"https://dzone.com/articles/spring-boot-restful-api-documentation-with-swagger\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"nofollow noreferrer\">2</a>) to familiarize yourself with most useful annotations &amp; usage.</p>\n\n<blockquote>\n  <p>@Api, @ApiOperation, @ApiResponses, @ApiParam, @ApiIgnore, @ApiModel, @ApiModelProperty etc</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19583758,"reputation":1,"user_id":14332259,"display_name":"nanlan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601005676,"creation_date":1601005676,"answer_id":64057512,"question_id":55167859,"body_markdown":"Springfox Swagger2 acquire UI data through GET /v2/api-docs, which will mapping to springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation().So you can just create a bean to take place of &#39;ServiceModelToSwagger2Mapper&#39;:\r\n```\r\n@Primary\r\n@Component\r\nclass CustomServiceModelToSwagger2Mapper : ServiceModelToSwagger2MapperImpl() {\r\n    @Autowired\r\n    private lateinit var modelMapper: ModelMapper\r\n    @Autowired\r\n    private lateinit var parameterMapper: ParameterMapper\r\n    @Autowired\r\n    private lateinit var securityMapper: SecurityMapper\r\n    @Autowired\r\n    private lateinit var licenseMapper: LicenseMapper\r\n    @Autowired\r\n    private lateinit var vendorExtensionsMapper: VendorExtensionsMapper\r\n\r\n    override fun mapDocumentation(from: Documentation?): Swagger? {\r\n        if (from == null) {\r\n            return null\r\n        }\r\n\r\n        val swagger = Swagger()\r\n\r\n        swagger.vendorExtensions = vendorExtensionsMapper.mapExtensions(from.vendorExtensions)\r\n        swagger.schemes = mapSchemes(from.schemes)\r\n        swagger.paths = mapApiListings(from.apiListings)\r\n        swagger.host = from.host\r\n// ➡➡➡➡➡➡➡➡➡➡➡➡➡➡➡➡ here\r\n        swagger.definitions = this.modelsFromApiListings(from.apiListings)\r\n        swagger.securityDefinitions = securityMapper.toSecuritySchemeDefinitions(from.resourceListing)\r\n        val info = fromResourceListingInfo(from)\r\n        if (info != null) {\r\n            swagger.info = mapApiInfo(info)\r\n        }\r\n        swagger.basePath = from.basePath\r\n        swagger.tags = tagSetToTagList(from.tags)\r\n        val list2 = from.consumes\r\n        if (list2 != null) {\r\n            swagger.consumes = ArrayList(list2)\r\n        } else {\r\n            swagger.consumes = null\r\n        }\r\n        val list3 = from.produces\r\n        if (list3 != null) {\r\n            swagger.produces = ArrayList(list3)\r\n        } else {\r\n            swagger.produces = null\r\n        }\r\n\r\n        return swagger\r\n    }\r\n\r\n    private fun fromResourceListingInfo(documentation: Documentation?): ApiInfo? {\r\n        if (documentation == null) {\r\n            return null\r\n        }\r\n        val resourceListing = documentation.resourceListing ?: return null\r\n        return resourceListing.info ?: return null\r\n    }\r\n\r\n\r\n    /**\r\n     * @see ModelMapper\r\n     */\r\n    internal fun modelsFromApiListings(apiListings: Multimap&lt;String, ApiListing&gt;): Map&lt;String, Model&gt;? {\r\n        val definitions = newTreeMap&lt;String, springfox.documentation.schema.Model&gt;()\r\n        for (each in apiListings.values()) {\r\n// ➡➡➡➡➡➡➡➡➡➡➡➡➡➡➡➡ here\r\n            // definitions.putAll(each.models)\r\n            definitions.putAll(each.models.filter {\r\n                it.value.qualifiedType.startsWith(&quot;com.cpvsn&quot;)\r\n                        &amp;&amp; it.value.type.typeBindings.isEmpty    \r\n            })\r\n        }\r\n        return modelMapper.mapModels(definitions)\r\n    }\r\n}\r\n```\r\n\r\n","title":"Prevent Swagger from automatically adding some models","body":"<p>Springfox Swagger2 acquire UI data through GET /v2/api-docs, which will mapping to springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation().So you can just create a bean to take place of 'ServiceModelToSwagger2Mapper':</p>\n<pre><code>@Primary\n@Component\nclass CustomServiceModelToSwagger2Mapper : ServiceModelToSwagger2MapperImpl() {\n    @Autowired\n    private lateinit var modelMapper: ModelMapper\n    @Autowired\n    private lateinit var parameterMapper: ParameterMapper\n    @Autowired\n    private lateinit var securityMapper: SecurityMapper\n    @Autowired\n    private lateinit var licenseMapper: LicenseMapper\n    @Autowired\n    private lateinit var vendorExtensionsMapper: VendorExtensionsMapper\n\n    override fun mapDocumentation(from: Documentation?): Swagger? {\n        if (from == null) {\n            return null\n        }\n\n        val swagger = Swagger()\n\n        swagger.vendorExtensions = vendorExtensionsMapper.mapExtensions(from.vendorExtensions)\n        swagger.schemes = mapSchemes(from.schemes)\n        swagger.paths = mapApiListings(from.apiListings)\n        swagger.host = from.host\n// ➡➡➡➡➡➡➡➡➡➡➡➡➡➡➡➡ here\n        swagger.definitions = this.modelsFromApiListings(from.apiListings)\n        swagger.securityDefinitions = securityMapper.toSecuritySchemeDefinitions(from.resourceListing)\n        val info = fromResourceListingInfo(from)\n        if (info != null) {\n            swagger.info = mapApiInfo(info)\n        }\n        swagger.basePath = from.basePath\n        swagger.tags = tagSetToTagList(from.tags)\n        val list2 = from.consumes\n        if (list2 != null) {\n            swagger.consumes = ArrayList(list2)\n        } else {\n            swagger.consumes = null\n        }\n        val list3 = from.produces\n        if (list3 != null) {\n            swagger.produces = ArrayList(list3)\n        } else {\n            swagger.produces = null\n        }\n\n        return swagger\n    }\n\n    private fun fromResourceListingInfo(documentation: Documentation?): ApiInfo? {\n        if (documentation == null) {\n            return null\n        }\n        val resourceListing = documentation.resourceListing ?: return null\n        return resourceListing.info ?: return null\n    }\n\n\n    /**\n     * @see ModelMapper\n     */\n    internal fun modelsFromApiListings(apiListings: Multimap&lt;String, ApiListing&gt;): Map&lt;String, Model&gt;? {\n        val definitions = newTreeMap&lt;String, springfox.documentation.schema.Model&gt;()\n        for (each in apiListings.values()) {\n// ➡➡➡➡➡➡➡➡➡➡➡➡➡➡➡➡ here\n            // definitions.putAll(each.models)\n            definitions.putAll(each.models.filter {\n                it.value.qualifiedType.startsWith(&quot;com.cpvsn&quot;)\n                        &amp;&amp; it.value.type.typeBindings.isEmpty    \n            })\n        }\n        return modelMapper.mapModels(definitions)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2610974,"reputation":45,"user_id":2261087,"display_name":"Dheeraj Bathija"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613737018,"creation_date":1613396270,"answer_id":66209106,"question_id":55167859,"body_markdown":"I was able to achieve this by adding `genericModuleSubstitutes()` in `Docket()`. \r\n\r\n\r\nExample: \r\n\r\n`.genericModelSubstitutes(ResponseEntity.class)` would substitute `ResponseEntity &lt;MyModel&gt;` with MyModel.\r\n\r\n[Reference](http://springfox.github.io/springfox/javadoc/2.7.0/springfox/documentation/spring/web/plugins/Docket.html#genericModelSubstitutes(java.lang.Class...)\r\n)","title":"Prevent Swagger from automatically adding some models","body":"<p>I was able to achieve this by adding <code>genericModuleSubstitutes()</code> in <code>Docket()</code>.</p>\n<p>Example:</p>\n<p><code>.genericModelSubstitutes(ResponseEntity.class)</code> would substitute <code>ResponseEntity &lt;MyModel&gt;</code> with MyModel.</p>\n<p><a href=\"http://springfox.github.io/springfox/javadoc/2.7.0/springfox/documentation/spring/web/plugins/Docket.html#genericModelSubstitutes(java.lang.Class...)\" rel=\"nofollow noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":12607051,"reputation":755,"user_id":9167594,"display_name":"Alisha Raju"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627590938,"creation_date":1625329247,"answer_id":68238033,"question_id":55167859,"body_markdown":"You can use :\r\n\r\n\t@Bean\r\n\tpublic Docket api() {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2).select()\r\n\t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;com.package&quot;))\r\n\t\t\t\t.paths(PathSelectors.regex(&quot;/api.*&quot;)).build().apiInfo(apiInfo())\r\n\t\t\t\t.ignoredParameterTypes(Timestamp.class);\r\n\t}\r\n\r\nThis worked for me. After specifying the class name in **ignoredParameterTypes**, it was no longer present in swagger ui.","title":"Prevent Swagger from automatically adding some models","body":"<p>You can use :</p>\n<pre><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2).select()\n            .apis(RequestHandlerSelectors.basePackage(&quot;com.package&quot;))\n            .paths(PathSelectors.regex(&quot;/api.*&quot;)).build().apiInfo(apiInfo())\n            .ignoredParameterTypes(Timestamp.class);\n}\n</code></pre>\n<p>This worked for me. After specifying the class name in <strong>ignoredParameterTypes</strong>, it was no longer present in swagger ui.</p>\n"},{"tags":[],"owner":{"account_id":15657306,"reputation":51,"user_id":11297265,"display_name":"Muhammad Hammad Ejaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638266468,"creation_date":1638212783,"answer_id":70160067,"question_id":55167859,"body_markdown":"\r\n   \r\n    @Bean\r\n    UiConfiguration uiConfig() {\r\n        return UiConfigurationBuilder.builder()\r\n                .defaultModelsExpandDepth(-1)\r\n                .build();\r\n    }\r\n\r\nThis worked for me.\r\n","title":"Prevent Swagger from automatically adding some models","body":"<pre><code>@Bean\nUiConfiguration uiConfig() {\n    return UiConfigurationBuilder.builder()\n            .defaultModelsExpandDepth(-1)\n            .build();\n}\n</code></pre>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":2030610,"reputation":11614,"user_id":1814420,"accept_rate":59,"display_name":"Triet Doan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4176,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1638266468,"creation_date":1552581662,"question_id":55167859,"body_markdown":"I build a REST interface using Spring Boot framework. Then, I use Swagger version 2.9.2 to generate the documentation. As you can see from the photo below, Swagger automatically detects a lot of models.\r\n\r\n[![Models][1]][1]\r\n\r\nHowever, most of them are redundant. Among them, only the `ResponseMessage` is necessary, the rest are just standard Java class.\r\n\r\nSo, my question is: **how can I tell Swagger which models to expose**?\r\n\r\nHere are my Swagger configuration and code snippet of my controller.\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;my.package&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build()\r\n                .apiInfo(API_INFO)\r\n                .useDefaultResponseMessages(false);\r\n    }\r\n\r\n**Controller:**\r\n\r\n    @PostMapping(value = &quot;/import&quot;, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;?&gt; importData(HttpServletRequest request) {\r\n    \r\n    \t// processing...\r\n    \t\r\n    \treturn ResponseEntity.created(uri)\r\n    \t    .body(new ResponseMessage(HttpStatus.CREATED, &quot;Your data is being processed&quot;));\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/KGM6Q.png","title":"Prevent Swagger from automatically adding some models","body":"<p>I build a REST interface using Spring Boot framework. Then, I use Swagger version 2.9.2 to generate the documentation. As you can see from the photo below, Swagger automatically detects a lot of models.</p>\n\n<p><a href=\"https://i.stack.imgur.com/KGM6Q.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KGM6Q.png\" alt=\"Models\"></a></p>\n\n<p>However, most of them are redundant. Among them, only the <code>ResponseMessage</code> is necessary, the rest are just standard Java class.</p>\n\n<p>So, my question is: <strong>how can I tell Swagger which models to expose</strong>?</p>\n\n<p>Here are my Swagger configuration and code snippet of my controller.</p>\n\n<pre><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.basePackage(\"my.package\"))\n            .paths(PathSelectors.any())\n            .build()\n            .apiInfo(API_INFO)\n            .useDefaultResponseMessages(false);\n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>@PostMapping(value = \"/import\", produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;?&gt; importData(HttpServletRequest request) {\n\n    // processing...\n\n    return ResponseEntity.created(uri)\n        .body(new ResponseMessage(HttpStatus.CREATED, \"Your data is being processed\"));\n}\n</code></pre>\n"},{"tags":["java","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":22611674,"reputation":65,"user_id":16791732,"display_name":"Tobi "},"score":0,"creation_date":1638256520,"post_id":70165386,"comment_id":124033383,"body_markdown":"Thanks for the edit! @Maurice Perry Look much better!","body":"Thanks for the edit! @Maurice Perry Look much better!"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638256858,"post_id":70165386,"comment_id":124033475,"body_markdown":"`current.setLeft(current);` and `current.setRight(current);` basically link the current node to itself which can cause an endless loop. Those calls don&#39;t make sense at all. Try to explain what your intention is with this piece of code and it should become obvious what should happen. Additionally, you&#39;re never changing `current` in the loop and thus `parent` will also never change.","body":"<code>current.setLeft(current);</code> and <code>current.setRight(current);</code> basically link the current node to itself which can cause an endless loop. Those calls don&#39;t make sense at all. Try to explain what your intention is with this piece of code and it should become obvious what should happen. Additionally, you&#39;re never changing <code>current</code> in the loop and thus <code>parent</code> will also never change."},{"owner":{"account_id":22611674,"reputation":65,"user_id":16791732,"display_name":"Tobi "},"score":0,"creation_date":1638262541,"post_id":70165386,"comment_id":124035315,"body_markdown":"I see that why it kept loading. I try to make it turn left while 2 variable comparison &lt;0 and turn right if &gt;0. I researched some sample code they just simple put current.left or current.right. But it didn&#39;t work in my case so I thought setLeft would work. I don&#39;t know how to declare it in a correct way. Thank you for the help!","body":"I see that why it kept loading. I try to make it turn left while 2 variable comparison &lt;0 and turn right if &gt;0. I researched some sample code they just simple put current.left or current.right. But it didn&#39;t work in my case so I thought setLeft would work. I don&#39;t know how to declare it in a correct way. Thank you for the help!"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638263472,"creation_date":1638256836,"answer_id":70165655,"question_id":70165386,"body_markdown":"After you&#39;ve initialized the `root`, you&#39;ve already inserted the first element, so you can increment `i` right away.\r\n\r\nYou set the `left` and `right` pointers without keeping track of the prior value.\r\n\r\nYou never change the value of `current` within the loop, and, as you immediately assign it to `parent`, you don&#39;t change `parent` either.\r\n\r\nYou should return the `root` instead of the `current` node.\r\n\r\nHow about something like this:\r\n\r\n        while (++i &lt;= end) {\r\n            current = root;\r\n            while (current != null) {\r\n                parent = current;\r\n                if (array[i].compareTo(current.getData()) &lt; 0) {\r\n                    current = current.getLeft();\r\n                } else {\r\n                    current = current.getRight();\r\n                }\r\n            }\r\n            // Create the new node and attach it to the parent node\r\n            if (array[i].compareTo(parent.getData()) &lt; 0) {\r\n                parent.setLeft(new BSTNode(array[i]));\r\n            } else {\r\n                parent.setRight(new BSTNode(array[i]));\r\n            }\r\n        }\r\n        return root;\r\n\r\nUPDATE:\r\n\r\nYou can avoid a redundant comparison by keeping its result in a variable:\r\n\r\n        while (++i &lt;= end) {\r\n            boolean left;\r\n            current = root;\r\n            do {\r\n                parent = current;\r\n                left = array[i].compareTo(current.getData()) &lt; 0;\r\n                if (left) {\r\n                    current = current.getLeft();\r\n                } else {\r\n                    current = current.getRight();\r\n                }\r\n            } while (current != null);\r\n            // Create the new node and attach it to the parent node\r\n            if (left) {\r\n                parent.setLeft(new BSTNode(array[i]));\r\n            } else {\r\n                parent.setRight(new BSTNode(array[i]));\r\n            }\r\n        }\r\n        return root;\r\n","title":"Transferring a String array to Binary Tree","body":"<p>After you've initialized the <code>root</code>, you've already inserted the first element, so you can increment <code>i</code> right away.</p>\n<p>You set the <code>left</code> and <code>right</code> pointers without keeping track of the prior value.</p>\n<p>You never change the value of <code>current</code> within the loop, and, as you immediately assign it to <code>parent</code>, you don't change <code>parent</code> either.</p>\n<p>You should return the <code>root</code> instead of the <code>current</code> node.</p>\n<p>How about something like this:</p>\n<pre><code>    while (++i &lt;= end) {\n        current = root;\n        while (current != null) {\n            parent = current;\n            if (array[i].compareTo(current.getData()) &lt; 0) {\n                current = current.getLeft();\n            } else {\n                current = current.getRight();\n            }\n        }\n        // Create the new node and attach it to the parent node\n        if (array[i].compareTo(parent.getData()) &lt; 0) {\n            parent.setLeft(new BSTNode(array[i]));\n        } else {\n            parent.setRight(new BSTNode(array[i]));\n        }\n    }\n    return root;\n</code></pre>\n<p>UPDATE:</p>\n<p>You can avoid a redundant comparison by keeping its result in a variable:</p>\n<pre><code>    while (++i &lt;= end) {\n        boolean left;\n        current = root;\n        do {\n            parent = current;\n            left = array[i].compareTo(current.getData()) &lt; 0;\n            if (left) {\n                current = current.getLeft();\n            } else {\n                current = current.getRight();\n            }\n        } while (current != null);\n        // Create the new node and attach it to the parent node\n        if (left) {\n            parent.setLeft(new BSTNode(array[i]));\n        } else {\n            parent.setRight(new BSTNode(array[i]));\n        }\n    }\n    return root;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638263425,"creation_date":1638263425,"answer_id":70166804,"question_id":70165386,"body_markdown":"```java\r\npublic class Main {\r\n\r\n    public static final class Node {\r\n\r\n        public static final String NULL = &quot;_&quot;;\r\n        public static final String SPLIT = &quot;,&quot;;\r\n\r\n        private final String val;\r\n        private Node left;\r\n        private Node right;\r\n\r\n        public Node(String val) {\r\n            this.val = val;\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        Node root = createBinaryTree();\r\n        String str = serialize(root);   // 0,1,3,7,_,9,_,_,_,4,_,_,2,5,_,8,_,_,6,_,_\r\n        Node newRoot = deserialize(str);\r\n    }\r\n\r\n    private static String serialize(Node root) {\r\n        StringBuilder buf = new StringBuilder();\r\n        serialize(root, buf);\r\n        return buf.toString();\r\n    }\r\n\r\n    private static void serialize(Node node, StringBuilder buf) {\r\n        if (buf.length() &gt; 0)\r\n            buf.append(Node.SPLIT);\r\n\r\n        if (node == null)\r\n            buf.append(Node.NULL);\r\n        else {\r\n            buf.append(node.val);\r\n            serialize(node.left, buf);\r\n            serialize(node.right, buf);\r\n        }\r\n    }\r\n\r\n    private static Node deserialize(String str) {\r\n        String[] values = str.split(Node.SPLIT);\r\n        return deserialize(values, new AtomicInteger());\r\n    }\r\n\r\n    private static Node deserialize(String[] values, AtomicInteger i) {\r\n        if (i.get() &gt;= values.length)\r\n            return null;\r\n\r\n        String value = values[i.getAndIncrement()];\r\n\r\n        if (Node.NULL.equalsIgnoreCase(value))\r\n            return null;\r\n\r\n        Node node = new Node(value);\r\n        node.left = deserialize(values, i);\r\n        node.right = deserialize(values, i);\r\n\r\n        return node;\r\n\r\n    }\r\n\r\n    /*\r\n     *         0\r\n     *       /  \\\r\n     *      1    2\r\n     *     / \\  / \\\r\n     *    3  4 5  6\r\n     *   /      \\\r\n     *  7        8\r\n     *   \\\r\n     *    9\r\n     */\r\n    private static Node createBinaryTree() {\r\n        Node[] nodes = { new Node(&quot;0&quot;), new Node(&quot;1&quot;), new Node(&quot;2&quot;), new Node(&quot;3&quot;),\r\n                new Node(&quot;4&quot;), new Node(&quot;5&quot;), new Node(&quot;6&quot;), new Node(&quot;7&quot;),\r\n                new Node(&quot;8&quot;), new Node(&quot;9&quot;) };\r\n\r\n        nodes[0].left = nodes[1];\r\n        nodes[0].right = nodes[2];\r\n        nodes[1].left = nodes[3];\r\n        nodes[1].right = nodes[4];\r\n        nodes[2].left = nodes[5];\r\n        nodes[2].right = nodes[6];\r\n        nodes[3].left = nodes[7];\r\n        nodes[5].right = nodes[8];\r\n        nodes[7].right = nodes[9];\r\n\r\n        return nodes[0];\r\n    }\r\n\r\n\r\n}\r\n```","title":"Transferring a String array to Binary Tree","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static final class Node {\n\n        public static final String NULL = &quot;_&quot;;\n        public static final String SPLIT = &quot;,&quot;;\n\n        private final String val;\n        private Node left;\n        private Node right;\n\n        public Node(String val) {\n            this.val = val;\n        }\n\n    }\n\n    public static void main(String... args) {\n        Node root = createBinaryTree();\n        String str = serialize(root);   // 0,1,3,7,_,9,_,_,_,4,_,_,2,5,_,8,_,_,6,_,_\n        Node newRoot = deserialize(str);\n    }\n\n    private static String serialize(Node root) {\n        StringBuilder buf = new StringBuilder();\n        serialize(root, buf);\n        return buf.toString();\n    }\n\n    private static void serialize(Node node, StringBuilder buf) {\n        if (buf.length() &gt; 0)\n            buf.append(Node.SPLIT);\n\n        if (node == null)\n            buf.append(Node.NULL);\n        else {\n            buf.append(node.val);\n            serialize(node.left, buf);\n            serialize(node.right, buf);\n        }\n    }\n\n    private static Node deserialize(String str) {\n        String[] values = str.split(Node.SPLIT);\n        return deserialize(values, new AtomicInteger());\n    }\n\n    private static Node deserialize(String[] values, AtomicInteger i) {\n        if (i.get() &gt;= values.length)\n            return null;\n\n        String value = values[i.getAndIncrement()];\n\n        if (Node.NULL.equalsIgnoreCase(value))\n            return null;\n\n        Node node = new Node(value);\n        node.left = deserialize(values, i);\n        node.right = deserialize(values, i);\n\n        return node;\n\n    }\n\n    /*\n     *         0\n     *       /  \\\n     *      1    2\n     *     / \\  / \\\n     *    3  4 5  6\n     *   /      \\\n     *  7        8\n     *   \\\n     *    9\n     */\n    private static Node createBinaryTree() {\n        Node[] nodes = { new Node(&quot;0&quot;), new Node(&quot;1&quot;), new Node(&quot;2&quot;), new Node(&quot;3&quot;),\n                new Node(&quot;4&quot;), new Node(&quot;5&quot;), new Node(&quot;6&quot;), new Node(&quot;7&quot;),\n                new Node(&quot;8&quot;), new Node(&quot;9&quot;) };\n\n        nodes[0].left = nodes[1];\n        nodes[0].right = nodes[2];\n        nodes[1].left = nodes[3];\n        nodes[1].right = nodes[4];\n        nodes[2].left = nodes[5];\n        nodes[2].right = nodes[6];\n        nodes[3].left = nodes[7];\n        nodes[5].right = nodes[8];\n        nodes[7].right = nodes[9];\n\n        return nodes[0];\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":22611674,"reputation":65,"user_id":16791732,"display_name":"Tobi "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70165655,"answer_count":2,"score":2,"last_activity_date":1638266106,"creation_date":1638255200,"question_id":70165386,"body_markdown":"I&#39;m trying to write a method that can transfer an array into a Binary tree. I know the code is not right, I run it and hope it would show something that I can continue to fix it. But it just kept loading without any error or result. May anyone give me some advice, please!\r\nHere is the BST class:\r\n\r\n    public class BSTNode {\r\n        private String data;\r\n    \r\n        private BSTNode left;\r\n        private BSTNode right;\r\n    \r\n        public BSTNode(String data) {\r\n            this.data = data;\r\n            this.right = null;\r\n            this.left = null;\r\n        }\r\n    \r\n        public String getData() {\r\n            return data;\r\n        }\r\n    \r\n        public void setData(String data) {\r\n            this.data = data;\r\n        }\r\n    \r\n        public BSTNode getLeft() {\r\n            return left;\r\n        }\r\n    \r\n        public void setLeft(BSTNode left) {\r\n            this.left = left;\r\n        }\r\n    \r\n        public BSTNode getRight() {\r\n            return right;\r\n        }\r\n    \r\n        public void setRight(BSTNode right) {\r\n            this.right = right;\r\n        }\r\n    }\r\n\r\nAnd my method:\r\n\r\n\r\n    public BSTNode fromArray(String[] array, int start, int end) {\r\n        int i = start;\r\n        BSTNode root = new BSTNode(array[i]);\r\n        BSTNode current = root;\r\n        BSTNode parent = null;\r\n        while (i &lt;= end) {\r\n            if (array[i].compareTo(current.getData()) &lt; 0) {\r\n                parent = current;\r\n                current.setLeft(current); //Should I put current.setLeft(root) here?\r\n            } else {\r\n                parent = current;\r\n                current.setRight(current);\r\n            }\r\n            // Create the new node and attach it to the parent node\r\n            if (array[i].compareTo(parent.getData()) &lt; 0) {\r\n                parent.setLeft(new BSTNode(array[i]));\r\n            } else {\r\n                parent.setRight(new BSTNode(array[i]));\r\n            }\r\n            i++;\r\n        }\r\n        return current;\r\n    }\r\n\r\nThank you for your time!\r\n\r\n","title":"Transferring a String array to Binary Tree","body":"<p>I'm trying to write a method that can transfer an array into a Binary tree. I know the code is not right, I run it and hope it would show something that I can continue to fix it. But it just kept loading without any error or result. May anyone give me some advice, please!\nHere is the BST class:</p>\n<pre><code>public class BSTNode {\n    private String data;\n\n    private BSTNode left;\n    private BSTNode right;\n\n    public BSTNode(String data) {\n        this.data = data;\n        this.right = null;\n        this.left = null;\n    }\n\n    public String getData() {\n        return data;\n    }\n\n    public void setData(String data) {\n        this.data = data;\n    }\n\n    public BSTNode getLeft() {\n        return left;\n    }\n\n    public void setLeft(BSTNode left) {\n        this.left = left;\n    }\n\n    public BSTNode getRight() {\n        return right;\n    }\n\n    public void setRight(BSTNode right) {\n        this.right = right;\n    }\n}\n</code></pre>\n<p>And my method:</p>\n<pre><code>public BSTNode fromArray(String[] array, int start, int end) {\n    int i = start;\n    BSTNode root = new BSTNode(array[i]);\n    BSTNode current = root;\n    BSTNode parent = null;\n    while (i &lt;= end) {\n        if (array[i].compareTo(current.getData()) &lt; 0) {\n            parent = current;\n            current.setLeft(current); //Should I put current.setLeft(root) here?\n        } else {\n            parent = current;\n            current.setRight(current);\n        }\n        // Create the new node and attach it to the parent node\n        if (array[i].compareTo(parent.getData()) &lt; 0) {\n            parent.setLeft(new BSTNode(array[i]));\n        } else {\n            parent.setRight(new BSTNode(array[i]));\n        }\n        i++;\n    }\n    return current;\n}\n</code></pre>\n<p>Thank you for your time!</p>\n"},{"tags":["java","spring-webflux","swagger-codegen","spring-webclient"],"comments":[{"owner":{"account_id":7836959,"reputation":1401,"user_id":5924630,"display_name":"Yasammez"},"score":0,"creation_date":1638269900,"post_id":70167257,"comment_id":124038181,"body_markdown":"https://stackoverflow.com/a/69906168/5924630 has a solution that works for me: in the WebFilter, before any other processing, create a HashMap and put it into the Context. Then, downstream in the WebClient, you can access this HashMap and put your values into them. These can then be read out again in the WebFilter. This is, however, a hack in my eyes, since it circumvents the immutability principle of the Context.","body":"<a href=\"https://stackoverflow.com/a/69906168/5924630\">stackoverflow.com/a/69906168/5924630</a> has a solution that works for me: in the WebFilter, before any other processing, create a HashMap and put it into the Context. Then, downstream in the WebClient, you can access this HashMap and put your values into them. These can then be read out again in the WebFilter. This is, however, a hack in my eyes, since it circumvents the immutability principle of the Context."}],"owner":{"account_id":7836959,"reputation":1401,"user_id":5924630,"display_name":"Yasammez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638265655,"creation_date":1638265655,"question_id":70167257,"body_markdown":"I am writing a thin proxy for an API using Swagger codegen for both Server and Client. Now the backend server sometimes wants to include specific headers (ETag, Location, …) in its responses. These should be passed through to the original caller. I have tried to configure my WebClient to use the Reactor Context for this task\r\n\r\n## WebClient\r\n```java\r\nWebClient.builder()\r\n            .filter((req, exc) -&gt; Mono.defer(() -&gt; exc.exchange(req)\r\n                .flatMap(response -&gt; Mono.just(response).contextWrite(\r\n                    context -&gt; {\r\n                        return response.headers().header(&quot;ETag&quot;).stream().findFirst().map(h -&gt; {\r\n                            return context.put(&quot;ETag&quot;, h);\r\n                        }).orElse(context);\r\n                    }))))\r\n```\r\n\r\nThis actually gets called and creates a new context object. But when I try to access it either in the Controller or a WebFilter, the original, unmodified Context ist seen.\r\n\r\n## Controller\r\n```java\r\n        return api.getFoo(id).flatMap(foo -&gt; Mono.deferContextual(ctx -&gt; {\r\n            return Mono.just(ResponseEntity.ok().header(&quot;ETag&quot;, ctx.getOrDefault(&quot;ETag&quot;, &quot;&quot;)).body(foo));\r\n        }));\r\n```\r\n\r\n## WebFilter\r\n```java\r\n        serverWebExchange.getResponse().beforeCommit(() -&gt; Mono.deferContextual(Mono::just).doOnNext(ctx -&gt; {\r\n            serverWebExchange.getResponse().getHeaders().add(&quot;ETag&quot;, ctx.getOrDefault(&quot;ETag&quot;, &quot;&quot;));\r\n        }).then());\r\n```\r\n\r\nI cannot easily access the original response object, since Swagger calls `bodyToMono` on it in its generated `invokeApi` method.\r\n\r\nHonestly, I am at a loss on how Reactor&#39;s Context works. To me it seems I am trying to assing the Context of the wrong Mono? But then, how can I write to the „global“ Context for my Controller from within it? Or is there some other way to achieve this kind of header propagation?","title":"Propagate WebClient Response Header to Client in WebFlux application","body":"<p>I am writing a thin proxy for an API using Swagger codegen for both Server and Client. Now the backend server sometimes wants to include specific headers (ETag, Location, …) in its responses. These should be passed through to the original caller. I have tried to configure my WebClient to use the Reactor Context for this task</p>\n<h2>WebClient</h2>\n<pre class=\"lang-java prettyprint-override\"><code>WebClient.builder()\n            .filter((req, exc) -&gt; Mono.defer(() -&gt; exc.exchange(req)\n                .flatMap(response -&gt; Mono.just(response).contextWrite(\n                    context -&gt; {\n                        return response.headers().header(&quot;ETag&quot;).stream().findFirst().map(h -&gt; {\n                            return context.put(&quot;ETag&quot;, h);\n                        }).orElse(context);\n                    }))))\n</code></pre>\n<p>This actually gets called and creates a new context object. But when I try to access it either in the Controller or a WebFilter, the original, unmodified Context ist seen.</p>\n<h2>Controller</h2>\n<pre class=\"lang-java prettyprint-override\"><code>        return api.getFoo(id).flatMap(foo -&gt; Mono.deferContextual(ctx -&gt; {\n            return Mono.just(ResponseEntity.ok().header(&quot;ETag&quot;, ctx.getOrDefault(&quot;ETag&quot;, &quot;&quot;)).body(foo));\n        }));\n</code></pre>\n<h2>WebFilter</h2>\n<pre class=\"lang-java prettyprint-override\"><code>        serverWebExchange.getResponse().beforeCommit(() -&gt; Mono.deferContextual(Mono::just).doOnNext(ctx -&gt; {\n            serverWebExchange.getResponse().getHeaders().add(&quot;ETag&quot;, ctx.getOrDefault(&quot;ETag&quot;, &quot;&quot;));\n        }).then());\n</code></pre>\n<p>I cannot easily access the original response object, since Swagger calls <code>bodyToMono</code> on it in its generated <code>invokeApi</code> method.</p>\n<p>Honestly, I am at a loss on how Reactor's Context works. To me it seems I am trying to assing the Context of the wrong Mono? But then, how can I write to the „global“ Context for my Controller from within it? Or is there some other way to achieve this kind of header propagation?</p>\n"},{"tags":["java","linux","gradle","jvm","kill"],"owner":{"account_id":5314321,"reputation":160,"user_id":4239690,"display_name":"sampath.xyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1638265406,"creation_date":1601818276,"question_id":64195246,"body_markdown":"I have the following Gradle task\r\n\r\n```groovy\r\ntask bootup(type: JavaExec) {\r\n  dependsOn build\r\n  classpath = sourceSets.main.runtimeClasspath\r\n  main = &#39;org.example.ServerLauncher&#39;\r\n  args &#39;hello&#39;\r\n  maxHeapSize &#39;512m&#39;\r\n}\r\n```\r\n\r\nand the class `ServerLauncher.java` is\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\npublic class ServerLauncher {\r\n    private final CountDownLatch shutdownHook;\r\n    private final String[] args;\r\n\r\n    private ServerLauncher(String[] args) {\r\n        this.args = args;\r\n        this.shutdownHook = new CountDownLatch(1);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        new ServerLauncher(args).execute();\r\n    }\r\n\r\n    private void execute() throws Exception {\r\n        hangShutdownHook();\r\n        System.out.println(&quot;Launcher has started&quot;);\r\n        try {\r\n            shutdownHook.await();\r\n        } finally {\r\n            System.out.println(&quot;Launcher has closed&quot;);\r\n        }\r\n    }\r\n\r\n    private void hangShutdownHook() {\r\n        Thread thread = new Thread(this::triggerShutdown);\r\n        Runtime.getRuntime().addShutdownHook(thread);\r\n    }\r\n\r\n    private void triggerShutdown() {\r\n        System.out.println(&quot;Shutdown has triggered&quot;);\r\n        shutdownHook.countDown();\r\n    }\r\n}\r\n```\r\n\r\nWhen I build the Jar `./gradlew jar` and run `java -jar /path/to/exec` in the CLI, I&#39;m able to close the executable gracefully with `CTRL+C`.\r\n\r\n```\r\nLauncher has started\r\n^CShutdown has triggered\r\nLauncher has closed\r\n```\r\n\r\nbut if I run `./gradlew bootup` I&#39;m not able to close the executable gracefully with `CTRL+C`\r\n```\r\n&gt; Task :bootup\r\nLauncher has started\r\n&lt;===========--&gt; 91% EXECUTING [8s]\r\n&gt; :bootup\r\n^C%\r\n```\r\n\r\nAs you can see `triggerShutdown` isn&#39;t executed.\r\n\r\nI&#39;m assuming this is because the process is forked during `JavaExec`\r\nI tried to send various kill signals to the `pid`, but still wasn&#39;t successful.\r\n\r\nHow do I trigger a forked Runtime&#39;s shutdownhooks?\r\n\r\nP.S: I don&#39;t want to change the logic in my `java` code. However, I&#39;m okay with changing my Gradle task definition.","title":"How to Send &quot;CTRL+C&quot; / SIGINT signal to Gradle JavaExec task type forked JVM?","body":"<p>I have the following Gradle task</p>\n<pre><code>task bootup(type: JavaExec) {\n  dependsOn build\n  classpath = sourceSets.main.runtimeClasspath\n  main = 'org.example.ServerLauncher'\n  args 'hello'\n  maxHeapSize '512m'\n}\n</code></pre>\n<p>and the class <code>ServerLauncher.java</code> is</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.util.concurrent.CountDownLatch;\n\npublic class ServerLauncher {\n    private final CountDownLatch shutdownHook;\n    private final String[] args;\n\n    private ServerLauncher(String[] args) {\n        this.args = args;\n        this.shutdownHook = new CountDownLatch(1);\n    }\n\n    public static void main(String[] args) throws Exception {\n        new ServerLauncher(args).execute();\n    }\n\n    private void execute() throws Exception {\n        hangShutdownHook();\n        System.out.println(&quot;Launcher has started&quot;);\n        try {\n            shutdownHook.await();\n        } finally {\n            System.out.println(&quot;Launcher has closed&quot;);\n        }\n    }\n\n    private void hangShutdownHook() {\n        Thread thread = new Thread(this::triggerShutdown);\n        Runtime.getRuntime().addShutdownHook(thread);\n    }\n\n    private void triggerShutdown() {\n        System.out.println(&quot;Shutdown has triggered&quot;);\n        shutdownHook.countDown();\n    }\n}\n</code></pre>\n<p>When I build the Jar <code>./gradlew jar</code> and run <code>java -jar /path/to/exec</code> in the CLI, I'm able to close the executable gracefully with <code>CTRL+C</code>.</p>\n<pre><code>Launcher has started\n^CShutdown has triggered\nLauncher has closed\n</code></pre>\n<p>but if I run <code>./gradlew bootup</code> I'm not able to close the executable gracefully with <code>CTRL+C</code></p>\n<pre><code>&gt; Task :bootup\nLauncher has started\n&lt;===========--&gt; 91% EXECUTING [8s]\n&gt; :bootup\n^C%\n</code></pre>\n<p>As you can see <code>triggerShutdown</code> isn't executed.</p>\n<p>I'm assuming this is because the process is forked during <code>JavaExec</code>\nI tried to send various kill signals to the <code>pid</code>, but still wasn't successful.</p>\n<p>How do I trigger a forked Runtime's shutdownhooks?</p>\n<p>P.S: I don't want to change the logic in my <code>java</code> code. However, I'm okay with changing my Gradle task definition.</p>\n"},{"tags":["java","compiler-errors","javac","java-9","java-10"],"comments":[{"owner":{"account_id":13785118,"reputation":191,"user_id":9949240,"display_name":"Akshay Darekar"},"score":2,"creation_date":1529128439,"post_id":50885335,"comment_id":88772467,"body_markdown":"that is not my main function. it is javac main function. my code it only this much. I just compile it by javac.","body":"that is not my main function. it is javac main function. my code it only this much. I just compile it by javac."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1529129447,"post_id":50885335,"comment_id":88772605,"body_markdown":"In my Eclipse I get “&#39;&lt;&gt;&#39; cannot be used with anonymous classes” where you use `new College&lt;&gt;() {}`.","body":"In my Eclipse I get “&#39;&lt;&gt;&#39; cannot be used with anonymous classes” where you use <code>new College&lt;&gt;() {}</code>."},{"owner":{"account_id":13785118,"reputation":191,"user_id":9949240,"display_name":"Akshay Darekar"},"score":0,"creation_date":1529129835,"post_id":50885335,"comment_id":88772661,"body_markdown":"filename is same as classname","body":"filename is same as classname"},{"owner":{"account_id":6878179,"reputation":4548,"user_id":5285908,"display_name":"Amith Kumar"},"score":1,"creation_date":1529130074,"post_id":50885335,"comment_id":88772714,"body_markdown":"can you compile anything else with the installed jdk ? It doesn&#39;t look anything related to this class/code. I am just suspecting, if its an installation issue.","body":"can you compile anything else with the installed jdk ? It doesn&#39;t look anything related to this class/code. I am just suspecting, if its an installation issue."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":8,"creation_date":1529130083,"post_id":50885335,"comment_id":88772716,"body_markdown":"You found a bug in the Java compiler. Report it to Oracle/OpenJDK.","body":"You found a bug in the Java compiler. Report it to Oracle/OpenJDK."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1529130162,"post_id":50885335,"comment_id":88772729,"body_markdown":"The only NullPointerException in the current code that I could see is `Object obj = club.get` if you instantiate the Student as `new Student()` only. Also, could you share how do you compile the code above(java version, IDE version etc.)","body":"The only NullPointerException in the current code that I could see is <code>Object obj = club.get</code> if you instantiate the Student as <code>new Student()</code> only. Also, could you share how do you compile the code above(java version, IDE version etc.)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1529136769,"post_id":50885335,"comment_id":88773934,"body_markdown":"@nullpointer The `NullPointerException` doesn’t happen in the asker’s code. It happens in the Java compiler.","body":"@nullpointer The <code>NullPointerException</code> doesn’t happen in the asker’s code. It happens in the Java compiler."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":5,"creation_date":1529137632,"post_id":50885335,"comment_id":88774091,"body_markdown":"I have reproduced your crash using my javac 10.0.1 from Oracle and your source files. Agree with @JBNizet that you can do everyone a favour by reporting it to Oracle. Even if there is a bug in your program, the compiler shouldn’t crash.","body":"I have reproduced your crash using my javac 10.0.1 from Oracle and your source files. Agree with @JBNizet that you can do everyone a favour by reporting it to Oracle. Even if there is a bug in your program, the compiler shouldn’t crash."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1529137984,"post_id":50885335,"comment_id":88774161,"body_markdown":"Why the downvote, please? I find the question clear. The problem is both interesting and reproducible.","body":"Why the downvote, please? I find the question clear. The problem is both interesting and reproducible."},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":2,"creation_date":1529141808,"post_id":50885335,"comment_id":88774838,"body_markdown":"Reproduced the same compiler error with `javac 9.0.4`.","body":"Reproduced the same compiler error with <code>javac 9.0.4</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1529148783,"post_id":50885335,"comment_id":88776390,"body_markdown":"Thanks, @Oleksandr, for reporting. My javac 1.8.0_131 reports `reason: cannot use &#39;&lt;&gt;&#39; with anonymous inner classes` and doesn’t crash, so it seems the bug was introduced in Java 9.","body":"Thanks, @Oleksandr, for reporting. My javac 1.8.0_131 reports <code>reason: cannot use &#39;&lt;&gt;&#39; with anonymous inner classes</code> and doesn’t crash, so it seems the bug was introduced in Java 9."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1529151954,"post_id":50885335,"comment_id":88777125,"body_markdown":"@OleV.V. Thats why wanted to know the way the user was compiling their code. Now that I can read its reproducible, I am hoping this is explicitly by `javac` command line that the issue is reproduced. In which case, I agree the report would be useful :)","body":"@OleV.V. Thats why wanted to know the way the user was compiling their code. Now that I can read its reproducible, I am hoping this is explicitly by <code>javac</code> command line that the issue is reproduced. In which case, I agree the report would be useful :)"}],"answers":[{"tags":[],"owner":{"account_id":13456279,"reputation":2278,"user_id":9709773,"display_name":"Shubham Kadlag"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1529315712,"creation_date":1529154031,"answer_id":50888142,"question_id":50885335,"body_markdown":"It is a reported unresolved bug. The bug is planned to be resolved in jdk 11.\r\n\r\nJDK-8203195-Anonymous class type inference results in NPE\r\n\r\n\r\n\r\n    Type:                 Bug\r\n    Status:               In Progress\r\n    Priority:             P2\r\n    Resolution:           Unresolved\r\n    Affects Version/s:    9, 10, 10.0.1, 11\r\n    Fix Version/s:        11\r\n    Component/s:          tools\r\n    Labels:               dcsfai reproducer-yes webbug \r\n\r\n    Subcomponent:         javac\r\n    CPU:                  generic\t\r\n    OS:                   generic\r\n\r\n\r\nhttps://bugs.openjdk.java.net/projects/JDK/issues/JDK-8203195?filter=allopenissues\r\n\r\n\r\nHowever, there is a work around mentioned in the bug description which states: \r\n\r\n\r\n&gt;  Interestingly, changing A.java to do the following:                     \r\n  `Object baz =&gt; foo.foo(new B&lt;Object&gt;() {});`                                  \r\n  or changing foo/B.java to the\r\n&gt; following:\r\n&gt;  \r\n&gt; \r\n&gt;      package foo;\r\n&gt;      \r\n&gt;      public class B&lt;T&gt; {\r\n&gt;      \r\n&gt;      B(int baz) {   }\r\n&gt;      \r\n&gt;      protected B() {   } \r\n&gt;      }\r\n&gt; \r\n&gt;    results in a successful compilation.","title":"java 10 compilaton Null Pointer Exception","body":"<p>It is a reported unresolved bug. The bug is planned to be resolved in jdk 11.</p>\n\n<p>JDK-8203195-Anonymous class type inference results in NPE</p>\n\n<pre><code>Type:                 Bug\nStatus:               In Progress\nPriority:             P2\nResolution:           Unresolved\nAffects Version/s:    9, 10, 10.0.1, 11\nFix Version/s:        11\nComponent/s:          tools\nLabels:               dcsfai reproducer-yes webbug \n\nSubcomponent:         javac\nCPU:                  generic   \nOS:                   generic\n</code></pre>\n\n<p><a href=\"https://bugs.openjdk.java.net/projects/JDK/issues/JDK-8203195?filter=allopenissues\" rel=\"noreferrer\">https://bugs.openjdk.java.net/projects/JDK/issues/JDK-8203195?filter=allopenissues</a></p>\n\n<p>However, there is a work around mentioned in the bug description which states: </p>\n\n<blockquote>\n  <p>Interestingly, changing A.java to do the following:<br>\n    <code>Object baz =&gt; foo.foo(new B&lt;Object&gt;() {});</code><br>\n    or changing foo/B.java to the\n  following:</p>\n\n<pre><code> package foo;\n\n public class B&lt;T&gt; {\n\n B(int baz) {   }\n\n protected B() {   } \n }\n</code></pre>\n  \n  <p>results in a successful compilation.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572039318,"creation_date":1572039318,"answer_id":58566017,"question_id":50885335,"body_markdown":"Even tho the bug reports status is still open using java 11 fixes that issue for me","title":"java 10 compilaton Null Pointer Exception","body":"<p>Even tho the bug reports status is still open using java 11 fixes that issue for me</p>\n"},{"tags":[],"owner":{"account_id":22648366,"reputation":21,"user_id":16823405,"display_name":"tasos panagiotopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638265083,"creation_date":1638265083,"answer_id":70167142,"question_id":50885335,"body_markdown":"I had exactly the same error and I couldn&#39;t find any solution. Even when I tried to build using java 11 (some say it is fixed there) it still failed with the same error. \r\n\r\nBut the error was just **MISLEADING**. After some changes in code and retries (I removed some code..), I found that the actual error was some missing libraries, which I added in the classpath and the build was successful!","title":"java 10 compilaton Null Pointer Exception","body":"<p>I had exactly the same error and I couldn't find any solution. Even when I tried to build using java 11 (some say it is fixed there) it still failed with the same error.</p>\n<p>But the error was just <strong>MISLEADING</strong>. After some changes in code and retries (I removed some code..), I found that the actual error was some missing libraries, which I added in the classpath and the build was successful!</p>\n"}],"owner":{"account_id":13785118,"reputation":191,"user_id":9949240,"display_name":"Akshay Darekar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4094,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":50888142,"answer_count":3,"score":18,"last_activity_date":1638265083,"creation_date":1529128161,"question_id":50885335,"body_markdown":"I recently installed jdk10. I was doing normal code and it is not working.\r\n\r\nAm I doing something wrong here?\r\nPlease see the code and Exception stacktrace.\r\nAs far as I understand there should be no reason for such behaviour.\r\n\r\n    import com.bean.College;\r\n    \r\n    public class Student {\r\n    \r\n    \tinterface Club {\r\n    \t\t&lt;T&gt; T get(College&lt;T&gt; key);\r\n    \t}\r\n    \r\n    \tprivate Club club;\r\n    \r\n    \tStudent() {\r\n    \t\tObject obj = club.get(new College&lt;&gt;() {});\r\n    \t}\r\n    }\r\n\r\nThe imported `College` class is:    \r\n    \r\n    public class College&lt;T&gt; {\r\n    \tint id;\r\n    \tprotected College() {\r\n    \t}\r\n    \r\n    \tCollege(int id){\r\n    \t\tthis.id=id;\r\n    \t}\r\n    } \r\n\r\nOn compiling this the `javac` compiler crashes with the following stacktrace:\r\n\r\n    java.lang.NullPointerException\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitApply(Flow.java:1233)\r\n            at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1634)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitVarDef(Flow.java:987)\r\n            at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCVariableDecl.accept(JCTree.java:956)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:57)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitBlock(Flow.java:995)\r\n            at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1020)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitMethodDef(Flow.java:962)\r\n            at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:866)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitClassDef(Flow.java:925)\r\n            at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:774)\r\n            at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.analyzeTree(Flow.java:1325)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.analyzeTree(Flow.java:1315)\r\n            at jdk.compiler/com.sun.tools.javac.comp.Flow.analyzeTree(Flow.java:216)\r\n            at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.flow(JavaCompiler.java:1393)\r\n            at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.flow(JavaCompiler.java:1367)\r\n            at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:965)\r\n            at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:306)\r\n            at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:165)\r\n            at jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:57)\r\n            at jdk.compiler/com.sun.tools.javac.Main.main(Main.java:43) \r\n","title":"java 10 compilaton Null Pointer Exception","body":"<p>I recently installed jdk10. I was doing normal code and it is not working.</p>\n\n<p>Am I doing something wrong here?\nPlease see the code and Exception stacktrace.\nAs far as I understand there should be no reason for such behaviour.</p>\n\n<pre><code>import com.bean.College;\n\npublic class Student {\n\n    interface Club {\n        &lt;T&gt; T get(College&lt;T&gt; key);\n    }\n\n    private Club club;\n\n    Student() {\n        Object obj = club.get(new College&lt;&gt;() {});\n    }\n}\n</code></pre>\n\n<p>The imported <code>College</code> class is:    </p>\n\n<pre><code>public class College&lt;T&gt; {\n    int id;\n    protected College() {\n    }\n\n    College(int id){\n        this.id=id;\n    }\n} \n</code></pre>\n\n<p>On compiling this the <code>javac</code> compiler crashes with the following stacktrace:</p>\n\n<pre><code>java.lang.NullPointerException\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitApply(Flow.java:1233)\n        at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1634)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitVarDef(Flow.java:987)\n        at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCVariableDecl.accept(JCTree.java:956)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:57)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitBlock(Flow.java:995)\n        at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCBlock.accept(JCTree.java:1020)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitMethodDef(Flow.java:962)\n        at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodDecl.accept(JCTree.java:866)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitClassDef(Flow.java:925)\n        at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:774)\n        at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:396)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.analyzeTree(Flow.java:1325)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.analyzeTree(Flow.java:1315)\n        at jdk.compiler/com.sun.tools.javac.comp.Flow.analyzeTree(Flow.java:216)\n        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.flow(JavaCompiler.java:1393)\n        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.flow(JavaCompiler.java:1367)\n        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:965)\n        at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:306)\n        at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:165)\n        at jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:57)\n        at jdk.compiler/com.sun.tools.javac.Main.main(Main.java:43) \n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","aggregation-framework"],"comments":[{"owner":{"account_id":3594096,"reputation":868,"user_id":2999358,"accept_rate":67,"display_name":"k9yosh"},"score":0,"creation_date":1638253543,"post_id":70164938,"comment_id":124032595,"body_markdown":"Could you attach the stack trace as well? Is the `Document` class something you created or is it from another library? If it&#39;s your&#39;s attach that as well","body":"Could you attach the stack trace as well? Is the <code>Document</code> class something you created or is it from another library? If it&#39;s your&#39;s attach that as well"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638255184,"post_id":70164938,"comment_id":124033025,"body_markdown":"Insert individual ones, not all of them. If you have a large resultset you don&#39;t want to keep everything in memory.","body":"Insert individual ones, not all of them. If you have a large resultset you don&#39;t want to keep everything in memory."},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1638265430,"post_id":70164938,"comment_id":124036396,"body_markdown":"@k9yosh :Added Stack trace . And Document is org.bson public class Document extends Object implements Map&lt;String, Object&gt;, Serializable, Bson .Please have a look and suggest how to resolve the Java Heap Memory space issue and insert the documents in MongoDB collection","body":"@k9yosh :Added Stack trace . And Document is org.bson public class Document extends Object implements Map&lt;String, Object&gt;, Serializable, Bson .Please have a look and suggest how to resolve the Java Heap Memory space issue and insert the documents in MongoDB collection"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1638265807,"post_id":70164938,"comment_id":124036543,"body_markdown":"@M.Deinum :How Can I insert the individual ones .Can you please help me with the syntax to insert the individual ones","body":"@M.Deinum :How Can I insert the individual ones .Can you please help me with the syntax to insert the individual ones"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638265910,"post_id":70164938,"comment_id":124036586,"body_markdown":"Call `insert` inside the loop on the `mergecollection` instead of `insertMany`. Don&#39;t stuff them in the list, just store it directly.","body":"Call <code>insert</code> inside the loop on the <code>mergecollection</code> instead of <code>insertMany</code>. Don&#39;t stuff them in the list, just store it directly."},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1638280822,"post_id":70164938,"comment_id":124042489,"body_markdown":"@M.Deinum  , Thank you so much .Java Heap Memory issue is resolved and I am able to insert the data into MongoDB database .","body":"@M.Deinum  , Thank you so much .Java Heap Memory issue is resolved and I am able to insert the data into MongoDB database ."},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1638289744,"post_id":70164938,"comment_id":124046655,"body_markdown":"@M.Deinum , I have multiple systems and period , In case if the input comes with the same system and with the same period the data should not get inserted into Database .How Can I achieve that scenario","body":"@M.Deinum , I have multiple systems and period , In case if the input comes with the same system and with the same period the data should not get inserted into Database .How Can I achieve that scenario"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638340064,"post_id":70164938,"comment_id":124059314,"body_markdown":"Not sure what you want with that? Check database if already exists don&#39;t insert. Not sure how else you would do that. Or keep a small set (not list) of combinations of `system/period` you already have and check that.","body":"Not sure what you want with that? Check database if already exists don&#39;t insert. Not sure how else you would do that. Or keep a small set (not list) of combinations of <code>system&#47;period</code> you already have and check that."}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638264995,"creation_date":1638251614,"question_id":70164938,"body_markdown":"I am trying to insert the documents in MongoDB Database by using below syntax.The below code is throwing Java Memory Heap space exception .In for loop at this step  documentList.add(Document.parse(dbObject.toJson()); throwing the Java Heap Memory issue .I have tried increasing the memory but still it is throwing the Memory issue .Can anyone assist on this how to avoid the Java Heap issue in for loop \r\n\r\n \r\n\r\n    private void NextMonth(String system , String period) {\r\n            {\r\n             \r\n    \r\n                String nextPeriod = Utilities.Period(period);\r\n               \r\n               List&lt;? extends Bson&gt; pipeline  = Arrays.asList(\r\n                        new Document()\r\n                                .append(&quot;$match&quot;, new Document()\r\n                                        .append(&quot;key&quot;, &quot;PP&quot;)\r\n                                        .append(&quot;AmountType&quot;, &quot;IN&quot;)\r\n                                        .append(&quot;key&quot;, system)\r\n                                        .append(&quot;period&quot;, period)\r\n                                ),\r\n                        new Document()\r\n                                .append(&quot;$addFields&quot;, new Document()\r\n                                        .append(&quot;ID&quot;, &quot;$_id&quot;)\r\n                                        .append(&quot;Period&quot;, nextPeriod)\r\n                                        .append(&quot;Transaction&quot;, nextPeriod)\r\n                                        .append(&quot;Reporting&quot;, nextPeriod)\r\n                                        \r\n                                        .append(&quot;Type&quot;, new Document()\r\n                                                .append(&quot;key&quot;, &quot;XX&quot;)\r\n                                                .append(&quot;value&quot;, &quot;OutStanding Amount&quot;)\r\n                                        )\r\n                                        .append(&quot;amount&quot;, new Document()\r\n                                                .append(&quot;$multiply&quot;, Arrays.asList(\r\n                                                        &quot;$Amount.amount&quot;,\r\n                                                        Decimal128.parse(&quot;-1.0&quot;)\r\n                                                        )\r\n                                                )\r\n                                        )\r\n                                        .append(&quot;OriginalAmt&quot;, new Document()\r\n                                                .append(&quot;$multiply&quot;, Arrays.asList(\r\n                                                        &quot;$amount&quot;,\r\n                                                        Decimal128.parse(&quot;-1.0&quot;)\r\n                                                        )\r\n                                                )\r\n                                        )\r\n                                        .append(&quot;TransactionAmt.amount&quot;, new Document()\r\n                                                .append(&quot;$multiply&quot;, Arrays.asList(\r\n                                                        &quot;$amount&quot;,\r\n                                                        Decimal128.parse(&quot;-1.0&quot;)\r\n                                                        )\r\n                                                )\r\n                                        )\r\n                                        .append(&quot;amount&quot;, new Document()\r\n                                                .append(&quot;$multiply&quot;, Arrays.asList(\r\n                                                        &quot;$amount&quot;,\r\n                                                        Decimal128.parse(&quot;-1.0&quot;)\r\n                                                        )\r\n                                                )\r\n                                        )\r\n                                       \r\n                                ),\r\n                       \r\n                );\r\n    \r\n                AggregateIterable&lt;Document&gt; response =  collectionDB.aggregate(pipeline).allowDiskUse(false);\r\n              \r\n    \r\n                List documentList = new ArrayList();\r\n                for (Document dbObject : response)\r\n                {\r\n                    // System.out.println(dbObject);\r\n                    documentList.add(Document.parse(dbObject.toJson());\r\n                  //  System.out.println(dbObject);\r\n                }\r\n                mergeCollection.insertMany(documentList);\r\n\r\n\r\nStackTrace :\r\n\r\nj\r\n\r\n    ava.lang.OutOfMemoryError: Java heap space\r\n    \tat java.util.Arrays.copyOfRange(Arrays.java:3664)\r\n    \tat java.lang.String.&lt;init&gt;(String.java:207)\r\n    \tat java.lang.StringBuilder.toString(StringBuilder.java:407)\r\n    \tat org.bson.json.JsonScanner.scanString(JsonScanner.java:511)\r\n    \tat org.bson.json.JsonScanner.nextToken(JsonScanner.java:88)\r\n    \tat org.bson.json.JsonReader.popToken(JsonReader.java:492)\r\n    \tat org.bson.json.JsonReader.visitExtendedJSON(JsonReader.java:596)\r\n    \tat org.bson.json.JsonReader.readBsonType(JsonReader.java:148)\r\n    \tat org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:149)\r\n    \tat org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:45)\r\n    \tat org.bson.codecs.configuration.LazyCodec.decode(LazyCodec.java:47)\r\n    \tat org.bson.codecs.DocumentCodec.readValue(DocumentCodec.java:222)\r\n    \tat org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:151)\r\n    \tat org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:45)\r\n    \tat org.bson.codecs.DocumentCodec.readValue(DocumentCodec.java:222)\r\n    \tat org.bson.codecs.DocumentCodec.readList(DocumentCodec.java:229)\r\n    \tat org.bson.codecs.DocumentCodec.readValue(DocumentCodec.java:218)\r\n    \tat org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:151)\r\n    \tat org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:45)\r\n    \tat org.bson.Document.parse(Document.java:105)\r\n    \tat org.bson.Document.parse(Document.java:90)\r\n    \tat com.agcs.cids.RestController.NextMonth(RestController.java:256)\r\n    \tat com.agcs.cids.RestController.getMonthDetails(RestController.java:89)\r\n    \tat com.agcs.cids.RestController$$FastClassBySpringCGLIB$$a48dec59.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n    \tat com.agcs.cids.MonthEndRestController$$EnhancerBySpringCGLIB$$df52defb.getMonthDetails(&lt;generated&gt;)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    2021-11-30 09:23:36.087  INFO 1 --- [v.allianz:27018] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server \r\n    \r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.createBsonReader(ProtocolHelper.java:145) ~[mongodb-driver-core-3.8.2.jar!/:na]\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.getOperationTime(ProtocolHelper.java:114) ~[mongodb-driver-core-3.8.2.jar!/:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.updateSessionContext(InternalStreamConnection.java:517) ~[mongodb-driver-core-3.8.2.jar!/:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:291) ~[mongodb-driver-core-3.8.2.jar!/:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:255) ~[mongodb-driver-core-3.8.2.jar!/:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-3.8.2.jar!/:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:38) ~[mongodb-driver-core-3.8.2.jar!/:na]\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:180) ~[mongodb-driver-core-3.8.2.jar!/:na]\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:124) ~[mongodb-driver-core-3.8.2.jar!/:na]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_262]","title":"How to resolve the Java Memory Heap issue for for each block","body":"<p>I am trying to insert the documents in MongoDB Database by using below syntax.The below code is throwing Java Memory Heap space exception .In for loop at this step  documentList.add(Document.parse(dbObject.toJson()); throwing the Java Heap Memory issue .I have tried increasing the memory but still it is throwing the Memory issue .Can anyone assist on this how to avoid the Java Heap issue in for loop</p>\n<pre><code>private void NextMonth(String system , String period) {\n        {\n         \n\n            String nextPeriod = Utilities.Period(period);\n           \n           List&lt;? extends Bson&gt; pipeline  = Arrays.asList(\n                    new Document()\n                            .append(&quot;$match&quot;, new Document()\n                                    .append(&quot;key&quot;, &quot;PP&quot;)\n                                    .append(&quot;AmountType&quot;, &quot;IN&quot;)\n                                    .append(&quot;key&quot;, system)\n                                    .append(&quot;period&quot;, period)\n                            ),\n                    new Document()\n                            .append(&quot;$addFields&quot;, new Document()\n                                    .append(&quot;ID&quot;, &quot;$_id&quot;)\n                                    .append(&quot;Period&quot;, nextPeriod)\n                                    .append(&quot;Transaction&quot;, nextPeriod)\n                                    .append(&quot;Reporting&quot;, nextPeriod)\n                                    \n                                    .append(&quot;Type&quot;, new Document()\n                                            .append(&quot;key&quot;, &quot;XX&quot;)\n                                            .append(&quot;value&quot;, &quot;OutStanding Amount&quot;)\n                                    )\n                                    .append(&quot;amount&quot;, new Document()\n                                            .append(&quot;$multiply&quot;, Arrays.asList(\n                                                    &quot;$Amount.amount&quot;,\n                                                    Decimal128.parse(&quot;-1.0&quot;)\n                                                    )\n                                            )\n                                    )\n                                    .append(&quot;OriginalAmt&quot;, new Document()\n                                            .append(&quot;$multiply&quot;, Arrays.asList(\n                                                    &quot;$amount&quot;,\n                                                    Decimal128.parse(&quot;-1.0&quot;)\n                                                    )\n                                            )\n                                    )\n                                    .append(&quot;TransactionAmt.amount&quot;, new Document()\n                                            .append(&quot;$multiply&quot;, Arrays.asList(\n                                                    &quot;$amount&quot;,\n                                                    Decimal128.parse(&quot;-1.0&quot;)\n                                                    )\n                                            )\n                                    )\n                                    .append(&quot;amount&quot;, new Document()\n                                            .append(&quot;$multiply&quot;, Arrays.asList(\n                                                    &quot;$amount&quot;,\n                                                    Decimal128.parse(&quot;-1.0&quot;)\n                                                    )\n                                            )\n                                    )\n                                   \n                            ),\n                   \n            );\n\n            AggregateIterable&lt;Document&gt; response =  collectionDB.aggregate(pipeline).allowDiskUse(false);\n          \n\n            List documentList = new ArrayList();\n            for (Document dbObject : response)\n            {\n                // System.out.println(dbObject);\n                documentList.add(Document.parse(dbObject.toJson());\n              //  System.out.println(dbObject);\n            }\n            mergeCollection.insertMany(documentList);\n</code></pre>\n<p>StackTrace :</p>\n<p>j</p>\n<pre><code>ava.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOfRange(Arrays.java:3664)\n    at java.lang.String.&lt;init&gt;(String.java:207)\n    at java.lang.StringBuilder.toString(StringBuilder.java:407)\n    at org.bson.json.JsonScanner.scanString(JsonScanner.java:511)\n    at org.bson.json.JsonScanner.nextToken(JsonScanner.java:88)\n    at org.bson.json.JsonReader.popToken(JsonReader.java:492)\n    at org.bson.json.JsonReader.visitExtendedJSON(JsonReader.java:596)\n    at org.bson.json.JsonReader.readBsonType(JsonReader.java:148)\n    at org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:149)\n    at org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:45)\n    at org.bson.codecs.configuration.LazyCodec.decode(LazyCodec.java:47)\n    at org.bson.codecs.DocumentCodec.readValue(DocumentCodec.java:222)\n    at org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:151)\n    at org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:45)\n    at org.bson.codecs.DocumentCodec.readValue(DocumentCodec.java:222)\n    at org.bson.codecs.DocumentCodec.readList(DocumentCodec.java:229)\n    at org.bson.codecs.DocumentCodec.readValue(DocumentCodec.java:218)\n    at org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:151)\n    at org.bson.codecs.DocumentCodec.decode(DocumentCodec.java:45)\n    at org.bson.Document.parse(Document.java:105)\n    at org.bson.Document.parse(Document.java:90)\n    at com.agcs.cids.RestController.NextMonth(RestController.java:256)\n    at com.agcs.cids.RestController.getMonthDetails(RestController.java:89)\n    at com.agcs.cids.RestController$$FastClassBySpringCGLIB$$a48dec59.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at com.agcs.cids.MonthEndRestController$$EnhancerBySpringCGLIB$$df52defb.getMonthDetails(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2021-11-30 09:23:36.087  INFO 1 --- [v.allianz:27018] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server \n\njava.lang.OutOfMemoryError: Java heap space\n    at com.mongodb.internal.connection.ProtocolHelper.createBsonReader(ProtocolHelper.java:145) ~[mongodb-driver-core-3.8.2.jar!/:na]\n    at com.mongodb.internal.connection.ProtocolHelper.getOperationTime(ProtocolHelper.java:114) ~[mongodb-driver-core-3.8.2.jar!/:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.updateSessionContext(InternalStreamConnection.java:517) ~[mongodb-driver-core-3.8.2.jar!/:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:291) ~[mongodb-driver-core-3.8.2.jar!/:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:255) ~[mongodb-driver-core-3.8.2.jar!/:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-3.8.2.jar!/:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:38) ~[mongodb-driver-core-3.8.2.jar!/:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:180) ~[mongodb-driver-core-3.8.2.jar!/:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:124) ~[mongodb-driver-core-3.8.2.jar!/:na]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_262]\n</code></pre>\n"},{"tags":["java","fonts","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1638282635,"post_id":70166993,"comment_id":124043306,"body_markdown":"Well, strictly speaking the **DA** is an entry of the field objects, not of the widget objects. BUT in PDF versions before 2.0 it is sometimes difficult to distinguish pure widgets from minimal, anonymous fields with merged-in widgets. Maybe this is an issue of your PDF. An issue of your code, though: You iterate over `acroForm.getFields()` which are only the root fields of the form. Consider iterating over all of `acroForm.getFieldTree()` instead.","body":"Well, strictly speaking the <b>DA</b> is an entry of the field objects, not of the widget objects. BUT in PDF versions before 2.0 it is sometimes difficult to distinguish pure widgets from minimal, anonymous fields with merged-in widgets. Maybe this is an issue of your PDF. An issue of your code, though: You iterate over <code>acroForm.getFields()</code> which are only the root fields of the form. Consider iterating over all of <code>acroForm.getFieldTree()</code> instead."},{"owner":{"account_id":23500574,"reputation":11,"user_id":17550504,"display_name":"Ronny Bremer"},"score":0,"creation_date":1638374388,"post_id":70166993,"comment_id":124072113,"body_markdown":"I see, thank you for the clarification. The PDF was apparently generated with PDFpenPro 12 on Mac OS X. According to their web site it is a fairly recent version, maybe the forms they generate can produce this kind of behavior.\nThank you for pointing out the getFields() vs getFieldTree() calls, I will check on that to make sure we catch all fields.","body":"I see, thank you for the clarification. The PDF was apparently generated with PDFpenPro 12 on Mac OS X. According to their web site it is a fairly recent version, maybe the forms they generate can produce this kind of behavior. Thank you for pointing out the getFields() vs getFieldTree() calls, I will check on that to make sure we catch all fields."}],"owner":{"account_id":23500574,"reputation":11,"user_id":17550504,"display_name":"Ronny Bremer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638264812,"creation_date":1638264382,"question_id":70166993,"body_markdown":"I have been trying to replace iText (used a long time ago) with PDFBox in one of our projects. What we essentially do is filling out PDF forms, kinda like a mail merge. This all happens in a J2EE backend system, so usually not many fonts are available.\r\n\r\nWe recently received a PDF, which I could not get filled out. I always got this exception:\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Could not find font: /MicrosoftSansSerif\r\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDDefaultAppearanceString.processSetFont(PDDefaultAppearanceString.java:176)\r\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDDefaultAppearanceString.processOperator(PDDefaultAppearanceString.java:129)\r\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDDefaultAppearanceString.processAppearanceStringOperators(PDDefaultAppearanceString.java:105)\r\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDDefaultAppearanceString.&lt;init&gt;(PDDefaultAppearanceString.java:87)\r\n\tat org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.getWidgetDefaultAppearanceString(AppearanceGeneratorHelper.java:302)\r\n\tat org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceValue(AppearanceGeneratorHelper.java:197)\r\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDTextField.constructAppearances(PDTextField.java:264)\r\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDTerminalField.applyChange(PDTerminalField.java:228)\r\n\tat org.apache.pdfbox.pdmodel.interactive.form.PDTextField.setValue(PDTextField.java:219)\r\n\tat test.Z.main(Z.java:142)\r\n```\r\n\r\nAccording to [PDFBox API: How to change font to handle Cyrillic values in an AcroForm field][1] you should catch this IOException and replace the font with one of the built-in fonts, however, even after doing this I received the same exception:\r\n```\r\nString da = pdField.getDefaultAppearance();\r\nboolean found = false;\r\nfor (COSName fontName : defaultResources.getFontNames()) {\r\n\tif (da.startsWith(&quot;/&quot; + fontName.getName())) {\r\n\t\tfound = true;\r\n\t\tbreak;\r\n\t}\r\n}\r\nif (!found) {\r\n\tSystem.out.println(&quot;font: &quot; + da + &quot; not found, replacing with Helv&quot;);\r\n\tpdField.setDefaultAppearance(&quot;/Helv 0 Tf 0 g&quot;);\r\n\tSystem.out.println(&quot;AFTER REPLACE DA: &quot; + pdField.getDefaultAppearance());\r\n    pdField.getWidget(0).setAppearance(null);\r\n}\r\n```\r\n\r\nSo I was looking deeper and discovered the form field in question had multiple widgets. Iterating over them revealed, they each had a DA set. The API doesn&#39;t give you direct access to it, so I checked the COSObject.getString(COSName.DA) on each widget directly and voila, the missing font was sitting in there.\r\n\r\nI added the font replacement code for each widget and the form can now be successfully filled out.\r\n\r\nWhat I don&#39;t really understand are two things:\r\n\r\n 1. is this the correct approach?\r\n 2. why is it so difficult? wouldn&#39;t it be much simpler to have an option for PDFBox to automatically replace any missing font with a default?\r\n\r\nThank you for your input.\r\n\r\nFor reference, this is the code needed to fill out this form:\r\n```\r\npackage test;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Map.Entry;\r\n\r\nimport org.apache.pdfbox.cos.COSBase;\r\nimport org.apache.pdfbox.cos.COSDictionary;\r\nimport org.apache.pdfbox.cos.COSName;\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.pdmodel.PDPage;\r\nimport org.apache.pdfbox.pdmodel.PDResources;\r\nimport org.apache.pdfbox.pdmodel.font.PDFont;\r\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationWidget;\r\nimport org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm;\r\nimport org.apache.pdfbox.pdmodel.interactive.form.PDField;\r\nimport org.apache.pdfbox.pdmodel.interactive.form.PDTextField;\r\nimport org.apache.pdfbox.pdmodel.interactive.form.PDVariableText;\r\n\r\npublic class Z {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tPDDocument pdfDocument = PDDocument.load(new File(&quot;/home/test/template.pdf&quot;));\r\n\r\n\t\tSystem.out.println(&quot;page resources:&quot;);\r\n\t\tfor (PDPage page : pdfDocument.getDocumentCatalog().getPages()) {\r\n\t\t\tPDResources resources = page.getResources();\r\n\t\t\tfor (COSName key : resources.getFontNames()) {\r\n\t\t\t\tSystem.out.println(&quot;font key: &quot; + key.getName());\r\n\t\t\t\tPDFont font = resources.getFont(key);\r\n\t\t\t\tSystem.out.println(&quot;font name: &quot; + font.getName());\r\n\t\t\t\tboolean isEmbedded = font.isEmbedded();\r\n\t\t\t\tSystem.out.println(&quot;embedded: &quot; + isEmbedded);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tPDAcroForm acroForm = pdfDocument.getDocumentCatalog().getAcroForm();\r\n\t\tif (acroForm != null) {\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;form DA: &quot; + acroForm.getDefaultAppearance());\r\n\t\t\tSystem.out.println(&quot;form DA (via COSObject): &quot; + acroForm.getCOSObject().getString(COSName.DA));\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;form default resources:&quot;);\r\n\t\t\tPDResources defaultResources = acroForm.getDefaultResources();\r\n\t\t\tfor (COSName fontName : defaultResources.getFontNames()) {\r\n\t\t\t\tSystem.out.println(&quot;font name: &quot; + fontName.getName());\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;form default resources font dictionary:&quot;);\r\n\t\t\tCOSDictionary fontDict = (COSDictionary) defaultResources.getCOSObject().getDictionaryObject(COSName.FONT);\r\n\t\t\tfor (Entry&lt;COSName, COSBase&gt; entry : fontDict.entrySet()) {\r\n\t\t\t\tSystem.out.println(&quot;dict entry: &quot; + entry.getKey().getName());\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;form fields:&quot;);\r\n\t\t\tfor (PDField pdFieldX : acroForm.getFields()) {\r\n\t\t\t\tif (pdFieldX instanceof PDVariableText) {\r\n\t\t\t\t\tPDTextField pdField = (PDTextField) pdFieldX;\r\n\t\t\t\t\tSystem.out.println(&quot;field mapping name: &quot; + pdField.getMappingName());\r\n\t\t\t\t\tSystem.out.println(&quot;field alternate name: &quot; + pdField.getAlternateFieldName());\r\n\t\t\t\t\tSystem.out.println(&quot;field partial name: &quot; + pdField.getPartialName());\r\n\t\t\t\t\tSystem.out.println(&quot;DA: &quot; + pdField.getDefaultAppearance());\r\n\t\t\t\t\tSystem.out.println(&quot;DA (via COSObject): &quot; + pdField.getCOSObject().getString(COSName.DA));\r\n\t\t\t\t\tif (pdField.getDefaultAppearance() != null) {\r\n\t\t\t\t\t\tString da = pdField.getDefaultAppearance();\r\n\t\t\t\t\t\tboolean found = false;\r\n\t\t\t\t\t\tfor (COSName fontName : defaultResources.getFontNames()) {\r\n\t\t\t\t\t\t\tif (da.startsWith(&quot;/&quot; + fontName.getName())) {\r\n\t\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!found) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;font: &quot; + da + &quot; not found, replacing with Helv&quot;);\r\n\t\t\t\t\t\t\tpdField.setDefaultAppearance(&quot;/Helv 0 Tf 0 g&quot;);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;AFTER REPLACE DA: &quot; + pdField.getDefaultAppearance());\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;AFTER REPLACE DA (via COSObject): &quot;\r\n\t\t\t\t\t\t\t\t\t+ pdField.getCOSObject().getString(COSName.DA));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (PDAnnotationWidget widget : pdField.getWidgets()) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;WIDGET DA: &quot; + widget.getCOSObject().getString(COSName.DA));\r\n\t\t\t\t\t\tboolean found = false;\r\n\t\t\t\t\t\tString da = widget.getCOSObject().getString(COSName.DA);\r\n\t\t\t\t\t\tfor (COSName fontName : defaultResources.getFontNames()) {\r\n\t\t\t\t\t\t\tif (da.startsWith(&quot;/&quot; + fontName.getName())) {\r\n\t\t\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!found) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;font: &quot; + da + &quot; not found, replacing with Helv&quot;);\r\n\t\t\t\t\t\t\twidget.getCOSObject().setString(COSName.DA, &quot;/Helv 0 Tf 0 g&quot;);\r\n\t\t\t\t\t\t\tSystem.out\r\n\t\t\t\t\t\t\t\t\t.println(&quot;AFTER REPLACE WIDGET DA: &quot; + widget.getCOSObject().getString(COSName.DA));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twidget.setAppearance(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println();\r\n\t\t\tfor (PDField pdFieldX : acroForm.getFields()) {\r\n\t\t\t\tif (pdFieldX instanceof PDVariableText) {\r\n\t\t\t\t\tPDTextField pdField = (PDTextField) pdFieldX;\r\n\t\t\t\t\tSystem.out.println(&quot;setting value on field: &quot; + pdField.getPartialName());\r\n\t\t\t\t\tpdField.setValue(&quot;a value&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n//\t\t\tacroForm.setNeedAppearances(true);\r\n//\t\t\tacroForm.refreshAppearances();\r\n//\t\t\tacroForm.flatten();\r\n\t\t}\r\n\r\n\t\t// Save and close the filled out form.\r\n\t\tpdfDocument.save(&quot;/home/test/filled.pdf&quot;);\r\n\t\tpdfDocument.close();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nand its output:\r\n```\r\npage resources:\r\nfont key: TT0\r\nfont name: AAAAAD+PalatinoLinotype-Bold\r\nembedded: true\r\nfont key: TT1\r\nfont name: AAAAAE+MicrosoftSansSerif\r\nembedded: true\r\nfont key: TT2\r\nfont name: AAAAAG+MicrosoftSansSerif\r\nembedded: true\r\nfont key: TT3\r\nfont name: AAAAAI+PalatinoLinotype-Roman\r\nembedded: true\r\nfont key: TT4\r\nfont name: AAAAAJ+MicrosoftSansSerif\r\nembedded: true\r\nfont key: TT5\r\nfont name: AAAAAF+MicrosoftSansSerif\r\nembedded: true\r\nfont key: TT6\r\nfont name: AAAAAL+PalatinoLinotype-Bold\r\nembedded: true\r\nfont key: TT7\r\nfont name: AAAAAN+PalatinoLinotype-Bold\r\nembedded: true\r\nfont key: TT8\r\nfont name: AAAAAB+MicrosoftSansSerif\r\nembedded: true\r\nfont key: TT9\r\nfont name: AAAAAP+ArialMT\r\nembedded: true\r\n\r\nform DA: /Helv 0 Tf 0 g \r\nform DA (via COSObject): /Helv 0 Tf 0 g \r\n\r\nform default resources:\r\nfont name: Helv\r\nfont name: HelveticaNeue-ThinItalic\r\nfont name: MSReferenceSansSerif\r\nfont name: ZaDb\r\n\r\nform default resources font dictionary:\r\ndict entry: Helv\r\ndict entry: HelveticaNeue-ThinItalic\r\ndict entry: MSReferenceSansSerif\r\ndict entry: ZaDb\r\n\r\nform fields:\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field1\r\nDA: /Helv 12 Tf 0.000000 0.000000 0.000000 rg \r\nDA (via COSObject): /Helv 12 Tf 0.000000 0.000000 0.000000 rg \r\nWIDGET DA: /Helv 12 Tf 0.000000 0.000000 0.000000 rg \r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field2\r\nDA: /Helv 0 Tf 0.000000 0.000000 0.000000 rg \r\nDA (via COSObject): /Helv 0 Tf 0.000000 0.000000 0.000000 rg \r\nWIDGET DA: /Helv 0 Tf 0.000000 0.000000 0.000000 rg \r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field3\r\nDA: /HelveticaNeue-ThinItalic 0 Tf 0 g\r\nDA (via COSObject): /HelveticaNeue-ThinItalic 0 Tf 0 g\r\nWIDGET DA: /HelveticaNeue-ThinItalic 0 Tf 0 g\r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field4\r\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\r\nAFTER REPLACE DA: /Helv 0 Tf 0 g\r\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\r\nWIDGET DA: /Helv 0 Tf 0 g\r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field5\r\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\r\nAFTER REPLACE DA: /Helv 0 Tf 0 g\r\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\r\nWIDGET DA: /Helv 0 Tf 0 g\r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field6\r\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\r\nAFTER REPLACE DA: /Helv 0 Tf 0 g\r\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\r\nWIDGET DA: /Helv 0 Tf 0 g\r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field7\r\nDA: /Helv 0 Tf 0 g \r\nDA (via COSObject): null\r\nWIDGET DA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\r\nAFTER REPLACE WIDGET DA: /Helv 0 Tf 0 g\r\nWIDGET DA: /MSReferenceSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field8\r\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\r\nAFTER REPLACE DA: /Helv 0 Tf 0 g\r\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\r\nWIDGET DA: /Helv 0 Tf 0 g\r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field9\r\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\r\nAFTER REPLACE DA: /Helv 0 Tf 0 g\r\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\r\nWIDGET DA: /Helv 0 Tf 0 g\r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field10\r\nDA: /Helv 0 Tf 0.000000 0.000000 0.000000 rg \r\nDA (via COSObject): /Helv 0 Tf 0.000000 0.000000 0.000000 rg \r\nWIDGET DA: /Helv 0 Tf 0.000000 0.000000 0.000000 rg \r\n\r\nfield mapping name: null\r\nfield alternate name: null\r\nfield partial name: field11\r\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \r\nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\r\nAFTER REPLACE DA: /Helv 0 Tf 0 g\r\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\r\nWIDGET DA: /Helv 0 Tf 0 g\r\n\r\n\r\n\r\n\r\nsetting value on field: field1\r\nsetting value on field: field2\r\nsetting value on field: field3\r\nsetting value on field: field4\r\nsetting value on field: field5\r\nsetting value on field: field6\r\nsetting value on field: field7\r\nsetting value on field: field8\r\nsetting value on field: field9\r\nsetting value on field: field10\r\nsetting value on field: field11\r\n```\r\n\r\nfield7 was the issue in my case.\r\n\r\n  [1]: https://stackoverflow.com/questions/47995062/pdfbox-api-how-to-change-font-to-handle-cyrillic-values-in-an-acroform-field","title":"PDFBox font replacement for forms, apparently widgets are important too","body":"<p>I have been trying to replace iText (used a long time ago) with PDFBox in one of our projects. What we essentially do is filling out PDF forms, kinda like a mail merge. This all happens in a J2EE backend system, so usually not many fonts are available.</p>\n<p>We recently received a PDF, which I could not get filled out. I always got this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Could not find font: /MicrosoftSansSerif\n    at org.apache.pdfbox.pdmodel.interactive.form.PDDefaultAppearanceString.processSetFont(PDDefaultAppearanceString.java:176)\n    at org.apache.pdfbox.pdmodel.interactive.form.PDDefaultAppearanceString.processOperator(PDDefaultAppearanceString.java:129)\n    at org.apache.pdfbox.pdmodel.interactive.form.PDDefaultAppearanceString.processAppearanceStringOperators(PDDefaultAppearanceString.java:105)\n    at org.apache.pdfbox.pdmodel.interactive.form.PDDefaultAppearanceString.&lt;init&gt;(PDDefaultAppearanceString.java:87)\n    at org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.getWidgetDefaultAppearanceString(AppearanceGeneratorHelper.java:302)\n    at org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceValue(AppearanceGeneratorHelper.java:197)\n    at org.apache.pdfbox.pdmodel.interactive.form.PDTextField.constructAppearances(PDTextField.java:264)\n    at org.apache.pdfbox.pdmodel.interactive.form.PDTerminalField.applyChange(PDTerminalField.java:228)\n    at org.apache.pdfbox.pdmodel.interactive.form.PDTextField.setValue(PDTextField.java:219)\n    at test.Z.main(Z.java:142)\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/questions/47995062/pdfbox-api-how-to-change-font-to-handle-cyrillic-values-in-an-acroform-field\">PDFBox API: How to change font to handle Cyrillic values in an AcroForm field</a> you should catch this IOException and replace the font with one of the built-in fonts, however, even after doing this I received the same exception:</p>\n<pre><code>String da = pdField.getDefaultAppearance();\nboolean found = false;\nfor (COSName fontName : defaultResources.getFontNames()) {\n    if (da.startsWith(&quot;/&quot; + fontName.getName())) {\n        found = true;\n        break;\n    }\n}\nif (!found) {\n    System.out.println(&quot;font: &quot; + da + &quot; not found, replacing with Helv&quot;);\n    pdField.setDefaultAppearance(&quot;/Helv 0 Tf 0 g&quot;);\n    System.out.println(&quot;AFTER REPLACE DA: &quot; + pdField.getDefaultAppearance());\n    pdField.getWidget(0).setAppearance(null);\n}\n</code></pre>\n<p>So I was looking deeper and discovered the form field in question had multiple widgets. Iterating over them revealed, they each had a DA set. The API doesn't give you direct access to it, so I checked the COSObject.getString(COSName.DA) on each widget directly and voila, the missing font was sitting in there.</p>\n<p>I added the font replacement code for each widget and the form can now be successfully filled out.</p>\n<p>What I don't really understand are two things:</p>\n<ol>\n<li>is this the correct approach?</li>\n<li>why is it so difficult? wouldn't it be much simpler to have an option for PDFBox to automatically replace any missing font with a default?</li>\n</ol>\n<p>Thank you for your input.</p>\n<p>For reference, this is the code needed to fill out this form:</p>\n<pre><code>package test;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Map.Entry;\n\nimport org.apache.pdfbox.cos.COSBase;\nimport org.apache.pdfbox.cos.COSDictionary;\nimport org.apache.pdfbox.cos.COSName;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDResources;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationWidget;\nimport org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm;\nimport org.apache.pdfbox.pdmodel.interactive.form.PDField;\nimport org.apache.pdfbox.pdmodel.interactive.form.PDTextField;\nimport org.apache.pdfbox.pdmodel.interactive.form.PDVariableText;\n\npublic class Z {\n\n    public static void main(String[] args) throws IOException {\n        PDDocument pdfDocument = PDDocument.load(new File(&quot;/home/test/template.pdf&quot;));\n\n        System.out.println(&quot;page resources:&quot;);\n        for (PDPage page : pdfDocument.getDocumentCatalog().getPages()) {\n            PDResources resources = page.getResources();\n            for (COSName key : resources.getFontNames()) {\n                System.out.println(&quot;font key: &quot; + key.getName());\n                PDFont font = resources.getFont(key);\n                System.out.println(&quot;font name: &quot; + font.getName());\n                boolean isEmbedded = font.isEmbedded();\n                System.out.println(&quot;embedded: &quot; + isEmbedded);\n            }\n        }\n\n        PDAcroForm acroForm = pdfDocument.getDocumentCatalog().getAcroForm();\n        if (acroForm != null) {\n            System.out.println();\n            System.out.println(&quot;form DA: &quot; + acroForm.getDefaultAppearance());\n            System.out.println(&quot;form DA (via COSObject): &quot; + acroForm.getCOSObject().getString(COSName.DA));\n            System.out.println();\n            System.out.println(&quot;form default resources:&quot;);\n            PDResources defaultResources = acroForm.getDefaultResources();\n            for (COSName fontName : defaultResources.getFontNames()) {\n                System.out.println(&quot;font name: &quot; + fontName.getName());\n            }\n            System.out.println();\n            System.out.println(&quot;form default resources font dictionary:&quot;);\n            COSDictionary fontDict = (COSDictionary) defaultResources.getCOSObject().getDictionaryObject(COSName.FONT);\n            for (Entry&lt;COSName, COSBase&gt; entry : fontDict.entrySet()) {\n                System.out.println(&quot;dict entry: &quot; + entry.getKey().getName());\n            }\n\n            System.out.println();\n            System.out.println(&quot;form fields:&quot;);\n            for (PDField pdFieldX : acroForm.getFields()) {\n                if (pdFieldX instanceof PDVariableText) {\n                    PDTextField pdField = (PDTextField) pdFieldX;\n                    System.out.println(&quot;field mapping name: &quot; + pdField.getMappingName());\n                    System.out.println(&quot;field alternate name: &quot; + pdField.getAlternateFieldName());\n                    System.out.println(&quot;field partial name: &quot; + pdField.getPartialName());\n                    System.out.println(&quot;DA: &quot; + pdField.getDefaultAppearance());\n                    System.out.println(&quot;DA (via COSObject): &quot; + pdField.getCOSObject().getString(COSName.DA));\n                    if (pdField.getDefaultAppearance() != null) {\n                        String da = pdField.getDefaultAppearance();\n                        boolean found = false;\n                        for (COSName fontName : defaultResources.getFontNames()) {\n                            if (da.startsWith(&quot;/&quot; + fontName.getName())) {\n                                found = true;\n                                break;\n                            }\n                        }\n                        if (!found) {\n                            System.out.println(&quot;font: &quot; + da + &quot; not found, replacing with Helv&quot;);\n                            pdField.setDefaultAppearance(&quot;/Helv 0 Tf 0 g&quot;);\n                            System.out.println(&quot;AFTER REPLACE DA: &quot; + pdField.getDefaultAppearance());\n                            System.out.println(&quot;AFTER REPLACE DA (via COSObject): &quot;\n                                    + pdField.getCOSObject().getString(COSName.DA));\n                        }\n                    }\n                    for (PDAnnotationWidget widget : pdField.getWidgets()) {\n                        System.out.println(&quot;WIDGET DA: &quot; + widget.getCOSObject().getString(COSName.DA));\n                        boolean found = false;\n                        String da = widget.getCOSObject().getString(COSName.DA);\n                        for (COSName fontName : defaultResources.getFontNames()) {\n                            if (da.startsWith(&quot;/&quot; + fontName.getName())) {\n                                found = true;\n                                break;\n                            }\n                        }\n                        if (!found) {\n                            System.out.println(&quot;font: &quot; + da + &quot; not found, replacing with Helv&quot;);\n                            widget.getCOSObject().setString(COSName.DA, &quot;/Helv 0 Tf 0 g&quot;);\n                            System.out\n                                    .println(&quot;AFTER REPLACE WIDGET DA: &quot; + widget.getCOSObject().getString(COSName.DA));\n                        }\n                        widget.setAppearance(null);\n                    }\n                }\n                System.out.println();\n            }\n            System.out.println();\n            System.out.println();\n            System.out.println();\n            for (PDField pdFieldX : acroForm.getFields()) {\n                if (pdFieldX instanceof PDVariableText) {\n                    PDTextField pdField = (PDTextField) pdFieldX;\n                    System.out.println(&quot;setting value on field: &quot; + pdField.getPartialName());\n                    pdField.setValue(&quot;a value&quot;);\n                }\n            }\n//          acroForm.setNeedAppearances(true);\n//          acroForm.refreshAppearances();\n//          acroForm.flatten();\n        }\n\n        // Save and close the filled out form.\n        pdfDocument.save(&quot;/home/test/filled.pdf&quot;);\n        pdfDocument.close();\n    }\n\n}\n</code></pre>\n<p>and its output:</p>\n<pre><code>page resources:\nfont key: TT0\nfont name: AAAAAD+PalatinoLinotype-Bold\nembedded: true\nfont key: TT1\nfont name: AAAAAE+MicrosoftSansSerif\nembedded: true\nfont key: TT2\nfont name: AAAAAG+MicrosoftSansSerif\nembedded: true\nfont key: TT3\nfont name: AAAAAI+PalatinoLinotype-Roman\nembedded: true\nfont key: TT4\nfont name: AAAAAJ+MicrosoftSansSerif\nembedded: true\nfont key: TT5\nfont name: AAAAAF+MicrosoftSansSerif\nembedded: true\nfont key: TT6\nfont name: AAAAAL+PalatinoLinotype-Bold\nembedded: true\nfont key: TT7\nfont name: AAAAAN+PalatinoLinotype-Bold\nembedded: true\nfont key: TT8\nfont name: AAAAAB+MicrosoftSansSerif\nembedded: true\nfont key: TT9\nfont name: AAAAAP+ArialMT\nembedded: true\n\nform DA: /Helv 0 Tf 0 g \nform DA (via COSObject): /Helv 0 Tf 0 g \n\nform default resources:\nfont name: Helv\nfont name: HelveticaNeue-ThinItalic\nfont name: MSReferenceSansSerif\nfont name: ZaDb\n\nform default resources font dictionary:\ndict entry: Helv\ndict entry: HelveticaNeue-ThinItalic\ndict entry: MSReferenceSansSerif\ndict entry: ZaDb\n\nform fields:\nfield mapping name: null\nfield alternate name: null\nfield partial name: field1\nDA: /Helv 12 Tf 0.000000 0.000000 0.000000 rg \nDA (via COSObject): /Helv 12 Tf 0.000000 0.000000 0.000000 rg \nWIDGET DA: /Helv 12 Tf 0.000000 0.000000 0.000000 rg \n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field2\nDA: /Helv 0 Tf 0.000000 0.000000 0.000000 rg \nDA (via COSObject): /Helv 0 Tf 0.000000 0.000000 0.000000 rg \nWIDGET DA: /Helv 0 Tf 0.000000 0.000000 0.000000 rg \n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field3\nDA: /HelveticaNeue-ThinItalic 0 Tf 0 g\nDA (via COSObject): /HelveticaNeue-ThinItalic 0 Tf 0 g\nWIDGET DA: /HelveticaNeue-ThinItalic 0 Tf 0 g\n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field4\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\nAFTER REPLACE DA: /Helv 0 Tf 0 g\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\nWIDGET DA: /Helv 0 Tf 0 g\n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field5\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\nAFTER REPLACE DA: /Helv 0 Tf 0 g\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\nWIDGET DA: /Helv 0 Tf 0 g\n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field6\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\nAFTER REPLACE DA: /Helv 0 Tf 0 g\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\nWIDGET DA: /Helv 0 Tf 0 g\n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field7\nDA: /Helv 0 Tf 0 g \nDA (via COSObject): null\nWIDGET DA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\nAFTER REPLACE WIDGET DA: /Helv 0 Tf 0 g\nWIDGET DA: /MSReferenceSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field8\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\nAFTER REPLACE DA: /Helv 0 Tf 0 g\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\nWIDGET DA: /Helv 0 Tf 0 g\n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field9\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\nAFTER REPLACE DA: /Helv 0 Tf 0 g\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\nWIDGET DA: /Helv 0 Tf 0 g\n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field10\nDA: /Helv 0 Tf 0.000000 0.000000 0.000000 rg \nDA (via COSObject): /Helv 0 Tf 0.000000 0.000000 0.000000 rg \nWIDGET DA: /Helv 0 Tf 0.000000 0.000000 0.000000 rg \n\nfield mapping name: null\nfield alternate name: null\nfield partial name: field11\nDA: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nDA (via COSObject): /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg \nfont: /MicrosoftSansSerif 0 Tf 0.000000 0.000000 0.000000 rg  not found, replacing with Helv\nAFTER REPLACE DA: /Helv 0 Tf 0 g\nAFTER REPLACE DA (via COSObject): /Helv 0 Tf 0 g\nWIDGET DA: /Helv 0 Tf 0 g\n\n\n\n\nsetting value on field: field1\nsetting value on field: field2\nsetting value on field: field3\nsetting value on field: field4\nsetting value on field: field5\nsetting value on field: field6\nsetting value on field: field7\nsetting value on field: field8\nsetting value on field: field9\nsetting value on field: field10\nsetting value on field: field11\n</code></pre>\n<p>field7 was the issue in my case.</p>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638198405,"creation_date":1638198405,"answer_id":70156861,"question_id":70156671,"body_markdown":"The easiest is using i.e. [Apache Tika library][1], if you download `tika-app.jar` and drop it to [JMeter Classpath][2] you will be able to detect MIME types of nearly any file from any [JSR223 Test Element][3] or [__groovy() function][4] like:\r\n\r\n    new org.apache.Tika().detect(&quot;example.docx&quot;)  \r\n\r\nDemo:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\nMore information on Groovy scripting in JMeter: [Apache Groovy - Why and How You Should Use It][6]\r\n\r\n\r\n  [1]: https://tika.apache.org/\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#classpath\r\n  [3]: https://jmeter.apache.org/usermanual/best-practices.html#jsr223\r\n  [4]: https://jmeter.apache.org/usermanual/functions.html#__groovy\r\n  [5]: https://i.stack.imgur.com/5A5JT.png\r\n  [6]: https://www.blazemeter.com/blog/groovy-new-black","title":"Apache JMeter set MIME type to substring of json","body":"<p>The easiest is using i.e. <a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">Apache Tika library</a>, if you download <code>tika-app.jar</code> and drop it to <a href=\"https://jmeter.apache.org/usermanual/get-started.html#classpath\" rel=\"nofollow noreferrer\">JMeter Classpath</a> you will be able to detect MIME types of nearly any file from any <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#jsr223\" rel=\"nofollow noreferrer\">JSR223 Test Element</a> or <a href=\"https://jmeter.apache.org/usermanual/functions.html#__groovy\" rel=\"nofollow noreferrer\">__groovy() function</a> like:</p>\n<pre><code>new org.apache.Tika().detect(&quot;example.docx&quot;)  \n</code></pre>\n<p>Demo:</p>\n<p><a href=\"https://i.stack.imgur.com/5A5JT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5A5JT.png\" alt=\"enter image description here\" /></a></p>\n<p>More information on Groovy scripting in JMeter: <a href=\"https://www.blazemeter.com/blog/groovy-new-black\" rel=\"nofollow noreferrer\">Apache Groovy - Why and How You Should Use It</a></p>\n"}],"owner":{"account_id":20914475,"reputation":1,"user_id":17394115,"display_name":"Beepboop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638264733,"creation_date":1638197527,"question_id":70156671,"body_markdown":"My current Apache JMeter test plan is basically a ForEach loop through a bunch of files. It has to set the MIME type of my file depending on the file extension.\r\n\r\nE.g. \r\n\r\n    &quot;fileName&quot;: &quot;example.docx&quot;\r\n\r\nSo now I could easily extract the fileName using the json extractor. \r\n\r\nMy question is how can I continue using this in order to set the MIME type using an if controller. (create a fileExtension variable, substring fileName -&gt; if fileExtension == docx / if fileName.contains(&quot;docx&quot;) -&gt; set MIME type to application/vnd.openxmlformats-officedocument.wordprocessingml.document)\r\n\r\n\r\nSince I am new to JMeter I would appreciate any help on how to do either of those.\r\n\r\nThanks!","title":"Apache JMeter set MIME type to substring of json","body":"<p>My current Apache JMeter test plan is basically a ForEach loop through a bunch of files. It has to set the MIME type of my file depending on the file extension.</p>\n<p>E.g.</p>\n<pre><code>&quot;fileName&quot;: &quot;example.docx&quot;\n</code></pre>\n<p>So now I could easily extract the fileName using the json extractor.</p>\n<p>My question is how can I continue using this in order to set the MIME type using an if controller. (create a fileExtension variable, substring fileName -&gt; if fileExtension == docx / if fileName.contains(&quot;docx&quot;) -&gt; set MIME type to application/vnd.openxmlformats-officedocument.wordprocessingml.document)</p>\n<p>Since I am new to JMeter I would appreciate any help on how to do either of those.</p>\n<p>Thanks!</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1413225293,"post_id":26346060,"comment_id":41354478,"body_markdown":"Note that you should specify which JSON kit you&#39;re using.  What you want to do is trivial in several of them.","body":"Note that you should specify which JSON kit you&#39;re using.  What you want to do is trivial in several of them."},{"owner":{"account_id":416988,"reputation":1825,"user_id":792725,"accept_rate":78,"display_name":"aRestless"},"score":0,"creation_date":1413227222,"post_id":26346060,"comment_id":41355363,"body_markdown":"As said in the title, I&#39;m using javax.json. Although this is a high-level set of interfaces and factory classes only and implementations are somewhat independent from that, the answer stays the same: When using javax.json, it&#39;s not possible.","body":"As said in the title, I&#39;m using javax.json. Although this is a high-level set of interfaces and factory classes only and implementations are somewhat independent from that, the answer stays the same: When using javax.json, it&#39;s not possible."}],"answers":[{"tags":[],"owner":{"account_id":416988,"reputation":1825,"user_id":792725,"accept_rate":78,"display_name":"aRestless"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1413224275,"creation_date":1413224275,"answer_id":26346341,"question_id":26346060,"body_markdown":"Okay, I just figured it out myself: **You can&#39;t**.\r\n\r\n`JsonObject` is supposed to be immutable. Even if `JsonObject.put(key, value)` exists, at runtime this will throw an `UnsupportedOperationException`. So if you want to add a key/value-pair to an existing `JsonObject` you&#39;ll need something like\r\n\r\n\tprivate JsonObjectBuilder jsonObjectToBuilder(JsonObject jo) {\r\n\t\tJsonObjectBuilder job = Json.createObjectBuilder();\r\n\t\t\r\n\t\tfor (Entry&lt;String, JsonValue&gt; entry : jo.entrySet()) {\r\n\t\t\tjob.add(entry.getKey(), entry.getValue());\r\n\t\t}\r\n\t\t\r\n\t\treturn job;\r\n\t}\r\n\r\nand then use it with\r\n\r\n    JsonObject jo = ...;\r\n    jo = jsonObjectToBuilder(jo).add(&quot;numberProperty&quot;, 42).build();","title":"javax.json: Add new JsonNumber to existing JsonObject","body":"<p>Okay, I just figured it out myself: <strong>You can't</strong>.</p>\n\n<p><code>JsonObject</code> is supposed to be immutable. Even if <code>JsonObject.put(key, value)</code> exists, at runtime this will throw an <code>UnsupportedOperationException</code>. So if you want to add a key/value-pair to an existing <code>JsonObject</code> you'll need something like</p>\n\n<pre><code>private JsonObjectBuilder jsonObjectToBuilder(JsonObject jo) {\n    JsonObjectBuilder job = Json.createObjectBuilder();\n\n    for (Entry&lt;String, JsonValue&gt; entry : jo.entrySet()) {\n        job.add(entry.getKey(), entry.getValue());\n    }\n\n    return job;\n}\n</code></pre>\n\n<p>and then use it with</p>\n\n<pre><code>JsonObject jo = ...;\njo = jsonObjectToBuilder(jo).add(\"numberProperty\", 42).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1849412,"reputation":2631,"user_id":1676293,"accept_rate":55,"display_name":"Scott Boring"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1525132352,"creation_date":1525132352,"answer_id":50109710,"question_id":26346060,"body_markdown":"JsonObject is immutable but can be copied into a JsonObjecBuilder using lambdas.\r\n\r\n\r\n    JsonObject source = ...\r\n    JsonObjectBuilder target = Json.createObjectBuilder();\r\n    source.forEach(target::add); // copy source into target\r\n    target.add(&quot;name&quot;, &quot;value&quot;); // add or update values\r\n    JsonObject destination = target.build(); // build destination\r\n\r\n","title":"javax.json: Add new JsonNumber to existing JsonObject","body":"<p>JsonObject is immutable but can be copied into a JsonObjecBuilder using lambdas.</p>\n\n<pre><code>JsonObject source = ...\nJsonObjectBuilder target = Json.createObjectBuilder();\nsource.forEach(target::add); // copy source into target\ntarget.add(\"name\", \"value\"); // add or update values\nJsonObject destination = target.build(); // build destination\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15682553,"reputation":71,"user_id":11316119,"display_name":"mark786110"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1638264541,"creation_date":1554455382,"answer_id":55531903,"question_id":26346060,"body_markdown":"Try using JsonPatch\r\n\r\n    String json =&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;}&quot;;\r\n    JsonObject jo = Json.createReader(new StringReader(json)).readObject();\r\n    JsonPatch patch = Json.createPatchBuilder()\r\n            .add(&quot;/last&quot;,&quot;Doe&quot;)\r\n            .build();\r\n    jo = patch.apply(jo);\r\n    System.out.println(jo);\r\n\r\n","title":"javax.json: Add new JsonNumber to existing JsonObject","body":"<p>Try using JsonPatch</p>\n<pre><code>String json =&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;}&quot;;\nJsonObject jo = Json.createReader(new StringReader(json)).readObject();\nJsonPatch patch = Json.createPatchBuilder()\n        .add(&quot;/last&quot;,&quot;Doe&quot;)\n        .build();\njo = patch.apply(jo);\nSystem.out.println(jo);\n</code></pre>\n"}],"owner":{"account_id":416988,"reputation":1825,"user_id":792725,"accept_rate":78,"display_name":"aRestless"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15585,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":26346341,"answer_count":3,"score":19,"last_activity_date":1638264541,"creation_date":1413223171,"question_id":26346060,"body_markdown":"I want to add properties to an existing instance of `JsonObject`. If this property is `boolean`, this is quite easy:\r\n\r\n    JsonObject jo = ....;\r\n    jo.put(&quot;booleanProperty&quot;, JsonValue.TRUE);\r\n\r\nHowever, I also want to add a `JsonNumber` but I couldn&#39;t find a way to create an instance of `JsonNumber`. Here&#39;s what I could do:\r\n\r\n    JsonObjectBuilder job = Json.createObjectBuilder();\r\n    JsonNumber jn = job.add(&quot;number&quot;, 42).build().getJsonNumber(&quot;number&quot;);\r\n    jo.put(&quot;numberProperty&quot;, jn);\r\n\r\nBut I couldn&#39;t think of a more dirty way to accomplish my task. So - is there are more direct, cleaner approach to add a `JsonNumber` to an existing instance of `JsonObject`?","title":"javax.json: Add new JsonNumber to existing JsonObject","body":"<p>I want to add properties to an existing instance of <code>JsonObject</code>. If this property is <code>boolean</code>, this is quite easy:</p>\n\n<pre><code>JsonObject jo = ....;\njo.put(\"booleanProperty\", JsonValue.TRUE);\n</code></pre>\n\n<p>However, I also want to add a <code>JsonNumber</code> but I couldn't find a way to create an instance of <code>JsonNumber</code>. Here's what I could do:</p>\n\n<pre><code>JsonObjectBuilder job = Json.createObjectBuilder();\nJsonNumber jn = job.add(\"number\", 42).build().getJsonNumber(\"number\");\njo.put(\"numberProperty\", jn);\n</code></pre>\n\n<p>But I couldn't think of a more dirty way to accomplish my task. So - is there are more direct, cleaner approach to add a <code>JsonNumber</code> to an existing instance of <code>JsonObject</code>?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":1,"creation_date":1638261504,"post_id":70166380,"comment_id":124034984,"body_markdown":"Please take the [tour] first. Also read [ask] either. After these actions, come back and ask your questions.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> first. Also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> either. After these actions, come back and ask your questions."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1638262547,"post_id":70166380,"comment_id":124035318,"body_markdown":"What do you mean by &quot;8bit array&quot;?","body":"What do you mean by &quot;8bit array&quot;?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1638263951,"post_id":70166380,"comment_id":124035816,"body_markdown":"how about `byte b = (byte)input;` ?? (A byte is (accidentally/fortunately) a 8-bit-array;) ..to &quot;unwrap it unsigned&quot; again (0...255): `System.out.println(b &amp; 0xFF);`","body":"how about <code>byte b = (byte)input;</code> ?? (A byte is (accidentally/fortunately) a 8-bit-array;) ..to &quot;unwrap it unsigned&quot; again (0...255): <code>System.out.println(b &amp; 0xFF);</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1638265078,"post_id":70166380,"comment_id":124036246,"body_markdown":"to get something like `b[3]`, you can: `(b &gt;&gt; (3-1)) &amp; 1;`","body":"to get something like <code>b[3]</code>, you can: <code>(b &gt;&gt; (3-1)) &amp; 1;</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1638265313,"post_id":70166380,"comment_id":124036345,"body_markdown":"... there is no `bit` (type) in java ... and in (current/&quot;modern&quot;) computer architecture the smallest &quot;addressable&quot; memory unit is byte... But BitSet is a *very nice &amp; useful* class (backed by a `long[]`)","body":"... there is no <code>bit</code> (type) in java ... and in (current/&quot;modern&quot;) computer architecture the smallest &quot;addressable&quot; memory unit is byte... But BitSet is a <i>very nice &amp; useful</i> class (backed by a <code>long[]</code>)"}],"answers":[{"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638262032,"creation_date":1638262032,"answer_id":70166526,"question_id":70166380,"body_markdown":"You can use `Bit Masking` to convert an int to binary.\r\n```java\r\npublic static int[] getBits(int number) {\r\n    assert (0 &lt;= number &amp;&amp; number &lt;= 255);\r\n    int[] bits = new int[8];\r\n    for (int i = 7; i &gt;=0; i--) {\r\n        int mask = 1 &lt;&lt; i;\r\n        bits[7-i] = (number &amp; mask) != 0 ? 1 : 0;\r\n    }\r\n    return bits;\r\n}\r\n```","title":"How to create a 8bit array where the array can only store 0 and 1 in java","body":"<p>You can use <code>Bit Masking</code> to convert an int to binary.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] getBits(int number) {\n    assert (0 &lt;= number &amp;&amp; number &lt;= 255);\n    int[] bits = new int[8];\n    for (int i = 7; i &gt;=0; i--) {\n        int mask = 1 &lt;&lt; i;\n        bits[7-i] = (number &amp; mask) != 0 ? 1 : 0;\n    }\n    return bits;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638264521,"creation_date":1638262597,"answer_id":70166638,"question_id":70166380,"body_markdown":"You may look at [BitSet](https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html) class, which _implements a vector of bits that grows as needed. Each component of the bit set has a boolean value. The bits of a BitSet are indexed by nonnegative integers. Individual indexed bits can be examined_:\r\n```java\r\nBitSet myByte = new BitSet(8);\r\n```\r\nTo convert the `byte` value to the `BitSet`, there are methods [`BitSet.valueOf`](https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#valueOf-byte:A-) and [`BitSet::toByteArray`](https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#toByteArray--):\r\n```java\r\nbyte b = 111;\r\nBitSet bits = BitSet.valueOf(new byte[]{b});\r\n\r\nbyte fromBits = bits.toByteArray()[0];\r\n```","title":"How to create a 8bit array where the array can only store 0 and 1 in java","body":"<p>You may look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html\" rel=\"nofollow noreferrer\">BitSet</a> class, which <em>implements a vector of bits that grows as needed. Each component of the bit set has a boolean value. The bits of a BitSet are indexed by nonnegative integers. Individual indexed bits can be examined</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BitSet myByte = new BitSet(8);\n</code></pre>\n<p>To convert the <code>byte</code> value to the <code>BitSet</code>, there are methods <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#valueOf-byte:A-\" rel=\"nofollow noreferrer\"><code>BitSet.valueOf</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#toByteArray--\" rel=\"nofollow noreferrer\"><code>BitSet::toByteArray</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b = 111;\nBitSet bits = BitSet.valueOf(new byte[]{b});\n\nbyte fromBits = bits.toByteArray()[0];\n</code></pre>\n"}],"owner":{"account_id":23500194,"reputation":1,"user_id":17550172,"display_name":"user17550172"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1638279411,"answer_count":2,"score":-1,"last_activity_date":1638264521,"creation_date":1638261210,"question_id":70166380,"body_markdown":"How to convert the\r\nnumber(random integer within 0 – 255) to binary and store the bit into an 8 bit array.(java)","title":"How to create a 8bit array where the array can only store 0 and 1 in java","body":"<p>How to convert the\nnumber(random integer within 0 – 255) to binary and store the bit into an 8 bit array.(java)</p>\n"},{"tags":["java","spring-boot","mongodb-query","spring-data-mongodb"],"owner":{"account_id":115291,"reputation":268,"user_id":302796,"accept_rate":67,"display_name":"sankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638264509,"creation_date":1553549254,"question_id":55346654,"body_markdown":"    [\r\n       {\r\n          &quot;categories&quot;:{\r\n             &quot;category&quot;:[\r\n                &quot;sub1&quot;,\r\n                &quot;sub2&quot;,\r\n                &quot;sub3&quot;\r\n             ],\r\n             &quot;category2&quot;:[\r\n                &quot;sub1&quot;,\r\n                &quot;sub2&quot;\r\n             ]\r\n          }\r\n       },\r\n       {\r\n          &quot;categories&quot;:{\r\n             &quot;category&quot;:[\r\n                &quot;sub1&quot;,\r\n                &quot;sub4&quot;\r\n             ],\r\n             &quot;category2&quot;:[\r\n                &quot;sub5&quot;,\r\n                &quot;sub4&quot;\r\n             ]\r\n          }\r\n       }\r\n    ]\r\n\r\nwant to get the distinct category and category2 using Spring data. I have tried both Aggregation and Distinct both slow on performance i hope i am missing something \r\n\r\nAggregation: \r\n\r\n    AggregationResults&lt;Category&gt; results = mongoTemplate.aggregate(Aggregation.newAggregation(Aggregation.group(categoryFields.stream().toArray(String[]::new))),&quot;recipe&quot;,Category.class );\r\n\r\nDistinct:\r\n\r\n     categoryFields.stream().forEach(cat -&gt; {\r\n                categories.put(cat, mongoTemplate.findDistinct(query, &quot;categories.&quot; + cat, &quot;recipe&quot;, Recipe.class, Category.class));\r\n            });\r\n\r\nAggregation taking 11sec and Distinct taking 3 secs both slow on performance side . ","title":"Spring data mongodb collect distinct subcollections - Performance Tuning","body":"<pre><code>[\n   {\n      \"categories\":{\n         \"category\":[\n            \"sub1\",\n            \"sub2\",\n            \"sub3\"\n         ],\n         \"category2\":[\n            \"sub1\",\n            \"sub2\"\n         ]\n      }\n   },\n   {\n      \"categories\":{\n         \"category\":[\n            \"sub1\",\n            \"sub4\"\n         ],\n         \"category2\":[\n            \"sub5\",\n            \"sub4\"\n         ]\n      }\n   }\n]\n</code></pre>\n\n<p>want to get the distinct category and category2 using Spring data. I have tried both Aggregation and Distinct both slow on performance i hope i am missing something </p>\n\n<p>Aggregation: </p>\n\n<pre><code>AggregationResults&lt;Category&gt; results = mongoTemplate.aggregate(Aggregation.newAggregation(Aggregation.group(categoryFields.stream().toArray(String[]::new))),\"recipe\",Category.class );\n</code></pre>\n\n<p>Distinct:</p>\n\n<pre><code> categoryFields.stream().forEach(cat -&gt; {\n            categories.put(cat, mongoTemplate.findDistinct(query, \"categories.\" + cat, \"recipe\", Recipe.class, Category.class));\n        });\n</code></pre>\n\n<p>Aggregation taking 11sec and Distinct taking 3 secs both slow on performance side . </p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1438447088,"creation_date":1438447088,"answer_id":31763841,"question_id":31763701,"body_markdown":"The javadoc of [`JsonArray`][1] states\r\n\r\n&gt; `JsonArray` represents an immutable JSON array (an ordered sequence of\r\n&gt; zero or more values). **It also provides an unmodifiable list view of\r\n&gt; the values in the array.**\r\n\r\nYou can&#39;t change it. Create a new one with the value(s) you want.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/json/JsonArray.html","title":"How to change JsonObject in JsonArray?","body":"<p>The javadoc of <a href=\"http://docs.oracle.com/javaee/7/api/javax/json/JsonArray.html\" rel=\"nofollow\"><code>JsonArray</code></a> states</p>\n\n<blockquote>\n  <p><code>JsonArray</code> represents an immutable JSON array (an ordered sequence of\n  zero or more values). <strong>It also provides an unmodifiable list view of\n  the values in the array.</strong></p>\n</blockquote>\n\n<p>You can't change it. Create a new one with the value(s) you want.</p>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638264305,"creation_date":1632927461,"answer_id":69378830,"question_id":31763701,"body_markdown":"**JsonObject and JsonArray are immutable** so you cannot modify the object , you can use this example and try to inspire from it :\r\n\r\n creation of a new JsonObject who contains the same values and add some elements to it ..\r\n\r\n**Example :**\r\n\r\n\r\n        import java.io.ByteArrayInputStream;\r\n        import java.io.InputStream;\r\n\r\n        import javax.json.Json;\r\n        import javax.json.JsonArray;\r\n        import javax.json.JsonArrayBuilder;\r\n        import javax.json.JsonObject;\r\n        import javax.json.JsonObjectBuilder;\r\n        import javax.json.JsonReader;\r\n        import javax.json.JsonValue;\r\n\r\n\r\n        public class Jsonizer {\r\n        public static void main(String[] args) {\r\n\r\n        try {\r\n        String s = &quot;{\\&quot;persons\\&quot;: [ {\\&quot;name\\&quot;:\\&quot;oussama\\&quot;,\\&quot;age\\&quot;:\\&quot;30\\&quot;}, {\\&quot;name\\&quot;:\\&quot;amine\\&quot;,\\&quot;age\\&quot;:\\&quot;25\\&quot;} ]}&quot;;\r\n        InputStream is = new ByteArrayInputStream(s.getBytes());\r\n        JsonReader jr = Json.createReader(is);\r\n        JsonObject jo = jr.readObject();\r\n        System.out.println(&quot;Before :&quot;);\r\n        System.out.println(jo);\r\n        JsonArray ja = jo.getJsonArray(&quot;persons&quot;);\r\n\r\n        InputStream targetStream = new ByteArrayInputStream(&quot;{\\&quot;name\\&quot;:\\&quot;sami\\&quot;,\\&quot;age\\&quot;:\\&quot;50\\&quot;}&quot;.getBytes());\r\n        jr = Json.createReader(targetStream);\r\n        JsonObject newJo = jr.readObject();\r\n        JsonArrayBuilder jsonArraybuilder = Json.createArrayBuilder();\r\n        jsonArraybuilder.add(newJo);\r\n        \r\n        for (JsonValue jValue : ja) {\r\n            jsonArraybuilder.add(jValue);\r\n        }\r\n        \r\n        ja = jsonArraybuilder.build();\r\n        JsonObjectBuilder jsonObjectBuilder = Json.createObjectBuilder();\r\n        jsonObjectBuilder.add(&quot;persons&quot;, ja);\r\n        JsonObject jsonAfterAdd = jsonObjectBuilder.build();\r\n        System.out.println(&quot;After&quot;);\r\n        System.out.println(jsonAfterAdd.toString());\r\n\r\n    } catch (Exception e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\n    }\r\n    }\r\n\r\n**Output :**\r\n\r\n         Before :\r\n         {&quot;persons&quot;:[{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\r\n         After\r\n         {&quot;persons&quot;:[{&quot;name&quot;:&quot;sami&quot;,&quot;age&quot;:&quot;50&quot;},{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\r\n\r\n","title":"How to change JsonObject in JsonArray?","body":"<p><strong>JsonObject and JsonArray are immutable</strong> so you cannot modify the object , you can use this example and try to inspire from it :</p>\n<p>creation of a new JsonObject who contains the same values and add some elements to it ..</p>\n<p><strong>Example :</strong></p>\n<pre><code>    import java.io.ByteArrayInputStream;\n    import java.io.InputStream;\n\n    import javax.json.Json;\n    import javax.json.JsonArray;\n    import javax.json.JsonArrayBuilder;\n    import javax.json.JsonObject;\n    import javax.json.JsonObjectBuilder;\n    import javax.json.JsonReader;\n    import javax.json.JsonValue;\n\n\n    public class Jsonizer {\n    public static void main(String[] args) {\n\n    try {\n    String s = &quot;{\\&quot;persons\\&quot;: [ {\\&quot;name\\&quot;:\\&quot;oussama\\&quot;,\\&quot;age\\&quot;:\\&quot;30\\&quot;}, {\\&quot;name\\&quot;:\\&quot;amine\\&quot;,\\&quot;age\\&quot;:\\&quot;25\\&quot;} ]}&quot;;\n    InputStream is = new ByteArrayInputStream(s.getBytes());\n    JsonReader jr = Json.createReader(is);\n    JsonObject jo = jr.readObject();\n    System.out.println(&quot;Before :&quot;);\n    System.out.println(jo);\n    JsonArray ja = jo.getJsonArray(&quot;persons&quot;);\n\n    InputStream targetStream = new ByteArrayInputStream(&quot;{\\&quot;name\\&quot;:\\&quot;sami\\&quot;,\\&quot;age\\&quot;:\\&quot;50\\&quot;}&quot;.getBytes());\n    jr = Json.createReader(targetStream);\n    JsonObject newJo = jr.readObject();\n    JsonArrayBuilder jsonArraybuilder = Json.createArrayBuilder();\n    jsonArraybuilder.add(newJo);\n    \n    for (JsonValue jValue : ja) {\n        jsonArraybuilder.add(jValue);\n    }\n    \n    ja = jsonArraybuilder.build();\n    JsonObjectBuilder jsonObjectBuilder = Json.createObjectBuilder();\n    jsonObjectBuilder.add(&quot;persons&quot;, ja);\n    JsonObject jsonAfterAdd = jsonObjectBuilder.build();\n    System.out.println(&quot;After&quot;);\n    System.out.println(jsonAfterAdd.toString());\n\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n\n}\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>     Before :\n     {&quot;persons&quot;:[{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\n     After\n     {&quot;persons&quot;:[{&quot;name&quot;:&quot;sami&quot;,&quot;age&quot;:&quot;50&quot;},{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\n</code></pre>\n"}],"owner":{"account_id":6721030,"reputation":33,"user_id":5181053,"display_name":"Alchemik123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2777,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31763841,"answer_count":2,"score":3,"last_activity_date":1638264305,"creation_date":1438446281,"question_id":31763701,"body_markdown":"I&#39;m using `javax.json` and when I tried change `jsonObject` in my `jsonArray`:\r\n \r\n    String jsonString = &quot;[{\\&quot;name\\&quot;:\\&quot;xyz\\&quot;,&quot; +\r\n    \t\t\t\t\t\t&quot;\\&quot;URL\\&quot;:\\&quot;http://example.com\\&quot;}]&quot;;\r\n    JsonReader jsonReader = Json.createReader(new StringReader(jsonString));\r\n    JsonArray jsonArray = jsonReader.readArray();\r\n    \r\n    String jsonNewString = &quot;{\\&quot;name\\&quot;:\\&quot;zyx\\&quot;,&quot;\r\n    \t\t\t\t\t\t + &quot;\\&quot;URL\\&quot;:\\&quot;http://example2.com\\&quot;}]&quot;;   \r\n    jsonReader = Json.createReader(new StringReader(jsonNewString));\r\n    JsonObject jsonObject = jsonReader.readObject();\r\n    jsonReader.close();\r\n    \r\n    jsonArray.remove(0);\r\n    jsonArray.add(0, jsonObject);\r\n\r\nI got this exception:    \r\n\r\n    java.lang.UnsupportedOperationException\r\n    at java.util.AbstractList.remove(AbstractList.java:161)\r\n\r\nI also tried:  `jsonArray.set(0, jsonObject);`, and got the same `UnsupportedOperationException`.\r\n","title":"How to change JsonObject in JsonArray?","body":"<p>I'm using <code>javax.json</code> and when I tried change <code>jsonObject</code> in my <code>jsonArray</code>:</p>\n\n<pre><code>String jsonString = \"[{\\\"name\\\":\\\"xyz\\\",\" +\n                        \"\\\"URL\\\":\\\"http://example.com\\\"}]\";\nJsonReader jsonReader = Json.createReader(new StringReader(jsonString));\nJsonArray jsonArray = jsonReader.readArray();\n\nString jsonNewString = \"{\\\"name\\\":\\\"zyx\\\",\"\n                         + \"\\\"URL\\\":\\\"http://example2.com\\\"}]\";   \njsonReader = Json.createReader(new StringReader(jsonNewString));\nJsonObject jsonObject = jsonReader.readObject();\njsonReader.close();\n\njsonArray.remove(0);\njsonArray.add(0, jsonObject);\n</code></pre>\n\n<p>I got this exception:    </p>\n\n<pre><code>java.lang.UnsupportedOperationException\nat java.util.AbstractList.remove(AbstractList.java:161)\n</code></pre>\n\n<p>I also tried:  <code>jsonArray.set(0, jsonObject);</code>, and got the same <code>UnsupportedOperationException</code>.</p>\n"},{"tags":["java","jdbc","mariadb","multi-master-replication"],"owner":{"display_name":"user15012700"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638263963,"creation_date":1638260559,"question_id":70166257,"body_markdown":"I am going to use Galera Load Balancer for Java JDBC URL for a multi-master Galera DB cluster. What are the correct states for that?\r\n\r\nMy JDBC URL is like this:\r\n\r\n    jdbc:mariadb:loadbalance//10.0.0.4:3306,10.0.0.5:3306/mydb?galeraAllowedState=4,2\r\n\r\nIs it OK to use allowed states as 4 and 2? The recommended was 4, but the DB system also allows connections when it&#39;s state is 2 (donor).","title":"How to effectively use Galera Load Balancer with JDBC URL?","body":"<p>I am going to use Galera Load Balancer for Java JDBC URL for a multi-master Galera DB cluster. What are the correct states for that?</p>\n<p>My JDBC URL is like this:</p>\n<pre><code>jdbc:mariadb:loadbalance//10.0.0.4:3306,10.0.0.5:3306/mydb?galeraAllowedState=4,2\n</code></pre>\n<p>Is it OK to use allowed states as 4 and 2? The recommended was 4, but the DB system also allows connections when it's state is 2 (donor).</p>\n"},{"tags":["java","datetime-conversion"],"answers":[{"tags":[],"owner":{"account_id":6269053,"reputation":134,"user_id":7321132,"accept_rate":100,"display_name":"Urko Pineda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494935989,"creation_date":1494935989,"answer_id":44000865,"question_id":44000755,"body_markdown":"Have you tried changing the format to `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.sssssssZ&quot;`?\r\n\r\nAlso, when you type `Z` in your Date object, you should write the time zone designator, for example, &quot;2017-03-31T10:38:14.4723017+01:00&quot;.","title":"yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSS&#39;Z&#39; format","body":"<p>Have you tried changing the format to <code>\"yyyy-MM-dd'T'HH:mm:ss.sssssssZ\"</code>?</p>\n\n<p>Also, when you type <code>Z</code> in your Date object, you should write the time zone designator, for example, \"2017-03-31T10:38:14.4723017+01:00\".</p>\n"},{"tags":[],"owner":{"account_id":7825432,"reputation":2465,"user_id":5917104,"display_name":"Riaan Nel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1494936281,"creation_date":1494936281,"answer_id":44000968,"question_id":44000755,"body_markdown":"Milliseconds (SSS) can only be three digits.  On more than that, the date rolls over - e.g. 10:38:14.1000 becomes 10:38:15.000.  Add a couple of million milliseconds...  and you get the behaviour that you&#39;re seeing now.\r\n\r\nTry this.\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;);\r\n    Date c = sdf.parse(&quot;2017-03-31T10:38:14.472Z&quot;);\r\n\r\n    System.out.println(c);\r\n\r\n    DateFormat istFormat = new SimpleDateFormat();\r\n    DateFormat gmtFormat = new SimpleDateFormat();\r\n    TimeZone gmtTime = TimeZone.getTimeZone(&quot;GMT&quot;);\r\n    TimeZone istTime = TimeZone.getTimeZone(&quot;IST&quot;);\r\n\r\n    istFormat.setTimeZone(gmtTime);\r\n    gmtFormat.setTimeZone(istTime);\r\n    System.out.println(&quot;GMT Time: &quot; + istFormat.format(c));\r\n    System.out.println(&quot;IST Time: &quot; + gmtFormat.format(c));","title":"yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSS&#39;Z&#39; format","body":"<p>Milliseconds (SSS) can only be three digits.  On more than that, the date rolls over - e.g. 10:38:14.1000 becomes 10:38:15.000.  Add a couple of million milliseconds...  and you get the behaviour that you're seeing now.</p>\n\n<p>Try this.</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS\");\nDate c = sdf.parse(\"2017-03-31T10:38:14.472Z\");\n\nSystem.out.println(c);\n\nDateFormat istFormat = new SimpleDateFormat();\nDateFormat gmtFormat = new SimpleDateFormat();\nTimeZone gmtTime = TimeZone.getTimeZone(\"GMT\");\nTimeZone istTime = TimeZone.getTimeZone(\"IST\");\n\nistFormat.setTimeZone(gmtTime);\ngmtFormat.setTimeZone(istTime);\nSystem.out.println(\"GMT Time: \" + istFormat.format(c));\nSystem.out.println(\"IST Time: \" + gmtFormat.format(c));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15527624,"reputation":61,"user_id":11202002,"display_name":"Mikhail Yaskou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638263598,"creation_date":1638263598,"answer_id":70166834,"question_id":44000755,"body_markdown":"Try use this format &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSZ&quot;","title":"yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSS&#39;Z&#39; format","body":"<p>Try use this format &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSSSZ&quot;</p>\n"}],"owner":{"account_id":6463069,"reputation":67,"user_id":5006139,"display_name":"kushi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19769,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44000968,"answer_count":3,"score":2,"last_activity_date":1638263598,"creation_date":1494935659,"question_id":44000755,"body_markdown":"I am trying to convert GMT to IST. \r\n\r\n  \r\n\r\n      SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSS&quot;);\r\n      Date c= sdf.parse(&quot;2017-03-31T10:38:14.4723017Z&quot;);\r\n      \r\n      Date date = new Date();\r\n      DateFormat istFormat = new SimpleDateFormat();\r\n      DateFormat gmtFormat = new SimpleDateFormat();\r\n      TimeZone gmtTime = TimeZone.getTimeZone(&quot;GMT&quot;);\r\n      TimeZone istTime = TimeZone.getTimeZone(&quot;IST&quot;);\r\n      \r\n      istFormat.setTimeZone(gmtTime);\r\n      gmtFormat.setTimeZone(istTime);\r\n      System.out.println(&quot;GMT Time: &quot; + istFormat.format(c));\r\n      System.out.println(&quot;IST Time: &quot; + gmtFormat.format(c));\r\n    \r\n\r\nMy output is  \r\n\r\n    GMT Time: 31/3/17 6:26 AM\r\n    IST Time: 31/3/17 11:56 AM\r\n\r\nBut my actual output should be \r\n\r\n    GMT Time: 31/3/17 5:08 AM\r\n    IST Time: 31/3/17 10:38 AM\r\n\r\nWhat is wrong with my code?\r\n\r\n        \r\n\r\n","title":"yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSS&#39;Z&#39; format","body":"<p>I am trying to convert GMT to IST. </p>\n\n<pre><code>  SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSSSSS\");\n  Date c= sdf.parse(\"2017-03-31T10:38:14.4723017Z\");\n\n  Date date = new Date();\n  DateFormat istFormat = new SimpleDateFormat();\n  DateFormat gmtFormat = new SimpleDateFormat();\n  TimeZone gmtTime = TimeZone.getTimeZone(\"GMT\");\n  TimeZone istTime = TimeZone.getTimeZone(\"IST\");\n\n  istFormat.setTimeZone(gmtTime);\n  gmtFormat.setTimeZone(istTime);\n  System.out.println(\"GMT Time: \" + istFormat.format(c));\n  System.out.println(\"IST Time: \" + gmtFormat.format(c));\n</code></pre>\n\n<p>My output is  </p>\n\n<pre><code>GMT Time: 31/3/17 6:26 AM\nIST Time: 31/3/17 11:56 AM\n</code></pre>\n\n<p>But my actual output should be </p>\n\n<pre><code>GMT Time: 31/3/17 5:08 AM\nIST Time: 31/3/17 10:38 AM\n</code></pre>\n\n<p>What is wrong with my code?</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1579726202,"post_id":59309761,"comment_id":105866920,"body_markdown":"are you looking for ways to perform batch delete ?","body":"are you looking for ways to perform batch delete ?"},{"owner":{"account_id":8229771,"reputation":2191,"user_id":6190803,"accept_rate":50,"display_name":"Dylan"},"score":0,"creation_date":1579726747,"post_id":59309761,"comment_id":105867170,"body_markdown":"yes between two dates","body":"yes between two dates"}],"answers":[{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1579727298,"creation_date":1579727298,"answer_id":59868278,"question_id":59309761,"body_markdown":"I don&#39;t think it is possible using Pageable/Query annotation. You can use Bulk Write to process deletes in batches.\r\n\r\nSomething like\r\n\r\n\r\n    int count = 0;\r\n    int batch = 100; //Send 100 requests at a time\r\n    BulkOperations bulkOps = mongoTemplate.bulkOps(BulkOperations.BulkMode.UNORDERED, YourPojo.class);\r\n    List&lt;DateRange&gt; dateRanges = generateDateRanges(from, to, step); //Add a function to generate date ranges with the defined step.\r\n    \r\n    for (DateRange dateRange: dateRanges){\r\n        Query query = new Query();\r\n        Criteria criteria = new Criteria().andOperator(Criteria.where(&quot;timestamp&quot;).gte(dateRange.from), Criteria.where(&quot;timestamp&quot;).lte(dateRange.to));\r\n        query.addCriteria(criteria);\r\n        bulkOps.remove(query);\r\n        count++;\r\n        if (count == batch) {\r\n            bulkOps.execute();\r\n            count = 0;\r\n        }\r\n    }\r\n\r\n    if (count &gt; 0) {\r\n        bulkOps.execute();\r\n    }\r\n\r\n","title":"How to utilize Pageable when running a custom delete query in Spring JPA for mongodb?","body":"<p>I don't think it is possible using Pageable/Query annotation. You can use Bulk Write to process deletes in batches.</p>\n\n<p>Something like</p>\n\n<pre><code>int count = 0;\nint batch = 100; //Send 100 requests at a time\nBulkOperations bulkOps = mongoTemplate.bulkOps(BulkOperations.BulkMode.UNORDERED, YourPojo.class);\nList&lt;DateRange&gt; dateRanges = generateDateRanges(from, to, step); //Add a function to generate date ranges with the defined step.\n\nfor (DateRange dateRange: dateRanges){\n    Query query = new Query();\n    Criteria criteria = new Criteria().andOperator(Criteria.where(\"timestamp\").gte(dateRange.from), Criteria.where(\"timestamp\").lte(dateRange.to));\n    query.addCriteria(criteria);\n    bulkOps.remove(query);\n    count++;\n    if (count == batch) {\n        bulkOps.execute();\n        count = 0;\n    }\n}\n\nif (count &gt; 0) {\n    bulkOps.execute();\n}\n</code></pre>\n"}],"owner":{"account_id":8229771,"reputation":2191,"user_id":6190803,"accept_rate":50,"display_name":"Dylan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59868278,"answer_count":1,"score":1,"last_activity_date":1638263576,"creation_date":1576171047,"question_id":59309761,"body_markdown":"I am working on creating a tool allowing admins to purge data from the database. Our one collection has millions of records making deletes seize up the system. Originally I was just running a query with that returns a Page and dropping that into the standard delete. Ideally i&#39;d prefer to run the query and delete in one go.\r\n\r\n    @Query(value = &quot;{ &#39;timestamp&#39; : {$gte : ?0, $lte: ?1 }}&quot;)\r\n    public Page deleteByTimestampBetween(Date from, Date to, Pageable pageable);\r\n\r\n\r\nIs this possible, using the above code the system behaves the same where the program doesnt continue the delete function and the data isnt removed from mongo. Or is there a better approach? ","title":"How to utilize Pageable when running a custom delete query in Spring JPA for mongodb?","body":"<p>I am working on creating a tool allowing admins to purge data from the database. Our one collection has millions of records making deletes seize up the system. Originally I was just running a query with that returns a Page and dropping that into the standard delete. Ideally i'd prefer to run the query and delete in one go.</p>\n\n<pre><code>@Query(value = \"{ 'timestamp' : {$gte : ?0, $lte: ?1 }}\")\npublic Page deleteByTimestampBetween(Date from, Date to, Pageable pageable);\n</code></pre>\n\n<p>Is this possible, using the above code the system behaves the same where the program doesnt continue the delete function and the data isnt removed from mongo. Or is there a better approach? </p>\n"},{"tags":["java","mongodb","spring-data-mongodb","localdate"],"answers":[{"tags":[],"owner":{"account_id":2638471,"reputation":25863,"user_id":2282634,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1580948901,"creation_date":1580948901,"answer_id":60086047,"question_id":60085664,"body_markdown":"This is happening because MongoDB stores data in BSON format (see the [BSON spec](http://bsonspec.org/spec.html)).\r\n\r\nThere is no datatype in BSON for `Date`, there is only `Timestamp` and `UTC Datetime` both of which are stored as a 64-bit integer.  UTC datetime is the number of milliseconds since epoch, leading to the time portion being all zeroes when it is rendered.\r\n\r\nIf you want to store just the date, you&#39;ll need to use a string type.  \r\n\r\nIf the issue is how the data is displayed, you&#39;ll just need a different function to convert the timestamp returned from MongoDB to the display format you want to use.\r\n\r\n\r\n","title":"How to save LocalDate to MongoDB without time (why is mongo saving date with time even if i save just the date)?","body":"<p>This is happening because MongoDB stores data in BSON format (see the <a href=\"http://bsonspec.org/spec.html\" rel=\"noreferrer\">BSON spec</a>).</p>\n\n<p>There is no datatype in BSON for <code>Date</code>, there is only <code>Timestamp</code> and <code>UTC Datetime</code> both of which are stored as a 64-bit integer.  UTC datetime is the number of milliseconds since epoch, leading to the time portion being all zeroes when it is rendered.</p>\n\n<p>If you want to store just the date, you'll need to use a string type.  </p>\n\n<p>If the issue is how the data is displayed, you'll just need a different function to convert the timestamp returned from MongoDB to the display format you want to use.</p>\n"}],"owner":{"account_id":14049756,"reputation":137,"user_id":10148892,"display_name":"U C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4081,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60086047,"answer_count":1,"score":6,"last_activity_date":1638263534,"creation_date":1580945725,"question_id":60085664,"body_markdown":"Im trying to save **List&lt; LocalDate &gt;** in mongo (just the date without time in **yyyy-MM-dd** format),\r\nAfter my API completes the calculation of datesList , im trying to save those dates in MongoDB.\r\nUpon saving ,i see that the dates are being saved in **yyyy-MM-dd hh:mm:ss** format as shown below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan someone let me know why is this happening?\r\nIs there a way to just save the LocalDate in yyyy-MM-dd format?\r\nThank you so much.\r\n\r\nIm using SpringJPA Mongo with springboot and Java.\r\n\r\n  [1]: https://i.stack.imgur.com/6526U.png","title":"How to save LocalDate to MongoDB without time (why is mongo saving date with time even if i save just the date)?","body":"<p>Im trying to save <strong>List&lt; LocalDate ></strong> in mongo (just the date without time in <strong>yyyy-MM-dd</strong> format),\nAfter my API completes the calculation of datesList , im trying to save those dates in MongoDB.\nUpon saving ,i see that the dates are being saved in <strong>yyyy-MM-dd hh:mm:ss</strong> format as shown below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6526U.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6526U.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can someone let me know why is this happening?\nIs there a way to just save the LocalDate in yyyy-MM-dd format?\nThank you so much.</p>\n\n<p>Im using SpringJPA Mongo with springboot and Java.</p>\n"},{"tags":["java","neo4j","cypher","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638263517,"creation_date":1638263517,"answer_id":70166819,"question_id":70165895,"body_markdown":"ok this worked for me \r\n\r\n    MATCH (n:User) WHERE $surname IN labels(n) RETURN n\r\n\r\n","title":"Custom FindAll - Neo4j / SpringData","body":"<p>ok this worked for me</p>\n<pre><code>MATCH (n:User) WHERE $surname IN labels(n) RETURN n\n</code></pre>\n"}],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638263517,"creation_date":1638258489,"question_id":70165895,"body_markdown":"Assuming I have Surname as a @Param Unique *( is an Example... )*\r\nHow can I write a query with a dynamic surname in input @Param ?\r\nin this case I am trying to make a customFindAll\r\n \r\n\r\n     @Query(&quot;MATCH (n:User:`$surname`) return n &quot;)\r\n      Flux&lt;UserEntity&gt; customFindAll(@Param(&quot;surname&quot;) String surname);\r\n\r\n This query doesnt work in spring-data , but this is what I&#39;d like to have...\r\n\r\n\r\n\r\n *( Please note that I don&#39;t need the findAll for Id , but another parameter, like in this case the surname.. )*\r\n","title":"Custom FindAll - Neo4j / SpringData","body":"<p>Assuming I have Surname as a @Param Unique <em>( is an Example... )</em>\nHow can I write a query with a dynamic surname in input @Param ?\nin this case I am trying to make a customFindAll</p>\n<pre><code> @Query(&quot;MATCH (n:User:`$surname`) return n &quot;)\n  Flux&lt;UserEntity&gt; customFindAll(@Param(&quot;surname&quot;) String surname);\n</code></pre>\n<p>This query doesnt work in spring-data , but this is what I'd like to have...</p>\n<p><em>( Please note that I don't need the findAll for Id , but another parameter, like in this case the surname.. )</em></p>\n"},{"tags":["java","selenium-webdriver","appium","saucelabs"],"answers":[{"tags":[],"owner":{"account_id":51368,"reputation":1849,"user_id":153463,"accept_rate":75,"display_name":"Dylan Lacey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638263484,"creation_date":1638263484,"answer_id":70166813,"question_id":69453942,"body_markdown":"You can do this by creating an Appium session to drive Mobile Chrome, instead of Selenium.  That should allow you to interact with elements like you would in a Selenium test, but also change to the `NATIVE_APP` context to do things like dismiss popups.\r\n\r\nYou need to make a couple of changes:\r\n\r\n 1. Create an instance of `AndroidOptions` instead of `ChromeOptions`, then set the `browserName` capability to `Chrome`\r\n2. Create an `AppiumDriver` of type `WebElement` instead of `RemoteWebDriver`\r\n\r\nI was able to run a session and dismiss the popup like so:\r\n\r\n```\r\n    AndroidOptions options = new AndroidOptions();\r\n    options.setCapability(&quot;deviceName&quot;,&quot;Google Pixel 3a GoogleAPI Emulator&quot; );\r\n    options.setCapability(&quot;platformVersion&quot;, &quot;11.0&quot;);\r\n    options.setCapability(&quot;automationName&quot;, &quot;UIAutomator2&quot;);\r\n    options.setCapability(&quot;browserName&quot;, &quot;Chrome&quot;);\r\n\r\n    Map&lt;String, Object&gt; sauceOptions = new HashMap&lt;&gt;();\r\n    sauceOptions.put(&quot;name&quot;, &quot;WW&quot;);\r\n    sauceOptions.put(&quot;appiumVersion&quot;, &quot;1.20.2&quot;);\r\n    options.setCapability(&quot;sauce:options&quot;, sauceOptions);\r\n\r\n    AppiumDriver&lt;WebElement&gt; driver = new AppiumDriver&lt;WebElement&gt;(new URL(address),options);\r\n```\r\n```\r\n    driver.context(&quot;NATIVE_APP&quot;);\r\n    driver.findElement(By.xpath(&quot;.//android.widget.Button[@text=&#39;Allow&#39;]&quot;)).click();\r\n```\r\n\r\nYou might have to dismiss a second popup from Android itself, as well:\r\n```    \r\n   driver.findElement(By.xpath(&quot;.//android.widget.Button[@text=&#39;While using the app&#39;]&quot;)).click();\r\n```","title":"How to handle allow/dismiss geo location popup on Android devices","body":"<p>You can do this by creating an Appium session to drive Mobile Chrome, instead of Selenium.  That should allow you to interact with elements like you would in a Selenium test, but also change to the <code>NATIVE_APP</code> context to do things like dismiss popups.</p>\n<p>You need to make a couple of changes:</p>\n<ol>\n<li>Create an instance of <code>AndroidOptions</code> instead of <code>ChromeOptions</code>, then set the <code>browserName</code> capability to <code>Chrome</code></li>\n<li>Create an <code>AppiumDriver</code> of type <code>WebElement</code> instead of <code>RemoteWebDriver</code></li>\n</ol>\n<p>I was able to run a session and dismiss the popup like so:</p>\n<pre><code>    AndroidOptions options = new AndroidOptions();\n    options.setCapability(&quot;deviceName&quot;,&quot;Google Pixel 3a GoogleAPI Emulator&quot; );\n    options.setCapability(&quot;platformVersion&quot;, &quot;11.0&quot;);\n    options.setCapability(&quot;automationName&quot;, &quot;UIAutomator2&quot;);\n    options.setCapability(&quot;browserName&quot;, &quot;Chrome&quot;);\n\n    Map&lt;String, Object&gt; sauceOptions = new HashMap&lt;&gt;();\n    sauceOptions.put(&quot;name&quot;, &quot;WW&quot;);\n    sauceOptions.put(&quot;appiumVersion&quot;, &quot;1.20.2&quot;);\n    options.setCapability(&quot;sauce:options&quot;, sauceOptions);\n\n    AppiumDriver&lt;WebElement&gt; driver = new AppiumDriver&lt;WebElement&gt;(new URL(address),options);\n</code></pre>\n<pre><code>    driver.context(&quot;NATIVE_APP&quot;);\n    driver.findElement(By.xpath(&quot;.//android.widget.Button[@text='Allow']&quot;)).click();\n</code></pre>\n<p>You might have to dismiss a second popup from Android itself, as well:</p>\n<pre><code>   driver.findElement(By.xpath(&quot;.//android.widget.Button[@text='While using the app']&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":4721307,"reputation":17,"user_id":3819070,"accept_rate":60,"display_name":"Pushpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638263484,"creation_date":1633450329,"question_id":69453942,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI wanted to know how to handle geo location popup on Android devices\r\n\r\nbelow are some high level details\r\n\r\n1) I am using Saucelabs cloud to run my scripts\r\n2) I am using Chrome browser\r\n3) Android-emulator : Samsung Galaxy S8 Plus HD GoogleAPI Emulator\r\n   Android- realdevice : Samsung_Galaxy_S10_POC173\r\n4) Test environment : Selenium, Java, testNg\r\n\r\nI have tried all the possible ways to handle this, attached are the code snippets that I have tried\r\n\r\nInitially I thought it was an alert and tried to handle with switching to alert\r\n\r\n    driver.switchTo().alert().dismiss();\r\n\r\nThen I tried with profile, but it is working fine for windows but not for android\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    DesiredCapabilities caps = DesiredCapabilities.android();\r\n    HashMap&lt;String, Object&gt; contentSettings = new HashMap&lt;String, Object&gt;();\r\n    HashMap&lt;String, Object&gt; profile = new HashMap&lt;String, Object&gt;();\r\n    HashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    System.out.println(&quot;setting chrome options&quot;);\r\n    contentSettings.put(&quot;geolocation&quot;, 1);\r\n    profile.put(&quot;managed_default_content_settings&quot;, contentSettings);\r\n    prefs.put(&quot;profile&quot;, profile);\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);*/\r\n    caps.setCapability(ChromeOptions.CAPABILITY, options);\r\n    driver = new RemoteWebDriver(new URL(pcUrl), caps);\r\n\r\nThen I tried by giving some options, that is also not able to handle the popup\r\n\r\n    options.addArguments(&quot;start-maximized&quot;);\r\n\toptions.addArguments(&quot;test-type&quot;);\r\n\toptions.addArguments(&quot;enable-strict-powerful-feature-restrictions&quot;);\r\n\toptions.addArguments(&quot;disable-geolocation&quot;);\r\n\tcaps.setCapability(ChromeOptions.CAPABILITY, options);\r\n\tcaps = caps.merge(DesiredCapabilities.chrome());\r\n\r\nI wanted to try below \r\nhttps://www.browserstack.com/docs/automate/selenium/handle-permission-pop-ups#handle-know-your-location-pop-up\r\n\r\n    driver.context(&quot;NATIVE_APP&quot;);\r\n    driver.findElement(By.xpath(&quot;.//android.widget.Button[@text=&#39;Allow&#39;]&quot;)).click();\r\n\r\nBut I am unable to type cast AndriodDriver to RemoteWebDriver, any suggestions on this\r\n\r\nor if any other possible way is there to achieve this please let me know.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BKNm2.png","title":"How to handle allow/dismiss geo location popup on Android devices","body":"<p><a href=\"https://i.stack.imgur.com/BKNm2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BKNm2.png\" alt=\"enter image description here\" /></a></p>\n<p>I wanted to know how to handle geo location popup on Android devices</p>\n<p>below are some high level details</p>\n<ol>\n<li>I am using Saucelabs cloud to run my scripts</li>\n<li>I am using Chrome browser</li>\n<li>Android-emulator : Samsung Galaxy S8 Plus HD GoogleAPI Emulator\nAndroid- realdevice : Samsung_Galaxy_S10_POC173</li>\n<li>Test environment : Selenium, Java, testNg</li>\n</ol>\n<p>I have tried all the possible ways to handle this, attached are the code snippets that I have tried</p>\n<p>Initially I thought it was an alert and tried to handle with switching to alert</p>\n<pre><code>driver.switchTo().alert().dismiss();\n</code></pre>\n<p>Then I tried with profile, but it is working fine for windows but not for android</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\nDesiredCapabilities caps = DesiredCapabilities.android();\nHashMap&lt;String, Object&gt; contentSettings = new HashMap&lt;String, Object&gt;();\nHashMap&lt;String, Object&gt; profile = new HashMap&lt;String, Object&gt;();\nHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nSystem.out.println(&quot;setting chrome options&quot;);\ncontentSettings.put(&quot;geolocation&quot;, 1);\nprofile.put(&quot;managed_default_content_settings&quot;, contentSettings);\nprefs.put(&quot;profile&quot;, profile);\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);*/\ncaps.setCapability(ChromeOptions.CAPABILITY, options);\ndriver = new RemoteWebDriver(new URL(pcUrl), caps);\n</code></pre>\n<p>Then I tried by giving some options, that is also not able to handle the popup</p>\n<pre><code>options.addArguments(&quot;start-maximized&quot;);\noptions.addArguments(&quot;test-type&quot;);\noptions.addArguments(&quot;enable-strict-powerful-feature-restrictions&quot;);\noptions.addArguments(&quot;disable-geolocation&quot;);\ncaps.setCapability(ChromeOptions.CAPABILITY, options);\ncaps = caps.merge(DesiredCapabilities.chrome());\n</code></pre>\n<p>I wanted to try below\n<a href=\"https://www.browserstack.com/docs/automate/selenium/handle-permission-pop-ups#handle-know-your-location-pop-up\" rel=\"nofollow noreferrer\">https://www.browserstack.com/docs/automate/selenium/handle-permission-pop-ups#handle-know-your-location-pop-up</a></p>\n<pre><code>driver.context(&quot;NATIVE_APP&quot;);\ndriver.findElement(By.xpath(&quot;.//android.widget.Button[@text='Allow']&quot;)).click();\n</code></pre>\n<p>But I am unable to type cast AndriodDriver to RemoteWebDriver, any suggestions on this</p>\n<p>or if any other possible way is there to achieve this please let me know.</p>\n"},{"tags":["java","multithreading","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1638139650,"post_id":70147548,"comment_id":124002009,"body_markdown":"Your error is in the code, you don’t provide.  How did you register your observer instances and what are they?  They are not the instances created by the fxml loader.  If you want assistance you will likely need to edit the question to provide a [mcve].","body":"Your error is in the code, you don’t provide.  How did you register your observer instances and what are they?  They are not the instances created by the fxml loader.  If you want assistance you will likely need to edit the question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":1,"creation_date":1638153584,"post_id":70147548,"comment_id":124004131,"body_markdown":"With regards to the above (yes) but you&#39;re most likely doing `Game#addObserver(new ServerVIew())` or something like that, instead of actually using the `ServerView` created in the application (99.9% of problems where the Controller isn&#39;t passed through the @FXML processing).","body":"With regards to the above (yes) but you&#39;re most likely doing <code>Game#addObserver(new ServerVIew())</code> or something like that, instead of actually using the <code>ServerView</code> created in the application (99.9% of problems where the Controller isn&#39;t passed through the @FXML processing)."},{"owner":{"account_id":18725997,"reputation":152,"user_id":13652668,"display_name":"guillaumearnx"},"score":0,"creation_date":1638208478,"post_id":70147548,"comment_id":124022000,"body_markdown":"@jewelsea I add the observer in my Server class\n```java\ngame = new Game();\nServerView sv = new ServerView();\ngame.addObserver(sv);\n```","body":"@jewelsea I add the observer in my Server class <code>java game = new Game(); ServerView sv = new ServerView(); game.addObserver(sv); </code>"},{"owner":{"account_id":18725997,"reputation":152,"user_id":13652668,"display_name":"guillaumearnx"},"score":0,"creation_date":1638208541,"post_id":70147548,"comment_id":124022021,"body_markdown":"@kendavidson no, same instances  lol","body":"@kendavidson no, same instances  lol"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1638209195,"post_id":70147548,"comment_id":124022258,"body_markdown":"“no, same instances lol” -&gt; what does this mean?  How could the instance you create and the instance the fxml loader creates be the same? Are you setting the controller in the fxml loader to the instance you created like in [one part of this answer](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml).  I don’t think so.  And your code also shows you are not getting the controller from the loader which would be the other way to do this.","body":"“no, same instances lol” -&gt; what does this mean?  How could the instance you create and the instance the fxml loader creates be the same? Are you setting the controller in the fxml loader to the instance you created like in <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">one part of this answer</a>.  I don’t think so.  And your code also shows you are not getting the controller from the loader which would be the other way to do this."},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":1,"creation_date":1638209602,"post_id":70147548,"comment_id":124022409,"body_markdown":"You literally just laughed at my comment, and then posted your code showing that you&#39;re doing exactly what you laughed at.  `ServerView sv = new ServerView();`  This will NOT call through FXML and not create the `clientsList`.  I&#39;m not sure what to say.","body":"You literally just laughed at my comment, and then posted your code showing that you&#39;re doing exactly what you laughed at.  <code>ServerView sv = new ServerView();</code>  This will NOT call through FXML and not create the <code>clientsList</code>.  I&#39;m not sure what to say."},{"owner":{"account_id":18725997,"reputation":152,"user_id":13652668,"display_name":"guillaumearnx"},"score":0,"creation_date":1638210541,"post_id":70147548,"comment_id":124022723,"body_markdown":"Laugh at your comment? I may be stupid but in any case I do not see where. I am new to JavaFX and cannot speak fluent English, so please accept that some things escape me.\nIt is time to stop looking down on people.\n\nI just thought you thought I declared two ServerView with different instances in my code.","body":"Laugh at your comment? I may be stupid but in any case I do not see where. I am new to JavaFX and cannot speak fluent English, so please accept that some things escape me. It is time to stop looking down on people.  I just thought you thought I declared two ServerView with different instances in my code."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638212937,"post_id":70147548,"comment_id":124023499,"body_markdown":"See step 3 of this description of [FXMLoader operation](https://stackoverflow.com/questions/69077854/how-to-create-an-array-of-existing-javafx-objects/69081174#69081174) -&gt; “If there is a fx:controller attribute on the root element, the FXMLLoader creates an instance of the specified class”. So if you create a new instance and the loader creates a new instance, then only the loader instance will have fxml values injected.  I guess, with a high degree of certainty, that is what is happening with your code. Without a [mcve], this is speculation.","body":"See step 3 of this description of <a href=\"https://stackoverflow.com/questions/69077854/how-to-create-an-array-of-existing-javafx-objects/69081174#69081174\">FXMLoader operation</a> -&gt; “If there is a fx:controller attribute on the root element, the FXMLLoader creates an instance of the specified class”. So if you create a new instance and the loader creates a new instance, then only the loader instance will have fxml values injected.  I guess, with a high degree of certainty, that is what is happening with your code. Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, this is speculation."},{"owner":{"account_id":18725997,"reputation":152,"user_id":13652668,"display_name":"guillaumearnx"},"score":0,"creation_date":1638213885,"post_id":70147548,"comment_id":124023807,"body_markdown":"Thank&#39;s for the explaination. I think that&#39;s what is happening.","body":"Thank&#39;s for the explaination. I think that&#39;s what is happening."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1638268829,"post_id":70147548,"comment_id":124037724,"body_markdown":"When you write &quot;lol&quot; it means laughs out loud. So when you wrote, &quot;no, same instances lol&quot; you were dismissing the advice offered to you and laughing about it as though they had made a ridiculous suggestion. &quot;It is time to stop looking down on people.&quot; You can also follow this advice and not ridicule suggestions that you don&#39;t understand or find helpful.","body":"When you write &quot;lol&quot; it means laughs out loud. So when you wrote, &quot;no, same instances lol&quot; you were dismissing the advice offered to you and laughing about it as though they had made a ridiculous suggestion. &quot;It is time to stop looking down on people.&quot; You can also follow this advice and not ridicule suggestions that you don&#39;t understand or find helpful."},{"owner":{"account_id":18725997,"reputation":152,"user_id":13652668,"display_name":"guillaumearnx"},"score":0,"creation_date":1638274553,"post_id":70147548,"comment_id":124039874,"body_markdown":"&quot;no, same instances lol&quot; does not show contempt at all, sorry if we do not have the same meanings concerning a word between two languages","body":"&quot;no, same instances lol&quot; does not show contempt at all, sorry if we do not have the same meanings concerning a word between two languages"},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":1,"creation_date":1638300763,"post_id":70147548,"comment_id":124050761,"body_markdown":"If `lol` in your primary language means something other than what @matt explained, then I apologize (and accept your apology) for the confusion.  I&#39;m glad that you were able to work out the issue.","body":"If <code>lol</code> in your primary language means something other than what @matt explained, then I apologize (and accept your apology) for the confusion.  I&#39;m glad that you were able to work out the issue."},{"owner":{"account_id":18725997,"reputation":152,"user_id":13652668,"display_name":"guillaumearnx"},"score":0,"creation_date":1638302163,"post_id":70147548,"comment_id":124051299,"body_markdown":"thank you for explaining the problem to me","body":"thank you for explaining the problem to me"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638263238,"creation_date":1638256132,"answer_id":70165535,"question_id":70147548,"body_markdown":"See step 3 of this [description of FXMLoader operation](https://stackoverflow.com/questions/69077854/how-to-create-an-array-of-existing-javafx-objects/69081174#69081174):\r\n\r\n&gt; If there is a fx:controller attribute on the root element, the FXMLLoader creates an instance of the specified class. \r\n\r\nSo, if you create a new instance explicitly in your code, and the loader also creates a new instance, then only the loader instance will have fxml values injected. \r\n\r\nI guess, with a high degree of certainty, that is what is happening with your code.","title":"JavaFX Unexpected NullPointerException","body":"<p>See step 3 of this <a href=\"https://stackoverflow.com/questions/69077854/how-to-create-an-array-of-existing-javafx-objects/69081174#69081174\">description of FXMLoader operation</a>:</p>\n<blockquote>\n<p>If there is a fx:controller attribute on the root element, the FXMLLoader creates an instance of the specified class.</p>\n</blockquote>\n<p>So, if you create a new instance explicitly in your code, and the loader also creates a new instance, then only the loader instance will have fxml values injected.</p>\n<p>I guess, with a high degree of certainty, that is what is happening with your code.</p>\n"}],"owner":{"account_id":18725997,"reputation":152,"user_id":13652668,"display_name":"guillaumearnx"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1638258208,"accepted_answer_id":70165535,"answer_count":1,"score":-2,"last_activity_date":1638263238,"creation_date":1638134475,"question_id":70147548,"body_markdown":"I&#39;m working on a Game project with JavaFX and a MVC Architecture\r\n\r\nHere are one of my views\r\n\r\n```java\r\npackage fr.arnoux23u.javano.mvc.views;\r\n\r\nimport fr.arnoux23u.javano.mvc.*;\r\nimport javafx.fxml.*;\r\nimport javafx.scene.control.TextArea;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\n/**\r\n * @author arnoux23u\r\n */\r\npublic class ServerView implements Initializable, Observer {\r\n\r\n    @FXML\r\n    private TextArea clientsList;\r\n\r\n    @Override\r\n    public synchronized void update(Model m) {\r\n        System.out.println(&quot;[UPDATE] &quot;+Thread.currentThread().getName());\r\n        clientsList.setText(&quot;test&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        System.out.println(&quot;[INITIALIZE] &quot;+Thread.currentThread().getName());\r\n        clientsList.setText(&quot;Aucun joueur ici&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd my FXML File\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextArea?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;fr.arnoux23u.javano.mvc.views.ServerView&quot;&gt;\r\n    &lt;Label text=&quot;JavaNo - Server&quot;&gt;\r\n        &lt;font&gt;\r\n          &lt;Font size=&quot;23.0&quot; /&gt;\r\n        &lt;/font&gt;\r\n    &lt;/Label&gt;\r\n    &lt;Label alignment=&quot;CENTER&quot; text=&quot;Connected Clients&quot;&gt;\r\n        &lt;font&gt;\r\n          &lt;Font size=&quot;23.0&quot; /&gt;\r\n        &lt;/font&gt;\r\n    &lt;/Label&gt;\r\n    &lt;TextArea fx:id=&quot;clientsList&quot; editable=&quot;false&quot; maxWidth=&quot;200.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-focus-color: -fx-control-inner-background;&quot; text=&quot;&amp;#10;&amp;#10;&quot;&gt;\r\n      &lt;VBox.margin&gt;\r\n         &lt;Insets top=&quot;20.0&quot; /&gt;\r\n      &lt;/VBox.margin&gt;\r\n      &lt;font&gt;\r\n         &lt;Font size=&quot;18.0&quot; /&gt;\r\n      &lt;/font&gt;&lt;/TextArea&gt;\r\n&lt;/VBox&gt;\r\n```\r\nWhen I load the app, the text of the TextArea **clientsList** is correctly set to &quot;Aucun joueur ici&quot; but when I want to update the text (with MVC), I&#39;ve a `NullPointerException` on **clientsList**\r\n\r\nFirst, I thought it was a Thread Error because the Thread who runs the `update` method was not the &quot;JavaFX Application Thread&quot;\r\n\r\nSo in my MVC Controller, I use the **Platform.runlater()** method.\r\n```java\r\n@Override\r\n    public void notifyObservers() {\r\n        observers.forEach(o -&gt; {\r\n            System.out.println(&quot;[FOREACH] &quot;+Thread.currentThread().getName());\r\n            Platform.runLater(() -&gt; {\r\n                System.out.println(&quot;[PLATFORM] &quot;+Thread.currentThread().getName());\r\n                o.update(this);\r\n            });\r\n        });\r\n    }\r\n```\r\nThe output when I call the update is\r\n```\r\n[INITIALIZE] JavaFX Application Thread\r\n[FOREACH] Thread-3\r\n[PLATFORM] JavaFX Application Thread\r\n[UPDATE] JavaFX Application Thread\r\n```\r\n\r\nBut even with the runLater method, I&#39;ve a NullPointerException\r\n\r\nHere is the complete stack trace\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextArea.setText(String)&quot; because &quot;this.clientsList&quot; is null\r\n\tat fr.arnoux23u.javano/fr.arnoux23u.javano.mvc.views.ServerView.update(ServerView.java:34)\r\n\tat fr.arnoux23u.javano/fr.arnoux23u.javano.mvc.Game.lambda$notifyObservers$1(Game.java:54)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\nI hope someone can help me.\r\n\r\nThank&#39;s","title":"JavaFX Unexpected NullPointerException","body":"<p>I'm working on a Game project with JavaFX and a MVC Architecture</p>\n<p>Here are one of my views</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fr.arnoux23u.javano.mvc.views;\n\nimport fr.arnoux23u.javano.mvc.*;\nimport javafx.fxml.*;\nimport javafx.scene.control.TextArea;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\n/**\n * @author arnoux23u\n */\npublic class ServerView implements Initializable, Observer {\n\n    @FXML\n    private TextArea clientsList;\n\n    @Override\n    public synchronized void update(Model m) {\n        System.out.println(&quot;[UPDATE] &quot;+Thread.currentThread().getName());\n        clientsList.setText(&quot;test&quot;);\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        System.out.println(&quot;[INITIALIZE] &quot;+Thread.currentThread().getName());\n        clientsList.setText(&quot;Aucun joueur ici&quot;);\n    }\n}\n</code></pre>\n<p>And my FXML File</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextArea?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;fr.arnoux23u.javano.mvc.views.ServerView&quot;&gt;\n    &lt;Label text=&quot;JavaNo - Server&quot;&gt;\n        &lt;font&gt;\n          &lt;Font size=&quot;23.0&quot; /&gt;\n        &lt;/font&gt;\n    &lt;/Label&gt;\n    &lt;Label alignment=&quot;CENTER&quot; text=&quot;Connected Clients&quot;&gt;\n        &lt;font&gt;\n          &lt;Font size=&quot;23.0&quot; /&gt;\n        &lt;/font&gt;\n    &lt;/Label&gt;\n    &lt;TextArea fx:id=&quot;clientsList&quot; editable=&quot;false&quot; maxWidth=&quot;200.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-focus-color: -fx-control-inner-background;&quot; text=&quot;&amp;#10;&amp;#10;&quot;&gt;\n      &lt;VBox.margin&gt;\n         &lt;Insets top=&quot;20.0&quot; /&gt;\n      &lt;/VBox.margin&gt;\n      &lt;font&gt;\n         &lt;Font size=&quot;18.0&quot; /&gt;\n      &lt;/font&gt;&lt;/TextArea&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>When I load the app, the text of the TextArea <strong>clientsList</strong> is correctly set to &quot;Aucun joueur ici&quot; but when I want to update the text (with MVC), I've a <code>NullPointerException</code> on <strong>clientsList</strong></p>\n<p>First, I thought it was a Thread Error because the Thread who runs the <code>update</code> method was not the &quot;JavaFX Application Thread&quot;</p>\n<p>So in my MVC Controller, I use the <strong>Platform.runlater()</strong> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void notifyObservers() {\n        observers.forEach(o -&gt; {\n            System.out.println(&quot;[FOREACH] &quot;+Thread.currentThread().getName());\n            Platform.runLater(() -&gt; {\n                System.out.println(&quot;[PLATFORM] &quot;+Thread.currentThread().getName());\n                o.update(this);\n            });\n        });\n    }\n</code></pre>\n<p>The output when I call the update is</p>\n<pre><code>[INITIALIZE] JavaFX Application Thread\n[FOREACH] Thread-3\n[PLATFORM] JavaFX Application Thread\n[UPDATE] JavaFX Application Thread\n</code></pre>\n<p>But even with the runLater method, I've a NullPointerException</p>\n<p>Here is the complete stack trace</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextArea.setText(String)&quot; because &quot;this.clientsList&quot; is null\n    at fr.arnoux23u.javano/fr.arnoux23u.javano.mvc.views.ServerView.update(ServerView.java:34)\n    at fr.arnoux23u.javano/fr.arnoux23u.javano.mvc.Game.lambda$notifyObservers$1(Game.java:54)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>I hope someone can help me.</p>\n<p>Thank's</p>\n"},{"tags":["java","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":4469893,"reputation":409,"user_id":3636486,"accept_rate":25,"display_name":"user3636486"},"score":0,"creation_date":1589282274,"post_id":61749609,"comment_id":109224977,"body_markdown":"I found the answer here https://stackoverflow.com/questions/41768431/what-is-the-correct-method-to-update-a-document-while-using-mongo-cursor","body":"I found the answer here <a href=\"https://stackoverflow.com/questions/41768431/what-is-the-correct-method-to-update-a-document-while-using-mongo-cursor\" title=\"what is the correct method to update a document while using mongo cursor\">stackoverflow.com/questions/41768431/&hellip;</a>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":2,"creation_date":1589282375,"post_id":61749609,"comment_id":109225022,"body_markdown":"In MongoDB there are two collection methods [findOneAndReplace](https://docs.mongodb.com/manual/reference/method/db.collection.findOneAndReplace/) and [replaceOne](https://docs.mongodb.com/manual/reference/method/db.collection.replaceOne/) to replace a document. Spring&#39;s [MongoTemplate](https://docs.spring.io/spring-data/mongodb/docs/2.1.17.RELEASE/api/) has the `findAndReplace` method.","body":"In MongoDB there are two collection methods <a href=\"https://docs.mongodb.com/manual/reference/method/db.collection.findOneAndReplace/\" rel=\"nofollow noreferrer\">findOneAndReplace</a> and <a href=\"https://docs.mongodb.com/manual/reference/method/db.collection.replaceOne/\" rel=\"nofollow noreferrer\">replaceOne</a> to replace a document. Spring&#39;s <a href=\"https://docs.spring.io/spring-data/mongodb/docs/2.1.17.RELEASE/api/\" rel=\"nofollow noreferrer\">MongoTemplate</a> has the <code>findAndReplace</code> method."},{"owner":{"account_id":6946331,"reputation":1533,"user_id":5330655,"display_name":"Rebai Ahmed"},"score":1,"creation_date":1589288039,"post_id":61749609,"comment_id":109228291,"body_markdown":"Check this answer https://stackoverflow.com/a/49815728/5330655 , as he said just use save() on MongoTemplate","body":"Check this answer <a href=\"https://stackoverflow.com/a/49815728/5330655\">stackoverflow.com/a/49815728/5330655</a> , as he said just use save() on MongoTemplate"}],"owner":{"account_id":4469893,"reputation":409,"user_id":3636486,"accept_rate":25,"display_name":"user3636486"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638263152,"creation_date":1589280023,"question_id":61749609,"body_markdown":"I have a Mongo db in Spring boot application (spring-data-mongodb is 2.1.5).\r\n\r\nI want to update all documents by replacing their json. Get each one, modify it with jaskson and put back. Is it possible with using MongoTemplate or some other API in spring-data-mongodb?","title":"Spring Data Mongodb replace whole document as json","body":"<p>I have a Mongo db in Spring boot application (spring-data-mongodb is 2.1.5).</p>\n\n<p>I want to update all documents by replacing their json. Get each one, modify it with jaskson and put back. Is it possible with using MongoTemplate or some other API in spring-data-mongodb?</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":5832582,"reputation":456,"user_id":4596628,"display_name":"Tony"},"score":0,"creation_date":1592445847,"post_id":62438435,"comment_id":110430851,"body_markdown":"Is the rest of your application setup properly? Do you have MongoDb up and running? Need more info. I think at the very least is does spring currently connect to a running MongoDb instance?","body":"Is the rest of your application setup properly? Do you have MongoDb up and running? Need more info. I think at the very least is does spring currently connect to a running MongoDb instance?"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":1,"creation_date":1592462222,"post_id":62438435,"comment_id":110434694,"body_markdown":"To work with MongoDB database data you can use the Spring Data MongoDB APIs _or_ MongoDB Java Driver APIs (from a Spring Boot application). See this Spring documentation: [Using Repositories with Multiple Spring Data Modules](https://docs.spring.io/spring-data/mongodb/docs/3.0.1.RELEASE/reference/html/#repositories.multiple-modules).","body":"To work with MongoDB database data you can use the Spring Data MongoDB APIs <i>or</i> MongoDB Java Driver APIs (from a Spring Boot application). See this Spring documentation: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/3.0.1.RELEASE/reference/html/#repositories.multiple-modules\" rel=\"nofollow noreferrer\">Using Repositories with Multiple Spring Data Modules</a>."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1592465968,"post_id":62438435,"comment_id":110436359,"body_markdown":"Did you set up the persistence provider? If you are using a persitence.xml you need to add &lt;provider&gt;org.hibernate.ogm.jpa.HibernateOgmPersistence&lt;/provider&gt; like in the example: https://docs.jboss.org/hibernate/stable/ogm/reference/en-US/html_single/#ogm-gettingstarted","body":"Did you set up the persistence provider? If you are using a persitence.xml you need to add &lt;provider&gt;org.hibernate.ogm.jpa.HibernateOgmPersistence&lt;/pro&zwnj;&#8203;vider&gt; like in the example: <a href=\"https://docs.jboss.org/hibernate/stable/ogm/reference/en-US/html_single/#ogm-gettingstarted\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/ogm/reference/en-US/html_sin&zwnj;&#8203;gle/&hellip;</a>"},{"owner":{"account_id":18774248,"reputation":67,"user_id":13696519,"display_name":"lopmkipm"},"score":0,"creation_date":1592465988,"post_id":62438435,"comment_id":110436365,"body_markdown":"i need one example","body":"i need one example"},{"owner":{"account_id":18774248,"reputation":67,"user_id":13696519,"display_name":"lopmkipm"},"score":0,"creation_date":1592466521,"post_id":62438435,"comment_id":110436654,"body_markdown":"@Davide no no persitence.xml just pom.xml","body":"@Davide no no persitence.xml just pom.xml"},{"owner":{"account_id":18774248,"reputation":67,"user_id":13696519,"display_name":"lopmkipm"},"score":0,"creation_date":1592467637,"post_id":62438435,"comment_id":110437189,"body_markdown":"@Tony Yes it is set properly","body":"@Tony Yes it is set properly"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1592922011,"post_id":62438435,"comment_id":110594323,"body_markdown":"Does this help (Example 7)? https://docs.jboss.org/hibernate/stable/ogm/reference/en-US/html_single/#_accessing_the_code_ogmsession_code_api","body":"Does this help (Example 7)? <a href=\"https://docs.jboss.org/hibernate/stable/ogm/reference/en-US/html_single/#_accessing_the_code_ogmsession_code_api\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/ogm/reference/en-US/html_sin&zwnj;&#8203;gle/&hellip;</a>"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1638169436,"post_id":62438435,"comment_id":124006756,"body_markdown":"There is no support in Spring Data for Hibernate OGM. You can use Spring Data JPA, Spring Data Mongodb or Hibernate OGM. It seems you have them all mixed up currently and it isn&#39;t even clear which one you want to use.","body":"There is no support in Spring Data for Hibernate OGM. You can use Spring Data JPA, Spring Data Mongodb or Hibernate OGM. It seems you have them all mixed up currently and it isn&#39;t even clear which one you want to use."}],"owner":{"account_id":18774248,"reputation":67,"user_id":13696519,"display_name":"lopmkipm"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638263137,"creation_date":1592428245,"question_id":62438435,"body_markdown":"I want to be able to use my Entities classes / documents created with Java Spring in order to create my MongoDB Database at Runtime abd see the different fields of the documents and collections and this automatically when running my spring boot application.\r\nI use the property in my `application.properties`.\r\n\r\n\r\n    hibernate.ogm.datastore.create_database=true\r\n\r\n\r\nand as a dependency in `pom.xml` : \r\n\r\n    \t&lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate.ogm&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-ogm-mongodb&lt;/artifactId&gt;\r\n          &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe application launches but the associated database is not created, What am i missing here,\r\n\r\nThank you.\r\n\r\n","title":"Creating a MongoDB database through the defined classes / documents in Java Spring","body":"<p>I want to be able to use my Entities classes / documents created with Java Spring in order to create my MongoDB Database at Runtime abd see the different fields of the documents and collections and this automatically when running my spring boot application.\nI use the property in my <code>application.properties</code>.</p>\n\n<pre><code>hibernate.ogm.datastore.create_database=true\n</code></pre>\n\n<p>and as a dependency in <code>pom.xml</code> : </p>\n\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.ogm&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-ogm-mongodb&lt;/artifactId&gt;\n      &lt;version&gt;5.4.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The application launches but the associated database is not created, What am i missing here,</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","eclipse","jsp","javabeans"],"owner":{"account_id":14573222,"reputation":59,"user_id":10525902,"display_name":"Furkan Basoglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638262968,"creation_date":1638260877,"question_id":70166316,"body_markdown":"When I run the dynamic web project on Eclipse, I get the following error on the console. How can I resolve this error? I have created @ManagedBean(name = &quot;newUserBean&quot;) inside NewUserBean class and I am calling newUserBean in xhtml file. I didn&#39;t add anything to face-config.xml\r\n\r\n\r\n\r\n        Kas 30, 2021 11:11:06 AM com.sun.faces.application.view.FaceletViewHandlingStrategy handleRenderException\r\n    SEVERE: Error Rendering View[/index.xhtml]\r\n    javax.el.ELException: /index.xhtml: java.lang.NullPointerException\r\n    \tat com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:94)\r\n    \tat com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:82)\r\n    \tat com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:183)\r\n    \tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:1859)\r\n    \tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:456)\r\n    \tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133)\r\n    \tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)\r\n    \tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n    \tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\r\n    \tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:647)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:609)\r\n    \tat com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:89)\r\n    \t... 31 more\r\n    \r\n    Kas 30, 2021 11:11:06 AM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Servlet.service() for servlet [Faces Servlet] in context with path [/Aident] threw exception [null] with root cause\r\n    java.lang.NullPointerException\r\n    \tat createBeans.NewUserBean.createUser(NewUserBean.java:159)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8JGwQ.png\r\n\r\n\r\n**EDIT**\r\nThe web page screen came up, but when I type actionListener=&quot;#{newUserBean.createUser()}&quot; on the register button in the xhtml file, the web page does not appear, only a white screen appears.\r\n\r\n**Errors**\r\n\r\nKas 30, 2021 12:03:09 PM com.sun.faces.application.view.FaceletViewHandlingStrategy handleRenderException\r\nSEVERE: Error Rendering View[/index.xhtml]\r\n\r\nKas 30, 2021 12:03:09 PM com.sun.faces.context.ExceptionHandlerImpl throwIt\r\nINFO: Exception when handling error trying to reset the response.\r\n\r\nKas 30, 2021 12:03:09 PM org.apache.catalina.core.StandardWrapperValve invoke\r\nSEVERE: Servlet.service() for servlet [Faces Servlet] in context with path [/Aident] threw exception [null] with root cause","title":"Servlet.service() for servlet [Faces Servlet] &amp; Error Rendering View","body":"<p>When I run the dynamic web project on Eclipse, I get the following error on the console. How can I resolve this error? I have created @ManagedBean(name = &quot;newUserBean&quot;) inside NewUserBean class and I am calling newUserBean in xhtml file. I didn't add anything to face-config.xml</p>\n<pre><code>    Kas 30, 2021 11:11:06 AM com.sun.faces.application.view.FaceletViewHandlingStrategy handleRenderException\nSEVERE: Error Rendering View[/index.xhtml]\njavax.el.ELException: /index.xhtml: java.lang.NullPointerException\n    at com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:94)\n    at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:82)\n    at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:183)\n    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1859)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:456)\n    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133)\n    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:609)\n    at com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:89)\n    ... 31 more\n\nKas 30, 2021 11:11:06 AM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [Faces Servlet] in context with path [/Aident] threw exception [null] with root cause\njava.lang.NullPointerException\n    at createBeans.NewUserBean.createUser(NewUserBean.java:159)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8JGwQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8JGwQ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT</strong>\nThe web page screen came up, but when I type actionListener=&quot;#{newUserBean.createUser()}&quot; on the register button in the xhtml file, the web page does not appear, only a white screen appears.</p>\n<p><strong>Errors</strong></p>\n<p>Kas 30, 2021 12:03:09 PM com.sun.faces.application.view.FaceletViewHandlingStrategy handleRenderException\nSEVERE: Error Rendering View[/index.xhtml]</p>\n<p>Kas 30, 2021 12:03:09 PM com.sun.faces.context.ExceptionHandlerImpl throwIt\nINFO: Exception when handling error trying to reset the response.</p>\n<p>Kas 30, 2021 12:03:09 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [Faces Servlet] in context with path [/Aident] threw exception [null] with root cause</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"score":0,"creation_date":1638227306,"post_id":70159854,"comment_id":124027955,"body_markdown":"This is a really bad idea for so many reasons.     The database should be generating the primary keys.   You doing it there could be an insert that happens after you have the sequence value but before you start your insert it you would be using an existing key which will  lead to either uniqueness constraint exceptions or worse over writing an existing record.      Additionally with some JPA libs having the PK field populated will cause it to assume you are doing an update and might over write some other record.   If both columns are going to be the same value then why have two columns?","body":"This is a really bad idea for so many reasons.     The database should be generating the primary keys.   You doing it there could be an insert that happens after you have the sequence value but before you start your insert it you would be using an existing key which will  lead to either uniqueness constraint exceptions or worse over writing an existing record.      Additionally with some JPA libs having the PK field populated will cause it to assume you are doing an update and might over write some other record.   If both columns are going to be the same value then why have two columns?"}],"answers":[{"tags":[],"owner":{"account_id":21201095,"reputation":405,"user_id":15591732,"display_name":"Sofyane MAKERRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638262419,"creation_date":1638262419,"answer_id":70166611,"question_id":70159854,"body_markdown":"You can use @Id on two columns : id and field1 or use composite key using @Embeddable\r\n","title":"Is it possible to not generate a new primary key value if already set?","body":"<p>You can use @Id on two columns : id and field1 or use composite key using @Embeddable</p>\n"}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638262419,"creation_date":1638211645,"question_id":70159854,"body_markdown":"I have a situation in which I find the next sequence value (using nextval), set it to a database column and I want to reuse that value as the object&#39;s primary key. The problem is that although I triggger save with the correct values, Spring JPA generates another primary key and does not use the one I gave it. \r\n\r\nFor example, I have an entity: \r\n````\r\npublic class MyEntity implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_MY_ENTITY&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;SEQ_MY_ENTITY&quot;, allocationSize = 1, name = &quot;SEQ_MY_ENTITY&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;field1&quot;)\r\n    private String field1;\r\n`````\r\nIn some business flow, I need to set field1 = id. I do this by:\r\n\r\n1. get next val from dual. \r\n2. set value to field1 \r\n3. set value to id\r\n\r\nProblem is that what is saved for id = field1 + 1. How can I have the two values in sync without calling save with empty field1 and then another save after I&#39;ve updated field1? ","title":"Is it possible to not generate a new primary key value if already set?","body":"<p>I have a situation in which I find the next sequence value (using nextval), set it to a database column and I want to reuse that value as the object's primary key. The problem is that although I triggger save with the correct values, Spring JPA generates another primary key and does not use the one I gave it.</p>\n<p>For example, I have an entity:</p>\n<pre><code>public class MyEntity implements Serializable {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;SEQ_MY_ENTITY&quot;)\n    @SequenceGenerator(sequenceName = &quot;SEQ_MY_ENTITY&quot;, allocationSize = 1, name = &quot;SEQ_MY_ENTITY&quot;)\n    private Long id;\n\n    @Column(name = &quot;field1&quot;)\n    private String field1;\n</code></pre>\n<p>In some business flow, I need to set field1 = id. I do this by:</p>\n<ol>\n<li>get next val from dual.</li>\n<li>set value to field1</li>\n<li>set value to id</li>\n</ol>\n<p>Problem is that what is saved for id = field1 + 1. How can I have the two values in sync without calling save with empty field1 and then another save after I've updated field1?</p>\n"},{"tags":["java","spring","mockito","junit5","springmockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638262239,"post_id":70166432,"comment_id":124035219,"body_markdown":"Remove `@Autowired`, make field `final`. Restart.","body":"Remove <code>@Autowired</code>, make field <code>final</code>. Restart."},{"owner":{"account_id":23500273,"reputation":123,"user_id":17550246,"display_name":"Abdu Muhammadal"},"score":0,"creation_date":1638262298,"post_id":70166432,"comment_id":124035239,"body_markdown":"Is there a way to do it like that or do I have to make them all final? Is it the only way?","body":"Is there a way to do it like that or do I have to make them all final? Is it the only way?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638262532,"post_id":70166432,"comment_id":124035312,"body_markdown":"Unless you want to manually set them, besides that one should favor constructor injection over field injection.","body":"Unless you want to manually set them, besides that one should favor constructor injection over field injection."},{"owner":{"account_id":6589256,"reputation":12808,"user_id":5091073,"display_name":"Nir Levy"},"score":0,"creation_date":1638264582,"post_id":70166432,"comment_id":124036059,"body_markdown":"you can also use `@AllArgsConstructor` if you want it not to be final (though if it&#39;s a bean- why not final?)","body":"you can also use <code>@AllArgsConstructor</code> if you want it not to be final (though if it&#39;s a bean- why not final?)"}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638262328,"creation_date":1638262328,"answer_id":70166585,"question_id":70166432,"body_markdown":"You can set by using ReflectionTestUtils.setField(...) in Before Method;\r\n\r\n    ReflectionTestUtils.setField(service, &quot;repository&quot;, Mockito.mock(GRepository.class));\r\n\r\n","title":"How to Mock service consisting both Autowired and RequiredArgsConstructor in JUnit 5?","body":"<p>You can set by using ReflectionTestUtils.setField(...) in Before Method;</p>\n<pre><code>ReflectionTestUtils.setField(service, &quot;repository&quot;, Mockito.mock(GRepository.class));\n</code></pre>\n"}],"owner":{"account_id":23500273,"reputation":123,"user_id":17550246,"display_name":"Abdu Muhammadal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70166585,"answer_count":1,"score":1,"last_activity_date":1638262328,"creation_date":1638261503,"question_id":70166432,"body_markdown":"    @RequiredArgsConstructor\r\n    public class GService {\r\n    \r\n        @Autowired\r\n        private GRepository repository;\r\n    \r\n        private final List&lt;GRule&gt; rules;\r\n\r\nAnd my test class is like this;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class GServiceTest {\r\n    \r\n        @InjectMocks\r\n        private GService service;\r\n    \r\n        @Mock\r\n        private GRepository repository;\r\n    \r\n        @Mock\r\n        private List&lt;GameRule&gt; rules;\r\n\r\nRules is okay but repository is not initialized and it is null. How can I initialize the repository?","title":"How to Mock service consisting both Autowired and RequiredArgsConstructor in JUnit 5?","body":"<pre><code>@RequiredArgsConstructor\npublic class GService {\n\n    @Autowired\n    private GRepository repository;\n\n    private final List&lt;GRule&gt; rules;\n</code></pre>\n<p>And my test class is like this;</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass GServiceTest {\n\n    @InjectMocks\n    private GService service;\n\n    @Mock\n    private GRepository repository;\n\n    @Mock\n    private List&lt;GameRule&gt; rules;\n</code></pre>\n<p>Rules is okay but repository is not initialized and it is null. How can I initialize the repository?</p>\n"},{"tags":["java","maven","intellij-idea","java-ee-8"],"comments":[{"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"score":0,"creation_date":1638262629,"post_id":70166453,"comment_id":124035345,"body_markdown":"check this jar is in your computer or not first.","body":"check this jar is in your computer or not first."},{"owner":{"account_id":20741201,"reputation":333,"user_id":15230812,"display_name":"Marlon"},"score":0,"creation_date":1638263396,"post_id":70166453,"comment_id":124035616,"body_markdown":"Do you check the interoperatbility of your IntelliJ version and the Maven plugin. Normally IntelliJ will do it, but sometimes it does not.","body":"Do you check the interoperatbility of your IntelliJ version and the Maven plugin. Normally IntelliJ will do it, but sometimes it does not."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638263853,"post_id":70166453,"comment_id":124035783,"body_markdown":"Do you build work on plain command line (not inside IDEA)...","body":"Do you build work on plain command line (not inside IDEA)..."},{"owner":{"account_id":14271910,"reputation":333,"user_id":10309166,"display_name":"nixfuerdiecharts"},"score":0,"creation_date":1638269691,"post_id":70166453,"comment_id":124038095,"body_markdown":"@khmarbaise no, I build in the IntelliJ Terminal command line","body":"@khmarbaise no, I build in the IntelliJ Terminal command line"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638272808,"post_id":70166453,"comment_id":124039264,"body_markdown":"Please check on plain command line...","body":"Please check on plain command line..."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1638278144,"post_id":70166453,"comment_id":124041321,"body_markdown":"Are there any additional errors in idea.log (&quot;Help | Show Log in...&quot;)?","body":"Are there any additional errors in idea.log (&quot;Help | Show Log in...&quot;)?"},{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1638479219,"post_id":70166453,"comment_id":124106508,"body_markdown":"One possible cause is that maven is not able to access the plugins repository. Maven works with plugins, everything is done via plugins, even compile. But the default phases use default plugins that you don&#39;t have to configure. I don&#39;t know if maven have this default plugins already downloaded or does it the first time. Please post your settings.xml, and look windows network configuration to see if you are behind a proxy.","body":"One possible cause is that maven is not able to access the plugins repository. Maven works with plugins, everything is done via plugins, even compile. But the default phases use default plugins that you don&#39;t have to configure. I don&#39;t know if maven have this default plugins already downloaded or does it the first time. Please post your settings.xml, and look windows network configuration to see if you are behind a proxy."}],"owner":{"account_id":14271910,"reputation":333,"user_id":10309166,"display_name":"nixfuerdiecharts"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3135,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1638262300,"creation_date":1638261597,"question_id":70166453,"body_markdown":"I am new to Java EE and Maven, so I am not quiet sure which information are needed to see where I made a mistake.\r\n\r\nWhen I right click on my project and got to Maven --&gt; Reload Project\r\nthe build tab opens with following errors\r\n\r\n```\r\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\r\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\r\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\r\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\r\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\r\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\r\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\r\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\r\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\r\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\r\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\r\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3 \r\n```\r\n[![enter image description here][1]][1]\r\n\r\nWhen I hover the maven assembly plugin, the IDE also tells me \r\n```\r\nPlugin &#39;org.apache.maven.plugins:maven-assembly-plugin:&#39; not found\r\n```\r\n[![enter image description here][2]][2]\r\n\r\nWhen I run mvn clean install -U the build runs just fine without any errors.\r\n\r\nHere are my Maven settings\r\n[![enter image description here][3]][3]\r\n\r\nIf I need to any further information please tell me so.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mapO4.png\r\n  [2]: https://i.stack.imgur.com/DxlCK.png\r\n  [3]: https://i.stack.imgur.com/9A8Rr.png","title":"IntelliJ cannot resolve maven plugins","body":"<p>I am new to Java EE and Maven, so I am not quiet sure which information are needed to see where I made a mistake.</p>\n<p>When I right click on my project and got to Maven --&gt; Reload Project\nthe build tab opens with following errors</p>\n<pre><code>Cannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:3.0.0-M1\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3 \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mapO4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mapO4.png\" alt=\"enter image description here\" /></a></p>\n<p>When I hover the maven assembly plugin, the IDE also tells me</p>\n<pre><code>Plugin 'org.apache.maven.plugins:maven-assembly-plugin:' not found\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DxlCK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DxlCK.png\" alt=\"enter image description here\" /></a></p>\n<p>When I run mvn clean install -U the build runs just fine without any errors.</p>\n<p>Here are my Maven settings\n<a href=\"https://i.stack.imgur.com/9A8Rr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9A8Rr.png\" alt=\"enter image description here\" /></a></p>\n<p>If I need to any further information please tell me so.</p>\n"},{"tags":["java","spring","eclipse","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638260125,"post_id":70166151,"comment_id":124034485,"body_markdown":"You must bring it yourself these days","body":"You must bring it yourself these days"},{"owner":{"account_id":23010218,"reputation":3,"user_id":17132842,"display_name":"suomi"},"score":0,"creation_date":1638261061,"post_id":70166151,"comment_id":124034834,"body_markdown":"I have tried to include that class in the pom but that does not work, maven update changes it to a higher version of Java and the import fails","body":"I have tried to include that class in the pom but that does not work, maven update changes it to a higher version of Java and the import fails"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638260196,"creation_date":1638260196,"answer_id":70166201,"question_id":70166151,"body_markdown":"JDK/JRE has become smaller, and everything that is in `javax.*` we have to import ourself. Add this to your `pom` file:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Maven update in Java 9, Maven compile in Java 8 in Eclipse","body":"<p>JDK/JRE has become smaller, and everything that is in <code>javax.*</code> we have to import ourself. Add this to your <code>pom</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23010218,"reputation":3,"user_id":17132842,"display_name":"suomi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638262147,"creation_date":1638259914,"question_id":70166151,"body_markdown":"I have a project with Spring and Maven using Java version 8. When I run maven update it works with Java 9 or higher and when I compile it works well with Java 8. I have noticed this because updating with Maven changes a specific class to Java 9 and I cannot import this class.\r\n\r\nThe class is: javax.annotation.Generated (Java 8). \r\n\r\nThis is the class to import. However when I do a maven update the import of the file changes the class to:\r\njavax.annotation.processing.Generated (Java 9 or higher) and the import fails.\r\nWhen I compile the import of the class it goes back to javax.annotation.Generated\r\n\r\nI have to say that I updated the project to the latest version of Spring a few days ago and now I have the problem.\r\n\r\nCan anyone help with this?\r\n\r\nThanks in advance.","title":"Maven update in Java 9, Maven compile in Java 8 in Eclipse","body":"<p>I have a project with Spring and Maven using Java version 8. When I run maven update it works with Java 9 or higher and when I compile it works well with Java 8. I have noticed this because updating with Maven changes a specific class to Java 9 and I cannot import this class.</p>\n<p>The class is: javax.annotation.Generated (Java 8).</p>\n<p>This is the class to import. However when I do a maven update the import of the file changes the class to:\njavax.annotation.processing.Generated (Java 9 or higher) and the import fails.\nWhen I compile the import of the class it goes back to javax.annotation.Generated</p>\n<p>I have to say that I updated the project to the latest version of Spring a few days ago and now I have the problem.</p>\n<p>Can anyone help with this?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","xml","dom"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638261437,"creation_date":1638261437,"answer_id":70166416,"question_id":70165117,"body_markdown":"The definition of AbstractMethodError says:\r\n\r\n*Thrown when an application tries to call an abstract method. Normally, this error is caught by the compiler; this error can only occur at run time if the definition of some class has incompatibly changed since the currently executing method was last compiled.*\r\n\r\nSo you&#39;ve got some kind of configuration or version control problem in your code, probably you&#39;re picking up a different version of Apache Xerces at run time from the version used at compile time; though it also suggests you might be straying outside the stable API into calling methods that weren&#39;t really intended for public use.\r\n\r\nAs I can&#39;t see your code, there&#39;s a lot of guesswork here. The next stage in debugging would be to look at a stack trace.","title":"java.lang.AbstractMethodError , Get a node&#39;s inner XML as String in Java DOM","body":"<p>The definition of AbstractMethodError says:</p>\n<p><em>Thrown when an application tries to call an abstract method. Normally, this error is caught by the compiler; this error can only occur at run time if the definition of some class has incompatibly changed since the currently executing method was last compiled.</em></p>\n<p>So you've got some kind of configuration or version control problem in your code, probably you're picking up a different version of Apache Xerces at run time from the version used at compile time; though it also suggests you might be straying outside the stable API into calling methods that weren't really intended for public use.</p>\n<p>As I can't see your code, there's a lot of guesswork here. The next stage in debugging would be to look at a stack trace.</p>\n"}],"owner":{"account_id":13085868,"reputation":1,"user_id":9454856,"display_name":"김다빈"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638261437,"creation_date":1638253081,"question_id":70165117,"body_markdown":"https://stackoverflow.com/a/5948326/9454856\r\n\r\nException in thread &quot;main&quot; java.lang.AbstractMethodError: org.apache.xerces.dom.CoreDOMImplementationImpl.createLSSerializer()Lorg/w3c/dom/ls/LSSerializer;\r\n\r\nWhy am I getting this error?","title":"java.lang.AbstractMethodError , Get a node&#39;s inner XML as String in Java DOM","body":"<p><a href=\"https://stackoverflow.com/a/5948326/9454856\">https://stackoverflow.com/a/5948326/9454856</a></p>\n<p>Exception in thread &quot;main&quot; java.lang.AbstractMethodError: org.apache.xerces.dom.CoreDOMImplementationImpl.createLSSerializer()Lorg/w3c/dom/ls/LSSerializer;</p>\n<p>Why am I getting this error?</p>\n"},{"tags":["java","swing","jtable","jscrollpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1356011402,"post_id":13973572,"comment_id":19279142,"body_markdown":"Possible duplicate of [How to hide a particlar column in DefaultTableModel from displaying it in table?](http://stackoverflow.com/questions/12195973/how-to-hide-a-particlar-column-in-defaulttablemodel-from-displaying-it-in-table) or [this question](http://stackoverflow.com/questions/10088853/could-not-set-the-column-width-to-zero-i-e-not-made-column-invisible/10089138#10089138) or [this one](http://stackoverflow.com/questions/8371328/jtable-hide-and-show-columns) or ..","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/12195973/how-to-hide-a-particlar-column-in-defaulttablemodel-from-displaying-it-in-table\">How to hide a particlar column in DefaultTableModel from displaying it in table?</a> or <a href=\"http://stackoverflow.com/questions/10088853/could-not-set-the-column-width-to-zero-i-e-not-made-column-invisible/10089138#10089138\">this question</a> or <a href=\"http://stackoverflow.com/questions/8371328/jtable-hide-and-show-columns\">this one</a> or .."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1356011432,"post_id":13973572,"comment_id":19279159,"body_markdown":"consider [SwingX](http://swingx.java.net): its JXTable/TableColumnExt support in/visible columns","body":"consider <a href=\"http://swingx.java.net\" rel=\"nofollow noreferrer\">SwingX</a>: its JXTable/TableColumnExt support in/visible columns"},{"owner":{"display_name":"user813853"},"score":0,"creation_date":1356011931,"post_id":13973572,"comment_id":19279442,"body_markdown":"possible duplicate [How to make a columns in JTable Invisible for Swing Java](http://stackoverflow.com/q/1492217/813853).","body":"possible duplicate <a href=\"http://stackoverflow.com/q/1492217/813853\">How to make a columns in JTable Invisible for Swing Java</a>."},{"owner":{"display_name":"user813853"},"score":0,"creation_date":1356012399,"post_id":13973572,"comment_id":19279706,"body_markdown":"In the design pattern MVC, when you say Storing data you do that in the Model part of the MVC. Hiding a column from a user, that means you delete it from View part of the model MVC.","body":"In the design pattern MVC, when you say Storing data you do that in the Model part of the MVC. Hiding a column from a user, that means you delete it from View part of the model MVC."}],"answers":[{"tags":[],"owner":{"account_id":939255,"reputation":8775,"user_id":967638,"accept_rate":98,"display_name":"Amarnath"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1638261101,"creation_date":1356011882,"answer_id":13973775,"question_id":13973572,"body_markdown":"Set the Column Minimum and Maximum width as zero.\r\n\r\n    table.getColumnModel().getColumn(columnIndex).setMinWidth(0);\r\n    table.getColumnModel().getColumn(columnIndex).setMaxWidth(0);\r\n\r\nAs suggested by Andrew Thomson in the comment section you can also use [removeColumn][1].\r\n\r\nFrom javaDoc;\r\n\r\n&gt; **removeColumn** \r\n\r\n    public void removeColumn(TableColumn aColumn) \r\n&gt; Removes aColumn from this JTable&#39;s array of columns. Note: this method does\r\n&gt; not remove the column of data from the model; it just removes the\r\n&gt; TableColumn that was responsible for displaying it. Parameters:\r\n&gt; aColumn - the TableColumn to be removed\r\n\r\n\r\n**P.S:** But I have personally used the first approach to hide a column in the `JTable`. Thanks for `removeColumn` method I will try to use it from now on.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html#removeColumn%28javax.swing.table.TableColumn%29","title":"Hide a column in JTable","body":"<p>Set the Column Minimum and Maximum width as zero.</p>\n<pre><code>table.getColumnModel().getColumn(columnIndex).setMinWidth(0);\ntable.getColumnModel().getColumn(columnIndex).setMaxWidth(0);\n</code></pre>\n<p>As suggested by Andrew Thomson in the comment section you can also use <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html#removeColumn%28javax.swing.table.TableColumn%29\" rel=\"nofollow noreferrer\">removeColumn</a>.</p>\n<p>From javaDoc;</p>\n<blockquote>\n<p><strong>removeColumn</strong></p>\n</blockquote>\n<pre><code>public void removeColumn(TableColumn aColumn) \n</code></pre>\n<blockquote>\n<p>Removes aColumn from this JTable's array of columns. Note: this method does\nnot remove the column of data from the model; it just removes the\nTableColumn that was responsible for displaying it. Parameters:\naColumn - the TableColumn to be removed</p>\n</blockquote>\n<p><strong>P.S:</strong> But I have personally used the first approach to hide a column in the <code>JTable</code>. Thanks for <code>removeColumn</code> method I will try to use it from now on.</p>\n"}],"owner":{"account_id":2100221,"reputation":2093,"user_id":1868052,"accept_rate":96,"display_name":"Adesh singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31336,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1356021208,"accepted_answer_id":13973775,"answer_count":1,"score":10,"last_activity_date":1638261101,"creation_date":1356011212,"question_id":13973572,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [How to make a columns in JTable Invisible for Swing Java](https://stackoverflow.com/questions/1492217/how-to-make-a-columns-in-jtable-invisible-for-swing-java)  \r\n&gt; [How to hide a particlar column in DefaultTableModel from displaying it in table?](https://stackoverflow.com/questions/12195973/how-to-hide-a-particlar-column-in-defaulttablemodel-from-displaying-it-in-table)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nI am trying to enter data to three columns in JTable, but I want to show only two columns. Actually, I want to hide the third column, not by setting the width to 0, but by any other method in which I can get the data from the hidden column on a click event.\r\n\r\nHow can I hide a column in this manner?\r\n\r\nI am using the following code:\r\n\r\n     try {\r\n         String Title[]= new String{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;};\r\n         Object obj= new Object[50][3];\r\n         JTable table= new JTable(obj,title);\r\n         JScrollPane jsp= new JScrollPane(table); \r\n         add(jsp);\r\n     } catch(Exception ex) {\r\n         ex.printStackTrace();\r\n     }\r\n","title":"Hide a column in JTable","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/1492217/how-to-make-a-columns-in-jtable-invisible-for-swing-java\">How to make a columns in JTable Invisible for Swing Java</a><br>\n  <a href=\"https://stackoverflow.com/questions/12195973/how-to-hide-a-particlar-column-in-defaulttablemodel-from-displaying-it-in-table\">How to hide a particlar column in DefaultTableModel from displaying it in table?</a>  </p>\n</blockquote>\n\n\n\n<p>I am trying to enter data to three columns in JTable, but I want to show only two columns. Actually, I want to hide the third column, not by setting the width to 0, but by any other method in which I can get the data from the hidden column on a click event.</p>\n\n<p>How can I hide a column in this manner?</p>\n\n<p>I am using the following code:</p>\n\n<pre><code> try {\n     String Title[]= new String{\"a\",\"b\",\"c\"};\n     Object obj= new Object[50][3];\n     JTable table= new JTable(obj,title);\n     JScrollPane jsp= new JScrollPane(table); \n     add(jsp);\n } catch(Exception ex) {\n     ex.printStackTrace();\n }\n</code></pre>\n"},{"tags":["java","maven","apache-kafka","dependencies","deserialization"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1638261141,"post_id":70166346,"comment_id":124034867,"body_markdown":"apparently, one of the libraries you depend on does use it.","body":"apparently, one of the libraries you depend on does use it."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638263901,"post_id":70166346,"comment_id":124035802,"body_markdown":"Try you build first on plain command line...","body":"Try you build first on plain command line..."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638287690,"post_id":70166346,"comment_id":124045710,"body_markdown":"`JsonDeserializer` **does** use Jackson","body":"<code>JsonDeserializer</code> <b>does</b> use Jackson"}],"owner":{"account_id":23161913,"reputation":67,"user_id":17262444,"display_name":"Fedor Nikolaev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638261027,"creation_date":1638261027,"question_id":70166346,"body_markdown":"I&#39;m writing kafka consumer and use POJO&#39;s deserialiser. I don&#39;t use Jackson, but when compile there is an error that it can&#39;t be accessed\r\n\r\n**ConsumerConfiguration.java**\r\n```\r\npackage com.example.accountkafkaconsumer.Config;\r\n\r\nimport com.example.accountkafkaconsumer.Account;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@EnableKafka\r\n@Configuration\r\npublic class ConsumerConfiguration{\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Account&gt; jsonConsumerFactory(){\r\n        JsonDeserializer&lt;Account&gt; deserializer = new JsonDeserializer&lt;&gt;(Account.class);\r\n        deserializer.setRemoveTypeHeaders(false);\r\n        deserializer.addTrustedPackages(&quot;*&quot;);\r\n        deserializer.setUseTypeMapperForKey(true);\r\n\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;json_group&quot;);\r\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(), deserializer);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Account&gt; accountKafkaListenerFactory(){\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Account&gt; factory = new ConcurrentKafkaListenerContainerFactory();\r\n        factory.setConsumerFactory(jsonConsumerFactory());\r\n\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n**log**\r\n\r\n/Users/fnikolaev/Desktop/Kafka course/AccountKafkaConsumer/src/main/java/com/example/accountkafkaconsumer/Config/ConsumerConfiguration.java:23:50\r\njava: cannot access com.fasterxml.jackson.core.type.TypeReference\r\n  class file for com.fasterxml.jackson.core.type.TypeReference not found\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;AccountKafkaConsumer&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;AccountKafkaConsumer&lt;/name&gt;\r\n    &lt;description&gt;AccountKafkaConsumer&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"Cannot access dependency which I don&#39;t use","body":"<p>I'm writing kafka consumer and use POJO's deserialiser. I don't use Jackson, but when compile there is an error that it can't be accessed</p>\n<p><strong>ConsumerConfiguration.java</strong></p>\n<pre><code>package com.example.accountkafkaconsumer.Config;\n\nimport com.example.accountkafkaconsumer.Account;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@EnableKafka\n@Configuration\npublic class ConsumerConfiguration{\n\n    @Bean\n    public ConsumerFactory&lt;String, Account&gt; jsonConsumerFactory(){\n        JsonDeserializer&lt;Account&gt; deserializer = new JsonDeserializer&lt;&gt;(Account.class);\n        deserializer.setRemoveTypeHeaders(false);\n        deserializer.addTrustedPackages(&quot;*&quot;);\n        deserializer.setUseTypeMapperForKey(true);\n\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;json_group&quot;);\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(), deserializer);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Account&gt; accountKafkaListenerFactory(){\n        ConcurrentKafkaListenerContainerFactory&lt;String, Account&gt; factory = new ConcurrentKafkaListenerContainerFactory();\n        factory.setConsumerFactory(jsonConsumerFactory());\n\n        return factory;\n    }\n}\n</code></pre>\n<p><strong>log</strong></p>\n<p>/Users/fnikolaev/Desktop/Kafka course/AccountKafkaConsumer/src/main/java/com/example/accountkafkaconsumer/Config/ConsumerConfiguration.java:23:50\njava: cannot access com.fasterxml.jackson.core.type.TypeReference\nclass file for com.fasterxml.jackson.core.type.TypeReference not found</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;AccountKafkaConsumer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;AccountKafkaConsumer&lt;/name&gt;\n    &lt;description&gt;AccountKafkaConsumer&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","phone-call","calllog"],"comments":[{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1637080184,"post_id":69991213,"comment_id":123727795,"body_markdown":"someone else with the same issue: https://android-developers.narkive.com/W63HuY7c/delete-call-log-entry-exception","body":"someone else with the same issue: <a href=\"https://android-developers.narkive.com/W63HuY7c/delete-call-log-entry-exception\" rel=\"nofollow noreferrer\">android-developers.narkive.com/W63HuY7c/&hellip;</a>"},{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1637081039,"post_id":69991213,"comment_id":123728130,"body_markdown":"Thank you @Blundell but, on your link, either the problem came from the phone model  (I already tried on 4 different phones) or it was solved by the class that implements RPCReceiver which is not recognized in my case. Like this one was non-existent","body":"Thank you @Blundell but, on your link, either the problem came from the phone model  (I already tried on 4 different phones) or it was solved by the class that implements RPCReceiver which is not recognized in my case. Like this one was non-existent"},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1637082088,"post_id":69991213,"comment_id":123728624,"body_markdown":"Have you tried different versions of Android?","body":"Have you tried different versions of Android?"},{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1637084128,"post_id":69991213,"comment_id":123729458,"body_markdown":"@Blundell I have tried on Android 10 and 8.1","body":"@Blundell I have tried on Android 10 and 8.1"}],"answers":[{"tags":[],"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638261001,"creation_date":1638261001,"answer_id":70166340,"question_id":69991213,"body_markdown":"Well, I finally found how to delete all the phonecalls, this post help me :[https://stackoverflow.com/questions/23080946/delete-all-missed-calls-log-entries][1]\r\nApparently I am forced to specify a type for the calls so that it gets removed\r\n\r\n  [1]: https://stackoverflow.com/questions/23080946/delete-all-missed-calls-log-entries\r\n\r\nMy code :\r\n\r\n        private void deletePhoneCallLogs() {\r\n        Cursor cursor = getContext().getContentResolver().query(CallLog.Calls.CONTENT_URI, null, null, null, null);\r\n        while (cursor.moveToNext()) {\r\n            long id = cursor.getLong(cursor.getColumnIndexOrThrow(CallLog.Calls._ID));\r\n            Uri deleteUri = ContentUris.withAppendedId(CallLog.Calls.CONTENT_URI, id);\r\n            Log.d(&quot;PhoneCall&quot;,&quot;My delete PhoneCall&quot;+deleteUri);\r\n            getContext().getContentResolver().delete(CallLog.Calls.CONTENT_URI , &quot;type=&quot;+CallLog.Calls.TYPE , null);        }\r\n        cursor.close();\r\n    }\r\nI tested on many devices and on android 8 and 10.","title":"Delete all phone call logs programmatically","body":"<p>Well, I finally found how to delete all the phonecalls, this post help me :<a href=\"https://stackoverflow.com/questions/23080946/delete-all-missed-calls-log-entries\">Delete all Missed Calls log entries</a>\nApparently I am forced to specify a type for the calls so that it gets removed</p>\n<p>My code :</p>\n<pre><code>    private void deletePhoneCallLogs() {\n    Cursor cursor = getContext().getContentResolver().query(CallLog.Calls.CONTENT_URI, null, null, null, null);\n    while (cursor.moveToNext()) {\n        long id = cursor.getLong(cursor.getColumnIndexOrThrow(CallLog.Calls._ID));\n        Uri deleteUri = ContentUris.withAppendedId(CallLog.Calls.CONTENT_URI, id);\n        Log.d(&quot;PhoneCall&quot;,&quot;My delete PhoneCall&quot;+deleteUri);\n        getContext().getContentResolver().delete(CallLog.Calls.CONTENT_URI , &quot;type=&quot;+CallLog.Calls.TYPE , null);        }\n    cursor.close();\n}\n</code></pre>\n<p>I tested on many devices and on android 8 and 10.</p>\n"}],"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70166340,"answer_count":1,"score":3,"last_activity_date":1638261001,"creation_date":1637073870,"question_id":69991213,"body_markdown":"I&#39;m trying to make a method to delete all call logs with one click.\r\nHere is my code:\r\n\r\n        private void deletePhoneCallLogs() {\r\n        Cursor cursor = getContext().getContentResolver().query(CallLog.Calls.CONTENT_URI, null, null, null, null);\r\n        while (cursor.moveToNext()) {\r\n            long id = cursor.getLong(cursor.getColumnIndexOrThrow(CallLog.Calls._ID));\r\n            Uri deleteUri = ContentUris.withAppendedId(CallLog.Calls.CONTENT_URI, id);\r\n            getContext().getContentResolver().delete(deleteUri, null, null);\r\n        }\r\n        cursor.close();\r\n    }\r\n\r\nMy manifest for the permissions : \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot;&gt;&lt;/uses-permission&gt;\r\n\r\nI have an error that I don&#39;t understand, which is this one:\r\n\r\n        java.lang.UnsupportedOperationException: Cannot delete that URL: content://call_log/calls/922\r\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:172)\r\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:140)\r\n        at android.content.ContentProviderProxy.delete(ContentProviderNative.java:553)\r\n        at android.content.ContentResolver.delete(ContentResolver.java:1956)\r\n        at com.example.testbackup.ui.dataset1.Dataset1Fragment.deletePhoneCallLogs(Dataset1Fragment.java:425)\r\n        at com.example.testbackup.ui.dataset1.Dataset1Fragment.access$800(Dataset1Fragment.java:55)\r\n        at com.example.testbackup.ui.dataset1.Dataset1Fragment$2.onClick(Dataset1Fragment.java:150)\r\n        at android.view.View.performClick(View.java:7870)\r\n        at android.widget.TextView.performClick(TextView.java:14970)\r\n        at android.view.View.performClickInternal(View.java:7839)\r\n        at android.view.View.access$3600(View.java:886)\r\n        at android.view.View$PerformClick.run(View.java:29363)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:237)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7948)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1075)\r\n\r\n\r\nDoes anyone have the solution ?","title":"Delete all phone call logs programmatically","body":"<p>I'm trying to make a method to delete all call logs with one click.\nHere is my code:</p>\n<pre><code>    private void deletePhoneCallLogs() {\n    Cursor cursor = getContext().getContentResolver().query(CallLog.Calls.CONTENT_URI, null, null, null, null);\n    while (cursor.moveToNext()) {\n        long id = cursor.getLong(cursor.getColumnIndexOrThrow(CallLog.Calls._ID));\n        Uri deleteUri = ContentUris.withAppendedId(CallLog.Calls.CONTENT_URI, id);\n        getContext().getContentResolver().delete(deleteUri, null, null);\n    }\n    cursor.close();\n}\n</code></pre>\n<p>My manifest for the permissions :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot;&gt;&lt;/uses-permission&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot;&gt;&lt;/uses-permission&gt;\n</code></pre>\n<p>I have an error that I don't understand, which is this one:</p>\n<pre><code>    java.lang.UnsupportedOperationException: Cannot delete that URL: content://call_log/calls/922\n    at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:172)\n    at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:140)\n    at android.content.ContentProviderProxy.delete(ContentProviderNative.java:553)\n    at android.content.ContentResolver.delete(ContentResolver.java:1956)\n    at com.example.testbackup.ui.dataset1.Dataset1Fragment.deletePhoneCallLogs(Dataset1Fragment.java:425)\n    at com.example.testbackup.ui.dataset1.Dataset1Fragment.access$800(Dataset1Fragment.java:55)\n    at com.example.testbackup.ui.dataset1.Dataset1Fragment$2.onClick(Dataset1Fragment.java:150)\n    at android.view.View.performClick(View.java:7870)\n    at android.widget.TextView.performClick(TextView.java:14970)\n    at android.view.View.performClickInternal(View.java:7839)\n    at android.view.View.access$3600(View.java:886)\n    at android.view.View$PerformClick.run(View.java:29363)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at android.os.Looper.loop(Looper.java:237)\n    at android.app.ActivityThread.main(ActivityThread.java:7948)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1075)\n</code></pre>\n<p>Does anyone have the solution ?</p>\n"},{"tags":["java","gradle","liquibase","ojdbc"],"answers":[{"tags":[],"owner":{"account_id":21201095,"reputation":405,"user_id":15591732,"display_name":"Sofyane MAKERRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638259848,"creation_date":1638259848,"answer_id":70166143,"question_id":70122097,"body_markdown":"what is the purpose of cleaning the chesum, if you want to force the re-execution of a changeset, you can delete the old record directly in the databasechangelog table.","title":"Liquibase clearChecksums Could not find com.oracle.jdbc:ojdbc8:xx.x.x.x","body":"<p>what is the purpose of cleaning the chesum, if you want to force the re-execution of a changeset, you can delete the old record directly in the databasechangelog table.</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638259848,"creation_date":1637918645,"question_id":70122097,"body_markdown":"I would like to clear the checkSums for Liquibase. If I run the gradle command `gradle clearChecksums` I get an error.\r\n\r\n    Execution failed for task &#39;:project-name:clearChecksums&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:project-name:liquibaseRuntime&#39;.\r\n    &gt; Could not find com.oracle.jdbc:ojdbc8:12.2.0.1.\r\n            Required by:\r\n            project :project-name\r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n\r\n\r\n\r\nGradle\r\n\r\n    runtimeOnly &#39;com.oracle.ojdbc:ojdbc8:19.3.0.0&#39;\r\n\r\n    liquibaseRuntime &quot;com.oracle.jdbc:ojdbc8:12.2.0.1&quot;\r\n    liquibaseRuntime &#39;org.liquibase:liquibase-core:3.8.1&#39;\r\n  \r\n    liquibaseRuntime &#39;org.liquibase.ext:liquibase-hibernate5:3.8&#39;\r\n    liquibaseRuntime sourceSets.main.runtimeClasspath\r\n    liquibaseRuntime sourceSets.main.output\r\n\r\nI&#39;ve tried adding `&quot;com.oracle.jdbc:ojdbc8:12.2.0.1&quot;` as a dependency but it still can&#39;t find it. \r\n\r\n    implementation &quot;com.oracle.jdbc:ojdbc8:12.2.0.1&quot;\r\n\r\nI&#39;m assuming this is something obvious but I can&#39;t find anything online about it. \r\n\r\nHow can I resolve this? ","title":"Liquibase clearChecksums Could not find com.oracle.jdbc:ojdbc8:xx.x.x.x","body":"<p>I would like to clear the checkSums for Liquibase. If I run the gradle command <code>gradle clearChecksums</code> I get an error.</p>\n<pre><code>Execution failed for task ':project-name:clearChecksums'.\n&gt; Could not resolve all files for configuration ':project-name:liquibaseRuntime'.\n&gt; Could not find com.oracle.jdbc:ojdbc8:12.2.0.1.\n        Required by:\n        project :project-name\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>Gradle</p>\n<pre><code>runtimeOnly 'com.oracle.ojdbc:ojdbc8:19.3.0.0'\n\nliquibaseRuntime &quot;com.oracle.jdbc:ojdbc8:12.2.0.1&quot;\nliquibaseRuntime 'org.liquibase:liquibase-core:3.8.1'\n\nliquibaseRuntime 'org.liquibase.ext:liquibase-hibernate5:3.8'\nliquibaseRuntime sourceSets.main.runtimeClasspath\nliquibaseRuntime sourceSets.main.output\n</code></pre>\n<p>I've tried adding <code>&quot;com.oracle.jdbc:ojdbc8:12.2.0.1&quot;</code> as a dependency but it still can't find it.</p>\n<pre><code>implementation &quot;com.oracle.jdbc:ojdbc8:12.2.0.1&quot;\n</code></pre>\n<p>I'm assuming this is something obvious but I can't find anything online about it.</p>\n<p>How can I resolve this?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"score":0,"creation_date":1637922160,"post_id":70122617,"comment_id":123957629,"body_markdown":"Do you use java 8 or higher?","body":"Do you use java 8 or higher?"},{"owner":{"account_id":23460320,"reputation":21,"user_id":17515262,"display_name":"gconlon02"},"score":0,"creation_date":1637923472,"post_id":70122617,"comment_id":123958170,"body_markdown":"Using Java 11 @StephanHogenboom","body":"Using Java 11 @StephanHogenboom"},{"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"score":0,"creation_date":1637924387,"post_id":70122617,"comment_id":123958522,"body_markdown":"@gconlon02 i posted a answer can you tell me if this is helpful for you? If the streaming api is a bit to complex this can also be rewritten to for loops","body":"@gconlon02 i posted a answer can you tell me if this is helpful for you? If the streaming api is a bit to complex this can also be rewritten to for loops"},{"owner":{"account_id":23460320,"reputation":21,"user_id":17515262,"display_name":"gconlon02"},"score":1,"creation_date":1637925028,"post_id":70122617,"comment_id":123958736,"body_markdown":"@StephanHogenboom Yea I ended up implementing it via a for loop. I already had a flat map for merging the arrays. Thanks. You can see my solution above","body":"@StephanHogenboom Yea I ended up implementing it via a for loop. I already had a flat map for merging the arrays. Thanks. You can see my solution above"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637928345,"post_id":70122617,"comment_id":123959853,"body_markdown":"Don’t update the question to add an answer, add an answer instead.","body":"Don’t update the question to add an answer, add an answer instead."},{"owner":{"account_id":23460320,"reputation":21,"user_id":17515262,"display_name":"gconlon02"},"score":0,"creation_date":1637930870,"post_id":70122617,"comment_id":123960743,"body_markdown":"@jewelsea Thanks, didn&#39;t know you could do that","body":"@jewelsea Thanks, didn&#39;t know you could do that"}],"answers":[{"tags":[],"owner":{"account_id":9767945,"reputation":1563,"user_id":7240806,"display_name":"Stephan Hogenboom"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638259453,"creation_date":1637924133,"answer_id":70123306,"question_id":70122617,"body_markdown":"I don&#39;t know what the merge arrays function does. But i think you can optimize your code a bit using the code below:\r\n\r\n```\r\npublic static String[] randomPrefixGenerator(int[] values) {\r\n\t\t\r\n\t\t// we can use a map to retrieve your prefixes by their index\r\n\t\tMap&lt;Integer, String&gt; prefixNameByIndex = Map.of(\r\n\t\t\t\t0, &quot;R1&quot;,\r\n\t\t\t\t1, &quot;R2&quot;,\r\n\t\t\t\t2, &quot;R3&quot;,\r\n\t\t\t\t3, &quot;R5&quot;,\r\n\t\t\t\t4, &quot;RD2&quot;,\r\n\t\t\t\t5, &quot;RD8&quot;,\r\n\t\t\t\t6, &quot;M1&quot;,\r\n\t\t\t\t7, &quot;G&quot;,\r\n\t\t\t\t8, &quot;SR&quot;,\r\n\t\t\t\t9, &quot;LC&quot;\r\n\t\t);\r\n\t\t\r\n\t\t// this stream goes through value 0 to 9\r\n\t\treturn IntStream.rangeClosed(0, 9)\r\n\t\t\t\t// we need objects for the flatmap to work\r\n\t\t\t\t.boxed()\r\n\t\t\t\t// flatmap so we get a single list of strings\r\n\t\t\t\t.flatMap(generatePrefixNamesForIndex(values, prefixNameByIndex))\r\n\t\t\t\t.collect(Collectors.toList())\r\n\t\t\t\t// the to array call as last\r\n\t\t\t\t.toArray(String[]::new);\r\n\t\t\r\n}\r\n\r\nprivate static Function&lt;Integer, Stream&lt;? extends String&gt;&gt; generatePrefixNamesForIndex(int[] values, Map&lt;Integer, String&gt; prefixNameByIndex) {\r\n\t\treturn index -&gt; {\r\n\t\t\t// we can retrieve the prefix from the map by its index\r\n\t\t\tvar prefixValue = prefixNameByIndex.get(index);\r\n\t\t\t// retrieve te number of iterations from parameters given in the method call\r\n\t\t\treturn IntStream.range(0, values[index])\r\n\t\t\t\t\t.mapToObj(i -&gt; prefixValue + random9digits());\r\n\t\t};\r\n}\r\n\r\n```","title":"Is there a better way to write this method in Java - Random Generator","body":"<p>I don't know what the merge arrays function does. But i think you can optimize your code a bit using the code below:</p>\n<pre><code>public static String[] randomPrefixGenerator(int[] values) {\n        \n        // we can use a map to retrieve your prefixes by their index\n        Map&lt;Integer, String&gt; prefixNameByIndex = Map.of(\n                0, &quot;R1&quot;,\n                1, &quot;R2&quot;,\n                2, &quot;R3&quot;,\n                3, &quot;R5&quot;,\n                4, &quot;RD2&quot;,\n                5, &quot;RD8&quot;,\n                6, &quot;M1&quot;,\n                7, &quot;G&quot;,\n                8, &quot;SR&quot;,\n                9, &quot;LC&quot;\n        );\n        \n        // this stream goes through value 0 to 9\n        return IntStream.rangeClosed(0, 9)\n                // we need objects for the flatmap to work\n                .boxed()\n                // flatmap so we get a single list of strings\n                .flatMap(generatePrefixNamesForIndex(values, prefixNameByIndex))\n                .collect(Collectors.toList())\n                // the to array call as last\n                .toArray(String[]::new);\n        \n}\n\nprivate static Function&lt;Integer, Stream&lt;? extends String&gt;&gt; generatePrefixNamesForIndex(int[] values, Map&lt;Integer, String&gt; prefixNameByIndex) {\n        return index -&gt; {\n            // we can retrieve the prefix from the map by its index\n            var prefixValue = prefixNameByIndex.get(index);\n            // retrieve te number of iterations from parameters given in the method call\n            return IntStream.range(0, values[index])\n                    .mapToObj(i -&gt; prefixValue + random9digits());\n        };\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23460320,"reputation":21,"user_id":17515262,"display_name":"gconlon02"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637930829,"creation_date":1637930829,"answer_id":70124672,"question_id":70122617,"body_markdown":"**Updated**\r\n\r\nI ended up thinking of a solution.\r\n\r\n```java\r\n\r\nprivate static String[] urnCounter(String[] urns){\r\n        String[] urnsProcessed = new String[Integer.parseInt(urns[0])];\r\n\r\n            if (Integer.parseInt(urns[0]) &gt;= 0){\r\n                for (int j = 0; j &lt; Integer.parseInt(urns[0]); j++) {\r\n                    urnsProcessed[j] = urns[1] + random9Digits();\r\n                }\r\n            }\r\n        return urnsProcessed;\r\n    }\r\n    public static String[] randomURNGenerator1(int[] values){\r\n\r\n        String[] urnR1 = urnCounter(new String[]{String.valueOf(values[0]),&quot;R1&quot;});\r\n        String[] urnR2 = urnCounter(new String[]{String.valueOf(values[1]),&quot;R2&quot;});\r\n        String[] urnR3 = urnCounter(new String[]{String.valueOf(values[2]),&quot;R3&quot;});\r\n        String[] urnR5 = urnCounter(new String[]{String.valueOf(values[3]),&quot;R5&quot;});\r\n        String[] urnRD2 = urnCounter(new String[]{String.valueOf(values[4]),&quot;RD2&quot;});\r\n        String[] urnRD8 = urnCounter(new String[]{String.valueOf(values[5]),&quot;RD8&quot;});\r\n        String[] urnG = urnCounter(new String[]{String.valueOf(values[7]),&quot;G&quot;});\r\n        String[] urnM1 = urnCounter(new String[]{String.valueOf(values[6]),&quot;M1&quot;});\r\n        String[] urnLC = urnCounter(new String[]{String.valueOf(values[9]),&quot;LC&quot;});\r\n        String[] urnSR = urnCounter(new String[]{String.valueOf(values[8]),&quot;SR&quot;});\r\n\r\n        return Arrays.stream(mergeArray(urnR1,urnR2, urnR3,urnR5, urnRD2, urnRD8, urnG, urnM1, urnLC, urnSR)).toArray(String[]::new);\r\n    }\r\n    // function to merge two arrays\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Object[] mergeArray(T[]... arr) {\r\n        Object[] array = Stream.of().flatMap(Stream::of).toArray();\r\n        for(T[] passedObject: arr){\r\n            array = Stream.of(array, passedObject).flatMap(Stream::of).toArray(String[]::new);\r\n        }\r\n        return array;\r\n    }\r\n\r\n```","title":"Is there a better way to write this method in Java - Random Generator","body":"<p><strong>Updated</strong></p>\n<p>I ended up thinking of a solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate static String[] urnCounter(String[] urns){\n        String[] urnsProcessed = new String[Integer.parseInt(urns[0])];\n\n            if (Integer.parseInt(urns[0]) &gt;= 0){\n                for (int j = 0; j &lt; Integer.parseInt(urns[0]); j++) {\n                    urnsProcessed[j] = urns[1] + random9Digits();\n                }\n            }\n        return urnsProcessed;\n    }\n    public static String[] randomURNGenerator1(int[] values){\n\n        String[] urnR1 = urnCounter(new String[]{String.valueOf(values[0]),&quot;R1&quot;});\n        String[] urnR2 = urnCounter(new String[]{String.valueOf(values[1]),&quot;R2&quot;});\n        String[] urnR3 = urnCounter(new String[]{String.valueOf(values[2]),&quot;R3&quot;});\n        String[] urnR5 = urnCounter(new String[]{String.valueOf(values[3]),&quot;R5&quot;});\n        String[] urnRD2 = urnCounter(new String[]{String.valueOf(values[4]),&quot;RD2&quot;});\n        String[] urnRD8 = urnCounter(new String[]{String.valueOf(values[5]),&quot;RD8&quot;});\n        String[] urnG = urnCounter(new String[]{String.valueOf(values[7]),&quot;G&quot;});\n        String[] urnM1 = urnCounter(new String[]{String.valueOf(values[6]),&quot;M1&quot;});\n        String[] urnLC = urnCounter(new String[]{String.valueOf(values[9]),&quot;LC&quot;});\n        String[] urnSR = urnCounter(new String[]{String.valueOf(values[8]),&quot;SR&quot;});\n\n        return Arrays.stream(mergeArray(urnR1,urnR2, urnR3,urnR5, urnRD2, urnRD8, urnG, urnM1, urnLC, urnSR)).toArray(String[]::new);\n    }\n    // function to merge two arrays\n    @SafeVarargs\n    public static &lt;T&gt; Object[] mergeArray(T[]... arr) {\n        Object[] array = Stream.of().flatMap(Stream::of).toArray();\n        for(T[] passedObject: arr){\n            array = Stream.of(array, passedObject).flatMap(Stream::of).toArray(String[]::new);\n        }\n        return array;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":23460320,"reputation":21,"user_id":17515262,"display_name":"gconlon02"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70123306,"answer_count":2,"score":0,"last_activity_date":1638259453,"creation_date":1637921013,"question_id":70122617,"body_markdown":"I have this method that takes in an array of spinner values. It takes the values and adds them to a prefix with 9 random digits.\r\n\r\nSo far, I have quite a lot of prefixes that go along with each spinner value.\r\n\r\nEvery value is checking if it&#39;s greater than 0, looping over the amount of values then adding the prefix + 9 digits. e.g R1 spinner value = 10, then an array gets spit out with R1+9DIGITS 10 times\r\n\r\nThere are so many if statements, and I&#39;m sure there would be a better way. You an see below its extremely repetitive. Any help or ideas would be appreciated. Thanks!\r\n```java\r\n    Spinner&lt;Integer&gt;[] spinners = new Spinner[]{\r\n                r1Spinner, r2Spinner, r3Spinner, r5Spinner, rd2Spinner, rd8Spinner,m1Spinner,gSpinner, srSpinner, lcSpinner, singleURNSpinner,\r\n                customPrefixSpinner, prefixSpinner};\r\n\r\n     public static String[] randomPrefixGenerator(int[] values){\r\n\r\n        int R1 = values[0];\r\n        int R2 = values[1];\r\n        int R3 = values[2];\r\n        int R5 = values[3];\r\n        int RD2 = values[4];\r\n        int RD8 = values[5];\r\n        int M1 = values[6];\r\n        int G = values[7];\r\n        int SR = values[8];\r\n        int LC = values[9];\r\n\r\n        String[] urnR1 = new String[R1];\r\n        String[] urnR2 = new String[R2];\r\n        String[] urnR3 = new String[R3];\r\n        String[] urnR5 = new String[R5];\r\n        String[] urnRD2 = new String[RD2];\r\n        String[] urnRD8 = new String[RD8];\r\n        String[] urnG = new String[G];\r\n        String[] urnM1 = new String[M1];\r\n        String[] urnLC = new String[LC];\r\n        String[] urnSR = new String[SR];\r\n\r\n        if (R1 &gt;= 0){\r\n            for (int i = 0; i &lt; R1 ; i++) {\r\n                urnR1[i] = &quot;R1&quot; + random9digits();\r\n            }\r\n        }\r\n        if (R2 &gt;= 0){\r\n            for (int i = 0; i &lt; R2 ; i++) {\r\n                urnR2[i] = &quot;R2&quot; + random9digits();\r\n            }\r\n        }\r\n        if (R3 &gt;= 0){\r\n            for (int i = 0; i &lt; R3 ; i++) {\r\n                urnR3[i] = &quot;R3&quot; + random9digits();\r\n            }\r\n        }\r\n        if (R5 &gt;= 0){\r\n            for (int i = 0; i &lt; R5 ; i++) {\r\n                urnR5[i] = &quot;R5&quot; + random9digits();\r\n            }\r\n        }\r\n        if (RD2 &gt;= 0){\r\n            for (int i = 0; i &lt; RD2 ; i++) {\r\n                urnRD2[i] = &quot;RD2&quot; + random9digits();\r\n            }\r\n        }\r\n        if (RD8 &gt;= 0){\r\n            for (int i = 0; i &lt; RD8 ; i++) {\r\n                urnRD8[i] = &quot;RD8&quot; + random9digits();\r\n            }\r\n        }\r\n        if (M1 &gt;= 0){\r\n            for (int i = 0; i &lt; M1 ; i++) {\r\n                urnM1[i] = &quot;M1&quot; + random9digits();\r\n            }\r\n        }\r\n        if (G &gt;= 0){\r\n            for (int i = 0; i &lt; G ; i++) {\r\n                urnG[i] = &quot;G&quot; + random9digits();\r\n            }\r\n        }\r\n        if (LC &gt;= 0){\r\n            for (int i = 0; i &lt; LC ; i++) {\r\n                urnLC[i] = &quot;LC&quot; + random9digits();\r\n            }\r\n        }\r\n        if (SR &gt;= 0){\r\n            for (int i = 0; i &lt; SR ; i++) {\r\n                urnSR[i] = &quot;SR&quot; + random9digits();\r\n            }\r\n        }\r\n        return Arrays.stream(mergeArray(urnR1,urnR2, urnR3,urnR5, urnRD2, urnRD8, urnG, urnM1, urnLC, urnSR)).toArray(String[]::new);\r\n    }\r\n```\r\n","title":"Is there a better way to write this method in Java - Random Generator","body":"<p>I have this method that takes in an array of spinner values. It takes the values and adds them to a prefix with 9 random digits.</p>\n<p>So far, I have quite a lot of prefixes that go along with each spinner value.</p>\n<p>Every value is checking if it's greater than 0, looping over the amount of values then adding the prefix + 9 digits. e.g R1 spinner value = 10, then an array gets spit out with R1+9DIGITS 10 times</p>\n<p>There are so many if statements, and I'm sure there would be a better way. You an see below its extremely repetitive. Any help or ideas would be appreciated. Thanks!</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Spinner&lt;Integer&gt;[] spinners = new Spinner[]{\n                r1Spinner, r2Spinner, r3Spinner, r5Spinner, rd2Spinner, rd8Spinner,m1Spinner,gSpinner, srSpinner, lcSpinner, singleURNSpinner,\n                customPrefixSpinner, prefixSpinner};\n\n     public static String[] randomPrefixGenerator(int[] values){\n\n        int R1 = values[0];\n        int R2 = values[1];\n        int R3 = values[2];\n        int R5 = values[3];\n        int RD2 = values[4];\n        int RD8 = values[5];\n        int M1 = values[6];\n        int G = values[7];\n        int SR = values[8];\n        int LC = values[9];\n\n        String[] urnR1 = new String[R1];\n        String[] urnR2 = new String[R2];\n        String[] urnR3 = new String[R3];\n        String[] urnR5 = new String[R5];\n        String[] urnRD2 = new String[RD2];\n        String[] urnRD8 = new String[RD8];\n        String[] urnG = new String[G];\n        String[] urnM1 = new String[M1];\n        String[] urnLC = new String[LC];\n        String[] urnSR = new String[SR];\n\n        if (R1 &gt;= 0){\n            for (int i = 0; i &lt; R1 ; i++) {\n                urnR1[i] = &quot;R1&quot; + random9digits();\n            }\n        }\n        if (R2 &gt;= 0){\n            for (int i = 0; i &lt; R2 ; i++) {\n                urnR2[i] = &quot;R2&quot; + random9digits();\n            }\n        }\n        if (R3 &gt;= 0){\n            for (int i = 0; i &lt; R3 ; i++) {\n                urnR3[i] = &quot;R3&quot; + random9digits();\n            }\n        }\n        if (R5 &gt;= 0){\n            for (int i = 0; i &lt; R5 ; i++) {\n                urnR5[i] = &quot;R5&quot; + random9digits();\n            }\n        }\n        if (RD2 &gt;= 0){\n            for (int i = 0; i &lt; RD2 ; i++) {\n                urnRD2[i] = &quot;RD2&quot; + random9digits();\n            }\n        }\n        if (RD8 &gt;= 0){\n            for (int i = 0; i &lt; RD8 ; i++) {\n                urnRD8[i] = &quot;RD8&quot; + random9digits();\n            }\n        }\n        if (M1 &gt;= 0){\n            for (int i = 0; i &lt; M1 ; i++) {\n                urnM1[i] = &quot;M1&quot; + random9digits();\n            }\n        }\n        if (G &gt;= 0){\n            for (int i = 0; i &lt; G ; i++) {\n                urnG[i] = &quot;G&quot; + random9digits();\n            }\n        }\n        if (LC &gt;= 0){\n            for (int i = 0; i &lt; LC ; i++) {\n                urnLC[i] = &quot;LC&quot; + random9digits();\n            }\n        }\n        if (SR &gt;= 0){\n            for (int i = 0; i &lt; SR ; i++) {\n                urnSR[i] = &quot;SR&quot; + random9digits();\n            }\n        }\n        return Arrays.stream(mergeArray(urnR1,urnR2, urnR3,urnR5, urnRD2, urnRD8, urnG, urnM1, urnLC, urnSR)).toArray(String[]::new);\n    }\n</code></pre>\n"},{"tags":["java","list","arraylist","collections","apache-poi"],"comments":[{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1638228597,"post_id":70162506,"comment_id":124028249,"body_markdown":"So if the code works for one excel sheet works but not the other, you might want to add a screenshot of the excel sheets to help us understand the problem.","body":"So if the code works for one excel sheet works but not the other, you might want to add a screenshot of the excel sheets to help us understand the problem."},{"owner":{"display_name":"user15841461"},"score":0,"creation_date":1638229288,"post_id":70162506,"comment_id":124028378,"body_markdown":"@LuckyBandit74 I added a screenshot of the Excelsheet","body":"@LuckyBandit74 I added a screenshot of the Excelsheet"},{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1638229903,"post_id":70162506,"comment_id":124028494,"body_markdown":"`Cell` indices in Apache POI are 0-based; do you want column G or something else?","body":"<code>Cell</code> indices in Apache POI are 0-based; do you want column G or something else?"},{"owner":{"display_name":"user15841461"},"score":0,"creation_date":1638230166,"post_id":70162506,"comment_id":124028549,"body_markdown":"@rgettman I  want to get D, E and F, but first i wanted to try first with one column. I changed `row.getCell(5);` but nothing changed. I get a `NullpointerException`","body":"@rgettman I  want to get D, E and F, but first i wanted to try first with one column. I changed <code>row.getCell(5);</code> but nothing changed. I get a <code>NullpointerException</code>"},{"owner":{"display_name":"user15841461"},"score":0,"creation_date":1638230271,"post_id":70162506,"comment_id":124028577,"body_markdown":"@LuckyBandit74 i have below a Foreach to print out the NumericCellValue. Is that what you mean?","body":"@LuckyBandit74 i have below a Foreach to print out the NumericCellValue. Is that what you mean?"},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1638230352,"post_id":70162506,"comment_id":124028587,"body_markdown":"Well firstly, the NullPointerException should be caught at a certain line of code, may you point out which line is causing the exception? And disregard what I said earlier","body":"Well firstly, the NullPointerException should be caught at a certain line of code, may you point out which line is causing the exception? And disregard what I said earlier"},{"owner":{"display_name":"user15841461"},"score":0,"creation_date":1638230961,"post_id":70162506,"comment_id":124028722,"body_markdown":"@LuckyBandit74 If a click on the exception it shows me the last line. The line &#180;System.out.println(c.getNumericCellValue());&#180;. But in Debugmode i see the value of Cell what i insert in the arraylist is Null in the second time.","body":"@LuckyBandit74 If a click on the exception it shows me the last line. The line &#180;System.out.println(c.getNumericCellValue());&#180;. But in Debugmode i see the value of Cell what i insert in the arraylist is Null in the second time."},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1638231003,"post_id":70162506,"comment_id":124028729,"body_markdown":"In the excel sheet, is row 2 a merged cell? If it is, I think that is considered as cell 0. Before the for-each loop, try adding another gyro.remove(0) as well to remove that Null cell. This is a guess and check situation: just keep trying to figure out where that Null cell is. In fact, just print out the gyro ArrayList after all information has been added to it. Use the print statement to your advatnage","body":"In the excel sheet, is row 2 a merged cell? If it is, I think that is considered as cell 0. Before the for-each loop, try adding another gyro.remove(0) as well to remove that Null cell. This is a guess and check situation: just keep trying to figure out where that Null cell is. In fact, just print out the gyro ArrayList after all information has been added to it. Use the print statement to your advatnage"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1638231863,"post_id":70162506,"comment_id":124028905,"body_markdown":"your code needs to omit the values for the first 2 rows, not just 1 row - look at your screenshot, the data doesn&#39;t start until the 3rd row","body":"your code needs to omit the values for the first 2 rows, not just 1 row - look at your screenshot, the data doesn&#39;t start until the 3rd row"},{"owner":{"display_name":"user15841461"},"score":0,"creation_date":1638232159,"post_id":70162506,"comment_id":124028957,"body_markdown":"@LuckyBandit74 @PJ Fanning No the row 2 its not merged. I put a System.out.println(cell.getCellType() in the while loop after the add Statement. it add the first row `Column6`. I also tried gyro.remove(0) and gyro.remove(1) but the exception is still there","body":"@LuckyBandit74 @PJ Fanning No the row 2 its not merged. I put a System.out.println(cell.getCellType() in the while loop after the add Statement. it add the first row <code>Column6</code>. I also tried gyro.remove(0) and gyro.remove(1) but the exception is still there"},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":1,"creation_date":1638233250,"post_id":70162506,"comment_id":124029158,"body_markdown":"I fixed a mistake in my earlier comment, do gyro.remove(0) twice. Do not remove 0 then 1 as that won’t remove the first 2 rows. The key here is that your data starts in the third row as @PJ Fanning mentioned","body":"I fixed a mistake in my earlier comment, do gyro.remove(0) twice. Do not remove 0 then 1 as that won’t remove the first 2 rows. The key here is that your data starts in the third row as @PJ Fanning mentioned"},{"owner":{"display_name":"user15841461"},"score":0,"creation_date":1638234040,"post_id":70162506,"comment_id":124029284,"body_markdown":"Thank you and @PJ Fanning Now the Exception is fixed. I get all the data now. I was wondereing that it didnt showed me the data before.","body":"Thank you and @PJ Fanning Now the Exception is fixed. I get all the data now. I was wondereing that it didnt showed me the data before."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638258912,"creation_date":1638258912,"answer_id":70165970,"question_id":70162506,"body_markdown":"If you want to omit `NullPointerExceptions` just use `DataFormatter` to format the cells into `strings` for you. Regardless of the cell type, it will format it in the correct format and whenever the cells are `null`, it just returns an empty `string`.\r\n\r\ne.g.\r\n\r\n```java\r\nDataFormatter dataFormatter = new DataFormatter();\r\n\r\nfor (Cell c : gyro) {\r\n   System.out.println(dataFormatter.formatCellValue(c);\r\n}\r\n```\r\n\r\nAnd debugging may help, set breakpoints whenever you have such problems.","title":"How to read out cells of a Excelsheet in Java","body":"<p>If you want to omit <code>NullPointerExceptions</code> just use <code>DataFormatter</code> to format the cells into <code>strings</code> for you. Regardless of the cell type, it will format it in the correct format and whenever the cells are <code>null</code>, it just returns an empty <code>string</code>.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DataFormatter dataFormatter = new DataFormatter();\n\nfor (Cell c : gyro) {\n   System.out.println(dataFormatter.formatCellValue(c);\n}\n</code></pre>\n<p>And debugging may help, set breakpoints whenever you have such problems.</p>\n"}],"owner":{"display_name":"user15841461"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70165970,"answer_count":1,"score":0,"last_activity_date":1638258912,"creation_date":1638228230,"question_id":70162506,"body_markdown":"[![1]][1]\r\n\r\nHello everyone,\r\n\r\ni want to read cells from a Excelsheet and put the data in a Arraylist. But get i a `NullpointerException`. I am really frustated, because in an another Excelsheet it works but now not. The Excelsheet self is not empty or something like this.\r\n\r\nIs there something what i don&#39;t see?\r\n\r\n\r\nHere is my Code:\r\n\r\n ```\r\n\t\tList&lt;Cell&gt; gyro = new ArrayList();\r\n\t\tFile filegyro = new File(&quot;./data/Gyro_convert.xlsx&quot;); \r\n\t\tFileInputStream fisgyro = new FileInputStream(filegyro);   \r\n\t\tXSSFWorkbook wbgyro = new XSSFWorkbook(fisgyro);\r\n\t\tXSSFSheet sheetgyro = wbgyro.getSheetAt(0);\r\n\t\tIterator iteratorgyro = sheetgyro.iterator();\r\n\r\n\r\n\t\twhile (iteratorgyro.hasNext()) {\r\n\t\t\tXSSFRow row = (XSSFRow) iteratorgyro.next();\r\n\r\n\t\t\tIterator cellIterator = row.cellIterator();\r\n\t\t\t\r\n\t\t\tCell cell = row.getCell(5);\r\n\t\t\tgyro.add(cell);\r\n\r\n\t\t}\r\n\r\n\t\tgyro.remove(0); //  because the first cell is String \r\n\t\tfor (Cell c : gyro) {\r\n\t\t\tSystem.out.println(c.getNumericCellValue());\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RDwVu.png","title":"How to read out cells of a Excelsheet in Java","body":"<p><a href=\"https://i.stack.imgur.com/RDwVu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RDwVu.png\" alt=\"1\" /></a></p>\n<p>Hello everyone,</p>\n<p>i want to read cells from a Excelsheet and put the data in a Arraylist. But get i a <code>NullpointerException</code>. I am really frustated, because in an another Excelsheet it works but now not. The Excelsheet self is not empty or something like this.</p>\n<p>Is there something what i don't see?</p>\n<p>Here is my Code:</p>\n<pre><code>       List&lt;Cell&gt; gyro = new ArrayList();\n       File filegyro = new File(&quot;./data/Gyro_convert.xlsx&quot;); \n       FileInputStream fisgyro = new FileInputStream(filegyro);   \n       XSSFWorkbook wbgyro = new XSSFWorkbook(fisgyro);\n       XSSFSheet sheetgyro = wbgyro.getSheetAt(0);\n       Iterator iteratorgyro = sheetgyro.iterator();\n\n\n       while (iteratorgyro.hasNext()) {\n           XSSFRow row = (XSSFRow) iteratorgyro.next();\n\n           Iterator cellIterator = row.cellIterator();\n           \n           Cell cell = row.getCell(5);\n           gyro.add(cell);\n\n       }\n\n       gyro.remove(0); //  because the first cell is String \n       for (Cell c : gyro) {\n           System.out.println(c.getNumericCellValue());\n       }\n\n   }\n</code></pre>\n"},{"tags":["java","testng"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636535310,"creation_date":1636535310,"answer_id":69910461,"question_id":69910316,"body_markdown":"Upgrade you version, as you see in [Changes][1], it was added **after** 6.14.3 version\r\n\r\n&gt;Fixed: GITHUB-549 and GITHUB-780: Introduce onlyForGroups attribute for @BeforeMethod and @AfterMethod (Sergei Tachenov)\r\n\r\n[1]:https://github.com/cbeust/testng/blob/d615583e2d63c809e9cf02357cb5338be24198ab/CHANGES.txt","title":"TestNG @BeforeMethod onlyForGroups option removed","body":"<p>Upgrade you version, as you see in <a href=\"https://github.com/cbeust/testng/blob/d615583e2d63c809e9cf02357cb5338be24198ab/CHANGES.txt\" rel=\"nofollow noreferrer\">Changes</a>, it was added <strong>after</strong> 6.14.3 version</p>\n<blockquote>\n<p>Fixed: GITHUB-549 and GITHUB-780: Introduce onlyForGroups attribute for @BeforeMethod and @AfterMethod (Sergei Tachenov)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636535342,"creation_date":1636535342,"answer_id":69910467,"question_id":69910316,"body_markdown":"Notice the version of TestNG used in the dependency.\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;7.4.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class TestNgBeforeMethodAnnotation {\r\n    \r\n        @BeforeMethod(onlyForGroups = {&quot;Group1&quot;}, groups = {&quot;Group1&quot;})\r\n        public void setupForGroup1()\r\n        {\r\n            System.out.println(&quot;Before Method for Group 1 called&quot;);\r\n        }\r\n    \r\n        @Test(groups = {&quot;Group1&quot;})\r\n        public void testCaseInGroup1()\r\n        {\r\n            System.out.println(&quot;testCaseInGroup1&quot;);\r\n        }\r\n    \r\n    }\r\n","title":"TestNG @BeforeMethod onlyForGroups option removed","body":"<p>Notice the version of TestNG used in the dependency.</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.4.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\npublic class TestNgBeforeMethodAnnotation {\n\n    @BeforeMethod(onlyForGroups = {&quot;Group1&quot;}, groups = {&quot;Group1&quot;})\n    public void setupForGroup1()\n    {\n        System.out.println(&quot;Before Method for Group 1 called&quot;);\n    }\n\n    @Test(groups = {&quot;Group1&quot;})\n    public void testCaseInGroup1()\n    {\n        System.out.println(&quot;testCaseInGroup1&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5076468,"reputation":125,"user_id":4073704,"display_name":"Anto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69910461,"answer_count":2,"score":1,"last_activity_date":1638258845,"creation_date":1636534706,"question_id":69910316,"body_markdown":"I was looking for some way to have some @beforeMethod logic executing only for a group of java unit tests (using TestNG ). \r\nI found on TestNG documentation:\r\n\r\n&gt; onlyForGroups:\tOnly for @BeforeMethod and @AfterMethod. If specified,\r\n&gt; then this setup/teardown method will only be invoked if the\r\n&gt; corresponding test method belongs to one of the listed groups.\r\n\r\nWhich seems to be what I&#39;m looking for.\r\n\r\nBut when I try to use it, it&#39;s not implemented in @BeforeMethod and @AfterMethod annotations. I couldn&#39;t find find any information on the web about it missing.\r\n\r\nMaven dependency :\r\n\r\n             &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;6.14.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nThanks for the help\r\n\r\n\r\n","title":"TestNG @BeforeMethod onlyForGroups option removed","body":"<p>I was looking for some way to have some @beforeMethod logic executing only for a group of java unit tests (using TestNG ).\nI found on TestNG documentation:</p>\n<blockquote>\n<p>onlyForGroups:    Only for @BeforeMethod and @AfterMethod. If specified,\nthen this setup/teardown method will only be invoked if the\ncorresponding test method belongs to one of the listed groups.</p>\n</blockquote>\n<p>Which seems to be what I'm looking for.</p>\n<p>But when I try to use it, it's not implemented in @BeforeMethod and @AfterMethod annotations. I couldn't find find any information on the web about it missing.</p>\n<p>Maven dependency :</p>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.14.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Thanks for the help</p>\n"},{"tags":["java","spring","hibernate","h2"],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638256932,"creation_date":1638256932,"answer_id":70165675,"question_id":70165638,"body_markdown":"**Always** specify the target columns in INSERT statements: \r\n\r\n    INSERT INTO person_client \r\n      (id, first_name, last_name, address, home_phone, work_phone) \r\n    VALUES \r\n      (1, &#39;firstName&#39;, &#39;lastName&#39;, &#39;paper street&#39;, &#39;+123123&#39;, &#39;+321321&#39;)\r\n\r\nIf you don&#39;t specify the target columns, the values are matched by position and apparently the columns are created in a different order than you think they are. \r\n\r\n","title":"H2 database columns and values don&#39;t converge JAVA Spring","body":"<p><strong>Always</strong> specify the target columns in INSERT statements:</p>\n<pre><code>INSERT INTO person_client \n  (id, first_name, last_name, address, home_phone, work_phone) \nVALUES \n  (1, 'firstName', 'lastName', 'paper street', '+123123', '+321321')\n</code></pre>\n<p>If you don't specify the target columns, the values are matched by position and apparently the columns are created in a different order than you think they are.</p>\n"},{"tags":[],"owner":{"account_id":16147551,"reputation":169,"user_id":11656785,"display_name":"Uday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638258354,"creation_date":1638258354,"answer_id":70165867,"question_id":70165638,"body_markdown":"agree with @a_horse_with_no_name,  if you not specify column names it will insert based on the position/index.  And all your java variables are in string that is the reason it does&#39;t throw any classcast exception.","title":"H2 database columns and values don&#39;t converge JAVA Spring","body":"<p>agree with @a_horse_with_no_name,  if you not specify column names it will insert based on the position/index.  And all your java variables are in string that is the reason it does't throw any classcast exception.</p>\n"}],"owner":{"account_id":22390594,"reputation":937,"user_id":16732680,"display_name":"dokichan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70165675,"answer_count":2,"score":1,"last_activity_date":1638258354,"creation_date":1638256762,"question_id":70165638,"body_markdown":"I am new one at java and spring framework and have this problem. I have class, which has fields, that should be columns in H2. It looks like this:\r\n```java\r\npackage com.bankapp.bankwebapplication.models;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class PersonClient implements Client {\r\n    @Id\r\n    @Column(nullable = false, unique = true)\r\n    private Long id;\r\n\r\n    public Long getId() { return id; }\r\n    public void setId(Long id) { this.id = id; }\r\n\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n\r\n    public String getFirstName() { return firstName; }\r\n    public void setFirstName(String firstName) { this.firstName = firstName; }\r\n\r\n    @Column(nullable = false)\r\n    private String lastName;\r\n\r\n    public String getLastName() { return lastName; }\r\n    public void setLastName(String lastName) { this.lastName = lastName; }\r\n\r\n    @Column(nullable = false)\r\n    private String address;\r\n\r\n    public String getAddress() { return address; }\r\n    public void setAddress(String address) { this.address = address; }\r\n\r\n    @Column\r\n    private String workPhone;\r\n\r\n    public String getWorkPhone() { return workPhone; }\r\n    public void setWorkPhone(String workPhone) { this.workPhone = workPhone; }\r\n\r\n    @Column\r\n    private String homePhone;\r\n\r\n    public String getHomePhone() { return homePhone; }\r\n    public void setHomePhone(String homePhone) { this.homePhone = homePhone; }\r\n\r\n    @Override\r\n    public void getDetails() {\r\n\r\n    }\r\n}\r\n```\r\n\r\nAlso, I have `data.sql` file that inserts 1 value into that table:\r\n```sql\r\nINSERT INTO person_client VALUES (1, &#39;firstName&#39;, &#39;lastName&#39;, &#39;paper street&#39;, &#39;+123123&#39;, &#39;+321321&#39;)\r\n```\r\n\r\nSo, the problem is that it looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ktcr8.png\r\n\r\nWhy? And how can I fix that?","title":"H2 database columns and values don&#39;t converge JAVA Spring","body":"<p>I am new one at java and spring framework and have this problem. I have class, which has fields, that should be columns in H2. It looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.bankapp.bankwebapplication.models;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class PersonClient implements Client {\n    @Id\n    @Column(nullable = false, unique = true)\n    private Long id;\n\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n\n    @Column(nullable = false)\n    private String firstName;\n\n    public String getFirstName() { return firstName; }\n    public void setFirstName(String firstName) { this.firstName = firstName; }\n\n    @Column(nullable = false)\n    private String lastName;\n\n    public String getLastName() { return lastName; }\n    public void setLastName(String lastName) { this.lastName = lastName; }\n\n    @Column(nullable = false)\n    private String address;\n\n    public String getAddress() { return address; }\n    public void setAddress(String address) { this.address = address; }\n\n    @Column\n    private String workPhone;\n\n    public String getWorkPhone() { return workPhone; }\n    public void setWorkPhone(String workPhone) { this.workPhone = workPhone; }\n\n    @Column\n    private String homePhone;\n\n    public String getHomePhone() { return homePhone; }\n    public void setHomePhone(String homePhone) { this.homePhone = homePhone; }\n\n    @Override\n    public void getDetails() {\n\n    }\n}\n</code></pre>\n<p>Also, I have <code>data.sql</code> file that inserts 1 value into that table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO person_client VALUES (1, 'firstName', 'lastName', 'paper street', '+123123', '+321321')\n</code></pre>\n<p>So, the problem is that it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Ktcr8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ktcr8.png\" alt=\"enter image description here\" /></a></p>\n<p>Why? And how can I fix that?</p>\n"},{"tags":["java","c++","cmake","jvm","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638258286,"creation_date":1494267871,"answer_id":43854749,"question_id":43854458,"body_markdown":"It looks like you are missing JVM libraries.\r\n\r\nTake a look here:\r\n\r\nhttps://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo027\r\n\r\nI know this is not exactly what you are looking for, but before you reject helping hand, take a look there ;)\r\n\r\nThis sample is prepared for macOS. It uses Makefile, but you can still pick up some settings - like libraries used for building the code.\r\n\r\nPay attention to:\r\n\r\n    -L${JAVA_HOME}/jre/lib/server/ \\\r\n    \t-ljvm \\\r\n    \t-rpath ${JAVA_HOME}/jre/lib/server\r\n\r\nYou can also find sample code with CLion here:\r\n\r\nhttps://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNoD001\r\n\r\nThis is also not exactly what you are looking for, but still, maybe it will help.\r\n\r\nHave fun with JNI.","title":"Can&#39;t build project, have error - Undefined symbols for architecture x86_64: &quot;_JNI_CreateJavaVM&quot;","body":"<p>It looks like you are missing JVM libraries.</p>\n<p>Take a look here:</p>\n<p><a href=\"https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo027\" rel=\"nofollow noreferrer\">https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo027</a></p>\n<p>I know this is not exactly what you are looking for, but before you reject helping hand, take a look there ;)</p>\n<p>This sample is prepared for macOS. It uses Makefile, but you can still pick up some settings - like libraries used for building the code.</p>\n<p>Pay attention to:</p>\n<pre><code>-L${JAVA_HOME}/jre/lib/server/ \\\n    -ljvm \\\n    -rpath ${JAVA_HOME}/jre/lib/server\n</code></pre>\n<p>You can also find sample code with CLion here:</p>\n<p><a href=\"https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNoD001\" rel=\"nofollow noreferrer\">https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNoD001</a></p>\n<p>This is also not exactly what you are looking for, but still, maybe it will help.</p>\n<p>Have fun with JNI.</p>\n"}],"owner":{"account_id":4041682,"reputation":739,"user_id":3324341,"display_name":"Silvestr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43854749,"answer_count":1,"score":0,"last_activity_date":1638258286,"creation_date":1494266690,"question_id":43854458,"body_markdown":"Hello I have been tried to create JVM instance from C++ code:\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;iostream&gt;\r\n    \r\n    using namespace std;\r\n    \r\n    int main() {\r\n    \r\n        JavaVMOption jvmopt[1];\r\n        jvmopt[0].optionString = (char *) &quot;-Djava.class.path=&quot;;\r\n    \r\n        JavaVMInitArgs vmArgs;\r\n        vmArgs.version = JNI_VERSION_1_6;\r\n        vmArgs.nOptions = 1;\r\n        vmArgs.options = jvmopt;\r\n        vmArgs.ignoreUnrecognized = JNI_TRUE;\r\n    \r\n        // Create the JVM\r\n        JavaVM *javaVM;\r\n        JNIEnv *jniEnv;\r\n        long flag = JNI_CreateJavaVM(&amp;javaVM, (void**)\r\n                &amp;jniEnv, &amp;vmArgs);\r\n        if (flag == JNI_ERR) {\r\n            cout &lt;&lt; &quot;Error creating VM. Exiting...\\n&quot;;\r\n            return 1;\r\n        }\r\n    \r\n    \r\n    \r\n        javaVM-&gt;DestroyJavaVM();\r\n    \r\n        return 0;\r\n    }\r\n\r\nBut when I try to build my project(I am using CLion) build is finished with errors: \r\n\r\n    Undefined symbols for architecture x86_64:\r\n      &quot;_JNI_CreateJavaVM&quot;, referenced from:\r\n          _main in main.cpp.o\r\n    ld: symbol(s) not found for architecture x86_64\r\n\r\nThis is my CMakeLists.txt:\r\n\r\n\r\n    cmake_minimum_required(VERSION 3.7)\r\n    project(repl_native)\r\n    \r\n    set(CMAKE_CXX_STANDARD 14)\r\n    \r\n    find_package(Java REQUIRED)\r\n    find_package(JNI REQUIRED)\r\n    include(UseJava)\r\n    \r\n    include_directories(${JNI_INCLUDE_DIRS})\r\n    \r\n    set(SOURCE_FILES main.cpp)\r\n    add_executable(repl_native ${SOURCE_FILES})\r\n\r\nI think in CMakeList must be presented linking for shared library jvm.dylib or something like that, but I don&#39;t know where is located and how add this linking to cmake. Also I am using macOS.","title":"Can&#39;t build project, have error - Undefined symbols for architecture x86_64: &quot;_JNI_CreateJavaVM&quot;","body":"<p>Hello I have been tried to create JVM instance from C++ code:</p>\n\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n\n    JavaVMOption jvmopt[1];\n    jvmopt[0].optionString = (char *) \"-Djava.class.path=\";\n\n    JavaVMInitArgs vmArgs;\n    vmArgs.version = JNI_VERSION_1_6;\n    vmArgs.nOptions = 1;\n    vmArgs.options = jvmopt;\n    vmArgs.ignoreUnrecognized = JNI_TRUE;\n\n    // Create the JVM\n    JavaVM *javaVM;\n    JNIEnv *jniEnv;\n    long flag = JNI_CreateJavaVM(&amp;javaVM, (void**)\n            &amp;jniEnv, &amp;vmArgs);\n    if (flag == JNI_ERR) {\n        cout &lt;&lt; \"Error creating VM. Exiting...\\n\";\n        return 1;\n    }\n\n\n\n    javaVM-&gt;DestroyJavaVM();\n\n    return 0;\n}\n</code></pre>\n\n<p>But when I try to build my project(I am using CLion) build is finished with errors: </p>\n\n<pre><code>Undefined symbols for architecture x86_64:\n  \"_JNI_CreateJavaVM\", referenced from:\n      _main in main.cpp.o\nld: symbol(s) not found for architecture x86_64\n</code></pre>\n\n<p>This is my CMakeLists.txt:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.7)\nproject(repl_native)\n\nset(CMAKE_CXX_STANDARD 14)\n\nfind_package(Java REQUIRED)\nfind_package(JNI REQUIRED)\ninclude(UseJava)\n\ninclude_directories(${JNI_INCLUDE_DIRS})\n\nset(SOURCE_FILES main.cpp)\nadd_executable(repl_native ${SOURCE_FILES})\n</code></pre>\n\n<p>I think in CMakeList must be presented linking for shared library jvm.dylib or something like that, but I don't know where is located and how add this linking to cmake. Also I am using macOS.</p>\n"},{"tags":["java","spring","spring-rest","spring-web"],"comments":[{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":0,"creation_date":1534243059,"post_id":51839422,"comment_id":90631755,"body_markdown":"Just to be clear, you want to generate a csv file for your user?","body":"Just to be clear, you want to generate a csv file for your user?"},{"owner":{"account_id":8606921,"reputation":1580,"user_id":6446770,"accept_rate":100,"display_name":"miiiii"},"score":0,"creation_date":1534243060,"post_id":51839422,"comment_id":90631756,"body_markdown":"have you tried adding `consumes=&quot;text/csv&quot;`??","body":"have you tried adding <code>consumes=&quot;text&#47;csv&quot;</code>??"},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1534243060,"post_id":51839422,"comment_id":90631757,"body_markdown":"Is it consumer instead of producer","body":"Is it consumer instead of producer"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1534243117,"post_id":51839422,"comment_id":90631791,"body_markdown":"No, `consumes` is for what data is received from the user. But my user is not sending anything, so consumes is ignored here. I want to generate a csv file.","body":"No, <code>consumes</code> is for what data is received from the user. But my user is not sending anything, so consumes is ignored here. I want to generate a csv file."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1534243307,"post_id":51839422,"comment_id":90631916,"body_markdown":"@mohammedkhan it&#39;s not a duplicate. Especially I want the content negotiation to already select the correct response content type, as configured above. The query parameter `&amp;format=csv` should be favored, and as a result a `text/csv` should be generated, as configured in the `application.properties`.","body":"@mohammedkhan it&#39;s not a duplicate. Especially I want the content negotiation to already select the correct response content type, as configured above. The query parameter <code>&amp;format=csv</code> should be favored, and as a result a <code>text&#47;csv</code> should be generated, as configured in the <code>application.properties</code>."},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1534243623,"post_id":51839422,"comment_id":90632101,"body_markdown":"@membersound how come [this](https://stackoverflow.com/questions/44778791/how-to-add-csv-mimetype-to-spring-content-negotiation) and answer worked and how it not working in the same configuration(both from you). So are you missing any configuration?","body":"@membersound how come <a href=\"https://stackoverflow.com/questions/44778791/how-to-add-csv-mimetype-to-spring-content-negotiation\">this</a> and answer worked and how it not working in the same configuration(both from you). So are you missing any configuration?"},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":0,"creation_date":1534243934,"post_id":51839422,"comment_id":90632275,"body_markdown":"do you have `@EnableWebMvc` on `ContentNegotiationConfiguration` class? What version of Spring are you targeting?","body":"do you have <code>@EnableWebMvc</code> on <code>ContentNegotiationConfiguration</code> class? What version of Spring are you targeting?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1534244397,"post_id":51839422,"comment_id":90632584,"body_markdown":"`spring-boot-2.0.4.RELEASE`, which automatically adds `@EnableWebMvc`. I can also see during debug, that my `ContentNegotiationConfiguration` is loaded and the configurer actually contains `text/csv` as media type. The question is why it is not matched...","body":"<code>spring-boot-2.0.4.RELEASE</code>, which automatically adds <code>@EnableWebMvc</code>. I can also see during debug, that my <code>ContentNegotiationConfiguration</code> is loaded and the configurer actually contains <code>text&#47;csv</code> as media type. The question is why it is not matched..."}],"answers":[{"tags":[],"owner":{"account_id":1365439,"reputation":2068,"user_id":1301970,"accept_rate":90,"display_name":"reith"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1534244587,"creation_date":1534244587,"answer_id":51839924,"question_id":51839422,"body_markdown":"If you (client) expect csv content, client should pass `text/csv` as `Accept` header not `Content-Type`.","title":"How to accept text/csv as content-type in spring-web servlet?","body":"<p>If you (client) expect csv content, client should pass <code>text/csv</code> as <code>Accept</code> header not <code>Content-Type</code>.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9729,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51839924,"answer_count":1,"score":6,"last_activity_date":1638258110,"creation_date":1534242939,"question_id":51839422,"body_markdown":"I want to create a simple webservice that produces `text/csv` content. But I cannot request it:\r\n\r\n    @RestController\r\n    public class MyServlet {\r\n    \t@PostMapping(produces = {&quot;text/csv&quot;, &quot;application/json&quot;})\r\n    \tpublic Object post() {\r\n    \t\t//...\r\n    \t}\r\n    }\r\n\r\n    spring.mvc.contentnegotiation.media-types.csv=text/csv\r\n\r\nWhen I send a post request with `Content-Type: text/csv` as http header, I&#39;m getting the following error:\r\n\r\n415: `Content type &#39;text/csv&#39; not supported`\r\n\r\nThis is my configuration:\r\n\r\n    @Configuration\r\n    public class ContentNegotiationConfiguration implements WebMvcConfigurer {\r\n    \t@Override\r\n    \tpublic void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n    \t\tconfigurer\r\n    \t\t\t\t.favorParameter(true) //favor &amp;format=csv\r\n    \t\t\t\t.defaultContentType(MediaType.APPLICATION_JSON)\r\n    \t\t\t\t.parameterName(format);\r\n                    //.mediaType(&quot;csv&quot;, new MediaType(&quot;text&quot;, &quot;csv&quot;)) //also tried without success\r\n    \t}\r\n    }","title":"How to accept text/csv as content-type in spring-web servlet?","body":"<p>I want to create a simple webservice that produces <code>text/csv</code> content. But I cannot request it:</p>\n\n<pre><code>@RestController\npublic class MyServlet {\n    @PostMapping(produces = {\"text/csv\", \"application/json\"})\n    public Object post() {\n        //...\n    }\n}\n\nspring.mvc.contentnegotiation.media-types.csv=text/csv\n</code></pre>\n\n<p>When I send a post request with <code>Content-Type: text/csv</code> as http header, I'm getting the following error:</p>\n\n<p>415: <code>Content type 'text/csv' not supported</code></p>\n\n<p>This is my configuration:</p>\n\n<pre><code>@Configuration\npublic class ContentNegotiationConfiguration implements WebMvcConfigurer {\n    @Override\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n        configurer\n                .favorParameter(true) //favor &amp;format=csv\n                .defaultContentType(MediaType.APPLICATION_JSON)\n                .parameterName(format);\n                //.mediaType(\"csv\", new MediaType(\"text\", \"csv\")) //also tried without success\n    }\n}\n</code></pre>\n"},{"tags":["java","runtime-error"],"answers":[{"tags":[],"owner":{"account_id":17358339,"reputation":981,"user_id":12575211,"display_name":"Shubham Garg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620820841,"creation_date":1620820841,"answer_id":67503233,"question_id":41033432,"body_markdown":"Did you submit this code on CodeChef/Spoj?\r\n\r\nYour code seems to be fine but you should provide the input or run your code on an interactive console(as we do in terminal).\r\nYou can observe your error by commenting on the scanner lines and initializing the variables in the code itself as I checked this by running it on CodeChef\r\n\r\nElse, Try adding this Scanner class.\r\n\r\n````\r\nimport java.util.Scanner;  // Import the Scanner class\r\n````\r\n\r\nThis error is caused when your code returns Non-Zero Error Code(NZEC)","title":"Getting Runtime Error(NZEC) on SPOJ AND CODECHEF?? Couldn&#39;t find why this error is occuring on my code","body":"<p>Did you submit this code on CodeChef/Spoj?</p>\n<p>Your code seems to be fine but you should provide the input or run your code on an interactive console(as we do in terminal).\nYou can observe your error by commenting on the scanner lines and initializing the variables in the code itself as I checked this by running it on CodeChef</p>\n<p>Else, Try adding this Scanner class.</p>\n<pre><code>import java.util.Scanner;  // Import the Scanner class\n</code></pre>\n<p>This error is caused when your code returns Non-Zero Error Code(NZEC)</p>\n"},{"tags":[],"owner":{"account_id":22795951,"reputation":21,"user_id":16949506,"display_name":"Abhinav Pharswan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638257535,"creation_date":1638257535,"answer_id":70165770,"question_id":41033432,"body_markdown":"In languages which have exception handling like Java, Python etc we can use exception hadling using try - catch blocks.\r\nNZEC is a runtime error.\r\n\r\nfor detailed answer to the above question\r\n\r\n[click here][1]\r\n\r\n\r\n  [1]: https://discuss.codechef.com/t/tutorial-how-to-debug-an-nzec-error/11221","title":"Getting Runtime Error(NZEC) on SPOJ AND CODECHEF?? Couldn&#39;t find why this error is occuring on my code","body":"<p>In languages which have exception handling like Java, Python etc we can use exception hadling using try - catch blocks.\nNZEC is a runtime error.</p>\n<p>for detailed answer to the above question</p>\n<p><a href=\"https://discuss.codechef.com/t/tutorial-how-to-debug-an-nzec-error/11221\" rel=\"nofollow noreferrer\">click here</a></p>\n"}],"owner":{"account_id":9806595,"reputation":7,"user_id":7266120,"display_name":"Amar Agrahari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1638257535,"creation_date":1481179698,"question_id":41033432,"body_markdown":"I am getting RUNTIME ERROR(NZEC) on my following code while running my code on competetive programming sites.But could not understand where is the problem in my code as it is running absolutely fine on eclipse:\r\n\r\nMy code is:\r\n\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n            public boolean isPalindrome(int number) {\r\n    \t\tString s1 = String.valueOf(number);\r\n    \t\tStringBuffer s = new StringBuffer(s1);\r\n    \t\tString s2 = String.valueOf(s.reverse());\r\n    \t\tif ((Integer.parseInt(s1)) == (Integer.parseInt(s2)))\r\n    \t\t\treturn true;\r\n    \t\telse\r\n    \t\t\treturn false;\r\n    \t}\r\n    \tpublic static void main(String[] args) throws java.lang.Exception {\r\n    \r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint t = sc.nextInt();\r\n    \t\tint m1[] = new int[t];\r\n           int k=0;\r\n    \t\tfor (int i = 0; i &lt; t; i++) {\r\n    \t\t\tint m = sc.nextInt();\r\n    \t\t\tfor (int j = m + 1;; j++) {\r\n    \t\t\t\tMain main = new Main();\r\n    \t\t\t\tif (main.isPalindrome(j)) {\r\n    \t\t\t\t\tm1[k++] = j;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor(int l=0;l&lt;m1.length;l++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(m1[l]);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\nThanks in advance!!","title":"Getting Runtime Error(NZEC) on SPOJ AND CODECHEF?? Couldn&#39;t find why this error is occuring on my code","body":"<p>I am getting RUNTIME ERROR(NZEC) on my following code while running my code on competetive programming sites.But could not understand where is the problem in my code as it is running absolutely fine on eclipse:</p>\n\n<p>My code is:</p>\n\n<pre><code>import java.util.*;\n\npublic class Main {\n        public boolean isPalindrome(int number) {\n        String s1 = String.valueOf(number);\n        StringBuffer s = new StringBuffer(s1);\n        String s2 = String.valueOf(s.reverse());\n        if ((Integer.parseInt(s1)) == (Integer.parseInt(s2)))\n            return true;\n        else\n            return false;\n    }\n    public static void main(String[] args) throws java.lang.Exception {\n\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        int m1[] = new int[t];\n       int k=0;\n        for (int i = 0; i &lt; t; i++) {\n            int m = sc.nextInt();\n            for (int j = m + 1;; j++) {\n                Main main = new Main();\n                if (main.isPalindrome(j)) {\n                    m1[k++] = j;\n                    break;\n                }\n            }\n        }\n        for(int l=0;l&lt;m1.length;l++)\n        {\n            System.out.println(m1[l]);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"score":0,"creation_date":1638167963,"post_id":70150598,"comment_id":124006436,"body_markdown":"implement onStop() instead will surely execute.","body":"implement onStop() instead will surely execute."},{"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"score":0,"creation_date":1638168644,"post_id":70150598,"comment_id":124006587,"body_markdown":"please check if onTerminate() in Application class helps","body":"please check if onTerminate() in Application class helps"},{"owner":{"account_id":11595759,"reputation":116,"user_id":8494581,"display_name":"kinggg"},"score":0,"creation_date":1638169540,"post_id":70150598,"comment_id":124006787,"body_markdown":"when you say &quot;closed the app&quot; does it mean there&#39;s button to click to exit the app, or the user simply press home button ?","body":"when you say &quot;closed the app&quot; does it mean there&#39;s button to click to exit the app, or the user simply press home button ?"}],"answers":[{"tags":[],"owner":{"account_id":11595759,"reputation":116,"user_id":8494581,"display_name":"kinggg"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1638257353,"creation_date":1638170084,"answer_id":70150903,"question_id":70150598,"body_markdown":"Please check the activity lifecycle: \r\nhttps://developer.android.com/guide/components/activities/activity-lifecycle\r\n\r\nOr if you&#39;re using a fragment:\r\nhttps://developer.android.com/guide/fragments/lifecycle\r\n\r\nConsider using one of these two:\r\n```java\r\n\t@Override public void onStart() {\r\n\t\tsuper.onStart();\r\n\t\tclose();\r\n\t}\r\n```\r\n```java\r\n\t@Override public void onPause() {\r\n\t\tsuper.onPause();\r\n\t\tclose();\r\n\t}\r\n```","title":"Is there an event that triggers when the app is closed?","body":"<p>Please check the activity lifecycle:\n<a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/activity-lifecycle</a></p>\n<p>Or if you're using a fragment:\n<a href=\"https://developer.android.com/guide/fragments/lifecycle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/lifecycle</a></p>\n<p>Consider using one of these two:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override public void onStart() {\n        super.onStart();\n        close();\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override public void onPause() {\n        super.onPause();\n        close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638170290,"creation_date":1638170290,"answer_id":70150926,"question_id":70150598,"body_markdown":"There&#39;s a built in hook to the Activity lifecycle to save your state-  onSaveInstanceState.  There&#39;s even a bundle passed into you to save your state into for it to be restored (the matching function is onResumeInstanceState).  And as a free bonus, if you call super.onSaveInstanceState and super.onRestoreInstanceState, it will automatically save the UI state of your app for all views with an id.","title":"Is there an event that triggers when the app is closed?","body":"<p>There's a built in hook to the Activity lifecycle to save your state-  onSaveInstanceState.  There's even a bundle passed into you to save your state into for it to be restored (the matching function is onResumeInstanceState).  And as a free bonus, if you call super.onSaveInstanceState and super.onRestoreInstanceState, it will automatically save the UI state of your app for all views with an id.</p>\n"}],"owner":{"account_id":14730969,"reputation":421,"user_id":10638274,"display_name":"guninvalid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638257353,"creation_date":1638167747,"question_id":70150598,"body_markdown":"As the title says.\r\n\r\nSpecifically, I am writing an app that prints data to files over the course of runtime. I want to know when I can tell my `PrintWriter`s to save the files. I understand that I can probably do autosave every X minutes, but I am wondering if Android Studio will let me save on close instead. I tried using `onDestroy` but the code block never executed. (To be precise, I started the app, did a few things, closed the app, clicked Recents, and swiped the app away. The debugger showed that the app never got to that code.)\r\n\r\nMy current solution attempts to catch the surrounding circumstances by checking for key presses but this only works for the back and volume buttons and not the home, recent, or power buttons.\r\n\r\n```java\r\n\t@Override public boolean onKeyDown(int key, KeyEvent event) {\r\n\t\t\r\n\t\tclose();\r\n\t\treturn false;\r\n\t\t\r\n\t}\r\n```","title":"Is there an event that triggers when the app is closed?","body":"<p>As the title says.</p>\n<p>Specifically, I am writing an app that prints data to files over the course of runtime. I want to know when I can tell my <code>PrintWriter</code>s to save the files. I understand that I can probably do autosave every X minutes, but I am wondering if Android Studio will let me save on close instead. I tried using <code>onDestroy</code> but the code block never executed. (To be precise, I started the app, did a few things, closed the app, clicked Recents, and swiped the app away. The debugger showed that the app never got to that code.)</p>\n<p>My current solution attempts to catch the surrounding circumstances by checking for key presses but this only works for the back and volume buttons and not the home, recent, or power buttons.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override public boolean onKeyDown(int key, KeyEvent event) {\n        \n        close();\n        return false;\n        \n    }\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":2802397,"reputation":1110,"user_id":5339661,"display_name":"Marcos Barbero"},"score":1,"creation_date":1589737556,"post_id":61856116,"comment_id":109406348,"body_markdown":"You might want to take a look at `Specification`, you can follow these two links:\n- https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\n- https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications","body":"You might want to take a look at <code>Specification</code>, you can follow these two links: - <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\">spring.io/blog/2011/04/26/&hellip;</a> - <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":8759464,"reputation":35,"user_id":6549828,"display_name":"alona"},"score":0,"creation_date":1589737883,"post_id":61856116,"comment_id":109406464,"body_markdown":"thanks @MarcosBarbero, will check on it","body":"thanks @MarcosBarbero, will check on it"}],"answers":[{"tags":[],"owner":{"account_id":11631770,"reputation":320,"user_id":8519658,"display_name":"Aleksander Nuszel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589752288,"creation_date":1589752288,"answer_id":61859299,"question_id":61856116,"body_markdown":"I suggest using @Query. In case you don&#39;t need a predicate framework in an application (Specifications, QueryDSL,...), it&#39;s just easier.\r\n\r\n\r\n\r\n","title":"Spring JPA query methods with default value","body":"<p>I suggest using @Query. In case you don't need a predicate framework in an application (Specifications, QueryDSL,...), it's just easier.</p>\n"},{"tags":[],"owner":{"account_id":11353206,"reputation":385,"user_id":8323534,"display_name":"Farhod Nematov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638257291,"creation_date":1638257291,"answer_id":70165733,"question_id":61856116,"body_markdown":"maybe you can create two methods:\r\n\r\n```\r\nOptional&lt;DocumentTypeEntity&gt; findByIdAndStatus(BigInteger id, String status);\r\n\r\ndefault Optional&lt;DocumentTypeEntity&gt; getActiveById(BigInteger id) {\r\n    return findByIdAndStatus(id, &quot;ACTIVE&quot;);\r\n}\r\n```","title":"Spring JPA query methods with default value","body":"<p>maybe you can create two methods:</p>\n<pre><code>Optional&lt;DocumentTypeEntity&gt; findByIdAndStatus(BigInteger id, String status);\n\ndefault Optional&lt;DocumentTypeEntity&gt; getActiveById(BigInteger id) {\n    return findByIdAndStatus(id, &quot;ACTIVE&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":8759464,"reputation":35,"user_id":6549828,"display_name":"alona"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2534,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638257291,"creation_date":1589737232,"question_id":61856116,"body_markdown":"is it possible for Spring JPA Query methods on the interface to have default value?\r\n\r\nThis is the common one:\r\n```Optional&lt;DocumentTypeEntity&gt; findByIdAndStatus(BigInteger id, String status);```\r\n\r\nI want the status to have a value of &quot;ACTIVE&quot; (this won&#39;t work though)\r\n```Optional&lt;DocumentTypeEntity&gt; findByIdAndStatus(BigInteger id, &quot;ACTIVE&quot;);```\r\n\r\nMaybe anyone has ideas? custom query is my last resort! Thanks!","title":"Spring JPA query methods with default value","body":"<p>is it possible for Spring JPA Query methods on the interface to have default value?</p>\n\n<p>This is the common one:\n<code>Optional&lt;DocumentTypeEntity&gt; findByIdAndStatus(BigInteger id, String status);</code></p>\n\n<p>I want the status to have a value of \"ACTIVE\" (this won't work though)\n<code>Optional&lt;DocumentTypeEntity&gt; findByIdAndStatus(BigInteger id, \"ACTIVE\");</code></p>\n\n<p>Maybe anyone has ideas? custom query is my last resort! Thanks!</p>\n"},{"tags":["java","sql","spring","jdbc","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638257215,"creation_date":1638257215,"answer_id":70165714,"question_id":70157409,"body_markdown":"You can&#39;t use `SELECT *` but there are at least two ways you can minimise the pain.\r\n\r\nEither you define a `static final String` containing the list of columns and concatenate them with the rest of the query.\r\n\r\nAlternatively you can specify a `RowMapper` doing the mapping. It could wrap the `ResultSet` and forward the call to the original [`EntityRowMapper`][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-jdbc/blob/main/spring-data-jdbc/src/main/java/org/springframework/data/jdbc/core/convert/EntityRowMapper.java","title":"Is there a way to select all columns for a SELECT statement with JOINs without breaking the entity mapping?","body":"<p>You can't use <code>SELECT *</code> but there are at least two ways you can minimise the pain.</p>\n<p>Either you define a <code>static final String</code> containing the list of columns and concatenate them with the rest of the query.</p>\n<p>Alternatively you can specify a <code>RowMapper</code> doing the mapping. It could wrap the <code>ResultSet</code> and forward the call to the original <a href=\"https://github.com/spring-projects/spring-data-jdbc/blob/main/spring-data-jdbc/src/main/java/org/springframework/data/jdbc/core/convert/EntityRowMapper.java\" rel=\"nofollow noreferrer\"><code>EntityRowMapper</code></a></p>\n"}],"owner":{"account_id":2668517,"reputation":1125,"user_id":2306363,"accept_rate":93,"display_name":"Elektropepi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70165714,"answer_count":1,"score":0,"last_activity_date":1638257215,"creation_date":1638200886,"question_id":70157409,"body_markdown":"I have a `application_user` table with a corresponding `UserEntity` record. Additionally, I have a `user_meta_data` table with a `UserMetaDataEntity` record as a 1:1 relation to the `user`.\r\n\r\n\r\n```java\r\n@Table(&quot;application_user&quot;)\r\nrecord UserEntity(@Id @Nullable Long id,\r\n                  // more columns\r\n                  @Nullable\r\n                  UserMetaDataEntity metaData\r\n) {\r\n// (...)\r\n}\r\n```\r\n\r\nCurrently, I need to directly write SQL queries, as I have some complex queries at hand that can&#39;t be modeled easily via function names. In these queries, I need to explicitly select all columns\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n        SELECT application_user.ID AS ID, user_meta_data.phoneNumber AS USERMETADATA_PHONE_NUMBER\r\n        FROM application_user\r\n        INNER JOIN user_meta_data ON user_meta_data.user_id = application_user.id\r\n&quot;&quot;&quot;)\r\nStream&lt;UserEntity&gt; streamUsersWithMetaData();\r\n```\r\n\r\nBut I want to avoid explicitly defining column names, as my actual entities have many columns. I would prefer calling `SELECT * FROM application_user INNER JOIN ...` but this doesn&#39;t work, as Spring Data JDBC expects the column names to be prefixed with the joined table name.\r\n\r\nIs there a way to define custom SQL queries without needing to define all columns in the SELECT statement?\r\n","title":"Is there a way to select all columns for a SELECT statement with JOINs without breaking the entity mapping?","body":"<p>I have a <code>application_user</code> table with a corresponding <code>UserEntity</code> record. Additionally, I have a <code>user_meta_data</code> table with a <code>UserMetaDataEntity</code> record as a 1:1 relation to the <code>user</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(&quot;application_user&quot;)\nrecord UserEntity(@Id @Nullable Long id,\n                  // more columns\n                  @Nullable\n                  UserMetaDataEntity metaData\n) {\n// (...)\n}\n</code></pre>\n<p>Currently, I need to directly write SQL queries, as I have some complex queries at hand that can't be modeled easily via function names. In these queries, I need to explicitly select all columns</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n        SELECT application_user.ID AS ID, user_meta_data.phoneNumber AS USERMETADATA_PHONE_NUMBER\n        FROM application_user\n        INNER JOIN user_meta_data ON user_meta_data.user_id = application_user.id\n&quot;&quot;&quot;)\nStream&lt;UserEntity&gt; streamUsersWithMetaData();\n</code></pre>\n<p>But I want to avoid explicitly defining column names, as my actual entities have many columns. I would prefer calling <code>SELECT * FROM application_user INNER JOIN ...</code> but this doesn't work, as Spring Data JDBC expects the column names to be prefixed with the joined table name.</p>\n<p>Is there a way to define custom SQL queries without needing to define all columns in the SELECT statement?</p>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":21604416,"reputation":280,"user_id":15932042,"display_name":"Mani"},"score":0,"creation_date":1638253333,"post_id":70165128,"comment_id":124032532,"body_markdown":"you have to put in first `if` statement:","body":"you have to put in first <code>if</code> statement:"}],"answers":[{"tags":[],"owner":{"account_id":16621752,"reputation":1,"user_id":12011862,"display_name":"Rohit Kumar Gupta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638253983,"creation_date":1638253983,"answer_id":70165240,"question_id":70165128,"body_markdown":"    Nested if statement work in these scenarios...\r\n    \r\n    \r\n    if (yourage &gt;= votersage) \r\n    {\r\n      System.out.println(&quot;Have you registered to vote?&quot;);\r\n      bool registered = input.next();\r\n      if(registered)\r\n    {\r\n        System.out.println(&quot;You can vote&quot;);\r\n      }\r\n    else\r\n    {\r\n       System.out.println(&quot;Please get yourself register on voting portal!&quot;);\r\n    }\r\n    }\r\n    else {\r\n      System.out.println(&quot;You are too young to vote&quot;);\r\n    }","title":"How to continue an if else statement (?) with another if else statement","body":"<pre><code>Nested if statement work in these scenarios...\n\n\nif (yourage &gt;= votersage) \n{\n  System.out.println(&quot;Have you registered to vote?&quot;);\n  bool registered = input.next();\n  if(registered)\n{\n    System.out.println(&quot;You can vote&quot;);\n  }\nelse\n{\n   System.out.println(&quot;Please get yourself register on voting portal!&quot;);\n}\n}\nelse {\n  System.out.println(&quot;You are too young to vote&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14836297,"reputation":23,"user_id":10987415,"display_name":"Iestyn Powell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638254262,"creation_date":1638254262,"answer_id":70165267,"question_id":70165128,"body_markdown":"For elif statements you put the elif before the else, but make sure to add a clause for the elif statement to run just like you did with the original if statement.\r\n    \r\n    if (yourage &gt;= votersage) {\r\n      System.out.println(&quot;Have you registered to vote?&quot;);\r\n    }\r\n\r\n    else if (yourage &lt;= votersage){\r\n      System.out.println(&quot;You must register before you can vote.&quot;);  \r\n    }\r\n    else {\r\n      System.out.println(&quot;You are too young to vote&quot;);\r\n    }","title":"How to continue an if else statement (?) with another if else statement","body":"<p>For elif statements you put the elif before the else, but make sure to add a clause for the elif statement to run just like you did with the original if statement.</p>\n<pre><code>if (yourage &gt;= votersage) {\n  System.out.println(&quot;Have you registered to vote?&quot;);\n}\n\nelse if (yourage &lt;= votersage){\n  System.out.println(&quot;You must register before you can vote.&quot;);  \n}\nelse {\n  System.out.println(&quot;You are too young to vote&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14836297,"reputation":23,"user_id":10987415,"display_name":"Iestyn Powell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638257111,"creation_date":1638256612,"answer_id":70165616,"question_id":70165128,"body_markdown":"I think this works to how you want it. You may need to change around the input&#39;Registered as I am a bit rusty with inputs but I think this should work? \r\n   \r\n    if (yourage &gt;= votersage) {\r\n       \r\n       Scanner input = new Scanner(System.in)\r\n       System.out.println(&quot;Have you registered to vote?&quot;);\r\n       Registered = input.next();\r\n       \r\n       if Registered = (&quot;Yes&quot;) {\r\n           System.out.println(&quot;You can vote&quot;);\r\n       }   \r\n       else if Registered = (&quot;No&quot;){\r\n           System.out.println(&quot;You need to register to vote&quot;);\r\n       } \r\n       else:\r\n           System.out.println(&quot;INVALID INPUT&quot;)\r\n    }\r\n    else {\r\n      System.out.println(&quot;You are too young to vote&quot;);\r\n    }","title":"How to continue an if else statement (?) with another if else statement","body":"<p>I think this works to how you want it. You may need to change around the input'Registered as I am a bit rusty with inputs but I think this should work?</p>\n<pre><code>if (yourage &gt;= votersage) {\n   \n   Scanner input = new Scanner(System.in)\n   System.out.println(&quot;Have you registered to vote?&quot;);\n   Registered = input.next();\n   \n   if Registered = (&quot;Yes&quot;) {\n       System.out.println(&quot;You can vote&quot;);\n   }   \n   else if Registered = (&quot;No&quot;){\n       System.out.println(&quot;You need to register to vote&quot;);\n   } \n   else:\n       System.out.println(&quot;INVALID INPUT&quot;)\n}\nelse {\n  System.out.println(&quot;You are too young to vote&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23499018,"reputation":1,"user_id":17549107,"display_name":"poi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1638257111,"creation_date":1638253162,"question_id":70165128,"body_markdown":"A little confused on where to put another if-else statement after one. like do I put it under the if statement (&quot;have you registered to vote yet?&quot; ) or do i put it under the else statement? \r\n\r\nI wanted it to answer if yes then it would print out &quot;you can vote&quot; and if no then it would print out &quot;You must register before you can vote&quot;  \r\n\r\nhere&#39;s the code\r\n\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class voting {\r\n  public static void main(String[] args) {\r\n    int yourage, votersage;\r\n    votersage = 18;\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;How old are you? &quot;);\r\n    yourage = input.nextInt();\r\n    if (yourage &gt;= votersage) {\r\n      System.out.println(&quot;Have you registered to vote?&quot;);\r\n    }\r\n    else {\r\n      System.out.println(&quot;You are too young to vote&quot;);\r\n    }\r\n  }\r\n}\r\n```","title":"How to continue an if else statement (?) with another if else statement","body":"<p>A little confused on where to put another if-else statement after one. like do I put it under the if statement (&quot;have you registered to vote yet?&quot; ) or do i put it under the else statement?</p>\n<p>I wanted it to answer if yes then it would print out &quot;you can vote&quot; and if no then it would print out &quot;You must register before you can vote&quot;</p>\n<p>here's the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class voting {\n  public static void main(String[] args) {\n    int yourage, votersage;\n    votersage = 18;\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;How old are you? &quot;);\n    yourage = input.nextInt();\n    if (yourage &gt;= votersage) {\n      System.out.println(&quot;Have you registered to vote?&quot;);\n    }\n    else {\n      System.out.println(&quot;You are too young to vote&quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-theme","android-styles"],"comments":[{"owner":{"account_id":2077184,"reputation":1003,"user_id":1850203,"accept_rate":96,"display_name":"Muneeb Zulfiqar"},"score":0,"creation_date":1392226425,"post_id":21734371,"comment_id":32871480,"body_markdown":"take a look at this thread, explained very well [styling switch in android][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/10118050/how-can-i-style-an-android-switch","body":"take a look at this thread, explained very well [styling switch in android][1]        [1]: <a href=\"http://stackoverflow.com/questions/10118050/how-can-i-style-an-android-switch\" title=\"how can i style an android switch\">stackoverflow.com/questions/10118050/&hellip;</a>"},{"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"score":0,"creation_date":1392227156,"post_id":21734371,"comment_id":32871940,"body_markdown":"I have looked at that already. Android holo colors generates the proper 9 patch images and the 2 drawable selector files, and they are definitely in there, but not showing up.","body":"I have looked at that already. Android holo colors generates the proper 9 patch images and the 2 drawable selector files, and they are definitely in there, but not showing up."}],"answers":[{"tags":[],"owner":{"account_id":1958522,"reputation":9067,"user_id":1760858,"accept_rate":58,"display_name":"velis"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1393668225,"creation_date":1393330917,"answer_id":22014091,"question_id":21734371,"body_markdown":"&gt;As per [this][1], (direct answer by BoD copy-paste):   \r\n\r\n - You must not use `android:thumb` and `android:track`, but instead, `app:thumb` and `app:track` And you must add the following to the root of your xml document:\r\n\r\n\r\n\r\n `xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;` \r\n\r\n  [1]: https://github.com/BoD/android-switch-backport/issues/19","title":"Change color of Switch in Android","body":"<blockquote>\n  <p>As per <a href=\"https://github.com/BoD/android-switch-backport/issues/19\" rel=\"noreferrer\">this</a>, (direct answer by BoD copy-paste):   </p>\n</blockquote>\n\n<ul>\n<li><p>You must not use <code>android:thumb</code> and <code>android:track</code>, but instead, <code>app:thumb</code> and <code>app:track</code> And you must add the following to the root of your xml document:</p>\n\n<p><code>xmlns:app=\"http://schemas.android.com/apk/res-auto\"</code> </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":404010,"reputation":1689,"user_id":772095,"display_name":"SDJMcHattie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393750423,"creation_date":1393750423,"answer_id":22125644,"question_id":21734371,"body_markdown":"It might be that you need to put\r\n\r\n    style=&quot;@style/switchStyle&quot;\r\n\r\nin your XML as well","title":"Change color of Switch in Android","body":"<p>It might be that you need to put</p>\n\n<pre><code>style=\"@style/switchStyle\"\n</code></pre>\n\n<p>in your XML as well</p>\n"},{"tags":[],"owner":{"account_id":1494986,"reputation":921,"user_id":1401158,"display_name":"ROHIT PARMAR"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1425672810,"creation_date":1393828484,"answer_id":22140169,"question_id":21734371,"body_markdown":"to change the color of switch you can use two images \r\n\r\n 1. green - when switch is ON \r\n 2. red - when switch is OFF\r\n\r\nnow put this file in drawable folder\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;item android:drawable=&quot;@drawable/blue_checked&quot; android:state_checked=&quot;true&quot;/&gt;\r\n        &lt;item android:drawable=&quot;@drawable/blue_unchecked&quot; android:state_checked=&quot;false&quot;/&gt;\r\n    \r\n    &lt;/selector&gt;\r\n\r\nand in the layout XML file use it as below\r\n\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/user_checkbox&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:button=&quot;@drawable/notif_checkbox_selector&quot;\r\n    /&gt;\r\n\r\n","title":"Change color of Switch in Android","body":"<p>to change the color of switch you can use two images </p>\n\n<ol>\n<li>green - when switch is ON </li>\n<li>red - when switch is OFF</li>\n</ol>\n\n<p>now put this file in drawable folder</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;item android:drawable=\"@drawable/blue_checked\" android:state_checked=\"true\"/&gt;\n    &lt;item android:drawable=\"@drawable/blue_unchecked\" android:state_checked=\"false\"/&gt;\n\n&lt;/selector&gt;\n</code></pre>\n\n<p>and in the layout XML file use it as below</p>\n\n<pre><code>&lt;CheckBox\n    android:id=\"@+id/user_checkbox\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:button=\"@drawable/notif_checkbox_selector\"\n/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302449,"reputation":553,"user_id":610837,"accept_rate":58,"display_name":"sb_269"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393835119,"creation_date":1393835119,"answer_id":22141857,"question_id":21734371,"body_markdown":"Try this:\r\n\r\nswitch_thumb.xml\r\n  \r\n\r\n     &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n            &lt;item android:state_enabled=&quot;false&quot; android:drawable=&quot;@drawable/switch_thumb_holo_light&quot; /&gt;\r\n            &lt;item android:state_pressed=&quot;true&quot;  android:drawable=&quot;@drawable/switch_thumb_activated_holo_light&quot; /&gt;\r\n            &lt;item android:state_checked=&quot;true&quot;  android:drawable=&quot;@drawable/switch_thumb_activated_holo_light&quot; /&gt;\r\n            &lt;item                               android:drawable=&quot;@drawable/switch_thumb_holo_light&quot; /&gt;\r\n        &lt;/selector&gt;\r\n\r\n\r\nIn the layout of the switch:\r\n\r\n    android:thumb=&quot;@drawable/switch_thumb&quot;\r\n","title":"Change color of Switch in Android","body":"<p>Try this:</p>\n\n<p>switch_thumb.xml</p>\n\n<pre><code> &lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n        &lt;item android:state_enabled=\"false\" android:drawable=\"@drawable/switch_thumb_holo_light\" /&gt;\n        &lt;item android:state_pressed=\"true\"  android:drawable=\"@drawable/switch_thumb_activated_holo_light\" /&gt;\n        &lt;item android:state_checked=\"true\"  android:drawable=\"@drawable/switch_thumb_activated_holo_light\" /&gt;\n        &lt;item                               android:drawable=\"@drawable/switch_thumb_holo_light\" /&gt;\n    &lt;/selector&gt;\n</code></pre>\n\n<p>In the layout of the switch:</p>\n\n<pre><code>android:thumb=\"@drawable/switch_thumb\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":975233,"reputation":6110,"user_id":996701,"accept_rate":67,"display_name":"emen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1453976794,"creation_date":1453976794,"answer_id":35058790,"question_id":21734371,"body_markdown":"Easiest way in Android Lollipop and above,\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;MaterialTheme.Light&quot;&gt;\r\n        ...\r\n        &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/color_switch&lt;/item&gt;\r\n    &lt;/style&gt;","title":"Change color of Switch in Android","body":"<p>Easiest way in Android Lollipop and above,</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"MaterialTheme.Light\"&gt;\n    ...\n    &lt;item name=\"android:colorControlActivated\"&gt;@color/color_switch&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20848390,"reputation":833,"user_id":15313429,"display_name":"Mazhar Iqbal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638256812,"creation_date":1638256812,"answer_id":70165648,"question_id":21734371,"body_markdown":"   **for androidx.swithcomapact use**\r\n\r\n                       app:thumbTint=&quot;@color/purple_700&quot;\r\n                        app:trackTint=&quot;@color/purple_700&quot;","title":"Change color of Switch in Android","body":"<p><strong>for androidx.swithcomapact use</strong></p>\n<pre><code>                   app:thumbTint=&quot;@color/purple_700&quot;\n                    app:trackTint=&quot;@color/purple_700&quot;\n</code></pre>\n"}],"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44258,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":22014091,"answer_count":6,"score":16,"last_activity_date":1638256812,"creation_date":1392224071,"question_id":21734371,"body_markdown":"I&#39;m trying to change the color of my switch in Android. I realize that I will need new 9patches. I went over to http://android-holo-colors.com/ and selected my color and selected (Switch Jelly Bean). To use Switch Jelly Bean I had to use: https://github.com/BoD/android-switch-backport. To import it into my project I had to add:\r\n\r\n    &lt;item name=&quot;switchStyle&quot;&gt;@style/Widget.Holo.CompoundButton.Switch&lt;/item&gt;\r\n\r\nto my styles, and then in xml I have to use the switch like so:\r\n\r\n    &lt;org.jraf.android.backport.switchwidget.Switch\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\nNow everything with the switch works fine. Next, I took everything that was output from the android holo color generator and put it into the proper files:\r\n\r\n - drawable (2 selector files)\r\n - drawable-hdpi (9patch files)\r\n - drawable-xhdpi (9patch files)\r\n - drawable-xxhdpi (9patch files)\r\n\r\nthen I added to my xml:\r\n\r\n\r\n    &lt;org.jraf.android.backport.switchwidget.Switch\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:thumb=&quot;@drawable/apptheme_switch_inner_holo_light&quot;\r\n    android:track=&quot;@drawable/apptheme_switch_track_holo_light&quot; /&gt;\r\n\r\nbut it is still the original blue color. I believe I&#39;m doing everything correctly. Everything compiles (xml, java). Note: I AM importing `org.jraf.android.backport.switchwidget.Switch` in my java also. Any ideas?","title":"Change color of Switch in Android","body":"<p>I'm trying to change the color of my switch in Android. I realize that I will need new 9patches. I went over to <a href=\"http://android-holo-colors.com/\" rel=\"nofollow noreferrer\">http://android-holo-colors.com/</a> and selected my color and selected (Switch Jelly Bean). To use Switch Jelly Bean I had to use: <a href=\"https://github.com/BoD/android-switch-backport\" rel=\"nofollow noreferrer\">https://github.com/BoD/android-switch-backport</a>. To import it into my project I had to add:</p>\n\n<pre><code>&lt;item name=\"switchStyle\"&gt;@style/Widget.Holo.CompoundButton.Switch&lt;/item&gt;\n</code></pre>\n\n<p>to my styles, and then in xml I have to use the switch like so:</p>\n\n<pre><code>&lt;org.jraf.android.backport.switchwidget.Switch\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\" /&gt;\n</code></pre>\n\n<p>Now everything with the switch works fine. Next, I took everything that was output from the android holo color generator and put it into the proper files:</p>\n\n<ul>\n<li>drawable (2 selector files)</li>\n<li>drawable-hdpi (9patch files)</li>\n<li>drawable-xhdpi (9patch files)</li>\n<li>drawable-xxhdpi (9patch files)</li>\n</ul>\n\n<p>then I added to my xml:</p>\n\n<pre><code>&lt;org.jraf.android.backport.switchwidget.Switch\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\nandroid:thumb=\"@drawable/apptheme_switch_inner_holo_light\"\nandroid:track=\"@drawable/apptheme_switch_track_holo_light\" /&gt;\n</code></pre>\n\n<p>but it is still the original blue color. I believe I'm doing everything correctly. Everything compiles (xml, java). Note: I AM importing <code>org.jraf.android.backport.switchwidget.Switch</code> in my java also. Any ideas?</p>\n"},{"tags":["java","spring-boot","docker","docker-api","spotify-docker-client"],"comments":[{"owner":{"account_id":243748,"reputation":105,"user_id":4356470,"display_name":"behrooz razzaghi"},"score":0,"creation_date":1638265808,"post_id":70165622,"comment_id":124036544,"body_markdown":"after some searching, i found the solution we should provide memory in byte , it is based on docker document [link](https://docs.docker.com/engine/api/v1.24/) &quot;Memory - Memory limit in bytes&quot; ,","body":"after some searching, i found the solution we should provide memory in byte , it is based on docker document <a href=\"https://docs.docker.com/engine/api/v1.24/\" rel=\"nofollow noreferrer\">link</a> &quot;Memory - Memory limit in bytes&quot; ,"}],"owner":{"account_id":243748,"reputation":105,"user_id":4356470,"display_name":"behrooz razzaghi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638256642,"creation_date":1638256642,"question_id":70165622,"body_markdown":"I followed [spotify-docker-client][1] user manual and [github][2] issues to configure specific memory but i got this error {&quot;message&quot;:&quot;Minimum memory limit allowed is 6MB&quot;} \r\ni have spring boot project with below code \r\n\r\n    @PostMapping(path = &quot;/create&quot;)\r\n    public ContainerCreation Create(\r\n                       @RequestParam(&quot;containerName&quot;) String containerName, //here i pass a name\r\n                       @RequestParam(&quot;imageName&quot;) String imageName, // here i pass image id\r\n                       @RequestParam(&quot;containerPort&quot;) int containerPort,// here i pass a port\r\n                       @RequestParam(&quot;cpu&quot;) Long cpu,//here i pass cpu for example 1\r\n                       @RequestParam(&quot;hostPort&quot;) int hostPort,// here i pass a port\r\n                       @RequestParam(&quot;memory&quot;) Long memory // here i pass memory for example 500) throws DockerException, InterruptedException {\r\n\r\n        final String[] ports = {String.valueOf(hostPort), String.valueOf(containerPort)};\r\n        final Map&lt;String, List&lt;PortBinding&gt;&gt; portBindings = new HashMap&lt;&gt;();\r\n        for (String port : ports) {\r\n            List&lt;PortBinding&gt; hostPorts = new ArrayList&lt;&gt;();\r\n            hostPorts.add(PortBinding.of(&quot;0.0.0.0&quot;, port));\r\n            portBindings.put(port, hostPorts);\r\n        }\r\n\r\n        final HostConfig hostConfig = HostConfig.builder().portBindings(portBindings).cpuShares(cpu).memory(memory).build();\r\n        final ContainerConfig containerConfig = ContainerConfig.builder()\r\n                .hostConfig(hostConfig)\r\n                .hostname(containerName)\r\n                .image(imageName).exposedPorts(ports)\r\n                .build();\r\n        final ContainerCreation creation = dockerClientInstance.createContainer(containerConfig);\r\n\r\n        return creation;\r\n\r\n    }\r\n\r\n\r\n  [1]: https://github.com/spotify/docker-client#usage-example\r\n  [2]: https://github.com/spotify/docker-client/issues","title":"How to configure memory when creating container in spotify-docker-client","body":"<p>I followed <a href=\"https://github.com/spotify/docker-client#usage-example\" rel=\"nofollow noreferrer\">spotify-docker-client</a> user manual and <a href=\"https://github.com/spotify/docker-client/issues\" rel=\"nofollow noreferrer\">github</a> issues to configure specific memory but i got this error {&quot;message&quot;:&quot;Minimum memory limit allowed is 6MB&quot;}\ni have spring boot project with below code</p>\n<pre><code>@PostMapping(path = &quot;/create&quot;)\npublic ContainerCreation Create(\n                   @RequestParam(&quot;containerName&quot;) String containerName, //here i pass a name\n                   @RequestParam(&quot;imageName&quot;) String imageName, // here i pass image id\n                   @RequestParam(&quot;containerPort&quot;) int containerPort,// here i pass a port\n                   @RequestParam(&quot;cpu&quot;) Long cpu,//here i pass cpu for example 1\n                   @RequestParam(&quot;hostPort&quot;) int hostPort,// here i pass a port\n                   @RequestParam(&quot;memory&quot;) Long memory // here i pass memory for example 500) throws DockerException, InterruptedException {\n\n    final String[] ports = {String.valueOf(hostPort), String.valueOf(containerPort)};\n    final Map&lt;String, List&lt;PortBinding&gt;&gt; portBindings = new HashMap&lt;&gt;();\n    for (String port : ports) {\n        List&lt;PortBinding&gt; hostPorts = new ArrayList&lt;&gt;();\n        hostPorts.add(PortBinding.of(&quot;0.0.0.0&quot;, port));\n        portBindings.put(port, hostPorts);\n    }\n\n    final HostConfig hostConfig = HostConfig.builder().portBindings(portBindings).cpuShares(cpu).memory(memory).build();\n    final ContainerConfig containerConfig = ContainerConfig.builder()\n            .hostConfig(hostConfig)\n            .hostname(containerName)\n            .image(imageName).exposedPorts(ports)\n            .build();\n    final ContainerCreation creation = dockerClientInstance.createContainer(containerConfig);\n\n    return creation;\n\n}\n</code></pre>\n"},{"tags":["java","linux","ubuntu","eclipse-jee"],"answers":[{"tags":[],"owner":{"account_id":23468980,"reputation":1,"user_id":17522733,"display_name":"novice.subham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638256495,"creation_date":1638256495,"answer_id":70165599,"question_id":70151145,"body_markdown":"I found one simple workaround as I couldn&#39;t find the solution to my problem anywhere. It needs a little bit of work but it will save you few clicks from next time while launching the Eclipse from app menu/desktop/dock.\r\n\r\nYou can directly download the JEE Eclipse [package][1] and extract it in your preferred folder. Or you can download the [installer][2] and install the JEE Eclipse from the GUI too.\r\n\r\nAfter that you need to create a shortcut for the executable eclipse file manually. For this many articles are there which you can follow. I followed this youtube [video][3] and the shortcut works fine now. \r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/packages/\r\n  [2]: https://www.eclipse.org/downloads/packages/installer\r\n  [3]: https://www.youtube.com/watch?v=1RqybkE9pls","title":"Eclipse JEE on linux is not launching after clicking on the eclipse icon from app menu. It is only opening from the installed directory","body":"<p>I found one simple workaround as I couldn't find the solution to my problem anywhere. It needs a little bit of work but it will save you few clicks from next time while launching the Eclipse from app menu/desktop/dock.</p>\n<p>You can directly download the JEE Eclipse <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">package</a> and extract it in your preferred folder. Or you can download the <a href=\"https://www.eclipse.org/downloads/packages/installer\" rel=\"nofollow noreferrer\">installer</a> and install the JEE Eclipse from the GUI too.</p>\n<p>After that you need to create a shortcut for the executable eclipse file manually. For this many articles are there which you can follow. I followed this youtube <a href=\"https://www.youtube.com/watch?v=1RqybkE9pls\" rel=\"nofollow noreferrer\">video</a> and the shortcut works fine now.</p>\n"}],"owner":{"account_id":23468980,"reputation":1,"user_id":17522733,"display_name":"novice.subham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638256495,"creation_date":1638171663,"question_id":70151145,"body_markdown":"I am on kubuntu 21.10. I installed java Openjdk-11 with apt package manager. Then I downloaded the eclipse installer from official website and installed the **JEE Eclipse**(Eclipse for web development). \r\n\r\nBut the icon that appears in both the desktop and app menu is of **JSE Eclipse**. Clicking on it doesn&#39;t launch anything. The only way to launch JEE eclipse is from file manager&#39;s installed directory by clicking on the executable eclipse file.\r\n\r\nHow to get a working icon in the app menu?","title":"Eclipse JEE on linux is not launching after clicking on the eclipse icon from app menu. It is only opening from the installed directory","body":"<p>I am on kubuntu 21.10. I installed java Openjdk-11 with apt package manager. Then I downloaded the eclipse installer from official website and installed the <strong>JEE Eclipse</strong>(Eclipse for web development).</p>\n<p>But the icon that appears in both the desktop and app menu is of <strong>JSE Eclipse</strong>. Clicking on it doesn't launch anything. The only way to launch JEE eclipse is from file manager's installed directory by clicking on the executable eclipse file.</p>\n<p>How to get a working icon in the app menu?</p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":21517371,"reputation":15,"user_id":16426397,"display_name":"SecretAgent"},"score":0,"creation_date":1638255091,"post_id":70165327,"comment_id":124033010,"body_markdown":"MinnDevelopment looking at you to answer this one...","body":"MinnDevelopment looking at you to answer this one..."}],"answers":[{"tags":[],"owner":{"account_id":21517371,"reputation":15,"user_id":16426397,"display_name":"SecretAgent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638255253,"creation_date":1638255253,"answer_id":70165395,"question_id":70165327,"body_markdown":"Never mind, I just realized after looking through the api you can iterate through the commands and get the one you want to delete it.","title":"Delete current CommandData JDA","body":"<p>Never mind, I just realized after looking through the api you can iterate through the commands and get the one you want to delete it.</p>\n"}],"owner":{"account_id":21517371,"reputation":15,"user_id":16426397,"display_name":"SecretAgent"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70165395,"answer_count":1,"score":0,"last_activity_date":1638255253,"creation_date":1638254698,"question_id":70165327,"body_markdown":"So I&#39;m making a Slash Command Library for JDA, and for some reason, I can&#39;t find any documentation on removing a slash command from a guild. Let me explain.\r\n\r\nSo I use ```guild.upsertCommand(commandData);``` to register the command. But what I want to know is if the guild has a command with that name, I want to delete that command from the guild, so that the old one and the new one aren&#39;t mixed up.\r\n\r\nCheers, \r\nAgent","title":"Delete current CommandData JDA","body":"<p>So I'm making a Slash Command Library for JDA, and for some reason, I can't find any documentation on removing a slash command from a guild. Let me explain.</p>\n<p>So I use <code>guild.upsertCommand(commandData);</code> to register the command. But what I want to know is if the guild has a command with that name, I want to delete that command from the guild, so that the old one and the new one aren't mixed up.</p>\n<p>Cheers,\nAgent</p>\n"},{"tags":["java","javafx","video","ffmpeg","video-capture"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1638182189,"post_id":70152779,"comment_id":124010885,"body_markdown":"what&#39;s the problem, _exactly_? Take screenshots, save them and process with an external tool (or 3rd party fx framework, don&#39;t know if there is any) to combine them into a video.","body":"what&#39;s the problem, <i>exactly</i>? Take screenshots, save them and process with an external tool (or 3rd party fx framework, don&#39;t know if there is any) to combine them into a video."},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1638187810,"post_id":70152779,"comment_id":124012970,"body_markdown":"Your question is a bit confusing... What&#39;s stopping you from just reading the pixels of your JavaFX canvas and encoding them as PNG, wait is a canvas even involved here or does it really have to be a window (eg: running an external application in a window)? **Not enough info** about what you&#39;ve got so far and what else is needed to solve your issue.","body":"Your question is a bit confusing... What&#39;s stopping you from just reading the pixels of your JavaFX canvas and encoding them as PNG, wait is a canvas even involved here or does it really have to be a window (eg: running an external application in a window)? <b>Not enough info</b> about what you&#39;ve got so far and what else is needed to solve your issue."},{"owner":{"account_id":4565513,"reputation":1610,"user_id":3706616,"accept_rate":87,"display_name":"Cristian"},"score":0,"creation_date":1638190206,"post_id":70152779,"comment_id":124013959,"body_markdown":"@klopatra: thanks for your sugesstion. Are you refering to take screenshots programatically of the window? Does JavaFX has a mechanism in which we can take like 30 screenshots of the window per seconds? That would be useful","body":"@klopatra: thanks for your sugesstion. Are you refering to take screenshots programatically of the window? Does JavaFX has a mechanism in which we can take like 30 screenshots of the window per seconds? That would be useful"},{"owner":{"account_id":4565513,"reputation":1610,"user_id":3706616,"accept_rate":87,"display_name":"Cristian"},"score":0,"creation_date":1638190328,"post_id":70152779,"comment_id":124014013,"body_markdown":"@VC.One: I was referring to the whole window. So I would make some stuff in JavaFX that would open in a OS window and I would like to make a video of everything that is happening inside that window.","body":"@VC.One: I was referring to the whole window. So I would make some stuff in JavaFX that would open in a OS window and I would like to make a video of everything that is happening inside that window."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1638192873,"post_id":70152779,"comment_id":124015165,"body_markdown":"Not tested, but I would try the following: Create a `Scene` which is not displayed in a window containing your animation. Don&#39;t `play()` the animation, but repeatedly call `jumpTo(...)` on the animation to create each frame, snapshot the result, and write to a file. Then process the images with ffmpeg, or some similar tool.","body":"Not tested, but I would try the following: Create a <code>Scene</code> which is not displayed in a window containing your animation. Don&#39;t <code>play()</code> the animation, but repeatedly call <code>jumpTo(...)</code> on the animation to create each frame, snapshot the result, and write to a file. Then process the images with ffmpeg, or some similar tool."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":2,"creation_date":1638196680,"post_id":70152779,"comment_id":124016896,"body_markdown":"@James_D Exactly. That&#39;s what I would propose too. I doubt that JavaFX (or any other GUI framework) is capable of creating so many snapshots in a smooth fashion. The result would probably be very jerky. It&#39;s better to render frame by frame with precise timing.","body":"@James_D Exactly. That&#39;s what I would propose too. I doubt that JavaFX (or any other GUI framework) is capable of creating so many snapshots in a smooth fashion. The result would probably be very jerky. It&#39;s better to render frame by frame with precise timing."},{"owner":{"account_id":2348025,"reputation":15224,"user_id":2057709,"display_name":"VC.One"},"score":0,"creation_date":1638275746,"post_id":70152779,"comment_id":124040312,"body_markdown":"@Cristian If you&#39;re on Windows then you could try [using FFmpeg to record the window](https://stackoverflow.com/a/30911430/2057709). I&#39;ve not personally tested the `gdigrab`.","body":"@Cristian If you&#39;re on Windows then you could try <a href=\"https://stackoverflow.com/a/30911430/2057709\">using FFmpeg to record the window</a>. I&#39;ve not personally tested the <code>gdigrab</code>."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638255047,"creation_date":1638254419,"answer_id":70165290,"question_id":70152779,"body_markdown":"**Disclaimer**\r\n\r\nThe following solution is just offered as a proof of concept, with no accompanying explanation, no support in comments, no warranty that it will work for you, no guarantee that it will be bug free (it probably has some small errors), and no promise that it will be fit for any purpose.\r\n\r\n**Solution Strategy**\r\n\r\n * Create an animation.\r\n * Capture it to an mjpeg file.\r\n * [Play back the mjpeg file][1].\r\n\r\nCapture uses techniques suggested in comments by James and mipa:\r\n\r\n&gt; Create a Scene which is not displayed in a window containing your animation. Don&#39;t play() the animation, but repeatedly call jumpTo(...) on the animation to create each frame, snapshot the result, and write to a file.\r\n\r\nJPEG is a lossy encoding method and the output of this example is a bit fuzzy (likely due to default ImageIO settings which could be tweaked).  \r\n\r\nIf desired, instead of mjpeg, each frame could be output to a separate file in a lossless format (like png), and then run through third party processing software to create another video format such as mp4.\r\n\r\n**MjpegCaptureAndPlayApp.java**\r\n\r\n    package com.example.mjpeg;\r\n\r\n    import javafx.animation.Animation;\r\n    import javafx.animation.TranslateTransition;\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.nio.file.Files;\r\n    \r\n    public class MjpegCaptureAndPlayApp extends Application {\r\n        final private double W = 100, H = 100;\r\n    \r\n        private MjpegPlayer player;\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            String movieFile = Files.createTempFile(&quot;mjpeg-capture&quot;, &quot;mjpeg&quot;).toString();\r\n    \r\n            CaptureAnimation captureAnimation = createCaptureAnimation();\r\n            MjpegCapture mjpegCapture = new MjpegCapture(\r\n                    movieFile,\r\n                    captureAnimation.root(),\r\n                    captureAnimation.animation()\r\n            );\r\n            mjpegCapture.capture();\r\n    \r\n            player = new MjpegPlayer(movieFile);\r\n            StackPane viewer = new StackPane(player.getViewer());\r\n            viewer.setPrefSize(W, H);\r\n    \r\n            VBox layout = new VBox(20);\r\n            layout.setStyle(&quot;-fx-background-color: cornsilk;&quot;);\r\n            layout.setPadding(new Insets(10));\r\n            layout.setAlignment(Pos.CENTER);\r\n    \r\n            layout.getChildren().setAll(\r\n                    viewer,\r\n                    player.getControls()\r\n            );\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n    \r\n            player.getTimeline().playFromStart();\r\n        }\r\n    \r\n        @Override\r\n        public void stop() throws Exception {\r\n            if (player != null) {\r\n                player.dispose();\r\n            }\r\n        }\r\n    \r\n        record CaptureAnimation(Parent root, Animation animation) {}\r\n    \r\n        private CaptureAnimation createCaptureAnimation() {\r\n            Pane root = new Pane();\r\n            root.setMinSize(Pane.USE_PREF_SIZE, Pane.USE_PREF_SIZE);\r\n            root.setPrefSize(W, H);\r\n            root.setMaxSize(Pane.USE_PREF_SIZE, Pane.USE_PREF_SIZE);\r\n    \r\n            Circle circle = new Circle(W / 10, Color.PURPLE);\r\n            root.getChildren().add(circle);\r\n    \r\n            TranslateTransition translateTransition = new TranslateTransition(\r\n                    Duration.seconds(5),\r\n                    circle\r\n            );\r\n            translateTransition.setFromX(0);\r\n            translateTransition.setToX(W);\r\n            translateTransition.setFromY(H/2);\r\n            translateTransition.setToY(H/2);\r\n            translateTransition.setAutoReverse(true);\r\n            translateTransition.setCycleCount(2);\r\n    \r\n            // move to start pos.\r\n            circle.setTranslateX(0);\r\n            circle.setTranslateY(H/2);\r\n    \r\n            return new CaptureAnimation(root, translateTransition);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n**MjpegCapture.java**\r\n\r\n    package com.example.mjpeg;\r\n\r\n    import javafx.animation.Animation;\r\n    import javafx.embed.swing.SwingFXUtils;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.SnapshotParameters;\r\n    import javafx.scene.image.WritableImage;\r\n    import javafx.util.Duration;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class MjpegCapture {\r\n    \r\n        private final Duration SECS_PER_FRAME = Duration.seconds(1.0 / 24);\r\n    \r\n        private final String videoFilename;\r\n        private final Parent root;\r\n        private final Animation animation;\r\n    \r\n        public MjpegCapture(String videoFilename, Parent root, Animation animation) {\r\n            this.videoFilename = videoFilename;\r\n            this.root = root;\r\n            this.animation = animation;\r\n        }\r\n    \r\n        public void capture() throws IOException {\r\n            VideoStreamOutput videoStreamOutput = new VideoStreamOutput(videoFilename);\r\n    \r\n            animation.playFromStart();\r\n            Duration curPos = Duration.ZERO;\r\n    \r\n            SnapshotParameters snapshotParameters = new SnapshotParameters();\r\n            // transparent fill not supported by jpeg I believe so not enabled.\r\n            //snapshotParameters.setFill(Color.TRANSPARENT);\r\n    \r\n            Scene scene = new Scene(root);\r\n    \r\n            // force a layout pass so that we can measure the height and width of the root node.\r\n            scene.snapshot(null);\r\n            int w = (int) scene.getWidth();\r\n            int h = (int) scene.getHeight();\r\n            WritableImage fxImage = new WritableImage(w, h);\r\n    \r\n            boolean complete;\r\n            ByteArrayOutputStream outputBuffer = new ByteArrayOutputStream();\r\n            do {\r\n                animation.jumpTo(curPos);\r\n                root.snapshot(snapshotParameters, fxImage);\r\n    \r\n                // Get buffered image:\r\n                // uses ugly, inefficient workaround from:\r\n                //   https://stackoverflow.com/a/19605733/1155209\r\n                BufferedImage image = SwingFXUtils.fromFXImage(fxImage, null);\r\n    \r\n                // Remove alpha-channel from buffered image:\r\n                BufferedImage imageRGB = new BufferedImage(\r\n                        image.getWidth(),\r\n                        image.getHeight(),\r\n                        BufferedImage.OPAQUE);\r\n    \r\n                Graphics2D graphics = imageRGB.createGraphics();\r\n                graphics.drawImage(image, 0, 0, null);\r\n                ImageIO.write(imageRGB, &quot;jpg&quot;, outputBuffer);\r\n    \r\n                videoStreamOutput.writeNextFrame(outputBuffer.toByteArray());\r\n                outputBuffer.reset();\r\n    \r\n                complete = curPos.greaterThanOrEqualTo(animation.getTotalDuration());\r\n    \r\n                if (curPos.add(SECS_PER_FRAME).greaterThan(animation.getTotalDuration())) {\r\n                    curPos = animation.getTotalDuration();\r\n                } else {\r\n                    curPos = curPos.add(SECS_PER_FRAME);\r\n                }\r\n            } while(!complete);\r\n    \r\n            videoStreamOutput.close();\r\n        }\r\n    }\r\n\r\n**MjpegPlayer.java**\r\n\r\n    package com.example.mjpeg;\r\n\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    \r\n    public class MjpegPlayer {\r\n    \r\n        private final String videoFilename;\r\n        private final Timeline timeline;\r\n        private final ImageView viewer = new ImageView();\r\n        private final HBox controls;\r\n        private VideoStream videoStream;\r\n    \r\n        public MjpegPlayer(String filename) throws FileNotFoundException {\r\n            videoFilename = filename;\r\n            videoStream = new VideoStream(filename);\r\n            timeline = createTimeline(viewer);\r\n            controls = createControls(timeline);\r\n        }\r\n    \r\n        private Timeline createTimeline(ImageView viewer) {\r\n            final Timeline timeline = new Timeline();\r\n            final byte[] buf = new byte[15000];\r\n    \r\n            timeline.getKeyFrames().setAll(\r\n                    new KeyFrame(Duration.ZERO, event -&gt; {\r\n                        try {\r\n                            int len = videoStream.readNextFrame(buf);\r\n                            if (len == -1) {\r\n                                timeline.stop();\r\n                                return;\r\n                            }\r\n                            viewer.setImage(\r\n                                    new Image(\r\n                                            new ByteArrayInputStream(\r\n                                                    Arrays.copyOf(buf, len)\r\n                                            )\r\n                                    )\r\n                            );\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }),\r\n                    new KeyFrame(Duration.seconds(1.0 / 24))\r\n            );\r\n            timeline.setCycleCount(Timeline.INDEFINITE);\r\n    \r\n            return timeline;\r\n        }\r\n    \r\n        private HBox createControls(final Timeline timeline) {\r\n            Button play = new Button(&quot;Play&quot;);\r\n            play.setOnAction(event -&gt; timeline.play());\r\n    \r\n            Button pause = new Button(&quot;Pause&quot;);\r\n            pause.setOnAction(event -&gt; timeline.pause());\r\n    \r\n            Button restart = new Button(&quot;Restart&quot;);\r\n            restart.setOnAction(event -&gt; {\r\n                try {\r\n                    timeline.stop();\r\n                    videoStream = new VideoStream(videoFilename);\r\n                    timeline.playFromStart();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n    \r\n            HBox controls = new HBox(10);\r\n            controls.setAlignment(Pos.CENTER);\r\n            controls.getChildren().setAll(\r\n                    play,\r\n                    pause,\r\n                    restart\r\n            );\r\n    \r\n            return controls;\r\n        }\r\n    \r\n        public void dispose() throws IOException {\r\n            videoStream.close();\r\n        }\r\n    \r\n        public String getVideoFilename() {\r\n            return videoFilename;\r\n        }\r\n    \r\n        public Timeline getTimeline() {\r\n            return timeline;\r\n        }\r\n    \r\n        public ImageView getViewer() {\r\n            return viewer;\r\n        }\r\n    \r\n        public HBox getControls() {\r\n            return controls;\r\n        }\r\n    }\r\n\r\n**VideoStream.java**\r\n\r\n    package com.example.mjpeg;\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    \r\n    class VideoStream {\r\n    \r\n        private final FileInputStream fis; //video file\r\n    \r\n        VideoStream(String filename) throws FileNotFoundException {\r\n            fis = new FileInputStream(filename);\r\n        }\r\n    \r\n        int readNextFrame(byte[] frame) throws Exception {\r\n            int length;\r\n            String lengthAsString;\r\n            byte[] lengthAsBytes = new byte[5];\r\n    \r\n            //read current frame length\r\n            fis.read(lengthAsBytes, 0, 5);\r\n    \r\n            //transform lengthAsBytes to integer\r\n            lengthAsString = new String(lengthAsBytes);\r\n            try {\r\n                length = Integer.parseInt(lengthAsString);\r\n            } catch (Exception e) {\r\n                return -1;\r\n            }\r\n    \r\n            return (fis.read(frame, 0, length));\r\n        }\r\n    \r\n        void close() throws IOException {\r\n            fis.close();\r\n        }\r\n    }\r\n\r\n**VideoStreamOutput.java**\r\n\r\n    package com.example.mjpeg;\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    class VideoStreamOutput {\r\n        private FileOutputStream fos; //video file\r\n        private int frameNum; //current frame nb\r\n    \r\n        public VideoStreamOutput(String filename) throws FileNotFoundException {\r\n            fos = new FileOutputStream(filename);\r\n            frameNum = 0;\r\n        }\r\n    \r\n        public void writeNextFrame(byte[] frame) throws IOException {\r\n            frameNum++;\r\n    \r\n            String lengthAsString = String.format(&quot;%05d&quot;, frame.length);\r\n            byte[] lengthAsBytes = lengthAsString.getBytes(StandardCharsets.US_ASCII);\r\n    \r\n            fos.write(lengthAsBytes);\r\n            fos.write(frame);\r\n    \r\n            System.out.println(frameNum + &quot;: &quot; + lengthAsString);\r\n        }\r\n    \r\n        public void close() throws IOException {\r\n            fos.flush();\r\n            fos.close();\r\n        }\r\n    }\r\n\r\n**module-info.java**\r\n\r\n    module com.example.mjpeg {\r\n        requires javafx.controls;\r\n        requires javafx.swing;\r\n        requires java.desktop;\r\n    \r\n        exports com.example.mjpeg;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/16721917/display-rtp-mjpeg?noredirect=1&amp;lq=1","title":"Is there any way to export a JavaFX animation to image frames?","body":"<p><strong>Disclaimer</strong></p>\n<p>The following solution is just offered as a proof of concept, with no accompanying explanation, no support in comments, no warranty that it will work for you, no guarantee that it will be bug free (it probably has some small errors), and no promise that it will be fit for any purpose.</p>\n<p><strong>Solution Strategy</strong></p>\n<ul>\n<li>Create an animation.</li>\n<li>Capture it to an mjpeg file.</li>\n<li><a href=\"https://stackoverflow.com/questions/16721917/display-rtp-mjpeg?noredirect=1&amp;lq=1\">Play back the mjpeg file</a>.</li>\n</ul>\n<p>Capture uses techniques suggested in comments by James and mipa:</p>\n<blockquote>\n<p>Create a Scene which is not displayed in a window containing your animation. Don't play() the animation, but repeatedly call jumpTo(...) on the animation to create each frame, snapshot the result, and write to a file.</p>\n</blockquote>\n<p>JPEG is a lossy encoding method and the output of this example is a bit fuzzy (likely due to default ImageIO settings which could be tweaked).</p>\n<p>If desired, instead of mjpeg, each frame could be output to a separate file in a lossless format (like png), and then run through third party processing software to create another video format such as mp4.</p>\n<p><strong>MjpegCaptureAndPlayApp.java</strong></p>\n<pre><code>package com.example.mjpeg;\n\nimport javafx.animation.Animation;\nimport javafx.animation.TranslateTransition;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.nio.file.Files;\n\npublic class MjpegCaptureAndPlayApp extends Application {\n    final private double W = 100, H = 100;\n\n    private MjpegPlayer player;\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        String movieFile = Files.createTempFile(&quot;mjpeg-capture&quot;, &quot;mjpeg&quot;).toString();\n\n        CaptureAnimation captureAnimation = createCaptureAnimation();\n        MjpegCapture mjpegCapture = new MjpegCapture(\n                movieFile,\n                captureAnimation.root(),\n                captureAnimation.animation()\n        );\n        mjpegCapture.capture();\n\n        player = new MjpegPlayer(movieFile);\n        StackPane viewer = new StackPane(player.getViewer());\n        viewer.setPrefSize(W, H);\n\n        VBox layout = new VBox(20);\n        layout.setStyle(&quot;-fx-background-color: cornsilk;&quot;);\n        layout.setPadding(new Insets(10));\n        layout.setAlignment(Pos.CENTER);\n\n        layout.getChildren().setAll(\n                viewer,\n                player.getControls()\n        );\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n\n        player.getTimeline().playFromStart();\n    }\n\n    @Override\n    public void stop() throws Exception {\n        if (player != null) {\n            player.dispose();\n        }\n    }\n\n    record CaptureAnimation(Parent root, Animation animation) {}\n\n    private CaptureAnimation createCaptureAnimation() {\n        Pane root = new Pane();\n        root.setMinSize(Pane.USE_PREF_SIZE, Pane.USE_PREF_SIZE);\n        root.setPrefSize(W, H);\n        root.setMaxSize(Pane.USE_PREF_SIZE, Pane.USE_PREF_SIZE);\n\n        Circle circle = new Circle(W / 10, Color.PURPLE);\n        root.getChildren().add(circle);\n\n        TranslateTransition translateTransition = new TranslateTransition(\n                Duration.seconds(5),\n                circle\n        );\n        translateTransition.setFromX(0);\n        translateTransition.setToX(W);\n        translateTransition.setFromY(H/2);\n        translateTransition.setToY(H/2);\n        translateTransition.setAutoReverse(true);\n        translateTransition.setCycleCount(2);\n\n        // move to start pos.\n        circle.setTranslateX(0);\n        circle.setTranslateY(H/2);\n\n        return new CaptureAnimation(root, translateTransition);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><strong>MjpegCapture.java</strong></p>\n<pre><code>package com.example.mjpeg;\n\nimport javafx.animation.Animation;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.SnapshotParameters;\nimport javafx.scene.image.WritableImage;\nimport javafx.util.Duration;\n\nimport javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\n\npublic class MjpegCapture {\n\n    private final Duration SECS_PER_FRAME = Duration.seconds(1.0 / 24);\n\n    private final String videoFilename;\n    private final Parent root;\n    private final Animation animation;\n\n    public MjpegCapture(String videoFilename, Parent root, Animation animation) {\n        this.videoFilename = videoFilename;\n        this.root = root;\n        this.animation = animation;\n    }\n\n    public void capture() throws IOException {\n        VideoStreamOutput videoStreamOutput = new VideoStreamOutput(videoFilename);\n\n        animation.playFromStart();\n        Duration curPos = Duration.ZERO;\n\n        SnapshotParameters snapshotParameters = new SnapshotParameters();\n        // transparent fill not supported by jpeg I believe so not enabled.\n        //snapshotParameters.setFill(Color.TRANSPARENT);\n\n        Scene scene = new Scene(root);\n\n        // force a layout pass so that we can measure the height and width of the root node.\n        scene.snapshot(null);\n        int w = (int) scene.getWidth();\n        int h = (int) scene.getHeight();\n        WritableImage fxImage = new WritableImage(w, h);\n\n        boolean complete;\n        ByteArrayOutputStream outputBuffer = new ByteArrayOutputStream();\n        do {\n            animation.jumpTo(curPos);\n            root.snapshot(snapshotParameters, fxImage);\n\n            // Get buffered image:\n            // uses ugly, inefficient workaround from:\n            //   https://stackoverflow.com/a/19605733/1155209\n            BufferedImage image = SwingFXUtils.fromFXImage(fxImage, null);\n\n            // Remove alpha-channel from buffered image:\n            BufferedImage imageRGB = new BufferedImage(\n                    image.getWidth(),\n                    image.getHeight(),\n                    BufferedImage.OPAQUE);\n\n            Graphics2D graphics = imageRGB.createGraphics();\n            graphics.drawImage(image, 0, 0, null);\n            ImageIO.write(imageRGB, &quot;jpg&quot;, outputBuffer);\n\n            videoStreamOutput.writeNextFrame(outputBuffer.toByteArray());\n            outputBuffer.reset();\n\n            complete = curPos.greaterThanOrEqualTo(animation.getTotalDuration());\n\n            if (curPos.add(SECS_PER_FRAME).greaterThan(animation.getTotalDuration())) {\n                curPos = animation.getTotalDuration();\n            } else {\n                curPos = curPos.add(SECS_PER_FRAME);\n            }\n        } while(!complete);\n\n        videoStreamOutput.close();\n    }\n}\n</code></pre>\n<p><strong>MjpegPlayer.java</strong></p>\n<pre><code>package com.example.mjpeg;\n\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.geometry.Pos;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.util.Duration;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Arrays;\n\npublic class MjpegPlayer {\n\n    private final String videoFilename;\n    private final Timeline timeline;\n    private final ImageView viewer = new ImageView();\n    private final HBox controls;\n    private VideoStream videoStream;\n\n    public MjpegPlayer(String filename) throws FileNotFoundException {\n        videoFilename = filename;\n        videoStream = new VideoStream(filename);\n        timeline = createTimeline(viewer);\n        controls = createControls(timeline);\n    }\n\n    private Timeline createTimeline(ImageView viewer) {\n        final Timeline timeline = new Timeline();\n        final byte[] buf = new byte[15000];\n\n        timeline.getKeyFrames().setAll(\n                new KeyFrame(Duration.ZERO, event -&gt; {\n                    try {\n                        int len = videoStream.readNextFrame(buf);\n                        if (len == -1) {\n                            timeline.stop();\n                            return;\n                        }\n                        viewer.setImage(\n                                new Image(\n                                        new ByteArrayInputStream(\n                                                Arrays.copyOf(buf, len)\n                                        )\n                                )\n                        );\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }),\n                new KeyFrame(Duration.seconds(1.0 / 24))\n        );\n        timeline.setCycleCount(Timeline.INDEFINITE);\n\n        return timeline;\n    }\n\n    private HBox createControls(final Timeline timeline) {\n        Button play = new Button(&quot;Play&quot;);\n        play.setOnAction(event -&gt; timeline.play());\n\n        Button pause = new Button(&quot;Pause&quot;);\n        pause.setOnAction(event -&gt; timeline.pause());\n\n        Button restart = new Button(&quot;Restart&quot;);\n        restart.setOnAction(event -&gt; {\n            try {\n                timeline.stop();\n                videoStream = new VideoStream(videoFilename);\n                timeline.playFromStart();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n\n        HBox controls = new HBox(10);\n        controls.setAlignment(Pos.CENTER);\n        controls.getChildren().setAll(\n                play,\n                pause,\n                restart\n        );\n\n        return controls;\n    }\n\n    public void dispose() throws IOException {\n        videoStream.close();\n    }\n\n    public String getVideoFilename() {\n        return videoFilename;\n    }\n\n    public Timeline getTimeline() {\n        return timeline;\n    }\n\n    public ImageView getViewer() {\n        return viewer;\n    }\n\n    public HBox getControls() {\n        return controls;\n    }\n}\n</code></pre>\n<p><strong>VideoStream.java</strong></p>\n<pre><code>package com.example.mjpeg;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\nclass VideoStream {\n\n    private final FileInputStream fis; //video file\n\n    VideoStream(String filename) throws FileNotFoundException {\n        fis = new FileInputStream(filename);\n    }\n\n    int readNextFrame(byte[] frame) throws Exception {\n        int length;\n        String lengthAsString;\n        byte[] lengthAsBytes = new byte[5];\n\n        //read current frame length\n        fis.read(lengthAsBytes, 0, 5);\n\n        //transform lengthAsBytes to integer\n        lengthAsString = new String(lengthAsBytes);\n        try {\n            length = Integer.parseInt(lengthAsString);\n        } catch (Exception e) {\n            return -1;\n        }\n\n        return (fis.read(frame, 0, length));\n    }\n\n    void close() throws IOException {\n        fis.close();\n    }\n}\n</code></pre>\n<p><strong>VideoStreamOutput.java</strong></p>\n<pre><code>package com.example.mjpeg;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\nclass VideoStreamOutput {\n    private FileOutputStream fos; //video file\n    private int frameNum; //current frame nb\n\n    public VideoStreamOutput(String filename) throws FileNotFoundException {\n        fos = new FileOutputStream(filename);\n        frameNum = 0;\n    }\n\n    public void writeNextFrame(byte[] frame) throws IOException {\n        frameNum++;\n\n        String lengthAsString = String.format(&quot;%05d&quot;, frame.length);\n        byte[] lengthAsBytes = lengthAsString.getBytes(StandardCharsets.US_ASCII);\n\n        fos.write(lengthAsBytes);\n        fos.write(frame);\n\n        System.out.println(frameNum + &quot;: &quot; + lengthAsString);\n    }\n\n    public void close() throws IOException {\n        fos.flush();\n        fos.close();\n    }\n}\n</code></pre>\n<p><strong>module-info.java</strong></p>\n<pre><code>module com.example.mjpeg {\n    requires javafx.controls;\n    requires javafx.swing;\n    requires java.desktop;\n\n    exports com.example.mjpeg;\n}\n</code></pre>\n"}],"owner":{"account_id":4565513,"reputation":1610,"user_id":3706616,"accept_rate":87,"display_name":"Cristian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638255047,"creation_date":1638180156,"question_id":70152779,"body_markdown":"*What I want to accomplish:*  \r\nMake a JavaFX animation that would eventually concertize in a video.mp4 (or any other extension)\r\n\r\n*One way to do it:*  \r\nDuring the animation plays, export 30fps (or 60fps) as still images (i.e. png images). After that process the images with some tool and create video.\r\n\r\n**So how to create the frames of a JavaFX window?**","title":"Is there any way to export a JavaFX animation to image frames?","body":"<p><em>What I want to accomplish:</em><br />\nMake a JavaFX animation that would eventually concertize in a video.mp4 (or any other extension)</p>\n<p><em>One way to do it:</em><br />\nDuring the animation plays, export 30fps (or 60fps) as still images (i.e. png images). After that process the images with some tool and create video.</p>\n<p><strong>So how to create the frames of a JavaFX window?</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"score":1,"creation_date":1487984095,"post_id":42450604,"comment_id":72045159,"body_markdown":"I believe that classes might be different, do you have access to see exactly what class is being used does it have the same structure ?","body":"I believe that classes might be different, do you have access to see exactly what class is being used does it have the same structure ?"},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1487986755,"post_id":42450604,"comment_id":72045689,"body_markdown":"Thanks @EduardoDennis. You are correct. There were 2 additional methods.","body":"Thanks @EduardoDennis. You are correct. There were 2 additional methods."}],"answers":[{"tags":[],"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1487984872,"creation_date":1487984872,"answer_id":42450768,"question_id":42450604,"body_markdown":"As per the section 4.6 in [this](http://docs.oracle.com/javase/8/docs/platform/serialization/spec/class.html#4100) specification, if a serializable class doesn&#39;t specify the `serialVersionUID`, JVM chooses one on its own based on the class detail. However the algorithm it chooses (described in the link above) is highly sensitive to the class details. Also, it may depend on the compiler implementation as well because the algorithm directly works on the stream of bytes that reflect the class definition. \r\n\r\nIn your case, since you get the invalid class version error during demarshalling, it means one of the following 2 things:\r\n\r\n 1. Your class, although you think is very close to the class used by the other application, is still slightly different. Check the algorithm again. It is highly sensitive on the class detail.\r\n 2. The object that is serialized by the other application was created from a class definition generated by a different compiler.\r\n\r\nIn order for you to be able to deserialize that object, you must examine the above 2 possibilities and take actions to remove the disparities. \r\n ","title":"Deserialize classes without serialversionuid","body":"<p>As per the section 4.6 in <a href=\"http://docs.oracle.com/javase/8/docs/platform/serialization/spec/class.html#4100\" rel=\"nofollow noreferrer\">this</a> specification, if a serializable class doesn't specify the <code>serialVersionUID</code>, JVM chooses one on its own based on the class detail. However the algorithm it chooses (described in the link above) is highly sensitive to the class details. Also, it may depend on the compiler implementation as well because the algorithm directly works on the stream of bytes that reflect the class definition. </p>\n\n<p>In your case, since you get the invalid class version error during demarshalling, it means one of the following 2 things:</p>\n\n<ol>\n<li>Your class, although you think is very close to the class used by the other application, is still slightly different. Check the algorithm again. It is highly sensitive on the class detail.</li>\n<li>The object that is serialized by the other application was created from a class definition generated by a different compiler.</li>\n</ol>\n\n<p>In order for you to be able to deserialize that object, you must examine the above 2 possibilities and take actions to remove the disparities. </p>\n"},{"tags":[],"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1487990113,"creation_date":1487986804,"answer_id":42450966,"question_id":42450604,"body_markdown":"That isn&#39;t the issue. The serialVersionUID&#39;s don&#39;t match because the classes are different.","title":"Deserialize classes without serialversionuid","body":"<p>That isn't the issue. The serialVersionUID's don't match because the classes are different.</p>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1056,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42450768,"answer_count":2,"score":2,"last_activity_date":1638254429,"creation_date":1487983556,"question_id":42450604,"body_markdown":"I have a class that implements serializable interface. I am trying to deserialize an object that serialized and stored by another application. The object that stored by another application is created by a class similar to below -\r\n\r\n    // does not have serialversionuid defined.\r\n    public class Pet implements Serializable {\r\n        private count;       \r\n        private date;\r\n\r\n        // getters &amp; setters\r\n    }\r\n\r\n\r\nI have a similar class defined in my application. Mine doesn&#39;t have serialversionuid defined as well. When I try to deserialize this object , I see an error similar to this -\r\n\r\n&gt; IO error occurred while unmarshalling java.io.InvalidClassException:\r\n&gt; local class incompatible: stream classdesc serialVersionUID =\r\n&gt; -3565652537049376317, local class serialVersionUID = -4242367052120288379\r\n\r\n\r\nI don&#39;t have control over the class that is serializing and storing the data. Is there a way for me to make changes to my class so that it can deserialize the object?","title":"Deserialize classes without serialversionuid","body":"<p>I have a class that implements serializable interface. I am trying to deserialize an object that serialized and stored by another application. The object that stored by another application is created by a class similar to below -</p>\n<pre><code>// does not have serialversionuid defined.\npublic class Pet implements Serializable {\n    private count;       \n    private date;\n\n    // getters &amp; setters\n}\n</code></pre>\n<p>I have a similar class defined in my application. Mine doesn't have serialversionuid defined as well. When I try to deserialize this object , I see an error similar to this -</p>\n<blockquote>\n<p>IO error occurred while unmarshalling java.io.InvalidClassException:\nlocal class incompatible: stream classdesc serialVersionUID =\n-3565652537049376317, local class serialVersionUID = -4242367052120288379</p>\n</blockquote>\n<p>I don't have control over the class that is serializing and storing the data. Is there a way for me to make changes to my class so that it can deserialize the object?</p>\n"},{"tags":["java","android","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":13951469,"reputation":36,"user_id":10074891,"display_name":"Rakhimjonov S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638252940,"creation_date":1638252940,"answer_id":70165092,"question_id":70164079,"body_markdown":"First you will need to save type boolean in your shared preference.\r\n\r\n    private final SharedPreferences mSharedPreferences;\r\n    mSharedPreferences = context.getSharedPreferences(&quot;example_name&quot;, Context.MODE_PRIVATE);\r\n    //SAVE BOOLEAN WITH KEY AND VALUE\r\n    mSharedPreferences.edit().putBoolean(key, value).apply();\r\n    //GET BOOLEAN WITH KEY AND DEFAULT VALUE, IF IT DOESN&#39;T CONTAIN IT\r\n    Boolean myBoolean = mSharedPreferences.getBoolean(key, defaultValue);\r\n\r\nAfter that, on your OnStart method you need to set it up\r\n\r\n    AppCompatDelegate.setDefaultNightMode(mSharedPreferences.getDayNightMode());\r\n\r\n","title":"Save the selected Light or night mode via sharedpreferences via RadioButton (within Radio Group)","body":"<p>First you will need to save type boolean in your shared preference.</p>\n<pre><code>private final SharedPreferences mSharedPreferences;\nmSharedPreferences = context.getSharedPreferences(&quot;example_name&quot;, Context.MODE_PRIVATE);\n//SAVE BOOLEAN WITH KEY AND VALUE\nmSharedPreferences.edit().putBoolean(key, value).apply();\n//GET BOOLEAN WITH KEY AND DEFAULT VALUE, IF IT DOESN'T CONTAIN IT\nBoolean myBoolean = mSharedPreferences.getBoolean(key, defaultValue);\n</code></pre>\n<p>After that, on your OnStart method you need to set it up</p>\n<pre><code>AppCompatDelegate.setDefaultNightMode(mSharedPreferences.getDayNightMode());\n</code></pre>\n"}],"owner":{"account_id":23320695,"reputation":17,"user_id":17398644,"display_name":"JaloliddinPage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70165092,"answer_count":1,"score":0,"last_activity_date":1638252940,"creation_date":1638244477,"question_id":70164079,"body_markdown":"How to save the selected Light or night mode via sharedpreferences via RadioButton (within Radio Group)?\r\n\r\nI understand how to save plain text in sharedpreferences. But it is very unclear to me how to save night and light mode via sharedpreferences. Please tell us how to save via sharedpreferences. I want to save the printed option via RadioButton (within RadioGroup). \r\n\r\nThank you!","title":"Save the selected Light or night mode via sharedpreferences via RadioButton (within Radio Group)","body":"<p>How to save the selected Light or night mode via sharedpreferences via RadioButton (within Radio Group)?</p>\n<p>I understand how to save plain text in sharedpreferences. But it is very unclear to me how to save night and light mode via sharedpreferences. Please tell us how to save via sharedpreferences. I want to save the printed option via RadioButton (within RadioGroup).</p>\n<p>Thank you!</p>\n"},{"tags":["java","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588891144,"creation_date":1588891144,"answer_id":61668966,"question_id":61663849,"body_markdown":"This post is still up-to-date. Default order depends from given implementation (aka version). You need to check implementation:\r\n\r\n - In `com.fasterxml.jackson.databind.introspect` package, e.g.: `POJOPropertiesCollector` class.\r\n - In `com.fasterxml.jackson.databind.ser` package, e.g.: `BeanSerializer`, `BeanSerializerFactory` classes.\r\n - Used annotations, e.g.: `JsonIgnore`.\r\n\r\nAlso it depends from:\r\n\r\n - Enabled features, e.g.: [REQUIRE_SETTERS_FOR_GETTERS][1]\r\n - Enabled modifiers, e.g.: `com.fasterxml.jackson.databind.ser.BeanSerializerModifier` class.\r\n\r\nFrom [other side][2]:\r\n\r\n&gt; An object is an unordered set of name/value pairs.\r\n\r\nAnd you should not depend on it.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.11/com/fasterxml/jackson/databind/MapperFeature.html#REQUIRE_SETTERS_FOR_GETTERS\r\n  [2]: https://www.json.org/json-en.html","title":"Jackson ObjectMapper default property order","body":"<p>This post is still up-to-date. Default order depends from given implementation (aka version). You need to check implementation:</p>\n\n<ul>\n<li>In <code>com.fasterxml.jackson.databind.introspect</code> package, e.g.: <code>POJOPropertiesCollector</code> class.</li>\n<li>In <code>com.fasterxml.jackson.databind.ser</code> package, e.g.: <code>BeanSerializer</code>, <code>BeanSerializerFactory</code> classes.</li>\n<li>Used annotations, e.g.: <code>JsonIgnore</code>.</li>\n</ul>\n\n<p>Also it depends from:</p>\n\n<ul>\n<li>Enabled features, e.g.: <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.11/com/fasterxml/jackson/databind/MapperFeature.html#REQUIRE_SETTERS_FOR_GETTERS\" rel=\"nofollow noreferrer\">REQUIRE_SETTERS_FOR_GETTERS</a></li>\n<li>Enabled modifiers, e.g.: <code>com.fasterxml.jackson.databind.ser.BeanSerializerModifier</code> class.</li>\n</ul>\n\n<p>From <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">other side</a>:</p>\n\n<blockquote>\n  <p>An object is an unordered set of name/value pairs.</p>\n</blockquote>\n\n<p>And you should not depend on it.</p>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638252854,"creation_date":1638252854,"answer_id":70165083,"question_id":61663849,"body_markdown":"As per [this documentation][1], By default, the ordering of the fields in the serialized JSON depends on the JDK. It may be the declaration order but not guaranteed.\r\n\r\n  [1]: https://tedblob.com/jackson-serialization-order/","title":"Jackson ObjectMapper default property order","body":"<p>As per <a href=\"https://tedblob.com/jackson-serialization-order/\" rel=\"nofollow noreferrer\">this documentation</a>, By default, the ordering of the fields in the serialized JSON depends on the JDK. It may be the declaration order but not guaranteed.</p>\n"}],"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61668966,"answer_count":2,"score":1,"last_activity_date":1638252854,"creation_date":1588871976,"question_id":61663849,"body_markdown":"Does anyone know if there is a specific default order of properties when serialising an object to JSON with ObjectMapper (ie in the absence of any specific sort order configuration or `@JsonPropertyOrder` annotations?\n\nI haven&#39;t found anything yet in the documentation. I can check the source code, but thought I would quickly check here first - I&#39;m guessing it is based on whatever ordering comes from reflection or introspection, and this [post][1] I found from a while ago suggests that there are no guarantees on ordering (again I can check source but it would be great if somebody just happens to know).\n\n\n  [1]: https://groups.google.com/forum/m/#!topic/jackson-user/VZhiGEoyPBM","title":"Jackson ObjectMapper default property order","body":"<p>Does anyone know if there is a specific default order of properties when serialising an object to JSON with ObjectMapper (ie in the absence of any specific sort order configuration or <code>@JsonPropertyOrder</code> annotations?</p>\n\n<p>I haven't found anything yet in the documentation. I can check the source code, but thought I would quickly check here first - I'm guessing it is based on whatever ordering comes from reflection or introspection, and this <a href=\"https://groups.google.com/forum/m/#!topic/jackson-user/VZhiGEoyPBM\" rel=\"nofollow noreferrer\">post</a> I found from a while ago suggests that there are no guarantees on ordering (again I can check source but it would be great if somebody just happens to know).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1554354777,"post_id":55508252,"comment_id":97721848,"body_markdown":"array indexes start with `0` zero, not `1` one - check  loops starting value; (just for readability `number[i] + number[j] == target`  would be a more *natural* check since it resembles what is requested)","body":"array indexes start with <code>0</code> zero, not <code>1</code> one - check  loops starting value; (just for readability <code>number[i] + number[j] == target</code>  would be a more <i>natural</i> check since it resembles what is requested)"},{"owner":{"account_id":11981420,"reputation":2840,"user_id":8767209,"display_name":"MFisherKDX"},"score":0,"creation_date":1554354794,"post_id":55508252,"comment_id":97721855,"body_markdown":"I don&#39;t know. You should learn to debug your code. Why are you starting your loop at `i=1` instead of `i=0`? Just because the expected output is not zero based doesn&#39;t mean the input isn&#39;t either.","body":"I don&#39;t know. You should learn to debug your code. Why are you starting your loop at <code>i=1</code> instead of <code>i=0</code>? Just because the expected output is not zero based doesn&#39;t mean the input isn&#39;t either."},{"owner":{"account_id":11037988,"reputation":848,"user_id":8107013,"display_name":"Manjunath H M"},"score":0,"creation_date":1554355048,"post_id":55508252,"comment_id":97721934,"body_markdown":"Your target is 9 and you are looping the array from index 1, so it starts from 7 and  then try to add the next index values, So your are not getting the desired output.\nIf you start the looping from 0, then at 0th index the value is 2 and 1st index the value is 7, then you will get the desired output.","body":"Your target is 9 and you are looping the array from index 1, so it starts from 7 and  then try to add the next index values, So your are not getting the desired output. If you start the looping from 0, then at 0th index the value is 2 and 1st index the value is 7, then you will get the desired output."}],"answers":[{"tags":[],"owner":{"account_id":14343010,"reputation":843,"user_id":10360661,"display_name":"Y.Kakdas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554355814,"creation_date":1554355814,"answer_id":55508491,"question_id":55508252,"body_markdown":"Because the question says array starts from 1 does not mean array starts from 1 in java.If you want to return i,j as non-zero you should go from 1 to length+1 and then inside the conditions you should check indexes as i-1,j-1 or just start from 0 and return i+1,j+1.\r\n\r\n    class Solution {\r\n      public int[] twoSum(int[] numbers, int target) {\r\n        for (int i = 1; i &lt; numbers.length+1; i++) {\r\n            for (int j = i + 1; j &lt; numbers.length+1; j++) {\r\n                if (numbers[j-1] == target - numbers[i-1]) {\r\n                    if(numbers[i-1] &lt; numbers[j-1])\r\n                        return new int[] { i, j };\r\n                }\r\n            }\r\n        }\r\n         return null;\r\n      }\r\n     }\r\n\r\nor you can do,\r\n\r\n        class Solution {\r\n      public int[] twoSum(int[] numbers, int target) {\r\n        for (int i = 0; i &lt; numbers.length; i++) {\r\n            for (int j = i + 1; j &lt; numbers.length; j++) {\r\n                if (numbers[j] == target - numbers[i]) {\r\n                    if(numbers[i] &lt; numbers[j])\r\n                        return new int[] { i+1, j+1 };\r\n                }\r\n            }\r\n        }\r\n         return null;\r\n      }\r\n     }","title":"Two Sum II - Input array is sorted","body":"<p>Because the question says array starts from 1 does not mean array starts from 1 in java.If you want to return i,j as non-zero you should go from 1 to length+1 and then inside the conditions you should check indexes as i-1,j-1 or just start from 0 and return i+1,j+1.</p>\n\n<pre><code>class Solution {\n  public int[] twoSum(int[] numbers, int target) {\n    for (int i = 1; i &lt; numbers.length+1; i++) {\n        for (int j = i + 1; j &lt; numbers.length+1; j++) {\n            if (numbers[j-1] == target - numbers[i-1]) {\n                if(numbers[i-1] &lt; numbers[j-1])\n                    return new int[] { i, j };\n            }\n        }\n    }\n     return null;\n  }\n }\n</code></pre>\n\n<p>or you can do,</p>\n\n<pre><code>    class Solution {\n  public int[] twoSum(int[] numbers, int target) {\n    for (int i = 0; i &lt; numbers.length; i++) {\n        for (int j = i + 1; j &lt; numbers.length; j++) {\n            if (numbers[j] == target - numbers[i]) {\n                if(numbers[i] &lt; numbers[j])\n                    return new int[] { i+1, j+1 };\n            }\n        }\n    }\n     return null;\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15189241,"reputation":1478,"user_id":11032188,"display_name":"Mark Melgo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554355875,"creation_date":1554355875,"answer_id":55508511,"question_id":55508252,"body_markdown":"I have modified your code and added code comments on why your previous code has errors. Refer to code below for details.\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint target = 9;\r\n\t\tint[] numbers = new int[] { 2, 7, 11, 15 };\r\n\t\tint[] result = twoSum(numbers, target);\r\n\t\tif (result != null) {\r\n\t\t\tSystem.out\r\n\t\t\t\t\t.println(&quot;The sum of &quot; + numbers[result[0]] + &quot; and &quot; + numbers[result[1]] + &quot; is &quot; + target + &quot;.&quot;);\r\n\t\t\tSystem.out.println(&quot;Therefore index1 = &quot; + (result[0] + 1) + &quot;, index2 = &quot; + (result[1] + 1));\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;No Solution found!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static int[] twoSum(int[] numbers, int target) {\r\n\t\tfor (int i = 0; i &lt; numbers.length; i++) { // array index starts at 0\r\n\t\t\tfor (int j = i + 1; j &lt; numbers.length; j++) {\r\n\t\t\t\tif (numbers[j] + numbers[i] == target) { // add the current numbers\r\n\t\t\t\t\t// if (numbers[i] &lt; numbers[j]) // not needed\r\n\t\t\t\t\treturn new int[] { i, j };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nSample input:\r\n```\r\nnumbers = [2, 7, 11, 15];\r\n```\r\n\r\nSample output:\r\n```\r\nThe sum of 2 and 7 is 9.\r\nTherefore index1 = 1, index2 = 2\r\n```","title":"Two Sum II - Input array is sorted","body":"<p>I have modified your code and added code comments on why your previous code has errors. Refer to code below for details.</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        int target = 9;\n        int[] numbers = new int[] { 2, 7, 11, 15 };\n        int[] result = twoSum(numbers, target);\n        if (result != null) {\n            System.out\n                    .println(\"The sum of \" + numbers[result[0]] + \" and \" + numbers[result[1]] + \" is \" + target + \".\");\n            System.out.println(\"Therefore index1 = \" + (result[0] + 1) + \", index2 = \" + (result[1] + 1));\n        } else {\n            System.out.println(\"No Solution found!\");\n        }\n    }\n\n    public static int[] twoSum(int[] numbers, int target) {\n        for (int i = 0; i &lt; numbers.length; i++) { // array index starts at 0\n            for (int j = i + 1; j &lt; numbers.length; j++) {\n                if (numbers[j] + numbers[i] == target) { // add the current numbers\n                    // if (numbers[i] &lt; numbers[j]) // not needed\n                    return new int[] { i, j };\n                }\n            }\n        }\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>Sample input:</p>\n\n<pre><code>numbers = [2, 7, 11, 15];\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>The sum of 2 and 7 is 9.\nTherefore index1 = 1, index2 = 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15240508,"reputation":1895,"user_id":11143190,"display_name":"Zain Arshad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555441281,"creation_date":1554356201,"answer_id":55508571,"question_id":55508252,"body_markdown":"You are starting first `for-loop` with `i = 0`, what you should do is start it with `i = 1`.\r\n\r\nWorking code:\r\n\r\n\tpublic class Solution \r\n\t{\r\n\t\tpublic static void main(String[] args)\r\n\t\t{\r\n\t\t\tint[] num = {2,7,11,5};\r\n\t\t\tint n = 13;\r\n\t\t\tint[] answer = new int[2];\r\n\t\t\tanswer = twoSum(num,n);\r\n\t\t\tif(answer != null)\r\n\t\t\t\tfor(int i=0;i&lt;2;i++)\r\n\t\t\t\t\tSystem.out.printf( answer[i] +&quot; &quot;);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tpublic static int[] twoSum(int[] numbers, int target)\r\n\t\t{\r\n\t\t\tfor (int i = 0; i &lt; numbers.length; i++) \r\n\t\t\t{\r\n\t\t\t\tfor (int j = i + 1; j &lt; numbers.length; j++) \r\n\t\t\t\t{\r\n\t\t\t\t\tif (numbers[j] == target - numbers[i]) \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(numbers[i] &lt; numbers[j])\r\n\t\t\t\t\t\t\treturn new int[] { i+1, j+1};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n**Note:** I have placed an `IF` before `FOR` in `main()` so that if we find no such integers that adds up to give target integer, it&#39;ll not throw a `NullPointerException`.","title":"Two Sum II - Input array is sorted","body":"<p>You are starting first <code>for-loop</code> with <code>i = 0</code>, what you should do is start it with <code>i = 1</code>.</p>\n\n<p>Working code:</p>\n\n<pre><code>public class Solution \n{\n    public static void main(String[] args)\n    {\n        int[] num = {2,7,11,5};\n        int n = 13;\n        int[] answer = new int[2];\n        answer = twoSum(num,n);\n        if(answer != null)\n            for(int i=0;i&lt;2;i++)\n                System.out.printf( answer[i] +\" \");\n    }\n\n\n    public static int[] twoSum(int[] numbers, int target)\n    {\n        for (int i = 0; i &lt; numbers.length; i++) \n        {\n            for (int j = i + 1; j &lt; numbers.length; j++) \n            {\n                if (numbers[j] == target - numbers[i]) \n                {\n                    if(numbers[i] &lt; numbers[j])\n                        return new int[] { i+1, j+1};\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>Note:</strong> I have placed an <code>IF</code> before <code>FOR</code> in <code>main()</code> so that if we find no such integers that adds up to give target integer, it'll not throw a <code>NullPointerException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1983395,"reputation":41,"user_id":1779385,"display_name":"user1779385"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1569347976,"creation_date":1569347976,"answer_id":58085864,"question_id":55508252,"body_markdown":"This is a better solution as it&#39;s much faster and covers all test cases as well:\r\n\r\n    class Solution {\r\n    public int[] twoSum(int[] numbers, int target) {\r\n        int l = 0, r = numbers.length - 1;\r\n        while (numbers[l] + numbers[r] != target) {\r\n            if (numbers[l] + numbers[r] &gt; target) \r\n                r--;\r\n            else \r\n                l++;\r\n            if (r == l) return new int[]{};\r\n        }\r\n        return new int[]{l + 1, r + 1};\r\n      }\r\n    }\r\n","title":"Two Sum II - Input array is sorted","body":"<p>This is a better solution as it's much faster and covers all test cases as well:</p>\n\n<pre><code>class Solution {\npublic int[] twoSum(int[] numbers, int target) {\n    int l = 0, r = numbers.length - 1;\n    while (numbers[l] + numbers[r] != target) {\n        if (numbers[l] + numbers[r] &gt; target) \n            r--;\n        else \n            l++;\n        if (r == l) return new int[]{};\n    }\n    return new int[]{l + 1, r + 1};\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12917523,"reputation":56,"user_id":9341222,"display_name":"raj01"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585828626,"creation_date":1585826725,"answer_id":60990453,"question_id":55508252,"body_markdown":"https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/\r\n\r\n[question]: 167. Two Sum II - Input array is sorted\r\n\r\n**Using the two-pointer technique:-**\r\n\r\n```\r\nclass Solution {\r\n    public int[] twoSum(int[] numbers, int target) {\r\n        if (numbers == null || numbers.length == 0)\r\n\t\t    return null;\r\n\t    int i = 0;\r\n\t    int j = numbers.length - 1;\r\n    \twhile (i &lt; j) {\r\n\t    \tint x = numbers[i] + numbers[j];\r\n\t\t    if (x &lt; target) {\r\n\t\t\t    ++i;\r\n    \t\t} else if (x &gt; target) {\r\n\t    \t\tj--;\r\n\t\t    } else {\r\n\t\t\t    return new int[] { i + 1, j + 1 };\r\n\t\t    }\r\n\t    }\r\n\t    return null;\r\n    }\r\n}\r\n```","title":"Two Sum II - Input array is sorted","body":"<p><a href=\"https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/</a></p>\n\n<p>[question]: 167. Two Sum II - Input array is sorted</p>\n\n<p><strong>Using the two-pointer technique:-</strong></p>\n\n<pre><code>class Solution {\n    public int[] twoSum(int[] numbers, int target) {\n        if (numbers == null || numbers.length == 0)\n            return null;\n        int i = 0;\n        int j = numbers.length - 1;\n        while (i &lt; j) {\n            int x = numbers[i] + numbers[j];\n            if (x &lt; target) {\n                ++i;\n            } else if (x &gt; target) {\n                j--;\n            } else {\n                return new int[] { i + 1, j + 1 };\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2522867,"reputation":479,"user_id":2192861,"accept_rate":91,"display_name":"Ahmed Ghazey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638252820,"creation_date":1638252820,"answer_id":70165079,"question_id":55508252,"body_markdown":"       public int[] twoSum(int[] nums, int target) {\r\n        int start = 0, end = nums.length -1;\r\n        \r\n        while (start &lt; end){\r\n            if (nums[start]+ nums[end]== target)\r\n                return new int []{start+1, end+1};\r\n            \r\n            if (nums[start]+ nums[end]&gt; target){\r\n                end--;}\r\n            else if (nums[start]+ nums[end]&lt; target){\r\n                start++;\r\n            }\r\n        }\r\n        \r\n        return null;    \r\n    }","title":"Two Sum II - Input array is sorted","body":"<pre><code>   public int[] twoSum(int[] nums, int target) {\n    int start = 0, end = nums.length -1;\n    \n    while (start &lt; end){\n        if (nums[start]+ nums[end]== target)\n            return new int []{start+1, end+1};\n        \n        if (nums[start]+ nums[end]&gt; target){\n            end--;}\n        else if (nums[start]+ nums[end]&lt; target){\n            start++;\n        }\n    }\n    \n    return null;    \n}\n</code></pre>\n"}],"owner":{"account_id":14715368,"reputation":69,"user_id":10627478,"display_name":"Aaron J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6540,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1638252820,"creation_date":1554354479,"question_id":55508252,"body_markdown":"Leetcode #167 is almost same as #1, but why I cannot only add a if condition?\r\n\r\nQ: Given an array of integers that is already sorted in ascending order, find two numbers such that they add up to a specific target number.\r\n\r\nThe function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2.\r\n\r\nNote:\r\n\r\nYour returned answers (both index1 and index2) are not zero-based.\r\nYou may assume that each input would have exactly one solution and you may not use the same element twice.\r\n\r\nExample:\r\n    Input: numbers = [2,7,11,15], target = 9\r\n    Output: [1,2]\r\n\r\n    The sum of 2 and 7 is 9. \r\n    Therefore index1 = 1, index2 = 2.\r\n\r\nMy code:\r\n\r\n    class Solution {\r\n    public int[] twoSum(int[] numbers, int target) {\r\n            for (int i = 1; i &lt; numbers.length; i++) {\r\n                for (int j = i + 1; j &lt; numbers.length; j++) {\r\n                    if (numbers[j] == target - numbers[i]) {\r\n                        if(numbers[i] &lt; numbers[j])\r\n                            return new int[] { i, j };\r\n            }\r\n        }\r\n    }\r\n     return null;\r\n    }\r\n}\r\n\r\n\r\n    \r\n\r\nWhy I always return null? where is my mistake? How to fix it?","title":"Two Sum II - Input array is sorted","body":"<p>Leetcode #167 is almost same as #1, but why I cannot only add a if condition?</p>\n\n<p>Q: Given an array of integers that is already sorted in ascending order, find two numbers such that they add up to a specific target number.</p>\n\n<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2.</p>\n\n<p>Note:</p>\n\n<p>Your returned answers (both index1 and index2) are not zero-based.\nYou may assume that each input would have exactly one solution and you may not use the same element twice.</p>\n\n<p>Example:\n    Input: numbers = [2,7,11,15], target = 9\n    Output: [1,2]</p>\n\n<pre><code>The sum of 2 and 7 is 9. \nTherefore index1 = 1, index2 = 2.\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>class Solution {\npublic int[] twoSum(int[] numbers, int target) {\n        for (int i = 1; i &lt; numbers.length; i++) {\n            for (int j = i + 1; j &lt; numbers.length; j++) {\n                if (numbers[j] == target - numbers[i]) {\n                    if(numbers[i] &lt; numbers[j])\n                        return new int[] { i, j };\n        }\n    }\n}\n return null;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Why I always return null? where is my mistake? How to fix it?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":2671839,"reputation":5341,"user_id":2309068,"display_name":"Clement Amarnath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1523006974,"creation_date":1523006974,"answer_id":49689614,"question_id":49688852,"body_markdown":"@JsonPropertyOrder can be used to give specific order in which the details of the data expected in the output json, so using this annotation changing the order is possible.\r\n\r\n@JsonPropertyOrder is an annotation which can be used at class level. It takes the properties as a `list of fields - these fields can be either in the parent class or in the child class` that defines the order in which fields will appear in the string resulting from the object JSON serialization.\r\n\r\nReference:\r\n\r\n[Jackson JSON using @JsonPropertyOrder annotation to define properties serialization order][1]\r\n\r\n\r\n  [1]: http://www.davismol.net/2016/10/24/jackson-json-using-jsonpropertyorder-annotation-to-define-properties-serialization-order/","title":"Jackson: Property Order and Inheritance","body":"<p>@JsonPropertyOrder can be used to give specific order in which the details of the data expected in the output json, so using this annotation changing the order is possible.</p>\n\n<p>@JsonPropertyOrder is an annotation which can be used at class level. It takes the properties as a <code>list of fields - these fields can be either in the parent class or in the child class</code> that defines the order in which fields will appear in the string resulting from the object JSON serialization.</p>\n\n<p>Reference:</p>\n\n<p><a href=\"http://www.davismol.net/2016/10/24/jackson-json-using-jsonpropertyorder-annotation-to-define-properties-serialization-order/\" rel=\"nofollow noreferrer\">Jackson JSON using @JsonPropertyOrder annotation to define properties serialization order</a></p>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638252267,"creation_date":1638252267,"answer_id":70165014,"question_id":49688852,"body_markdown":"As per this [documentation][1], you can use @JsonProperty(index) to avoid redundant code.\r\n\r\n    class animal {\r\n        @JsonProperty(index=2)\r\n        int p1;\r\n        @JsonProperty(index=3)\r\n        int p2;\r\n    }\r\n    \r\n    class cat extends animal{\r\n        @JsonProperty(index=1)\r\n        int p3;\r\n    }\r\n\r\n  [1]: https://tedblob.com/jackson-serialization-order/\r\n","title":"Jackson: Property Order and Inheritance","body":"<p>As per this <a href=\"https://tedblob.com/jackson-serialization-order/\" rel=\"nofollow noreferrer\">documentation</a>, you can use @JsonProperty(index) to avoid redundant code.</p>\n<pre><code>class animal {\n    @JsonProperty(index=2)\n    int p1;\n    @JsonProperty(index=3)\n    int p2;\n}\n\nclass cat extends animal{\n    @JsonProperty(index=1)\n    int p3;\n}\n</code></pre>\n"}],"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49689614,"answer_count":2,"score":1,"last_activity_date":1638252267,"creation_date":1523004322,"question_id":49688852,"body_markdown":"What is the best practice to change the property order in a subclasse during the serialization process with Jackson?\r\n\r\nAssuming the following simplified scenario:\r\n\r\n    @JsonPropertyOrder({ &quot;p1&quot;, &quot;p2&quot; })\r\n    class animal {\r\n        int p1;\r\n        int p2;\r\n    }\r\n    \r\n    @JsonPropertyOrder({ &quot;p3&quot;, &quot;p1&quot;, &quot;p2&quot; })\r\n    class cat extends animal{\r\n        int p3;\r\n    }\r\n    \r\nIs this possible? Does the subclass `@JsonPropertyOrder` overrides the partent class definition? Or can I add the `&quot;p3&quot;` in the partent annotation to save redundance? The jackson documentation is very short on this topic.","title":"Jackson: Property Order and Inheritance","body":"<p>What is the best practice to change the property order in a subclasse during the serialization process with Jackson?</p>\n\n<p>Assuming the following simplified scenario:</p>\n\n<pre><code>@JsonPropertyOrder({ \"p1\", \"p2\" })\nclass animal {\n    int p1;\n    int p2;\n}\n\n@JsonPropertyOrder({ \"p3\", \"p1\", \"p2\" })\nclass cat extends animal{\n    int p3;\n}\n</code></pre>\n\n<p>Is this possible? Does the subclass <code>@JsonPropertyOrder</code> overrides the partent class definition? Or can I add the <code>\"p3\"</code> in the partent annotation to save redundance? The jackson documentation is very short on this topic.</p>\n"},{"tags":["java","arrays","multidimensional-array","columnsorting","dimensional"],"comments":[{"owner":{"display_name":"user11196437"},"score":0,"creation_date":1638252582,"post_id":70165004,"comment_id":124032350,"body_markdown":"Maybe have a look at this answer? https://stackoverflow.com/questions/30426909/get-columns-from-two-dimensional-array-in-java","body":"Maybe have a look at this answer? <a href=\"https://stackoverflow.com/questions/30426909/get-columns-from-two-dimensional-array-in-java\" title=\"get columns from two dimensional array in java\">stackoverflow.com/questions/30426909/&hellip;</a>"},{"owner":{"account_id":22549698,"reputation":35,"user_id":16738974,"display_name":"ingan25"},"score":0,"creation_date":1638252792,"post_id":70165004,"comment_id":124032397,"body_markdown":"ooooooooooh thank you!!!","body":"ooooooooooh thank you!!!"},{"owner":{"account_id":22549698,"reputation":35,"user_id":16738974,"display_name":"ingan25"},"score":0,"creation_date":1638259027,"post_id":70165004,"comment_id":124034139,"body_markdown":"not perfect answer, but That well do!","body":"not perfect answer, but That well do!"}],"owner":{"account_id":22549698,"reputation":35,"user_id":16738974,"display_name":"ingan25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638259064,"answer_count":0,"score":0,"last_activity_date":1638252236,"creation_date":1638252236,"question_id":70165004,"body_markdown":"No matter how hard I look, there is no way through Java, so I am inquiring directly. Please let me know if it&#39;s impossible or what to do if possible. please...","title":"How can condition only the columns of the two-dimensional array in if statements?","body":"<p>No matter how hard I look, there is no way through Java, so I am inquiring directly. Please let me know if it's impossible or what to do if possible. please...</p>\n"},{"tags":["java","compilation","antlr"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":2,"creation_date":1638086634,"post_id":70141404,"comment_id":123990078,"body_markdown":"You should be receiving an instance of `ArgContext` (or something like that), isn&#39;t it? It should be having methods named `STRING()`, `INTEGER()`, etc. after your token definition names. You can check which one has value in it.","body":"You should be receiving an instance of <code>ArgContext</code> (or something like that), isn&#39;t it? It should be having methods named <code>STRING()</code>, <code>INTEGER()</code>, etc. after your token definition names. You can check which one has value in it."},{"owner":{"account_id":72536,"reputation":922,"user_id":209403,"accept_rate":23,"display_name":"Gao"},"score":0,"creation_date":1638087114,"post_id":70141404,"comment_id":123990149,"body_markdown":"Yeah thanks, I have searched this answer, but it is a bit of tedious to use. Is there some method which I can use switch statement?","body":"Yeah thanks, I have searched this answer, but it is a bit of tedious to use. Is there some method which I can use switch statement?"}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1638252177,"creation_date":1638088074,"answer_id":70141743,"question_id":70141404,"body_markdown":"&gt; [...] Is there some method which I can use switch statement?\r\n\r\nYou can inspect the context&#39;s `start` token type:\r\n\r\n```java\r\n@Override\r\npublic Object visitArg(RuleExpressionParser.ArgContext ctx) {\r\n  switch (ctx.start.getType()) {\r\n    case RuleExpressionLexer.STRING:\r\n      return ...;\r\n    case RuleExpressionLexer.INTEGER:\r\n      return ...;\r\n    case RuleExpressionLexer.BOOLEAN:\r\n      return ...;\r\n    default:\r\n      // It was an `expression`\r\n      return super.visitExpression(ctx.expression());\r\n  }\r\n}\r\n```\r\n\r\nOr you could [label](https://github.com/antlr/antlr4/blob/master/doc/parser-rules.md#alternative-labels) the `arg` alternatives:\r\n\r\n```\r\narg\r\n : STRING     #StringArg\r\n | INTEGER    #IntegerArg\r\n | BOOLEAN    #BooleanArg\r\n | expression #ExpressionArg\r\n ;\r\n```\r\n\r\nwhich will cause the visitor to have the following methods:\r\n\r\n\r\n```java\r\n@Override \r\npublic T visitStringArg(RuleExpressionParser.StringArgContext ctx) ...\r\n\r\n@Override \r\npublic T visitIntegerArg(RuleExpressionParser.IntegerArgContext ctx) ...\r\n\r\n@Override \r\npublic T visitBooleanArg(RuleExpressionParser.BooleanArgContext ctx) ...\r\n\r\n@Override \r\npublic T visitExpressionArg(RuleExpressionParser.ExpressionArgContext ctx) ...\r\n```\r\n\r\ninstead of the single `T visitArg(RuleExpressionParser.ArgContext ctx)` method.","title":"How to check an alternative of a token in ANTLR&#39;s visitor mode?","body":"<blockquote>\n<p>[...] Is there some method which I can use switch statement?</p>\n</blockquote>\n<p>You can inspect the context's <code>start</code> token type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Object visitArg(RuleExpressionParser.ArgContext ctx) {\n  switch (ctx.start.getType()) {\n    case RuleExpressionLexer.STRING:\n      return ...;\n    case RuleExpressionLexer.INTEGER:\n      return ...;\n    case RuleExpressionLexer.BOOLEAN:\n      return ...;\n    default:\n      // It was an `expression`\n      return super.visitExpression(ctx.expression());\n  }\n}\n</code></pre>\n<p>Or you could <a href=\"https://github.com/antlr/antlr4/blob/master/doc/parser-rules.md#alternative-labels\" rel=\"nofollow noreferrer\">label</a> the <code>arg</code> alternatives:</p>\n<pre><code>arg\n : STRING     #StringArg\n | INTEGER    #IntegerArg\n | BOOLEAN    #BooleanArg\n | expression #ExpressionArg\n ;\n</code></pre>\n<p>which will cause the visitor to have the following methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override \npublic T visitStringArg(RuleExpressionParser.StringArgContext ctx) ...\n\n@Override \npublic T visitIntegerArg(RuleExpressionParser.IntegerArgContext ctx) ...\n\n@Override \npublic T visitBooleanArg(RuleExpressionParser.BooleanArgContext ctx) ...\n\n@Override \npublic T visitExpressionArg(RuleExpressionParser.ExpressionArgContext ctx) ...\n</code></pre>\n<p>instead of the single <code>T visitArg(RuleExpressionParser.ArgContext ctx)</code> method.</p>\n"}],"owner":{"account_id":72536,"reputation":922,"user_id":209403,"accept_rate":23,"display_name":"Gao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70141743,"answer_count":1,"score":4,"last_activity_date":1638252177,"creation_date":1638084177,"question_id":70141404,"body_markdown":"I want to build a simple rule engine using ANTLR&#39;s visitor mode, but when it comes with alternative tokens, I get confused how to get which alternative is. Can anyone help me with that?(sorry of my poor English)\r\n\r\n```\r\ngrammar RuleExpression;\r\nexpression: &#39;(&#39; Operator arg* &#39;)&#39;;\r\narg: STRING|INTEGER|BOOLEAN|expression;\r\nSTRING: &#39;&quot;&#39; .+ &#39;&quot;&#39;;\r\nINTEGER: [0-9]+;\r\nBOOLEAN: &#39;true&#39;|&#39;false&#39;;\r\nOperator: [a-zA-Z]+[0-9]*;\r\nWS : [ \\t\\r\\n]+ -&gt; skip;\r\n```\r\n\r\nHow do know an arg is a STRING or INTEGER or BOOLEAN or expression?","title":"How to check an alternative of a token in ANTLR&#39;s visitor mode?","body":"<p>I want to build a simple rule engine using ANTLR's visitor mode, but when it comes with alternative tokens, I get confused how to get which alternative is. Can anyone help me with that?(sorry of my poor English)</p>\n<pre><code>grammar RuleExpression;\nexpression: '(' Operator arg* ')';\narg: STRING|INTEGER|BOOLEAN|expression;\nSTRING: '&quot;' .+ '&quot;';\nINTEGER: [0-9]+;\nBOOLEAN: 'true'|'false';\nOperator: [a-zA-Z]+[0-9]*;\nWS : [ \\t\\r\\n]+ -&gt; skip;\n</code></pre>\n<p>How do know an arg is a STRING or INTEGER or BOOLEAN or expression?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1270657,"reputation":1118,"user_id":1227012,"accept_rate":66,"display_name":"David Nedrow"},"score":0,"creation_date":1638572935,"post_id":70153817,"comment_id":124133467,"body_markdown":"It would be helpful to note which version of Android Studio you&#39;re using. Also, did you do any searches for this issue? It&#39;s useful to note that as well with a quick summary of the results. Eg.&quot;I didn&#39;t find anything useful.&quot;","body":"It would be helpful to note which version of Android Studio you&#39;re using. Also, did you do any searches for this issue? It&#39;s useful to note that as well with a quick summary of the results. Eg.&quot;I didn&#39;t find anything useful.&quot;"},{"owner":{"account_id":2198810,"reputation":3319,"user_id":1943799,"accept_rate":81,"display_name":"spartygw"},"score":0,"creation_date":1640811716,"post_id":70153817,"comment_id":124666657,"body_markdown":"I think your issue is the very outdated jitsi-meet-sdk. Try the latest 4.1.0","body":"I think your issue is the very outdated jitsi-meet-sdk. Try the latest 4.1.0"}],"owner":{"account_id":18084150,"reputation":1,"user_id":13145500,"display_name":"Saif Sunny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638251780,"creation_date":1638185043,"question_id":70153817,"body_markdown":"I keep getting this error despite adding android:exported attribute in my manifest file. No matter what I do, the code won&#39;t execute. I am trying to make a video conferencing app using firebase and jitsi SDK. I have correctly examined all possibilities of what caused this error, but I came empty-handed. \r\n\r\nError\r\n&gt;\r\nManifest merger failed : android:exported needs to be explicitly specified for &lt;service&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details.\r\n&gt;\r\nHere Is my manifest file \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.hangout&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Hangout&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.DashboardActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SignupActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.LoginActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nHere is my Module:Gradle file\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.hangout&quot;\r\n        minSdk 23\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.0.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore&#39;\r\n    implementation (&#39;org.jitsi.react:jitsi-meet-sdk:2.+&#39;) { transitive = true }\r\n}\r\n```","title":"Manifest merger failed : android:exported needs to be explicitly specified for &lt;service&gt;. Apps targeting Android 12 and higher are required to specify","body":"<p>I keep getting this error despite adding android:exported attribute in my manifest file. No matter what I do, the code won't execute. I am trying to make a video conferencing app using firebase and jitsi SDK. I have correctly examined all possibilities of what caused this error, but I came empty-handed.</p>\n<p>Error</p>\n<blockquote>\n</blockquote>\n<p>Manifest merger failed : android:exported needs to be explicitly specified for . Apps targeting Android 12 and higher are required to specify an explicit value for <code>android:exported</code> when the corresponding component has an intent filter defined. See <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a> for details.</p>\n<blockquote>\n</blockquote>\n<p>Here Is my manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.hangout&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Hangout&quot;&gt;\n        &lt;activity\n            android:name=&quot;.DashboardActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.SignupActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.LoginActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Here is my Module:Gradle file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.hangout&quot;\n        minSdk 23\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    implementation platform('com.google.firebase:firebase-bom:29.0.0')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.firebase:firebase-firestore'\n    implementation ('org.jitsi.react:jitsi-meet-sdk:2.+') { transitive = true }\n}\n</code></pre>\n"},{"tags":["java","json","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":5466940,"reputation":2686,"user_id":4347478,"display_name":"wgitscht"},"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1607557306,"creation_date":1419057477,"answer_id":27577739,"question_id":27577701,"body_markdown":"From the [Jackson Annotations documentation](https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonPropertyOrder.html):\r\n\r\n    // ensure that &quot;id&quot; and &quot;name&quot; are output before other properties\r\n    @JsonPropertyOrder({ &quot;id&quot;, &quot;name&quot; })\r\n\r\n    // order any properties that don&#39;t have explicit setting using alphabetic order\r\n    @JsonPropertyOrder(alphabetic=true)\r\n","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>From the <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/latest/com/fasterxml/jackson/annotation/JsonPropertyOrder.html\" rel=\"noreferrer\">Jackson Annotations documentation</a>:</p>\n<pre><code>// ensure that &quot;id&quot; and &quot;name&quot; are output before other properties\n@JsonPropertyOrder({ &quot;id&quot;, &quot;name&quot; })\n\n// order any properties that don't have explicit setting using alphabetic order\n@JsonPropertyOrder(alphabetic=true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1615395462,"creation_date":1431876646,"answer_id":30288596,"question_id":27577701,"body_markdown":"The annotations are useful, but can be a pain to apply everywhere. You can configure your whole `ObjectMapper` to work this way with \r\n\r\nCurrent Jackson versions:\r\n\r\n`objectMapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)`\r\n    \r\nOlder Jackson versions:\r\n\r\n`objectMapper.configure(SerializationConfig.Feature.SORT_PROPERTIES_ALPHABETICALLY, true);`\r\n","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>The annotations are useful, but can be a pain to apply everywhere. You can configure your whole <code>ObjectMapper</code> to work this way with</p>\n<p>Current Jackson versions:</p>\n<p><code>objectMapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)</code></p>\n<p>Older Jackson versions:</p>\n<p><code>objectMapper.configure(SerializationConfig.Feature.SORT_PROPERTIES_ALPHABETICALLY, true);</code></p>\n"},{"tags":[],"owner":{"account_id":2380301,"reputation":49,"user_id":2082453,"display_name":"Nemes Nisano"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1435920137,"creation_date":1435920137,"answer_id":31204849,"question_id":27577701,"body_markdown":"From Duncan McGregor&#39;s answer:\r\nIts better to use it like this:\r\n\r\n    objectMapper.configure(SerializationConfig.Feature.SORT_PROPERTIES_ALPHABETICALLY, true);\r\n\r\nas MapperFeature is for XMLs and comes with jackson-databind which is not required...","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>From Duncan McGregor's answer:\nIts better to use it like this:</p>\n\n<pre><code>objectMapper.configure(SerializationConfig.Feature.SORT_PROPERTIES_ALPHABETICALLY, true);\n</code></pre>\n\n<p>as MapperFeature is for XMLs and comes with jackson-databind which is not required...</p>\n"},{"tags":[],"owner":{"account_id":170199,"reputation":7167,"user_id":396747,"accept_rate":100,"display_name":"Gary"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1449235491,"creation_date":1449235491,"answer_id":34089421,"question_id":27577701,"body_markdown":"In Spring Boot you can add this behaviour globally by adding the following to your `Application` entry point class:\r\n\r\n\r\n      @Bean\r\n      public Jackson2ObjectMapperBuilder objectMapperBuilder() {\r\n\r\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n        builder.featuresToEnable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY);\r\n    \r\n        return builder;\r\n      }\r\n\r\n","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>In Spring Boot you can add this behaviour globally by adding the following to your <code>Application</code> entry point class:</p>\n\n<pre><code>  @Bean\n  public Jackson2ObjectMapperBuilder objectMapperBuilder() {\n\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n    builder.featuresToEnable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY);\n\n    return builder;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1460630586,"creation_date":1460630586,"answer_id":36620714,"question_id":27577701,"body_markdown":"There is an easier way in Spring Boot by specifying a property (in `application.properties` for example:\r\n\r\n    spring.jackson.mapper.sort_properties_alphabetically=true","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>There is an easier way in Spring Boot by specifying a property (in <code>application.properties</code> for example:</p>\n\n<pre><code>spring.jackson.mapper.sort_properties_alphabetically=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2389550,"reputation":2038,"user_id":2089674,"display_name":"user2089674"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1505672971,"creation_date":1505672971,"answer_id":46267506,"question_id":27577701,"body_markdown":"In Jackson 2.x, which you are probably using today, use:\n\n\n    \n    ObjectMapper mapper = new ObjectMapper();\n    mapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true);\n\nIf you care about looks, you may also consider `SerializationFeature.INDENT_OUTPUT` as well.\n\nNote that you must serialize *Maps* or *Objects* for this to sort correctly. If you serialize a `JsonNode` for example (from `readTree`), that won&#39;t be properly indented.\n\n### Example\n\n    import com.fasterxml.jackson.databind.*;\n\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true);\n    mapper.configure(SerializationFeature.INDENT_OUTPUT, true);\n\n    String input = &quot;{\\&quot;hello\\&quot;: {\\&quot;cruel\\&quot; : \\&quot;world\\&quot;} }&quot;;\n    Object pojo = mapper.readValue(input, Object.class);\n    System.out.println(mapper.writeValueAsString(pojo));\n\nresults in:\n\n    {\n      &quot;hello&quot; : {\n        &quot;cruel&quot; : &quot;world&quot;\n      }\n    }","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>In Jackson 2.x, which you are probably using today, use:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true);\n</code></pre>\n<p>If you care about looks, you may also consider <code>SerializationFeature.INDENT_OUTPUT</code> as well.</p>\n<p>Note that you must serialize <em>Maps</em> or <em>Objects</em> for this to sort correctly. If you serialize a <code>JsonNode</code> for example (from <code>readTree</code>), that won't be properly indented.</p>\n<h3>Example</h3>\n<pre><code>import com.fasterxml.jackson.databind.*;\n\nObjectMapper mapper = new ObjectMapper();\nmapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true);\nmapper.configure(SerializationFeature.INDENT_OUTPUT, true);\n\nString input = &quot;{\\&quot;hello\\&quot;: {\\&quot;cruel\\&quot; : \\&quot;world\\&quot;} }&quot;;\nObject pojo = mapper.readValue(input, Object.class);\nSystem.out.println(mapper.writeValueAsString(pojo));\n</code></pre>\n<p>results in:</p>\n<pre><code>{\n  &quot;hello&quot; : {\n    &quot;cruel&quot; : &quot;world&quot;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550812487,"creation_date":1550812487,"answer_id":54820471,"question_id":27577701,"body_markdown":"Instead of using flag argument: \r\n\r\n    objectMapper.enable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY);\r\n\r\n","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>Instead of using flag argument: </p>\n\n<pre><code>objectMapper.enable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1591097265,"creation_date":1588759028,"answer_id":61632293,"question_id":27577701,"body_markdown":"The following **2** ObjectMapper configuration are required:\r\n\r\n`ObjectMapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)`&lt;br&gt;\r\nor&lt;br&gt;\r\n`ObjectMapper.enable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY)`&lt;br&gt;\r\n&gt; defines the property serialization order used for POJO fields &lt;br&gt;\r\n**Note**: does **not** apply to `java.util.Map` serialization!\r\n\r\n**and**&lt;br&gt;\r\n\r\n`ObjectMapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true)`&lt;br&gt;\r\nor&lt;br&gt;\r\n`ObjectMapper.enable(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS)`&lt;br&gt;\r\n&gt; Feature that determines whether `java.util.Map` entries are first sorted **by key** before serialization\r\n\r\n\r\n----------\r\n\r\n\r\nSpring Boot config example (yaml):\r\n```yaml\r\nspring:\r\n  jackson:\r\n    mapper:\r\n      SORT_PROPERTIES_ALPHABETICALLY: true\r\n    serialization:\r\n      ORDER_MAP_ENTRIES_BY_KEYS: true\r\n```","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>The following <strong>2</strong> ObjectMapper configuration are required:</p>\n\n<p><code>ObjectMapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)</code><br>\nor<br>\n<code>ObjectMapper.enable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY)</code><br></p>\n\n<blockquote>\n  <p>defines the property serialization order used for POJO fields <br>\n  <strong>Note</strong>: does <strong>not</strong> apply to <code>java.util.Map</code> serialization!</p>\n</blockquote>\n\n<p><strong>and</strong><br></p>\n\n<p><code>ObjectMapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true)</code><br>\nor<br>\n<code>ObjectMapper.enable(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS)</code><br></p>\n\n<blockquote>\n  <p>Feature that determines whether <code>java.util.Map</code> entries are first sorted <strong>by key</strong> before serialization</p>\n</blockquote>\n\n<hr>\n\n<p>Spring Boot config example (yaml):</p>\n\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jackson:\n    mapper:\n      SORT_PROPERTIES_ALPHABETICALLY: true\n    serialization:\n      ORDER_MAP_ENTRIES_BY_KEYS: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5256191,"reputation":433,"user_id":4279074,"display_name":"Marcus Voltolim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600149378,"creation_date":1600149378,"answer_id":63895925,"question_id":27577701,"body_markdown":"You can use mix-in and specify the order of properties as you like:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public final class ObjectMapperUtils {\r\n    \r\n    \tprivate static final ObjectMapper MAPPER = new ObjectMapper();\r\n    \r\n    \tstatic {\r\n    \t\tMAPPER.addMixIn(Object.class, IdFirst.class);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ObjectMapper objectMapper() {\r\n    \t\treturn MAPPER;\r\n    \t}\r\n    \r\n    \t@JsonPropertyOrder({&quot;id&quot;, &quot;...&quot;, &quot;...&quot;})\r\n    \tprivate abstract static class IdFirst {}\r\n    \r\n    }","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>You can use mix-in and specify the order of properties as you like:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic final class ObjectMapperUtils {\n\n    private static final ObjectMapper MAPPER = new ObjectMapper();\n\n    static {\n        MAPPER.addMixIn(Object.class, IdFirst.class);\n    }\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        return MAPPER;\n    }\n\n    @JsonPropertyOrder({&quot;id&quot;, &quot;...&quot;, &quot;...&quot;})\n    private abstract static class IdFirst {}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18092510,"reputation":73,"user_id":13151654,"display_name":"PaulN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607596625,"creation_date":1607596625,"answer_id":65232914,"question_id":27577701,"body_markdown":"I realize this is an old thread, but since I was looking or an answer and landed here, some additional info could be handy for other people.&lt;br&gt;\r\nThe @JsonProperty annotation I am using currently (jackson-annotations-2.11.2) accepts, besides the &quot;value&quot; argument, an &quot;index&quot; (numeric) argument that specifies the order of the fields during serialization.","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>I realize this is an old thread, but since I was looking or an answer and landed here, some additional info could be handy for other people.<br>\nThe @JsonProperty annotation I am using currently (jackson-annotations-2.11.2) accepts, besides the &quot;value&quot; argument, an &quot;index&quot; (numeric) argument that specifies the order of the fields during serialization.</p>\n"},{"tags":[],"owner":{"account_id":251067,"reputation":769,"user_id":528179,"accept_rate":71,"display_name":"Rythmic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620402614,"creation_date":1620402614,"answer_id":67438101,"question_id":27577701,"body_markdown":"I discovered yet another way today in case alphabetic is not your desired sorting order. It turns out adding a @JsonProperty annotation on a field places it last when writing if the rest of the fields are not annotated. I discovered that when I wanted to specify a property name which did not conform to java naming conventions.\r\n\r\nBy Adding an index attribute you can define the order. Lowest index is placed first.\r\n\r\n    @JsonProperty(index=20)\r\n    String prop1;\r\n\r\n    @JsonProperty(index=10)\r\n    String prop2;\r\n\r\nWould render:\r\n\r\n    {&quot;prop2&quot;: &quot;valueProp2&quot;, &quot;prop1&quot;: &quot;valueProp1&quot;}","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>I discovered yet another way today in case alphabetic is not your desired sorting order. It turns out adding a @JsonProperty annotation on a field places it last when writing if the rest of the fields are not annotated. I discovered that when I wanted to specify a property name which did not conform to java naming conventions.</p>\n<p>By Adding an index attribute you can define the order. Lowest index is placed first.</p>\n<pre><code>@JsonProperty(index=20)\nString prop1;\n\n@JsonProperty(index=10)\nString prop2;\n</code></pre>\n<p>Would render:</p>\n<pre><code>{&quot;prop2&quot;: &quot;valueProp2&quot;, &quot;prop1&quot;: &quot;valueProp1&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638251559,"creation_date":1638251559,"answer_id":70164927,"question_id":27577701,"body_markdown":"As @Gary Rowe mentioned, we can use Jackson2ObjectMapperBuilder to sort the properties globally. \r\nHowever for this to work, you must have Jackson2ObjectMapperBuilder in your classpath. It is not part of the Jackson library.\r\n\r\nAs per [this documentation][1], spring-web dependency has Jackson2ObjectMapperBuilder file and should be in your classpath. \r\n\r\n    @Bean\r\n      public Jackson2ObjectMapperBuilder objectMapperBuilder() {\r\n   \r\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n        builder.featuresToEnable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY);\r\n    \r\n        return builder;\r\n      }\r\n\r\n\r\nYou can refer to [this][1] for other possible solutions\r\n\r\n\r\n  [1]: https://tedblob.com/jackson-serialization-order/","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>As @Gary Rowe mentioned, we can use Jackson2ObjectMapperBuilder to sort the properties globally.\nHowever for this to work, you must have Jackson2ObjectMapperBuilder in your classpath. It is not part of the Jackson library.</p>\n<p>As per <a href=\"https://tedblob.com/jackson-serialization-order/\" rel=\"nofollow noreferrer\">this documentation</a>, spring-web dependency has Jackson2ObjectMapperBuilder file and should be in your classpath.</p>\n<pre><code>@Bean\n  public Jackson2ObjectMapperBuilder objectMapperBuilder() {\n\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n    builder.featuresToEnable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY);\n\n    return builder;\n  }\n</code></pre>\n<p>You can refer to <a href=\"https://tedblob.com/jackson-serialization-order/\" rel=\"nofollow noreferrer\">this</a> for other possible solutions</p>\n"}],"owner":{"account_id":792396,"reputation":2083,"user_id":909876,"accept_rate":60,"display_name":"Lizzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95921,"favorite_count":0,"down_vote_count":0,"up_vote_count":121,"accepted_answer_id":27577739,"answer_count":12,"score":121,"last_activity_date":1638251559,"creation_date":1419057155,"question_id":27577701,"body_markdown":"I&#39;m implementing a RESTful web service where user has to send a signed verification token along with the request so that I could ensure that the request has not been tampered by a middle man. My current implementation is as follows.\r\n\r\nVerification token is a VerifData object serialized into a String and then hashed and encrypted.\r\n\r\n    class VerifData {\r\n        int prop1;\r\n        int prop2;\r\n    }\r\nIn my service, I put data to be serialized into an instance of VerifData and then serialize it using Jackson ObjectMapper and passed along to the verification engine along with the verification token.\r\n\r\n    VerfiData verifData = new VerifData(12345, 67890);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String verifCodeGenerated = mapper.writeValueAsString(verifData);\r\n\r\nBut it seems that each time the application container is started, the order of properties being mapped into a string by ObjectMapper changes.\r\n    \r\nEx: one time it would be\r\n\r\n    {&quot;prop1&quot;:12345,&quot;prop2&quot;:67890}\r\nand another time it would be\r\n\r\n    {&quot;prop2&quot;:67890,&quot;prop1&quot;:12345}\r\n\r\nSo if client has serialized the VerifData instance as into the first String, there is 50% chance of it being failed even though it is correct.\r\n\r\nIs there a way to get around this? Can I specify the order of properties to map by ObjectMapper (like in ascending order)? Or is there any other way to best implement this verification step. Both client and server implementations are developed by me. I use Java Security API for signing and verifying.","title":"Jackson ObjectMapper - specify serialization order of object properties","body":"<p>I'm implementing a RESTful web service where user has to send a signed verification token along with the request so that I could ensure that the request has not been tampered by a middle man. My current implementation is as follows.</p>\n\n<p>Verification token is a VerifData object serialized into a String and then hashed and encrypted.</p>\n\n<pre><code>class VerifData {\n    int prop1;\n    int prop2;\n}\n</code></pre>\n\n<p>In my service, I put data to be serialized into an instance of VerifData and then serialize it using Jackson ObjectMapper and passed along to the verification engine along with the verification token.</p>\n\n<pre><code>VerfiData verifData = new VerifData(12345, 67890);\nObjectMapper mapper = new ObjectMapper();\nString verifCodeGenerated = mapper.writeValueAsString(verifData);\n</code></pre>\n\n<p>But it seems that each time the application container is started, the order of properties being mapped into a string by ObjectMapper changes.</p>\n\n<p>Ex: one time it would be</p>\n\n<pre><code>{\"prop1\":12345,\"prop2\":67890}\n</code></pre>\n\n<p>and another time it would be</p>\n\n<pre><code>{\"prop2\":67890,\"prop1\":12345}\n</code></pre>\n\n<p>So if client has serialized the VerifData instance as into the first String, there is 50% chance of it being failed even though it is correct.</p>\n\n<p>Is there a way to get around this? Can I specify the order of properties to map by ObjectMapper (like in ascending order)? Or is there any other way to best implement this verification step. Both client and server implementations are developed by me. I use Java Security API for signing and verifying.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-repositories"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638256272,"post_id":70164914,"comment_id":124033310,"body_markdown":"And how would an object hold those 50 columns.","body":"And how would an object hold those 50 columns."},{"owner":{"account_id":3594096,"reputation":868,"user_id":2999358,"accept_rate":67,"display_name":"k9yosh"},"score":0,"creation_date":1638257597,"post_id":70164914,"comment_id":124033709,"body_markdown":"I don&#39;t think you can do this as far as I know. Say even if you manage to take a list of Objects at some point you will need to access those data right?","body":"I don&#39;t think you can do this as far as I know. Say even if you manage to take a list of Objects at some point you will need to access those data right?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1638264644,"post_id":70164914,"comment_id":124036082,"body_markdown":"What is difficult about putting &quot;all 50 column names in entity&quot;?","body":"What is difficult about putting &quot;all 50 column names in entity&quot;?"}],"owner":{"account_id":14362913,"reputation":73,"user_id":10374779,"display_name":"Ragul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638251423,"creation_date":1638251423,"question_id":70164914,"body_markdown":"In Spring boot, here is the repository class\r\n\r\n    class DemoRepository extends JpaRepository&lt;DemoEntity, String&gt;{\r\n    \r\n    @Query(nativeQuery = true,value=&quot;SELECT t1.*, t2.DEMO2_NAME FROM DEMO1 as t1 LEFT JOIN DEMO2 as t2   ON t1.ID = t2.ID&quot;)\r\n    **List&lt;DemoEntity&gt; get();**\r\n    \r\n    }\r\n\r\nHere a DemoEntity is needed with columns as \r\n1. all 50 columns of table 1 (DEMO1)\r\n2. DEMO2_NAME of table 2 (DEMO2)\r\n\r\n**Since DEMO1 table can have 50 columns. It is difficult to put all 50 column names in entity.\r\nSo, How to avoid creating entity class and return List of Objects instead of List of Entity?**","title":"Returning List of Object from Repository by avoiding creation of entity class","body":"<p>In Spring boot, here is the repository class</p>\n<pre><code>class DemoRepository extends JpaRepository&lt;DemoEntity, String&gt;{\n\n@Query(nativeQuery = true,value=&quot;SELECT t1.*, t2.DEMO2_NAME FROM DEMO1 as t1 LEFT JOIN DEMO2 as t2   ON t1.ID = t2.ID&quot;)\n**List&lt;DemoEntity&gt; get();**\n\n}\n</code></pre>\n<p>Here a DemoEntity is needed with columns as</p>\n<ol>\n<li>all 50 columns of table 1 (DEMO1)</li>\n<li>DEMO2_NAME of table 2 (DEMO2)</li>\n</ol>\n<p><strong>Since DEMO1 table can have 50 columns. It is difficult to put all 50 column names in entity.\nSo, How to avoid creating entity class and return List of Objects instead of List of Entity?</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8186,"page":1806,"page_size":100}
