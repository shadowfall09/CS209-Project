{"items":[{"tags":["java","calculator"],"comments":[{"owner":{"display_name":"user166390"},"score":0,"creation_date":1360115674,"post_id":14720251,"comment_id":20592460,"body_markdown":"Then operation is likely *not* equal to any of the operator strings - what *is* it really? (Also, consider using `System.out.println` for a console app .. you&#39;re reading from the console, so might as well write to it :-/)","body":"Then operation is likely <i>not</i> equal to any of the operator strings - what <i>is</i> it really? (Also, consider using <code>System.out.println</code> for a console app .. you&#39;re reading from the console, so might as well write to it :-/)"},{"owner":{"display_name":"user166390"},"score":0,"creation_date":1360116076,"post_id":14720251,"comment_id":20592586,"body_markdown":"And, how *is* this program being being started? With `java` or `javaw`?","body":"And, how <i>is</i> this program being being started? With <code>java</code> or <code>javaw</code>?"}],"answers":[{"comments":[{"owner":{"account_id":1279628,"reputation":124,"user_id":1234048,"display_name":"gincsait"},"score":0,"creation_date":1360770959,"post_id":14720565,"comment_id":20825500,"body_markdown":"@user2037720 Was it useful? Please accept or say something :)","body":"@user2037720 Was it useful? Please accept or say something :)"}],"tags":[],"owner":{"account_id":1279628,"reputation":124,"user_id":1234048,"display_name":"gincsait"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360117358,"creation_date":1360117358,"answer_id":14720565,"question_id":14720251,"body_markdown":"Read the numbers from the dialog output instead of from System.in:\r\n\r\n    String firstNumber = JOptionPane.showInputDialog(null,&quot;please enter the first number&quot;);\r\n    if (firstNumber != null) {\r\n        num1 = Integer.parseInt(firstNumber);\r\n    }\r\n\r\nScanner is unnecessary in your code.","title":"Basic Calculator","body":"<p>Read the numbers from the dialog output instead of from System.in:</p>\n\n<pre><code>String firstNumber = JOptionPane.showInputDialog(null,\"please enter the first number\");\nif (firstNumber != null) {\n    num1 = Integer.parseInt(firstNumber);\n}\n</code></pre>\n\n<p>Scanner is unnecessary in your code.</p>\n"},{"comments":[{"owner":{"account_id":5113743,"reputation":2236,"user_id":4099598,"display_name":"Nathan Tuggy"},"score":1,"creation_date":1424316306,"post_id":28597986,"comment_id":45502521,"body_markdown":"Welcome to Stack Overflow! Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others. (And this one would also benefit from proper indentation.)","body":"Welcome to Stack Overflow! Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others. (And this one would also benefit from proper indentation.)"}],"tags":[],"owner":{"account_id":5811129,"reputation":1,"user_id":4582156,"display_name":"Zeyad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424318184,"creation_date":1424315100,"answer_id":28597986,"question_id":14720251,"body_markdown":"You can try using that sample code:\r\n\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Hw4_3 {\r\n\t\r\n    \tprivate static boolean flag;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tdo {\r\n    \t\t\tString[] expression = getTask();\r\n    \t\t\tdouble result = calculate(expression);\r\n    \t\t\tdisplay(expression, result);\r\n    \t\t\trepeat();\r\n    \t\t} while (flag);\r\n    \t}\r\n    \t\r\n    \tpublic static String[] getTask()\r\n    \t{\r\n    \t\tString bleh = JOptionPane.showInputDialog(null, &quot;Please enter what you would like to calculate: &quot;);\r\n    \t\tString[] tokens = bleh.split(&quot; &quot;);\r\n    \t\treturn tokens;\r\n    \t}\r\n    \t\r\n    \tpublic static double calculate(String[] data)\r\n    \t{\r\n    \t\tdouble num1 = Double.parseDouble(data[0]);\r\n    \t\tdouble num2 = Double.parseDouble(data[2]);\r\n    \t\tdouble result = 0;\r\n    \t\tif(data[1].equals(&quot;+&quot;))\r\n    \t\t{\r\n    \t\t\tresult = add(num1, num2);\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\telse if(data[1].equals(&quot;-&quot;))\r\n    \t\t{\r\n    \t\t\tresult = subtract(num1, num2);\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\telse if(data[1].equals(&quot;*&quot;))\r\n    \t\t{\r\n    \t\t\tresult = multiply(num1, num2);\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\telse \r\n    \t\t{\r\n    \t\t\tif(num2 == 0)\r\n    \t\t\t{\r\n    \t\t\t\tJOptionPane.showMessageDialog(null, &quot;Sytax error, divide by zero&quot;);\r\n    \t\t\t}\r\n    \t\t\tresult = divide(num1, num2);\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static double add(double num1, double num2)\r\n    \t{\r\n    \t\treturn num1 + num2;\r\n    \t}\r\n    \t\r\n    \tpublic static double subtract(double num1, double num2)\r\n    \t{\r\n    \t\treturn num1 - num2;\r\n    \t}\r\n    \t\r\n    \tpublic static double multiply(double num1, double num2)\r\n    \t{\r\n    \t\treturn num1 * num2;\r\n    \t}\r\n    \t\r\n    \tpublic static double divide(double num1, double num2)\r\n    \t{\r\n    \t\treturn num1 / num2;\r\n    \t}\r\n    \r\n    \tpublic static void display(String[] data, double result)\r\n    \t{\r\n    \t\tif(data[1].equals(&quot;/&quot;) &amp;&amp; data[2].equals(&quot;0&quot;))\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tJOptionPane.showMessageDialog(null, data[0] + &quot; &quot; + data[1] + &quot; &quot; + data[2] + &quot; = &quot; + result);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void repeat()\r\n    \t{\r\n    \t\tint bleh = JOptionPane.showConfirmDialog(null, &quot;More?&quot;,null, JOptionPane.YES_NO_OPTION);\r\n    \t\tif(bleh == JOptionPane.NO_OPTION)\r\n    \t\t{\r\n    \t\t\tflag = false;\r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;Have a good day.&quot;);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t\tflag = true;\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Basic Calculator","body":"<p>You can try using that sample code:</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class Hw4_3 {\n\n    private static boolean flag;\n\n    public static void main(String[] args) {\n        do {\n            String[] expression = getTask();\n            double result = calculate(expression);\n            display(expression, result);\n            repeat();\n        } while (flag);\n    }\n\n    public static String[] getTask()\n    {\n        String bleh = JOptionPane.showInputDialog(null, \"Please enter what you would like to calculate: \");\n        String[] tokens = bleh.split(\" \");\n        return tokens;\n    }\n\n    public static double calculate(String[] data)\n    {\n        double num1 = Double.parseDouble(data[0]);\n        double num2 = Double.parseDouble(data[2]);\n        double result = 0;\n        if(data[1].equals(\"+\"))\n        {\n            result = add(num1, num2);\n            return result;\n        }\n        else if(data[1].equals(\"-\"))\n        {\n            result = subtract(num1, num2);\n            return result;\n        }\n        else if(data[1].equals(\"*\"))\n        {\n            result = multiply(num1, num2);\n            return result;\n        }\n        else \n        {\n            if(num2 == 0)\n            {\n                JOptionPane.showMessageDialog(null, \"Sytax error, divide by zero\");\n            }\n            result = divide(num1, num2);\n            return result;\n        }\n\n\n    }\n\n    public static double add(double num1, double num2)\n    {\n        return num1 + num2;\n    }\n\n    public static double subtract(double num1, double num2)\n    {\n        return num1 - num2;\n    }\n\n    public static double multiply(double num1, double num2)\n    {\n        return num1 * num2;\n    }\n\n    public static double divide(double num1, double num2)\n    {\n        return num1 / num2;\n    }\n\n    public static void display(String[] data, double result)\n    {\n        if(data[1].equals(\"/\") &amp;&amp; data[2].equals(\"0\"))\n        {\n\n        }\n        else\n        {\n            JOptionPane.showMessageDialog(null, data[0] + \" \" + data[1] + \" \" + data[2] + \" = \" + result);\n        }\n    }\n\n    public static void repeat()\n    {\n        int bleh = JOptionPane.showConfirmDialog(null, \"More?\",null, JOptionPane.YES_NO_OPTION);\n        if(bleh == JOptionPane.NO_OPTION)\n        {\n            flag = false;\n            JOptionPane.showMessageDialog(null, \"Have a good day.\");\n        }\n        else\n            flag = true;\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2322341,"reputation":93,"user_id":2037720,"accept_rate":25,"display_name":"user2037720"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693965905,"creation_date":1360115191,"question_id":14720251,"body_markdown":"Im having problems with my program. the program displays the first JOption message dialog box, but when you input a value, it fails to display the second dialog box??\r\n\r\n\r\n    import java.util.Scanner;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class javaCalculator \r\n    {\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tint num1;\r\n\t\tint num2;\r\n\t\tString operation;\r\n\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tJOptionPane.showInputDialog(null,&quot;please enter the first number&quot;);\r\n\t\tnum1 = input.nextInt();\r\n\r\n\t\tJOptionPane.showInputDialog(null,&quot;please enter the second number&quot;);\r\n\t\tnum2 = input.nextInt();\r\n\t\t\r\n\t\t\r\n\t\tJOptionPane.showInputDialog(null,&quot;Please enter operation&quot;);\r\n\t\toperation = input.next();\r\n\t\t\r\n\t\tif (operation.equals (&quot;+&quot;))\r\n\t\t{\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;your answer is&quot; + &quot; &quot; + (num1 + num2));\r\n\t\t}\r\n\t\tif \t(operation.equals (&quot;-&quot;))\r\n\t\t{\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;your answer is&quot; + &quot; &quot; + (num1 - num2));\r\n\t\t}\r\n\t\t\r\n\t\tif (operation.equals (&quot;/&quot;))\r\n\t\t{\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;your answer is&quot; + &quot; &quot; + (num1 / num2));\r\n\t\t}\r\n\t\tif (operation.equals (&quot;*&quot;))\r\n\t\t{\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;your answer is&quot; + &quot; &quot; + (num1 * num2));\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\t\r\n\r\n\t}\r\n\r\n","title":"Basic Calculator","body":"<p>Im having problems with my program. the program displays the first JOption message dialog box, but when you input a value, it fails to display the second dialog box??</p>\n\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class javaCalculator \n{\npublic static void main(String[] args) \n{\n    int num1;\n    int num2;\n    String operation;\n\n\n    Scanner input = new Scanner(System.in);\n\n    JOptionPane.showInputDialog(null,\"please enter the first number\");\n    num1 = input.nextInt();\n\n    JOptionPane.showInputDialog(null,\"please enter the second number\");\n    num2 = input.nextInt();\n\n\n    JOptionPane.showInputDialog(null,\"Please enter operation\");\n    operation = input.next();\n\n    if (operation.equals (\"+\"))\n    {\n        JOptionPane.showMessageDialog(null,\"your answer is\" + \" \" + (num1 + num2));\n    }\n    if  (operation.equals (\"-\"))\n    {\n        JOptionPane.showMessageDialog(null,\"your answer is\" + \" \" + (num1 - num2));\n    }\n\n    if (operation.equals (\"/\"))\n    {\n        JOptionPane.showMessageDialog(null,\"your answer is\" + \" \" + (num1 / num2));\n    }\n    if (operation.equals (\"*\"))\n    {\n        JOptionPane.showMessageDialog(null,\"your answer is\" + \" \" + (num1 * num2));\n    }\n\n\n}\n\n\n}\n</code></pre>\n"},{"tags":["java","unicode","utf-8","utf-16","codepoint"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":2,"creation_date":1610415815,"post_id":65633261,"comment_id":116120343,"body_markdown":"Your question is confusing, because Unicode codepoints are not related to any encoding - they&#39;re just numbers. A &quot;code point (UTF8 or UTF32)&quot; doesn&#39;t exist and is leading responders the wrong way. You just want to sort by code point, period.","body":"Your question is confusing, because Unicode codepoints are not related to any encoding - they&#39;re just numbers. A &quot;code point (UTF8 or UTF32)&quot; doesn&#39;t exist and is leading responders the wrong way. You just want to sort by code point, period."}],"answers":[{"tags":[],"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1610125689,"creation_date":1610125689,"answer_id":65633343,"question_id":65633261,"body_markdown":"**Easiest way :** \r\n\r\n    inputValues.sort(String.CASE_INSENSITIVE_ORDER.reversed());\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n\r\n\r\n**Little comples but with more control :**\r\n\r\nConvert the List into an array :\r\n\r\n    String[] arr = new String[inputValues .size()]; \r\n    for (int i =0; i &lt; inputValues .size(); i++) \r\n        arr[i] = inputValues.get(i); \r\n\r\nThere are other efficient ways to convert List to array but this is the simple to understand!\r\n\r\nThen use this function:\r\n\r\n     public static String[] textSort(String[] words) {\r\n        for (int i = 0; i &lt; words.length; i++) {\r\n            for (int j = i + 1; j &lt; words.length; j++) {\r\n                if (words[i].toUpperCase().compareTo(words[j].toUpperCase()) &lt; 0) {//change this to &gt; if you want to sort reverse order\r\n                    String temp = words[i];\r\n                    words[i] = words[j];\r\n                    words[j] = temp;\r\n                }\r\n            }\r\n        }\r\n    \r\n        return words;\r\n    }\r\n","title":"How to sort in Unicode code point (UTF8 or UTF32) sorted order in java?","body":"<p><strong>Easiest way :</strong></p>\n<pre><code>inputValues.sort(String.CASE_INSENSITIVE_ORDER.reversed());\n</code></pre>\n<p><br><br></p>\n<p><strong>Little comples but with more control :</strong></p>\n<p>Convert the List into an array :</p>\n<pre><code>String[] arr = new String[inputValues .size()]; \nfor (int i =0; i &lt; inputValues .size(); i++) \n    arr[i] = inputValues.get(i); \n</code></pre>\n<p>There are other efficient ways to convert List to array but this is the simple to understand!</p>\n<p>Then use this function:</p>\n<pre><code> public static String[] textSort(String[] words) {\n    for (int i = 0; i &lt; words.length; i++) {\n        for (int j = i + 1; j &lt; words.length; j++) {\n            if (words[i].toUpperCase().compareTo(words[j].toUpperCase()) &lt; 0) {//change this to &gt; if you want to sort reverse order\n                String temp = words[i];\n                words[i] = words[j];\n                words[j] = temp;\n            }\n        }\n    }\n\n    return words;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5399016,"reputation":5264,"user_id":4299358,"display_name":"AmigoJack"},"score":0,"creation_date":1610189348,"post_id":65633763,"comment_id":116057039,"body_markdown":"If Jave knows UTF-32 strings then those should be used to sort them, as otherwise Java then doesn&#39;t sort by UTF-16 (respecting surrogates) but instead UCS-2 (every codepoint is always 2 bytes).","body":"If Jave knows UTF-32 strings then those should be used to sort them, as otherwise Java then doesn&#39;t sort by UTF-16 (respecting surrogates) but instead UCS-2 (every codepoint is always 2 bytes)."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1610217372,"post_id":65633763,"comment_id":116065072,"body_markdown":"Java&#39;s native `String`s are UTF-16 encoded and internally are just an array of `char`s (16-bit). You might transform it into an array of 32-bit codepoints, but that requires memory allocation for every comparison. Making high surrogates greater than all other characters works as well.","body":"Java&#39;s native <code>String</code>s are UTF-16 encoded and internally are just an array of <code>char</code>s (16-bit). You might transform it into an array of 32-bit codepoints, but that requires memory allocation for every comparison. Making high surrogates greater than all other characters works as well."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610695315,"creation_date":1610127391,"answer_id":65633763,"question_id":65633261,"body_markdown":"[Maybe not everyone noticed that, what appears as a capital `A` is actually a:\r\n\r\n`Mathematical Italic Capital A (U+1D434)`\r\n\r\n]\r\n\r\nYour problem is that in Java characters beyond the BMP are encoded as two characters.\r\n\r\nTo sort the list according to a codepoint-wise lexicographic order, you need to define your own `Comparator`:\r\n\r\n```java\r\npublic class CodePointComparator implements Comparator&lt;String&gt; {\r\n @Override\r\n public int compare(String o1, String o2) {\r\n    int len1 = o1.length();\r\n    int len2 = o2.length();\r\n    int lim = Math.min(len1, len2);\r\n    int k = 0;\r\n    while (k &lt; lim) {\r\n      char c1 = o1.charAt(k);\r\n      char c2 = o2.charAt(k);\r\n      if (c1 != c2) {\r\n        // A high surrogate is greater than a non-surrogate character\r\n        if (Character.isHighSurrogate(c1) != Character.isHighSurrogate(c2)) {\r\n          return Character.isHighSurrogate(c1) ? 1 : -1;\r\n        }\r\n        return c1 - c2;\r\n      }\r\n      k++;\r\n    }\r\n    return len1 - len2;\r\n  }\r\n}\r\n```\r\nand pass it as argument to the `List#sort` method. I operate directly on surrogate pairs to gain some performance.","title":"How to sort in Unicode code point (UTF8 or UTF32) sorted order in java?","body":"<p>[Maybe not everyone noticed that, what appears as a capital <code>A</code> is actually a:</p>\n<p><code>Mathematical Italic Capital A (U+1D434)</code></p>\n<p>]</p>\n<p>Your problem is that in Java characters beyond the BMP are encoded as two characters.</p>\n<p>To sort the list according to a codepoint-wise lexicographic order, you need to define your own <code>Comparator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CodePointComparator implements Comparator&lt;String&gt; {\n @Override\n public int compare(String o1, String o2) {\n    int len1 = o1.length();\n    int len2 = o2.length();\n    int lim = Math.min(len1, len2);\n    int k = 0;\n    while (k &lt; lim) {\n      char c1 = o1.charAt(k);\n      char c2 = o2.charAt(k);\n      if (c1 != c2) {\n        // A high surrogate is greater than a non-surrogate character\n        if (Character.isHighSurrogate(c1) != Character.isHighSurrogate(c2)) {\n          return Character.isHighSurrogate(c1) ? 1 : -1;\n        }\n        return c1 - c2;\n      }\n      k++;\n    }\n    return len1 - len2;\n  }\n}\n</code></pre>\n<p>and pass it as argument to the <code>List#sort</code> method. I operate directly on surrogate pairs to gain some performance.</p>\n"},{"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1610573712,"post_id":65676891,"comment_id":116180430,"body_markdown":"A [lexicographic order](https://en.wikipedia.org/wiki/Lexicographic_order) is exactly what your wrote: a String `s1` is less than `s2` if the first codepoint at which they differ is smaller in `s1` or if `s1` is a prefix of `s2`.","body":"A <a href=\"https://en.wikipedia.org/wiki/Lexicographic_order\" rel=\"nofollow noreferrer\">lexicographic order</a> is exactly what your wrote: a String <code>s1</code> is less than <code>s2</code> if the first codepoint at which they differ is smaller in <code>s1</code> or if <code>s1</code> is a prefix of <code>s2</code>."}],"tags":[],"owner":{"account_id":1826492,"reputation":1650,"user_id":1659114,"accept_rate":58,"display_name":"genonymous"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1610415340,"creation_date":1610415340,"answer_id":65676891,"question_id":65633261,"body_markdown":"Sorry, I am not looking for lexicographic sorting but simply sorting based on Unicode code point (UTF-8 or UTF-32). \r\n\r\nThere is a comment in one of the libraries that I am trying to use:\r\n\r\n&gt;  Input values (keys). These must be provided to Builder in Unicode code point (UTF8 or UTF32) sorted order. Note that sorting by Java&#39;s String.compareTo, which is UTF16 sorted order, is not correct and can lead to exceptions while building the FST\r\n\r\nI was running into issues because I was using `Collections.sort` which is UTF-16 sorted order for Java. Finally I wrote my own compare function as below which resolves the issues I am facing. I am surprised that it is not available natively or with some other popular libraries.\r\n\r\n    public static void sort(List&lt;String&gt; list) {\r\n        Collections.sort(\r\n                list,\r\n                new Comparator&lt;String&gt;() {\r\n                    @Override\r\n                    public int compare(String s1, String s2) {\r\n                        int n1 = s1.length();\r\n                        int n2 = s2.length();\r\n                        int min = Math.min(n1, n2);\r\n                        for (int i = 0; i &lt; min; i++) {\r\n                            int c1 = s1.codePointAt(i);\r\n                            int c2 = s2.codePointAt(i);\r\n                            if (c1 != c2) {\r\n                                return c1 - c2;\r\n                            }\r\n                        }\r\n                        return n1 - n2;\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to sort in Unicode code point (UTF8 or UTF32) sorted order in java?","body":"<p>Sorry, I am not looking for lexicographic sorting but simply sorting based on Unicode code point (UTF-8 or UTF-32).</p>\n<p>There is a comment in one of the libraries that I am trying to use:</p>\n<blockquote>\n<p>Input values (keys). These must be provided to Builder in Unicode code point (UTF8 or UTF32) sorted order. Note that sorting by Java's String.compareTo, which is UTF16 sorted order, is not correct and can lead to exceptions while building the FST</p>\n</blockquote>\n<p>I was running into issues because I was using <code>Collections.sort</code> which is UTF-16 sorted order for Java. Finally I wrote my own compare function as below which resolves the issues I am facing. I am surprised that it is not available natively or with some other popular libraries.</p>\n<pre><code>public static void sort(List&lt;String&gt; list) {\n    Collections.sort(\n            list,\n            new Comparator&lt;String&gt;() {\n                @Override\n                public int compare(String s1, String s2) {\n                    int n1 = s1.length();\n                    int n2 = s2.length();\n                    int min = Math.min(n1, n2);\n                    for (int i = 0; i &lt; min; i++) {\n                        int c1 = s1.codePointAt(i);\n                        int c2 = s2.codePointAt(i);\n                        if (c1 != c2) {\n                            return c1 - c2;\n                        }\n                    }\n                    return n1 - n2;\n                }\n            });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693965597,"creation_date":1693965597,"answer_id":77048620,"question_id":65633261,"body_markdown":"\r\nUse sort:\r\n\r\n    Collections.sort(keywordsList, new UTF8Comparator());\r\n\r\nand create a custom UTF8 comparator:\r\n\r\n    class UTF8Comparator implements Comparator&lt;String&gt; {\r\n\t\t@Override\r\n\t\tpublic int compare(String str1, String str2) {\r\n\t\t\tbyte[] bytes1 = str1.getBytes(java.nio.charset.StandardCharsets.UTF_8);\r\n\t\t\tbyte[] bytes2 = str2.getBytes(java.nio.charset.StandardCharsets.UTF_8);\r\n\r\n\t\t\tfor (int i = 0; i &lt; Math.min(bytes1.length, bytes2.length); i++) {\r\n\t\t\t\tif (bytes1[i] != bytes2[i]) {\r\n\t\t\t\t\treturn bytes1[i] - bytes2[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn bytes1.length - bytes2.length;\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"How to sort in Unicode code point (UTF8 or UTF32) sorted order in java?","body":"<p>Use sort:</p>\n<pre><code>Collections.sort(keywordsList, new UTF8Comparator());\n</code></pre>\n<p>and create a custom UTF8 comparator:</p>\n<pre><code>class UTF8Comparator implements Comparator&lt;String&gt; {\n    @Override\n    public int compare(String str1, String str2) {\n        byte[] bytes1 = str1.getBytes(java.nio.charset.StandardCharsets.UTF_8);\n        byte[] bytes2 = str2.getBytes(java.nio.charset.StandardCharsets.UTF_8);\n\n        for (int i = 0; i &lt; Math.min(bytes1.length, bytes2.length); i++) {\n            if (bytes1[i] != bytes2[i]) {\n                return bytes1[i] - bytes2[i];\n            }\n        }\n\n        return bytes1.length - bytes2.length;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1826492,"reputation":1650,"user_id":1659114,"accept_rate":58,"display_name":"genonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65676891,"answer_count":4,"score":0,"last_activity_date":1693965597,"creation_date":1610125321,"question_id":65633261,"body_markdown":"Java&#39;s String.compareTo uses UTF16 sorted order. \r\n\r\n    List&lt;String&gt; inputValues = Arrays.asList(&quot;&#119860;&quot;,&quot;ﬁgure&quot;, &quot;ﬂagship&quot;, &quot;zion&quot;);\r\n    Collections.sort(inputValues);\r\n\r\nAbove code results into sorted order `[zion, &#119860;, ﬁgure, ﬂagship]`\r\nHowever, I want this sorted order to be `[zion, ﬁgure, ﬂagship, &#119860;]` \r\nNote that some of the characters are ligatures.","title":"How to sort in Unicode code point (UTF8 or UTF32) sorted order in java?","body":"<p>Java's String.compareTo uses UTF16 sorted order.</p>\n<pre><code>List&lt;String&gt; inputValues = Arrays.asList(&quot;𝐴&quot;,&quot;ﬁgure&quot;, &quot;ﬂagship&quot;, &quot;zion&quot;);\nCollections.sort(inputValues);\n</code></pre>\n<p>Above code results into sorted order <code>[zion, 𝐴, ﬁgure, ﬂagship]</code>\nHowever, I want this sorted order to be <code>[zion, ﬁgure, ﬂagship, 𝐴]</code>\nNote that some of the characters are ligatures.</p>\n"},{"tags":["java","spring","eclipse","gradle"],"comments":[{"owner":{"account_id":5635179,"reputation":999,"user_id":4460867,"display_name":"Martin Linha"},"score":0,"creation_date":1488366664,"post_id":42529580,"comment_id":72195988,"body_markdown":"What is the full output? Use &quot;-s&quot; argument to the build command please.","body":"What is the full output? Use &quot;-s&quot; argument to the build command please."},{"owner":{"account_id":10359929,"reputation":11,"user_id":7640729,"display_name":"anon"},"score":0,"creation_date":1488370804,"post_id":42529580,"comment_id":72198769,"body_markdown":"@MartinLinha Error details http://pastebin.com/PgAmm0Sx","body":"@MartinLinha Error details <a href=\"http://pastebin.com/PgAmm0Sx\" rel=\"nofollow noreferrer\">pastebin.com/PgAmm0Sx</a>"}],"answers":[{"tags":[],"owner":{"account_id":5635179,"reputation":999,"user_id":4460867,"display_name":"Martin Linha"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488371082,"creation_date":1488371082,"answer_id":42531663,"question_id":42529580,"body_markdown":"Your build cannot be compiled, as stated\r\n\r\n`Compilation failed; see the compiler error output for details.`\r\n\r\ncheck the code and find what causes it to not to build. Try to run the command with `-s -i` options to find out what is wrong.","title":"Execution failed for task &#39;:compileJava&#39;. Gradle","body":"<p>Your build cannot be compiled, as stated</p>\n\n<p><code>Compilation failed; see the compiler error output for details.</code></p>\n\n<p>check the code and find what causes it to not to build. Try to run the command with <code>-s -i</code> options to find out what is wrong.</p>\n"},{"tags":[],"owner":{"account_id":4629226,"reputation":11,"user_id":3752189,"display_name":"Selva kumaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521742323,"creation_date":1521739804,"answer_id":49434973,"question_id":42529580,"body_markdown":"Change the javahome variable to point to the proper directory, i.e. to your jdk home directory. \r\n\r\nIn Eclipse you can change the path in a run configuration under Java Home, for example to `C:\\Program Files\\Java\\jdk-9.0.4`.\r\nThen run the configuration as `clean` and `assemble`.\r\n\r\n[![Eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6DpN7.png","title":"Execution failed for task &#39;:compileJava&#39;. Gradle","body":"<p>Change the javahome variable to point to the proper directory, i.e. to your jdk home directory. </p>\n\n<p>In Eclipse you can change the path in a run configuration under Java Home, for example to <code>C:\\Program Files\\Java\\jdk-9.0.4</code>.\nThen run the configuration as <code>clean</code> and <code>assemble</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6DpN7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6DpN7.png\" alt=\"Eclipse\"></a></p>\n"}],"owner":{"account_id":10359929,"reputation":11,"user_id":7640729,"display_name":"anon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693962536,"creation_date":1488365037,"question_id":42529580,"body_markdown":"I am trying to set up my first gradle project in eclipse but im having problem with building gradle. I&#39; ve copied build.gradle from spring.io but still it wont build properly. I get  Execution failed for task &#39;:compileJava&#39;. My build.gradle file looks like this \r\n\r\n     buildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:1.5.1.RELEASE&quot;)\r\n    }\r\n    }\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n\r\n    jar {\r\n    baseName = &#39;gs-spring-boot&#39;\r\n    version =  &#39;0.1.0&#39;\r\n    }\r\n\r\n    repositories {\r\n    mavenCentral()\r\n    }\r\n\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\n    dependencies {\r\n    // tag::jetty[]\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n        exclude module: &quot;spring-boot-starter-tomcat&quot;\r\n    }\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-jetty&quot;)\r\n    // end::jetty[]\r\n    // tag::actuator[]\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    // end::actuator[]\r\n    testCompile(&quot;junit:junit&quot;)\r\n    }","title":"Execution failed for task &#39;:compileJava&#39;. Gradle","body":"<p>I am trying to set up my first gradle project in eclipse but im having problem with building gradle. I' ve copied build.gradle from spring.io but still it wont build properly. I get  Execution failed for task ':compileJava'. My build.gradle file looks like this </p>\n\n<pre><code> buildscript {\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    classpath(\"org.springframework.boot:spring-boot-gradle-plugin:1.5.1.RELEASE\")\n}\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'org.springframework.boot'\n\njar {\nbaseName = 'gs-spring-boot'\nversion =  '0.1.0'\n}\n\nrepositories {\nmavenCentral()\n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\n// tag::jetty[]\ncompile(\"org.springframework.boot:spring-boot-starter-web\") {\n    exclude module: \"spring-boot-starter-tomcat\"\n}\ncompile(\"org.springframework.boot:spring-boot-starter-jetty\")\n// end::jetty[]\n// tag::actuator[]\ncompile(\"org.springframework.boot:spring-boot-starter-actuator\")\n// end::actuator[]\ntestCompile(\"junit:junit\")\n}\n</code></pre>\n"},{"tags":["java","printing","jasper-reports"],"answers":[{"comments":[{"owner":{"account_id":2875858,"reputation":59,"user_id":2467945,"accept_rate":0,"display_name":"DeadLuck"},"score":0,"creation_date":1394891467,"post_id":22422371,"comment_id":34099350,"body_markdown":"the viewer to false thing, I&#39;d got that how can i print it directly without a print dialog. I just wanna print it automatically after clicking a button.","body":"the viewer to false thing, I&#39;d got that how can i print it directly without a print dialog. I just wanna print it automatically after clicking a button."}],"tags":[],"owner":{"account_id":2729582,"reputation":2238,"user_id":2353657,"accept_rate":60,"display_name":"Endrik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394878229,"creation_date":1394878229,"answer_id":22422371,"question_id":22421905,"body_markdown":"I&#39;m not quite sure about what are your intentions, but if you&#39;re just saying that you don&#39;t want the Jasper Viewer (the window that opens the report as a preview after it&#39;s generation) you have only to remove the line: `JasperViewer.viewReport(jp, false);`","title":"how to print jasper report without preview in java","body":"<p>I'm not quite sure about what are your intentions, but if you're just saying that you don't want the Jasper Viewer (the window that opens the report as a preview after it's generation) you have only to remove the line: <code>JasperViewer.viewReport(jp, false);</code></p>\n"},{"tags":[],"owner":{"account_id":958762,"reputation":4788,"user_id":983559,"display_name":"dada67"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395064198,"creation_date":1395064198,"answer_id":22456101,"question_id":22421905,"body_markdown":"You can use JRPrintServiceExporter to print a JasperPrint report.\r\n\r\nSee demo/samples/printservice in the JasperReports distribution package for an example.","title":"how to print jasper report without preview in java","body":"<p>You can use JRPrintServiceExporter to print a JasperPrint report.</p>\n\n<p>See demo/samples/printservice in the JasperReports distribution package for an example.</p>\n"},{"tags":[],"owner":{"account_id":2428640,"reputation":73,"user_id":2120061,"accept_rate":60,"display_name":"Hasan Dulanga"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1402598005,"creation_date":1402598005,"answer_id":24191547,"question_id":22421905,"body_markdown":"From \r\n\r\n    JasperViewer.viewReport(jp, false);\r\n\r\nYou can get a preview.\r\nFrom\r\n\r\n    JasperPrintManager.printReport(jp,false);\r\n\r\nYou can directly print your report.\r\nIf you don&#39;t want a preview use only second code.","title":"how to print jasper report without preview in java","body":"<p>From </p>\n\n<pre><code>JasperViewer.viewReport(jp, false);\n</code></pre>\n\n<p>You can get a preview.\nFrom</p>\n\n<pre><code>JasperPrintManager.printReport(jp,false);\n</code></pre>\n\n<p>You can directly print your report.\nIf you don't want a preview use only second code.</p>\n"}],"owner":{"account_id":2875858,"reputation":59,"user_id":2467945,"accept_rate":0,"display_name":"DeadLuck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10954,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1693958830,"creation_date":1394875294,"question_id":22421905,"body_markdown":"I&#39;m generating receipt using *JasperReports* but i want to print it automatically or just program the attributes without previewing its output. What could be the possible codes.\r\n\r\n    try {\r\n        String get1 = lblORNum.getText();\r\n        String get2 = lblInfoID.getText();\r\n        JasperDesign jd = JRXmlLoader.load(&quot;directory&quot;);\r\n        String sql = &quot;select * from student, transaction, cashier where transaction.orNum=&quot; + get1 + &quot; AND student.id=&#39;&quot; + get2 + &quot;&#39;&quot;;\r\n        JRDesignQuery query = new JRDesignQuery();\r\n        query.setText(sql);\r\n        jd.setQuery(query);\r\n        JasperReport jr = JasperCompileManager.compileReport(jd);\r\n        JasperPrint jp = JasperFillManager.fillReport(jr, null, conn);\r\n        JasperViewer.viewReport(jp, false);\r\n    } catch (Exception e) {\r\n        System.out.println(e.toString());\r\n    }\r\n","title":"how to print jasper report without preview in java","body":"<p>I'm generating receipt using <em>JasperReports</em> but i want to print it automatically or just program the attributes without previewing its output. What could be the possible codes.</p>\n\n<pre><code>try {\n    String get1 = lblORNum.getText();\n    String get2 = lblInfoID.getText();\n    JasperDesign jd = JRXmlLoader.load(\"directory\");\n    String sql = \"select * from student, transaction, cashier where transaction.orNum=\" + get1 + \" AND student.id='\" + get2 + \"'\";\n    JRDesignQuery query = new JRDesignQuery();\n    query.setText(sql);\n    jd.setQuery(query);\n    JasperReport jr = JasperCompileManager.compileReport(jd);\n    JasperPrint jp = JasperFillManager.fillReport(jr, null, conn);\n    JasperViewer.viewReport(jp, false);\n} catch (Exception e) {\n    System.out.println(e.toString());\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1693946683,"post_id":77047396,"comment_id":135826108,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693958597,"creation_date":1693947544,"answer_id":77047713,"question_id":77047396,"body_markdown":"&gt; _&quot;... I&#39;m pretty new to triple nested loops ...&quot;_\r\n\r\nThey are not too common, I find that most data can be parsed with just 1 or 2 loops.\r\n\r\n&gt; _&quot;... I&#39;m aware the first loop is for rows, the second for columns and the third is for the values of the columns. ...&quot;_\r\n\r\nThe third loop is not technically required; use the _[String#repeat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#repeat(int))_ method.\r\n\r\nYou&#39;ll need two _[iterative for-loops](https://en.wikipedia.org/wiki/Iteration)_, and two variables to hold values.  \r\nIterate on _n_, then iterate on _n&amp;minus;&amp;Delta;n_.\r\n- _n_ for the amount of tokens\r\n- _&amp;Delta;n_ for the decrease in tokens, and token length\r\n\r\nHere is an example.\r\n\r\n```java\r\nString string(char letter, int n) {\r\n    StringBuilder string = new StringBuilder();\r\n    String newline = System.lineSeparator();\r\n    char copy;\r\n    int n1 = n;\r\n    for (int i = 0, j; i &lt; n; i++) {\r\n        if (i != 0) string.append(newline);\r\n        copy = letter;\r\n        for (j = 0; j &lt; n1; j++) {\r\n            if (j != 0) string.append(&#39; &#39;);\r\n            if (copy - 1 == &#39;Z&#39;) copy = &#39;A&#39;;\r\n            string.append(String.valueOf(copy++).repeat(n - j));\r\n        }\r\n        n1--;\r\n    }\r\n    return string.toString();\r\n}\r\n```\r\n\r\nIn your code you have assigned _castAscii_ to (_letter &amp;minus; count_).  \r\nThis is incorrect, you want to be increasing _letter_ by _&amp;Delta;n_; and not at the declaration.\r\n\r\nAnd, you are then casting _castAscii_ to a _char_.  \r\nI would remove _ch_ and simply cast _castAscii_ when it&#39;s appended to _output_.\r\n\r\n```java\r\noutput += (char) castAscii\r\n```\r\n\r\nAlso, the condition for the inner-most _loop_ should be _k &lt; amount - j_.  \r\nThe repeat amount is relative to _j_ and not _&amp;Delta;n_.\r\n\r\n```java\r\nfor(int k  =0 ; k &lt; amount - j; k++)\r\n```\r\n\r\nFinally, after exiting the inner-most _loop_, increment _letter_ by 1, and check for _&#39;Z&#39;_.\r\n\r\n```java\r\nfor(int k  =0 ; k &lt; amount - j; k++){\r\n    output += (char) castAscii;\r\n\r\n}\r\nif (castAscii++ == &#39;Z&#39;) castAscii = &#39;A&#39;;\r\n```\r\n\r\nHere is the re-factored code.\r\n\r\n```java\r\npublic String toString() {\r\n    String output = &quot;&quot;;\r\n    int count = 0;\r\n    int castAscii = (int) letter;\r\n    for (int i = 0; i &lt; amount; i++) {\r\n\r\n        for (int j = 0; j &lt; amount - count; j++) {\r\n            output += &quot; &quot;;\r\n\r\n            for (int k = 0; k &lt; amount - j; k++) {\r\n                output += (char) castAscii;\r\n\r\n            }\r\n            if (castAscii++ == &#39;Z&#39;) castAscii = &#39;A&#39;;\r\n\r\n        }\r\n        castAscii = letter;\r\n\r\n        output += &quot;\\n&quot;;\r\n        count++;\r\n\r\n\r\n    }\r\n\r\n    return output;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n CCCC DDD EE F\r\n CCCC DDD EE\r\n CCCC DDD\r\n CCCC\r\n\r\n AAAAA BBBB CCC DD E\r\n AAAAA BBBB CCC DD\r\n AAAAA BBBB CCC\r\n AAAAA BBBB\r\n AAAAA\r\n\r\n BBBBBBB CCCCCC DDDDD EEEE FFF GG H\r\n BBBBBBB CCCCCC DDDDD EEEE FFF GG\r\n BBBBBBB CCCCCC DDDDD EEEE FFF\r\n BBBBBBB CCCCCC DDDDD EEEE\r\n BBBBBBB CCCCCC DDDDD\r\n BBBBBBB CCCCCC\r\n BBBBBBB\r\n\r\n XXXXXX YYYYY ZZZZ AAA BB C\r\n XXXXXX YYYYY ZZZZ AAA BB\r\n XXXXXX YYYYY ZZZZ AAA\r\n XXXXXX YYYYY ZZZZ\r\n XXXXXX YYYYY\r\n XXXXXX\r\n\r\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC DDDD EEE FF G\r\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC DDDD EEE FF\r\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC DDDD EEE\r\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC DDDD\r\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC\r\n ZZZZZZZZ AAAAAAA BBBBBB\r\n ZZZZZZZZ AAAAAAA\r\n ZZZZZZZZ\r\n```","title":"Triple Nested Loop of Wrapped Letters?","body":"<blockquote>\n<p><em>&quot;... I'm pretty new to triple nested loops ...&quot;</em></p>\n</blockquote>\n<p>They are not too common, I find that most data can be parsed with just 1 or 2 loops.</p>\n<blockquote>\n<p><em>&quot;... I'm aware the first loop is for rows, the second for columns and the third is for the values of the columns. ...&quot;</em></p>\n</blockquote>\n<p>The third loop is not technically required; use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\">String#repeat</a></em> method.</p>\n<p>You'll need two <em><a href=\"https://en.wikipedia.org/wiki/Iteration\" rel=\"nofollow noreferrer\">iterative for-loops</a></em>, and two variables to hold values.<br />\nIterate on <em>n</em>, then iterate on <em>n−Δn</em>.</p>\n<ul>\n<li><em>n</em> for the amount of tokens</li>\n<li><em>Δn</em> for the decrease in tokens, and token length</li>\n</ul>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string(char letter, int n) {\n    StringBuilder string = new StringBuilder();\n    String newline = System.lineSeparator();\n    char copy;\n    int n1 = n;\n    for (int i = 0, j; i &lt; n; i++) {\n        if (i != 0) string.append(newline);\n        copy = letter;\n        for (j = 0; j &lt; n1; j++) {\n            if (j != 0) string.append(' ');\n            if (copy - 1 == 'Z') copy = 'A';\n            string.append(String.valueOf(copy++).repeat(n - j));\n        }\n        n1--;\n    }\n    return string.toString();\n}\n</code></pre>\n<p>In your code you have assigned <em>castAscii</em> to (<em>letter − count</em>).<br />\nThis is incorrect, you want to be increasing <em>letter</em> by <em>Δn</em>; and not at the declaration.</p>\n<p>And, you are then casting <em>castAscii</em> to a <em>char</em>.<br />\nI would remove <em>ch</em> and simply cast <em>castAscii</em> when it's appended to <em>output</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>output += (char) castAscii\n</code></pre>\n<p>Also, the condition for the inner-most <em>loop</em> should be <em>k &lt; amount - j</em>.<br />\nThe repeat amount is relative to <em>j</em> and not <em>Δn</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int k  =0 ; k &lt; amount - j; k++)\n</code></pre>\n<p>Finally, after exiting the inner-most <em>loop</em>, increment <em>letter</em> by 1, and check for <em>'Z'</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int k  =0 ; k &lt; amount - j; k++){\n    output += (char) castAscii;\n\n}\nif (castAscii++ == 'Z') castAscii = 'A';\n</code></pre>\n<p>Here is the re-factored code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String toString() {\n    String output = &quot;&quot;;\n    int count = 0;\n    int castAscii = (int) letter;\n    for (int i = 0; i &lt; amount; i++) {\n\n        for (int j = 0; j &lt; amount - count; j++) {\n            output += &quot; &quot;;\n\n            for (int k = 0; k &lt; amount - j; k++) {\n                output += (char) castAscii;\n\n            }\n            if (castAscii++ == 'Z') castAscii = 'A';\n\n        }\n        castAscii = letter;\n\n        output += &quot;\\n&quot;;\n        count++;\n\n\n    }\n\n    return output;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code> CCCC DDD EE F\n CCCC DDD EE\n CCCC DDD\n CCCC\n\n AAAAA BBBB CCC DD E\n AAAAA BBBB CCC DD\n AAAAA BBBB CCC\n AAAAA BBBB\n AAAAA\n\n BBBBBBB CCCCCC DDDDD EEEE FFF GG H\n BBBBBBB CCCCCC DDDDD EEEE FFF GG\n BBBBBBB CCCCCC DDDDD EEEE FFF\n BBBBBBB CCCCCC DDDDD EEEE\n BBBBBBB CCCCCC DDDDD\n BBBBBBB CCCCCC\n BBBBBBB\n\n XXXXXX YYYYY ZZZZ AAA BB C\n XXXXXX YYYYY ZZZZ AAA BB\n XXXXXX YYYYY ZZZZ AAA\n XXXXXX YYYYY ZZZZ\n XXXXXX YYYYY\n XXXXXX\n\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC DDDD EEE FF G\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC DDDD EEE FF\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC DDDD EEE\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC DDDD\n ZZZZZZZZ AAAAAAA BBBBBB CCCCC\n ZZZZZZZZ AAAAAAA BBBBBB\n ZZZZZZZZ AAAAAAA\n ZZZZZZZZ\n</code></pre>\n"}],"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":77047713,"answer_count":1,"score":-1,"last_activity_date":1693958597,"creation_date":1693943613,"question_id":77047396,"body_markdown":"Description:\r\n\r\n&gt; Used nested loops to print out a letter pattern as shown below. Wrap\r\n&gt; around the letters from Z to A.\r\n\r\nSome possible inputs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the output for &#39;X&#39; with &#39;6&#39;:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is the output for &#39;C&#39; with &#39;4&#39;:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nI&#39;m pretty new to triple nested loops, although I&#39;m aware the first loop is for rows, the second for columns and the third is for the values of the columns. I&#39;m struggling to see why each of my rows have the same amount of letters next to each other. As well as how to wrap the letters to the next without any permeant changes. My Output Below + Code:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BQmoE.png\r\n  [2]: https://i.stack.imgur.com/hueas.png\r\n  [3]: https://i.stack.imgur.com/d61EB.png\r\n  [4]: https://i.stack.imgur.com/9s4U0.png\r\n\r\n\r\n    public class TriangleFive\r\n    {\r\n       private char letter;\r\n       private int amount;\r\n    \r\n    \tpublic TriangleFive()\r\n    \t{\r\n    \t\tthis(&#39;a&#39;,0);\r\n    \t}\r\n    \r\n    \tpublic TriangleFive(char c, int amt)\r\n    \t{\r\n    \t\tletter = c;\r\n    \t\tamount = amt;\r\n    \t}\r\n    \r\n    \tpublic void setLetter(char c)\r\n    \t{\r\n    \t\tletter = c;\r\n    \t}\r\n    \r\n    \tpublic void setAmount(int amt)\r\n    \t{\r\n    \t\tamount = amt;\r\n    \t}\r\n    \r\n    \tpublic String toString()\r\n    \t{\r\n    \t\tString output=&quot;&quot;;\r\n    \t\tint count = 0;\r\n    \t\tint castAscii = (int) letter - count;\r\n    \t\tchar ch = (char) castAscii;\r\n    \t\tfor(int i = 0; i&lt; amount; i++){         // Rows\r\n    \r\n    \t\t\tfor(int j = 0; j&lt;amount -count; j++){    // Columns\r\n    \t\t\t\toutput += &quot; &quot;;\r\n    \r\n    \t\t\t\tfor(int k  =0 ; k &lt; amount -count; k++){    // Values in Columns\r\n    \t\t\t\t\toutput +=  ch; \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\toutput += &quot;\\n&quot;;\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \r\n    \t\treturn output;\r\n    \t}\r\n    }","title":"Triple Nested Loop of Wrapped Letters?","body":"<p>Description:</p>\n<blockquote>\n<p>Used nested loops to print out a letter pattern as shown below. Wrap\naround the letters from Z to A.</p>\n</blockquote>\n<p>Some possible inputs:</p>\n<p><a href=\"https://i.stack.imgur.com/BQmoE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQmoE.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the output for 'X' with '6':</p>\n<p><a href=\"https://i.stack.imgur.com/hueas.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hueas.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the output for 'C' with '4':</p>\n<p><a href=\"https://i.stack.imgur.com/d61EB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d61EB.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm pretty new to triple nested loops, although I'm aware the first loop is for rows, the second for columns and the third is for the values of the columns. I'm struggling to see why each of my rows have the same amount of letters next to each other. As well as how to wrap the letters to the next without any permeant changes. My Output Below + Code:</p>\n<p><a href=\"https://i.stack.imgur.com/9s4U0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9s4U0.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class TriangleFive\n{\n   private char letter;\n   private int amount;\n\n    public TriangleFive()\n    {\n        this('a',0);\n    }\n\n    public TriangleFive(char c, int amt)\n    {\n        letter = c;\n        amount = amt;\n    }\n\n    public void setLetter(char c)\n    {\n        letter = c;\n    }\n\n    public void setAmount(int amt)\n    {\n        amount = amt;\n    }\n\n    public String toString()\n    {\n        String output=&quot;&quot;;\n        int count = 0;\n        int castAscii = (int) letter - count;\n        char ch = (char) castAscii;\n        for(int i = 0; i&lt; amount; i++){         // Rows\n\n            for(int j = 0; j&lt;amount -count; j++){    // Columns\n                output += &quot; &quot;;\n\n                for(int k  =0 ; k &lt; amount -count; k++){    // Values in Columns\n                    output +=  ch; \n                }\n            }\n\n            output += &quot;\\n&quot;;\n            count++;\n        }\n\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","jlink","jpackage"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691249999,"post_id":76842358,"comment_id":135468026,"body_markdown":"My edit didn&#39;t work as you&#39;ve removed the line separators. Could you please repost that, formatter as code","body":"My edit didn&#39;t work as you&#39;ve removed the line separators. Could you please repost that, formatter as code"},{"owner":{"account_id":1745522,"reputation":99,"user_id":1595856,"accept_rate":50,"display_name":"John Baker"},"score":0,"creation_date":1691250101,"post_id":76842358,"comment_id":135468041,"body_markdown":"There were no line separators. I copy/pasted from the terminal.","body":"There were no line separators. I copy/pasted from the terminal."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1691250363,"post_id":76842358,"comment_id":135468079,"body_markdown":"The error seems to be from duplicate resources, not use of incubator modules: `Error: jdk.tools.jlink.plugin.PluginException: Duplicate resources`","body":"The error seems to be from duplicate resources, not use of incubator modules: <code>Error: jdk.tools.jlink.plugin.PluginException: Duplicate resources</code>"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1691251012,"post_id":76842358,"comment_id":135468150,"body_markdown":"I can&#39;t find it now, but there was a user with a similar question recently (I think they deleted their question). They were also using Zulu IIRC. In the end it turned out they had a broken JDK installation, and switching JDKs worked for them.","body":"I can&#39;t find it now, but there was a user with a similar question recently (I think they deleted their question). They were also using Zulu IIRC. In the end it turned out they had a broken JDK installation, and switching JDKs worked for them."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691251031,"post_id":76842358,"comment_id":135468152,"body_markdown":"`&lt;your command&gt; 2&gt;&amp;1 | tee stacko.log` and paste that named text file formatted as code","body":"<code>&lt;your command&gt; 2&gt;&amp;1 | tee stacko.log</code> and paste that named text file formatted as code"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1691251735,"post_id":76842358,"comment_id":135468227,"body_markdown":"To see if your JDK is the problem you can use the `jmod list` command on the relevant `jmods/*.jmod` files in the jdk installation directory, and then see if the reported duplicate resource indeed exists in both files.","body":"To see if your JDK is the problem you can use the <code>jmod list</code> command on the relevant <code>jmods&#47;*.jmod</code> files in the jdk installation directory, and then see if the reported duplicate resource indeed exists in both files."},{"owner":{"account_id":1745522,"reputation":99,"user_id":1595856,"accept_rate":50,"display_name":"John Baker"},"score":0,"creation_date":1691252289,"post_id":76842358,"comment_id":135468281,"body_markdown":"Weirdly when I list (with show older versions) on azul there are 2 that look identical (same version info). Downloading the &quot;older&quot; release with same details (17.0.8+7 Azul Zulu: 17.44.15) as the &quot;newer&quot; release of same name seems to work. So yes it looks like azul have released a broken build. Or the website is buggy.","body":"Weirdly when I list (with show older versions) on azul there are 2 that look identical (same version info). Downloading the &quot;older&quot; release with same details (17.0.8+7 Azul Zulu: 17.44.15) as the &quot;newer&quot; release of same name seems to work. So yes it looks like azul have released a broken build. Or the website is buggy."}],"answers":[{"tags":[],"owner":{"account_id":1745522,"reputation":99,"user_id":1595856,"accept_rate":50,"display_name":"John Baker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691253218,"creation_date":1691253218,"answer_id":76842587,"question_id":76842358,"body_markdown":"Solved. \r\n\r\nI looks like azul released a broken jdk 17 build.\r\n\r\nThere were 2 listed with same version (when listing older versions is selected). The first didn&#39;t work, the second with same details does.\r\n\r\nIt is also possible that something went wrong when installing it, however the same thing happened on 2 different macs so think this is unlikely.","title":"jpackage has started failing on Mac OS due to: jlink failed with: WARNING: Using incubator modules: jdk.incubator.foreign, jdk.incubator.vector","body":"<p>Solved.</p>\n<p>I looks like azul released a broken jdk 17 build.</p>\n<p>There were 2 listed with same version (when listing older versions is selected). The first didn't work, the second with same details does.</p>\n<p>It is also possible that something went wrong when installing it, however the same thing happened on 2 different macs so think this is unlikely.</p>\n"},{"tags":[],"owner":{"account_id":1114689,"reputation":11376,"user_id":1104328,"accept_rate":50,"display_name":"Harry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693955547,"creation_date":1693955547,"answer_id":77048215,"question_id":76842358,"body_markdown":"For anyone that finds this I got this when using jlink. \r\n\r\nI got this as the error\r\n\r\nError: jdk.tools.jlink.plugin.PluginException: Duplicate resources: {lib/libj2gss.dylib=[java.security.jgss, java.security.sasl], conf/management/management.properties=[jdk.management, jdk.unsupported], bin/jrunscript=[java.sql, java.security.jgss, java.scripting, java.transaction.xa, java.xml, java.security.sasl], lib/libosxkrb5.dylib=[java.security.jgss, java.security.sasl], conf/sound.properties=[java.desktop, java.instrument], conf/management/jmxremote.access=[jdk.management, jdk.unsupported], lib/librmi.dylib=[java.rmi, java.scripting], bin/jstatd=[jdk.management, jdk.unsupported], lib/libinstrument.dylib=[java.logging, java.instrument], conf/logging.properties=[java.rmi, java.sql, java.logging, java.transaction.xa, java.management, java.xml, jdk.jfr, java.security.jgss, java.naming, java.scripting, java.prefs, java.net.http, java.security.sasl], lib/libj2pcsc.dylib=[java.sql, java.transaction.xa, java.xml], lib/libmanagement.dylib=[java.naming, java.management, java.net.http], conf/management/jmxremote.password.template=[jdk.management, jdk.unsupported]}\r\n\r\n\r\nThe broken jvm is zulu, from sdkman\r\n\r\n     | 17.0.8       | zulu    | installed  | 17.0.8-zulu\r\n\r\nfix\r\n\r\n    sdk install java 17.0.8-tem","title":"jpackage has started failing on Mac OS due to: jlink failed with: WARNING: Using incubator modules: jdk.incubator.foreign, jdk.incubator.vector","body":"<p>For anyone that finds this I got this when using jlink.</p>\n<p>I got this as the error</p>\n<p>Error: jdk.tools.jlink.plugin.PluginException: Duplicate resources: {lib/libj2gss.dylib=[java.security.jgss, java.security.sasl], conf/management/management.properties=[jdk.management, jdk.unsupported], bin/jrunscript=[java.sql, java.security.jgss, java.scripting, java.transaction.xa, java.xml, java.security.sasl], lib/libosxkrb5.dylib=[java.security.jgss, java.security.sasl], conf/sound.properties=[java.desktop, java.instrument], conf/management/jmxremote.access=[jdk.management, jdk.unsupported], lib/librmi.dylib=[java.rmi, java.scripting], bin/jstatd=[jdk.management, jdk.unsupported], lib/libinstrument.dylib=[java.logging, java.instrument], conf/logging.properties=[java.rmi, java.sql, java.logging, java.transaction.xa, java.management, java.xml, jdk.jfr, java.security.jgss, java.naming, java.scripting, java.prefs, java.net.http, java.security.sasl], lib/libj2pcsc.dylib=[java.sql, java.transaction.xa, java.xml], lib/libmanagement.dylib=[java.naming, java.management, java.net.http], conf/management/jmxremote.password.template=[jdk.management, jdk.unsupported]}</p>\n<p>The broken jvm is zulu, from sdkman</p>\n<pre><code> | 17.0.8       | zulu    | installed  | 17.0.8-zulu\n</code></pre>\n<p>fix</p>\n<pre><code>sdk install java 17.0.8-tem\n</code></pre>\n"}],"owner":{"account_id":1745522,"reputation":99,"user_id":1595856,"accept_rate":50,"display_name":"John Baker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693955547,"creation_date":1691249834,"question_id":76842358,"body_markdown":"jpackage has been working fine until today on Mac OS. Now it fails due to some internal use of an incubator package. \r\n\r\nIs there a workaround for this? It still works fine on windows.\r\n\r\nopenjdk version &quot;17.0.8&quot; 2023-07-18 LTS\r\nOpenJDK Runtime Environment Zulu17.44+15-CA (build 17.0.8+7-LTS)\r\nOpenJDK 64-Bit Server VM Zulu17.44+15-CA (build 17.0.8+7-LTS, mixed mode, sharing)\r\n\r\nMac OS 12.6.8 (21G725)\r\n\r\nI am using jpackage from my maven build using exec plugin.\r\n\r\nI am using jpackage with --input on an app image to create a non modular app. This has been fine before. Could this have become a problem?\r\n\r\nMaven -X log\r\n\r\n    jdk.jpackage.internal.PackagerException: jlink failed with: WARNING: Using incubator modules: jdk.incubator.foreign, jdk.incubator.vector\r\n    Error: jdk.tools.jlink.plugin.PluginException: Duplicate resources: {lib/libj2gss.dylib=[java.security.jgss, java.security.sasl], lib/jfr/default.jfc=[jdk.jshell, jdk.jsobject, jdk.jfr, jdk.jlink, jdk.jpackage, jdk.jstatd, jdk.localedata], conf/management/management.properties=[jdk.management.jfr, jdk.management.agent, jdk.sctp, jdk.xml.dom, jdk.unsupported, jdk.management, jdk.net, jdk.random, jdk.nio.mapmode, jdk.security.auth, jdk.unsupported.desktop, jdk.naming.rmi, jdk.zipfs, jdk.naming.dns, jdk.security.jgss], lib/jfr/profile.jfc=[jdk.jshell, jdk.jsobject, jdk.jfr, jdk.jlink, jdk.jpackage, jdk.jstatd, jdk.localedata], lib/libosxkrb5.dylib=[java.security.jgss, java.security.sasl], lib/libmanagement_ext.dylib=[jdk.management, jdk.naming.rmi, jdk.naming.dns], lib/libextnet.dylib=[jdk.net, jdk.random, jdk.nio.mapmode, jdk.sctp], conf/sound.properties=[java.desktop, java.instrument], conf/management/jmxremote.access=[jdk.management.jfr, jdk.management.agent, jdk.sctp, jdk.xml.dom, jdk.unsupported, jdk.management, jdk.net, jdk.random, jdk.nio.mapmode, jdk.security.auth, jdk.unsupported.desktop, jdk.naming.rmi, jdk.zipfs, jdk.naming.dns, jdk.security.jgss], lib/librmi.dylib=[java.rmi, java.scripting], lib/libsyslookup.dylib=[jdk.incubator.vector, jdk.javadoc, jdk.jdi, jdk.internal.ed, jdk.internal.le, jdk.jdeps, jdk.internal.opt, jdk.jartool, jdk.jconsole, jdk.incubator.foreign, jdk.internal.jvmstat], lib/libattach.dylib=[jdk.charsets, jdk.attach], lib/libinstrument.dylib=[java.logging, java.instrument], lib/libjaas.dylib=[jdk.security.auth, jdk.unsupported.desktop, jdk.xml.dom, jdk.unsupported, jdk.zipfs, jdk.security.jgss], conf/logging.properties=[java.rmi, java.sql, jdk.incubator.vector, jdk.jdi, jdk.charsets, java.logging, java.transaction.xa, java.xml.crypto, java.xml, jdk.jfr, jdk.jstatd, jdk.httpserver, jdk.crypto.cryptoki, java.naming, jdk.internal.ed, java.prefs, java.net.http, jdk.compiler, java.security.sasl, jdk.internal.opt, jdk.jconsole, jdk.attach, jdk.crypto.ec, jdk.javadoc, jdk.jshell, jdk.editpad, jdk.internal.le, java.management, java.sql.rowset, jdk.jsobject, java.smartcardio, jdk.jlink, jdk.jdwp.agent, jdk.incubator.foreign, jdk.internal.jvmstat, java.security.jgss, java.scripting, jdk.dynalink, jdk.jdeps, jdk.accessibility, jdk.jartool, java.management.rmi, jdk.jpackage, jdk.localedata], lib/libj2pcsc.dylib=[java.sql, java.transaction.xa, java.xml.crypto, java.sql.rowset, java.xml, java.smartcardio, jdk.accessibility], lib/libj2pkcs11.dylib=[jdk.crypto.cryptoki, jdk.editpad, jdk.dynalink, jdk.crypto.ec], lib/libmanagement_agent.dylib=[jdk.management.jfr, jdk.management.agent], lib/libmanagement.dylib=[java.naming, java.management, java.net.http, java.management.rmi], conf/management/jmxremote.password.template=[jdk.management.jfr, jdk.management.agent, jdk.sctp, jdk.xml.dom, jdk.unsupported, jdk.management, jdk.net, jdk.random, jdk.nio.mapmode, jdk.security.auth, jdk.unsupported.desktop, jdk.naming.rmi, jdk.zipfs, jdk.naming.dns, jdk.security.jgss]}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"jpackage has started failing on Mac OS due to: jlink failed with: WARNING: Using incubator modules: jdk.incubator.foreign, jdk.incubator.vector","body":"<p>jpackage has been working fine until today on Mac OS. Now it fails due to some internal use of an incubator package.</p>\n<p>Is there a workaround for this? It still works fine on windows.</p>\n<p>openjdk version &quot;17.0.8&quot; 2023-07-18 LTS\nOpenJDK Runtime Environment Zulu17.44+15-CA (build 17.0.8+7-LTS)\nOpenJDK 64-Bit Server VM Zulu17.44+15-CA (build 17.0.8+7-LTS, mixed mode, sharing)</p>\n<p>Mac OS 12.6.8 (21G725)</p>\n<p>I am using jpackage from my maven build using exec plugin.</p>\n<p>I am using jpackage with --input on an app image to create a non modular app. This has been fine before. Could this have become a problem?</p>\n<p>Maven -X log</p>\n<pre><code>jdk.jpackage.internal.PackagerException: jlink failed with: WARNING: Using incubator modules: jdk.incubator.foreign, jdk.incubator.vector\nError: jdk.tools.jlink.plugin.PluginException: Duplicate resources: {lib/libj2gss.dylib=[java.security.jgss, java.security.sasl], lib/jfr/default.jfc=[jdk.jshell, jdk.jsobject, jdk.jfr, jdk.jlink, jdk.jpackage, jdk.jstatd, jdk.localedata], conf/management/management.properties=[jdk.management.jfr, jdk.management.agent, jdk.sctp, jdk.xml.dom, jdk.unsupported, jdk.management, jdk.net, jdk.random, jdk.nio.mapmode, jdk.security.auth, jdk.unsupported.desktop, jdk.naming.rmi, jdk.zipfs, jdk.naming.dns, jdk.security.jgss], lib/jfr/profile.jfc=[jdk.jshell, jdk.jsobject, jdk.jfr, jdk.jlink, jdk.jpackage, jdk.jstatd, jdk.localedata], lib/libosxkrb5.dylib=[java.security.jgss, java.security.sasl], lib/libmanagement_ext.dylib=[jdk.management, jdk.naming.rmi, jdk.naming.dns], lib/libextnet.dylib=[jdk.net, jdk.random, jdk.nio.mapmode, jdk.sctp], conf/sound.properties=[java.desktop, java.instrument], conf/management/jmxremote.access=[jdk.management.jfr, jdk.management.agent, jdk.sctp, jdk.xml.dom, jdk.unsupported, jdk.management, jdk.net, jdk.random, jdk.nio.mapmode, jdk.security.auth, jdk.unsupported.desktop, jdk.naming.rmi, jdk.zipfs, jdk.naming.dns, jdk.security.jgss], lib/librmi.dylib=[java.rmi, java.scripting], lib/libsyslookup.dylib=[jdk.incubator.vector, jdk.javadoc, jdk.jdi, jdk.internal.ed, jdk.internal.le, jdk.jdeps, jdk.internal.opt, jdk.jartool, jdk.jconsole, jdk.incubator.foreign, jdk.internal.jvmstat], lib/libattach.dylib=[jdk.charsets, jdk.attach], lib/libinstrument.dylib=[java.logging, java.instrument], lib/libjaas.dylib=[jdk.security.auth, jdk.unsupported.desktop, jdk.xml.dom, jdk.unsupported, jdk.zipfs, jdk.security.jgss], conf/logging.properties=[java.rmi, java.sql, jdk.incubator.vector, jdk.jdi, jdk.charsets, java.logging, java.transaction.xa, java.xml.crypto, java.xml, jdk.jfr, jdk.jstatd, jdk.httpserver, jdk.crypto.cryptoki, java.naming, jdk.internal.ed, java.prefs, java.net.http, jdk.compiler, java.security.sasl, jdk.internal.opt, jdk.jconsole, jdk.attach, jdk.crypto.ec, jdk.javadoc, jdk.jshell, jdk.editpad, jdk.internal.le, java.management, java.sql.rowset, jdk.jsobject, java.smartcardio, jdk.jlink, jdk.jdwp.agent, jdk.incubator.foreign, jdk.internal.jvmstat, java.security.jgss, java.scripting, jdk.dynalink, jdk.jdeps, jdk.accessibility, jdk.jartool, java.management.rmi, jdk.jpackage, jdk.localedata], lib/libj2pcsc.dylib=[java.sql, java.transaction.xa, java.xml.crypto, java.sql.rowset, java.xml, java.smartcardio, jdk.accessibility], lib/libj2pkcs11.dylib=[jdk.crypto.cryptoki, jdk.editpad, jdk.dynalink, jdk.crypto.ec], lib/libmanagement_agent.dylib=[jdk.management.jfr, jdk.management.agent], lib/libmanagement.dylib=[java.naming, java.management, java.net.http, java.management.rmi], conf/management/jmxremote.password.template=[jdk.management.jfr, jdk.management.agent, jdk.sctp, jdk.xml.dom, jdk.unsupported, jdk.management, jdk.net, jdk.random, jdk.nio.mapmode, jdk.security.auth, jdk.unsupported.desktop, jdk.naming.rmi, jdk.zipfs, jdk.naming.dns, jdk.security.jgss]}\n</code></pre>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1693953122,"post_id":77047686,"comment_id":135826949,"body_markdown":"It is perfectly acceptable to store monetary values with more than two decimal digits.  What matters is *presenting* them with two decimal digits in user interfaces, which is easy with NumberFormat or Formatter.  No need to do the math of rounding or truncating them.","body":"It is perfectly acceptable to store monetary values with more than two decimal digits.  What matters is <i>presenting</i> them with two decimal digits in user interfaces, which is easy with NumberFormat or Formatter.  No need to do the math of rounding or truncating them."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1693953649,"post_id":77047686,"comment_id":135827001,"body_markdown":"Off-topic: I agree with VGR. I used to work on payroll where a per hour pay rate could have 3 digits to the right of the decimal point. But the pay check had to be in dollars with two digits to the right. We also had rental software where a rental rate could have 3 right digits.","body":"Off-topic: I agree with VGR. I used to work on payroll where a per hour pay rate could have 3 digits to the right of the decimal point. But the pay check had to be in dollars with two digits to the right. We also had rental software where a rental rate could have 3 right digits."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1693953750,"post_id":77047686,"comment_id":135827008,"body_markdown":"By the way, tracking USD dollar amounts to the third or fourth fractional digit is common in some accounting scenarios. For example, in the United States, you likely purchase gasoline for your vehicle in tenths of a penny, such as $ 4.729. When developing software, ask for an official requirement from the accounting authorities on how to handle the resolution and rounding of fractional pennies","body":"By the way, tracking USD dollar amounts to the third or fourth fractional digit is common in some accounting scenarios. For example, in the United States, you likely purchase gasoline for your vehicle in tenths of a penny, such as $ 4.729. When developing software, ask for an official requirement from the accounting authorities on how to handle the resolution and rounding of fractional pennies"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1693954532,"post_id":77047686,"comment_id":135827071,"body_markdown":"You could maintain your `BigDecimal` values in cents, and adjust the scale for input and output as you would if you were using `int` instead. By the way, if you are going to use integer types, consider using `long`.","body":"You could maintain your <code>BigDecimal</code> values in cents, and adjust the scale for input and output as you would if you were using <code>int</code> instead. By the way, if you are going to use integer types, consider using <code>long</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694100790,"post_id":77047686,"comment_id":135849931,"body_markdown":"If you wanted to use the multiply / divide / divide described in the last paragraph, the code might look something like this: `BigDecimal [] result = total.movePointRight(2).divideAndRemainder(divider);         result[0] = result[0].movePointLeft(2);         System.out.println (&quot;BigDecimal divide test: &quot;  + Arrays.toString(result));` The output is this: `BigDecimal divide test: [0.40, 1].`  Note this uses *one* division, and the multiplication and division are replaced with addition and subtraction.","body":"If you wanted to use the multiply / divide / divide described in the last paragraph, the code might look something like this: <code>BigDecimal [] result = total.movePointRight(2).divideAndRemainder(divider);         result[0] = result[0].movePointLeft(2);         System.out.println (&quot;BigDecimal divide test: &quot;  + Arrays.toString(result));</code> The output is this: <code>BigDecimal divide test: [0.40, 1].</code>  Note this uses <i>one</i> division, and the multiplication and division are replaced with addition and subtraction."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1693954804,"creation_date":1693948387,"answer_id":77047770,"question_id":77047686,"body_markdown":"The fundamental issue is your use of `divideAndRemainder` in the first place, which does not do what you want it to do; as its documentation specifies, it divides only to an integer value -- a &quot;dollar&quot; amount, without cents.  It is analogous to `divideToIntegralValue`, not `divide`:\r\n&gt; Returns a two-element BigDecimal array containing the result of divideToIntegralValue followed by the result of remainder on the two operands.\r\n\r\nYou need to use [`.divide`][1] instead, presumably specifying a [`RoundingMode`][2], and then compute the remainder yourself.\r\n\r\n```\r\nBigDecimal division = total.divide(divisor, RoundingMode.DOWN);\r\nSystem.out.println(division); // 0.40\r\nSystem.out.println(total.subtract(division.multiply(divisor))); // 0.01\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal,java.math.RoundingMode)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html","title":"Does BigDecimal division have a shortcoming when the scale is known?","body":"<p>The fundamental issue is your use of <code>divideAndRemainder</code> in the first place, which does not do what you want it to do; as its documentation specifies, it divides only to an integer value -- a &quot;dollar&quot; amount, without cents.  It is analogous to <code>divideToIntegralValue</code>, not <code>divide</code>:</p>\n<blockquote>\n<p>Returns a two-element BigDecimal array containing the result of divideToIntegralValue followed by the result of remainder on the two operands.</p>\n</blockquote>\n<p>You need to use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal,java.math.RoundingMode)\" rel=\"nofollow noreferrer\"><code>.divide</code></a> instead, presumably specifying a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\"><code>RoundingMode</code></a>, and then compute the remainder yourself.</p>\n<pre><code>BigDecimal division = total.divide(divisor, RoundingMode.DOWN);\nSystem.out.println(division); // 0.40\nSystem.out.println(total.subtract(division.multiply(divisor))); // 0.01\n</code></pre>\n"}],"owner":{"account_id":18520709,"reputation":35,"user_id":13493797,"display_name":"Aaron Bitman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77047770,"answer_count":1,"score":2,"last_activity_date":1693954804,"creation_date":1693947197,"question_id":77047686,"body_markdown":"First of all, I should clarify that I&#39;m asking this question only for enlightenment; I&#39;m not desperate for an answer, but an answer might help me appreciate the BigDecimal class more.\r\n\r\nI always had - and still have - a philosophy about decimal values guaranteed to have only a certain number of digits after the decimal point. Take, for example, dollar figures, which are guaranteed to have no more than 2 digits after the decimal point. When writing code for such applications, I obviously mustn&#39;t use a float with its rounding errors. Instead, I would use an integer (or long, or BigInteger, depending on how high the figure might get) to represent the number of cents. I would store and process a figure of $12.34 as the integer 1234, for example. Only when outputting the dollar figures (and possibly when inputting them) would I format the figures with a decimal point.\r\n\r\nBut now I&#39;m reading a Java book that&#39;s pitching the BigDecimal class. It even uses dollar figures in some of the examples. I&#39;m not sold on it because I feel that division could be awkward, unless you have an idea how to do it.\r\n\r\nLet&#39;s say you&#39;re writing a program that divides a dollar figure. For instance, maybe many people want to split the money equally. And let&#39;s say, for example, that one day the program runs with the parameters such that it should divide $1.21 by 3. You would want the program to come up with the result of 40 cents with a remainder of 1 cent. In other words, the result should be 0.40 and 0.01. If the figures are stored as integers representing numbers of cents, that will work fine. But can it work with BigDecimals that represent dollars?\r\n\r\nObviously, this code won&#39;t work:\r\n\r\n    import java.math.BigDecimal;\r\n        \r\n        public class test {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tBigDecimal total = new BigDecimal(&quot;1.21&quot;);\r\n        \t\tBigDecimal divider = new BigDecimal(3);\r\n        \t\tBigDecimal results[]= new BigDecimal[2];\r\n        \t\tresults = total.divideAndRemainder(divider);\r\n        \r\n        \t\tfor (BigDecimal result : results) System.out.println(result);\t\r\n        \t}\r\n        }\r\n\r\nYou&#39;ll get a result of 0.00 and 1.21, not 0.40 and 0.01 like you want.\r\n\r\nThe book implies that the solution is to set the scale. So I tried that:\r\n\r\n\t\tBigDecimal total = new BigDecimal(&quot;1.21&quot;);\r\n\t\ttotal = total.setScale(2);\r\n\t\tBigDecimal divider = new BigDecimal(3);\r\n\t\tdivider = divider.setScale(2);\r\n\t\tBigDecimal results[]= new BigDecimal[2];\r\n\t\tresults = total.divideAndRemainder(divider);\r\n\r\nThe result is still 0.00 and 1.21.\r\n\r\nMaybe the result should be in a variable that already has the scale set? I tried that:\r\n\r\n\t\tBigDecimal total = new BigDecimal(&quot;1.21&quot;);\r\n\t\ttotal = total.setScale(2);\r\n\t\tBigDecimal divider = new BigDecimal(3);\r\n\t\tdivider = divider.setScale(2);\r\n\t\tBigDecimal results[]= new BigDecimal[2];\r\n\t\tresults[0] = new BigDecimal(0);\r\n\t\tresults[0] = results[0].setScale(2);\r\n\t\tresults[1] = new BigDecimal(0);\r\n\t\tresults[1] = results[0].setScale(2);\r\n\t\tresults = total.divideAndRemainder(divider);\r\n\r\nThat was very awkward! And the result is still the same.\r\n\r\nI could, of course, multiply the $1.21 by 100, then divide by 3, and then divide by 100, but that would be a good argument for using my integer approach in the first place and skipping those steps. Is there an elegant way to divide BigDecimal values the way I want to? Or should I stick to storing cent values in integers?\r\n\r\n","title":"Does BigDecimal division have a shortcoming when the scale is known?","body":"<p>First of all, I should clarify that I'm asking this question only for enlightenment; I'm not desperate for an answer, but an answer might help me appreciate the BigDecimal class more.</p>\n<p>I always had - and still have - a philosophy about decimal values guaranteed to have only a certain number of digits after the decimal point. Take, for example, dollar figures, which are guaranteed to have no more than 2 digits after the decimal point. When writing code for such applications, I obviously mustn't use a float with its rounding errors. Instead, I would use an integer (or long, or BigInteger, depending on how high the figure might get) to represent the number of cents. I would store and process a figure of $12.34 as the integer 1234, for example. Only when outputting the dollar figures (and possibly when inputting them) would I format the figures with a decimal point.</p>\n<p>But now I'm reading a Java book that's pitching the BigDecimal class. It even uses dollar figures in some of the examples. I'm not sold on it because I feel that division could be awkward, unless you have an idea how to do it.</p>\n<p>Let's say you're writing a program that divides a dollar figure. For instance, maybe many people want to split the money equally. And let's say, for example, that one day the program runs with the parameters such that it should divide $1.21 by 3. You would want the program to come up with the result of 40 cents with a remainder of 1 cent. In other words, the result should be 0.40 and 0.01. If the figures are stored as integers representing numbers of cents, that will work fine. But can it work with BigDecimals that represent dollars?</p>\n<p>Obviously, this code won't work:</p>\n<pre><code>import java.math.BigDecimal;\n    \n    public class test {\n    \n        public static void main(String[] args) {\n            BigDecimal total = new BigDecimal(&quot;1.21&quot;);\n            BigDecimal divider = new BigDecimal(3);\n            BigDecimal results[]= new BigDecimal[2];\n            results = total.divideAndRemainder(divider);\n    \n            for (BigDecimal result : results) System.out.println(result);   \n        }\n    }\n</code></pre>\n<p>You'll get a result of 0.00 and 1.21, not 0.40 and 0.01 like you want.</p>\n<p>The book implies that the solution is to set the scale. So I tried that:</p>\n<pre><code>    BigDecimal total = new BigDecimal(&quot;1.21&quot;);\n    total = total.setScale(2);\n    BigDecimal divider = new BigDecimal(3);\n    divider = divider.setScale(2);\n    BigDecimal results[]= new BigDecimal[2];\n    results = total.divideAndRemainder(divider);\n</code></pre>\n<p>The result is still 0.00 and 1.21.</p>\n<p>Maybe the result should be in a variable that already has the scale set? I tried that:</p>\n<pre><code>    BigDecimal total = new BigDecimal(&quot;1.21&quot;);\n    total = total.setScale(2);\n    BigDecimal divider = new BigDecimal(3);\n    divider = divider.setScale(2);\n    BigDecimal results[]= new BigDecimal[2];\n    results[0] = new BigDecimal(0);\n    results[0] = results[0].setScale(2);\n    results[1] = new BigDecimal(0);\n    results[1] = results[0].setScale(2);\n    results = total.divideAndRemainder(divider);\n</code></pre>\n<p>That was very awkward! And the result is still the same.</p>\n<p>I could, of course, multiply the $1.21 by 100, then divide by 3, and then divide by 100, but that would be a good argument for using my integer approach in the first place and skipping those steps. Is there an elegant way to divide BigDecimal values the way I want to? Or should I stick to storing cent values in integers?</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":142333,"reputation":17994,"user_id":349990,"accept_rate":62,"display_name":"Itay Karo"},"score":0,"creation_date":1286793382,"post_id":3905382,"comment_id":4161936,"body_markdown":"With the same sense of your question i will answer &quot;With a recursive method&quot;.","body":"With the same sense of your question i will answer &quot;With a recursive method&quot;."}],"answers":[{"comments":[{"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"score":1,"creation_date":1464704387,"post_id":3905399,"comment_id":62585257,"body_markdown":"This method gave me a stackoverflowError :)","body":"This method gave me a stackoverflowError :)"},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1480589829,"post_id":3905399,"comment_id":69029982,"body_markdown":"@KjetilNordin is right, recursion should be avoided when possible. A nice read about that on DZone : https://dzone.com/articles/folding-the-universe-part-ii-abstracting-recursion (&quot;Folding the Universe&quot; articles).","body":"@KjetilNordin is right, recursion should be avoided when possible. A nice read about that on DZone : <a href=\"https://dzone.com/articles/folding-the-universe-part-ii-abstracting-recursion\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a> (&quot;Folding the Universe&quot; articles)."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1480627663,"post_id":3905399,"comment_id":69053581,"body_markdown":"@Benj, this was presumably because KjetilNordin had a loop in his graph. Had this been done as naively in an iterative way, the program would not have terminated (or crashed due to an OOME). I think it&#39;s perfectly fine to solve this type of problem with recursion.","body":"@Benj, this was presumably because KjetilNordin had a loop in his graph. Had this been done as naively in an iterative way, the program would not have terminated (or crashed due to an OOME). I think it&#39;s perfectly fine to solve this type of problem with recursion."},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1480639011,"post_id":3905399,"comment_id":69057787,"body_markdown":"@aioobe, I agree that this process should not SO on &quot;everyday-objects&quot;, but I try to avoid recursion when I can (but it&#39;s an IMHO). I totally agree with your code for debugging purposes, you provided a clever solution for non-cyclic graphs. I&#39;m using it since yesterday, works fine, thanks :)","body":"@aioobe, I agree that this process should not SO on &quot;everyday-objects&quot;, but I try to avoid recursion when I can (but it&#39;s an IMHO). I totally agree with your code for debugging purposes, you provided a clever solution for non-cyclic graphs. I&#39;m using it since yesterday, works fine, thanks :)"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1467972055,"creation_date":1286793363,"answer_id":3905399,"question_id":3905382,"body_markdown":"You can print it recursively by overriding `toString` in all your classes.\r\n\r\nIf you want to have a method like `printObjectRecursively(Object o)` you need to dive into reflection, fetch the fields, print their name and content recursively using `printObjectRecursively(someField)`.\r\n\r\nExample:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            A a = new A();\r\n            System.out.println(a);\r\n        }\r\n    }\r\n    \r\n    class A {\r\n        int i = 5;\r\n        B obj = new B();\r\n        String str = &quot;hello&quot;;\r\n        public String toString() {\r\n            return String.format(&quot;A: [i: %d, obj: %s, str: %s]&quot;, i, obj, str);\r\n        }\r\n    }\r\n    \r\n    class B {\r\n        int j = 17;\r\n        public String toString() {\r\n            return String.format(&quot;B: [j: %d]&quot;, j);\r\n        }\r\n    }\r\n\r\nPrints:\r\n\r\n    A: [i: 5, obj: B: [j: 17], str: hello]\r\n\r\nA reflection-based recursive print method could be written something like this\r\n\r\n    private static final List LEAVES = Arrays.asList(\r\n            Boolean.class, Character.class, Byte.class, Short.class,\r\n            Integer.class, Long.class, Float.class, Double.class, Void.class,\r\n            String.class);\r\n\r\n    public static String toStringRecursive(Object o) throws Exception {\r\n        \r\n        if (o == null)\r\n            return &quot;null&quot;;\r\n        \r\n        if (LEAVES.contains(o.getClass()))\r\n            return o.toString();\r\n        \r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(o.getClass().getSimpleName()).append(&quot;: [&quot;);\r\n        for (Field f : o.getClass().getDeclaredFields()) {\r\n            if (Modifier.isStatic(f.getModifiers()))\r\n                continue;\r\n            f.setAccessible(true);\r\n            sb.append(f.getName()).append(&quot;: &quot;);\r\n            sb.append(toStringRecursive(f.get(o))).append(&quot; &quot;);\r\n        }\r\n        sb.append(&quot;]&quot;);\r\n        return sb.toString();\r\n    }\r\n    ","title":"Recursively print an objects details","body":"<p>You can print it recursively by overriding <code>toString</code> in all your classes.</p>\n\n<p>If you want to have a method like <code>printObjectRecursively(Object o)</code> you need to dive into reflection, fetch the fields, print their name and content recursively using <code>printObjectRecursively(someField)</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        A a = new A();\n        System.out.println(a);\n    }\n}\n\nclass A {\n    int i = 5;\n    B obj = new B();\n    String str = \"hello\";\n    public String toString() {\n        return String.format(\"A: [i: %d, obj: %s, str: %s]\", i, obj, str);\n    }\n}\n\nclass B {\n    int j = 17;\n    public String toString() {\n        return String.format(\"B: [j: %d]\", j);\n    }\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>A: [i: 5, obj: B: [j: 17], str: hello]\n</code></pre>\n\n<p>A reflection-based recursive print method could be written something like this</p>\n\n<pre><code>private static final List LEAVES = Arrays.asList(\n        Boolean.class, Character.class, Byte.class, Short.class,\n        Integer.class, Long.class, Float.class, Double.class, Void.class,\n        String.class);\n\npublic static String toStringRecursive(Object o) throws Exception {\n\n    if (o == null)\n        return \"null\";\n\n    if (LEAVES.contains(o.getClass()))\n        return o.toString();\n\n    StringBuilder sb = new StringBuilder();\n    sb.append(o.getClass().getSimpleName()).append(\": [\");\n    for (Field f : o.getClass().getDeclaredFields()) {\n        if (Modifier.isStatic(f.getModifiers()))\n            continue;\n        f.setAccessible(true);\n        sb.append(f.getName()).append(\": \");\n        sb.append(toStringRecursive(f.get(o))).append(\" \");\n    }\n    sb.append(\"]\");\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":126734,"reputation":17496,"user_id":323421,"display_name":"Sergii Pozharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286793409,"creation_date":1286793409,"answer_id":3905406,"question_id":3905382,"body_markdown":"You should implement the `toString` method for your classes - it will print the information about the class members - usually using their `toString` methods. |Then you jut iterate through the collection and call `toString` of each item","title":"Recursively print an objects details","body":"<p>You should implement the <code>toString</code> method for your classes - it will print the information about the class members - usually using their <code>toString</code> methods. |Then you jut iterate through the collection and call <code>toString</code> of each item</p>\n"},{"tags":[],"owner":{"account_id":135606,"reputation":6545,"user_id":338581,"accept_rate":63,"display_name":"noisy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286793413,"creation_date":1286793413,"answer_id":3905407,"question_id":3905382,"body_markdown":"Do you really need print this informations out? Maybe watch during debbuging will be enough?","title":"Recursively print an objects details","body":"<p>Do you really need print this informations out? Maybe watch during debbuging will be enough?</p>\n"},{"tags":[],"owner":{"account_id":22946,"reputation":30978,"user_id":57095,"accept_rate":85,"display_name":"Alberto Zaccagni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286793456,"creation_date":1286793456,"answer_id":3905410,"question_id":3905382,"body_markdown":"You are looking for something similar to PHP&#39;s var_dump, see if this question is of any help: https://stackoverflow.com/questions/301536/what-is-the-java-equivalent-of-php-var-dump\r\n\r\nAlso, have a look at reflection: http://java.sun.com/developer/technicalArticles/ALT/Reflection/","title":"Recursively print an objects details","body":"<p>You are looking for something similar to PHP's var_dump, see if this question is of any help: <a href=\"https://stackoverflow.com/questions/301536/what-is-the-java-equivalent-of-php-var-dump\">What is the Java equivalent of PHP var_dump?</a></p>\n\n<p>Also, have a look at reflection: <a href=\"http://java.sun.com/developer/technicalArticles/ALT/Reflection/\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/ALT/Reflection/</a></p>\n"},{"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286793469,"creation_date":1286793469,"answer_id":3905412,"question_id":3905382,"body_markdown":"You can override the toString method.\r\n\r\n**Example:**\r\n\r\n    class foo\r\n    {\r\n     int i,j;\r\n     \r\n     String toString()\r\n     {\r\n     StringBuilder b=new StringBuilder();\r\n     return b.append(i).append(j).toString();\r\n     }\r\n    }","title":"Recursively print an objects details","body":"<p>You can override the toString method.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>class foo\n{\n int i,j;\n\n String toString()\n {\n StringBuilder b=new StringBuilder();\n return b.append(i).append(j).toString();\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1286793638,"creation_date":1286793638,"answer_id":3905432,"question_id":3905382,"body_markdown":"Use one of the serialization libraries like [Jackson][1] (JSON). \r\n\r\nThis dumps everything in plain text. If you use a Javascript capable editor to prettify the content, with a bit of luck, you might actually make some sense out of it.\r\n\r\nIf a lot of the objects are not serializable, you might end up with a lot of readable gibberish which will not help anything, unfortunately,\r\n\r\nYMMV\r\n\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonInFiveMinutes","title":"Recursively print an objects details","body":"<p>Use one of the serialization libraries like <a href=\"http://wiki.fasterxml.com/JacksonInFiveMinutes\" rel=\"nofollow\">Jackson</a> (JSON). </p>\n\n<p>This dumps everything in plain text. If you use a Javascript capable editor to prettify the content, with a bit of luck, you might actually make some sense out of it.</p>\n\n<p>If a lot of the objects are not serializable, you might end up with a lot of readable gibberish which will not help anything, unfortunately,</p>\n\n<p>YMMV</p>\n"},{"tags":[],"owner":{"account_id":660607,"reputation":73,"user_id":472233,"display_name":"HenryTaylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286796530,"creation_date":1286796530,"answer_id":3905756,"question_id":3905382,"body_markdown":"I&#39;ve had great success doing this on a casual basis using XStream to dump JSON representations of objects.  It recurses down objects and just seems to do what you want it to do most of the time.  And it&#39;s super lightweight.  Example:\r\n\r\n    private static final XStream jsonXStream = \r\n        new XStream(new JsonHierarchicalStreamDriver());\r\n\t\r\n    public static String toDebugString(Object object) {\r\n        return jsonXStream.toXML(object);  \r\n        // ignore &quot;toXML&quot; name, it&#39;s going to be JSON.\r\n    }\r\n\r\n","title":"Recursively print an objects details","body":"<p>I've had great success doing this on a casual basis using XStream to dump JSON representations of objects.  It recurses down objects and just seems to do what you want it to do most of the time.  And it's super lightweight.  Example:</p>\n\n<pre><code>private static final XStream jsonXStream = \n    new XStream(new JsonHierarchicalStreamDriver());\n\npublic static String toDebugString(Object object) {\n    return jsonXStream.toXML(object);  \n    // ignore \"toXML\" name, it's going to be JSON.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":660617,"reputation":71,"user_id":472250,"display_name":"y.efe"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1693954357,"creation_date":1286797611,"answer_id":3905867,"question_id":3905382,"body_markdown":"[Apache Common Lang][1] contains `ToStringBuilder` class. You can define different style with `ToStringStyle` object.\r\n\r\nSingle line recursion:\r\n\r\n    ToStringBuilder.reflectionToString(obj, new RecursiveToStringStyle())\r\n\r\nTree-like recursion:\r\n\r\n    ToStringBuilder.reflectionToString(obj, new MultilineRecursiveToStringStyle())\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/dependency-info.html","title":"Recursively print an objects details","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/dependency-info.html\" rel=\"nofollow noreferrer\">Apache Common Lang</a> contains <code>ToStringBuilder</code> class. You can define different style with <code>ToStringStyle</code> object.</p>\n<p>Single line recursion:</p>\n<pre><code>ToStringBuilder.reflectionToString(obj, new RecursiveToStringStyle())\n</code></pre>\n<p>Tree-like recursion:</p>\n<pre><code>ToStringBuilder.reflectionToString(obj, new MultilineRecursiveToStringStyle())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6085642,"reputation":568,"user_id":5122436,"display_name":"Mikhail Ionkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660928737,"creation_date":1660927765,"answer_id":73419916,"question_id":3905382,"body_markdown":"In some cases it is easy to use Gson to print object. But sometimes gson does not work.\r\n\r\nHere I just improve aioobe&#39; answer for this case:\r\n- don&#39;t print printed objects (protect from infinite cycles)\r\n- print collections\r\n- don&#39;t go deeply on few basic types, like BigInteger\r\n\r\n```java\r\n    private static final Set&lt;Object&gt; looked = new HashSet&lt;&gt;();\r\n\r\n    private static final List LEAVES = Arrays.asList(\r\n            Boolean.class, Character.class, Byte.class, Short.class,\r\n            Integer.class, Long.class, Float.class, Double.class, Void.class,\r\n            String.class, java.math.BigInteger.class, java.math.BigDecimal.class);\r\n\r\n    public static void toStringRecursive(Object o, StringBuilder sb) throws Exception {\r\n        if (o == null) {\r\n            sb.append(&quot;null&quot;);\r\n            return;\r\n        }\r\n\r\n        if (looked.contains(o)) return;\r\n        looked.add(o);\r\n\r\n        if (LEAVES.contains(o.getClass())) {\r\n            sb.append(o);\r\n            return;\r\n        }\r\n\r\n        sb.append(o.getClass().getSimpleName()).append(&quot;: [&quot;);\r\n        if (o.getClass().isArray()) {\r\n            for (Object x : (Object[]) o) {\r\n                toStringRecursive(x, sb);\r\n            }\r\n        } else if (Iterable.class.isAssignableFrom(o.getClass())) {\r\n            for (Object x : (Iterable) o) {\r\n                toStringRecursive(x, sb);\r\n            }\r\n        } else if (Map.class.isAssignableFrom(o.getClass())) {\r\n            for (Object entry : ((Map)o).entrySet()) {\r\n                toStringRecursive(entry, sb);\r\n            }\r\n        } else {\r\n            for (Field f : o.getClass().getDeclaredFields()) {\r\n                if (Modifier.isStatic(f.getModifiers()))\r\n                    continue;\r\n                f.setAccessible(true);\r\n                sb.append(f.getName()).append(&quot;: &quot;);\r\n                toStringRecursive(f.get(o), sb);\r\n                sb.append(&quot; &quot;);\r\n            }\r\n        }\r\n        sb.append(&quot;]\\n&quot;);\r\n    }\r\n```","title":"Recursively print an objects details","body":"<p>In some cases it is easy to use Gson to print object. But sometimes gson does not work.</p>\n<p>Here I just improve aioobe' answer for this case:</p>\n<ul>\n<li>don't print printed objects (protect from infinite cycles)</li>\n<li>print collections</li>\n<li>don't go deeply on few basic types, like BigInteger</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final Set&lt;Object&gt; looked = new HashSet&lt;&gt;();\n\n    private static final List LEAVES = Arrays.asList(\n            Boolean.class, Character.class, Byte.class, Short.class,\n            Integer.class, Long.class, Float.class, Double.class, Void.class,\n            String.class, java.math.BigInteger.class, java.math.BigDecimal.class);\n\n    public static void toStringRecursive(Object o, StringBuilder sb) throws Exception {\n        if (o == null) {\n            sb.append(&quot;null&quot;);\n            return;\n        }\n\n        if (looked.contains(o)) return;\n        looked.add(o);\n\n        if (LEAVES.contains(o.getClass())) {\n            sb.append(o);\n            return;\n        }\n\n        sb.append(o.getClass().getSimpleName()).append(&quot;: [&quot;);\n        if (o.getClass().isArray()) {\n            for (Object x : (Object[]) o) {\n                toStringRecursive(x, sb);\n            }\n        } else if (Iterable.class.isAssignableFrom(o.getClass())) {\n            for (Object x : (Iterable) o) {\n                toStringRecursive(x, sb);\n            }\n        } else if (Map.class.isAssignableFrom(o.getClass())) {\n            for (Object entry : ((Map)o).entrySet()) {\n                toStringRecursive(entry, sb);\n            }\n        } else {\n            for (Field f : o.getClass().getDeclaredFields()) {\n                if (Modifier.isStatic(f.getModifiers()))\n                    continue;\n                f.setAccessible(true);\n                sb.append(f.getName()).append(&quot;: &quot;);\n                toStringRecursive(f.get(o), sb);\n                sb.append(&quot; &quot;);\n            }\n        }\n        sb.append(&quot;]\\n&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":652217,"reputation":4941,"user_id":453821,"accept_rate":96,"display_name":"tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12374,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":3905399,"answer_count":9,"score":10,"last_activity_date":1693954357,"creation_date":1286793248,"question_id":3905382,"body_markdown":"How do I print the content of an object recursively?","title":"Recursively print an objects details","body":"<p>How do I print the content of an object recursively?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1693956704,"post_id":77048050,"comment_id":135827268,"body_markdown":"If the complete JAR B is inside JAR A (as opposed to the contents of JAR B inside JAR A directly) then you would need a custom classloader to find classes within it. There is no built-in support for nested JARs.","body":"If the complete JAR B is inside JAR A (as opposed to the contents of JAR B inside JAR A directly) then you would need a custom classloader to find classes within it. There is no built-in support for nested JARs."}],"owner":{"account_id":29285360,"reputation":11,"user_id":22437092,"display_name":"DevF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693952707,"creation_date":1693952707,"question_id":77048050,"body_markdown":"I know its very unusual and wrong but there is a reason for this thats not relevant for the story, for now we cant avoid it.\r\n\r\nIm using Maven and have jar A that uses jar B, I copied jar B into the `resources` folder of jar A and included jar B in the POM file of jar A with `provided` scope, an example:\r\n\r\n```\r\nimport com.google.common.collect.Lists;\r\n\r\npublic class Foo {\r\n    public static void main(String[] args) {\r\n        System.out.println(Lists.asList(&quot;foo&quot;, new String[] {&quot;bar&quot;}));\r\n    }\r\n}\r\n```\r\n\r\nPOM:\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;[15.0]&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nNow I have jar C that uses jar A like so:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Test.main(null);\r\n    }\r\n}\r\n```\r\n\r\nI tried doing this in the POM of C:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.ex&lt;/groupId&gt;\r\n            &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n\r\nBut it doesnt work because it cant find the guava classes, so my question is, is it possible to somehow make this work and added jar B to the classpath from within jar A?","title":"Include a jar from within another jar in the classpath for a transitive dependency","body":"<p>I know its very unusual and wrong but there is a reason for this thats not relevant for the story, for now we cant avoid it.</p>\n<p>Im using Maven and have jar A that uses jar B, I copied jar B into the <code>resources</code> folder of jar A and included jar B in the POM file of jar A with <code>provided</code> scope, an example:</p>\n<pre><code>import com.google.common.collect.Lists;\n\npublic class Foo {\n    public static void main(String[] args) {\n        System.out.println(Lists.asList(&quot;foo&quot;, new String[] {&quot;bar&quot;}));\n    }\n}\n</code></pre>\n<p>POM:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;[15.0]&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Now I have jar C that uses jar A like so:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Test.main(null);\n    }\n}\n</code></pre>\n<p>I tried doing this in the POM of C:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ex&lt;/groupId&gt;\n            &lt;artifactId&gt;A&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>But it doesnt work because it cant find the guava classes, so my question is, is it possible to somehow make this work and added jar B to the classpath from within jar A?</p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1529817278,"post_id":51007117,"comment_id":89007430,"body_markdown":"Is `sourceAsMap` null Or is `sourceAsMap.get(..)` returning null? or is `doc` null?","body":"Is <code>sourceAsMap</code> null Or is <code>sourceAsMap.get(..)</code> returning null? or is <code>doc</code> null?"}],"answers":[{"comments":[{"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"score":0,"creation_date":1529817867,"post_id":51007151,"comment_id":89007524,"body_markdown":"Thanks Aman., I asked for Best Practice  for that i dont why i got some many negative votes. :(","body":"Thanks Aman., I asked for Best Practice  for that i dont why i got some many negative votes. :("}],"tags":[],"owner":{"account_id":1315198,"reputation":3834,"user_id":1262248,"accept_rate":75,"display_name":"Aman Chhabra"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1693952602,"creation_date":1529817651,"answer_id":51007151,"question_id":51007117,"body_markdown":"The null pointer exception basic cause is that you are calling a method or variable from null variable i.e. a variable which is currently not holding reference of any object. So, the easy way to avoid it is assign that variable a reference on which subsequent tasks can be called\r\n\r\nNow this can be handled in n no. of ways, out of which some basic ways are:\r\n\r\n1) Using if condition\r\n\r\n        if(doc!=null &amp;&amp; sourceAsMap!=null &amp;&amp; sourceAsMap.get(&quot;catalog_title&quot;)!=null)\r\n            doc.setCatalog_title(sourceAsMap.get(&quot;catalog_title&quot;).toString());\r\n\r\n2) Using ternary operator:\r\n\r\n        doc = null == doc ? new Document():doc;\r\n        doc.setCatalog_title(sourceAsMap!=null &amp;&amp; sourceAsMap.get(&quot;catalog_title&quot;)!=null ? sourceAsMap.get(&quot;catalog_title&quot;).toString() : null);\r\n","title":"Best practise to handle Exception in thread &quot;main&quot; java.lang.NullPointerException from Bean class","body":"<p>The null pointer exception basic cause is that you are calling a method or variable from null variable i.e. a variable which is currently not holding reference of any object. So, the easy way to avoid it is assign that variable a reference on which subsequent tasks can be called</p>\n<p>Now this can be handled in n no. of ways, out of which some basic ways are:</p>\n<ol>\n<li><p>Using if condition</p>\n<pre><code> if(doc!=null &amp;&amp; sourceAsMap!=null &amp;&amp; sourceAsMap.get(&quot;catalog_title&quot;)!=null)\n     doc.setCatalog_title(sourceAsMap.get(&quot;catalog_title&quot;).toString());\n</code></pre>\n</li>\n<li><p>Using ternary operator:</p>\n<pre><code> doc = null == doc ? new Document():doc;\n doc.setCatalog_title(sourceAsMap!=null &amp;&amp; sourceAsMap.get(&quot;catalog_title&quot;)!=null ? sourceAsMap.get(&quot;catalog_title&quot;).toString() : null);\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13508760,"reputation":1517,"user_id":9745850,"display_name":"Hemant Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529819433,"creation_date":1529819433,"answer_id":51007287,"question_id":51007117,"body_markdown":"You can use Guava Preconditions (https://github.com/google/guava/wiki/PreconditionsExplained), as it good practice to check preconditions of your class before executing it. As you can use `checkNotNull(T)`.\r\n\r\nIf you are expecting null in your system then instead of using a null check, use **Optional** class https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html, \r\n\r\nIf you are using Java 7 then you can use **Optional** from **Guava** https://github.com/google/guava/wiki/UsingAndAvoidingNullExplained","title":"Best practise to handle Exception in thread &quot;main&quot; java.lang.NullPointerException from Bean class","body":"<p>You can use Guava Preconditions (<a href=\"https://github.com/google/guava/wiki/PreconditionsExplained\" rel=\"nofollow noreferrer\">https://github.com/google/guava/wiki/PreconditionsExplained</a>), as it good practice to check preconditions of your class before executing it. As you can use <code>checkNotNull(T)</code>.</p>\n\n<p>If you are expecting null in your system then instead of using a null check, use <strong>Optional</strong> class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html</a>, </p>\n\n<p>If you are using Java 7 then you can use <strong>Optional</strong> from <strong>Guava</strong> <a href=\"https://github.com/google/guava/wiki/UsingAndAvoidingNullExplained\" rel=\"nofollow noreferrer\">https://github.com/google/guava/wiki/UsingAndAvoidingNullExplained</a></p>\n"}],"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1529819771,"accepted_answer_id":51007151,"answer_count":2,"score":-5,"last_activity_date":1693952602,"creation_date":1529817180,"question_id":51007117,"body_markdown":"Am using Bean class to get/set value for the attributes. In some cases am gettig `Exception in thread &quot;main&quot; java.lang.NullPointerException` error due to the value is null. What will be the best practice to handle null pointer exception when we get/set values from/to bean class.\r\n\r\nIs that ternary operator is good to use or any other suggestions?\r\n\r\nPlease find the below line of code where am getting null pointer exception.\r\n\r\n    doc.setCatalog_title(sourceAsMap.get(&quot;catalog_title&quot;).toString());","title":"Best practise to handle Exception in thread &quot;main&quot; java.lang.NullPointerException from Bean class","body":"<p>Am using Bean class to get/set value for the attributes. In some cases am gettig <code>Exception in thread \"main\" java.lang.NullPointerException</code> error due to the value is null. What will be the best practice to handle null pointer exception when we get/set values from/to bean class.</p>\n\n<p>Is that ternary operator is good to use or any other suggestions?</p>\n\n<p>Please find the below line of code where am getting null pointer exception.</p>\n\n<pre><code>doc.setCatalog_title(sourceAsMap.get(\"catalog_title\").toString());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jaxb"],"answers":[{"comments":[{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1693576383,"post_id":77023584,"comment_id":135783352,"body_markdown":"yeah thanks man that was the root cause, but is there some is there some setting to set the namespace globally ?","body":"yeah thanks man that was the root cause, but is there some is there some setting to set the namespace globally ?"},{"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"score":0,"creation_date":1693578030,"post_id":77023584,"comment_id":135783732,"body_markdown":"I found this question: https://stackoverflow.com/questions/43721186/namespace-with-no-prefix-in-jaxb - you just have to create a package-info.java for your Jaxb-Classes and configure the namespace at package level.  @XmlSchema(namespace = &quot;http://ns.fredhopper.com/XML/output/6.1.0&quot;,\n        elementFormDefault = XmlNsForm.QUALIFIED\n)\n- that did the trick for me.","body":"I found this question: <a href=\"https://stackoverflow.com/questions/43721186/namespace-with-no-prefix-in-jaxb\" title=\"namespace with no prefix in jaxb\">stackoverflow.com/questions/43721186/&hellip;</a> - you just have to create a package-info.java for your Jaxb-Classes and configure the namespace at package level.  @XmlSchema(namespace = &quot;<a href=\"http://ns.fredhopper.com/XML/output/6.1.0\" rel=\"nofollow noreferrer\">ns.fredhopper.com/XML/output/6.1.0</a>&quot;,         elementFormDefault = XmlNsForm.QUALIFIED ) - that did the trick for me."}],"tags":[],"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693575562,"creation_date":1693575562,"answer_id":77023584,"question_id":77023269,"body_markdown":"Seems you are simply missing the namespace on the `@XmlElement` for `bar`.\r\n\r\nFor me, it worked as expected, when I added that:\r\n```java\r\n@Data\r\n@XmlRootElement(name = &quot;foo&quot;, namespace = &quot;http://ns.fredhopper.com/XML/output/6.1.0&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Foo {\r\n\r\n    @XmlAttribute private String name;\r\n    \r\n    @XmlElementWrapper(name = &quot;bars&quot;, namespace = &quot;http://ns.fredhopper.com/XML/output/6.1.0&quot;)\r\n    @XmlElement(name = &quot;bar&quot;, namespace = &quot;http://ns.fredhopper.com/XML/output/6.1.0&quot;)\r\n    private List&lt;Bar&gt; bars;\r\n}\r\n```\r\n\r\nAnd I used the `Foo.class` when creating the `JAXBContext`:\r\n```java\r\nJAXBContext context = JAXBContext.newInstance(Foo.class);\r\nfoo = (Foo) context.createUnmarshaller().unmarshal(inputStream);\r\n```\r\n","title":"@XmlElementWrapper generating empty list","body":"<p>Seems you are simply missing the namespace on the <code>@XmlElement</code> for <code>bar</code>.</p>\n<p>For me, it worked as expected, when I added that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@XmlRootElement(name = &quot;foo&quot;, namespace = &quot;http://ns.fredhopper.com/XML/output/6.1.0&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Foo {\n\n    @XmlAttribute private String name;\n    \n    @XmlElementWrapper(name = &quot;bars&quot;, namespace = &quot;http://ns.fredhopper.com/XML/output/6.1.0&quot;)\n    @XmlElement(name = &quot;bar&quot;, namespace = &quot;http://ns.fredhopper.com/XML/output/6.1.0&quot;)\n    private List&lt;Bar&gt; bars;\n}\n</code></pre>\n<p>And I used the <code>Foo.class</code> when creating the <code>JAXBContext</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JAXBContext context = JAXBContext.newInstance(Foo.class);\nfoo = (Foo) context.createUnmarshaller().unmarshal(inputStream);\n</code></pre>\n"}],"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77023584,"answer_count":1,"score":0,"last_activity_date":1693951952,"creation_date":1693572659,"question_id":77023269,"body_markdown":"I&#39;m using JAXB to unmarshal some http client response with Spring Boot 3.0.8 &amp; Java 17,\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut when I use `@XmlElementWrapper`, I get empty list\r\n\r\nhere is the complete code :\r\n\r\nfoo.xml\r\n\r\n    &lt;foo xmlns=&#39;my-secret-name-space&#39; name=&#39;hello&#39;&gt;\r\n    \t&lt;bars&gt;\r\n    \t\t&lt;bar name=&#39;hello bar 1&#39;/&gt;\r\n    \t\t&lt;bar name=&#39;hello bar 2&#39;/&gt;\r\n    \t&lt;/bars&gt;\r\n    &lt;/foo&gt;\r\n\r\nFoo.java\r\n\r\n    import jakarta.xml.bind.annotation.XmlAccessType;\r\n    import jakarta.xml.bind.annotation.XmlAccessorType;\r\n    import jakarta.xml.bind.annotation.XmlAttribute;\r\n    import jakarta.xml.bind.annotation.XmlElement;\r\n    import jakarta.xml.bind.annotation.XmlElementWrapper;\r\n    import jakarta.xml.bind.annotation.XmlRootElement;\r\n    import java.util.List;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    @XmlRootElement(name = &quot;foo&quot;, namespace = &quot;my-secret-name-space&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Foo {\r\n    \r\n      @XmlAttribute private String name;\r\n    \r\n    \r\n      @XmlElementWrapper(name = &quot;bars&quot;, namespace = &quot;my-secret-name-space&quot;)\r\n      @XmlElement(name = &quot;bar&quot;)\r\n      private List&lt;Bar&gt; bars;\r\n    \r\n    }\r\n\r\nBar.java\r\n\r\n    import jakarta.xml.bind.annotation.XmlAccessType;\r\n    import jakarta.xml.bind.annotation.XmlAccessorType;\r\n    import jakarta.xml.bind.annotation.XmlAttribute;\r\n    import jakarta.xml.bind.annotation.XmlTransient;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    @XmlAccessorType(XmlAccessType.NONE)\r\n    public class Bar {\r\n    \r\n      @XmlAttribute private String name;\r\n    \r\n    }\r\n\r\nunmarshling code\r\n\r\n    try (InputStream inputStream = getSomeInputStream()) {\r\n      JAXBContext context = JAXBContext.newInstance(Foo.class);\r\n      return (Foo) context.createUnmarshaller().unmarshal(inputStream);\r\n    }\r\n\r\nin my Foo class i got the name attribute correctly initialized, but the bars list is empty","title":"@XmlElementWrapper generating empty list","body":"<p>I'm using JAXB to unmarshal some http client response with Spring Boot 3.0.8 &amp; Java 17,</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n  &lt;version&gt;4.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But when I use <code>@XmlElementWrapper</code>, I get empty list</p>\n<p>here is the complete code :</p>\n<p>foo.xml</p>\n<pre><code>&lt;foo xmlns='my-secret-name-space' name='hello'&gt;\n    &lt;bars&gt;\n        &lt;bar name='hello bar 1'/&gt;\n        &lt;bar name='hello bar 2'/&gt;\n    &lt;/bars&gt;\n&lt;/foo&gt;\n</code></pre>\n<p>Foo.java</p>\n<pre><code>import jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlAttribute;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlElementWrapper;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport java.util.List;\nimport lombok.Data;\n\n@Data\n@XmlRootElement(name = &quot;foo&quot;, namespace = &quot;my-secret-name-space&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Foo {\n\n  @XmlAttribute private String name;\n\n\n  @XmlElementWrapper(name = &quot;bars&quot;, namespace = &quot;my-secret-name-space&quot;)\n  @XmlElement(name = &quot;bar&quot;)\n  private List&lt;Bar&gt; bars;\n\n}\n</code></pre>\n<p>Bar.java</p>\n<pre><code>import jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlAttribute;\nimport jakarta.xml.bind.annotation.XmlTransient;\nimport lombok.Data;\n\n@Data\n@XmlAccessorType(XmlAccessType.NONE)\npublic class Bar {\n\n  @XmlAttribute private String name;\n\n}\n</code></pre>\n<p>unmarshling code</p>\n<pre><code>try (InputStream inputStream = getSomeInputStream()) {\n  JAXBContext context = JAXBContext.newInstance(Foo.class);\n  return (Foo) context.createUnmarshaller().unmarshal(inputStream);\n}\n</code></pre>\n<p>in my Foo class i got the name attribute correctly initialized, but the bars list is empty</p>\n"},{"tags":["java","opencv","gradle","unsatisfiedlinkerror"],"owner":{"account_id":15356827,"reputation":121,"user_id":11078894,"display_name":"Puser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693951655,"creation_date":1693927711,"question_id":77045826,"body_markdown":"I added OpenCV dependency to my build.gradle file\r\n\r\n    dependencies {\r\n\t  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\t  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\t  implementation &#39;org.openpnp:opencv:4.5.1-1&#39;\r\n    }\r\nwhen running gradle build, the library is downloaded and build works fine. But when I run the code \r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n\r\n\r\n\r\n    @SpringBootApplication\r\n    public class AiApplication {\r\n\r\n\t   public static void main(String[] args) {\r\n\t\t   SpringApplication.run(AiApplication.class, args);\r\n\t\t   System.out.print(&quot;Hello world&quot;);\r\n\t\t   System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\t\t   Mat mat = Mat.eye(3, 3, 0);\r\n\t\t   System.out.println(&quot;OpenCV Mat:\\n&quot; + mat.dump());\r\n\t   }}\r\n\r\nI get an error \r\n\r\n&gt; java.lang.UnsatisfiedLinkError: no opencv_java451 in java.library.path:\r\n\r\nSo I located my Gradle file opencv-4.5.1-1.jar  and run\r\n\r\n    java -Djava.library.path=/home/pescador/.gradle/caches/modules-2/files-2.1/org.openpnp/opencv/4.5.1-1/31b0b04ae7565a746a15c930c3a246c2655da00c -jar ./build/libs/ai-0.0.1-SNAPSHOT.jar \r\n\r\nbut with the same error. I guess I have to add some other -Djava.library.path. I do not want to use any IDE, my project run in terminal on Linux. So any advise how to setup eclipse or IntelliJ will not help.  Thank you","title":"java.lang.UnsatisfiedLinkError: OpenCV library not found in SpringBoot with Gradle","body":"<p>I added OpenCV dependency to my build.gradle file</p>\n<pre><code>dependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n  implementation 'org.openpnp:opencv:4.5.1-1'\n}\n</code></pre>\n<p>when running gradle build, the library is downloaded and build works fine. But when I run the code</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\n\n\n\n@SpringBootApplication\npublic class AiApplication {\n\n   public static void main(String[] args) {\n       SpringApplication.run(AiApplication.class, args);\n       System.out.print(&quot;Hello world&quot;);\n       System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n       Mat mat = Mat.eye(3, 3, 0);\n       System.out.println(&quot;OpenCV Mat:\\n&quot; + mat.dump());\n   }}\n</code></pre>\n<p>I get an error</p>\n<blockquote>\n<p>java.lang.UnsatisfiedLinkError: no opencv_java451 in java.library.path:</p>\n</blockquote>\n<p>So I located my Gradle file opencv-4.5.1-1.jar  and run</p>\n<pre><code>java -Djava.library.path=/home/pescador/.gradle/caches/modules-2/files-2.1/org.openpnp/opencv/4.5.1-1/31b0b04ae7565a746a15c930c3a246c2655da00c -jar ./build/libs/ai-0.0.1-SNAPSHOT.jar \n</code></pre>\n<p>but with the same error. I guess I have to add some other -Djava.library.path. I do not want to use any IDE, my project run in terminal on Linux. So any advise how to setup eclipse or IntelliJ will not help.  Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":1,"creation_date":1693934640,"post_id":77046532,"comment_id":135824131,"body_markdown":"Do you mean a BufferedOutputStream (https://docs.oracle.com/javase/8/docs/api/java/io/BufferedOutputStream.html)?  If not, in what way does the desired behavior differ?","body":"Do you mean a BufferedOutputStream (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedOutputStream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/io/&hellip;</a>)?  If not, in what way does the desired behavior differ?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1693934954,"post_id":77046532,"comment_id":135824186,"body_markdown":"You can extend [FilterOutputStream](https://docs.oracle.com/javase/8/docs/api/java/io/FilterOutputStream.html) and keep a buffer there.","body":"You can extend <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FilterOutputStream.html\" rel=\"nofollow noreferrer\">FilterOutputStream</a> and keep a buffer there."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693951182,"creation_date":1693951182,"answer_id":77047975,"question_id":77046532,"body_markdown":"Try to understand how a circular buffer works:\r\nhttps://en.wikipedia.org/wiki/Circular_buffer\r\n\r\nThen create an implementation, or find one that already exists.\r\nIf you do it yourself just create an array of strings and use two pointers for writing and reading.\r\n\r\nA Queue limited in size will behave quite similar to your circular buffer if you think of overwrite protection. This is e.g. the case in the [LinkedBlockingQueue][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/LinkedBlockingQueue.html","title":"Custom Circular line OutputStream in Java","body":"<p>Try to understand how a circular buffer works:\n<a href=\"https://en.wikipedia.org/wiki/Circular_buffer\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Circular_buffer</a></p>\n<p>Then create an implementation, or find one that already exists.\nIf you do it yourself just create an array of strings and use two pointers for writing and reading.</p>\n<p>A Queue limited in size will behave quite similar to your circular buffer if you think of overwrite protection. This is e.g. the case in the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/LinkedBlockingQueue.html\" rel=\"nofollow noreferrer\">LinkedBlockingQueue</a>.</p>\n"}],"owner":{"account_id":26062291,"reputation":3,"user_id":19763401,"display_name":"Алексей"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693951182,"creation_date":1693934401,"question_id":77046532,"body_markdown":"I need to create Circular OutputStream that limits the max number of lines and when it&#39;s full - starts writing with the oldest value. But I have no idea what to start with.","title":"Custom Circular line OutputStream in Java","body":"<p>I need to create Circular OutputStream that limits the max number of lines and when it's full - starts writing with the oldest value. But I have no idea what to start with.</p>\n"},{"tags":["java","android","include"],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693949902,"creation_date":1693949902,"answer_id":77047882,"question_id":77046119,"body_markdown":"I have taken your code of content_dg_main_2 and done some changes.\r\n\r\ncontent_dg_main_2 code is here\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/activity_my_speedo_root&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        &gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/clHeader&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toRightOf=&quot;parent&quot;&gt;\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/ivNavMenu&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:padding=&quot;8dp&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                android:src=&quot;@drawable/products&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;!--        android:tint=&quot;@color/black&quot;--&gt;\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/ivUpgrade&quot;\r\n                android:layout_width=&quot;32dp&quot;\r\n                android:layout_height=&quot;32dp&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:padding=&quot;4dp&quot;\r\n                android:src=&quot;@drawable/imagegallery&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                 /&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvHeader&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:text=&quot;Video Recorder&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/ivUpgrade&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/ivNavMenu&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;!--    &lt;Button--&gt;\r\n    &lt;!--        android:id=&quot;@+id/button&quot;--&gt;\r\n    &lt;!--        android:layout_width=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\r\n    &lt;!--        android:onClick=&quot;consume&quot;--&gt;\r\n    &lt;!--        android:text=&quot;Button&quot;--&gt;\r\n    &lt;!--        app:layout_constraintEnd_toEndOf=&quot;parent&quot;--&gt;\r\n    &lt;!--        app:layout_constraintStart_toStartOf=&quot;parent&quot;--&gt;\r\n    &lt;!--        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;--&gt;\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/clHeader&quot;&gt;\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;androidx.appcompat.widget.AppCompatButton\r\n                    android:id=&quot;@+id/btnstart&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:background=&quot;@mipmap/ic_launcher&quot;\r\n                    app:layout_constraintDimensionRatio=&quot;482:317&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\r\n                &lt;!--            android:onClick=&quot;onclick&quot;--&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvTimer&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;64dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;00:00:00&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/btnstart&quot; /&gt;\r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/layout_gallery&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:padding=&quot;12dp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/tvTimer&quot;\r\n                    app:layout_constraintWidth_percent=&quot;0.6&quot;&gt;\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/gallryicon&quot;\r\n                        android:layout_width=&quot;70dp&quot;\r\n                        android:layout_height=&quot;70dp&quot;\r\n                        android:src=&quot;@mipmap/ic_launcher&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Gallery&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;28dp&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toEndOf=&quot;@+id/gallryicon&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/layout_setting&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:padding=&quot;12dp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/layout_gallery&quot;\r\n                    app:layout_constraintWidth_percent=&quot;0.6&quot;&gt;\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/settingicon&quot;\r\n                        android:layout_width=&quot;70dp&quot;\r\n                        android:layout_height=&quot;70dp&quot;\r\n                        android:src=&quot;@mipmap/ic_launcher&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Setting&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;28dp&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toEndOf=&quot;@+id/settingicon&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n                &lt;Button\r\n                    android:id=&quot;@+id/btnstop&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:text=&quot;stop service&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/btnstart&quot; /&gt;\r\n    &lt;!--            android:visibility=&quot;gone&quot;--&gt;\r\n                &lt;FrameLayout\r\n                    android:id=&quot;@+id/adViewFrameLayout&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/layout_setting&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nand the main activity code is here where i have implemented setOnClickListeners.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button startBtn;\r\n        ImageView navMenuImageView, upgradeImageView;\r\n        TextView timerTextView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            startBtn = findViewById(R.id.btnstart);\r\n            navMenuImageView = findViewById(R.id.ivNavMenu);\r\n            upgradeImageView = findViewById(R.id.ivUpgrade);\r\n            timerTextView = findViewById(R.id.tvTimer);\r\n    \r\n            //1\r\n            startBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(MainActivity.this, &quot;Start Button Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            //2\r\n            navMenuImageView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(MainActivity.this, &quot;Nav Menu ImageView Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            //3\r\n            upgradeImageView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(MainActivity.this, &quot;Upgrade ImageView Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n    }\r\n\r\n\r\nand these 3 onClickListeners works fine.","title":"android including layout with &lt;include&gt; tag , but any onclick functionality is not working","body":"<p>I have taken your code of content_dg_main_2 and done some changes.</p>\n<p>content_dg_main_2 code is here</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/activity_my_speedo_root&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_gravity=&quot;start&quot;\n    &gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/clHeader&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintLeft_toRightOf=&quot;parent&quot;&gt;\n        &lt;ImageView\n            android:id=&quot;@+id/ivNavMenu&quot;\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:padding=&quot;8dp&quot;\n            android:scaleType=&quot;fitXY&quot;\n            android:src=&quot;@drawable/products&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;!--        android:tint=&quot;@color/black&quot;--&gt;\n        &lt;ImageView\n            android:id=&quot;@+id/ivUpgrade&quot;\n            android:layout_width=&quot;32dp&quot;\n            android:layout_height=&quot;32dp&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:padding=&quot;4dp&quot;\n            android:src=&quot;@drawable/imagegallery&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n             /&gt;\n        &lt;TextView\n            android:id=&quot;@+id/tvHeader&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:text=&quot;Video Recorder&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/ivUpgrade&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/ivNavMenu&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;!--    &lt;Button--&gt;\n&lt;!--        android:id=&quot;@+id/button&quot;--&gt;\n&lt;!--        android:layout_width=&quot;wrap_content&quot;--&gt;\n&lt;!--        android:layout_height=&quot;wrap_content&quot;--&gt;\n&lt;!--        android:onClick=&quot;consume&quot;--&gt;\n&lt;!--        android:text=&quot;Button&quot;--&gt;\n&lt;!--        app:layout_constraintEnd_toEndOf=&quot;parent&quot;--&gt;\n&lt;!--        app:layout_constraintStart_toStartOf=&quot;parent&quot;--&gt;\n&lt;!--        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;--&gt;\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/clHeader&quot;&gt;\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n            &lt;androidx.appcompat.widget.AppCompatButton\n                android:id=&quot;@+id/btnstart&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@mipmap/ic_launcher&quot;\n                app:layout_constraintDimensionRatio=&quot;482:317&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\n            &lt;!--            android:onClick=&quot;onclick&quot;--&gt;\n            &lt;TextView\n                android:id=&quot;@+id/tvTimer&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;64dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;00:00:00&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;30sp&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/btnstart&quot; /&gt;\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/layout_gallery&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:padding=&quot;12dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tvTimer&quot;\n                app:layout_constraintWidth_percent=&quot;0.6&quot;&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/gallryicon&quot;\n                    android:layout_width=&quot;70dp&quot;\n                    android:layout_height=&quot;70dp&quot;\n                    android:src=&quot;@mipmap/ic_launcher&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Gallery&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;28dp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toEndOf=&quot;@+id/gallryicon&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/layout_setting&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:padding=&quot;12dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/layout_gallery&quot;\n                app:layout_constraintWidth_percent=&quot;0.6&quot;&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/settingicon&quot;\n                    android:layout_width=&quot;70dp&quot;\n                    android:layout_height=&quot;70dp&quot;\n                    android:src=&quot;@mipmap/ic_launcher&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Setting&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;28dp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toEndOf=&quot;@+id/settingicon&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n            &lt;Button\n                android:id=&quot;@+id/btnstop&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:text=&quot;stop service&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/btnstart&quot; /&gt;\n&lt;!--            android:visibility=&quot;gone&quot;--&gt;\n            &lt;FrameLayout\n                android:id=&quot;@+id/adViewFrameLayout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:background=&quot;@android:color/transparent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/layout_setting&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and the main activity code is here where i have implemented setOnClickListeners.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Button startBtn;\n    ImageView navMenuImageView, upgradeImageView;\n    TextView timerTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        startBtn = findViewById(R.id.btnstart);\n        navMenuImageView = findViewById(R.id.ivNavMenu);\n        upgradeImageView = findViewById(R.id.ivUpgrade);\n        timerTextView = findViewById(R.id.tvTimer);\n\n        //1\n        startBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(MainActivity.this, &quot;Start Button Clicked&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        //2\n        navMenuImageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(MainActivity.this, &quot;Nav Menu ImageView Clicked&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        //3\n        upgradeImageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(MainActivity.this, &quot;Upgrade ImageView Clicked&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n\n\n    }\n}\n</code></pre>\n<p>and these 3 onClickListeners works fine.</p>\n"}],"owner":{"account_id":11822974,"reputation":31,"user_id":8651592,"display_name":"Sufyan Hashmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693949902,"creation_date":1693930377,"question_id":77046119,"body_markdown":"I have a navigation drawer in my app and one included layout. but when I run the app every image and button with onClickListener not working. in the below code, navigationDrawer code is not included because I want the other buttons to be clicked. I don&#39;t know if there is invisible layout which blocks everything or what\r\n\r\n**main Activity Layout with include tag**\r\n    \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawerLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        tools:openDrawer=&quot;start&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;include\r\n            layout=&quot;@layout/content_dg_main_2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            android:background=&quot;@color/colorPrimary&quot;\r\n            app:headerLayout=&quot;@layout/navigation_drawer_menu_header&quot;\r\n            app:itemIconTint=&quot;@color/white&quot;\r\n            app:itemTextColor=&quot;@color/white&quot;\r\n            app:menu=&quot;@menu/drawer_menu&quot; /&gt;\r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n**this this another layout (content_dg_main_2) with button and images**\r\n\r\n    \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/activity_my_speedo_root&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        &gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/clHeader&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/ivNavMenu&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:padding=&quot;8dp&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                android:src=&quot;@drawable/menu&quot;\r\n                android:tint=&quot;@color/black&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/ivUpgrade&quot;\r\n                android:layout_width=&quot;32dp&quot;\r\n                android:layout_height=&quot;32dp&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:padding=&quot;4dp&quot;\r\n                android:src=&quot;@drawable/ic_upgrade&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:tint=&quot;@color/colorBNBSelected&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvHeader&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:text=&quot;Video Recorder&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/ivUpgrade&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/ivNavMenu&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:onClick=&quot;consume&quot;\r\n            android:text=&quot;Button&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/clHeader&quot;&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.AppCompatButton\r\n                    android:id=&quot;@+id/btnstart&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:onClick=&quot;onclick&quot;\r\n                    android:background=&quot;@mipmap/ic_launcher&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/btnstop&quot;\r\n                    app:layout_constraintDimensionRatio=&quot;482:317&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvTimer&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;00:00:00&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/btnstart&quot; /&gt;\r\n    \r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/layout_gallery&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:background=&quot;@drawable/blue_border_bg&quot;\r\n                    android:padding=&quot;12dp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/tvTimer&quot;\r\n                    app:layout_constraintWidth_percent=&quot;0.6&quot;&gt;\r\n    \r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/gallryicon&quot;\r\n                        android:layout_width=&quot;70dp&quot;\r\n                        android:layout_height=&quot;70dp&quot;\r\n                        android:src=&quot;@mipmap/ic_launcher&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Gallery&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;28dp&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toEndOf=&quot;@+id/gallryicon&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/layout_setting&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:background=&quot;@drawable/green_border_bg&quot;\r\n                    android:padding=&quot;12dp&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/layout_gallery&quot;\r\n                    app:layout_constraintWidth_percent=&quot;0.6&quot;&gt;\r\n    \r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/settingicon&quot;\r\n                        android:layout_width=&quot;70dp&quot;\r\n                        android:layout_height=&quot;70dp&quot;\r\n                        android:src=&quot;@mipmap/ic_launcher&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Setting&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;28dp&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                        app:layout_constraintStart_toEndOf=&quot;@+id/settingicon&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/btnstop&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;stop service&quot;\r\n                    android:visibility=&quot;gone&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/btnstart&quot; /&gt;\r\n    \r\n                &lt;FrameLayout\r\n                    android:id=&quot;@+id/adViewFrameLayout&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/layout_setting&quot; /&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n**java code**\r\n    \r\n    \r\n\r\n    startButton = findViewById(R.id.btnstart);\r\n    navMenuImageView = findViewById(R.id.ivNavMenu);\r\n    upgradeImageView = findViewById(R.id.ivUpgrade);\r\n    timerTextView = findViewById(R.id.tvTimer);\r\n    \r\n    startButton.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            Toast.makeText(MainDGAActivity.this, &quot;start button Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n        }\r\n    });\r\n    \r\n    navMenuImageView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n    \r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n        }\r\n    });\r\n    \r\n    upgradeImageView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            // Create a dialog to display the upgrade layout\r\n            final Dialog upgradeDialog = new Dialog(MainDGAActivity.this);\r\n            upgradeDialog.setContentView(R.layout.purchase_dg_dialog); // Replace with your upgrade layout XML file\r\n    \r\n            // Optionally, set dialog properties like background, title, etc.\r\n            // For example:\r\n           /* upgradeDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n            upgradeDialog.setTitle(&quot;Upgrade&quot;);*/\r\n    \r\n            // Add any logic or UI interactions related to your upgrade screen here\r\n    \r\n            // Add a button to close the dialog\r\n            Button closeButton = upgradeDialog.findViewById(R.id.closeButton);\r\n            closeButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    upgradeDialog.dismiss(); // Close the dialog when the close button is clicked\r\n                }\r\n            });\r\n    \r\n            // Show the dialog\r\n            upgradeDialog.show();\r\n        }\r\n    });","title":"android including layout with &lt;include&gt; tag , but any onclick functionality is not working","body":"<p>I have a navigation drawer in my app and one included layout. but when I run the app every image and button with onClickListener not working. in the below code, navigationDrawer code is not included because I want the other buttons to be clicked. I don't know if there is invisible layout which blocks everything or what</p>\n<p><strong>main Activity Layout with include tag</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawerLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    tools:openDrawer=&quot;start&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;include\n        layout=&quot;@layout/content_dg_main_2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:background=&quot;@color/colorPrimary&quot;\n        app:headerLayout=&quot;@layout/navigation_drawer_menu_header&quot;\n        app:itemIconTint=&quot;@color/white&quot;\n        app:itemTextColor=&quot;@color/white&quot;\n        app:menu=&quot;@menu/drawer_menu&quot; /&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p><strong>this this another layout (content_dg_main_2) with button and images</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:aapt=&quot;http://schemas.android.com/aapt&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/activity_my_speedo_root&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_gravity=&quot;start&quot;\n    &gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/clHeader&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ivNavMenu&quot;\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:padding=&quot;8dp&quot;\n            android:scaleType=&quot;fitXY&quot;\n            android:src=&quot;@drawable/menu&quot;\n            android:tint=&quot;@color/black&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ivUpgrade&quot;\n            android:layout_width=&quot;32dp&quot;\n            android:layout_height=&quot;32dp&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:padding=&quot;4dp&quot;\n            android:src=&quot;@drawable/ic_upgrade&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:tint=&quot;@color/colorBNBSelected&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tvHeader&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:text=&quot;Video Recorder&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/ivUpgrade&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/ivNavMenu&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:onClick=&quot;consume&quot;\n        android:text=&quot;Button&quot;\n        android:visibility=&quot;gone&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/clHeader&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;androidx.appcompat.widget.AppCompatButton\n                android:id=&quot;@+id/btnstart&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:onClick=&quot;onclick&quot;\n                android:background=&quot;@mipmap/ic_launcher&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/btnstop&quot;\n                app:layout_constraintDimensionRatio=&quot;482:317&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintWidth_percent=&quot;0.6&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tvTimer&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;00:00:00&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;30sp&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/btnstart&quot; /&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/layout_gallery&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:background=&quot;@drawable/blue_border_bg&quot;\n                android:padding=&quot;12dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tvTimer&quot;\n                app:layout_constraintWidth_percent=&quot;0.6&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/gallryicon&quot;\n                    android:layout_width=&quot;70dp&quot;\n                    android:layout_height=&quot;70dp&quot;\n                    android:src=&quot;@mipmap/ic_launcher&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Gallery&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;28dp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toEndOf=&quot;@+id/gallryicon&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:id=&quot;@+id/layout_setting&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@drawable/green_border_bg&quot;\n                android:padding=&quot;12dp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/layout_gallery&quot;\n                app:layout_constraintWidth_percent=&quot;0.6&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/settingicon&quot;\n                    android:layout_width=&quot;70dp&quot;\n                    android:layout_height=&quot;70dp&quot;\n                    android:src=&quot;@mipmap/ic_launcher&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Setting&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;28dp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toEndOf=&quot;@+id/settingicon&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/btnstop&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;stop service&quot;\n                android:visibility=&quot;gone&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/btnstart&quot; /&gt;\n\n            &lt;FrameLayout\n                android:id=&quot;@+id/adViewFrameLayout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:background=&quot;@android:color/transparent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/layout_setting&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>java code</strong></p>\n<pre><code>startButton = findViewById(R.id.btnstart);\nnavMenuImageView = findViewById(R.id.ivNavMenu);\nupgradeImageView = findViewById(R.id.ivUpgrade);\ntimerTextView = findViewById(R.id.tvTimer);\n\nstartButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        Toast.makeText(MainDGAActivity.this, &quot;start button Clicked&quot;, Toast.LENGTH_SHORT).show();\n\n    }\n});\n\nnavMenuImageView.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n\n            drawerLayout.closeDrawer(GravityCompat.START);\n    }\n});\n\nupgradeImageView.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        // Create a dialog to display the upgrade layout\n        final Dialog upgradeDialog = new Dialog(MainDGAActivity.this);\n        upgradeDialog.setContentView(R.layout.purchase_dg_dialog); // Replace with your upgrade layout XML file\n\n        // Optionally, set dialog properties like background, title, etc.\n        // For example:\n       /* upgradeDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n        upgradeDialog.setTitle(&quot;Upgrade&quot;);*/\n\n        // Add any logic or UI interactions related to your upgrade screen here\n\n        // Add a button to close the dialog\n        Button closeButton = upgradeDialog.findViewById(R.id.closeButton);\n        closeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                upgradeDialog.dismiss(); // Close the dialog when the close button is clicked\n            }\n        });\n\n        // Show the dialog\n        upgradeDialog.show();\n    }\n});\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1469809369,"post_id":38663360,"comment_id":64707673,"body_markdown":"No. Variable names are merely there for the programmer&#39;s convenience; the compiler throws them away.","body":"No. Variable names are merely there for the programmer&#39;s convenience; the compiler throws them away."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1469809421,"post_id":38663360,"comment_id":64707701,"body_markdown":"Consider what you think it should print for `printLocalVariables(1, one + 1);`.","body":"Consider what you think it should print for <code>printLocalVariables(1, one + 1);</code>."},{"owner":{"account_id":6312955,"reputation":2777,"user_id":4903925,"accept_rate":71,"display_name":"Bonatti"},"score":0,"creation_date":1469809841,"post_id":38663360,"comment_id":64707952,"body_markdown":"You can however get a memory location representation. So, &quot;one&quot; could become @2123d517 and you could trace that &quot;pointer&quot; back and forth. If its the same value, then its the same variable, in that context.","body":"You can however get a memory location representation. So, &quot;one&quot; could become @2123d517 and you could trace that &quot;pointer&quot; back and forth. If its the same value, then its the same variable, in that context."},{"owner":{"account_id":8605281,"reputation":364,"user_id":6445611,"display_name":"Александр Кундрюков"},"score":0,"creation_date":1469810135,"post_id":38663360,"comment_id":64708109,"body_markdown":"@AndyTurner &quot;value_int1, value_int2&quot; for example, thank you for your answer.","body":"@AndyTurner &quot;value_int1, value_int2&quot; for example, thank you for your answer."},{"owner":{"account_id":8605281,"reputation":364,"user_id":6445611,"display_name":"Александр Кундрюков"},"score":0,"creation_date":1469810445,"post_id":38663360,"comment_id":64708274,"body_markdown":"@Bonatti thank you, I want do another magic, I need to convert variable one to string &quot;one&quot;","body":"@Bonatti thank you, I want do another magic, I need to convert variable one to string &quot;one&quot;"},{"owner":{"account_id":6312955,"reputation":2777,"user_id":4903925,"accept_rate":71,"display_name":"Bonatti"},"score":0,"creation_date":1469811205,"post_id":38663360,"comment_id":64708627,"body_markdown":"As far as I can tell, your &quot;problem&quot; is to decompile a binary file, and get the code associated with it. If this is it, then just search for any decompiler such as [this](http://www.javadecompilers.com/) one, that is even web based that can decompile Java, Dalvik, Python, etc. State what your problem is directly, what you tried, and what you expected/wanted to happen","body":"As far as I can tell, your &quot;problem&quot; is to decompile a binary file, and get the code associated with it. If this is it, then just search for any decompiler such as <a href=\"http://www.javadecompilers.com/\" rel=\"nofollow noreferrer\">this</a> one, that is even web based that can decompile Java, Dalvik, Python, etc. State what your problem is directly, what you tried, and what you expected/wanted to happen"}],"answers":[{"tags":[],"owner":{"account_id":5074801,"reputation":5481,"user_id":4072509,"display_name":"apetranzilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469809470,"creation_date":1469809470,"answer_id":38663451,"question_id":38663360,"body_markdown":"No, it&#39;s not possible. Only the variable values are passed, no data that could give you the name is available.","title":"It is possible to get local variable names programmatically in Java or Kotlin?","body":"<p>No, it's not possible. Only the variable values are passed, no data that could give you the name is available.</p>\n"},{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1469810721,"creation_date":1469810721,"answer_id":38663770,"question_id":38663360,"body_markdown":"Theoretically, it is possible.\r\n\r\nYou can use a byte code parser like ASM to extract a method&#39;s local variable table from the class file of the declaring class. This table contains the names of all local variables and an offset for their validity to identify the declaration order.\r\n\r\nDo however note that this attribute is optional. A compiler can omitt adding this debug information. ","title":"It is possible to get local variable names programmatically in Java or Kotlin?","body":"<p>Theoretically, it is possible.</p>\n\n<p>You can use a byte code parser like ASM to extract a method's local variable table from the class file of the declaring class. This table contains the names of all local variables and an offset for their validity to identify the declaration order.</p>\n\n<p>Do however note that this attribute is optional. A compiler can omitt adding this debug information. </p>\n"},{"tags":[],"owner":{"account_id":3786966,"reputation":32456,"user_id":3144601,"accept_rate":75,"display_name":"voddan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469811966,"creation_date":1469811966,"answer_id":38664073,"question_id":38663360,"body_markdown":"In the case like your example `one` and `two` will be inlined in the call site and leave no trail in the compiled code. Ups.\r\n\r\nIf all you want is easy logging, and you are using InteliJ (you should!), then use code templates. They allow one to use the local name, so you&#39;ll type `one.log&lt;tab&gt;` and get `one.log(&quot;one&quot;)`, for example","title":"It is possible to get local variable names programmatically in Java or Kotlin?","body":"<p>In the case like your example <code>one</code> and <code>two</code> will be inlined in the call site and leave no trail in the compiled code. Ups.</p>\n\n<p>If all you want is easy logging, and you are using InteliJ (you should!), then use code templates. They allow one to use the local name, so you'll type <code>one.log&lt;tab&gt;</code> and get <code>one.log(\"one\")</code>, for example</p>\n"},{"tags":[],"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469831558,"creation_date":1469830970,"answer_id":38668296,"question_id":38663360,"body_markdown":"This is an interesting question. But What is the purpose? Is it just an exercise?\r\n\r\nYes, getting local variable names programmatically is possible under certain conditions.\r\n\r\n1. According to some definitions, in java, function parameters are a kind of local variable. You can get those , if the code was compiled using debug information, with java reflection, method.getParameterTypes()\r\n\r\n2. If you have a .class file compiled with debug information, you can read it the local variables from it, for example using asm&#39;s ClassReader.\r\nThe following code looks at the locals of class A&#39;s function f1\r\n\r\nHere is the code:\r\n\r\n    import java.io.File;\r\n    \r\n    import java.io.FileInputStream;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import java.util.List;\r\n    \r\n    \r\n    import org.objectweb.asm.ClassReader;\r\n    \r\n    import org.objectweb.asm.ClassVisitor;\r\n    \r\n    import org.objectweb.asm.tree.ClassNode;\r\n    \r\n    import org.objectweb.asm.tree.LocalVariableNode;\r\n    \r\n    import org.objectweb.asm.tree.MethodNode;\r\n    \r\n    public class Example {\r\n    \tpublic static void main(String[] args) throws FileNotFoundException, IOException {\r\n    \t\tClassReader reader = new ClassReader(new FileInputStream(new File(&quot;A.class&quot;)));\r\n  \r\n    \t\tfinal ClassNode classNode = new ClassNode();\r\n    \t\treader.accept((ClassVisitor) classNode, 0);\r\n    \r\n    \t\tfor (final MethodNode mn : (List&lt;MethodNode&gt;)classNode.methods) {\r\n    \t\t\tif ( mn.name.equals(&quot;f1&quot;))\r\n    \t\t\t\tfor (LocalVariableNode n : (List&lt;LocalVariableNode&gt;)mn.localVariables) {\r\n    \t\t\t\t\tSystem.out.println(n.name);\r\n    \t\t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n3. I&#39;m not sure about this, but I think you could also do it using the LocalVariable class of the Java Debug Interface","title":"It is possible to get local variable names programmatically in Java or Kotlin?","body":"<p>This is an interesting question. But What is the purpose? Is it just an exercise?</p>\n\n<p>Yes, getting local variable names programmatically is possible under certain conditions.</p>\n\n<ol>\n<li><p>According to some definitions, in java, function parameters are a kind of local variable. You can get those , if the code was compiled using debug information, with java reflection, method.getParameterTypes()</p></li>\n<li><p>If you have a .class file compiled with debug information, you can read it the local variables from it, for example using asm's ClassReader.\nThe following code looks at the locals of class A's function f1</p></li>\n</ol>\n\n<p>Here is the code:</p>\n\n<pre><code>import java.io.File;\n\nimport java.io.FileInputStream;\n\nimport java.io.FileNotFoundException;\n\nimport java.io.IOException;\n\nimport java.util.List;\n\n\nimport org.objectweb.asm.ClassReader;\n\nimport org.objectweb.asm.ClassVisitor;\n\nimport org.objectweb.asm.tree.ClassNode;\n\nimport org.objectweb.asm.tree.LocalVariableNode;\n\nimport org.objectweb.asm.tree.MethodNode;\n\npublic class Example {\n    public static void main(String[] args) throws FileNotFoundException, IOException {\n        ClassReader reader = new ClassReader(new FileInputStream(new File(\"A.class\")));\n\n        final ClassNode classNode = new ClassNode();\n        reader.accept((ClassVisitor) classNode, 0);\n\n        for (final MethodNode mn : (List&lt;MethodNode&gt;)classNode.methods) {\n            if ( mn.name.equals(\"f1\"))\n                for (LocalVariableNode n : (List&lt;LocalVariableNode&gt;)mn.localVariables) {\n                    System.out.println(n.name);\n                }\n        }\n    }\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>I'm not sure about this, but I think you could also do it using the LocalVariable class of the Java Debug Interface</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9052714,"reputation":1,"user_id":6742103,"display_name":"Suresh Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693949743,"creation_date":1693949743,"answer_id":77047871,"question_id":38663360,"body_markdown":"Yes \r\n\r\n    objectName::PropertyOfTheObject.name\r\n\r\nThis works only in Kotlin","title":"It is possible to get local variable names programmatically in Java or Kotlin?","body":"<p>Yes</p>\n<pre><code>objectName::PropertyOfTheObject.name\n</code></pre>\n<p>This works only in Kotlin</p>\n"}],"owner":{"account_id":8605281,"reputation":364,"user_id":6445611,"display_name":"Александр Кундрюков"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5101,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":38663770,"answer_count":5,"score":6,"last_activity_date":1693949743,"creation_date":1469809140,"question_id":38663360,"body_markdown":"It is possible to get local variable names programmatically in Java or Kotlin?\r\n\r\nFor example, this code\r\n\r\n    public void printOneTwo() {\r\n        int one = 1;\r\n        int two = 2;\r\n    \r\n        printLocalVariables(one, two);\r\n    }\r\n    \r\n    private void printLocalVariables(Objects... variables) {\r\n        //code\r\n    }\r\n    \r\n    //result: &quot;one, two&quot;\r\n\r\nI need to convert variable `one` to string `&quot;one&quot;`","title":"It is possible to get local variable names programmatically in Java or Kotlin?","body":"<p>It is possible to get local variable names programmatically in Java or Kotlin?</p>\n\n<p>For example, this code</p>\n\n<pre><code>public void printOneTwo() {\n    int one = 1;\n    int two = 2;\n\n    printLocalVariables(one, two);\n}\n\nprivate void printLocalVariables(Objects... variables) {\n    //code\n}\n\n//result: \"one, two\"\n</code></pre>\n\n<p>I need to convert variable <code>one</code> to string <code>\"one\"</code></p>\n"},{"tags":["java","graalvm","graalvm-native-image"],"answers":[{"comments":[{"owner":{"account_id":1493988,"reputation":833,"user_id":1400380,"display_name":"Jordan Silva"},"score":0,"creation_date":1667763076,"post_id":63646236,"comment_id":131239341,"body_markdown":"It doesn&#39;t answer the question. The documentation is horrible, explain only half of the things. For instance, if you have a resource in the root resources folder, where does it go in the native image? My code works when running in the JVM, but doesn&#39;t work in the NI because the file is not found.","body":"It doesn&#39;t answer the question. The documentation is horrible, explain only half of the things. For instance, if you have a resource in the root resources folder, where does it go in the native image? My code works when running in the JVM, but doesn&#39;t work in the NI because the file is not found."},{"owner":{"account_id":5604129,"reputation":318,"user_id":5399914,"display_name":"Munish Chouhan"},"score":0,"creation_date":1668064692,"post_id":63646236,"comment_id":131317563,"body_markdown":"@JordanSilva you can check out the examples don&#39;t in the documentation\nAll resources can be loaded with .*/Resource.*txt$, specified as {&quot;pattern&quot;:&quot;.*/Resource.*txt$&quot;} in a configuration file, or -H:IncludeResources=&#39;.*/Resource.*txt$&#39; on the command line.","body":"@JordanSilva you can check out the examples don&#39;t in the documentation All resources can be loaded with .*/Resource.*txt$, specified as {&quot;pattern&quot;:&quot;.*/Resource.*txt$&quot;} in a configuration file, or -H:IncludeResources=&#39;.*/Resource.*txt$&#39; on the command line."},{"owner":{"account_id":1493988,"reputation":833,"user_id":1400380,"display_name":"Jordan Silva"},"score":1,"creation_date":1668158059,"post_id":63646236,"comment_id":131342466,"body_markdown":"I found how to get things working. You need to use the JVM agent, so all the configuration files are generated for you. This should be the first thing they say in the doc, not that you run on so many issues and spend days until you find it.","body":"I found how to get things working. You need to use the JVM agent, so all the configuration files are generated for you. This should be the first thing they say in the doc, not that you run on so many issues and spend days until you find it."}],"tags":[],"owner":{"account_id":5604129,"reputation":318,"user_id":5399914,"display_name":"Munish Chouhan"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1598698926,"creation_date":1598698926,"answer_id":63646236,"question_id":63638125,"body_markdown":"you can do something like this:\r\n\r\n    native-image -H:IncludeResources= &lt;Java regexp that matches resources to be included in the image&gt; \r\n\r\nto get the full picture, please check this link out\r\nhttps://docs.oracle.com/en/graalvm/enterprise/20/docs/reference-manual/native-image/Resources/","title":"How GraalVM integrate resources file in native image","body":"<p>you can do something like this:</p>\n<pre><code>native-image -H:IncludeResources= &lt;Java regexp that matches resources to be included in the image&gt; \n</code></pre>\n<p>to get the full picture, please check this link out\n<a href=\"https://docs.oracle.com/en/graalvm/enterprise/20/docs/reference-manual/native-image/Resources/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/graalvm/enterprise/20/docs/reference-manual/native-image/Resources/</a></p>\n"}],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2197,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693949553,"creation_date":1598634156,"question_id":63638125,"body_markdown":"Based on [this][1]:\r\n\r\n&gt; By default, the native-image builder will not integrate any of the\r\n&gt; resources which are on the classpath during image building into the\r\n&gt; image it creates. To make calls such as Class.getResource(),\r\n&gt; Class.getResourceAsStream() (or the corresponding ClassLoader methods)\r\n&gt; return specific resources (instead of null), the resources that should\r\n&gt; be accessible at image runtime need to be explicitly specified.\r\n\r\nThat explain how to access the resource file via `getResource()`. I have an use case which I need to load the resources file in WebView for iOS, so basically I try this:\r\n\r\n    public void start(Stage stage) {\r\n    \r\n        WebView webView = new WebView();\r\n    \r\n        URL url = Thread.currentThread().getContextClassLoader().getResource(&quot;demo/index.html&quot;);\r\n        \r\n        System.out.println(&quot;url = &quot; + url);\r\n        System.out.println(&quot;url.toExternalForm = &quot; + url.toExternalForm());\r\n        System.out.println(&quot;url.getPath()= &quot; + url.getPath());\r\n        \r\n        webView.getEngine().load(&quot;file://&quot; + url.getPath());\r\n        \r\n        VBox root = new VBox(webView);\r\n        root.setAlignment(Pos.CENTER);\r\n        Scene scene = new Scene(root, 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\nNone of these `url.toString()`, `url.toExternalForm`, `url.getPath()` return valid loadable path in native images, their value are either `resource:demo/index.html` or `file://demo/index.html`.\r\n\r\nDoes anyone know how the resource files are managed in the native image? Are they kind of merged in the single binary? By any chance, are we able to locate the resource files via file protocol?\r\n\r\n  [1]: https://www.graalvm.org/reference-manual/native-image/Resources/","title":"How GraalVM integrate resources file in native image","body":"<p>Based on <a href=\"https://www.graalvm.org/reference-manual/native-image/Resources/\" rel=\"nofollow noreferrer\">this</a>:</p>\n<blockquote>\n<p>By default, the native-image builder will not integrate any of the\nresources which are on the classpath during image building into the\nimage it creates. To make calls such as Class.getResource(),\nClass.getResourceAsStream() (or the corresponding ClassLoader methods)\nreturn specific resources (instead of null), the resources that should\nbe accessible at image runtime need to be explicitly specified.</p>\n</blockquote>\n<p>That explain how to access the resource file via <code>getResource()</code>. I have an use case which I need to load the resources file in WebView for iOS, so basically I try this:</p>\n<pre><code>public void start(Stage stage) {\n\n    WebView webView = new WebView();\n\n    URL url = Thread.currentThread().getContextClassLoader().getResource(&quot;demo/index.html&quot;);\n    \n    System.out.println(&quot;url = &quot; + url);\n    System.out.println(&quot;url.toExternalForm = &quot; + url.toExternalForm());\n    System.out.println(&quot;url.getPath()= &quot; + url.getPath());\n    \n    webView.getEngine().load(&quot;file://&quot; + url.getPath());\n    \n    VBox root = new VBox(webView);\n    root.setAlignment(Pos.CENTER);\n    Scene scene = new Scene(root, 640, 480);\n    stage.setScene(scene);\n    stage.show();\n}\n</code></pre>\n<p>None of these <code>url.toString()</code>, <code>url.toExternalForm</code>, <code>url.getPath()</code> return valid loadable path in native images, their value are either <code>resource:demo/index.html</code> or <code>file://demo/index.html</code>.</p>\n<p>Does anyone know how the resource files are managed in the native image? Are they kind of merged in the single binary? By any chance, are we able to locate the resource files via file protocol?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-ec2","amazon-elb"],"answers":[{"tags":[],"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693948919,"creation_date":1693948919,"answer_id":77047819,"question_id":77047782,"body_markdown":"That sounds exactly like one of the 2 servers is broken and the load balancer does round robin between them. Every seconds request succeeds as it hits the good node.\r\n\r\nStart with directly invoking the nodes skipping the loadbalancer. One of them must be closed or failed to initialize.","title":"AWS Load Balancer returning 502 on the first request, and succeeding on the second request","body":"<p>That sounds exactly like one of the 2 servers is broken and the load balancer does round robin between them. Every seconds request succeeds as it hits the good node.</p>\n<p>Start with directly invoking the nodes skipping the loadbalancer. One of them must be closed or failed to initialize.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693960992,"post_id":77047847,"comment_id":135827666,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77047847/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29371698,"reputation":21,"user_id":22504169,"display_name":"Uparkalau"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693949356,"creation_date":1693949356,"answer_id":77047847,"question_id":77047782,"body_markdown":"Try to check Security Group and NACL:\r\n\r\nTake a look if EC2 instance&#39;s security group allows incoming traffic on port 80 (HTTP) and 443 (HTTPS). You can try this in the AWS Management Console or AWS CLI commands.\r\n\r\nAWS CLI command:\r\n\r\nbash\r\n\r\n    aws ec2 authorize-security-group-ingress --group-id YOUR_SECURITY_GROUP_ID --protocol tcp --port 80 --cidr YOUR_IP_RANGE","title":"AWS Load Balancer returning 502 on the first request, and succeeding on the second request","body":"<p>Try to check Security Group and NACL:</p>\n<p>Take a look if EC2 instance's security group allows incoming traffic on port 80 (HTTP) and 443 (HTTPS). You can try this in the AWS Management Console or AWS CLI commands.</p>\n<p>AWS CLI command:</p>\n<p>bash</p>\n<pre><code>aws ec2 authorize-security-group-ingress --group-id YOUR_SECURITY_GROUP_ID --protocol tcp --port 80 --cidr YOUR_IP_RANGE\n</code></pre>\n"}],"owner":{"account_id":29374221,"reputation":11,"user_id":22506171,"display_name":"Ali Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77047819,"answer_count":2,"score":0,"last_activity_date":1693949356,"creation_date":1693948479,"question_id":77047782,"body_markdown":"I have a reactjs frontend stored on an s3 bucket (and is accessible through cloudfront) and I have a springboot backend running on an EC2 instance.\r\n\r\nThe ReactJs frontend uses an HTTPs protocol and has an SSL certificate attached to it. And in order to connect to the backend I send a HTTPS api which connects to an Application Load Balancer and connects to the target group on the 80 group so that the springboot application can get the request. \r\n\r\nHowever, whenever I send the first request I get a 502 &quot;Bad Gateway&quot; and then when I send a second request I get a 200 success response. And then this repeats (the third request gives 502 and the fourth request gives 200). I utilized Postman to test this.\r\n\r\nI have been stuck on this for quite a while so I would appreciate any kind of help.\r\n\r\nI have tried adding \r\n`server.tomcat.connection-timeout=300000\r\nserver.tomcat.keep-alive-timeout=300000`\r\nto the application.properties in the springboot app but that does not work.","title":"AWS Load Balancer returning 502 on the first request, and succeeding on the second request","body":"<p>I have a reactjs frontend stored on an s3 bucket (and is accessible through cloudfront) and I have a springboot backend running on an EC2 instance.</p>\n<p>The ReactJs frontend uses an HTTPs protocol and has an SSL certificate attached to it. And in order to connect to the backend I send a HTTPS api which connects to an Application Load Balancer and connects to the target group on the 80 group so that the springboot application can get the request.</p>\n<p>However, whenever I send the first request I get a 502 &quot;Bad Gateway&quot; and then when I send a second request I get a 200 success response. And then this repeats (the third request gives 502 and the fourth request gives 200). I utilized Postman to test this.</p>\n<p>I have been stuck on this for quite a while so I would appreciate any kind of help.</p>\n<p>I have tried adding\n<code>server.tomcat.connection-timeout=300000 server.tomcat.keep-alive-timeout=300000</code>\nto the application.properties in the springboot app but that does not work.</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":4946647,"reputation":1191,"user_id":3981822,"display_name":"Shvet"},"score":1,"creation_date":1428749804,"post_id":29576871,"comment_id":47302482,"body_markdown":"Here is same problem...http://stackoverflow.com/questions/29576097/gradle-sync-error-in-android-studio-when-importing-project?noredirect=1#comment47301067_29576097","body":"Here is same problem...<a href=\"http://stackoverflow.com/questions/29576097/gradle-sync-error-in-android-studio-when-importing-project?noredirect=1#comment47301067_29576097\" title=\"gradle sync error in android studio when importing project\">stackoverflow.com/questions/29576097/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6124259,"reputation":74,"user_id":4776802,"display_name":"Rob Bricheno"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1428750396,"creation_date":1428749664,"answer_id":29577064,"question_id":29576871,"body_markdown":"There is a problem with the SSL certificate configuration on services.gradle.org right now\r\n\r\nhttp://discuss.gradle.org/t/urgent-ssl-apache-configuration-for-services-gradle-org-is-bad/8808\r\n\r\nThe devs are aware and working on a fix.\r\n\r\nThis answer to the same question provides a workaround which may be suitable:\r\n\r\nhttps://stackoverflow.com/a/29576568/4776802","title":"Can&#39;t build Android App with Gradle","body":"<p>There is a problem with the SSL certificate configuration on services.gradle.org right now</p>\n\n<p><a href=\"http://discuss.gradle.org/t/urgent-ssl-apache-configuration-for-services-gradle-org-is-bad/8808\" rel=\"nofollow noreferrer\">http://discuss.gradle.org/t/urgent-ssl-apache-configuration-for-services-gradle-org-is-bad/8808</a></p>\n\n<p>The devs are aware and working on a fix.</p>\n\n<p>This answer to the same question provides a workaround which may be suitable:</p>\n\n<p><a href=\"https://stackoverflow.com/a/29576568/4776802\">https://stackoverflow.com/a/29576568/4776802</a></p>\n"},{"comments":[{"owner":{"account_id":344722,"reputation":4298,"user_id":677185,"accept_rate":85,"display_name":"vincent mathew"},"score":0,"creation_date":1445247397,"post_id":29579962,"comment_id":54226430,"body_markdown":"The problem was caused due to SSL certificate error and this works perfectly fine. Thanks","body":"The problem was caused due to SSL certificate error and this works perfectly fine. Thanks"},{"owner":{"account_id":10305606,"reputation":475,"user_id":7602937,"accept_rate":50,"display_name":"ishan shah"},"score":0,"creation_date":1544160337,"post_id":29579962,"comment_id":94185218,"body_markdown":"It automatically changes to https at the time of build! What to do?","body":"It automatically changes to https at the time of build! What to do?"},{"owner":{"account_id":4507674,"reputation":1952,"user_id":3664628,"display_name":"Leonid Veremchuk"},"score":0,"creation_date":1544183149,"post_id":29579962,"comment_id":94195223,"body_markdown":"I think it&#39;s time to update gradle to more newest version.","body":"I think it&#39;s time to update gradle to more newest version."}],"tags":[],"owner":{"account_id":4507674,"reputation":1952,"user_id":3664628,"display_name":"Leonid Veremchuk"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1428768270,"creation_date":1428768270,"answer_id":29579962,"question_id":29576871,"body_markdown":"Just update gradle/wrapper/gradle-wrapper.properties \r\n\r\nupdate this:\r\n\r\n-from:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-2.3-all.zip\r\n\r\n-to:\r\n\r\n    distributionUrl=http://services.gradle.org/distributions/gradle-2.3-all.zip","title":"Can&#39;t build Android App with Gradle","body":"<p>Just update gradle/wrapper/gradle-wrapper.properties </p>\n\n<p>update this:</p>\n\n<p>-from:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-2.3-all.zip\n</code></pre>\n\n<p>-to:</p>\n\n<pre><code>distributionUrl=http://services.gradle.org/distributions/gradle-2.3-all.zip\n</code></pre>\n"}],"owner":{"account_id":4734355,"reputation":815,"user_id":3829158,"accept_rate":73,"display_name":"rohit-biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29577064,"answer_count":2,"score":2,"last_activity_date":1693948589,"creation_date":1428748458,"question_id":29576871,"body_markdown":"I&#39;m trying to build my Android App using the Gradle command line interface. I&#39;v also add **GRADLE_HOME/bin** to the environment. Firstly, i used gradle init to generate the wrapper, gradlew in my project folder. Now, when i use this wrapper to build my app(**./gradlew build**) or use any of its functionality, it tries to download a gradle-2.3.zip file and fails at it(error message below). What I don&#39;t understand is why gradle try to download gradle again. Also, when I open the download url in my browser, it says that the page is insecure, which might be the cause of the error. What am I doing wrong? Is there a workaround? I have managed to download the zip file using my browser, but I don&#39;t know what to do with it. Here is the exception I got.\r\n\r\nDownloading https://services.gradle.org/distributions/gradle-2.3-bin.zip\r\n\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: \r\n\r\n&gt; java.security.cert.CertificateException: No subject alternative DNS\r\n&gt; name matching services.gradle.org found. \tat\r\n&gt; sun.security.ssl.Alerts.getSSLException(Alerts.java:192) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1884) \tat\r\n&gt; sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276) \tat\r\n&gt; sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270) \tat\r\n&gt; sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1439)\r\n&gt; \tat\r\n&gt; sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:209)\r\n&gt; \tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:878) \tat\r\n&gt; sun.security.ssl.Handshaker.process_record(Handshaker.java:814) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1016) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\r\n&gt; \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\r\n&gt; \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)","title":"Can&#39;t build Android App with Gradle","body":"<p>I'm trying to build my Android App using the Gradle command line interface. I'v also add <strong>GRADLE_HOME/bin</strong> to the environment. Firstly, i used gradle init to generate the wrapper, gradlew in my project folder. Now, when i use this wrapper to build my app(<strong>./gradlew build</strong>) or use any of its functionality, it tries to download a gradle-2.3.zip file and fails at it(error message below). What I don't understand is why gradle try to download gradle again. Also, when I open the download url in my browser, it says that the page is insecure, which might be the cause of the error. What am I doing wrong? Is there a workaround? I have managed to download the zip file using my browser, but I don't know what to do with it. Here is the exception I got.</p>\n\n<p>Downloading <a href=\"https://services.gradle.org/distributions/gradle-2.3-bin.zip\" rel=\"nofollow\">https://services.gradle.org/distributions/gradle-2.3-bin.zip</a></p>\n\n<p>Exception in thread \"main\" javax.net.ssl.SSLHandshakeException: </p>\n\n<blockquote>\n  <p>java.security.cert.CertificateException: No subject alternative DNS\n  name matching services.gradle.org found.  at\n  sun.security.ssl.Alerts.getSSLException(Alerts.java:192)  at\n  sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1884)     at\n  sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)  at\n  sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)  at\n  sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1439)\n    at\n  sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:209)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:878)     at\n  sun.security.ssl.Handshaker.process_record(Handshaker.java:814)   at\n  sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1016)    at\n  sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\n    at\n  sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\n    at\n  sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\n    at\n  sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\n    at\n  sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-webflux","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693948413,"creation_date":1693948413,"answer_id":77047776,"question_id":77047699,"body_markdown":"Sure, why not? `Mono.error` is capable of accepting a `Supplier` object. \r\n\r\nIt&#39;s unclear what your exception cases would be, but you can handle as many cases as you need:\r\n\r\n    Mono.just(userId) \r\n      .flatMap(repo::findById)\r\n      .switchIfEmpty(Mono.error(() -&gt; {\r\n         if(isBadRequest) {\r\n           return new UserBadRequestExeception();\r\n         } else if(notFound) { \r\n           return new UserNotFoundException();\r\n         } else { \r\n           return new GenericException();\r\n         }\r\n      }));\r\n","title":"Can we handle more than one exception with switchIfEmpty in Reactor?","body":"<p>Sure, why not? <code>Mono.error</code> is capable of accepting a <code>Supplier</code> object.</p>\n<p>It's unclear what your exception cases would be, but you can handle as many cases as you need:</p>\n<pre><code>Mono.just(userId) \n  .flatMap(repo::findById)\n  .switchIfEmpty(Mono.error(() -&gt; {\n     if(isBadRequest) {\n       return new UserBadRequestExeception();\n     } else if(notFound) { \n       return new UserNotFoundException();\n     } else { \n       return new GenericException();\n     }\n  }));\n</code></pre>\n"}],"owner":{"account_id":8611883,"reputation":43,"user_id":22504890,"display_name":"user22504890"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693948413,"creation_date":1693947364,"question_id":77047699,"body_markdown":"I am using Mono to retrieve some user with my controller. I have this code \r\n\r\n`Mono.just(userId)\r\n    .flatMap(repo::findById)\r\n    .switchIfEmpty(Mono.error(new UserBadRequestExeception()))`\r\n\r\nAnd I have a test for it which is working, but I would like to write a test for user not found and this is the code : \r\n\r\n `client.post()\r\n                .uri(&quot;/user/invalid&quot;)\r\n                .bodyValue(request)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isNotFound()\r\n                .expectBody()\r\n                .jsonPath(&quot;code&quot;).isEqualTo(&quot;404&quot;)\r\n                .jsonPath(&quot;message&quot;).isEqualTo(&quot;Not Found&quot;)\r\n                .jsonPath(&quot;description&quot;).isEqualTo(&quot;404 NOT_FOUND&quot;)\r\n                .jsonPath(&quot;instance&quot;).exists();\r\n`\r\nBut it gives me \r\n\r\n    java.lang.AssertionError: No value at JSON path &quot;code&quot;. \r\n\r\n\r\nI tried with onErrorResume but without luck. Can we handle one then more exception in the Mono/Flux?","title":"Can we handle more than one exception with switchIfEmpty in Reactor?","body":"<p>I am using Mono to retrieve some user with my controller. I have this code</p>\n<p><code>Mono.just(userId) .flatMap(repo::findById) .switchIfEmpty(Mono.error(new UserBadRequestExeception()))</code></p>\n<p>And I have a test for it which is working, but I would like to write a test for user not found and this is the code :</p>\n<p><code>client.post() .uri(&quot;/user/invalid&quot;) .bodyValue(request) .exchange() .expectStatus() .isNotFound() .expectBody() .jsonPath(&quot;code&quot;).isEqualTo(&quot;404&quot;) .jsonPath(&quot;message&quot;).isEqualTo(&quot;Not Found&quot;) .jsonPath(&quot;description&quot;).isEqualTo(&quot;404 NOT_FOUND&quot;) .jsonPath(&quot;instance&quot;).exists(); </code>\nBut it gives me</p>\n<pre><code>java.lang.AssertionError: No value at JSON path &quot;code&quot;. \n</code></pre>\n<p>I tried with onErrorResume but without luck. Can we handle one then more exception in the Mono/Flux?</p>\n"},{"tags":["java","spring","spring-boot","testing","spring-cloud-stream"],"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":1,"creation_date":1693583811,"post_id":77023895,"comment_id":135784948,"body_markdown":"There could be a lot going on there, but the main issue I see is you are attempting to use Embedded Kafka and Test Binder. Not sure what do you expect from it, given that test binder binds to its internal channels exposed via Input/OutputDestinations and has no knowledge of Kafka","body":"There could be a lot going on there, but the main issue I see is you are attempting to use Embedded Kafka and Test Binder. Not sure what do you expect from it, given that test binder binds to its internal channels exposed via Input/OutputDestinations and has no knowledge of Kafka"},{"owner":{"account_id":1357887,"reputation":235,"user_id":1295910,"display_name":"Guillaume Jobin"},"score":0,"creation_date":1693595899,"post_id":77023895,"comment_id":135786846,"body_markdown":"@OlegZhurakousky I see what you mean, however the app would not start and fail if I don&#39;t provide it with a local or embedded Kafka. Am I missing something in the way to start and use the Test Binder correctly ?","body":"@OlegZhurakousky I see what you mean, however the app would not start and fail if I don&#39;t provide it with a local or embedded Kafka. Am I missing something in the way to start and use the Test Binder correctly ?"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":1,"creation_date":1693915342,"post_id":77023895,"comment_id":135819643,"body_markdown":"The best thing you can do is create a sample and commit it to Github and provide a link so we can take a look","body":"The best thing you can do is create a sample and commit it to Github and provide a link so we can take a look"},{"owner":{"account_id":1357887,"reputation":235,"user_id":1295910,"display_name":"Guillaume Jobin"},"score":0,"creation_date":1693946401,"post_id":77023895,"comment_id":135826059,"body_markdown":"@OlegZhurakousky Here is the repo : https://github.com/gjobin/spring-cloud-stream-test. Thank you for your help.","body":"@OlegZhurakousky Here is the repo : <a href=\"https://github.com/gjobin/spring-cloud-stream-test\" rel=\"nofollow noreferrer\">github.com/gjobin/spring-cloud-stream-test</a>. Thank you for your help."},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":1,"creation_date":1694005148,"post_id":77023895,"comment_id":135834102,"body_markdown":"Your application contains a lot of dependencies that are not needed and rather complex configuration for a case where you are trying to learn something. It also makes it difficult for us to review. So, here are few pointers; If you are using embedded kafka you don&#39;t need docker image if it, you don&#39;t need test binder for it either - just look at some embedded kafka tests that we have in as we are using it ourselves. Since you have 3 functions the only configuration you need is `spring.cloud.function.definition=source;uppercase;sink`. So, slim it down and introduce complexity incrementally","body":"Your application contains a lot of dependencies that are not needed and rather complex configuration for a case where you are trying to learn something. It also makes it difficult for us to review. So, here are few pointers; If you are using embedded kafka you don&#39;t need docker image if it, you don&#39;t need test binder for it either - just look at some embedded kafka tests that we have in as we are using it ourselves. Since you have 3 functions the only configuration you need is <code>spring.cloud.function.definition=source;uppercase;sink</code>. So, slim it down and introduce complexity incrementally"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":1,"creation_date":1694005259,"post_id":77023895,"comment_id":135834127,"body_markdown":"Also, if you do want to use test binder then look at some of these tests- https://github.com/spring-cloud/spring-cloud-stream/tree/main/core/spring-cloud-stream-integration-tests/src/test/java/org/springframework/cloud/stream/function","body":"Also, if you do want to use test binder then look at some of these tests- <a href=\"https://github.com/spring-cloud/spring-cloud-stream/tree/main/core/spring-cloud-stream-integration-tests/src/test/java/org/springframework/cloud/stream/function\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream/tree/main/core/&hellip;</a>"},{"owner":{"account_id":1357887,"reputation":235,"user_id":1295910,"display_name":"Guillaume Jobin"},"score":0,"creation_date":1694174702,"post_id":77023895,"comment_id":135860265,"body_markdown":"@OlegZhurakousky Thank you for the great information and examples.\nI understand how to use the test binder and refactored my code to simplify the use case. However still running into issues with embedded kafka for IT tests (PersonStreamIT class). My consumer does not get any message and it seems the topic does not even get created on the broker, but the app still runs, although with completely different headers on the message. Thank you again for your help.","body":"@OlegZhurakousky Thank you for the great information and examples. I understand how to use the test binder and refactored my code to simplify the use case. However still running into issues with embedded kafka for IT tests (PersonStreamIT class). My consumer does not get any message and it seems the topic does not even get created on the broker, but the app still runs, although with completely different headers on the message. Thank you again for your help."},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":1,"creation_date":1694422491,"post_id":77023895,"comment_id":135884062,"body_markdown":"Please look at our Kafka tests to see how we are using embedded kafka. For example https://github.com/spring-cloud/spring-cloud-stream/blob/b5f9c5093b010f7c8a73856d54580d80854f8568/binders/kafka-binder/spring-cloud-stream-binder-kafka/src/test/java/org/springframework/cloud/stream/binder/kafka/bootstrap/KafkaBinderBootstrapTest.java#L36","body":"Please look at our Kafka tests to see how we are using embedded kafka. For example <a href=\"https://github.com/spring-cloud/spring-cloud-stream/blob/b5f9c5093b010f7c8a73856d54580d80854f8568/binders/kafka-binder/spring-cloud-stream-binder-kafka/src/test/java/org/springframework/cloud/stream/binder/kafka/bootstrap/KafkaBinderBootstrapTest.java#L36\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream/blob/&hellip;</a>"},{"owner":{"account_id":1357887,"reputation":235,"user_id":1295910,"display_name":"Guillaume Jobin"},"score":0,"creation_date":1694460730,"post_id":77023895,"comment_id":135891328,"body_markdown":"Somehow trying to replicate what&#39;s in that class, the `embeddedKafka` is null.\nI&#39;m sure I&#39;m missing something stupid but can&#39;t figure out what I&#39;m doing wrong.\nWould you mind taking a look at my last GH commit, the class PersonStreamIT, and specifically the `e2e` test, along with the comment at the bottom of the class. Thanks again and sorry to be persistent &#128517;","body":"Somehow trying to replicate what&#39;s in that class, the <code>embeddedKafka</code> is null. I&#39;m sure I&#39;m missing something stupid but can&#39;t figure out what I&#39;m doing wrong. Would you mind taking a look at my last GH commit, the class PersonStreamIT, and specifically the <code>e2e</code> test, along with the comment at the bottom of the class. Thanks again and sorry to be persistent 😅"}],"owner":{"account_id":1357887,"reputation":235,"user_id":1295910,"display_name":"Guillaume Jobin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693948159,"creation_date":1693578183,"question_id":77023895,"body_markdown":"New to Spring Cloud Stream, using the latest 3.1.3, I am attempting to successfully write one of each type (Supplier, Function, Consumer) and matching tests, just so that I get a good grasp of the technology before I start implementing real application code.\r\n\r\nHere is the git repo for the example : https://github.com/gjobin/spring-cloud-stream-test\r\n\r\nThat being said, the test for my producer yields a weird loader exception, but only when my `functionTest()` is also included in the suite. If I execute the producer test alone, it passes as expected.\r\n\r\n```\r\njava.lang.ClassCastException: class com.example.model.Person cannot be cast to class [B (com.example.model.Person is in unnamed module of loader &#39;app&#39;; [B is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n\tat com.example.stream.PersonStreamTest.deserializePayload(PersonStreamTest.java:89)\r\n\tat com.example.stream.PersonStreamTest.receiveMessage(PersonStreamTest.java:84)\r\n\tat com.example.stream.PersonStreamTest.producerTest(PersonStreamTest.java:48)\r\n```\r\n\r\nHere is my test code :\r\n```\r\nimport ...\r\n\r\n@SpringBootTest(classes = Application.class)\r\n@Import({TestChannelBinderConfiguration.class})\r\n@ExtendWith(TestLoggerFactoryExtension.class)\r\n@EmbeddedKafka\r\nclass PersonStreamTest {\r\n\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    @Autowired\r\n    private InputDestination input;\r\n\r\n    @Autowired\r\n    private OutputDestination output;\r\n\r\n\r\n    @Test\r\n    void producerTest() {\r\n        Message&lt;Person&gt; message = receiveMessage(Person.class, &quot;thasource.destination&quot;);\r\n        assertThat(message.getPayload()).isEqualTo(Person.builder().firstname(&quot;fn&quot;).lastname(&quot;ln&quot;).build());\r\n        String key = (String) message.getHeaders().get(&quot;kafka_messageKey&quot;);\r\n        assert key != null;\r\n        assertThat(UUID.fromString(key).toString()).isEqualTo(key);\r\n    }\r\n\r\n    @Test\r\n    void functionTest() {\r\n        MessageHeaders messageHeaders = new MessageHeaders(Map.of(&quot;kafka_messageKey&quot;, &quot;theKey&quot;));\r\n        Message&lt;Person&gt; sendMessage = new GenericMessage&lt;&gt;(Person.builder().firstname(&quot;firstname&quot;).lastname(&quot;lastname&quot;).build(), messageHeaders);\r\n        output.clear();\r\n        input.send(sendMessage, &quot;thasource.destination&quot;);\r\n\r\n        Message&lt;Person&gt; message = receiveMessage(Person.class, &quot;uppercased.destination&quot;);\r\n        assertThat(message.getPayload()).isEqualTo(Person.builder().firstname(&quot;firstname&quot;).lastname(&quot;LASTNAME&quot;).build());\r\n        String key = (String) message.getHeaders().get(&quot;kafka_messageKey&quot;);\r\n        assert key != null;\r\n        assertThat(key).isEqualTo(&quot;theKey&quot;);\r\n    }\r\n\r\n    @Test\r\n    void consumerTest() {\r\n        MessageHeaders messageHeaders = new MessageHeaders(Map.of(&quot;kafka_messageKey&quot;, &quot;theKey&quot;));\r\n        Person entity = Person.builder().firstname(&quot;firstname&quot;).lastname(&quot;LASTNAME&quot;).build();\r\n        Message&lt;Person&gt; sendMessage = new GenericMessage&lt;&gt;(entity, messageHeaders);\r\n        output.clear();\r\n\r\n        TestLogger logger = TestLoggerFactory.getTestLogger(PersonStream.class);\r\n        input.send(sendMessage, &quot;uppercased.destination&quot;);\r\n        assertThatIterable(logger.getLoggingEvents()).isEqualTo(List.of(info(entity.toString())));\r\n    }\r\n\r\n    private &lt;T&gt; Message&lt;T&gt; receiveMessage(Class&lt;T&gt; clazz, String bindingName) {\r\n        Message&lt;byte[]&gt; receivedMessage = output.receive(1000, bindingName);\r\n        assertThat(receivedMessage).isNotNull();\r\n        return new GenericMessage&lt;&gt;(deserializePayload(clazz, receivedMessage), receivedMessage.getHeaders());\r\n    }\r\n\r\n    private &lt;T&gt; T deserializePayload(Class&lt;T&gt; clazz, Message&lt;byte[]&gt; m) {\r\n        try {\r\n            return objectMapper.readValue(m.getPayload(), clazz);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy application.yml configuration\r\n```\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: default\r\n\r\n  cloud:\r\n    function:\r\n      definition: source;uppercase;sink\r\n\r\n    stream:\r\n      bindings:\r\n        source-out-0:\r\n          destination: thasource\r\n        uppercase-in-0:\r\n          destination: thasource\r\n          group: ingestor\r\n        uppercase-out-0:\r\n          destination: uppercased\r\n        sink-in-0:\r\n          destination: uppercased\r\n          group: ingestor\r\n      kafka:\r\n        binder:\r\n          brokers: localhost:9092\r\n          producer-properties:\r\n            compression.type: zstd\r\n            key.serializer: org.apache.kafka.common.serialization.StringSerializer\r\n            max.request.size: 15728640\r\n          consumer-properties:\r\n            key.deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n        bindings:\r\n          uppercase-out-0:\r\n            producer:\r\n              messageKeyExpression: headers[&#39;kafka_receivedMessageKey&#39;]\r\n```\r\n\r\nMy stream fuctions are defined as\r\n```\r\nimport ...\r\n\r\n@Service\r\n@Slf4j\r\npublic class PersonStream {\r\n\r\n    @Bean\r\n    public Supplier&lt;Message&lt;Person&gt;&gt; source() {\r\n        return () -&gt; MessageBuilder.withPayload(Person.builder()\r\n                        .firstname(&quot;fn&quot;)\r\n                        .lastname(&quot;ln&quot;)\r\n                        .build())\r\n                .setHeader(KafkaHeaders.KEY, UUID.randomUUID().toString())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Function&lt;Person, Person&gt; uppercase() {\r\n        return p -&gt; {\r\n            p.setLastname(p.getLastname().toUpperCase());\r\n            return p;\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public Consumer&lt;Person&gt; sink() {\r\n        return p -&gt; log.info(p.toString());\r\n    }\r\n}\r\n```\r\n\r\nHelp would be greatly appreciated.\r\nCheers!","title":"ClassCastException testing Spring Cloud Stream producer only when another test is also executed","body":"<p>New to Spring Cloud Stream, using the latest 3.1.3, I am attempting to successfully write one of each type (Supplier, Function, Consumer) and matching tests, just so that I get a good grasp of the technology before I start implementing real application code.</p>\n<p>Here is the git repo for the example : <a href=\"https://github.com/gjobin/spring-cloud-stream-test\" rel=\"nofollow noreferrer\">https://github.com/gjobin/spring-cloud-stream-test</a></p>\n<p>That being said, the test for my producer yields a weird loader exception, but only when my <code>functionTest()</code> is also included in the suite. If I execute the producer test alone, it passes as expected.</p>\n<pre><code>java.lang.ClassCastException: class com.example.model.Person cannot be cast to class [B (com.example.model.Person is in unnamed module of loader 'app'; [B is in module java.base of loader 'bootstrap')\n\n    at com.example.stream.PersonStreamTest.deserializePayload(PersonStreamTest.java:89)\n    at com.example.stream.PersonStreamTest.receiveMessage(PersonStreamTest.java:84)\n    at com.example.stream.PersonStreamTest.producerTest(PersonStreamTest.java:48)\n</code></pre>\n<p>Here is my test code :</p>\n<pre><code>import ...\n\n@SpringBootTest(classes = Application.class)\n@Import({TestChannelBinderConfiguration.class})\n@ExtendWith(TestLoggerFactoryExtension.class)\n@EmbeddedKafka\nclass PersonStreamTest {\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    @Autowired\n    private InputDestination input;\n\n    @Autowired\n    private OutputDestination output;\n\n\n    @Test\n    void producerTest() {\n        Message&lt;Person&gt; message = receiveMessage(Person.class, &quot;thasource.destination&quot;);\n        assertThat(message.getPayload()).isEqualTo(Person.builder().firstname(&quot;fn&quot;).lastname(&quot;ln&quot;).build());\n        String key = (String) message.getHeaders().get(&quot;kafka_messageKey&quot;);\n        assert key != null;\n        assertThat(UUID.fromString(key).toString()).isEqualTo(key);\n    }\n\n    @Test\n    void functionTest() {\n        MessageHeaders messageHeaders = new MessageHeaders(Map.of(&quot;kafka_messageKey&quot;, &quot;theKey&quot;));\n        Message&lt;Person&gt; sendMessage = new GenericMessage&lt;&gt;(Person.builder().firstname(&quot;firstname&quot;).lastname(&quot;lastname&quot;).build(), messageHeaders);\n        output.clear();\n        input.send(sendMessage, &quot;thasource.destination&quot;);\n\n        Message&lt;Person&gt; message = receiveMessage(Person.class, &quot;uppercased.destination&quot;);\n        assertThat(message.getPayload()).isEqualTo(Person.builder().firstname(&quot;firstname&quot;).lastname(&quot;LASTNAME&quot;).build());\n        String key = (String) message.getHeaders().get(&quot;kafka_messageKey&quot;);\n        assert key != null;\n        assertThat(key).isEqualTo(&quot;theKey&quot;);\n    }\n\n    @Test\n    void consumerTest() {\n        MessageHeaders messageHeaders = new MessageHeaders(Map.of(&quot;kafka_messageKey&quot;, &quot;theKey&quot;));\n        Person entity = Person.builder().firstname(&quot;firstname&quot;).lastname(&quot;LASTNAME&quot;).build();\n        Message&lt;Person&gt; sendMessage = new GenericMessage&lt;&gt;(entity, messageHeaders);\n        output.clear();\n\n        TestLogger logger = TestLoggerFactory.getTestLogger(PersonStream.class);\n        input.send(sendMessage, &quot;uppercased.destination&quot;);\n        assertThatIterable(logger.getLoggingEvents()).isEqualTo(List.of(info(entity.toString())));\n    }\n\n    private &lt;T&gt; Message&lt;T&gt; receiveMessage(Class&lt;T&gt; clazz, String bindingName) {\n        Message&lt;byte[]&gt; receivedMessage = output.receive(1000, bindingName);\n        assertThat(receivedMessage).isNotNull();\n        return new GenericMessage&lt;&gt;(deserializePayload(clazz, receivedMessage), receivedMessage.getHeaders());\n    }\n\n    private &lt;T&gt; T deserializePayload(Class&lt;T&gt; clazz, Message&lt;byte[]&gt; m) {\n        try {\n            return objectMapper.readValue(m.getPayload(), clazz);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>My application.yml configuration</p>\n<pre><code>spring:\n  config:\n    activate:\n      on-profile: default\n\n  cloud:\n    function:\n      definition: source;uppercase;sink\n\n    stream:\n      bindings:\n        source-out-0:\n          destination: thasource\n        uppercase-in-0:\n          destination: thasource\n          group: ingestor\n        uppercase-out-0:\n          destination: uppercased\n        sink-in-0:\n          destination: uppercased\n          group: ingestor\n      kafka:\n        binder:\n          brokers: localhost:9092\n          producer-properties:\n            compression.type: zstd\n            key.serializer: org.apache.kafka.common.serialization.StringSerializer\n            max.request.size: 15728640\n          consumer-properties:\n            key.deserializer: org.apache.kafka.common.serialization.StringDeserializer\n        bindings:\n          uppercase-out-0:\n            producer:\n              messageKeyExpression: headers['kafka_receivedMessageKey']\n</code></pre>\n<p>My stream fuctions are defined as</p>\n<pre><code>import ...\n\n@Service\n@Slf4j\npublic class PersonStream {\n\n    @Bean\n    public Supplier&lt;Message&lt;Person&gt;&gt; source() {\n        return () -&gt; MessageBuilder.withPayload(Person.builder()\n                        .firstname(&quot;fn&quot;)\n                        .lastname(&quot;ln&quot;)\n                        .build())\n                .setHeader(KafkaHeaders.KEY, UUID.randomUUID().toString())\n                .build();\n    }\n\n    @Bean\n    public Function&lt;Person, Person&gt; uppercase() {\n        return p -&gt; {\n            p.setLastname(p.getLastname().toUpperCase());\n            return p;\n        };\n    }\n\n    @Bean\n    public Consumer&lt;Person&gt; sink() {\n        return p -&gt; log.info(p.toString());\n    }\n}\n</code></pre>\n<p>Help would be greatly appreciated.\nCheers!</p>\n"},{"tags":["java","quartz-scheduler","scheduler","scheduling"],"owner":{"account_id":10198641,"reputation":91,"user_id":7558680,"display_name":"vkp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693946452,"creation_date":1693944607,"question_id":77047478,"body_markdown":"Hi use Quartz to trigger some trivial cronTrigger based timer jobs which dont do much.\r\nI wish to support putting these jobs ON_ICE and ON_HOLD just like autosys.\r\n\r\nfor context:\r\n\r\n1. ON_ICE -&gt; if a job is put on_ice and taken off_ice and the condition had passed in the past it is ignored and the job is triggered only for its next trigger.\r\n\r\n2. ON_HOLD -&gt; if a job is put on_hold and taken off_hold and the condition had passed in the past it is fired immediately and the job continues its normal execution as per next schedules.\r\n\r\nThe way this can be achieved is using the pauseJob() and resumeJob() functions for a job \r\n\r\nI use the misFireInstruction -&gt; **fireAndProceed** by default since I want other normal jobs to follow that policy.\r\n\r\nbut in case a job is put ON_ICE and taken off_ice its misFire instruction should behave like **doNothing**\r\n\r\nI could not update the misFireInstruction of the cronTrigger during runTime directly I had to unschedule the job and reschedule it with new misFireInstruction everytime a job was put ON_ICE.\r\n\r\nIs there a better way to do it?\r\n\r\nbelow is the code:\r\n\r\nQuartzTimer.java\r\n\r\n        package org.example;\r\n        \r\n        import org.quartz.*;\r\n        import org.quartz.impl.StdSchedulerFactory;\r\n        import org.quartz.impl.triggers.CronTriggerImpl;\r\n        \r\n        import java.util.List;\r\n        \r\n        public class QuartzTimer {\r\n            private Scheduler scheduler;\r\n        \r\n            public QuartzTimer() throws SchedulerException {\r\n                this.scheduler = new StdSchedulerFactory().getScheduler();\r\n            }\r\n        \r\n            public void submitJob(String jobName, String cronSchedule) throws SchedulerException {\r\n                CronTrigger cronTrigger = TriggerBuilder.newTrigger().withIdentity(jobName+&quot;Trigger&quot;)\r\n                        .withSchedule(CronScheduleBuilder.cronSchedule(cronSchedule)\r\n                        //everyJobNeedsToFireOnceAndProceedInCaseOfMisfires        .withMisfireHandlingInstructionFireAndProceed())\r\n                        .forJob(jobName)\r\n                        .build();\r\n        \r\n                JobDetail jobDetail = JobBuilder.newJob(TimerJob.class).withIdentity(jobName).build();\r\n                scheduler.scheduleJob(jobDetail, cronTrigger);\r\n            }\r\n        \r\n            public void suspendJob(String jobName, boolean isOnIce) throws SchedulerException {\r\n                scheduler.pauseJob(JobKey.jobKey(jobName));\r\n                if(isOnIce) {\r\n    /*if Job is supposed to be put ON_ICE then its misFires should be ignored*/\r\n                    updateMisfireInstructionForJob(jobName, CronTrigger.MISFIRE_INSTRUCTION_DO_NOTHING);\r\n                }\r\n            }\r\n        \r\n            public void resumeJob(String jobName) throws SchedulerException {\r\n                scheduler.resumeJob(JobKey.jobKey(jobName));\r\n    /*incase job is taken off_ice or off_hold make sure to revert misfireinstruction*/\r\n                updateMisfireInstructionForJob(jobName, updateMisfireInstructionForJob(jobName, CronTrigger.MISFIRE_INSTRUCTION_FIRE_ONCE_NOW);\r\n            }\r\n        \r\n            public void updateMisfireInstructionForJob(String jobName, int misFireCode) throws SchedulerException {\r\n                final JobKey jobKey = JobKey.jobKey(jobName);\r\n                List&lt;? extends Trigger&gt; triggers = scheduler.getTriggersOfJob(jobKey);\r\n                triggers.forEach(trigger -&gt; {\r\n                    if(trigger instanceof CronTriggerImpl) {\r\n                        CronTriggerImpl cronTrigger = (CronTriggerImpl) trigger;\r\n                        if(cronTrigger.getMisfireInstruction() == misFireCode) {\r\n                            return;\r\n                        }\r\n                        cronTrigger.setMisfireInstruction(misFireCode);\r\n                        try {\r\n                            JobDetail jobDetail = scheduler.getJobDetail(jobKey);\r\n                            scheduler.unscheduleJob(cronTrigger.getKey());\r\n                            scheduler.scheduleJob(jobDetail, cronTrigger);\r\n                        } catch (SchedulerException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n        \r\n        \r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\nTimerJob.java\r\n\r\n    package org.example;\r\n    \r\n    import org.quartz.Job;\r\n    import org.quartz.JobExecutionContext;\r\n    import org.quartz.JobExecutionException;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class TimerJob implements Job {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(TimerJob.class);\r\n    \r\n        @Override\r\n        public void execute(JobExecutionContext context) throws JobExecutionException {\r\n            LOGGER.info(&quot;Executing job: {}&quot;, context.getJobDetail().getKey());\r\n            LOGGER.info(&quot;ScheduledTime: {} fireTime: {}&quot;, context.getScheduledFireTime(), context.getFireTime());\r\n            LOGGER.info(&quot;prevFireTime: {} nextFireTime: {}&quot;, context.getPreviousFireTime(), context.getNextFireTime());\r\n        }\r\n    }\r\n\r\nI know that instead of unscheduling and rescheduling with change misFireinstruction trigger causes loss of trigger history in it with the firetimes etc.\r\n\r\nsomehow if I knew that a particular job execution is a misFire I could just ignore it in case the job was on_ice and was taken off_ice.\r\n\r\nalso is there a way to update the JobDataMap of a jobDetail once a job is scheduled?\r\n\r\n","title":"Support for putting Quartz Jobs ON_ICE and ON_HOLD like autosys","body":"<p>Hi use Quartz to trigger some trivial cronTrigger based timer jobs which dont do much.\nI wish to support putting these jobs ON_ICE and ON_HOLD just like autosys.</p>\n<p>for context:</p>\n<ol>\n<li><p>ON_ICE -&gt; if a job is put on_ice and taken off_ice and the condition had passed in the past it is ignored and the job is triggered only for its next trigger.</p>\n</li>\n<li><p>ON_HOLD -&gt; if a job is put on_hold and taken off_hold and the condition had passed in the past it is fired immediately and the job continues its normal execution as per next schedules.</p>\n</li>\n</ol>\n<p>The way this can be achieved is using the pauseJob() and resumeJob() functions for a job</p>\n<p>I use the misFireInstruction -&gt; <strong>fireAndProceed</strong> by default since I want other normal jobs to follow that policy.</p>\n<p>but in case a job is put ON_ICE and taken off_ice its misFire instruction should behave like <strong>doNothing</strong></p>\n<p>I could not update the misFireInstruction of the cronTrigger during runTime directly I had to unschedule the job and reschedule it with new misFireInstruction everytime a job was put ON_ICE.</p>\n<p>Is there a better way to do it?</p>\n<p>below is the code:</p>\n<p>QuartzTimer.java</p>\n<pre><code>    package org.example;\n    \n    import org.quartz.*;\n    import org.quartz.impl.StdSchedulerFactory;\n    import org.quartz.impl.triggers.CronTriggerImpl;\n    \n    import java.util.List;\n    \n    public class QuartzTimer {\n        private Scheduler scheduler;\n    \n        public QuartzTimer() throws SchedulerException {\n            this.scheduler = new StdSchedulerFactory().getScheduler();\n        }\n    \n        public void submitJob(String jobName, String cronSchedule) throws SchedulerException {\n            CronTrigger cronTrigger = TriggerBuilder.newTrigger().withIdentity(jobName+&quot;Trigger&quot;)\n                    .withSchedule(CronScheduleBuilder.cronSchedule(cronSchedule)\n                    //everyJobNeedsToFireOnceAndProceedInCaseOfMisfires        .withMisfireHandlingInstructionFireAndProceed())\n                    .forJob(jobName)\n                    .build();\n    \n            JobDetail jobDetail = JobBuilder.newJob(TimerJob.class).withIdentity(jobName).build();\n            scheduler.scheduleJob(jobDetail, cronTrigger);\n        }\n    \n        public void suspendJob(String jobName, boolean isOnIce) throws SchedulerException {\n            scheduler.pauseJob(JobKey.jobKey(jobName));\n            if(isOnIce) {\n/*if Job is supposed to be put ON_ICE then its misFires should be ignored*/\n                updateMisfireInstructionForJob(jobName, CronTrigger.MISFIRE_INSTRUCTION_DO_NOTHING);\n            }\n        }\n    \n        public void resumeJob(String jobName) throws SchedulerException {\n            scheduler.resumeJob(JobKey.jobKey(jobName));\n/*incase job is taken off_ice or off_hold make sure to revert misfireinstruction*/\n            updateMisfireInstructionForJob(jobName, updateMisfireInstructionForJob(jobName, CronTrigger.MISFIRE_INSTRUCTION_FIRE_ONCE_NOW);\n        }\n    \n        public void updateMisfireInstructionForJob(String jobName, int misFireCode) throws SchedulerException {\n            final JobKey jobKey = JobKey.jobKey(jobName);\n            List&lt;? extends Trigger&gt; triggers = scheduler.getTriggersOfJob(jobKey);\n            triggers.forEach(trigger -&gt; {\n                if(trigger instanceof CronTriggerImpl) {\n                    CronTriggerImpl cronTrigger = (CronTriggerImpl) trigger;\n                    if(cronTrigger.getMisfireInstruction() == misFireCode) {\n                        return;\n                    }\n                    cronTrigger.setMisfireInstruction(misFireCode);\n                    try {\n                        JobDetail jobDetail = scheduler.getJobDetail(jobKey);\n                        scheduler.unscheduleJob(cronTrigger.getKey());\n                        scheduler.scheduleJob(jobDetail, cronTrigger);\n                    } catch (SchedulerException e) {\n                        throw new RuntimeException(e);\n                    }\n    \n    \n                }\n            });\n        }\n    }\n</code></pre>\n<p>TimerJob.java</p>\n<pre><code>package org.example;\n\nimport org.quartz.Job;\nimport org.quartz.JobExecutionContext;\nimport org.quartz.JobExecutionException;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class TimerJob implements Job {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(TimerJob.class);\n\n    @Override\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        LOGGER.info(&quot;Executing job: {}&quot;, context.getJobDetail().getKey());\n        LOGGER.info(&quot;ScheduledTime: {} fireTime: {}&quot;, context.getScheduledFireTime(), context.getFireTime());\n        LOGGER.info(&quot;prevFireTime: {} nextFireTime: {}&quot;, context.getPreviousFireTime(), context.getNextFireTime());\n    }\n}\n</code></pre>\n<p>I know that instead of unscheduling and rescheduling with change misFireinstruction trigger causes loss of trigger history in it with the firetimes etc.</p>\n<p>somehow if I knew that a particular job execution is a misFire I could just ignore it in case the job was on_ice and was taken off_ice.</p>\n<p>also is there a way to update the JobDataMap of a jobDetail once a job is scheduled?</p>\n"},{"tags":["java","sdk","jira"],"answers":[{"tags":[],"owner":{"account_id":98025,"reputation":436,"user_id":265582,"accept_rate":80,"display_name":"DaveG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693946415,"creation_date":1693946415,"answer_id":77047620,"question_id":75669635,"body_markdown":"The reason that you can&#39;t find your test case is because test cases aren&#39;t a core part of Jira.\r\n\r\nFrom looking at the test case id in your sample code (`XX-T1234`) it looks to me like you might be using something like Zephyr Scale (formerly known as TM4J, formerly known as Adaptavist Test Management / ATM).\r\n\r\nThis is a Jira plugin and so won&#39;t be supported by the Jira REST Client library.\r\n\r\nMy recommendation, if you&#39;re wanting to interact with Zephyr Scale is to check out their Javadocs: https://support.smartbear.com/zephyr-scale-server/javadocs/9.15.1/","title":"I want to use jira-rest-java-client sdk to access test cases of my Jira, but I&#39;m not sure how to","body":"<p>The reason that you can't find your test case is because test cases aren't a core part of Jira.</p>\n<p>From looking at the test case id in your sample code (<code>XX-T1234</code>) it looks to me like you might be using something like Zephyr Scale (formerly known as TM4J, formerly known as Adaptavist Test Management / ATM).</p>\n<p>This is a Jira plugin and so won't be supported by the Jira REST Client library.</p>\n<p>My recommendation, if you're wanting to interact with Zephyr Scale is to check out their Javadocs: <a href=\"https://support.smartbear.com/zephyr-scale-server/javadocs/9.15.1/\" rel=\"nofollow noreferrer\">https://support.smartbear.com/zephyr-scale-server/javadocs/9.15.1/</a></p>\n"}],"owner":{"account_id":5559366,"reputation":1,"user_id":4409378,"display_name":"Tyler Durden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693946415,"creation_date":1678252458,"question_id":75669635,"body_markdown":"My pom.xml:\r\n```xml\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-rest-java-client-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n\r\n        &lt;/dependency&gt;\r\n```\r\nI want to access one of my test case XX-T1234, here are my code.I got 404 error, I&#39;m not sure my sdk and code are right.\r\n\r\n```java\r\nimport com.atlassian.jira.rest.client.api.JiraRestClient;\r\nimport com.atlassian.jira.rest.client.api.ProjectRestClient;\r\nimport com.atlassian.jira.rest.client.api.JiraRestClientFactory;\r\nimport com.atlassian.jira.rest.client.api.domain.Issue;\r\nimport java.net.URI;\r\n\r\n\r\nString jiraUrl = &quot;https://mockrun-jira.xxxxxx.com&quot;;\r\n        String username = &quot;xxx&quot;;\r\n        String token = &quot;&lt;MASK&gt;&quot;;\r\n        String issueKey = &quot;XX-T1234&quot;; // The key of the issue you want to retrieve\r\n\r\n          Issue issue = client.getIssueClient().getIssue(issueKey).claim();\r\nSystem.out.println(&quot;Issue summary: &quot; + issue.getSummary());\r\n\r\n```\r\n     \r\n\r\n- Changed the code\r\n- Search document of Jira","title":"I want to use jira-rest-java-client sdk to access test cases of my Jira, but I&#39;m not sure how to","body":"<p>My pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-rest-java-client-api&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n</code></pre>\n<p>I want to access one of my test case XX-T1234, here are my code.I got 404 error, I'm not sure my sdk and code are right.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.atlassian.jira.rest.client.api.JiraRestClient;\nimport com.atlassian.jira.rest.client.api.ProjectRestClient;\nimport com.atlassian.jira.rest.client.api.JiraRestClientFactory;\nimport com.atlassian.jira.rest.client.api.domain.Issue;\nimport java.net.URI;\n\n\nString jiraUrl = &quot;https://mockrun-jira.xxxxxx.com&quot;;\n        String username = &quot;xxx&quot;;\n        String token = &quot;&lt;MASK&gt;&quot;;\n        String issueKey = &quot;XX-T1234&quot;; // The key of the issue you want to retrieve\n\n          Issue issue = client.getIssueClient().getIssue(issueKey).claim();\nSystem.out.println(&quot;Issue summary: &quot; + issue.getSummary());\n\n</code></pre>\n<ul>\n<li>Changed the code</li>\n<li>Search document of Jira</li>\n</ul>\n"},{"tags":["java","windows","process"],"comments":[{"owner":{"account_id":1245681,"reputation":65784,"user_id":1207195,"accept_rate":100,"display_name":"Adriano Repetti"},"score":0,"creation_date":1454326882,"post_id":35129457,"comment_id":57978967,"body_markdown":"You can use Java Native to import Process32Next() to enumerate processes. For example: http://stackoverflow.com/q/9877993/1207195","body":"You can use Java Native to import Process32Next() to enumerate processes. For example: <a href=\"http://stackoverflow.com/q/9877993/1207195\">stackoverflow.com/q/9877993/1207195</a>"},{"owner":{"account_id":2127644,"reputation":48143,"user_id":1889329,"accept_rate":71,"display_name":"IInspectable"},"score":1,"creation_date":1454332953,"post_id":35129457,"comment_id":57982853,"body_markdown":"Sounds like you are designing a complete bogus system here. What problem are you really trying to solve?","body":"Sounds like you are designing a complete bogus system here. What problem are you really trying to solve?"}],"answers":[{"comments":[{"owner":{"account_id":5786247,"reputation":12927,"user_id":4565367,"accept_rate":75,"display_name":"Francisco Romero"},"score":0,"creation_date":1454329625,"post_id":35129633,"comment_id":57980618,"body_markdown":"Yes it is exactly what I am looking for but trying to do it without execution the process by myself. I know that I have a process active and want to store it on a `Process` variable as you put on your example. Is it a way to do this but without geting all the array of process from the tasklist?","body":"Yes it is exactly what I am looking for but trying to do it without execution the process by myself. I know that I have a process active and want to store it on a <code>Process</code> variable as you put on your example. Is it a way to do this but without geting all the array of process from the tasklist?"},{"owner":{"account_id":17531452,"reputation":79,"user_id":12715384,"display_name":"nullsector76"},"score":0,"creation_date":1626764058,"post_id":35129633,"comment_id":120973504,"body_markdown":"if the process launches another process and closes the other one there is no way of determining if it is alive. this method is flawed.","body":"if the process launches another process and closes the other one there is no way of determining if it is alive. this method is flawed."}],"tags":[],"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454326846,"creation_date":1454326846,"answer_id":35129633,"question_id":35129457,"body_markdown":"The best way would be launching the process from the java instance. The advantages of this approach are that you can be fully sure that the process that is running, is the process you started. With tasklist, it is possible for normal users to start a process with the name as the target, or reuse the pid if the program closes.\r\n\r\nFor information how to start a process, see [this](https://stackoverflow.com/q/3774432/1542723) question.\r\n\r\n &gt;     Process myProcess = Runtime.getRuntime().exec(command);\r\n\r\nYou can then use the methods of Process to monitor the state of the program, for example `myProcess.exitValue()` blocks until the program is closed.\r\n","title":"How to check if a process is running on Windows?","body":"<p>The best way would be launching the process from the java instance. The advantages of this approach are that you can be fully sure that the process that is running, is the process you started. With tasklist, it is possible for normal users to start a process with the name as the target, or reuse the pid if the program closes.</p>\n\n<p>For information how to start a process, see <a href=\"https://stackoverflow.com/q/3774432/1542723\">this</a> question.</p>\n\n<blockquote>\n<pre><code>Process myProcess = Runtime.getRuntime().exec(command);\n</code></pre>\n</blockquote>\n\n<p>You can then use the methods of Process to monitor the state of the program, for example <code>myProcess.exitValue()</code> blocks until the program is closed.</p>\n"},{"comments":[{"owner":{"account_id":5786247,"reputation":12927,"user_id":4565367,"accept_rate":75,"display_name":"Francisco Romero"},"score":0,"creation_date":1454368081,"post_id":35134751,"comment_id":58004630,"body_markdown":"Thanks for answer. I am going to try your code now but I have some questions. Do you use the `ArrayList` because the `BufferedReader` also returns the PID, name of console, etc...? And also, when you do `Runtime.getRuntime().exec(tasksCmd);` if you already has the process running. Is it creates a new one? Thank you again!","body":"Thanks for answer. I am going to try your code now but I have some questions. Do you use the <code>ArrayList</code> because the <code>BufferedReader</code> also returns the PID, name of console, etc...? And also, when you do <code>Runtime.getRuntime().exec(tasksCmd);</code> if you already has the process running. Is it creates a new one? Thank you again!"},{"owner":{"account_id":5786247,"reputation":12927,"user_id":4565367,"accept_rate":75,"display_name":"Francisco Romero"},"score":0,"creation_date":1454414169,"post_id":35134751,"comment_id":58023750,"body_markdown":"OK with your code I could finally get it but I have one more question. What  it&#39;s the purpose for the last line of your code?: `Boolean processFound = procs...` If I ommit it the code works but if I put it my code gives to me an Exception so I think it is unnecesary. Is it?","body":"OK with your code I could finally get it but I have one more question. What  it&#39;s the purpose for the last line of your code?: <code>Boolean processFound = procs...</code> If I ommit it the code works but if I put it my code gives to me an Exception so I think it is unnecesary. Is it?"},{"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"score":0,"creation_date":1454420635,"post_id":35134751,"comment_id":58028510,"body_markdown":"It&#39;s Java8 only. You can replace with a standard for loop which looks for the required text.","body":"It&#39;s Java8 only. You can replace with a standard for loop which looks for the required text."},{"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"score":0,"creation_date":1454421089,"post_id":35134751,"comment_id":58028848,"body_markdown":"The purpose of the last line is to check we didn&#39;t get &quot;INFO: No tasks are running which match the specified criteria.&quot;. (In this case the array has some content but it&#39;s not the required process).","body":"The purpose of the last line is to check we didn&#39;t get &quot;INFO: No tasks are running which match the specified criteria.&quot;. (In this case the array has some content but it&#39;s not the required process)."},{"owner":{"account_id":5786247,"reputation":12927,"user_id":4565367,"accept_rate":75,"display_name":"Francisco Romero"},"score":0,"creation_date":1454453442,"post_id":35134751,"comment_id":58049094,"body_markdown":"Is it the same as put a throws Exception?","body":"Is it the same as put a throws Exception?"},{"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"score":0,"creation_date":1454477647,"post_id":35134751,"comment_id":58056382,"body_markdown":"@Error404 - Join http://chat.stackoverflow.com/rooms/102426/how-to-check-if-a-process-is-running-on-windows so we can check the issue you&#39;re facing.","body":"@Error404 - Join <a href=\"http://chat.stackoverflow.com/rooms/102426/how-to-check-if-a-process-is-running-on-windows\">chat.stackoverflow.com/rooms/102426/&hellip;</a> so we can check the issue you&#39;re facing."}],"tags":[],"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1454342092,"creation_date":1454342092,"answer_id":35134751,"question_id":35129457,"body_markdown":"There is no direct way to query general processes as each OS handles them differently.  \r\nYou kinda stuck with using proxies such as direct OS commands...\r\n\r\nYou **can** however, find a specific process using tasklist.exe with **/fi** parameter.  \r\ne.g: `tasklist.exe /nh /fi &quot;Imagename eq chrome.exe&quot;`  \r\nNote the mandatory double quotes.  \r\nSyntax &amp; usage are available on [MS Technet site][1].\r\n\r\nSame example, filtering for &quot;chrome.exe&quot; in Java:  \r\n\r\n    String findProcess = &quot;chrome.exe&quot;;\r\n    String filenameFilter = &quot;/nh /fi \\&quot;Imagename eq &quot;+findProcess+&quot;\\&quot;&quot;;\r\n    String tasksCmd = System.getenv(&quot;windir&quot;) +&quot;/system32/tasklist.exe &quot;+filenameFilter;\r\n\r\n    Process p = Runtime.getRuntime().exec(tasksCmd);\r\n    BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \r\n    ArrayList&lt;String&gt; procs = new ArrayList&lt;String&gt;();\r\n    String line = null;\r\n    while ((line = input.readLine()) != null) \r\n    \tprocs.add(line);\r\n    \r\n    input.close();\r\n    \r\n    Boolean processFound = procs.stream().filter(row -&gt; row.indexOf(findProcess) &gt; -1).count() &gt; 0;\r\n    // Head-up! If no processes were found - we still get: \r\n    // &quot;INFO: No tasks are running which match the specified criteria.&quot;\r\n\r\n  [1]: https://technet.microsoft.com/en-us/library/bb491010.aspx","title":"How to check if a process is running on Windows?","body":"<p>There is no direct way to query general processes as each OS handles them differently.<br>\nYou kinda stuck with using proxies such as direct OS commands...</p>\n\n<p>You <strong>can</strong> however, find a specific process using tasklist.exe with <strong>/fi</strong> parameter.<br>\ne.g: <code>tasklist.exe /nh /fi \"Imagename eq chrome.exe\"</code><br>\nNote the mandatory double quotes.<br>\nSyntax &amp; usage are available on <a href=\"https://technet.microsoft.com/en-us/library/bb491010.aspx\" rel=\"noreferrer\">MS Technet site</a>.</p>\n\n<p>Same example, filtering for \"chrome.exe\" in Java:  </p>\n\n<pre><code>String findProcess = \"chrome.exe\";\nString filenameFilter = \"/nh /fi \\\"Imagename eq \"+findProcess+\"\\\"\";\nString tasksCmd = System.getenv(\"windir\") +\"/system32/tasklist.exe \"+filenameFilter;\n\nProcess p = Runtime.getRuntime().exec(tasksCmd);\nBufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\nArrayList&lt;String&gt; procs = new ArrayList&lt;String&gt;();\nString line = null;\nwhile ((line = input.readLine()) != null) \n    procs.add(line);\n\ninput.close();\n\nBoolean processFound = procs.stream().filter(row -&gt; row.indexOf(findProcess) &gt; -1).count() &gt; 0;\n// Head-up! If no processes were found - we still get: \n// \"INFO: No tasks are running which match the specified criteria.\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":89374,"reputation":7227,"user_id":246622,"accept_rate":92,"display_name":"tomsv"},"score":1,"creation_date":1542790072,"post_id":46338876,"comment_id":93691237,"body_markdown":"where do you get the pid? If you have the pid you already know that the process is running.","body":"where do you get the pid? If you have the pid you already know that the process is running."},{"owner":{"account_id":12418158,"reputation":438,"user_id":9046497,"display_name":"Nur1"},"score":0,"creation_date":1610569872,"post_id":46338876,"comment_id":116179081,"body_markdown":"What is the difference between &quot;isPresent()&quot; and &quot;get().isAlive()&quot;. Imo &quot;isPresent()&quot; is enough because it also returns false when the process is not alive. Any toughts?","body":"What is the difference between &quot;isPresent()&quot; and &quot;get().isAlive()&quot;. Imo &quot;isPresent()&quot; is enough because it also returns false when the process is not alive. Any toughts?"}],"tags":[],"owner":{"account_id":7667595,"reputation":1909,"user_id":5810894,"display_name":"pan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505982089,"creation_date":1505982089,"answer_id":46338876,"question_id":35129457,"body_markdown":"With Java 9 you can do it like this: \r\n\r\n    Optional&lt;ProcessHandle&gt; processHandle = ProcessHandle.of(pid);\r\n    boolean isrunning = processHandle.isPresent() &amp;&amp; processHandle.get().isAlive();\r\n\r\nYou are now also able, to get some info about the process directly with java. \r\n \r\n    Optional&lt;ProcessHandle&gt; processHandle = ProcessHandle.of(pid);\r\n    if(processHandle.isPresent()) {\r\n     ProcessHandle.Info processInfo = processHandle.get().info();\r\n     System.out.println(&quot;COMMAND: &quot; + processInfo.command().orElse(&quot;&quot;));\r\n     System.out.println(&quot;CLI: &quot; + processInfo.commandLine().orElse(&quot;&quot;));\r\n     System.out.println(&quot;USER: &quot; + processInfo.user().orElse(&quot;&quot;));\r\n     System.out.println(&quot;START TIME: &quot; + processInfo.startInstant().orElse(null));\r\n     System.out.println(&quot;TOTAL CPU: &quot; + processInfo.totalCpuDuration().orElse(null));\r\n     \r\n    }","title":"How to check if a process is running on Windows?","body":"<p>With Java 9 you can do it like this: </p>\n\n<pre><code>Optional&lt;ProcessHandle&gt; processHandle = ProcessHandle.of(pid);\nboolean isrunning = processHandle.isPresent() &amp;&amp; processHandle.get().isAlive();\n</code></pre>\n\n<p>You are now also able, to get some info about the process directly with java. </p>\n\n<pre><code>Optional&lt;ProcessHandle&gt; processHandle = ProcessHandle.of(pid);\nif(processHandle.isPresent()) {\n ProcessHandle.Info processInfo = processHandle.get().info();\n System.out.println(\"COMMAND: \" + processInfo.command().orElse(\"\"));\n System.out.println(\"CLI: \" + processInfo.commandLine().orElse(\"\"));\n System.out.println(\"USER: \" + processInfo.user().orElse(\"\"));\n System.out.println(\"START TIME: \" + processInfo.startInstant().orElse(null));\n System.out.println(\"TOTAL CPU: \" + processInfo.totalCpuDuration().orElse(null));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8139998,"reputation":1398,"user_id":6130501,"display_name":"Adir Dayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693945391,"creation_date":1693945391,"answer_id":77047535,"question_id":35129457,"body_markdown":"You can implement such method easily using Java 9:\r\n\r\n    public boolean isProcessRunning(String processName)\r\n    {\r\n        return ProcessHandle\r\n            .allProcesses()\r\n            .filter(p -&gt; p.info().command().isPresent())\r\n            .anyMatch(n -&gt; n.info().command().orElse(&quot;&quot;).endsWith(processName));\r\n    }\r\n\r\n**Note:** I used `endsWith(..)` because the command contains the full path of the executed file. BTW if you have the PID, look on the accepted answer.","title":"How to check if a process is running on Windows?","body":"<p>You can implement such method easily using Java 9:</p>\n<pre><code>public boolean isProcessRunning(String processName)\n{\n    return ProcessHandle\n        .allProcesses()\n        .filter(p -&gt; p.info().command().isPresent())\n        .anyMatch(n -&gt; n.info().command().orElse(&quot;&quot;).endsWith(processName));\n}\n</code></pre>\n<p><strong>Note:</strong> I used <code>endsWith(..)</code> because the command contains the full path of the executed file. BTW if you have the PID, look on the accepted answer.</p>\n"}],"owner":{"account_id":5786247,"reputation":12927,"user_id":4565367,"accept_rate":75,"display_name":"Francisco Romero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19843,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35134751,"answer_count":4,"score":4,"last_activity_date":1693945391,"creation_date":1454326308,"question_id":35129457,"body_markdown":"What I am trying to do it is a program to know if a process it is active on `Windows` to work with it in `Java`. I looked on the Internet and found two different solutions:\r\n\r\n- [Option 1][1]\r\n- [Option 2][2]\r\n\r\nBut it is not at all what I am looking for. \r\n\r\nAccording to the option 1, I would like a method to make reference to the process (and detect if it is active/running) but without searching in the full `tasklist` and then searching on it. I am searching if there is a direct method to do that.\r\n\r\nI also though to add a filter to the tasklist but could not find any filter to only get the process I am looking for. I saw all the options using `tasklist /?` on my command line.\r\n\r\nThen I searched information about the second option and `wmic` (that I never heard before) and it seems that `wmic` allows you to execute tasks on the command line (correct me if I am wrong please).\r\n\r\nSo, here I have two **questions**:\r\n\r\n- Is there a direct method to know if a process is active on Windows with Java? Trying to avoid searching in the full tasklist or using `wmic`.\r\n\r\n- If it is impossible, what of the two options that I put above would be better if we talk about efficient programming?\r\n\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://stackoverflow.com/questions/19005410/check-if-some-exe-program-is-running-on-the-windows\r\n  [2]: https://stackoverflow.com/questions/2318220/how-to-detect-via-java-whether-a-particular-process-is-running-under-windows","title":"How to check if a process is running on Windows?","body":"<p>What I am trying to do it is a program to know if a process it is active on <code>Windows</code> to work with it in <code>Java</code>. I looked on the Internet and found two different solutions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/19005410/check-if-some-exe-program-is-running-on-the-windows\">Option 1</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2318220/how-to-detect-via-java-whether-a-particular-process-is-running-under-windows\">Option 2</a></li>\n</ul>\n\n<p>But it is not at all what I am looking for. </p>\n\n<p>According to the option 1, I would like a method to make reference to the process (and detect if it is active/running) but without searching in the full <code>tasklist</code> and then searching on it. I am searching if there is a direct method to do that.</p>\n\n<p>I also though to add a filter to the tasklist but could not find any filter to only get the process I am looking for. I saw all the options using <code>tasklist /?</code> on my command line.</p>\n\n<p>Then I searched information about the second option and <code>wmic</code> (that I never heard before) and it seems that <code>wmic</code> allows you to execute tasks on the command line (correct me if I am wrong please).</p>\n\n<p>So, here I have two <strong>questions</strong>:</p>\n\n<ul>\n<li><p>Is there a direct method to know if a process is active on Windows with Java? Trying to avoid searching in the full tasklist or using <code>wmic</code>.</p></li>\n<li><p>If it is impossible, what of the two options that I put above would be better if we talk about efficient programming?</p></li>\n</ul>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","macos","callback","observable","atexit"],"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1693945315,"creation_date":1693926092,"question_id":77045635,"body_markdown":"I am trying to make [AppBundler][1] more observable and have had great success except for one thing. `JLI_Launch` does not return to the caller so I can&#39;t tell if it fails to load the main class (or any other error that would prevent it from starting).\r\n\r\nI would consider the alternative of using `JNI_CreateJavaVM` to start the JVM but I believe I&#39;d have to write a lot more code to replace `JLI_Launch` with it. And I don&#39;t really know if that would address this problem. The main reason I like `JLI_Launch` is that it closely matches what one would type at the command line. And so I believe it&#39;s easier for everyone (me and the app&#39;s end users) to understand.\r\n\r\nSo far, the only workaround I can imagine is using `atexit` and see if the current time is within a second or two of when `JLI_Launch` was called. Of course, I hate that idea but it&#39;s the only thing I can *try* right away.\r\n\r\nIn the meantime, I&#39;ve redirected stderr and can see the error in the log file. But it would be nice if I could prompt the user to look at it. As it stands, the app doesn&#39;t start and I have to *know* to look at the file. It would be nicer if I could display an alert.\r\n\r\n  [1]: https://github.com/TheInfiniteKind/appbundler","title":"Register a callback to handle JLI_Launch failing with &quot;Could not find or load main class&quot;","body":"<p>I am trying to make <a href=\"https://github.com/TheInfiniteKind/appbundler\" rel=\"nofollow noreferrer\">AppBundler</a> more observable and have had great success except for one thing. <code>JLI_Launch</code> does not return to the caller so I can't tell if it fails to load the main class (or any other error that would prevent it from starting).</p>\n<p>I would consider the alternative of using <code>JNI_CreateJavaVM</code> to start the JVM but I believe I'd have to write a lot more code to replace <code>JLI_Launch</code> with it. And I don't really know if that would address this problem. The main reason I like <code>JLI_Launch</code> is that it closely matches what one would type at the command line. And so I believe it's easier for everyone (me and the app's end users) to understand.</p>\n<p>So far, the only workaround I can imagine is using <code>atexit</code> and see if the current time is within a second or two of when <code>JLI_Launch</code> was called. Of course, I hate that idea but it's the only thing I can <em>try</em> right away.</p>\n<p>In the meantime, I've redirected stderr and can see the error in the log file. But it would be nice if I could prompt the user to look at it. As it stands, the app doesn't start and I have to <em>know</em> to look at the file. It would be nicer if I could display an alert.</p>\n"},{"tags":["java","maven","maven-3","maven-metadata"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1367937050,"post_id":16421454,"comment_id":23547106,"body_markdown":"The access to metadata in case of SNAPSHOT&#39;s necessary to get Maven informed about newly created SNAPSHOT&#39;s etc.","body":"The access to metadata in case of SNAPSHOT&#39;s necessary to get Maven informed about newly created SNAPSHOT&#39;s etc."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":8,"creation_date":1367937237,"post_id":16421454,"comment_id":23547223,"body_markdown":"I don&#39;t know why but you can avoid this by using -o option like `mvn clean install -o\n`","body":"I don&#39;t know why but you can avoid this by using -o option like <code>mvn clean install -o </code>"},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1387196391,"post_id":16421454,"comment_id":30842461,"body_markdown":"Actually, the error that the build fails on is &quot;Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode)&quot;. So you should fix that. I can&#39;t image it being related to your internet connection. The dependency resolution warnings are just that: warnings. They&#39;re not the ultimate cause of your build failure.","body":"Actually, the error that the build fails on is &quot;Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode)&quot;. So you should fix that. I can&#39;t image it being related to your internet connection. The dependency resolution warnings are just that: warnings. They&#39;re not the ultimate cause of your build failure."},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1387196487,"post_id":16421454,"comment_id":30842507,"body_markdown":"Perhaps you can clarify your question as you seem to have two questions: 1) Why is my build failing? 2) Why is maven trying to download metadata? user944849&#39;s answer goes a long way to answering 2). If that answers your question, you should accept it.","body":"Perhaps you can clarify your question as you seem to have two questions: 1) Why is my build failing? 2) Why is maven trying to download metadata? user944849&#39;s answer goes a long way to answering 2). If that answers your question, you should accept it."},{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":0,"creation_date":1498464619,"post_id":16421454,"comment_id":76491498,"body_markdown":"Snapshot metadata update can be avoided using `-nsu`, `--no-snapshot-updates` option with `mvn`","body":"Snapshot metadata update can be avoided using <code>-nsu</code>, <code>--no-snapshot-updates</code> option with <code>mvn</code>"}],"answers":[{"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1367937278,"post_id":16421576,"comment_id":23547256,"body_markdown":"@acdcjunior as I said, I haven&#39;t studied that yet. But using a local Maven Repository Manager will solve most of these issues as well (if Maven checks for metadata it will only access your Maven Repository Manager)","body":"@acdcjunior as I said, I haven&#39;t studied that yet. But using a local Maven Repository Manager will solve most of these issues as well (if Maven checks for metadata it will only access your Maven Repository Manager)"},{"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"score":1,"creation_date":1367937803,"post_id":16421576,"comment_id":23547582,"body_markdown":"IMHO a repo manager is usefull only inside an organisation to avoid redundant download and particularly to deploy artifacts specific to this organization (like parent poms and internal modules). Otherwise why adding an additional mirror as you already have the local one ?","body":"IMHO a repo manager is usefull only inside an organisation to avoid redundant download and particularly to deploy artifacts specific to this organization (like parent poms and internal modules). Otherwise why adding an additional mirror as you already have the local one ?"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1367949443,"post_id":16421576,"comment_id":23554393,"body_markdown":"@Puce I don&#39;t see how that would solve the issue. If you don&#39;t want maven to check for metadata across the network at all, it doesn&#39;t matter if it checks from the internet or from intranet repo manager.","body":"@Puce I don&#39;t see how that would solve the issue. If you don&#39;t want maven to check for metadata across the network at all, it doesn&#39;t matter if it checks from the internet or from intranet repo manager."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1368001019,"post_id":16421576,"comment_id":23571762,"body_markdown":"@eis it should help if the &quot;internet connection is flanky&quot; or if one of the repository server is currently not available, as you&#39;re only accessing the maven repository manager in your LAN.","body":"@eis it should help if the &quot;internet connection is flanky&quot; or if one of the repository server is currently not available, as you&#39;re only accessing the maven repository manager in your LAN."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1368009911,"post_id":16421576,"comment_id":23576189,"body_markdown":"@Gap while repo managers are particularly useful in an organisation for the reasons you mentioned, a repo manager is also important to get stable and reproducible builds, which is something I usually aim for even if I&#39;m currently the only developer on the project. It assures that I can wipe my local repo and still am able to reproduce all builds and that other developers could easily join the project. I assure this with Jenkins, which sometimes also runs locally, accesses the repo manager as well and also helps to release my projects -&gt; 2 users accessing the repo manager: Jenkins and myself","body":"@Gap while repo managers are particularly useful in an organisation for the reasons you mentioned, a repo manager is also important to get stable and reproducible builds, which is something I usually aim for even if I&#39;m currently the only developer on the project. It assures that I can wipe my local repo and still am able to reproduce all builds and that other developers could easily join the project. I assure this with Jenkins, which sometimes also runs locally, accesses the repo manager as well and also helps to release my projects -&gt; 2 users accessing the repo manager: Jenkins and myself"}],"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367936830,"creation_date":1367936830,"answer_id":16421576,"question_id":16421454,"body_markdown":"I haven&#39;t studied yet, when Maven does which look-up, but to get stable and reproducible builds, I strongly recommend not to access Maven Respositories directly but to use a Maven Repository Manager such as Nexus.\r\n\r\nHere is the tutorial how to set up your settings file:\r\n\r\nhttp://books.sonatype.com/nexus-book/reference/maven-sect-single-group.html\r\n\r\nhttp://maven.apache.org/repository-management.html\r\n","title":"Why is Maven downloading the maven-metadata.xml every time?","body":"<p>I haven't studied yet, when Maven does which look-up, but to get stable and reproducible builds, I strongly recommend not to access Maven Respositories directly but to use a Maven Repository Manager such as Nexus.</p>\n\n<p>Here is the tutorial how to set up your settings file:</p>\n\n<p><a href=\"http://books.sonatype.com/nexus-book/reference/maven-sect-single-group.html\" rel=\"nofollow\">http://books.sonatype.com/nexus-book/reference/maven-sect-single-group.html</a></p>\n\n<p><a href=\"http://maven.apache.org/repository-management.html\" rel=\"nofollow\">http://maven.apache.org/repository-management.html</a></p>\n"},{"comments":[{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1367938087,"post_id":16421814,"comment_id":23547787,"body_markdown":"So how do you specify the plugin version? I&#39;m sure i have version set in the POM... can you be more specific?","body":"So how do you specify the plugin version? I&#39;m sure i have version set in the POM... can you be more specific?"},{"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"score":0,"creation_date":1367938729,"post_id":16421814,"comment_id":23548293,"body_markdown":"well if you have a `version` element inside the `plugin` element then you&#39;ve indeed configured it, if so i&#39;am out of ideas... Good luck","body":"well if you have a <code>version</code> element inside the <code>plugin</code> element then you&#39;ve indeed configured it, if so i&#39;am out of ideas... Good luck"},{"owner":{"account_id":1344426,"reputation":1432,"user_id":1285431,"accept_rate":41,"display_name":"mzzzzb"},"score":0,"creation_date":1410529814,"post_id":16421814,"comment_id":40372476,"body_markdown":"in my case the version was a range [12.1 12.2) and metadata cache was set to 24 hrs so it would check for a newer version at first build each day","body":"in my case the version was a range [12.1 12.2) and metadata cache was set to 24 hrs so it would check for a newer version at first build each day"},{"owner":{"account_id":3484890,"reputation":1282,"user_id":2916086,"display_name":"yegeniy"},"score":0,"creation_date":1520612739,"post_id":16421814,"comment_id":85401003,"body_markdown":"What about default plugins? such as `maven-surefire-common`, which I haven&#39;t specified?","body":"What about default plugins? such as <code>maven-surefire-common</code>, which I haven&#39;t specified?"},{"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"score":0,"creation_date":1520617695,"post_id":16421814,"comment_id":85403800,"body_markdown":"their version are fixed for a given maven release but you may force a different one using `pluginManagement` section","body":"their version are fixed for a given maven release but you may force a different one using <code>pluginManagement</code> section"}],"tags":[],"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"comment_count":5,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1367937502,"creation_date":1367937502,"answer_id":16421814,"question_id":16421454,"body_markdown":"I suppose because you didn&#39;t specify plugin version so it triggers the download of associated metadata in order to get the last one.\r\n\r\nOtherwise did you try to force local repo usage using -o ?","title":"Why is Maven downloading the maven-metadata.xml every time?","body":"<p>I suppose because you didn't specify plugin version so it triggers the download of associated metadata in order to get the last one.</p>\n\n<p>Otherwise did you try to force local repo usage using -o ?</p>\n"},{"comments":[{"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"score":2,"creation_date":1511341659,"post_id":16425036,"comment_id":81815608,"body_markdown":"The question is: why is it not always &quot;never&quot; (which I think it should be)? Why do you need update daily or always?","body":"The question is: why is it not always &quot;never&quot; (which I think it should be)? Why do you need update daily or always?"},{"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"score":0,"creation_date":1513589501,"post_id":16425036,"comment_id":82695818,"body_markdown":"@Leon During mid-development cycle your project might have &#39;-SNAPSHOT&#39; dependencies for which you might want to always pick the latest built version - at least, on a CI system you probably would, a  developer might have different preference - trading build stability vs getting latest changes.  \nWhat the maven docs (characteristically, unfortunately) fail to make clear is the default values for these if nothing is set.","body":"@Leon During mid-development cycle your project might have &#39;-SNAPSHOT&#39; dependencies for which you might want to always pick the latest built version - at least, on a CI system you probably would, a  developer might have different preference - trading build stability vs getting latest changes.   What the maven docs (characteristically, unfortunately) fail to make clear is the default values for these if nothing is set."},{"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"score":4,"creation_date":1513589908,"post_id":16425036,"comment_id":82696022,"body_markdown":"Best practice is that once released an artifact never changes, so &lt;updatePolicy&gt;never&lt;/updatePolicy&gt; should be appropriate for them.","body":"Best practice is that once released an artifact never changes, so &lt;updatePolicy&gt;never&lt;/updatePolicy&gt; should be appropriate for them."},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1547225708,"post_id":16425036,"comment_id":95132825,"body_markdown":"But what if you update your POM dependencies to a new release? Will it never be updated?","body":"But what if you update your POM dependencies to a new release? Will it never be updated?"},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":6,"creation_date":1547227731,"post_id":16425036,"comment_id":95133864,"body_markdown":"@PhilipRego - the updatePolicy applies per-artifact. If you change a version number or group/artifact ID, that&#39;s a different artifact. If the updatePolicy is &#39;never&#39; then the artifact will be downloaded once, unless refresh is forced with `-U` or the artifact is removed from local repo and thus needs to be redownloaded.","body":"@PhilipRego - the updatePolicy applies per-artifact. If you change a version number or group/artifact ID, that&#39;s a different artifact. If the updatePolicy is &#39;never&#39; then the artifact will be downloaded once, unless refresh is forced with <code>-U</code> or the artifact is removed from local repo and thus needs to be redownloaded."}],"tags":[],"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"comment_count":5,"down_vote_count":1,"up_vote_count":165,"is_accepted":true,"score":164,"last_activity_date":1367947580,"creation_date":1367947580,"answer_id":16425036,"question_id":16421454,"body_markdown":"Look in your `settings.xml` (or, possibly your project&#39;s parent or corporate parent POM) for the `&lt;repositories&gt;` element.  It will look something like the below.\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;http://gotoNexus&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n            &lt;/snapshots&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;updatePolicy&gt;daily&lt;/updatePolicy&gt;\r\n            &lt;/releases&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nNote the `&lt;updatePolicy&gt;` element.  The example tells Maven to contact the remote repo (Nexus in my case, Maven Central if you&#39;re not using your own remote repo) any time Maven needs to retrieve a snapshot artifact during a build, checking to see if there&#39;s a newer copy.  The metadata is required for this.  If there is a newer copy Maven downloads it to your local repo.\r\n\r\nIn the example, for releases, the policy is `daily` so it will check during your first build of the day.  `never` is also a valid option, as described in [Maven settings docs](http://maven.apache.org/settings.html).\r\n\r\nPlugins are resolved separately.  You may have repositories configured for those as well, with different update policies if desired.\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;http://gotoNexus&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;updatePolicy&gt;daily&lt;/updatePolicy&gt;\r\n            &lt;/snapshots&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n            &lt;/releases&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\nSomeone else mentioned the `-o` option.  If you use that, Maven runs in &quot;offline&quot; mode. It knows it has a local repo only, and it won&#39;t contact the remote repo to refresh the artifacts no matter what update policies you use.","title":"Why is Maven downloading the maven-metadata.xml every time?","body":"<p>Look in your <code>settings.xml</code> (or, possibly your project's parent or corporate parent POM) for the <code>&lt;repositories&gt;</code> element.  It will look something like the below.</p>\n\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;url&gt;http://gotoNexus&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n        &lt;/snapshots&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;updatePolicy&gt;daily&lt;/updatePolicy&gt;\n        &lt;/releases&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p>Note the <code>&lt;updatePolicy&gt;</code> element.  The example tells Maven to contact the remote repo (Nexus in my case, Maven Central if you're not using your own remote repo) any time Maven needs to retrieve a snapshot artifact during a build, checking to see if there's a newer copy.  The metadata is required for this.  If there is a newer copy Maven downloads it to your local repo.</p>\n\n<p>In the example, for releases, the policy is <code>daily</code> so it will check during your first build of the day.  <code>never</code> is also a valid option, as described in <a href=\"http://maven.apache.org/settings.html\">Maven settings docs</a>.</p>\n\n<p>Plugins are resolved separately.  You may have repositories configured for those as well, with different update policies if desired.</p>\n\n<pre><code>&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;url&gt;http://gotoNexus&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;updatePolicy&gt;daily&lt;/updatePolicy&gt;\n        &lt;/snapshots&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n        &lt;/releases&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p>Someone else mentioned the <code>-o</code> option.  If you use that, Maven runs in \"offline\" mode. It knows it has a local repo only, and it won't contact the remote repo to refresh the artifacts no matter what update policies you use.</p>\n"},{"comments":[{"owner":{"account_id":3475032,"reputation":581,"user_id":2908475,"accept_rate":78,"display_name":"So S"},"score":0,"creation_date":1522446528,"post_id":31825677,"comment_id":86171811,"body_markdown":"I believe this should be the correct answer, because you can simply call this command when your internet connection is flanky. And this was what was asked ...","body":"I believe this should be the correct answer, because you can simply call this command when your internet connection is flanky. And this was what was asked ..."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1657554541,"post_id":31825677,"comment_id":128832714,"body_markdown":"FWIW, the question was &quot;why does maven always have to download every time when the same app has been built earlier&quot; and that&#39;s what was explained above.","body":"FWIW, the question was &quot;why does maven always have to download every time when the same app has been built earlier&quot; and that&#39;s what was explained above."}],"tags":[],"owner":{"account_id":2576229,"reputation":641,"user_id":2233856,"display_name":"jfc"},"comment_count":2,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1494930435,"creation_date":1438758528,"answer_id":31825677,"question_id":16421454,"body_markdown":"It is possibly to use the flag ` -o,--offline &quot;Work offline&quot;` to prevent that.\r\n\r\nLike this:\r\n\r\n`maven compile -o`","title":"Why is Maven downloading the maven-metadata.xml every time?","body":"<p>It is possibly to use the flag <code>-o,--offline \"Work offline\"</code> to prevent that.</p>\n\n<p>Like this:</p>\n\n<p><code>maven compile -o</code></p>\n"},{"tags":[],"owner":{"account_id":3140464,"reputation":2354,"user_id":2656014,"accept_rate":73,"display_name":"Tomask"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574680804,"creation_date":1574680804,"answer_id":59030599,"question_id":16421454,"body_markdown":"Maven does this because your dependency is in a SNAPSHOT version and maven has no way to detect any changes made to that snapshot version in the repository. Release your artifact and change the version in pom.xml to that version and maven will no longer fetch the metadata file.","title":"Why is Maven downloading the maven-metadata.xml every time?","body":"<p>Maven does this because your dependency is in a SNAPSHOT version and maven has no way to detect any changes made to that snapshot version in the repository. Release your artifact and change the version in pom.xml to that version and maven will no longer fetch the metadata file.</p>\n"},{"tags":[],"owner":{"account_id":5611957,"reputation":94,"user_id":4444384,"display_name":"nowavewater"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628144882,"creation_date":1628144882,"answer_id":68661624,"question_id":16421454,"body_markdown":"In my case I use private repository mananger. While some other maven repository manangers are deprecated. It looks like gradle looks up my private artifacts from deprecated repository managers. Update or remove deprecated repository manangers fix the issue for me.","title":"Why is Maven downloading the maven-metadata.xml every time?","body":"<p>In my case I use private repository mananger. While some other maven repository manangers are deprecated. It looks like gradle looks up my private artifacts from deprecated repository managers. Update or remove deprecated repository manangers fix the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":15042567,"reputation":1,"user_id":10856673,"display_name":"Junaid Nawab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693945170,"creation_date":1693945170,"answer_id":77047517,"question_id":16421454,"body_markdown":"I encountered a similar issue, and I was able to resolve it by removing this line from my `build.gradle` file:\r\n\r\nimplementation &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;\r\n\r\nNote: Kindly check all the dependencies in build.gradle. It is when one of the dependencies is depreciated or has an issue will downloading that dependency file from maven. Thanks alot!\r\n","title":"Why is Maven downloading the maven-metadata.xml every time?","body":"<p>I encountered a similar issue, and I was able to resolve it by removing this line from my <code>build.gradle</code> file:</p>\n<p>implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'</p>\n<p>Note: Kindly check all the dependencies in build.gradle. It is when one of the dependencies is depreciated or has an issue will downloading that dependency file from maven. Thanks alot!</p>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194249,"favorite_count":0,"down_vote_count":0,"up_vote_count":154,"accepted_answer_id":16425036,"answer_count":7,"score":154,"last_activity_date":1693945170,"creation_date":1367936485,"question_id":16421454,"body_markdown":"Below is the error I usually get when my internet connection is flanky when trying to build a web application with maven. \r\n\r\nMy question is that, why does maven always have to download every time when the same app has been built earlier. \r\n\r\nWhat could be wrong in my configuration that makes maven to download every time? \r\n\r\nBelow is an error I get when I try to build offline: \r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building mywebapp 1.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    Downloading: https://raw.github.com/pagecrumb/mungo/mvn-repo/com/pagecrumb/mungo/0.0.1-SNAPSHOT/maven-metadata.xml\r\n    \r\n    [WARNING] Could not transfer metadata com.mywebapp:mungo:0.0.1-SNAPSHOT/maven-metadata.xml \r\n    from/to mungo-mvn-repo (https://raw.github.com/pagecrumb/mungo/mvn-repo/): raw.github.com\r\n    [INFO] \r\n    [INFO] --- maven-war-plugin:2.1.1:war (default-cli) @ mywebapp ---\r\n    [INFO] Packaging webapp\r\n    [INFO] Assembling webapp [mywebapp] in [D:\\workspace\\web\\target\\mywebapp-1.0-SNAPSHOT]\r\n    [INFO] Processing war project\r\n    [INFO] Copying webapp resources [D:\\workspace\\web\\src\\main\\webapp]\r\n    [INFO] Webapp assembled in [1237 msecs]\r\n    [INFO] Building war: D:\\workspace\\web\\target\\mywebapp-1.0-SNAPSHOT.war\r\n    [WARNING] Warning: selected war files include a WEB-INF/web.xml which will be ignored \r\n    (webxml attribute is missing from war task, \r\n    or ignoreWebxml attribute is specified as &#39;true&#39;)\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building com.mywebapp [com.mywebapp] 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    Downloading: http://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-release-plugin/2.1/maven-release-plugin-2.1.pom\r\n    \r\n    [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-release-plugin:2.1: Plugin org.apache.maven.plugins:maven-release-plugin:2.1 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-release-plugin:jar:2.1\r\n    Downloading: http://download.java.net/maven/2/org/apache/maven/plugins/maven-metadata.xml\r\n    Downloading: http://download.java.net/maven/2/org/codehaus/mojo/maven-metadata.xml\r\n    \r\n    397/397 B   \r\n                \r\n    Downloaded: http://download.java.net/maven/2/org/codehaus/mojo/maven-metadata.xml (397 B at 0.0 KB/sec)\r\n    [WARNING] Failure to transfer org.apache.maven.plugins:maven-war-plugin/maven-metadata.xml from http://download.java.net/maven/2 was cached in the local repository, resolution will not be reattempted until the update interval of maven2-repository.dev.java.net has elapsed or updates are forced. Original error: Could not transfer metadata org.apache.maven.plugins:maven-war-plugin/maven-metadata.xml from/to maven2-repository.dev.java.net (http://download.java.net/maven/2): download.java.net\r\n    [INFO] \r\n    [INFO] --- maven-war-plugin:2.3:war (default-cli) @ mywebapp-build ---\r\n    [INFO] Packaging webapp\r\n    [INFO] Assembling webapp [mywebapp-build] in [D:\\workspace\\target\\mywebapp-build-0.0.1-SNAPSHOT]\r\n    [INFO] Processing war project\r\n    [INFO] Webapp assembled in [15 msecs]\r\n    [INFO] Building war: D:\\workspace\\target\\mywebapp-build-0.0.1-SNAPSHOT.war\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary:\r\n    [INFO] \r\n    [INFO] mywebapp ..................................... SUCCESS [27.999s]\r\n    [INFO] com.mywebapp [com.mywebapp] ..................... FAILURE [1:00.406s]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1:41.409s\r\n    [INFO] Finished at: Tue May 07 22:13:38 SGT 2013\r\n    [INFO] Final Memory: 11M/28M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war \r\n    (default-cli) on project mywebapp-build: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode)","title":"Why is Maven downloading the maven-metadata.xml every time?","body":"<p>Below is the error I usually get when my internet connection is flanky when trying to build a web application with maven. </p>\n\n<p>My question is that, why does maven always have to download every time when the same app has been built earlier. </p>\n\n<p>What could be wrong in my configuration that makes maven to download every time? </p>\n\n<p>Below is an error I get when I try to build offline: </p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Building mywebapp 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\nDownloading: https://raw.github.com/pagecrumb/mungo/mvn-repo/com/pagecrumb/mungo/0.0.1-SNAPSHOT/maven-metadata.xml\n\n[WARNING] Could not transfer metadata com.mywebapp:mungo:0.0.1-SNAPSHOT/maven-metadata.xml \nfrom/to mungo-mvn-repo (https://raw.github.com/pagecrumb/mungo/mvn-repo/): raw.github.com\n[INFO] \n[INFO] --- maven-war-plugin:2.1.1:war (default-cli) @ mywebapp ---\n[INFO] Packaging webapp\n[INFO] Assembling webapp [mywebapp] in [D:\\workspace\\web\\target\\mywebapp-1.0-SNAPSHOT]\n[INFO] Processing war project\n[INFO] Copying webapp resources [D:\\workspace\\web\\src\\main\\webapp]\n[INFO] Webapp assembled in [1237 msecs]\n[INFO] Building war: D:\\workspace\\web\\target\\mywebapp-1.0-SNAPSHOT.war\n[WARNING] Warning: selected war files include a WEB-INF/web.xml which will be ignored \n(webxml attribute is missing from war task, \nor ignoreWebxml attribute is specified as 'true')\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building com.mywebapp [com.mywebapp] 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\nDownloading: http://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-release-plugin/2.1/maven-release-plugin-2.1.pom\n\n[WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-release-plugin:2.1: Plugin org.apache.maven.plugins:maven-release-plugin:2.1 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-release-plugin:jar:2.1\nDownloading: http://download.java.net/maven/2/org/apache/maven/plugins/maven-metadata.xml\nDownloading: http://download.java.net/maven/2/org/codehaus/mojo/maven-metadata.xml\n\n397/397 B   \n\nDownloaded: http://download.java.net/maven/2/org/codehaus/mojo/maven-metadata.xml (397 B at 0.0 KB/sec)\n[WARNING] Failure to transfer org.apache.maven.plugins:maven-war-plugin/maven-metadata.xml from http://download.java.net/maven/2 was cached in the local repository, resolution will not be reattempted until the update interval of maven2-repository.dev.java.net has elapsed or updates are forced. Original error: Could not transfer metadata org.apache.maven.plugins:maven-war-plugin/maven-metadata.xml from/to maven2-repository.dev.java.net (http://download.java.net/maven/2): download.java.net\n[INFO] \n[INFO] --- maven-war-plugin:2.3:war (default-cli) @ mywebapp-build ---\n[INFO] Packaging webapp\n[INFO] Assembling webapp [mywebapp-build] in [D:\\workspace\\target\\mywebapp-build-0.0.1-SNAPSHOT]\n[INFO] Processing war project\n[INFO] Webapp assembled in [15 msecs]\n[INFO] Building war: D:\\workspace\\target\\mywebapp-build-0.0.1-SNAPSHOT.war\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] mywebapp ..................................... SUCCESS [27.999s]\n[INFO] com.mywebapp [com.mywebapp] ..................... FAILURE [1:00.406s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1:41.409s\n[INFO] Finished at: Tue May 07 22:13:38 SGT 2013\n[INFO] Final Memory: 11M/28M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war \n(default-cli) on project mywebapp-build: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode)\n</code></pre>\n"},{"tags":["python","java","dll","compilation","programming-languages"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693661034,"post_id":77028377,"comment_id":135791744,"body_markdown":"The duplinks (taken together) should explain how to create a DLL from Java code that you can use from Python.  But there are other ways to call Java code from Python that you may also want to research.","body":"The duplinks (taken together) should explain how to create a DLL from Java code that you can use from Python.  But there are other ways to call Java code from Python that you may also want to research."},{"owner":{"account_id":28051070,"reputation":105,"user_id":21427142,"display_name":"DazzRick"},"score":0,"creation_date":1693666934,"post_id":77028377,"comment_id":135792270,"body_markdown":"Really? What the another way that you recommend me?","body":"Really? What the another way that you recommend me?"},{"owner":{"account_id":28051070,"reputation":105,"user_id":21427142,"display_name":"DazzRick"},"score":0,"creation_date":1693666996,"post_id":77028377,"comment_id":135792276,"body_markdown":"Because I want a closed code, and I don&#39;t know if have a way to convert the two code together","body":"Because I want a closed code, and I don&#39;t know if have a way to convert the two code together"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693668470,"post_id":77028377,"comment_id":135792435,"body_markdown":"*&quot;.... that you may also want to **research**.&quot;*.  Google it.","body":"<i>&quot;.... that you may also want to <b>research</b>.&quot;</i>.  Google it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693668933,"post_id":77028377,"comment_id":135792469,"body_markdown":"Re: the &quot;class format error 51.0&quot; - Yes, one of duplinks specifically says that IKVM only supports Java 7 and earlier!  (It is important to read Q&amp;As carefully.) You could try recompiling your code with a Java 7 compiler, or the Java 8 compiler using the `-target 1.7` option.","body":"Re: the &quot;class format error 51.0&quot; - Yes, one of duplinks specifically says that IKVM only supports Java 7 and earlier!  (It is important to read Q&amp;As carefully.) You could try recompiling your code with a Java 7 compiler, or the Java 8 compiler using the <code>-target 1.7</code> option."},{"owner":{"account_id":28051070,"reputation":105,"user_id":21427142,"display_name":"DazzRick"},"score":0,"creation_date":1693836659,"post_id":77028377,"comment_id":135809083,"body_markdown":"I receive another error, I&#39;ll edit my question and put how I&#39;m doing it","body":"I receive another error, I&#39;ll edit my question and put how I&#39;m doing it"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693870548,"post_id":77028377,"comment_id":135813706,"body_markdown":"The `-target` option is for `javac`.  You (would) need to rebuild all of your classes (and 3rd party library classes) for the Java 7 platform ... THEN use `ikvm`.  (I say &quot;would&quot;.  I haven&#39;t done this myself.)","body":"The <code>-target</code> option is for <code>javac</code>.  You (would) need to rebuild all of your classes (and 3rd party library classes) for the Java 7 platform ... THEN use <code>ikvm</code>.  (I say &quot;would&quot;.  I haven&#39;t done this myself.)"},{"owner":{"account_id":28051070,"reputation":105,"user_id":21427142,"display_name":"DazzRick"},"score":0,"creation_date":1693944311,"post_id":77028377,"comment_id":135825766,"body_markdown":"I undestand, I can&#39;t do it, for a lot of reasons, but principally because I don&#39;t know java, I only wanted to use this library in my python code, because this library is bestest that python libraries that do the same thing.","body":"I undestand, I can&#39;t do it, for a lot of reasons, but principally because I don&#39;t know java, I only wanted to use this library in my python code, because this library is bestest that python libraries that do the same thing."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1693976426,"post_id":77028377,"comment_id":135828886,"body_markdown":"Well ... maybe the answer is &quot;there is no way to do it&quot; that will work with current versions of Java.  Compiling Java libraries to DLLs is a pretty hairy idea.","body":"Well ... maybe the answer is &quot;there is no way to do it&quot; that will work with current versions of Java.  Compiling Java libraries to DLLs is a pretty hairy idea."},{"owner":{"account_id":28051070,"reputation":105,"user_id":21427142,"display_name":"DazzRick"},"score":0,"creation_date":1694178107,"post_id":77028377,"comment_id":135860928,"body_markdown":"I understand... thank you anyway...","body":"I understand... thank you anyway..."}],"owner":{"account_id":28051070,"reputation":105,"user_id":21427142,"display_name":"DazzRick"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693659778,"answer_count":0,"score":0,"last_activity_date":1693944599,"creation_date":1693659575,"question_id":77028377,"body_markdown":"I want to use a [Java project](https://github.com/wmixvideo/nfe) inside Python, I read that [some Python libraries do it](https://stackoverflow.com/questions/3652554/calling-java-from-python). But my question is it: If I do it, can I compile before all the code with pyinstaller or can I **compile the java code in something like a `dll` to use inside the Python code, and use this before in the compiled program?**\r\n\r\nIf somebody can reply, I have another doubt too, if don&#39;t have a way to do **it** with Java, have a way with another language, like PHP?\r\n\r\n**EDITED:**\r\n\r\nSend me to [this question](https://stackoverflow.com/questions/262603/is-there-any-way-to-compile-java-code-into-a-dll), but its out of date... I try to use the first answer, `ikvm`, but I receive this error because the version of java:\r\n\r\n`ikvm-7.2.4630.5\\bin&gt;ikvmc -target:library -out:nfe-4.0.30.dll -recurse:./nfe-4.0.30.jar`\r\n\r\n&gt; Warning IKVMC0108: not a class file &quot;cc/mallet/util/tests/TestPriorityQueue$1.class&quot;, including it as resource    (class format error &quot;51.0&quot;)\r\n\r\n[source](https://stackoverflow.com/questions/7875231/converting-java-to-net-library-using-ikvmc-warning-ikvmc0108-not-a-class-fil)\r\n\r\nBecause the tip from @StephenC, I try to change the command:\r\n\r\n`ikvmc -target:1.7 -out:nfe-4.0.30.dll -recurse:./nfe-4.0.30.jar`\r\n\r\nI receive this error:\r\n\r\n&gt; fatal error IKVMC5009: Invalid value &#39;1.7&#39; for -target option\r\n\r\n**EDITED 09/05:**\r\n\r\nThe links don&#39;t help me to convert the library to Python. I don&#39;t know Java, and don&#39;t know what the Java version from the project that I provided. Please, if somebody know a updated way to convert newest Java libraries to Python, I thank.","title":"Can I compile the java code in something like a dll to use inside the Python code, and use this before in a pyinstaller compiled program?","body":"<p>I want to use a <a href=\"https://github.com/wmixvideo/nfe\" rel=\"nofollow noreferrer\">Java project</a> inside Python, I read that <a href=\"https://stackoverflow.com/questions/3652554/calling-java-from-python\">some Python libraries do it</a>. But my question is it: If I do it, can I compile before all the code with pyinstaller or can I <strong>compile the java code in something like a <code>dll</code> to use inside the Python code, and use this before in the compiled program?</strong></p>\n<p>If somebody can reply, I have another doubt too, if don't have a way to do <strong>it</strong> with Java, have a way with another language, like PHP?</p>\n<p><strong>EDITED:</strong></p>\n<p>Send me to <a href=\"https://stackoverflow.com/questions/262603/is-there-any-way-to-compile-java-code-into-a-dll\">this question</a>, but its out of date... I try to use the first answer, <code>ikvm</code>, but I receive this error because the version of java:</p>\n<p><code>ikvm-7.2.4630.5\\bin&gt;ikvmc -target:library -out:nfe-4.0.30.dll -recurse:./nfe-4.0.30.jar</code></p>\n<blockquote>\n<p>Warning IKVMC0108: not a class file &quot;cc/mallet/util/tests/TestPriorityQueue$1.class&quot;, including it as resource    (class format error &quot;51.0&quot;)</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/questions/7875231/converting-java-to-net-library-using-ikvmc-warning-ikvmc0108-not-a-class-fil\">source</a></p>\n<p>Because the tip from @StephenC, I try to change the command:</p>\n<p><code>ikvmc -target:1.7 -out:nfe-4.0.30.dll -recurse:./nfe-4.0.30.jar</code></p>\n<p>I receive this error:</p>\n<blockquote>\n<p>fatal error IKVMC5009: Invalid value '1.7' for -target option</p>\n</blockquote>\n<p><strong>EDITED 09/05:</strong></p>\n<p>The links don't help me to convert the library to Python. I don't know Java, and don't know what the Java version from the project that I provided. Please, if somebody know a updated way to convert newest Java libraries to Python, I thank.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","java-17"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693915481,"post_id":77040858,"comment_id":135819664,"body_markdown":"First, it isn&#39;t clear, are you modifying an exiting entity instance&#39;s createdBy date trying to get a new row inserted? Where is that createdAt=2023-09-04T21:52:39.860899Z date coming from? As the error states, you cannot update an existing entity&#39;s ID values; JPA will cache entities, and with change tracking, is likely detecting that this was an existing entity previously read in. If that is what you are attempting, you should instead create a copy with the timestamp left blank to let the pre-persist set it.","body":"First, it isn&#39;t clear, are you modifying an exiting entity instance&#39;s createdBy date trying to get a new row inserted? Where is that createdAt=2023-09-04T21:52:39.860899Z date coming from? As the error states, you cannot update an existing entity&#39;s ID values; JPA will cache entities, and with change tracking, is likely detecting that this was an existing entity previously read in. If that is what you are attempting, you should instead create a copy with the timestamp left blank to let the pre-persist set it."},{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":0,"creation_date":1693944363,"post_id":77040858,"comment_id":135825780,"body_markdown":"@Chris I am adding a new entity. I am confused why the exception is thrown because the line in the stack trace points to unrelated code. Nevertheless, as described in my update, I am now using entityManager.detach() to remove the object from the persistence context and then manually setting the timestamp.","body":"@Chris I am adding a new entity. I am confused why the exception is thrown because the line in the stack trace points to unrelated code. Nevertheless, as described in my update, I am now using entityManager.detach() to remove the object from the persistence context and then manually setting the timestamp."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1694006399,"post_id":77040858,"comment_id":135834391,"body_markdown":"So you were reading in an entity, modifying it and then trying to call persist? Detach  might work, but you might also get into problems with change tracking (provider/implementation specific)- you are better off making a copy of the entity to persist as a new instance instead. As for when the exception occurs - persist/save does not require immediate inserts to the database. Instead, the JPA provider can delay statements until required to synchronize to the database (ie on flush or transaction commit, or queries that require synchronization)","body":"So you were reading in an entity, modifying it and then trying to call persist? Detach  might work, but you might also get into problems with change tracking (provider/implementation specific)- you are better off making a copy of the entity to persist as a new instance instead. As for when the exception occurs - persist/save does not require immediate inserts to the database. Instead, the JPA provider can delay statements until required to synchronize to the database (ie on flush or transaction commit, or queries that require synchronization)"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1694007690,"post_id":77040858,"comment_id":135834694,"body_markdown":"@Chris my understanding is TC&#39;s goal is to create versions implicitly: the idea is when JPA have discovered dirty entity and is trying to flush that entity it supposed to update `createdAt` field which is part of composite PK and start considering that entity as new one. No doubts, performing detach (or other tricks) is turning that &quot;implicit magic&quot; into some kind of explicit code, which is actually expressed in wrong words","body":"@Chris my understanding is TC&#39;s goal is to create versions implicitly: the idea is when JPA have discovered dirty entity and is trying to flush that entity it supposed to update <code>createdAt</code> field which is part of composite PK and start considering that entity as new one. No doubts, performing detach (or other tricks) is turning that &quot;implicit magic&quot; into some kind of explicit code, which is actually expressed in wrong words"}],"answers":[{"comments":[{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":0,"creation_date":1693894328,"post_id":77041487,"comment_id":135815615,"body_markdown":"Thanks for the input. The bit about the persistence context was very helpful.\n\nI was able to get my code to work by creating a new persistence context around the method that has a call to `permissionRepository.findMostRecentPermissionById()`. However, I&#39;m still not sure why that helps. Why would the persistence context matter if the only thing that is in a new context is a read only database interaction to a different JPA repository? The method that is fetching and modifying the role and then calling `repo.save(roleEntity)` is all still in the same context.","body":"Thanks for the input. The bit about the persistence context was very helpful.  I was able to get my code to work by creating a new persistence context around the method that has a call to <code>permissionRepository.findMostRecentPermissionById()</code>. However, I&#39;m still not sure why that helps. Why would the persistence context matter if the only thing that is in a new context is a read only database interaction to a different JPA repository? The method that is fetching and modifying the role and then calling <code>repo.save(roleEntity)</code> is all still in the same context."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693882286,"creation_date":1693882286,"answer_id":77041487,"question_id":77040858,"body_markdown":"I&#39;m not sure about the correctness of your schema design - typically such desires (i.e. maintaining a set of object versions and querying the latest one primarily) are being implemented via more complex approaches, for example:\r\n\r\n```\r\nobject_id, // unique identifier of version\r\nchronicle_id, // identifier of root version\r\nantecedent_id, // identifier of previous version\r\nlatest_flag // denotes the latest version\r\n```\r\n\r\nNevertheless, Hibernate does not support changing entity identifier, that is stated clearly in [documentation](https://docs.jboss.org/hibernate/orm/5.0/mappingGuide/en-US/html/ch06.html):\r\n\r\n&gt; Hibernate and JPA both make the following assumptions about the corresponding database column(s):\r\n&gt;\r\n&gt;- UNIQUE - The values must uniquely identify each row.\r\n&gt;- NOT NULL - The values cannot be null. For composite ids, no part can be null.\r\n&gt; - IMMUTABLE - The values, once inserted, can never be changed. This is more a general guide, than a hard-fast rule as opinions vary. JPA defines the behavior of changing the value of the identifier attribute to be undefined; **Hibernate simply does not support that**. In cases where the values for the PK you have chosen will be updated, Hibernate recommends mapping the mutable value as a natural id, and use a surrogate id for the PK. See Chapter 7, Natural Ids.\r\n\r\nTechnically, the above is stated for columns in database, but the same applies for entity classes as well.\r\n\r\n**Answering the initial question &quot;Why does it sometimes work and sometimes does not?&quot;**\r\n\r\nThe actual behaviour depends on whether the entity to be modified is known to persistent context or not, if persistent context has no information about entity to be modified it considers that entity as new and everything works &quot;as expected&quot;, otherwise exception gets thrown, for example:\r\n\r\n\r\n```\r\nclass EntityService {\r\n\r\n\r\n  private EntityRepo entityRepo;\r\n\r\n  // this throws exception\r\n  // because spring maintains single session (persistence context)\r\n  // per transaction, so both  entityRepo.findById and entityRepo.save\r\n  // calls share the same instance of persistence context\r\n\r\n  @Transactional\r\n  void save1() {\r\n     Entity entity = entityRepo.findById(...);\r\n     entity.updateTimestamp();\r\n     entityRepo.save(entity);\r\n  }\r\n\r\n  // this method does not throw exception\r\n  // because entityRepo.findById and entityRepo.save calls\r\n  // do not share the same instance of persistence context\r\n\r\n  // @Transactional (propagation = Propagation.REQUIRES_NEW)\r\n  void save2() {\r\n     Entity entity = entityRepo.findById(...);\r\n     entity.updateTimestamp();\r\n     entityRepo.save(entity);\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why is one JPA entity complaining about modifying the identifier while another is not?","body":"<p>I'm not sure about the correctness of your schema design - typically such desires (i.e. maintaining a set of object versions and querying the latest one primarily) are being implemented via more complex approaches, for example:</p>\n<pre><code>object_id, // unique identifier of version\nchronicle_id, // identifier of root version\nantecedent_id, // identifier of previous version\nlatest_flag // denotes the latest version\n</code></pre>\n<p>Nevertheless, Hibernate does not support changing entity identifier, that is stated clearly in <a href=\"https://docs.jboss.org/hibernate/orm/5.0/mappingGuide/en-US/html/ch06.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Hibernate and JPA both make the following assumptions about the corresponding database column(s):</p>\n<ul>\n<li>UNIQUE - The values must uniquely identify each row.</li>\n<li>NOT NULL - The values cannot be null. For composite ids, no part can be null.</li>\n<li>IMMUTABLE - The values, once inserted, can never be changed. This is more a general guide, than a hard-fast rule as opinions vary. JPA defines the behavior of changing the value of the identifier attribute to be undefined; <strong>Hibernate simply does not support that</strong>. In cases where the values for the PK you have chosen will be updated, Hibernate recommends mapping the mutable value as a natural id, and use a surrogate id for the PK. See Chapter 7, Natural Ids.</li>\n</ul>\n</blockquote>\n<p>Technically, the above is stated for columns in database, but the same applies for entity classes as well.</p>\n<p><strong>Answering the initial question &quot;Why does it sometimes work and sometimes does not?&quot;</strong></p>\n<p>The actual behaviour depends on whether the entity to be modified is known to persistent context or not, if persistent context has no information about entity to be modified it considers that entity as new and everything works &quot;as expected&quot;, otherwise exception gets thrown, for example:</p>\n<pre><code>class EntityService {\n\n\n  private EntityRepo entityRepo;\n\n  // this throws exception\n  // because spring maintains single session (persistence context)\n  // per transaction, so both  entityRepo.findById and entityRepo.save\n  // calls share the same instance of persistence context\n\n  @Transactional\n  void save1() {\n     Entity entity = entityRepo.findById(...);\n     entity.updateTimestamp();\n     entityRepo.save(entity);\n  }\n\n  // this method does not throw exception\n  // because entityRepo.findById and entityRepo.save calls\n  // do not share the same instance of persistence context\n\n  // @Transactional (propagation = Propagation.REQUIRES_NEW)\n  void save2() {\n     Entity entity = entityRepo.findById(...);\n     entity.updateTimestamp();\n     entityRepo.save(entity);\n  }\n\n\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693944258,"creation_date":1693865733,"question_id":77040858,"body_markdown":"I am working on an authorization microservice using Springboot. I have the notion of permissions, roles, and users, each of which is represented as an `@Entity` class with a corresponding `JpaRepository`.\r\n\r\nEach `@Entity` class has an `@IdClass` that consists of a string ID and a timestamp (the field is called `createdAt`). The idea is that any modifications to one of the entity objects will create a new row in the database. I am unable to modify this database schema. I ran into the issue where modifying the ID (the timestamp portion) on updates threw a `HibernateExeption`. My solution was to use `@PrePersist` to modify the timestamp.\r\n```\r\n  @PrePersist\r\n  private void updateTimestamp() {\r\n    createdAt = Instant.now();\r\n  }\r\n```\r\nThis seemed to work for my permissions entity. However, when I test updating my role entity, I am now getting the following error\r\n```\r\norg.hibernate.HibernateException: identifier of an instance of com.example.auth.model.Role was altered from RoleId(roleId=TEST_ROLE_R2, createdAt=2023-09-04T21:52:39.860899Z) to RoleId(roleId=TEST_ROLE_R2, createdAt=2023-08-31T23:12:25.927743Z)\r\n```\r\nwith the same `@PrePersist` method. \r\n\r\nAnother thing that is odd is that the exception seems to get thrown when accessing the permission repository. When updating/creating a role, the information for the associated permissions is referenced.\r\n\r\nWhere the exception is thrown\r\n```\r\npermissionRepository.findMostRecentPermissionById(p)\r\n```\r\n`findMostRecentPermisisonById()`\r\n```\r\n    @Query(\r\n        value = &quot;SELECT * FROM auth.permissions WHERE permissionID = :permissionID ORDER BY createdat DESC LIMIT 1&quot;,\r\n        nativeQuery = true\r\n    )\r\n    Permission findMostRecentPermissionById(String permissionID);\r\n```\r\n\r\nI am not sure what is causing the exception to be thrown at all, and am especially confused as to why it is being thrown here. The `findMostRecentPermissionById` method does not cause any issues when used in other parts of the code. Any insight or advice would be much appreciated.\r\n\r\n## Update\r\n\r\nI still do not understand why the exception was thrown where it was. However, using `entityManager.detach(entity)` allows me to manually set the timestamp field and add a new entity.","title":"Why is one JPA entity complaining about modifying the identifier while another is not?","body":"<p>I am working on an authorization microservice using Springboot. I have the notion of permissions, roles, and users, each of which is represented as an <code>@Entity</code> class with a corresponding <code>JpaRepository</code>.</p>\n<p>Each <code>@Entity</code> class has an <code>@IdClass</code> that consists of a string ID and a timestamp (the field is called <code>createdAt</code>). The idea is that any modifications to one of the entity objects will create a new row in the database. I am unable to modify this database schema. I ran into the issue where modifying the ID (the timestamp portion) on updates threw a <code>HibernateExeption</code>. My solution was to use <code>@PrePersist</code> to modify the timestamp.</p>\n<pre><code>  @PrePersist\n  private void updateTimestamp() {\n    createdAt = Instant.now();\n  }\n</code></pre>\n<p>This seemed to work for my permissions entity. However, when I test updating my role entity, I am now getting the following error</p>\n<pre><code>org.hibernate.HibernateException: identifier of an instance of com.example.auth.model.Role was altered from RoleId(roleId=TEST_ROLE_R2, createdAt=2023-09-04T21:52:39.860899Z) to RoleId(roleId=TEST_ROLE_R2, createdAt=2023-08-31T23:12:25.927743Z)\n</code></pre>\n<p>with the same <code>@PrePersist</code> method.</p>\n<p>Another thing that is odd is that the exception seems to get thrown when accessing the permission repository. When updating/creating a role, the information for the associated permissions is referenced.</p>\n<p>Where the exception is thrown</p>\n<pre><code>permissionRepository.findMostRecentPermissionById(p)\n</code></pre>\n<p><code>findMostRecentPermisisonById()</code></p>\n<pre><code>    @Query(\n        value = &quot;SELECT * FROM auth.permissions WHERE permissionID = :permissionID ORDER BY createdat DESC LIMIT 1&quot;,\n        nativeQuery = true\n    )\n    Permission findMostRecentPermissionById(String permissionID);\n</code></pre>\n<p>I am not sure what is causing the exception to be thrown at all, and am especially confused as to why it is being thrown here. The <code>findMostRecentPermissionById</code> method does not cause any issues when used in other parts of the code. Any insight or advice would be much appreciated.</p>\n<h2>Update</h2>\n<p>I still do not understand why the exception was thrown where it was. However, using <code>entityManager.detach(entity)</code> allows me to manually set the timestamp field and add a new entity.</p>\n"},{"tags":["java","spring","transactions"],"answers":[{"comments":[{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1361544531,"post_id":15026394,"comment_id":21115114,"body_markdown":"Thats really helps with the manual coding side of things, but how is it possible to tell wether a transaction has been rolled back or committed succesfully, i can see status.iscompleted().. but that could mean a successful roll back or a successful commit...?","body":"Thats really helps with the manual coding side of things, but how is it possible to tell wether a transaction has been rolled back or committed succesfully, i can see status.iscompleted().. but that could mean a successful roll back or a successful commit...?"},{"owner":{"account_id":35452,"reputation":12772,"user_id":100402,"accept_rate":100,"display_name":"mrembisz"},"score":1,"creation_date":1361546584,"post_id":15026394,"comment_id":21116399,"body_markdown":"Transaction will rollback here in two cases only: callback code throws an exception which leaves doInTransaction or there is an implicit rollback call (which is strongly discouraged and will probably generate an UnexpectedRollbackException). Therefore you can safely assume if getSomethingWithTx did not throw an exceptin, the transaction committed successfully.","body":"Transaction will rollback here in two cases only: callback code throws an exception which leaves doInTransaction or there is an implicit rollback call (which is strongly discouraged and will probably generate an UnexpectedRollbackException). Therefore you can safely assume if getSomethingWithTx did not throw an exceptin, the transaction committed successfully."},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":0,"creation_date":1608642788,"post_id":15026394,"comment_id":115640844,"body_markdown":"not that applicable and extremely wordy which is main reasons you use `@Transactional` is to cut bloat like that from code","body":"not that applicable and extremely wordy which is main reasons you use <code>@Transactional</code> is to cut bloat like that from code"}],"tags":[],"owner":{"account_id":331203,"reputation":4390,"user_id":655756,"display_name":"n1ckolas"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1693943572,"creation_date":1361543260,"answer_id":15026394,"question_id":15026142,"body_markdown":"In one of my projects because of certain reasons I also had to use `PlatformTransactionManager`. So I forced to use `org.springframework.transaction.support.TransactionTemplate`.\r\n\r\nhttp://static.springsource.org/spring/docs/2.0.x/api/org/springframework/transaction/support/TransactionTemplate.html\r\n\r\nThe main benefit is that if you have implemented PlatformTransactionManager correctly, you don&#39;t need to bother with manual commit/rollback. At least source code of TransactionTemplate may help you if you need more specific thing.\r\n\r\nIt&#39;s pretty simply to use:\r\n\r\nconfig.xml\r\n\r\n    &lt;bean name=&quot;transactionTemplate&quot;\r\n                class=&quot;org.springframework.transaction.support.TransactionTemplate&quot;&gt;\r\n        &lt;property name=&quot;transactionManager&quot; ref=&quot;platformTransactionManager&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nMyServiceImpl.java\r\n\r\n    @Service\r\n    public class MyServiceImpl implements MyService {\r\n\r\n        @Autowired\r\n        private TransactionTemplate transactionTemplate;\r\n\r\n        public Entity getSomethingWithTx(final long id) {\r\n\r\n            return transactionTemplate.execute(new TransactionCallback&amp;lt;Entity&gt;() {\r\n                @Override\r\n                public Entity doInTransaction(TransactionStatus status) {\r\n                    //TODO implement\r\n                }\r\n            });\r\n        }\r\n    }\r\n","title":"Creating a post commit when using transaction in Spring","body":"<p>In one of my projects because of certain reasons I also had to use <code>PlatformTransactionManager</code>. So I forced to use <code>org.springframework.transaction.support.TransactionTemplate</code>.</p>\n<p><a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/transaction/support/TransactionTemplate.html\" rel=\"nofollow noreferrer\">http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/transaction/support/TransactionTemplate.html</a></p>\n<p>The main benefit is that if you have implemented PlatformTransactionManager correctly, you don't need to bother with manual commit/rollback. At least source code of TransactionTemplate may help you if you need more specific thing.</p>\n<p>It's pretty simply to use:</p>\n<p>config.xml</p>\n<pre><code>&lt;bean name=&quot;transactionTemplate&quot;\n            class=&quot;org.springframework.transaction.support.TransactionTemplate&quot;&gt;\n    &lt;property name=&quot;transactionManager&quot; ref=&quot;platformTransactionManager&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>MyServiceImpl.java</p>\n<pre><code>@Service\npublic class MyServiceImpl implements MyService {\n\n    @Autowired\n    private TransactionTemplate transactionTemplate;\n\n    public Entity getSomethingWithTx(final long id) {\n\n        return transactionTemplate.execute(new TransactionCallback&amp;lt;Entity&gt;() {\n            @Override\n            public Entity doInTransaction(TransactionStatus status) {\n                //TODO implement\n            }\n        });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1361548587,"post_id":15026797,"comment_id":21117574,"body_markdown":"okay this seems quite nice... so if its bound to single thread, and call is recursive... say a single thread starts a transaction registers a synchronisation(1 - after commit) and then calls another method who joins that transaction registers a synchronisation(2 - after commit).... when it commits.. i think only one after commit synchroniser would be fired... due to them being stored in a set?.. maybe im wrong i would have to test...","body":"okay this seems quite nice... so if its bound to single thread, and call is recursive... say a single thread starts a transaction registers a synchronisation(1 - after commit) and then calls another method who joins that transaction registers a synchronisation(2 - after commit).... when it commits.. i think only one after commit synchroniser would be fired... due to them being stored in a set?.. maybe im wrong i would have to test..."},{"owner":{"account_id":384802,"reputation":10056,"user_id":741558,"accept_rate":83,"display_name":"Grooveek"},"score":0,"creation_date":1361548732,"post_id":15026797,"comment_id":21117664,"body_markdown":"`TransactionSynchronization` objects are kept as a list by thread, list that you can retrieve with `TransactionSynchronizationManager.getSynchronizations()`","body":"<code>TransactionSynchronization</code> objects are kept as a list by thread, list that you can retrieve with <code>TransactionSynchronizationManager.getSynchronizations()</code>"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1361549379,"post_id":15026797,"comment_id":21118042,"body_markdown":"i believe its kept as a set, and then returned as a list... Set&lt;TransactionSynchronization&gt; synchs.............. return new ArrayList&lt;TransactionSynchronization&gt;(synchs)..... im just thinking two after commits would fire...","body":"i believe its kept as a set, and then returned as a list... Set&lt;TransactionSynchronization&gt; synchs.............. return new ArrayList&lt;TransactionSynchronization&gt;(synchs)..... im just thinking two after commits would fire..."},{"owner":{"account_id":473789,"reputation":221,"user_id":883094,"display_name":"Andrei Zagorneanu"},"score":4,"creation_date":1370277291,"post_id":15026797,"comment_id":24390781,"body_markdown":"I have wrote a blog post about  transaction synchronization in Spring and how to easily register after commit callbacks http://azagorneanu.blogspot.com/2013/06/transaction-synchronization-callbacks.html","body":"I have wrote a blog post about  transaction synchronization in Spring and how to easily register after commit callbacks <a href=\"http://azagorneanu.blogspot.com/2013/06/transaction-synchronization-callbacks.html\" rel=\"nofollow noreferrer\">azagorneanu.blogspot.com/2013/06/&hellip;</a>"},{"owner":{"account_id":120854,"reputation":5404,"user_id":313528,"accept_rate":79,"display_name":"Alex"},"score":11,"creation_date":1380794961,"post_id":15026797,"comment_id":28335981,"body_markdown":"Use `TransactionSynchronizationAdapter` as a cleaner way of implementing single methods.","body":"Use <code>TransactionSynchronizationAdapter</code> as a cleaner way of implementing single methods."},{"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"score":0,"creation_date":1491823746,"post_id":15026797,"comment_id":73708021,"body_markdown":"The above implementation needs to override all methods of `TransactionSynchronization` even though it shows only one. Check my answer based on @Alex suggestion","body":"The above implementation needs to override all methods of <code>TransactionSynchronization</code> even though it shows only one. Check my answer based on @Alex suggestion"},{"owner":{"account_id":1147487,"reputation":316,"user_id":1129923,"display_name":"m.sarhan"},"score":5,"creation_date":1566370945,"post_id":15026797,"comment_id":101630048,"body_markdown":"@Alex since Spring 5, `TransactionSynchronization` now using `default` for its methods. So, no need to use `TransactionSynchronizationAdapter`","body":"@Alex since Spring 5, <code>TransactionSynchronization</code> now using <code>default</code> for its methods. So, no need to use <code>TransactionSynchronizationAdapter</code>"},{"owner":{"account_id":3044863,"reputation":958,"user_id":2580829,"display_name":"David Barda"},"score":0,"creation_date":1572272851,"post_id":15026797,"comment_id":103498450,"body_markdown":"The signature should have public visibility in order to override the default method.","body":"The signature should have public visibility in order to override the default method."},{"owner":{"account_id":941478,"reputation":13520,"user_id":969483,"accept_rate":80,"display_name":"Christian"},"score":0,"creation_date":1574683581,"post_id":15026797,"comment_id":104306649,"body_markdown":"The doc of TransactionSynchronizationManager tells &quot;To be used by resource management code but not by typical application code&quot;. So, essentially you should not use it.","body":"The doc of TransactionSynchronizationManager tells &quot;To be used by resource management code but not by typical application code&quot;. So, essentially you should not use it."},{"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"score":0,"creation_date":1662986202,"post_id":15026797,"comment_id":130125726,"body_markdown":"@Christian what should you use instead?","body":"@Christian what should you use instead?"},{"owner":{"account_id":941478,"reputation":13520,"user_id":969483,"accept_rate":80,"display_name":"Christian"},"score":0,"creation_date":1663000111,"post_id":15026797,"comment_id":130131110,"body_markdown":"Scroll down a bit to Frank Wilson&#39;s answer: https://stackoverflow.com/a/62722827","body":"Scroll down a bit to Frank Wilson&#39;s answer: <a href=\"https://stackoverflow.com/a/62722827\">stackoverflow.com/a/62722827</a>"}],"tags":[],"owner":{"account_id":384802,"reputation":10056,"user_id":741558,"accept_rate":83,"display_name":"Grooveek"},"comment_count":11,"down_vote_count":2,"up_vote_count":94,"is_accepted":true,"score":92,"last_activity_date":1361544580,"creation_date":1361544580,"answer_id":15026797,"question_id":15026142,"body_markdown":"You could get exactly what you want by a simpler way, with [`TransactionSynchronizationManager`](http://static.springsource.org/spring/docs/3.2.x/javadoc-api/org/springframework/transaction/support/TransactionSynchronizationManager.html) and [`TransactionSynchronization`](http://static.springsource.org/spring/docs/3.2.x/javadoc-api/org/springframework/transaction/support/TransactionSynchronization.html)\r\n\r\nWith `TransactionSynchronizationManager`, you have static methods to get information about current transaction, and you can register a `TransactionSynchronization` wich allows you to automatically do a post-commit as you call that\r\n\r\n    TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronization(){\r\n               void afterCommit(){\r\n                    //do what you want to do after commit\r\n               }\r\n    })\r\n\r\nBe aware that the TransactionSynchronization is on a per-thread basis (which is often not a problem for a basic web request). ","title":"Creating a post commit when using transaction in Spring","body":"<p>You could get exactly what you want by a simpler way, with <a href=\"http://static.springsource.org/spring/docs/3.2.x/javadoc-api/org/springframework/transaction/support/TransactionSynchronizationManager.html\" rel=\"noreferrer\"><code>TransactionSynchronizationManager</code></a> and <a href=\"http://static.springsource.org/spring/docs/3.2.x/javadoc-api/org/springframework/transaction/support/TransactionSynchronization.html\" rel=\"noreferrer\"><code>TransactionSynchronization</code></a></p>\n\n<p>With <code>TransactionSynchronizationManager</code>, you have static methods to get information about current transaction, and you can register a <code>TransactionSynchronization</code> wich allows you to automatically do a post-commit as you call that</p>\n\n<pre><code>TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronization(){\n           void afterCommit(){\n                //do what you want to do after commit\n           }\n})\n</code></pre>\n\n<p>Be aware that the TransactionSynchronization is on a per-thread basis (which is often not a problem for a basic web request). </p>\n"},{"comments":[{"owner":{"account_id":1769313,"reputation":841,"user_id":1614474,"display_name":"deep"},"score":4,"creation_date":1520543574,"post_id":43322052,"comment_id":85370709,"body_markdown":"Thanks to @Michail for his answer. For transactional roll-backs this approach works using &quot;afterCompletion(int status)&quot; and checking status == TransactionSynchronization. STATUS_ROLLED_BACK","body":"Thanks to @Michail for his answer. For transactional roll-backs this approach works using &quot;afterCompletion(int status)&quot; and checking status == TransactionSynchronization. STATUS_ROLLED_BACK"},{"owner":{"account_id":398093,"reputation":5018,"user_id":762585,"accept_rate":100,"display_name":"Franziskus Karsunke"},"score":0,"creation_date":1679646570,"post_id":43322052,"comment_id":133761791,"body_markdown":"TransactionSynchronizationAdapter is deprecated. You can just replace it with TransactionSynchronization in this code example.","body":"TransactionSynchronizationAdapter is deprecated. You can just replace it with TransactionSynchronization in this code example."}],"tags":[],"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1491824361,"creation_date":1491823913,"answer_id":43322052,"question_id":15026142,"body_markdown":"Credit to Grooveek&#39;s answer and Alex&#39;s comment under it - I put this here because the combined suggestions provide a solid and cleaner solution that is hard to find around the net. \r\n\r\nUsing Spring 4+. if you need a callback on a `@Transactional` method after it successfully commits just add that in the beginning of the method: \r\n\r\n    @Service\r\n    public class OneService {\r\n    \r\n        @Autowired\r\n        OneDao dao;\r\n    \r\n        @Transactional\r\n        public void a transactionalMethod() {\r\n            TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronizationAdapter(){\r\n                public void afterCommit(){\r\n                    //do stuff right after commit\r\n                    System.out.println(&quot;commit!!!&quot;);\r\n                    \r\n                }\r\n            });\r\n            //do db stuff\r\n            dao.save();\r\n        }\r\n    }","title":"Creating a post commit when using transaction in Spring","body":"<p>Credit to Grooveek's answer and Alex's comment under it - I put this here because the combined suggestions provide a solid and cleaner solution that is hard to find around the net. </p>\n\n<p>Using Spring 4+. if you need a callback on a <code>@Transactional</code> method after it successfully commits just add that in the beginning of the method: </p>\n\n<pre><code>@Service\npublic class OneService {\n\n    @Autowired\n    OneDao dao;\n\n    @Transactional\n    public void a transactionalMethod() {\n        TransactionSynchronizationManager.registerSynchronization(new TransactionSynchronizationAdapter(){\n            public void afterCommit(){\n                //do stuff right after commit\n                System.out.println(\"commit!!!\");\n\n            }\n        });\n        //do db stuff\n        dao.save();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8164177,"reputation":858,"user_id":6147174,"accept_rate":55,"display_name":"Wecherowski"},"score":0,"creation_date":1597485909,"post_id":62722827,"comment_id":112152080,"body_markdown":"Definitely a cleaner way for 2020","body":"Definitely a cleaner way for 2020"},{"owner":{"account_id":1082769,"reputation":1160,"user_id":1079291,"display_name":"F. Geraerts"},"score":0,"creation_date":1602566069,"post_id":62722827,"comment_id":113752752,"body_markdown":"Small precision, the annotation for the listener is TransactionalEventListener and not TransactionalListener","body":"Small precision, the annotation for the listener is TransactionalEventListener and not TransactionalListener"},{"owner":{"account_id":2141692,"reputation":3200,"user_id":1900169,"accept_rate":88,"display_name":"Frank Wilson"},"score":0,"creation_date":1602851600,"post_id":62722827,"comment_id":113857979,"body_markdown":"@F. Geraerts good catch, thanks! It should be corrected now.","body":"@F. Geraerts good catch, thanks! It should be corrected now."}],"tags":[],"owner":{"account_id":2141692,"reputation":3200,"user_id":1900169,"accept_rate":88,"display_name":"Frank Wilson"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1603210149,"creation_date":1593811267,"answer_id":62722827,"question_id":15026142,"body_markdown":"Since Spring 4.2 it has been possible to define listeners for post commit events (or more generally transaction synchronization events e.g. rollbacks) using annotation based configuraton. This is based off event handling in [core spring](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#context-functionality-events). It is easier to test code using this approach since you avoid a direct dependency on TransactionSynchronizationManager, which will likely not be active in a unit test. You can easily test that your transactional service publishes an event and also that your listener performs the right action when you receive an event.\r\n\r\nSo without further ado this is how to set it up:\r\n\r\nIn this example we&#39;ll assume you have a `Customer` entity and a `CustomerRepository` (and ORM to go with it).\r\n\r\nFirst you need a new event type `NewCustomerEvent`:\r\n\r\n    // NewCustomerEvent.java\r\n    // Just a regular pojo for the event\r\n    public class NewCustomerEvent {\r\n\r\n        public String email;\r\n\r\n        // constructor, setters and getters omitted\r\n    }\r\n\r\nThen you define a listener using [`@TransactionalEventListener`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/event/TransactionalEventListener.html). By default this will execute after a sucessful commit but this can be changed using the `phase` parameter:\r\n\r\n    // NewCustomerEventListener.java\r\n    @Component\r\n    public class NewCustomerEventListener {\r\n\r\n        @TransactionalEventListener\r\n        public void handleNewCustomerEvent(NewCustomerEvent newCustomerEvent) {\r\n            // handle new customer event\r\n        }\r\n    }\r\n\r\nFinally you augment your transaction service with an [`ApplicationEventPublisher`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ApplicationEventPublisher.html) on which you call publish once all the transaction statements have been sent.\r\n\r\n    // CustomerRespositoryService.java\r\n    @Service\r\n    public class CustomerRepositoryService {\r\n\r\n        @Inject\r\n        private ApplicationEventPublisher applicationEventPublisher;\r\n\r\n        @Inject\r\n        private CustomerRepository customerRepository;\r\n\r\n        @Transactional\r\n        public void createCustomer(String email) {\r\n            Customer customer = new Customer(email);\r\n            customerRespotory.save(customer);\r\n            applicationEventPublisher.publish(new NewCustomerEvent(email));\r\n        }\r\n\r\n    }\r\n\r\nSee also:\r\n* https://dzone.com/articles/simpler-handling-of-asynchronous-transaction-bound\r\n* https://dzone.com/articles/transaction-synchronization-and-spring-application","title":"Creating a post commit when using transaction in Spring","body":"<p>Since Spring 4.2 it has been possible to define listeners for post commit events (or more generally transaction synchronization events e.g. rollbacks) using annotation based configuraton. This is based off event handling in <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#context-functionality-events\" rel=\"noreferrer\">core spring</a>. It is easier to test code using this approach since you avoid a direct dependency on TransactionSynchronizationManager, which will likely not be active in a unit test. You can easily test that your transactional service publishes an event and also that your listener performs the right action when you receive an event.</p>\n<p>So without further ado this is how to set it up:</p>\n<p>In this example we'll assume you have a <code>Customer</code> entity and a <code>CustomerRepository</code> (and ORM to go with it).</p>\n<p>First you need a new event type <code>NewCustomerEvent</code>:</p>\n<pre><code>// NewCustomerEvent.java\n// Just a regular pojo for the event\npublic class NewCustomerEvent {\n\n    public String email;\n\n    // constructor, setters and getters omitted\n}\n</code></pre>\n<p>Then you define a listener using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/event/TransactionalEventListener.html\" rel=\"noreferrer\"><code>@TransactionalEventListener</code></a>. By default this will execute after a sucessful commit but this can be changed using the <code>phase</code> parameter:</p>\n<pre><code>// NewCustomerEventListener.java\n@Component\npublic class NewCustomerEventListener {\n\n    @TransactionalEventListener\n    public void handleNewCustomerEvent(NewCustomerEvent newCustomerEvent) {\n        // handle new customer event\n    }\n}\n</code></pre>\n<p>Finally you augment your transaction service with an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ApplicationEventPublisher.html\" rel=\"noreferrer\"><code>ApplicationEventPublisher</code></a> on which you call publish once all the transaction statements have been sent.</p>\n<pre><code>// CustomerRespositoryService.java\n@Service\npublic class CustomerRepositoryService {\n\n    @Inject\n    private ApplicationEventPublisher applicationEventPublisher;\n\n    @Inject\n    private CustomerRepository customerRepository;\n\n    @Transactional\n    public void createCustomer(String email) {\n        Customer customer = new Customer(email);\n        customerRespotory.save(customer);\n        applicationEventPublisher.publish(new NewCustomerEvent(email));\n    }\n\n}\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://dzone.com/articles/simpler-handling-of-asynchronous-transaction-bound\" rel=\"noreferrer\">https://dzone.com/articles/simpler-handling-of-asynchronous-transaction-bound</a></li>\n<li><a href=\"https://dzone.com/articles/transaction-synchronization-and-spring-application\" rel=\"noreferrer\">https://dzone.com/articles/transaction-synchronization-and-spring-application</a></li>\n</ul>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57113,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":15026797,"answer_count":4,"score":50,"last_activity_date":1693943572,"creation_date":1361542470,"question_id":15026142,"body_markdown":"Due to certain reasons i have manually performed transaction commit and roll back using Spring PlatformTransactionManager, what i need to do is setup a hook so that a post commit action takes place after transaction has been committed. \r\n\r\nBy looking at:\r\n\r\n     void commit(TransactionStatus status) throws TransactionException;\r\n\r\nI cant see how i can determine a transaction was successful other than assumming it so if no expception are thrown.\r\n\r\nAnd i could use AOP as one option, but what about programmitcally doing it, maybe using  callback method?","title":"Creating a post commit when using transaction in Spring","body":"<p>Due to certain reasons i have manually performed transaction commit and roll back using Spring PlatformTransactionManager, what i need to do is setup a hook so that a post commit action takes place after transaction has been committed. </p>\n\n<p>By looking at:</p>\n\n<pre><code> void commit(TransactionStatus status) throws TransactionException;\n</code></pre>\n\n<p>I cant see how i can determine a transaction was successful other than assumming it so if no expception are thrown.</p>\n\n<p>And i could use AOP as one option, but what about programmitcally doing it, maybe using  callback method?</p>\n"},{"tags":["java","maven","spring-boot","intellij-idea","maven-compiler-plugin"],"answers":[{"comments":[{"owner":{"account_id":1318950,"reputation":1139,"user_id":1265200,"accept_rate":86,"display_name":"Dazed"},"score":14,"creation_date":1528967360,"post_id":49106905,"comment_id":88710158,"body_markdown":"Worked for me - thanks - just to add a reason - looks like &quot;release&quot; added for Java 9 backwards compatibility https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#release. Doesn&#39;t quite handle forwards compatability though.","body":"Worked for me - thanks - just to add a reason - looks like &quot;release&quot; added for Java 9 backwards compatibility <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#release\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/&hellip;</a>. Doesn&#39;t quite handle forwards compatability though."},{"owner":{"account_id":539660,"reputation":15051,"user_id":907576,"accept_rate":62,"display_name":"radistao"},"score":15,"creation_date":1575295159,"post_id":49106905,"comment_id":104507598,"body_markdown":"If one has multiple java versions installed: verify you are running maven with java 9+ version: `mvn --version`. Also ensure your IDE uses proper JDK version.","body":"If one has multiple java versions installed: verify you are running maven with java 9+ version: <code>mvn --version</code>. Also ensure your IDE uses proper JDK version."},{"owner":{"account_id":10064210,"reputation":2337,"user_id":7439845,"display_name":"garykwwong"},"score":3,"creation_date":1587267696,"post_id":49106905,"comment_id":108441941,"body_markdown":"right ... the minimum requirement of the env. setup for using &quot;--release&quot; option is: Maven: 3.6.0 ; JDK: 9+","body":"right ... the minimum requirement of the env. setup for using &quot;--release&quot; option is: Maven: 3.6.0 ; JDK: 9+"},{"owner":{"account_id":1845327,"reputation":3625,"user_id":1673775,"display_name":"luke"},"score":1,"creation_date":1599302008,"post_id":49106905,"comment_id":112736759,"body_markdown":"@radistao Thanks, I had newest maven but java 8 in $JAVA_HOME added to system path. I hanged it to 11 and now &#39;release&#39; works.","body":"@radistao Thanks, I had newest maven but java 8 in $JAVA_HOME added to system path. I hanged it to 11 and now &#39;release&#39; works."},{"owner":{"account_id":4919995,"reputation":129,"user_id":3962816,"accept_rate":75,"display_name":"gaurav kumar"},"score":3,"creation_date":1601415249,"post_id":49106905,"comment_id":113400188,"body_markdown":"Just for the reference, once changed the JAVA_HOME one must restart their intellij.","body":"Just for the reference, once changed the JAVA_HOME one must restart their intellij."},{"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"score":0,"creation_date":1673689096,"post_id":49106905,"comment_id":132557435,"body_markdown":"please navigate to @Krisna Vedula answer first. This one _fixes_ the problem for jdk8 and less, but without knowing the correct cause. It just might be, that your pom.xml is completely correct and you&#39;re just using incorret JAVA_HOME.","body":"please navigate to @Krisna Vedula answer first. This one <i>fixes</i> the problem for jdk8 and less, but without knowing the correct cause. It just might be, that your pom.xml is completely correct and you&#39;re just using incorret JAVA_HOME."}],"tags":[],"owner":{"account_id":4118097,"reputation":5672,"user_id":3379182,"display_name":"Matteo Baldi"},"comment_count":6,"down_vote_count":3,"up_vote_count":125,"is_accepted":false,"score":122,"last_activity_date":1520241386,"creation_date":1520241386,"answer_id":49106905,"question_id":49105941,"body_markdown":"In your `pom.xml` file, simply remove the tag                        `&lt;release&gt;8&lt;/release&gt;` from your `maven-compiler-plugin` configuration:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;verbose&gt;true&lt;/verbose&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>In your <code>pom.xml</code> file, simply remove the tag                        <code>&lt;release&gt;8&lt;/release&gt;</code> from your <code>maven-compiler-plugin</code> configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;verbose&gt;true&lt;/verbose&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3191536,"reputation":1984,"user_id":2695666,"display_name":"gorjanz"},"comment_count":0,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1584720744,"creation_date":1555053350,"answer_id":55646376,"question_id":49105941,"body_markdown":"This configuration worked for me, for java 11. (IntelliJ version 2019.1)\r\njava.version is 11, declared in the properties part of the pom.xml. Maven version should be 3.6 or higher.\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;fork&gt;false&lt;/fork&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                    &lt;release&gt;${java.version}&lt;/release&gt;\r\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;phase&gt;none&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                        &lt;phase&gt;none&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;java-compile&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;java-test-compile&lt;/id&gt;\r\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n        &lt;/plugin&gt;","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>This configuration worked for me, for java 11. (IntelliJ version 2019.1)\njava.version is 11, declared in the properties part of the pom.xml. Maven version should be 3.6 or higher.</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;fork&gt;false&lt;/fork&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-parameters&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n                &lt;release&gt;${java.version}&lt;/release&gt;\n                &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-testCompile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;testCompile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"score":6,"creation_date":1592957822,"post_id":60404811,"comment_id":110609644,"body_markdown":"I ran into this problem, and I&#39;d forgotten to change the JAVA_HOME environment variable to point at my java 11 JDK. (`export JAVA_HOME=$(/usr/libexec/java_home -v11)` )","body":"I ran into this problem, and I&#39;d forgotten to change the JAVA_HOME environment variable to point at my java 11 JDK. (<code>export JAVA_HOME=$(&#47;usr&#47;libexec&#47;java_home -v11)</code> )"}],"tags":[],"owner":{"account_id":1765472,"reputation":1673,"user_id":1611445,"display_name":"Krishna Vedula"},"comment_count":1,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1582674481,"creation_date":1582674481,"answer_id":60404811,"question_id":49105941,"body_markdown":"This has to do with the version of JDK running on your system. As per the documentation for maven-compiler-plugin, the release flag is supported since 1.9, and thus has to be commented/removed from the POM if you are using prior (1.8 and below) versions of JDK.\r\n\r\nCheck Maven documentation for release tag for maven-compiler-plugin [here][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#release","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>This has to do with the version of JDK running on your system. As per the documentation for maven-compiler-plugin, the release flag is supported since 1.9, and thus has to be commented/removed from the POM if you are using prior (1.8 and below) versions of JDK.</p>\n\n<p>Check Maven documentation for release tag for maven-compiler-plugin <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#release\" rel=\"noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":0,"creation_date":1692171500,"post_id":62482927,"comment_id":135586054,"body_markdown":"In my case, I was using both jenv and sdkman to manage java versions. jenv java version was set correctly to jre 17 but sdkman was still on jre8. Once I switched to jre17 through sdkman, the &quot;invalid release&quot; error went away.","body":"In my case, I was using both jenv and sdkman to manage java versions. jenv java version was set correctly to jre 17 but sdkman was still on jre8. Once I switched to jre17 through sdkman, the &quot;invalid release&quot; error went away."}],"tags":[],"owner":{"account_id":5669873,"reputation":1135,"user_id":4687703,"display_name":"izy"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1592638231,"creation_date":1592638231,"answer_id":62482927,"question_id":49105941,"body_markdown":"open terminal to check that Maven using correct version of Java\r\n\r\nrun: `mvn -v`\r\n\r\nIf you will see an old Java version, that might be the problem.\r\n\r\nBeing on Linux, I suggest removing Maven, e.g. using Fedora package manager `dnf remove maven` or check your PATH for maven. \r\n\r\nDownload one from here: https://maven.apache.org/download.cgi\r\n\r\nExtract downloaded to your home path, e.g. `~/maven`. \r\n\r\nAdd/Edit `~/maven/bin` to your PATH\r\n\r\nReapply .bash_profile (or re-login)\r\n\r\nRun `mvn -v`\r\n\r\nNow you should see a correct Java version in the output\r\n","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>open terminal to check that Maven using correct version of Java</p>\n\n<p>run: <code>mvn -v</code></p>\n\n<p>If you will see an old Java version, that might be the problem.</p>\n\n<p>Being on Linux, I suggest removing Maven, e.g. using Fedora package manager <code>dnf remove maven</code> or check your PATH for maven. </p>\n\n<p>Download one from here: <a href=\"https://maven.apache.org/download.cgi\" rel=\"noreferrer\">https://maven.apache.org/download.cgi</a></p>\n\n<p>Extract downloaded to your home path, e.g. <code>~/maven</code>. </p>\n\n<p>Add/Edit <code>~/maven/bin</code> to your PATH</p>\n\n<p>Reapply .bash_profile (or re-login)</p>\n\n<p>Run <code>mvn -v</code></p>\n\n<p>Now you should see a correct Java version in the output</p>\n"},{"tags":[],"owner":{"account_id":5063081,"reputation":1381,"user_id":4064011,"display_name":"Domenico"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610698215,"creation_date":1610615248,"answer_id":65716110,"question_id":49105941,"body_markdown":"An alternative approach is to directly set the compiler flags inside your properties tag instead of using the `&lt;configuration&gt;` tag of the compiler plugin:\r\n\r\n    &lt;properties&gt;\r\n           &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n           &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n     &lt;!--  Use the release flag only if you are using Java 9+  --&gt;\r\n     &lt;!--  &lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;  --&gt;\r\n           &lt;!-- verbose is useful for debugging purposes --&gt;\r\n           &lt;maven.compiler.verbose&gt;true&lt;/maven.compiler.verbose&gt; \r\n    &lt;/properties&gt;\r\n\r\nAs stated in the official page:\r\n\r\n[https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>An alternative approach is to directly set the compiler flags inside your properties tag instead of using the <code>&lt;configuration&gt;</code> tag of the compiler plugin:</p>\n<pre><code>&lt;properties&gt;\n       &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n       &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n &lt;!--  Use the release flag only if you are using Java 9+  --&gt;\n &lt;!--  &lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;  --&gt;\n       &lt;!-- verbose is useful for debugging purposes --&gt;\n       &lt;maven.compiler.verbose&gt;true&lt;/maven.compiler.verbose&gt; \n&lt;/properties&gt;\n</code></pre>\n<p>As stated in the official page:</p>\n<p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html</a></p>\n"},{"tags":[],"owner":{"account_id":8691881,"reputation":423,"user_id":6504597,"display_name":"Raulster24"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1622629387,"creation_date":1622629387,"answer_id":67803282,"question_id":49105941,"body_markdown":"I faced this problem too, check your JAVA_HOME environment variable.\r\nI was setting the value of release to 11 as I am using JAVA 11. \r\nMy System JAVA_HOME was set for java 8, After adding the JAVA_HOME user environment variable to the java 11 path this got resolved.","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>I faced this problem too, check your JAVA_HOME environment variable.\nI was setting the value of release to 11 as I am using JAVA 11.\nMy System JAVA_HOME was set for java 8, After adding the JAVA_HOME user environment variable to the java 11 path this got resolved.</p>\n"},{"tags":[],"owner":{"account_id":4847195,"reputation":81,"user_id":3910521,"display_name":"Nitish Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642110256,"creation_date":1642110256,"answer_id":70703487,"question_id":49105941,"body_markdown":"This is mostly because of the java version mismatch. Managing more than one java version for projects can be painful.\r\n\r\nI am working simultaneously on projects asking for different versions of java and have been using [jenv](https://www.jenv.be/) for switching the java versions.\r\n\r\n[More details here](https://github.com/jenv/jenv)","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>This is mostly because of the java version mismatch. Managing more than one java version for projects can be painful.</p>\n<p>I am working simultaneously on projects asking for different versions of java and have been using <a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">jenv</a> for switching the java versions.</p>\n<p><a href=\"https://github.com/jenv/jenv\" rel=\"nofollow noreferrer\">More details here</a></p>\n"},{"tags":[],"owner":{"account_id":20169546,"reputation":1,"user_id":14792673,"display_name":"Sreehari suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659587601,"creation_date":1659587452,"answer_id":73230405,"question_id":49105941,"body_markdown":"    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile (default-testCompile) on project selenium-for-beginners: Execution default-testCompile of goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile failed: multiple points -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\n\r\n\r\n\r\nWhen trying to do a Selenium maven beginner project if you are running into this trouble/issue. Please try to change the maven plugin in the pom.xml file. Use Plugin for &quot;Compile Using the --release javac option (JDK 9+)&quot;. This should work.","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile (default-testCompile) on project selenium-for-beginners: Execution default-testCompile of goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile failed: multiple points -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n<p>When trying to do a Selenium maven beginner project if you are running into this trouble/issue. Please try to change the maven plugin in the pom.xml file. Use Plugin for &quot;Compile Using the --release javac option (JDK 9+)&quot;. This should work.</p>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672985514,"creation_date":1672985514,"answer_id":75027555,"question_id":49105941,"body_markdown":"Set the $MAVEN_HOME and JAVA_HOME in environment Properties \r\n\r\n 1. Check the maven version ( C:\\&gt;mvn -version )\r\n \r\n 2. Check the Java Version\r\n    ( C:\\&gt;java -version )\r\n\r\nAdd the below code snip in pom.xml file and change the version number of maven\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt; // replace the maven version number \r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;verbose&gt;true&lt;/verbose&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>Set the $MAVEN_HOME and JAVA_HOME in environment Properties</p>\n<ol>\n<li><p>Check the maven version ( C:&gt;mvn -version )</p>\n</li>\n<li><p>Check the Java Version\n( C:&gt;java -version )</p>\n</li>\n</ol>\n<p>Add the below code snip in pom.xml file and change the version number of maven</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt; // replace the maven version number \n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;verbose&gt;true&lt;/verbose&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13196942,"reputation":85,"user_id":9531432,"display_name":"Cyro"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674516470,"creation_date":1674516470,"answer_id":75216095,"question_id":49105941,"body_markdown":"I was getting this error with Java v8, then resolved the issue by updating to Java v11, updating JAVA_HOME, and updating my IntelliJ SDK settings to use the new jdk.","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>I was getting this error with Java v8, then resolved the issue by updating to Java v11, updating JAVA_HOME, and updating my IntelliJ SDK settings to use the new jdk.</p>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691999207,"creation_date":1691999207,"answer_id":76897156,"question_id":49105941,"body_markdown":"Use `mvn -v` in cmd to find the java version.\r\n\r\nIn your case, you have declared java 8 in pom.xml, use the same in the JAVA_HOME of environment variables, this will resolve the issue.","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>Use <code>mvn -v</code> in cmd to find the java version.</p>\n<p>In your case, you have declared java 8 in pom.xml, use the same in the JAVA_HOME of environment variables, this will resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":15929038,"reputation":1,"user_id":11493927,"display_name":"Hugo Yip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693943511,"creation_date":1693899147,"answer_id":77042534,"question_id":49105941,"body_markdown":"Changing `3.1.3` to `2.7.10` should fix it:\r\n\r\n```xml\r\n&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-rest&lt;/artifactId&gt;\r\n&lt;version&gt;3.1.3.RELEASE&lt;/version&gt;\r\n&lt;packaging&gt;war&lt;/packaging&gt;\r\n```","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>Changing <code>3.1.3</code> to <code>2.7.10</code> should fix it:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;spring-rest&lt;/artifactId&gt;\n&lt;version&gt;3.1.3.RELEASE&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n"}],"owner":{"account_id":11557107,"reputation":1507,"user_id":8467973,"display_name":"Aminul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170085,"favorite_count":0,"down_vote_count":1,"up_vote_count":127,"answer_count":12,"score":126,"last_activity_date":1693943511,"creation_date":1520237354,"question_id":49105941,"body_markdown":"I am trying to start with Spring-boot, Maven in Intellij\r\nPlease help me I am getting the error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project spring-rest: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    Process finished with exit code 1\r\n\r\n**My pom.xml is:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project\r\n       xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n           &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n       \r\n           &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n           &lt;artifactId&gt;spring-rest&lt;/artifactId&gt;\r\n           &lt;version&gt;3.1.3.RELEASE&lt;/version&gt;\r\n           &lt;packaging&gt;war&lt;/packaging&gt;\r\n       \r\n           &lt;name&gt;spring-rest&lt;/name&gt;\r\n           &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n       \r\n           &lt;parent&gt;\r\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n               &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n               &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n           &lt;/parent&gt;\r\n       \r\n           &lt;properties&gt;\r\n               &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n               &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n               &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n           &lt;/properties&gt;\r\n       \r\n           &lt;dependencies&gt;\r\n       \r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n                   &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n               &lt;/dependency&gt;\r\n       \r\n             &lt;dependency&gt;\r\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n             &lt;/dependency&gt;\r\n       \r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n               &lt;/dependency&gt;\r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n               &lt;/dependency&gt;\r\n       \r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n                   &lt;version&gt;RELEASE&lt;/version&gt;\r\n               &lt;/dependency&gt;\r\n       \r\n       \r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                   &lt;scope&gt;runtime&lt;/scope&gt;\r\n               &lt;/dependency&gt;\r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                   &lt;scope&gt;test&lt;/scope&gt;\r\n               &lt;/dependency&gt;\r\n           &lt;/dependencies&gt;\r\n       \r\n           &lt;build&gt;\r\n               &lt;plugins&gt;\r\n                   &lt;plugin&gt;\r\n                       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                       &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;/plugin&gt;\r\n       \r\n                   &lt;plugin&gt;\r\n                       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                       &lt;version&gt;3.7.0&lt;/version&gt;\r\n                       &lt;configuration&gt;\r\n                           &lt;source&gt;1.8&lt;/source&gt;\r\n                           &lt;target&gt;1.8&lt;/target&gt;\r\n                           &lt;release&gt;8&lt;/release&gt;\r\n                           &lt;verbose&gt;true&lt;/verbose&gt;\r\n                       &lt;/configuration&gt;\r\n                   &lt;/plugin&gt;\r\n               &lt;/plugins&gt;\r\n           &lt;/build&gt;\r\n       \r\n       &lt;/project&gt;\r\n\r\n","title":"Intellij maven project Fatal error compiling: invalid flag: --release","body":"<p>I am trying to start with Spring-boot, Maven in Intellij\nPlease help me I am getting the error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project spring-rest: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\nProcess finished with exit code 1\n</code></pre>\n\n<p><strong>My pom.xml is:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;project\n   xmlns=\"http://maven.apache.org/POM/4.0.0\"\n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n            xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n       &lt;groupId&gt;com.example&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-rest&lt;/artifactId&gt;\n       &lt;version&gt;3.1.3.RELEASE&lt;/version&gt;\n       &lt;packaging&gt;war&lt;/packaging&gt;\n\n       &lt;name&gt;spring-rest&lt;/name&gt;\n       &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n       &lt;parent&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n           &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n           &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n       &lt;/parent&gt;\n\n       &lt;properties&gt;\n           &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n           &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n           &lt;java.version&gt;1.8&lt;/java.version&gt;\n       &lt;/properties&gt;\n\n       &lt;dependencies&gt;\n\n           &lt;dependency&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n               &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n           &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n         &lt;/dependency&gt;\n\n           &lt;dependency&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n           &lt;dependency&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n\n           &lt;dependency&gt;\n               &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n               &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n               &lt;version&gt;RELEASE&lt;/version&gt;\n           &lt;/dependency&gt;\n\n\n           &lt;dependency&gt;\n               &lt;groupId&gt;mysql&lt;/groupId&gt;\n               &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n               &lt;scope&gt;runtime&lt;/scope&gt;\n           &lt;/dependency&gt;\n           &lt;dependency&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n               &lt;scope&gt;test&lt;/scope&gt;\n           &lt;/dependency&gt;\n       &lt;/dependencies&gt;\n\n       &lt;build&gt;\n           &lt;plugins&gt;\n               &lt;plugin&gt;\n                   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                   &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n               &lt;/plugin&gt;\n\n               &lt;plugin&gt;\n                   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                   &lt;version&gt;3.7.0&lt;/version&gt;\n                   &lt;configuration&gt;\n                       &lt;source&gt;1.8&lt;/source&gt;\n                       &lt;target&gt;1.8&lt;/target&gt;\n                       &lt;release&gt;8&lt;/release&gt;\n                       &lt;verbose&gt;true&lt;/verbose&gt;\n                   &lt;/configuration&gt;\n               &lt;/plugin&gt;\n           &lt;/plugins&gt;\n       &lt;/build&gt;\n\n   &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","model-view-controller"],"comments":[{"owner":{"account_id":2019478,"reputation":4894,"user_id":1806005,"accept_rate":56,"display_name":"hi_my_name_is"},"score":0,"creation_date":1439900482,"post_id":32072255,"comment_id":52041018,"body_markdown":"use @Async method which could wrap everything you want to run, it will be processed by different thread","body":"use @Async method which could wrap everything you want to run, it will be processed by different thread"},{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1439900790,"post_id":32072255,"comment_id":52041221,"body_markdown":"[This might help](http://stackoverflow.com/a/17176660/3143670)","body":"<a href=\"http://stackoverflow.com/a/17176660/3143670\">This might help</a>"}],"answers":[{"comments":[{"owner":{"account_id":9512854,"reputation":590,"user_id":7070261,"display_name":"Satish Kr"},"score":0,"creation_date":1498220802,"post_id":32073300,"comment_id":76424986,"body_markdown":"If request from two different users then will it share same variable or different for differnt user??","body":"If request from two different users then will it share same variable or different for differnt user??"},{"owner":{"account_id":13836808,"reputation":165,"user_id":9988140,"display_name":"Sagar Shetty"},"score":0,"creation_date":1555415487,"post_id":32073300,"comment_id":98095781,"body_markdown":"you ave used variable res, what does that variable refer to?","body":"you ave used variable res, what does that variable refer to?"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1555415737,"post_id":32073300,"comment_id":98095926,"body_markdown":"I do not know. It was in the original question, so I kept it in my answer. I just assumed it was a message to feed the response with.","body":"I do not know. It was in the original question, so I kept it in my answer. I just assumed it was a message to feed the response with."},{"owner":{"account_id":2468403,"reputation":2175,"user_id":2150918,"display_name":"Vivek Garg"},"score":0,"creation_date":1563437641,"post_id":32073300,"comment_id":100701986,"body_markdown":"Hi @SergeBallesta,\nI tried your solution but didn&#39;t work. After wr.close() i have put sleep method for 10sec. When i am hitting the request then it is waiting for 10 sec to send back response. PFB for code.\noutputStream.close();\nSystem.out.println(&quot;Stream closed.&quot;);\n System.out.println(&quot;Sleeping&quot;);\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(&quot;Awake&quot;);","body":"Hi @SergeBallesta, I tried your solution but didn&#39;t work. After wr.close() i have put sleep method for 10sec. When i am hitting the request then it is waiting for 10 sec to send back response. PFB for code. outputStream.close(); System.out.println(&quot;Stream closed.&quot;);  System.out.println(&quot;Sleeping&quot;);             try {                 Thread.sleep(10000);             } catch (InterruptedException e) {                 e.printStackTrace();             }             System.out.println(&quot;Awake&quot;);"},{"owner":{"account_id":2468403,"reputation":2175,"user_id":2150918,"display_name":"Vivek Garg"},"score":0,"creation_date":1563437855,"post_id":32073300,"comment_id":100702089,"body_markdown":"@SergeBallesta, Please help if I am missing something.","body":"@SergeBallesta, Please help if I am missing something."}],"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":5,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1439904327,"creation_date":1439903143,"answer_id":32073300,"question_id":32072255,"body_markdown":"You can of course do processing after sending the response. The more general way would be to use the `afterCompletion` method of a `HandlerInterceptor`. By construction, it will be executed after the response have been sent to client, but it forces you to split you logic in 2 components the *before* part in controller, and the *after* part in the interceptor.\r\n\r\nThe alternative way is to forget Spring MVC machinery and manually commit the response in the controller:\r\n\r\n    @RequestMapping(value = Connectors.CONNECTOR_HEARTBEAT, method = RequestMethod.POST)\r\n    public void doSomething(@RequestBody List&lt;Message&gt; messages, HttpServletResponse response) {\r\n        int code = (messages!=null &amp;&amp; !messages.isEmpty()) ? HttpServletResponse.SC_OK\r\n                : HttpServletResponse.SC_NOT_FOUND;\r\n        if (code != HttpServletResponse.SC_OK) {\r\n            response.sendError(code, res);\r\n            return;\r\n        }\r\n        java.io.PrintWriter wr = response.getWriter();\r\n        response.setStatus(code);\r\n        wr.print(res);\r\n        wr.flush();\r\n        wr.close();\r\n    \r\n        // Now it it time to do the long processing\r\n        ...\r\n    }\r\n\r\nNote the void return code to notify Spring that the response have been committed in the controller.\r\n\r\nAs a side advantage, the processing still occurs in the same thread, so you have full access to session scoped attributes or any other thread local variables used by Spring MVC or Spring Security...","title":"How to send response before actions in spring mvc","body":"<p>You can of course do processing after sending the response. The more general way would be to use the <code>afterCompletion</code> method of a <code>HandlerInterceptor</code>. By construction, it will be executed after the response have been sent to client, but it forces you to split you logic in 2 components the <em>before</em> part in controller, and the <em>after</em> part in the interceptor.</p>\n\n<p>The alternative way is to forget Spring MVC machinery and manually commit the response in the controller:</p>\n\n<pre><code>@RequestMapping(value = Connectors.CONNECTOR_HEARTBEAT, method = RequestMethod.POST)\npublic void doSomething(@RequestBody List&lt;Message&gt; messages, HttpServletResponse response) {\n    int code = (messages!=null &amp;&amp; !messages.isEmpty()) ? HttpServletResponse.SC_OK\n            : HttpServletResponse.SC_NOT_FOUND;\n    if (code != HttpServletResponse.SC_OK) {\n        response.sendError(code, res);\n        return;\n    }\n    java.io.PrintWriter wr = response.getWriter();\n    response.setStatus(code);\n    wr.print(res);\n    wr.flush();\n    wr.close();\n\n    // Now it it time to do the long processing\n    ...\n}\n</code></pre>\n\n<p>Note the void return code to notify Spring that the response have been committed in the controller.</p>\n\n<p>As a side advantage, the processing still occurs in the same thread, so you have full access to session scoped attributes or any other thread local variables used by Spring MVC or Spring Security...</p>\n"},{"tags":[],"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439903561,"creation_date":1439903561,"answer_id":32073480,"question_id":32072255,"body_markdown":"I guess you mau use the async mechanism of spring\r\nAsync methods have been introduced in servlet 3.0 and Spring offers some support to them\r\nBasically... you make a request; the request is handled by the server and then, in background, a new thread manages the requesta data\r\nHere a useful link (at least i hope :) ) http://spring.io/blog/2012/05/10/spring-mvc-3-2-preview-making-a-controller-method-asynchronous/","title":"How to send response before actions in spring mvc","body":"<p>I guess you mau use the async mechanism of spring\nAsync methods have been introduced in servlet 3.0 and Spring offers some support to them\nBasically... you make a request; the request is handled by the server and then, in background, a new thread manages the requesta data\nHere a useful link (at least i hope :) ) <a href=\"http://spring.io/blog/2012/05/10/spring-mvc-3-2-preview-making-a-controller-method-asynchronous/\" rel=\"nofollow\">http://spring.io/blog/2012/05/10/spring-mvc-3-2-preview-making-a-controller-method-asynchronous/</a></p>\n"},{"tags":[],"owner":{"account_id":195966,"reputation":15172,"user_id":439171,"accept_rate":75,"display_name":"Italo Borssatto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522402249,"creation_date":1522401342,"answer_id":49571654,"question_id":32072255,"body_markdown":"You should use the `HandlerInterceptor`. But the code get a little bit more complex than expected. So, here&#39;s a code suggestion to make it simpler by putting the whole solution in a single class:\r\n\r\n    @RequestMapping(value = Connectors.CONNECTOR_HEARTBEAT, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;String&gt; doSomething(@RequestBody List&lt;Message&gt; messages) {\r\n        HttpStatus code = (messages!=null &amp;&amp; !messages.isEmpty()) ? HttpStatus.OK\r\n                : HttpStatus.NOT_FOUND;\r\n\r\n\t\tresult.set(res); // Save the object to be used after response\r\n\r\n        return new ResponseEntity&lt;String&gt;(res, code);\r\n    }\r\n\r\n\tprivate static final ThreadLocal&lt;String&gt; result = new ThreadLocal&lt;String&gt;();\r\n\r\n\t@Bean\r\n\tpublic HandlerInterceptor interceptor() {\r\n\t\treturn new HandlerInterceptor() {\r\n\t\t\t@Override\r\n\t\t\tpublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\r\n\t\t\t\t// Get the saved object and clean for the next request\r\n\t\t\t\tString res = result.get();\r\n\t\t\t\tresult.set(null);\r\n\r\n\t\t\t\t// TODO Your code to be executed after response.\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n","title":"How to send response before actions in spring mvc","body":"<p>You should use the <code>HandlerInterceptor</code>. But the code get a little bit more complex than expected. So, here's a code suggestion to make it simpler by putting the whole solution in a single class:</p>\n\n<pre><code>@RequestMapping(value = Connectors.CONNECTOR_HEARTBEAT, method = RequestMethod.POST)\npublic ResponseEntity&lt;String&gt; doSomething(@RequestBody List&lt;Message&gt; messages) {\n    HttpStatus code = (messages!=null &amp;&amp; !messages.isEmpty()) ? HttpStatus.OK\n            : HttpStatus.NOT_FOUND;\n\n    result.set(res); // Save the object to be used after response\n\n    return new ResponseEntity&lt;String&gt;(res, code);\n}\n\nprivate static final ThreadLocal&lt;String&gt; result = new ThreadLocal&lt;String&gt;();\n\n@Bean\npublic HandlerInterceptor interceptor() {\n    return new HandlerInterceptor() {\n        @Override\n        public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\n            // Get the saved object and clean for the next request\n            String res = result.get();\n            result.set(null);\n\n            // TODO Your code to be executed after response.\n        }\n    };\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18158673,"reputation":187,"user_id":13210360,"display_name":"SoulKa"},"score":0,"creation_date":1692283248,"post_id":54355216,"comment_id":135604744,"body_markdown":"This does not work! Using an @Async annotation in the same class is bypassing the async proxy! The async method has to lie in another class","body":"This does not work! Using an @Async annotation in the same class is bypassing the async proxy! The async method has to lie in another class"}],"tags":[],"owner":{"account_id":7573114,"reputation":308,"user_id":8342681,"display_name":"Javier Solis Guzman"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1693943040,"creation_date":1548363561,"answer_id":54355216,"question_id":32072255,"body_markdown":"You can use @Async, only need to pass your code to other bean (you could use @Service, @Component), and inject to your controller.\r\n\r\n\r\nThis is the method of your controller\r\n\r\n\r\n    @RequestMapping(value = Connectors.CONNECTOR_HEARTBEAT, method = \r\n          RequestMethod.POST)\r\n    public ResponseEntity&lt;String&gt; doSomething(@RequestBody List&lt;Message&gt; \r\n          messages) {\r\n        otherService.do();\r\n        HttpStatus code = (messages!=null &amp;&amp; !messages.isEmpty()) ? HttpStatus.OK\r\n            : HttpStatus.NOT_FOUND;\r\n         return new ResponseEntity&lt;String&gt;(res, code);\r\n   \r\n    }\r\n\r\n\r\nAnd this is the other bean\r\n\r\n    @Service\r\n    class OtherService{\r\n\r\n        @Async \r\n        void do(){\r\n           //your code\r\n        }\r\n    }\r\n\r\n","title":"How to send response before actions in spring mvc","body":"<p>You can use @Async, only need to pass your code to other bean (you could use @Service, @Component), and inject to your controller.</p>\n<p>This is the method of your controller</p>\n<pre><code>@RequestMapping(value = Connectors.CONNECTOR_HEARTBEAT, method = \n      RequestMethod.POST)\npublic ResponseEntity&lt;String&gt; doSomething(@RequestBody List&lt;Message&gt; \n      messages) {\n    otherService.do();\n    HttpStatus code = (messages!=null &amp;&amp; !messages.isEmpty()) ? HttpStatus.OK\n        : HttpStatus.NOT_FOUND;\n     return new ResponseEntity&lt;String&gt;(res, code);\n\n}\n</code></pre>\n<p>And this is the other bean</p>\n<pre><code>@Service\nclass OtherService{\n\n    @Async \n    void do(){\n       //your code\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":238581,"reputation":4917,"user_id":507564,"accept_rate":63,"display_name":"orshachar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13308,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":32073300,"answer_count":4,"score":8,"last_activity_date":1693943040,"creation_date":1439900348,"question_id":32072255,"body_markdown":"Say that my spring controller function receives a large amount of data.\r\nI want to return 200 OK, given that the data is structured right, and **after that** I want to perform the processing, which might take a while.\r\n\r\n\r\nTo my understanding the only way to send response is by **return** command. But I don&#39;t want to end the function on response send. \r\n\r\nAre there other ways to send response to client at the middle of the function?\r\n\r\nCreating a new thread run is obvious but other languages (JS) let you handle it more elegantly.\r\n\r\n\r\n\t@RequestMapping(value = Connectors.CONNECTOR_HEARTBEAT, method = RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;String&gt; doSomething(@RequestBody List&lt;Message&gt; messages) {\r\n\t\tHttpStatus code = (messages!=null &amp;&amp; !messages.isEmpty()) ? HttpStatus.OK\r\n\t\t\t\t: HttpStatus.NOT_FOUND;\r\n\t\treturn new ResponseEntity&lt;String&gt;(res, code);\r\n       // how do I add code here??\r\n\t}","title":"How to send response before actions in spring mvc","body":"<p>Say that my spring controller function receives a large amount of data.\nI want to return 200 OK, given that the data is structured right, and <strong>after that</strong> I want to perform the processing, which might take a while.</p>\n\n<p>To my understanding the only way to send response is by <strong>return</strong> command. But I don't want to end the function on response send. </p>\n\n<p>Are there other ways to send response to client at the middle of the function?</p>\n\n<p>Creating a new thread run is obvious but other languages (JS) let you handle it more elegantly.</p>\n\n<pre><code>@RequestMapping(value = Connectors.CONNECTOR_HEARTBEAT, method = RequestMethod.POST)\npublic ResponseEntity&lt;String&gt; doSomething(@RequestBody List&lt;Message&gt; messages) {\n    HttpStatus code = (messages!=null &amp;&amp; !messages.isEmpty()) ? HttpStatus.OK\n            : HttpStatus.NOT_FOUND;\n    return new ResponseEntity&lt;String&gt;(res, code);\n   // how do I add code here??\n}\n</code></pre>\n"},{"tags":["java","performance"],"answers":[{"comments":[{"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;š Zato"},"score":0,"creation_date":1693913689,"post_id":77044102,"comment_id":135819293,"body_markdown":"So basically passing a final string and passing a boolean literal is the exact same thing, it reuses the object created behind the scenes already, if I understand this right?","body":"So basically passing a final string and passing a boolean literal is the exact same thing, it reuses the object created behind the scenes already, if I understand this right?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1693913753,"post_id":77044102,"comment_id":135819306,"body_markdown":"@Tom&#225;šZato Yes, in the sense that no unnecessary objects are created.","body":"@Tom&#225;šZato Yes, in the sense that no unnecessary objects are created."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693914636,"post_id":77044102,"comment_id":135819483,"body_markdown":"@OP You&#39;d be interested to know that all primitives are boxed in this sense (usually akin to a `BoxedPrimitive#valueOf(primitive)`), but some have a limited range that they cache (e.g. `int`/`Integer` used to cache the byte range, not sure if that was extended).","body":"@OP You&#39;d be interested to know that all primitives are boxed in this sense (usually akin to a <code>BoxedPrimitive#valueOf(primitive)</code>), but some have a limited range that they cache (e.g. <code>int</code>/<code>Integer</code> used to cache the byte range, not sure if that was extended)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1693916496,"post_id":77044102,"comment_id":135819887,"body_markdown":"Addendum: the public constructors of the class `Boolean` have been marked as “*Deprecated, for removal*” which means that even the hypothetical implementations currently not boxing non-constant expressions via `valueOf` will have to adopt it. Or, in other words, in a not-so-far future, it will be guaranteed that there are only the two `Boolean` instances.","body":"Addendum: the public constructors of the class <code>Boolean</code> have been marked as “<i>Deprecated, for removal</i>” which means that even the hypothetical implementations currently not boxing non-constant expressions via <code>valueOf</code> will have to adopt it. Or, in other words, in a not-so-far future, it will be guaranteed that there are only the two <code>Boolean</code> instances."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693913846,"creation_date":1693913135,"answer_id":77044102,"question_id":77044014,"body_markdown":"Boxing constant `boolean`s (like the literals `true` and `false`) does not create arbitrarily many new objects. The [Java Language Specification][1] says:\r\n\r\n&gt; If the value p being boxed is the result of evaluating a constant expression (&#167;15.29) of type `boolean`, [...], and the result is `true`, `false`, [...], then let `a` and `b` be the results of any two boxing conversions of `p`. It is always the case that `a == b`.\r\n\r\nIf it is not a constant boolean expression (e.g. `someString.length() == 5`), the language specification doesn&#39;t guarantee boxing to produce the same object, but I think any reasonable implementation would implement boolean boxing as calling [`Boolean.valueof(boolean)`][2], which does not create arbitrarily many new `Boolean` objects. It just returns the static final fields `Boolean.TRUE` and `Boolean.FALSE`. Of course, new `Boolean` objects will be created when the `TRUE` and `FALSE` fields are initialised, but no other `Boolean` objects will be created if you only use `Boolean.valueOf`.\r\n\r\n&gt; Returns a `Boolean` instance representing the specified boolean value. If the specified boolean value is `true`, this method returns `Boolean.TRUE`; if it is `false`, this method returns `Boolean.FALSE`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.7\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html#valueOf(boolean)","title":"When a boolean or int are placed in a java Map that contains Objects, does emplacing them actually create a new Object?","body":"<p>Boxing constant <code>boolean</code>s (like the literals <code>true</code> and <code>false</code>) does not create arbitrarily many new objects. The <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">Java Language Specification</a> says:</p>\n<blockquote>\n<p>If the value p being boxed is the result of evaluating a constant expression (§15.29) of type <code>boolean</code>, [...], and the result is <code>true</code>, <code>false</code>, [...], then let <code>a</code> and <code>b</code> be the results of any two boxing conversions of <code>p</code>. It is always the case that <code>a == b</code>.</p>\n</blockquote>\n<p>If it is not a constant boolean expression (e.g. <code>someString.length() == 5</code>), the language specification doesn't guarantee boxing to produce the same object, but I think any reasonable implementation would implement boolean boxing as calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html#valueOf(boolean)\" rel=\"nofollow noreferrer\"><code>Boolean.valueof(boolean)</code></a>, which does not create arbitrarily many new <code>Boolean</code> objects. It just returns the static final fields <code>Boolean.TRUE</code> and <code>Boolean.FALSE</code>. Of course, new <code>Boolean</code> objects will be created when the <code>TRUE</code> and <code>FALSE</code> fields are initialised, but no other <code>Boolean</code> objects will be created if you only use <code>Boolean.valueOf</code>.</p>\n<blockquote>\n<p>Returns a <code>Boolean</code> instance representing the specified boolean value. If the specified boolean value is <code>true</code>, this method returns <code>Boolean.TRUE</code>; if it is <code>false</code>, this method returns <code>Boolean.FALSE</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;š Zato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77044102,"answer_count":1,"score":1,"last_activity_date":1693942703,"creation_date":1693912205,"question_id":77044014,"body_markdown":"Since in Java, generics usually operate on `Object` under the hood, I was curious if emplacing such values incurs more overhead than placing an already existing object.\r\n\r\nConsider having a `Map&lt;String, Object&gt;` that can contain arbitrary meta-information. You want to put a flag kinda entry there - if it is present, the flag is enabled.\r\n\r\nSo you have something like this:\r\n\r\n```\r\nstatic final String MY_FLAG_NAME = &quot;name&quot;;\r\nMap&lt;String, Object&gt; myMap;\r\n```\r\n\r\nNow I wonder if there is a difference between these three implementations of setting the flat:\r\n\r\n 1. `myMap.put(MY_FLAG_NAME, true)` (`false` to disable)\r\n 2. `myMap.put(MY_FLAG_NAME, null)` (we can use `containsKey`, but this looks dirty to me)\r\n 3. `myMap.put(MY_FLAG_NAME, MY_FLAG_NAME)` (string is already allocated, and we can use `&quot;&quot;` for disable)\r\n\r\nMy question here is if this will force at some point some kind of `new Boolean()` under the hood, or if it does not matter whether I put a string or a boolean. I never really got to understand how precisely Java handles the `boolean`/`Boolean` difference in generics, the same for other primitive types.\r\n\r\nThis code would be called a lot, but I don&#39;t have enough Java knowledge to make a trustworthy performance test.\r\n","title":"When a boolean or int are placed in a java Map that contains Objects, does emplacing them actually create a new Object?","body":"<p>Since in Java, generics usually operate on <code>Object</code> under the hood, I was curious if emplacing such values incurs more overhead than placing an already existing object.</p>\n<p>Consider having a <code>Map&lt;String, Object&gt;</code> that can contain arbitrary meta-information. You want to put a flag kinda entry there - if it is present, the flag is enabled.</p>\n<p>So you have something like this:</p>\n<pre><code>static final String MY_FLAG_NAME = &quot;name&quot;;\nMap&lt;String, Object&gt; myMap;\n</code></pre>\n<p>Now I wonder if there is a difference between these three implementations of setting the flat:</p>\n<ol>\n<li><code>myMap.put(MY_FLAG_NAME, true)</code> (<code>false</code> to disable)</li>\n<li><code>myMap.put(MY_FLAG_NAME, null)</code> (we can use <code>containsKey</code>, but this looks dirty to me)</li>\n<li><code>myMap.put(MY_FLAG_NAME, MY_FLAG_NAME)</code> (string is already allocated, and we can use <code>&quot;&quot;</code> for disable)</li>\n</ol>\n<p>My question here is if this will force at some point some kind of <code>new Boolean()</code> under the hood, or if it does not matter whether I put a string or a boolean. I never really got to understand how precisely Java handles the <code>boolean</code>/<code>Boolean</code> difference in generics, the same for other primitive types.</p>\n<p>This code would be called a lot, but I don't have enough Java knowledge to make a trustworthy performance test.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":5,"creation_date":1693942118,"post_id":77047217,"comment_id":135825408,"body_markdown":"So is there an image called `richDadPoorDad.jpeg` in the same package as the `CardController` class at runtime?","body":"So is there an image called <code>richDadPoorDad.jpeg</code> in the same package as the <code>CardController</code> class at runtime?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1693944511,"post_id":77047217,"comment_id":135825808,"body_markdown":"Unrelated to your issue, but this color specification `rgba (0,0,0,0,,1)` is syntactically wrong.  See the [CSS reference](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#typecolor) for valid color styles.","body":"Unrelated to your issue, but this color specification <code>rgba (0,0,0,0,,1)</code> is syntactically wrong.  See the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#typecolor\" rel=\"nofollow noreferrer\">CSS reference</a> for valid color styles."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693947547,"post_id":77047217,"comment_id":135826250,"body_markdown":"I would assume that `Book` instances are &quot;dynamic&quot;. That is to say, books are loaded from an external source, such as an application database or a web API. If that&#39;s the case, then it does not make sense for the book&#39;s (cover?) image to be a _resource_, because you can&#39;t add resources at run-time. You most likely should simply be using `new Image(book.getImageSrc())`, where the &quot;image source&quot; string is a file or http(s) URI.","body":"I would assume that <code>Book</code> instances are &quot;dynamic&quot;. That is to say, books are loaded from an external source, such as an application database or a web API. If that&#39;s the case, then it does not make sense for the book&#39;s (cover?) image to be a <i>resource</i>, because you can&#39;t add resources at run-time. You most likely should simply be using <code>new Image(book.getImageSrc())</code>, where the &quot;image source&quot; string is a file or http(s) URI."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1693947953,"post_id":77047217,"comment_id":135826301,"body_markdown":"Otherwise, this is probably a duplicate of [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/q/61531317/6395627).","body":"Otherwise, this is probably a duplicate of <a href=\"https://stackoverflow.com/q/61531317/6395627\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a>."}],"owner":{"account_id":28304862,"reputation":57,"user_id":21643028,"display_name":"MsLaus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693942188,"creation_date":1693941576,"question_id":77047217,"body_markdown":"This is one of my first JavaFX Project and I have a problem. in the class CardController, the &quot;getClass().getResourceAsStream(book.getImageSrc())&quot; returns null and i do not know why.\r\n\r\n```\r\npublic class CardController {\r\n\r\n    @FXML\r\n    private HBox box;\r\n\r\n    @FXML\r\n    private Label authorName;\r\n\r\n    @FXML\r\n    private Label bookName;\r\n\r\n    @FXML\r\n    private ImageView bookImage;\r\n    private String[] colors = {&quot;B9E5FF&quot;, &quot;BDB2FE&quot;, &quot;FB9AA8&quot;, &quot;FF5056&quot;};\r\n    public void setData(Book book){\r\n\r\n        Image image = new Image(getClass().getResourceAsStream(book.getImageSrc())); //here is where i have the problem\r\n\r\n        bookImage.setImage(image);\r\n        bookName.setText(book.getName());\r\n        authorName.setText(book.getAuthor());\r\n\r\n        box.setStyle(&quot;fx-background-color: #&quot;+ colors[(int)(Math.random()*colors.length)] +&quot;;&quot; +\r\n                &quot; -fx-background-radius: 15;&quot; +\r\n                &quot;-fx-effect: dropShadow(three-pass-box, rgba (0,0,0,0,,1), 10, 0, 0, 10);&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class Book {\r\n\r\n    private String name;\r\n    private String ImageSrc;\r\n    private String author;\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setImageSrc(String imageSrc) {\r\n        ImageSrc = imageSrc;\r\n    }\r\n\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getImageSrc() {\r\n        return ImageSrc;\r\n    }\r\n\r\n    public String getAuthor() {\r\n        return author;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class HelloController implements Initializable {\r\n\r\n    @FXML\r\n    private HBox cardLayout;\r\n\r\n    @FXML\r\n    private GridPane bookContainer;\r\n    private List&lt;Book&gt; recentlyAdded;\r\n    private List&lt;Book&gt; recommended;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n\r\n        recentlyAdded = new ArrayList&lt;&gt;(recentlyAdded());\r\n        recommended = new ArrayList&lt;&gt;(books());\r\n\r\n        int column =0;\r\n        int row = 1;\r\n\r\n        try {\r\n\r\n            for (Book value: recentlyAdded) {\r\n\r\n                FXMLLoader fxmlLoader = new FXMLLoader();\r\n                fxmlLoader.setLocation(getClass().getResource(&quot;card.fxml&quot;));\r\n                HBox cardBox = fxmlLoader.load();\r\n                CardController cardController = fxmlLoader.getController();\r\n                cardController.setData(value);\r\n                cardLayout.getChildren().add(cardBox);\r\n            }\r\n\r\n            for(Book book: recommended){\r\n\r\n                FXMLLoader fxmlLoader = new FXMLLoader();\r\n                fxmlLoader.setLocation(getClass().getResource(&quot;book.fxml&quot;));\r\n                VBox bookBox = fxmlLoader.load();\r\n                BookController bookController = fxmlLoader.getController();\r\n                bookController.setData(book);\r\n\r\n                if(column ==6){\r\n                    column =0;\r\n                    ++row;\r\n\r\n                }\r\n\r\n                bookContainer.add(bookBox, column++, row);\r\n                GridPane.setMargin(bookBox, new Insets(10));\r\n\r\n            }\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n    private List&lt;Book&gt; recentlyAdded(){\r\n\r\n        List&lt;Book&gt; ls = new ArrayList&lt;&gt;();\r\n\r\n        Book book = new Book();\r\n        book.setName(&quot;RICH DAD \\n POOR DAD&quot;);\r\n        book.setImageSrc(&quot;richDadPoorDad.jpeg&quot;);\r\n        book.setAuthor(&quot;Robert T.Kiyosaki&quot;);\r\n        ls.add(book);\r\n        return ls;\r\n    }\r\n\r\n    private List&lt;Book&gt; books(){\r\n\r\n        List&lt;Book&gt; ls = new ArrayList&lt;&gt;();\r\n\r\n        Book book = new Book();\r\n        book.setName(&quot;RICH DAD \\n POOR DAD&quot;);\r\n        book.setImageSrc(&quot;richDadPoorDad.jpeg&quot;);\r\n        book.setAuthor(&quot;Robert T.Kiyosaki&quot;);\r\n        ls.add(book);\r\n        return ls;\r\n    }\r\n}\r\n```","title":"getResourceAsStream returning null for Image src","body":"<p>This is one of my first JavaFX Project and I have a problem. in the class CardController, the &quot;getClass().getResourceAsStream(book.getImageSrc())&quot; returns null and i do not know why.</p>\n<pre><code>public class CardController {\n\n    @FXML\n    private HBox box;\n\n    @FXML\n    private Label authorName;\n\n    @FXML\n    private Label bookName;\n\n    @FXML\n    private ImageView bookImage;\n    private String[] colors = {&quot;B9E5FF&quot;, &quot;BDB2FE&quot;, &quot;FB9AA8&quot;, &quot;FF5056&quot;};\n    public void setData(Book book){\n\n        Image image = new Image(getClass().getResourceAsStream(book.getImageSrc())); //here is where i have the problem\n\n        bookImage.setImage(image);\n        bookName.setText(book.getName());\n        authorName.setText(book.getAuthor());\n\n        box.setStyle(&quot;fx-background-color: #&quot;+ colors[(int)(Math.random()*colors.length)] +&quot;;&quot; +\n                &quot; -fx-background-radius: 15;&quot; +\n                &quot;-fx-effect: dropShadow(three-pass-box, rgba (0,0,0,0,,1), 10, 0, 0, 10);&quot;);\n    }\n\n}\n</code></pre>\n<pre><code>public class Book {\n\n    private String name;\n    private String ImageSrc;\n    private String author;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setImageSrc(String imageSrc) {\n        ImageSrc = imageSrc;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getImageSrc() {\n        return ImageSrc;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n}\n</code></pre>\n<pre><code>public class HelloController implements Initializable {\n\n    @FXML\n    private HBox cardLayout;\n\n    @FXML\n    private GridPane bookContainer;\n    private List&lt;Book&gt; recentlyAdded;\n    private List&lt;Book&gt; recommended;\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n        recentlyAdded = new ArrayList&lt;&gt;(recentlyAdded());\n        recommended = new ArrayList&lt;&gt;(books());\n\n        int column =0;\n        int row = 1;\n\n        try {\n\n            for (Book value: recentlyAdded) {\n\n                FXMLLoader fxmlLoader = new FXMLLoader();\n                fxmlLoader.setLocation(getClass().getResource(&quot;card.fxml&quot;));\n                HBox cardBox = fxmlLoader.load();\n                CardController cardController = fxmlLoader.getController();\n                cardController.setData(value);\n                cardLayout.getChildren().add(cardBox);\n            }\n\n            for(Book book: recommended){\n\n                FXMLLoader fxmlLoader = new FXMLLoader();\n                fxmlLoader.setLocation(getClass().getResource(&quot;book.fxml&quot;));\n                VBox bookBox = fxmlLoader.load();\n                BookController bookController = fxmlLoader.getController();\n                bookController.setData(book);\n\n                if(column ==6){\n                    column =0;\n                    ++row;\n\n                }\n\n                bookContainer.add(bookBox, column++, row);\n                GridPane.setMargin(bookBox, new Insets(10));\n\n            }\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n\n    }\n    private List&lt;Book&gt; recentlyAdded(){\n\n        List&lt;Book&gt; ls = new ArrayList&lt;&gt;();\n\n        Book book = new Book();\n        book.setName(&quot;RICH DAD \\n POOR DAD&quot;);\n        book.setImageSrc(&quot;richDadPoorDad.jpeg&quot;);\n        book.setAuthor(&quot;Robert T.Kiyosaki&quot;);\n        ls.add(book);\n        return ls;\n    }\n\n    private List&lt;Book&gt; books(){\n\n        List&lt;Book&gt; ls = new ArrayList&lt;&gt;();\n\n        Book book = new Book();\n        book.setName(&quot;RICH DAD \\n POOR DAD&quot;);\n        book.setImageSrc(&quot;richDadPoorDad.jpeg&quot;);\n        book.setAuthor(&quot;Robert T.Kiyosaki&quot;);\n        ls.add(book);\n        return ls;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","payment-gateway","google-pay","upi"],"comments":[{"owner":{"account_id":29373846,"reputation":301,"user_id":22505875,"display_name":"Wise Chimpanzee"},"score":0,"creation_date":1693941024,"post_id":76988284,"comment_id":135857322,"body_markdown":"You can Contact to Customer Support As they can help you with this case. As far **AS MY experience Your code seems correct**. So The Last Option is left to contact customer support [here](https://developers.google.com/business-communications/business-messages/support/contact) you can get info how to get customer support.\nYou can refer [this](https://stackoverflow.com/questions/66239372/google-pay-upi-integration-not-working-in-android?noredirect=1&amp;lq=1) stack overflow question and [this stackoverflow](https://stackoverflow.com/questions/61417463/trying-to-integrate-google-pay-to-my-android-app","body":"You can Contact to Customer Support As they can help you with this case. As far <b>AS MY experience Your code seems correct</b>. So The Last Option is left to contact customer support <a href=\"https://developers.google.com/business-communications/business-messages/support/contact\" rel=\"nofollow noreferrer\">here</a> you can get info how to get customer support. You can refer <a href=\"https://stackoverflow.com/questions/66239372/google-pay-upi-integration-not-working-in-android?noredirect=1&amp;lq=1\">this</a> stack overflow question and [this stackoverflow](<a href=\"https://stackoverflow.com/questions/61417463/trying-to-integrate-google-pay-to-my-android-app\" title=\"trying to integrate google pay to my android app\">stackoverflow.com/questions/61417463/&hellip;</a>"}],"owner":{"account_id":27519060,"reputation":265,"user_id":20999526,"display_name":"George"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1693941998,"creation_date":1693158117,"question_id":76988284,"body_markdown":"I am using this library ([Library link][1]) to create a UPI intent. This library supports both payment intent and QR code generation. Now, payment through PhonePe succeeds but payment through GooglePay sometimes succeeds and sometimes fails (when done through intent). Payment through PhonePe always succeeds (both using Intent and QR). \r\n\r\nThis is what I am trying to do.\r\n\r\nMainActivity.java\r\n\r\n        btn1.setOnClickListener(view -&gt; {\r\n            try {\r\n                UPI upi = UPI.getInstance();\r\n                Intent payIntent = upi.getPaymentIntent(UPI_ID, NAME, &quot;1&quot;, &quot;INR&quot;, &quot;Test&quot;, &quot;&quot;, MERCHANT_CODE, UPI.ALL_APPS);\r\n                launcher.launch(payIntent);\r\n            }\r\n            catch (Exception e) {\r\n                Toast.makeText(MainActivity.this, e.toString(), Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n        btn2.setOnClickListener(view -&gt; {\r\n            getSupportFragmentManager().beginTransaction().add(new QRFragment(), &quot;QR&quot;).commit();\r\n        });\r\n\r\nQRFragment.java\r\n\r\n        UPI upi = UPI.getInstance();\r\n        try {\r\n            Bitmap bitmap = upi.getQR(UPI_ID, NAME, &quot;1&quot;, &quot;INR&quot;, &quot;Test&quot;, &quot;&quot;, MERCHANT_CODE, 512);\r\n            img = view.findViewById(R.id.img);\r\n            img.setImageBitmap(bitmap);\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n**Note**: The recipient UPI ID is a **business UPI ID**.\r\n\r\nEdited: The merchant has only PhonePe and PayTM merchant ID (no Google Pay). Can it be a problem?\r\n\r\n\r\n  [1]: https://github.com/samudraganguly/upi","title":"Payment through Google Pay sometimes succeeds sometimes fails using UPI Intent in Android Studio [business UPI ID]","body":"<p>I am using this library (<a href=\"https://github.com/samudraganguly/upi\" rel=\"nofollow noreferrer\">Library link</a>) to create a UPI intent. This library supports both payment intent and QR code generation. Now, payment through PhonePe succeeds but payment through GooglePay sometimes succeeds and sometimes fails (when done through intent). Payment through PhonePe always succeeds (both using Intent and QR).</p>\n<p>This is what I am trying to do.</p>\n<p>MainActivity.java</p>\n<pre><code>    btn1.setOnClickListener(view -&gt; {\n        try {\n            UPI upi = UPI.getInstance();\n            Intent payIntent = upi.getPaymentIntent(UPI_ID, NAME, &quot;1&quot;, &quot;INR&quot;, &quot;Test&quot;, &quot;&quot;, MERCHANT_CODE, UPI.ALL_APPS);\n            launcher.launch(payIntent);\n        }\n        catch (Exception e) {\n            Toast.makeText(MainActivity.this, e.toString(), Toast.LENGTH_LONG).show();\n        }\n    });\n    btn2.setOnClickListener(view -&gt; {\n        getSupportFragmentManager().beginTransaction().add(new QRFragment(), &quot;QR&quot;).commit();\n    });\n</code></pre>\n<p>QRFragment.java</p>\n<pre><code>    UPI upi = UPI.getInstance();\n    try {\n        Bitmap bitmap = upi.getQR(UPI_ID, NAME, &quot;1&quot;, &quot;INR&quot;, &quot;Test&quot;, &quot;&quot;, MERCHANT_CODE, 512);\n        img = view.findViewById(R.id.img);\n        img.setImageBitmap(bitmap);\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p><strong>Note</strong>: The recipient UPI ID is a <strong>business UPI ID</strong>.</p>\n<p>Edited: The merchant has only PhonePe and PayTM merchant ID (no Google Pay). Can it be a problem?</p>\n"},{"tags":["java","android","android-permissions"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693941769,"creation_date":1693941769,"answer_id":77047233,"question_id":77046488,"body_markdown":"You should not ask user for permission in the infinite loop. Your dialog, which gives information why you need this permission should explain which functionality requires it. If user denies granting this permission, then you should disable this functionality. In your application its best to add some way of turning on your functionality, once user explicitly turns it on (for example presses a button), you will ask for permission again - if its not granted.\r\n\r\nThis is what google actually expects from application in [Workflow for requesting permissions][1]:\r\n\r\n&gt; If the user denied the permission instead, gracefully degrade your app\r\n&gt; experience so that it provides functionality to the user without the\r\n&gt; information that&#39;s protected by that permission.\r\n\r\nBut, whats more important is that after user will deny your request twice, system will stop showing it again, so there will be no point in showing it again and again because only your dialog with request reason will show up - and no system dialog will be shown. for [reference][2]\r\n\r\n&gt; Starting in Android 11 (API level 30), if the user taps Deny for a\r\n&gt; specific permission more than once during your app&#39;s lifetime of\r\n&gt; installation on a device, the user doesn&#39;t see the system permissions\r\n&gt; dialog if your app requests that permission again. The user&#39;s action\r\n&gt; implies &quot;don&#39;t ask again.&quot; On previous versions, users saw the system\r\n&gt; permissions dialog each time your app requested a permission, unless\r\n&gt; they had previously selected a &quot;don&#39;t ask again&quot; checkbox or option.\r\n\r\nGoing back to your question:\r\n\r\n&gt; if the answer is no please tell me how to correct the code?\r\n\r\nYou should remove this line:\r\n\r\n    //is not granted\r\n    requestLocationPermission(fragment);\r\n\r\nand replace it with logic which will degrade application functionality.\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting#workflow_for_requesting_permissions\r\n  [2]:\r\nhttps://developer.android.com/training/permissions/requesting#handle-denial\r\n","title":"My own Location permission utility function for fragments. is that ok? (JAVA)","body":"<p>You should not ask user for permission in the infinite loop. Your dialog, which gives information why you need this permission should explain which functionality requires it. If user denies granting this permission, then you should disable this functionality. In your application its best to add some way of turning on your functionality, once user explicitly turns it on (for example presses a button), you will ask for permission again - if its not granted.</p>\n<p>This is what google actually expects from application in <a href=\"https://developer.android.com/training/permissions/requesting#workflow_for_requesting_permissions\" rel=\"nofollow noreferrer\">Workflow for requesting permissions</a>:</p>\n<blockquote>\n<p>If the user denied the permission instead, gracefully degrade your app\nexperience so that it provides functionality to the user without the\ninformation that's protected by that permission.</p>\n</blockquote>\n<p>But, whats more important is that after user will deny your request twice, system will stop showing it again, so there will be no point in showing it again and again because only your dialog with request reason will show up - and no system dialog will be shown. for <a href=\"https://developer.android.com/training/permissions/requesting#handle-denial\" rel=\"nofollow noreferrer\">reference</a></p>\n<blockquote>\n<p>Starting in Android 11 (API level 30), if the user taps Deny for a\nspecific permission more than once during your app's lifetime of\ninstallation on a device, the user doesn't see the system permissions\ndialog if your app requests that permission again. The user's action\nimplies &quot;don't ask again.&quot; On previous versions, users saw the system\npermissions dialog each time your app requested a permission, unless\nthey had previously selected a &quot;don't ask again&quot; checkbox or option.</p>\n</blockquote>\n<p>Going back to your question:</p>\n<blockquote>\n<p>if the answer is no please tell me how to correct the code?</p>\n</blockquote>\n<p>You should remove this line:</p>\n<pre><code>//is not granted\nrequestLocationPermission(fragment);\n</code></pre>\n<p>and replace it with logic which will degrade application functionality.</p>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77047233,"answer_count":1,"score":0,"last_activity_date":1693941769,"creation_date":1693933931,"question_id":77046488,"body_markdown":"I tried to write an minimized utility function for location permission for fragments as follow:\r\n\r\n````````````\r\n    public class LocationPermissionUtils {\r\n    \r\n        private static final String LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\r\n        private static final String LOCATION_COARSE_PERMISSION = Manifest.permission.ACCESS_COARSE_LOCATION;\r\n    \r\n        public static boolean requestLocationPermission(Fragment fragment) {\r\n            if (checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION) == PackageManager.PERMISSION_GRANTED)\r\n                return true;\r\n    \r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\r\n                showDialog();\r\n            } else {\r\n                LocationUtils.permissionLauncherUtils(fragment).launch(LOCATION_PERMISSION); // &lt;-- this\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public static ActivityResultLauncher&lt;String&gt; permissionLauncherUtils(Fragment fragment) {\r\n            return fragment\r\n                    .registerForActivityResult(new ActivityResultContracts.RequestPermission(), new ActivityResultCallback&lt;Boolean&gt;() {\r\n                        @Override\r\n                        public void onActivityResult(Boolean result) {\r\n                            if (result) {\r\n                                //is granted\r\n                                // one can use a callback to send result\r\n                            } else {\r\n                                //is not granted\r\n                                requestLocationPermission(fragment); \r\n                            }\r\n                        }\r\n                    });\r\n        }\r\n\r\n       // codes of showDialog() ..\r\n    }\r\n````````````\r\n\r\nDo you recommend this code that is recursive? \r\n\r\nWill this work at all? if the answer is no please tell me how to correct the code?","title":"My own Location permission utility function for fragments. is that ok? (JAVA)","body":"<p>I tried to write an minimized utility function for location permission for fragments as follow:</p>\n<pre><code>    public class LocationPermissionUtils {\n    \n        private static final String LOCATION_PERMISSION = Manifest.permission.ACCESS_FINE_LOCATION;\n        private static final String LOCATION_COARSE_PERMISSION = Manifest.permission.ACCESS_COARSE_LOCATION;\n    \n        public static boolean requestLocationPermission(Fragment fragment) {\n            if (checkSelfPermission(fragment.requireContext(), LOCATION_PERMISSION) == PackageManager.PERMISSION_GRANTED)\n                return true;\n    \n            if (ActivityCompat.shouldShowRequestPermissionRationale(fragment.requireActivity(), LOCATION_PERMISSION)) {\n                showDialog();\n            } else {\n                LocationUtils.permissionLauncherUtils(fragment).launch(LOCATION_PERMISSION); // &lt;-- this\n            }\n            return false;\n        }\n    \n        public static ActivityResultLauncher&lt;String&gt; permissionLauncherUtils(Fragment fragment) {\n            return fragment\n                    .registerForActivityResult(new ActivityResultContracts.RequestPermission(), new ActivityResultCallback&lt;Boolean&gt;() {\n                        @Override\n                        public void onActivityResult(Boolean result) {\n                            if (result) {\n                                //is granted\n                                // one can use a callback to send result\n                            } else {\n                                //is not granted\n                                requestLocationPermission(fragment); \n                            }\n                        }\n                    });\n        }\n\n       // codes of showDialog() ..\n    }\n</code></pre>\n<p>Do you recommend this code that is recursive?</p>\n<p>Will this work at all? if the answer is no please tell me how to correct the code?</p>\n"},{"tags":["java","spring-integration","spring-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693941327,"creation_date":1693941327,"answer_id":77047191,"question_id":77046423,"body_markdown":"We don&#39;t see any retry configuration in your question, but see this one which might be exactly what you are looking for: https://stackoverflow.com/questions/66768745/how-to-get-retryadvice-working-for-kafkaproducermessagehandler.\r\n\r\nSo, this is essentially what you need:\r\n\r\n    .handle(Kafka.outboundChannelAdapter(kafkaTemplate)\r\n                     .topic(Constants.KAFKA_TOPIC)\r\n                     .sync(true), \r\n                e -&gt; e.id(Constants.ENGAGE_ACOUSTIC_ID)\r\n                        .advice(retryAdvice))","title":"How to add retry advice to kafka publishing IntegrationFlow","body":"<p>We don't see any retry configuration in your question, but see this one which might be exactly what you are looking for: <a href=\"https://stackoverflow.com/questions/66768745/how-to-get-retryadvice-working-for-kafkaproducermessagehandler\">How to get RetryAdvice working for KafkaProducerMessageHandler</a>.</p>\n<p>So, this is essentially what you need:</p>\n<pre><code>.handle(Kafka.outboundChannelAdapter(kafkaTemplate)\n                 .topic(Constants.KAFKA_TOPIC)\n                 .sync(true), \n            e -&gt; e.id(Constants.ENGAGE_ACOUSTIC_ID)\n                    .advice(retryAdvice))\n</code></pre>\n"}],"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693941327,"creation_date":1693933266,"question_id":77046423,"body_markdown":"I&#39;m trying to setup retryAdvice if there is an error in publishing to kafka in my publisherFlow. I can&#39;t seem to find the correct configuration on how to get it working. Any help or guidance would be much appreciated.\r\n\r\n```\r\n    @Bean\r\n    public IntegrationFlow publisherFlow(CsvToEmailInteractionConverter converter, KafkaTemplate&lt;String, String&gt; kafkaTemplate) {\r\n        return IntegrationFlow.from(&quot;publisherChannel&quot;)\r\n                              .transform(converter, &quot;transform&quot;)\r\n                              .transform(Transformers.toJson())\r\n                              .log(LoggingHandler.Level.DEBUG, Constants.LOG_FLOW_CATEGORY, m -&gt; &quot;Payload: &quot; + m.getPayload())\r\n                              .handle(Kafka.outboundChannelAdapter(kafkaTemplate)\r\n                                           .topic(Constants.KAFKA_TOPIC), e -&gt; e.id(Constants.ENGAGE_ACOUSTIC_ID))\r\n                              // .routeByException(r -&gt; r.defaultOutputChannel(MessageChannels.direct(&quot;standardFlowExceptionChannel&quot;).getObject()))\r\n                              .get();\r\n    }\r\n```\r\nI think the advice needs to go before the `handle()`?","title":"How to add retry advice to kafka publishing IntegrationFlow","body":"<p>I'm trying to setup retryAdvice if there is an error in publishing to kafka in my publisherFlow. I can't seem to find the correct configuration on how to get it working. Any help or guidance would be much appreciated.</p>\n<pre><code>    @Bean\n    public IntegrationFlow publisherFlow(CsvToEmailInteractionConverter converter, KafkaTemplate&lt;String, String&gt; kafkaTemplate) {\n        return IntegrationFlow.from(&quot;publisherChannel&quot;)\n                              .transform(converter, &quot;transform&quot;)\n                              .transform(Transformers.toJson())\n                              .log(LoggingHandler.Level.DEBUG, Constants.LOG_FLOW_CATEGORY, m -&gt; &quot;Payload: &quot; + m.getPayload())\n                              .handle(Kafka.outboundChannelAdapter(kafkaTemplate)\n                                           .topic(Constants.KAFKA_TOPIC), e -&gt; e.id(Constants.ENGAGE_ACOUSTIC_ID))\n                              // .routeByException(r -&gt; r.defaultOutputChannel(MessageChannels.direct(&quot;standardFlowExceptionChannel&quot;).getObject()))\n                              .get();\n    }\n</code></pre>\n<p>I think the advice needs to go before the <code>handle()</code>?</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","swagger-2.0"],"owner":{"account_id":86444,"reputation":3523,"user_id":240385,"accept_rate":75,"display_name":"jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693941021,"creation_date":1676743371,"question_id":75495338,"body_markdown":"I have an API that accepts a multi part form data (json body and file upload).  My API works when I use Postman but Swagger does not seem to like it.  Is there a way to allow for multipart payload?  I know I can accepts the json body as a binary file upload, but I would prefer to allow the user to enter the json body into a text area in Swagger.  Here is my example code:\r\n\r\n    @PostMapping(value = &quot;/myPost&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;MyResult&gt; createPost(\r\n          @RequestPart(value = &quot;body&quot;, required = true) MyDTO myDto,\r\n          @RequestPart(required = false) MultipartFile[] attachments) {\r\n       //my code\r\n    }\r\n\r\nSwagger will then show a Text area called Body, which has my MyDTO schema and file attachment form.  When I submit, I get this error in my Spring Boot API:\r\n\r\n**org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/octet-stream&#39; not supported**\r\n\r\nI can change the RequestParts to this:\r\n\r\n    @RequestPart(value = &quot;body&quot;) @Parameter(schema = @Schema(type = &quot;string&quot;, format = &quot;binary&quot;)) final MyDTO myDTO ,\r\n    @RequestPart(value = &quot;file&quot;, required = false) final MultipartFile[] attachments\r\n\r\nAnd this will work, but instead of having a Body text area, which displays the MyDTO Schema, Swagger just shows two file upload forms (the Body upload works by putting the JSON payload into a json file and uploading that).  While it will work, it is an inconvenience to the user, as they can&#39;t just copy in the json payload and instead have to create a separate json file. Is there a way to allow a multip part form to have both a json payload and a file attachment?\r\n\r\nthanks\r\n","title":"Using Swagger for Spring Boot API Content type &#39;application/octet-stream&#39; not supported","body":"<p>I have an API that accepts a multi part form data (json body and file upload).  My API works when I use Postman but Swagger does not seem to like it.  Is there a way to allow for multipart payload?  I know I can accepts the json body as a binary file upload, but I would prefer to allow the user to enter the json body into a text area in Swagger.  Here is my example code:</p>\n<pre><code>@PostMapping(value = &quot;/myPost&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;MyResult&gt; createPost(\n      @RequestPart(value = &quot;body&quot;, required = true) MyDTO myDto,\n      @RequestPart(required = false) MultipartFile[] attachments) {\n   //my code\n}\n</code></pre>\n<p>Swagger will then show a Text area called Body, which has my MyDTO schema and file attachment form.  When I submit, I get this error in my Spring Boot API:</p>\n<p><strong>org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/octet-stream' not supported</strong></p>\n<p>I can change the RequestParts to this:</p>\n<pre><code>@RequestPart(value = &quot;body&quot;) @Parameter(schema = @Schema(type = &quot;string&quot;, format = &quot;binary&quot;)) final MyDTO myDTO ,\n@RequestPart(value = &quot;file&quot;, required = false) final MultipartFile[] attachments\n</code></pre>\n<p>And this will work, but instead of having a Body text area, which displays the MyDTO Schema, Swagger just shows two file upload forms (the Body upload works by putting the JSON payload into a json file and uploading that).  While it will work, it is an inconvenience to the user, as they can't just copy in the json payload and instead have to create a separate json file. Is there a way to allow a multip part form to have both a json payload and a file attachment?</p>\n<p>thanks</p>\n"},{"tags":["java","nio","channel","datagram"],"answers":[{"comments":[{"owner":{"account_id":383861,"reputation":459,"user_id":739986,"accept_rate":73,"display_name":"Bas Goossen"},"score":0,"creation_date":1385980618,"post_id":20317444,"comment_id":30334542,"body_markdown":"Hello EJP, thanks for this eye opener. You are right one Datagram channel should suffice. so i&#39;d have to forward the data to the datagram channel to the belonging virtual connection. Since i am creating basically only virtual connections and sessions over UDP here (in cases where TCP is not possible or allowed due to NAT setups). Good point, well taken.","body":"Hello EJP, thanks for this eye opener. You are right one Datagram channel should suffice. so i&#39;d have to forward the data to the datagram channel to the belonging virtual connection. Since i am creating basically only virtual connections and sessions over UDP here (in cases where TCP is not possible or allowed due to NAT setups). Good point, well taken."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1385933097,"creation_date":1385933097,"answer_id":20317444,"question_id":20300443,"body_markdown":"&gt; What i do is i instantiare an unconnected DatagramChannel as server, on any read actions i create a new DatagramChannel which i connect to the received address.\r\n\r\nWhy? You already have a `DatagramChannel.` You don&#39;t need any more.\r\n\r\nIn the nature of UDP you should treat each request/response as a completely standalone transaction, without session context. So all you have to do is receive a datagram, compute the reply, send the reply, on the same `DatagramChannel.`","title":"DatagramChannel Server one unconnected channel and more connected channels","body":"<blockquote>\n  <p>What i do is i instantiare an unconnected DatagramChannel as server, on any read actions i create a new DatagramChannel which i connect to the received address.</p>\n</blockquote>\n\n<p>Why? You already have a <code>DatagramChannel.</code> You don't need any more.</p>\n\n<p>In the nature of UDP you should treat each request/response as a completely standalone transaction, without session context. So all you have to do is receive a datagram, compute the reply, send the reply, on the same <code>DatagramChannel.</code></p>\n"}],"owner":{"account_id":383861,"reputation":459,"user_id":739986,"accept_rate":73,"display_name":"Bas Goossen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20317444,"answer_count":1,"score":0,"last_activity_date":1693940473,"creation_date":1385815720,"question_id":20300443,"body_markdown":"I&#39;m trying to abstract NIO channels for UDP and TCP. The DatagramChannel and SocketChannel are already much alike. However i run into one problem. I&#39;m now trying to create a DatagramChannelServer as opposed to ServerSocketChannel. What i do is i instantiare an unconnected DatagramChannel as server, on any read actions i create a new DatagramChannel which i connect to the received address. So i have the unconnected DatagramChannel that is supposed to receive incomming data from all unconnected sources and the connected DatagramChannel that receives all data from the connected source.\r\n\r\nThis however does not work, since all received data whether from a connected source or not is received by the unconnected DatagramChannel. Can you somehow prioritize the order in which keys are handles in a way that Connected DatagramChannels are prioritized above unconnected DatagramChannels? or is there another elegant solution to solve this?\r\n\r\nAt this moment i have a (in my opinion) non elegant solution which takes the data from the unconnected DatagramChannel and inserts it into the respective connected DatagramChannel. However i&#39;d like to have a solution more fitting to the framework.\r\n\r\nSomebody a clue on how to do this neatly?","title":"DatagramChannel Server one unconnected channel and more connected channels","body":"<p>I'm trying to abstract NIO channels for UDP and TCP. The DatagramChannel and SocketChannel are already much alike. However i run into one problem. I'm now trying to create a DatagramChannelServer as opposed to ServerSocketChannel. What i do is i instantiare an unconnected DatagramChannel as server, on any read actions i create a new DatagramChannel which i connect to the received address. So i have the unconnected DatagramChannel that is supposed to receive incomming data from all unconnected sources and the connected DatagramChannel that receives all data from the connected source.</p>\n\n<p>This however does not work, since all received data whether from a connected source or not is received by the unconnected DatagramChannel. Can you somehow prioritize the order in which keys are handles in a way that Connected DatagramChannels are prioritized above unconnected DatagramChannels? or is there another elegant solution to solve this?</p>\n\n<p>At this moment i have a (in my opinion) non elegant solution which takes the data from the unconnected DatagramChannel and inserts it into the respective connected DatagramChannel. However i'd like to have a solution more fitting to the framework.</p>\n\n<p>Somebody a clue on how to do this neatly?</p>\n"},{"tags":["java","amazon-web-services","oracle"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1693942847,"post_id":77047020,"comment_id":135825527,"body_markdown":"Is this really something similar to the actual IP address?  An IP address that starts with `10.` is not routable, meaning that it can only be used in an internal network, not internet wide.","body":"Is this really something similar to the actual IP address?  An IP address that starts with <code>10.</code> is not routable, meaning that it can only be used in an internal network, not internet wide."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1693944264,"post_id":77047020,"comment_id":135825756,"body_markdown":"Yes, this is an internal address. We have VPN between AWS and the network.","body":"Yes, this is an internal address. We have VPN between AWS and the network."},{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":4,"creation_date":1693953351,"post_id":77047020,"comment_id":135826973,"body_markdown":"Then it would seem that something is not right with your network configuration or routing, or perhaps a local firewall on the Oracle server is blocking the connection. You&#39;re probably going to have to get the network and/or system admins involved and trace the packets to see what&#39;s going on.","body":"Then it would seem that something is not right with your network configuration or routing, or perhaps a local firewall on the Oracle server is blocking the connection. You&#39;re probably going to have to get the network and/or system admins involved and trace the packets to see what&#39;s going on."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1693981501,"post_id":77047020,"comment_id":135829425,"body_markdown":"I know, that is why I posted this question. But I need to debug the issue myself and then create a new security group rule.","body":"I know, that is why I posted this question. But I need to debug the issue myself and then create a new security group rule."}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693940437,"creation_date":1693939524,"question_id":77047020,"body_markdown":"I need to connect on premise Oracle from AWS. There is a security group rule for the 1521 port on IP address with Oracle 19c. But the application fails, because JPA cannot open the hostname - there is a timeout.\r\n\r\nI have written a small utility for testing:\r\n\r\n        DriverManager.registerDriver(new oracle.jdbc.OracleDriver());\r\n        try (Connection conn = DriverManager.getConnection(url)) {\r\n            if (conn != null) {\r\n                System.out.println(&quot;Connected&quot;);\r\n            }\r\n        }\r\n\r\nAnd it fails too:\r\n\r\n    Caused by: java.io.IOException: Connection timed out, socket connect lapse 127236 ms. /10.20.30.40 1521 0 1 true\r\n            at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:233)\r\n            at oracle.net.nt.ConnOption.connect(ConnOption.java:174)\r\n            at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\r\n            ... 12 more\r\n    Caused by: java.net.ConnectException: Connection timed out\r\n            at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n            at java.base/sun.nio.ch.Net.connect(Net.java:483)\r\n            at java.base/sun.nio.ch.Net.connect(Net.java:472)\r\n            at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:692)\r\n            at java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194)\r\n            at oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:99)\r\n\r\n I try to see all network communication, but this prints nothing:\r\n\r\n    java -Djavax.net.debug=all -jar oracle-test.jar jdbc:oracle:thin:user/secret@10.20.30.40:1521/DB_SVC\r\n\r\nHow can I find out the cause? I guess that there is some other communication I am not aware of. I am ordinary user, not root, so I cannot use advance sniffing tools.","title":"Cannot connect Oracle from AWS","body":"<p>I need to connect on premise Oracle from AWS. There is a security group rule for the 1521 port on IP address with Oracle 19c. But the application fails, because JPA cannot open the hostname - there is a timeout.</p>\n<p>I have written a small utility for testing:</p>\n<pre><code>    DriverManager.registerDriver(new oracle.jdbc.OracleDriver());\n    try (Connection conn = DriverManager.getConnection(url)) {\n        if (conn != null) {\n            System.out.println(&quot;Connected&quot;);\n        }\n    }\n</code></pre>\n<p>And it fails too:</p>\n<pre><code>Caused by: java.io.IOException: Connection timed out, socket connect lapse 127236 ms. /10.20.30.40 1521 0 1 true\n        at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:233)\n        at oracle.net.nt.ConnOption.connect(ConnOption.java:174)\n        at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\n        ... 12 more\nCaused by: java.net.ConnectException: Connection timed out\n        at java.base/sun.nio.ch.Net.connect0(Native Method)\n        at java.base/sun.nio.ch.Net.connect(Net.java:483)\n        at java.base/sun.nio.ch.Net.connect(Net.java:472)\n        at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:692)\n        at java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194)\n        at oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:99)\n</code></pre>\n<p>I try to see all network communication, but this prints nothing:</p>\n<pre><code>java -Djavax.net.debug=all -jar oracle-test.jar jdbc:oracle:thin:user/secret@10.20.30.40:1521/DB_SVC\n</code></pre>\n<p>How can I find out the cause? I guess that there is some other communication I am not aware of. I am ordinary user, not root, so I cannot use advance sniffing tools.</p>\n"},{"tags":["java","spring","spring-cloud-feign"],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693939872,"creation_date":1693939872,"question_id":77047058,"body_markdown":"I want to write parameterized tests for my server, so I need to create generic HTTP client. Is it possible to do with FeignClient in Spring Boot?","title":"Set HTTP method and URL in FeignCleint dynamically","body":"<p>I want to write parameterized tests for my server, so I need to create generic HTTP client. Is it possible to do with FeignClient in Spring Boot?</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693520946,"post_id":77019506,"comment_id":135776078,"body_markdown":"The only difference I&#39;m aware with is `compileJava` configures specifically that task, whereas `withType(JavaCompile)` configures _all_ tasks with that type, including e.g. `compileTestJava`","body":"The only difference I&#39;m aware with is <code>compileJava</code> configures specifically that task, whereas <code>withType(JavaCompile)</code> configures <i>all</i> tasks with that type, including e.g. <code>compileTestJava</code>"},{"owner":{"account_id":46213,"reputation":2690,"user_id":136449,"accept_rate":84,"display_name":"Steve"},"score":0,"creation_date":1693845509,"post_id":77019506,"comment_id":135810753,"body_markdown":"And that explains it. The code that&#39;s failing to compile in in my test code. I assumed that the test code also compiled with compileJava, not compileTestJava. Since that;s not how it works, it makes sense my tests would fail to compile when augmenting compileJava. Thanks...","body":"And that explains it. The code that&#39;s failing to compile in in my test code. I assumed that the test code also compiled with compileJava, not compileTestJava. Since that;s not how it works, it makes sense my tests would fail to compile when augmenting compileJava. Thanks..."},{"owner":{"account_id":111990,"reputation":4803,"user_id":295582,"accept_rate":100,"display_name":"Nikita Skvortsov"},"score":0,"creation_date":1693936819,"post_id":77019506,"comment_id":135824516,"body_markdown":"@Slaw looks like you should post your answer, so it gets accepted )","body":"@Slaw looks like you should post your answer, so it gets accepted )"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693939438,"creation_date":1693939438,"answer_id":77047012,"question_id":77019506,"body_markdown":"When you do:\r\n\r\n```groovy\r\ncompileJava {\r\n    // configure...\r\n}\r\n```\r\n\r\nYou are configuring a specific task named `compileJava` that happens to have a type of `JavaCompile`. It will not configure any other tasks. But when you do:\r\n\r\n```groovy\r\nwithType(JavaCompile) {\r\n    // configure...\r\n}\r\n```\r\n\r\nYou are configuring _every task_ whose type is `JavaCompile`. This includes tasks like `compileTestJava`. Since [you&#39;ve confirmed][1]&lt;sup&gt;1&lt;/sup&gt; that it&#39;s your _test code_ that fails to compile with the first approach, that explains why the second approach solves the issue.\r\n\r\n---\r\n\r\n&lt;sup&gt; 1. Comment quote: &quot;_And that explains it. The code that&#39;s failing to compile in in my test code. I assumed that the test code also compiled with compileJava, not compileTestJava. Since that;s not how it works, it makes sense my tests would fail to compile when augmenting compileJava. Thanks..._&quot;&lt;/sup&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/77019506/gradle-difference-between-compilejava-and-tasks-withtypejavacompile?noredirect=1#comment135810753_77019506","title":"Gradle difference between compileJava and tasks.withType(JavaCompile)","body":"<p>When you do:</p>\n<pre><code>compileJava {\n    // configure...\n}\n</code></pre>\n<p>You are configuring a specific task named <code>compileJava</code> that happens to have a type of <code>JavaCompile</code>. It will not configure any other tasks. But when you do:</p>\n<pre><code>withType(JavaCompile) {\n    // configure...\n}\n</code></pre>\n<p>You are configuring <em>every task</em> whose type is <code>JavaCompile</code>. This includes tasks like <code>compileTestJava</code>. Since <a href=\"https://stackoverflow.com/questions/77019506/gradle-difference-between-compilejava-and-tasks-withtypejavacompile?noredirect=1#comment135810753_77019506\">you've confirmed</a><sup>1</sup> that it's your <em>test code</em> that fails to compile with the first approach, that explains why the second approach solves the issue.</p>\n<hr />\n<p><sup> 1. Comment quote: &quot;<em>And that explains it. The code that's failing to compile in in my test code. I assumed that the test code also compiled with compileJava, not compileTestJava. Since that;s not how it works, it makes sense my tests would fail to compile when augmenting compileJava. Thanks...</em>&quot;</sup></p>\n"}],"owner":{"account_id":46213,"reputation":2690,"user_id":136449,"accept_rate":84,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77047012,"answer_count":1,"score":1,"last_activity_date":1693939438,"creation_date":1693519498,"question_id":77019506,"body_markdown":"I&#39;m currently trying to convert an old code base from Java 8 to Java 11. Part of this old code base uses some Java-internal classes (specifically sun.security.x509). In order to make this work in Java 11 I have to add the &quot;add-exports&quot; flag to my compileJava task in Gradle to allow this internal class to be visible outside its module.\r\n\r\nSo I started with this:\r\n\r\n    compileJava {\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    \r\n        options.compilerArgs = [ &#39;--add-exports=java.base/sun.security.x509=ALL-UNNAMED&#39; ]\r\n    }\r\n\r\nThis doesn&#39;t seem to work, as the add-exports does not get passed to javac, so my code fails to compile.\r\n\r\nHowever, if I do this instead it works, properly passing the add-exports to the javac process.\r\n\r\n    tasks.withType (JavaCompile) {\r\n            sourceCompatibility = JavaVersion.VERSION_11\r\n            targetCompatibility = JavaVersion.VERSION_11\r\n    \r\n            options.compilerArgs = [ &#39;--add-exports=java.base/sun.security.x509=ALL-UNNAMED&#39; ]\r\n    }\r\n\r\nObviously, there&#39;s something I don&#39;t understand here. These appear to me to functionally perform the same operations, yet the second works while the first one fails.\r\n\r\nCan anyone enlighten me as to what the difference is, and why one works and the other fails?\r\n","title":"Gradle difference between compileJava and tasks.withType(JavaCompile)","body":"<p>I'm currently trying to convert an old code base from Java 8 to Java 11. Part of this old code base uses some Java-internal classes (specifically sun.security.x509). In order to make this work in Java 11 I have to add the &quot;add-exports&quot; flag to my compileJava task in Gradle to allow this internal class to be visible outside its module.</p>\n<p>So I started with this:</p>\n<pre><code>compileJava {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n\n    options.compilerArgs = [ '--add-exports=java.base/sun.security.x509=ALL-UNNAMED' ]\n}\n</code></pre>\n<p>This doesn't seem to work, as the add-exports does not get passed to javac, so my code fails to compile.</p>\n<p>However, if I do this instead it works, properly passing the add-exports to the javac process.</p>\n<pre><code>tasks.withType (JavaCompile) {\n        sourceCompatibility = JavaVersion.VERSION_11\n        targetCompatibility = JavaVersion.VERSION_11\n\n        options.compilerArgs = [ '--add-exports=java.base/sun.security.x509=ALL-UNNAMED' ]\n}\n</code></pre>\n<p>Obviously, there's something I don't understand here. These appear to me to functionally perform the same operations, yet the second works while the first one fails.</p>\n<p>Can anyone enlighten me as to what the difference is, and why one works and the other fails?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":237656,"reputation":3080,"user_id":506005,"accept_rate":62,"display_name":"Houcem Berrayana"},"score":0,"creation_date":1694012077,"post_id":77042994,"comment_id":135835816,"body_markdown":"I&#39;ve done this by imitating what&#39;s being done on a normal authentication. Still not optimal because the AuthorizationExchange.request should contain valid information not a &quot;fake&quot; strings.","body":"I&#39;ve done this by imitating what&#39;s being done on a normal authentication. Still not optimal because the AuthorizationExchange.request should contain valid information not a &quot;fake&quot; strings."}],"owner":{"account_id":237656,"reputation":3080,"user_id":506005,"accept_rate":62,"display_name":"Houcem Berrayana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693938788,"creation_date":1693903291,"question_id":77042994,"body_markdown":"I&#39;m implementing a biometric authentication process which has complex steps and among these steps I have to use a refresh token stored in a database table and create a new AuthorizedClient.\r\n\r\nSo far, refreshing tokens when the user is already logged in is simple through the `AuthorizedClientManager`. This is well documented and nothing challenging about it.\r\n\r\nThe code looks like this (I&#39;m using the Spring web flux and Reactive spring security but it&#39;s almost the same):\r\n``` \r\nprivate Mono&lt;OAuth2AuthorizedClient&gt; authorizedClient(OAuth2AuthenticationToken oauth2Authentication) {\r\n        String clientRegistrationId = oauth2Authentication.getAuthorizedClientRegistrationId();\r\n        OAuth2AuthorizeRequest request = OAuth2AuthorizeRequest.withClientRegistrationId(clientRegistrationId)\r\n                .principal(oauth2Authentication).build();\r\n        if (clientManager == null) {\r\n            return Mono.error(new IllegalStateException(\r\n                    &quot;No ReactiveOAuth2AuthorizedClientManager bean was found. Did you include the &quot;\r\n                            + &quot;org.springframework.boot:spring-boot-starter-oauth2-client dependency?&quot;));\r\n        }\r\n        return clientManager.authorize(request);\r\n    }\r\n\r\n```\r\n\r\nHowever, when the user has no prior access token or authentication nor an existing session, the token can&#39;t be refreshed. At least I couldn&#39;t figure out how to.\r\n\r\nI read most of spring security&#39;s oauth2 client code and can&#39;t figure out how to perform such thing.\r\n\r\nI managed also to do that by hand I created a new WebClient and refreshed the token successfully. \r\n\r\nHowever, to create manually the `Authentication` which is an instance of `OAuth2LoginAuthenticationToken` it&#39;s not straight forward and requires many params such as a valid `OAuth2AuthorizationExchange`.\r\n\r\n\r\nWhat am I missing or doing wrong?","title":"Spring security OAuth2 client - Using refresh token without a prior Authentication","body":"<p>I'm implementing a biometric authentication process which has complex steps and among these steps I have to use a refresh token stored in a database table and create a new AuthorizedClient.</p>\n<p>So far, refreshing tokens when the user is already logged in is simple through the <code>AuthorizedClientManager</code>. This is well documented and nothing challenging about it.</p>\n<p>The code looks like this (I'm using the Spring web flux and Reactive spring security but it's almost the same):</p>\n<pre><code>private Mono&lt;OAuth2AuthorizedClient&gt; authorizedClient(OAuth2AuthenticationToken oauth2Authentication) {\n        String clientRegistrationId = oauth2Authentication.getAuthorizedClientRegistrationId();\n        OAuth2AuthorizeRequest request = OAuth2AuthorizeRequest.withClientRegistrationId(clientRegistrationId)\n                .principal(oauth2Authentication).build();\n        if (clientManager == null) {\n            return Mono.error(new IllegalStateException(\n                    &quot;No ReactiveOAuth2AuthorizedClientManager bean was found. Did you include the &quot;\n                            + &quot;org.springframework.boot:spring-boot-starter-oauth2-client dependency?&quot;));\n        }\n        return clientManager.authorize(request);\n    }\n\n</code></pre>\n<p>However, when the user has no prior access token or authentication nor an existing session, the token can't be refreshed. At least I couldn't figure out how to.</p>\n<p>I read most of spring security's oauth2 client code and can't figure out how to perform such thing.</p>\n<p>I managed also to do that by hand I created a new WebClient and refreshed the token successfully.</p>\n<p>However, to create manually the <code>Authentication</code> which is an instance of <code>OAuth2LoginAuthenticationToken</code> it's not straight forward and requires many params such as a valid <code>OAuth2AuthorizationExchange</code>.</p>\n<p>What am I missing or doing wrong?</p>\n"},{"tags":["java","deprecated"],"comments":[{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":10,"creation_date":1327659858,"post_id":9031832,"comment_id":11327777,"body_markdown":"Is @Deprecrated not an option for you?","body":"Is @Deprecrated not an option for you?"},{"owner":{"account_id":456728,"reputation":14328,"user_id":855636,"accept_rate":94,"display_name":"Pavel Janicek"},"score":28,"creation_date":1327659962,"post_id":9031832,"comment_id":11327812,"body_markdown":"It is, but I did not know about it ... thats why I am asking the question :)","body":"It is, but I did not know about it ... thats why I am asking the question :)"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1328017149,"post_id":9031832,"comment_id":11400246,"body_markdown":"See http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html","body":"See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":410836,"reputation":1446,"user_id":782911,"accept_rate":91,"display_name":"mattumotu"},"score":5,"creation_date":1422185703,"post_id":9031832,"comment_id":44643722,"body_markdown":"comments are not the place for answers!","body":"comments are not the place for answers!"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1366147264,"creation_date":1327659836,"answer_id":9031850,"question_id":9031832,"body_markdown":"There are two things you can do:\n\n1. Add the [`@Deprecated`][1] annotation to the method, and\n1. Add a [`@deprecated`][2] tag to the javadoc of the method\n\nYou should **do both**!\n\nQuoting the [java documentation][3] on this subject:\n\n&gt;Starting with J2SE 5.0, you deprecate a class, method, or field by using the @Deprecated annotation. Additionally, you can use the @deprecated Javadoc tag tell developers what to use instead.  \n&gt;\n&gt;Using the annotation causes the Java compiler to generate warnings when the deprecated class, method, or field is used. The compiler suppresses deprecation warnings if a deprecated compilation unit uses a deprecated class, method, or field. This enables you to build legacy APIs without generating warnings.  \n&gt;\n&gt;You are strongly recommended to use the Javadoc @deprecated tag with appropriate comments explaining how to use the new API. This ensures developers will have a workable migration path from the old API to the new API\n\n\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Deprecated.html\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html#javadoc_tag\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html#how","title":"How to declare or mark a Java method as deprecated?","body":"<p>There are two things you can do:</p>\n<ol>\n<li>Add the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Deprecated.html\" rel=\"noreferrer\"><code>@Deprecated</code></a> annotation to the method, and</li>\n<li>Add a <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html#javadoc_tag\" rel=\"noreferrer\"><code>@deprecated</code></a> tag to the javadoc of the method</li>\n</ol>\n<p>You should <strong>do both</strong>!</p>\n<p>Quoting the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html#how\" rel=\"noreferrer\">java documentation</a> on this subject:</p>\n<blockquote>\n<p>Starting with J2SE 5.0, you deprecate a class, method, or field by using the @Deprecated annotation. Additionally, you can use the @deprecated Javadoc tag tell developers what to use instead.</p>\n<p>Using the annotation causes the Java compiler to generate warnings when the deprecated class, method, or field is used. The compiler suppresses deprecation warnings if a deprecated compilation unit uses a deprecated class, method, or field. This enables you to build legacy APIs without generating warnings.</p>\n<p>You are strongly recommended to use the Javadoc @deprecated tag with appropriate comments explaining how to use the new API. This ensures developers will have a workable migration path from the old API to the new API</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":170260,"reputation":555,"user_id":396839,"accept_rate":62,"display_name":"Faizan Kazi"},"score":2,"creation_date":1491544633,"post_id":9031854,"comment_id":73609620,"body_markdown":"How do you link an external library?\neg:\ncom.hello.api.PublicController#new","body":"How do you link an external library? eg: com.hello.api.PublicController#new"},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1517388504,"post_id":9031854,"comment_id":84070851,"body_markdown":"@LinuxLars completely agreed! Java 9 added a couple of attributes to start making deprecation be taken seriously but adding another attribute `reason` with a default value of `&quot;&quot;` couldn&#39;t have hurt","body":"@LinuxLars completely agreed! Java 9 added a couple of attributes to start making deprecation be taken seriously but adding another attribute <code>reason</code> with a default value of <code>&quot;&quot;</code> couldn&#39;t have hurt"},{"owner":{"account_id":8847049,"reputation":3637,"user_id":6607497,"accept_rate":17,"display_name":"U. Windl"},"score":5,"creation_date":1526472762,"post_id":9031854,"comment_id":87757114,"body_markdown":"I&#39;d wish the `@deprecated` message in the comment could be added to `@Deprecated` (one spot to fix them all)...","body":"I&#39;d wish the <code>@deprecated</code> message in the comment could be added to <code>@Deprecated</code> (one spot to fix them all)..."},{"owner":{"account_id":4950299,"reputation":192,"user_id":3984474,"display_name":"JBStonehenge"},"score":0,"creation_date":1646310609,"post_id":9031854,"comment_id":126094416,"body_markdown":"What to do with an interface/implementation scenario? Set the method deprecated also in the Java Interface?","body":"What to do with an interface/implementation scenario? Set the method deprecated also in the Java Interface?"}],"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":4,"down_vote_count":0,"up_vote_count":653,"is_accepted":true,"score":653,"last_activity_date":1683738067,"creation_date":1327659851,"answer_id":9031854,"question_id":9031832,"body_markdown":"Use [`@Deprecated`][1] on method.  \r\nDon&#39;t forget to add the [`@deprecated`][2] Javadoc tag:\r\n\r\n    /**\r\n     * Does some thing in old style.\r\n     *\r\n     * @deprecated use {@link #new()} instead.  \r\n     */\r\n    @Deprecated\r\n    public void old() {\r\n    // ...\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html\r\n  [2]: https://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html","title":"How to declare or mark a Java method as deprecated?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html\" rel=\"noreferrer\"><code>@Deprecated</code></a> on method.<br />\nDon't forget to add the <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html\" rel=\"noreferrer\"><code>@deprecated</code></a> Javadoc tag:</p>\n<pre><code>/**\n * Does some thing in old style.\n *\n * @deprecated use {@link #new()} instead.  \n */\n@Deprecated\npublic void old() {\n// ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1523656723,"creation_date":1327659871,"answer_id":9031858,"question_id":9031832,"body_markdown":"Use the [annotation][1] `@Deprecated` for your method, and you should also mention it in your javadocs.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/annotations/","title":"How to declare or mark a Java method as deprecated?","body":"<p>Use the <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/\" rel=\"nofollow noreferrer\">annotation</a> <code>@Deprecated</code> for your method, and you should also mention it in your javadocs.</p>\n"},{"tags":[],"owner":{"account_id":543042,"reputation":375,"user_id":912062,"display_name":"jham"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1327659930,"creation_date":1327659930,"answer_id":9031868,"question_id":9031832,"body_markdown":"Take a look at the `@Deprecated` annotation.","title":"How to declare or mark a Java method as deprecated?","body":"<p>Take a look at the <code>@Deprecated</code> annotation.</p>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1327675451,"post_id":9031910,"comment_id":11332287,"body_markdown":"Not quite true. *Both* javadoc and annotation tell compiler method is deprecated","body":"Not quite true. <i>Both</i> javadoc and annotation tell compiler method is deprecated"},{"owner":{"account_id":219073,"reputation":2149,"user_id":475746,"display_name":"ShaMan-H_Fel"},"score":18,"creation_date":1327676724,"post_id":9031910,"comment_id":11332762,"body_markdown":"@Bohemian Actually that is not quite true. The annotation is defined in the Java Language Specification section 9.6.1.6 (http://java.sun.com/docs/books/jls/third_edition/html/interfaces.html#9.6.1.6), while the javadoc tag is not. So the annotation is part of the language. If you decide to write your own Java compiler, you may ignore the javadoc tag, but you must recognize the annotation.","body":"@Bohemian Actually that is not quite true. The annotation is defined in the Java Language Specification section 9.6.1.6 (<a href=\"http://java.sun.com/docs/books/jls/third_edition/html/interfaces.html#9.6.1.6\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jls/third_edition/html/&hellip;</a>), while the javadoc tag is not. So the annotation is part of the language. If you decide to write your own Java compiler, you may ignore the javadoc tag, but you must recognize the annotation."},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1505568373,"post_id":9031910,"comment_id":79472231,"body_markdown":"@ShaMan-H_Fel I believe the javadoc model works too. Because it was the only choice before Java 5, and it did work. When you marked a method with `@deprecated` javadoc tag (in Java 4-), the compiler marked the method (class, field) as deprecated and the IDEs showed warnings, even when no source was available.","body":"@ShaMan-H_Fel I believe the javadoc model works too. Because it was the only choice before Java 5, and it did work. When you marked a method with <code>@deprecated</code> javadoc tag (in Java 4-), the compiler marked the method (class, field) as deprecated and the IDEs showed warnings, even when no source was available."}],"tags":[],"owner":{"account_id":219073,"reputation":2149,"user_id":475746,"display_name":"ShaMan-H_Fel"},"comment_count":3,"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1418998245,"creation_date":1327660180,"answer_id":9031910,"question_id":9031832,"body_markdown":"Use both `@Deprecated` annotation and the `@deprecated` JavaDoc tag.\r\n\r\nThe `@deprecated` JavaDoc tag is used for documentation purposes.\r\n\r\nThe `@Deprecated` annotation instructs the compiler that the method is deprecated. Here is what it says in Sun/Oracles document on the subject:\r\n\r\n&gt; Using the **`@Deprecated`** annotation to deprecate a class, method, or field ensures that all compilers will issue warnings when code uses that program element. In contrast, there is no guarantee that all compilers will always issue warnings based on the **`@deprecated`** Javadoc tag, though the Sun compilers currently do so. Other compilers may not issue such warnings. Thus, using the **`@Deprecated`** annotation to generate warnings is more portable that relying on the **`@deprecated`** Javadoc tag. \r\n\r\nYou can find the full document at [How and When to Deprecate APIs][1]\r\n\r\n [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html","title":"How to declare or mark a Java method as deprecated?","body":"<p>Use both <code>@Deprecated</code> annotation and the <code>@deprecated</code> JavaDoc tag.</p>\n\n<p>The <code>@deprecated</code> JavaDoc tag is used for documentation purposes.</p>\n\n<p>The <code>@Deprecated</code> annotation instructs the compiler that the method is deprecated. Here is what it says in Sun/Oracles document on the subject:</p>\n\n<blockquote>\n  <p>Using the <strong><code>@Deprecated</code></strong> annotation to deprecate a class, method, or field ensures that all compilers will issue warnings when code uses that program element. In contrast, there is no guarantee that all compilers will always issue warnings based on the <strong><code>@deprecated</code></strong> Javadoc tag, though the Sun compilers currently do so. Other compilers may not issue such warnings. Thus, using the <strong><code>@Deprecated</code></strong> annotation to generate warnings is more portable that relying on the <strong><code>@deprecated</code></strong> Javadoc tag. </p>\n</blockquote>\n\n<p>You can find the full document at <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html\" rel=\"noreferrer\">How and When to Deprecate APIs</a></p>\n"},{"comments":[{"owner":{"account_id":147080,"reputation":69,"user_id":1840079,"display_name":"argh1969"},"score":0,"creation_date":1540836049,"post_id":24605999,"comment_id":93002151,"body_markdown":"Shouldn&#39;t it be &lt;br/&gt;, instead of &lt;/br&gt; ?","body":"Shouldn&#39;t it be &lt;br/&gt;, instead of &lt;/br&gt; ?"},{"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"score":0,"creation_date":1543034181,"post_id":24605999,"comment_id":93782829,"body_markdown":"@argh1969, right! don&#39;t remember where I got the template from back then. But I can confirm both versions work. Though I&#39;m editing in favor of standards.","body":"@argh1969, right! don&#39;t remember where I got the template from back then. But I can confirm both versions work. Though I&#39;m editing in favor of standards."}],"tags":[],"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"comment_count":2,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1543035107,"creation_date":1404721292,"answer_id":24605999,"question_id":9031832,"body_markdown":"since some minor explanations were missing\r\n\r\nUse **`@Deprecated`** annotation on the method like this\r\n\r\n     /**\r\n\t * @param basePrice\r\n\t * \r\n\t * @deprecated \treason this method is deprecated &lt;br/&gt;\r\n\t * \t\t\t\t{will be removed in next version} &lt;br/&gt;\r\n\t * \t\t\t\tuse {@link #setPurchasePrice()} instead like this: \r\n\t * \r\n\t * \r\n     * &lt;blockquote&gt;&lt;pre&gt;\r\n     * getProduct().setPurchasePrice(200) \r\n     * &lt;/pre&gt;&lt;/blockquote&gt;\r\n\t * \r\n\t */\r\n\t@Deprecated\r\n\tpublic void setBaseprice(int basePrice) {\r\n\t}\r\n\r\n#remember to explain:#\r\n\r\n 1. **Why is this method no longer recommended**. What problems arise when using it. Provide a link to the discussion on the matter if any. (remember to separate lines for readability `&lt;br/&gt;`\r\n 2. **When it will be removed**. (let your users know how much they can still rely on this method if they decide to stick to the old way)\r\n 3. **Provide a solution** or link to the method you recommend  `{@link #setPurchasePrice()}`","title":"How to declare or mark a Java method as deprecated?","body":"<p>since some minor explanations were missing</p>\n\n<p>Use <strong><code>@Deprecated</code></strong> annotation on the method like this</p>\n\n<pre><code> /**\n * @param basePrice\n * \n * @deprecated  reason this method is deprecated &lt;br/&gt;\n *              {will be removed in next version} &lt;br/&gt;\n *              use {@link #setPurchasePrice()} instead like this: \n * \n * \n * &lt;blockquote&gt;&lt;pre&gt;\n * getProduct().setPurchasePrice(200) \n * &lt;/pre&gt;&lt;/blockquote&gt;\n * \n */\n@Deprecated\npublic void setBaseprice(int basePrice) {\n}\n</code></pre>\n\n<h1>remember to explain:</h1>\n\n<ol>\n<li><strong>Why is this method no longer recommended</strong>. What problems arise when using it. Provide a link to the discussion on the matter if any. (remember to separate lines for readability <code>&lt;br/&gt;</code></li>\n<li><strong>When it will be removed</strong>. (let your users know how much they can still rely on this method if they decide to stick to the old way)</li>\n<li><strong>Provide a solution</strong> or link to the method you recommend  <code>{@link #setPurchasePrice()}</code></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":6722366,"reputation":1088,"user_id":5181837,"accept_rate":60,"display_name":"Ben A."},"score":0,"creation_date":1693967454,"post_id":77044898,"comment_id":135828246,"body_markdown":"This duplicates another answer and adds no new content. Please don&#39;t post an answer unless you actually have something new to contribute. You can show your support for an original answer by upvoting.","body":"This duplicates another answer and adds no new content. Please don&#39;t post an answer unless you actually have something new to contribute. You can show your support for an original answer by upvoting."},{"owner":{"account_id":19721972,"reputation":1,"user_id":14439303,"display_name":"James LeMaitre"},"score":0,"creation_date":1694012293,"post_id":77044898,"comment_id":135835868,"body_markdown":"Okay thank you very much, I&#39;m new and I don&#39;t yet master all the settings\nThank you very much","body":"Okay thank you very much, I&#39;m new and I don&#39;t yet master all the settings Thank you very much"}],"tags":[],"owner":{"account_id":19721972,"reputation":1,"user_id":14439303,"display_name":"James LeMaitre"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693920293,"creation_date":1693920293,"answer_id":77044898,"question_id":9031832,"body_markdown":"You must annotate the service @Deprecated","title":"How to declare or mark a Java method as deprecated?","body":"<p>You must annotate the service @Deprecated</p>\n"},{"tags":[],"owner":{"account_id":7176041,"reputation":918,"user_id":5481947,"accept_rate":67,"display_name":"Anil Konduru"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693938588,"creation_date":1693938588,"answer_id":77046933,"question_id":9031832,"body_markdown":"Along with @Deprecated annotation on the method, include a message why it was deprecated and what is the alternate option to use.\r\n\r\n     /**\r\n     * @deprecated\r\n     * explain here why the method was deprecated, suggest alternate option to \r\n     * use\r\n     */\r\n\r\nExample message\r\n\r\n    Deprecated, for removal: This API element is subject to removal in a future version. since 3.0.0 in favor of bstractCompositeHealthContributorConfiguration(Function)","title":"How to declare or mark a Java method as deprecated?","body":"<p>Along with @Deprecated annotation on the method, include a message why it was deprecated and what is the alternate option to use.</p>\n<pre><code> /**\n * @deprecated\n * explain here why the method was deprecated, suggest alternate option to \n * use\n */\n</code></pre>\n<p>Example message</p>\n<pre><code>Deprecated, for removal: This API element is subject to removal in a future version. since 3.0.0 in favor of bstractCompositeHealthContributorConfiguration(Function)\n</code></pre>\n"}],"owner":{"account_id":456728,"reputation":14328,"user_id":855636,"accept_rate":94,"display_name":"Pavel Janicek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207566,"favorite_count":0,"down_vote_count":0,"up_vote_count":334,"accepted_answer_id":9031854,"answer_count":8,"score":334,"last_activity_date":1693938588,"creation_date":1327659746,"question_id":9031832,"body_markdown":"I would like to make one of my methods &quot;deprecated&quot; = not used anymore.\r\n\r\nBut still I would like to have it in my API. I just want to show &quot;warning&quot; to anyone using that method.\r\n\r\nHow can I achieve that?","title":"How to declare or mark a Java method as deprecated?","body":"<p>I would like to make one of my methods \"deprecated\" = not used anymore.</p>\n\n<p>But still I would like to have it in my API. I just want to show \"warning\" to anyone using that method.</p>\n\n<p>How can I achieve that?</p>\n"},{"tags":["java","spring","spring-boot","maven","github-packages"],"owner":{"account_id":29373313,"reputation":1,"user_id":22505435,"display_name":"wnewman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693938553,"creation_date":1693937795,"question_id":77046869,"body_markdown":"I would greatly appreciate any assistance you can provide.\r\n\r\nI&#39;m trying to save a project as a GitHub package so that I can use it as a dependency in another Java project.\r\n\r\nThe project I&#39;m working on is a Spring Boot project, and I suspect that the issue I&#39;m facing might be specific to Spring Boot.\r\n\r\n1. I run `mvn clean deploy`, which successfully creates the package in the remote GitHub Repo.\r\n2. Then, I run `mvn clean install` on the project that needs to reference the code, using the updated POM below.\r\n3. My `.m2/settings.xml` is configured as follows:\r\n\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n\r\n  &lt;activeProfiles&gt;\r\n    &lt;activeProfile&gt;github&lt;/activeProfile&gt;\r\n  &lt;/activeProfiles&gt;\r\n\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;github&lt;/id&gt;\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;github&lt;/id&gt;\r\n          &lt;url&gt;https://maven.pkg.github.com/Owner/pName&lt;/url&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;true&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n\r\n  &lt;servers&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;github&lt;/id&gt;\r\n      &lt;username&gt;userName&lt;/username&gt;\r\n      &lt;password&gt;password&lt;/password&gt;\r\n    &lt;/server&gt;\r\n  &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n4. Here is the pom for the project to be referenced:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.companyName&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;testfunctions&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;github&lt;/id&gt;\r\n\t\t\t&lt;name&gt;GitHub username Apache Maven Packages&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://maven.pkg.github.com/Owner/pName&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/distributionManagement&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java. Version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20090211&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n5. Here is the pom for the project trying to reference the packaged:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.companyName&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testconvert&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.companyName&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;testfunctions&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20090211&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIssue: Despite my efforts, when I run mvn install, nothing installs, even after forcing it with mvn clean install -U. This process seems to work fine with other non-Spring projects.\r\n\r\nIs there something different I need to do to make this work with a Spring Boot app? Is it possible?","title":"Trouble Using a Java Spring Boot Project as a GitHub Package Dependency","body":"<p>I would greatly appreciate any assistance you can provide.</p>\n<p>I'm trying to save a project as a GitHub package so that I can use it as a dependency in another Java project.</p>\n<p>The project I'm working on is a Spring Boot project, and I suspect that the issue I'm facing might be specific to Spring Boot.</p>\n<ol>\n<li>I run <code>mvn clean deploy</code>, which successfully creates the package in the remote GitHub Repo.</li>\n<li>Then, I run <code>mvn clean install</code> on the project that needs to reference the code, using the updated POM below.</li>\n<li>My <code>.m2/settings.xml</code> is configured as follows:</li>\n</ol>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n\n  &lt;activeProfiles&gt;\n    &lt;activeProfile&gt;github&lt;/activeProfile&gt;\n  &lt;/activeProfiles&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;github&lt;/id&gt;\n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;central&lt;/id&gt;\n          &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n          &lt;id&gt;github&lt;/id&gt;\n          &lt;url&gt;https://maven.pkg.github.com/Owner/pName&lt;/url&gt;\n          &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n          &lt;/snapshots&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;github&lt;/id&gt;\n      &lt;username&gt;userName&lt;/username&gt;\n      &lt;password&gt;password&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<ol start=\"4\">\n<li>Here is the pom for the project to be referenced:</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.companyName&lt;/groupId&gt;\n    &lt;artifactId&gt;testfunctions&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;github&lt;/id&gt;\n            &lt;name&gt;GitHub username Apache Maven Packages&lt;/name&gt;\n            &lt;url&gt;https://maven.pkg.github.com/Owner/pName&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java. Version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20090211&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.14.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<ol start=\"5\">\n<li>Here is the pom for the project trying to reference the packaged:</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.companyName&lt;/groupId&gt;\n    &lt;artifactId&gt;testconvert&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.companyName&lt;/groupId&gt;\n            &lt;artifactId&gt;testfunctions&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20090211&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.14.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Issue: Despite my efforts, when I run mvn install, nothing installs, even after forcing it with mvn clean install -U. This process seems to work fine with other non-Spring projects.</p>\n<p>Is there something different I need to do to make this work with a Spring Boot app? Is it possible?</p>\n"},{"tags":["java","json","spring","gson","deserialization"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1693937678,"post_id":77046846,"comment_id":135824650,"body_markdown":"`Meta` and `Customer` are children of `Data` and should be moved to that class","body":"<code>Meta</code> and <code>Customer</code> are children of <code>Data</code> and should be moved to that class"},{"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"score":0,"creation_date":1693937880,"post_id":77046846,"comment_id":135824672,"body_markdown":"@QBrute thank you very much. I spent hours on it. TY. Please last question, why     `@JsonProperty(&quot;tx_ref&quot;)\n    private String txRef;` is not converted and null in the object ?","body":"@QBrute thank you very much. I spent hours on it. TY. Please last question, why     <code>@JsonProperty(&quot;tx_ref&quot;)     private String txRef;</code> is not converted and null in the object ?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1693938362,"post_id":77046846,"comment_id":135824756,"body_markdown":"`@JsonProperty` is from Jackson. You&#39;re using Gson, so you need `@SerializedName`. Please read the [documentation](https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/SerializedName.html)","body":"<code>@JsonProperty</code> is from Jackson. You&#39;re using Gson, so you need <code>@SerializedName</code>. Please read the <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/SerializedName.html\" rel=\"nofollow noreferrer\">documentation</a>"},{"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"score":0,"creation_date":1693939048,"post_id":77046846,"comment_id":135824879,"body_markdown":"Perfect, i reuse Jackson, add `@JsonIgnoreProperties(ignoreUnknown = true)` on object and works. Thank you","body":"Perfect, i reuse Jackson, add <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> on object and works. Thank you"}],"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693938046,"creation_date":1693937487,"question_id":77046846,"body_markdown":"It is very strange, it should be simple, but i don&#39;t know why, i&#39;m not able to transform my string json to object.\r\n\r\nThe JSON string:\r\n\r\n```json\r\n{\r\n  &quot;status&quot;: &quot;success&quot;,\r\n  &quot;message&quot;: &quot;Transaction fetched successfully&quot;,\r\n  &quot;data&quot;: {\r\n    &quot;id&quot;: 4576711,\r\n    &quot;tx_ref&quot;: &quot;efe4e0da-192c-406e-acf4-aeb118a2c700&quot;,\r\n    &quot;flw_ref&quot;: &quot;XXXXXXXXXXXX&quot;,\r\n    &quot;device_fingerprint&quot;: &quot;3db1a1db1ca4f052bc40fb464b0d0750&quot;,\r\n    &quot;amount&quot;: 150,\r\n    &quot;currency&quot;: &quot;XOF&quot;,\r\n    &quot;charged_amount&quot;: 150,\r\n    &quot;app_fee&quot;: 2.1,\r\n    &quot;merchant_fee&quot;: 0,\r\n    &quot;processor_response&quot;: &quot;Transaction Successful&quot;,\r\n    &quot;auth_model&quot;: &quot;AUTH&quot;,\r\n    &quot;ip&quot;: &quot;54.75.161.64&quot;,\r\n    &quot;narration&quot;: &quot;XXXXX_XXXXXX&quot;,\r\n    &quot;status&quot;: &quot;successful&quot;,\r\n    &quot;payment_type&quot;: &quot;XXXXXXXXXX&quot;,\r\n    &quot;created_at&quot;: &quot;2023-09-05T11:14:13.000Z&quot;,\r\n    &quot;account_id&quot;: 1851620,\r\n    &quot;meta&quot;: {\r\n      &quot;__CheckoutInitAddress&quot;: &quot;https://ravemodal-dev.herokuapp.com/v3/hosted/pay&quot;,\r\n      &quot;typeRequest&quot;: &quot;PASS_SUBSCRIPTION&quot;\r\n    },\r\n    &quot;amount_settled&quot;: 147.9,\r\n    &quot;customer&quot;: {\r\n      &quot;id&quot;: 2156304,\r\n      &quot;name&quot;: &quot;XXXXXXXXX&quot;,\r\n      &quot;phone_number&quot;: &quot;221123456789&quot;,\r\n      &quot;email&quot;: &quot;sav@XXXXX.XXXX&quot;,\r\n      &quot;created_at&quot;: &quot;2023-07-26T00:10:17.000Z&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nI want to convert to the object `FlwCashoutCallbackDto` and this object is \r\n\r\n```java\r\npublic class FlwCashoutCallbackDto  {\r\n\tprivate String event;\r\n\tprivate Data data;\t\r\n\tprivate Customer customer;\r\n\tprivate Meta meta;\r\n\t\r\n\t@JsonProperty(&quot;event.type&quot;)\r\n\tprivate String eventType;\r\n\t\r\n\tprivate String message;\r\n\tprivate String status;\r\n}\r\n```\r\n\r\nThe the `Meta` class:\r\n\r\n```java\r\npublic class Meta {\r\n\tprivate String __CheckoutInitAddress;\r\n\tprivate String typeRequest; // use to know how to redirect\r\n}\r\n```\r\n\r\nThe `Data` class:\r\n\r\n```java\r\npublic class Data {\r\n\tprivate int id;\r\n\t\r\n\t@JsonProperty(&quot;tx_ref&quot;)\r\n\tprivate String txRef;\r\n\t@JsonProperty(&quot;flw_ref&quot;)\r\n\tprivate String flwRef;\r\n\t@JsonProperty(&quot;device_fingerprint&quot;)\r\n\tprivate String deviceFingerprint;\r\n\tprivate BigDecimal amount;\r\n\tprivate String currency;\r\n\t@JsonProperty(&quot;charged_amount&quot;)\r\n\tprivate BigDecimal chargedAmount;\r\n\t@JsonProperty(&quot;app_fee&quot;)\r\n\tprivate BigDecimal appFee;\r\n\t@JsonProperty(&quot;merchant_fee&quot;)\r\n\tprivate BigDecimal merchantFee;\r\n\t@JsonProperty(&quot;processor_response&quot;)\r\n\tprivate String processorResponse;\r\n\t@JsonProperty(&quot;auth_model&quot;)\r\n\tprivate String authModel;\r\n\t\r\n\tprivate String ip;\r\n\tprivate String narration;\r\n\tprivate String status;\r\n\t@JsonProperty(&quot;payment_type&quot;)\r\n\tprivate String paymentType;\r\n\t@JsonProperty(&quot;created_at&quot;)\r\n\tprivate Date createdAt;\r\n\t@JsonProperty(&quot;account_id&quot;)\r\n\tprivate int accountId;\r\n\t\r\n\tprivate Customer customer;\r\n}\r\n```\r\n\r\nBut when I try to convert to `FlwCashoutCallbackDto`, Meta is `Null` and many properties inside Data missing and i have this result \r\n\r\n&gt; FlwCashoutCallbackDto(event=null, data=Data(id=XXXXXX, txRef=null, flwRef=null, deviceFingerprint=null, amount=150, currency=XOF, chargedAmount=null, appFee=null, merchantFee=null, processorResponse=null, authModel=null, ip=54.75.161.64, narration=Gara France, status=successful, paymentType=null, createdAt=null, accountId=0, customer=Customer(id=2156304, name=XXXX, phoneNumber=null, email=sav@gara.store)), customer=null, meta=null, eventType=null, message=Transaction fetched successfully, status=success)\r\n\r\n\r\nMy code is just this : \r\n\r\n```java\r\nString data = &quot;{\\&quot;status\\&quot;:\\&quot;success\\&quot;,\\&quot;message\\&quot;:\\&quot;Transaction fetched successfully\\&quot;,\\&quot;data\\&quot;:{\\&quot;id\\&quot;:4576711,\\&quot;tx_ref\\&quot;:\\&quot;efe4e0da-192c-406e-acf4-aeb118a2c700\\&quot;,\\&quot;flw_ref\\&quot;:\\&quot;xxxxxxxxx\\&quot;,\\&quot;device_fingerprint\\&quot;:\\&quot;3db1a1db1ca4f052bc40fb464b0d0750\\&quot;,\\&quot;amount\\&quot;:150,\\&quot;currency\\&quot;:\\&quot;XOF\\&quot;,\\&quot;charged_amount\\&quot;:150,\\&quot;app_fee\\&quot;:2.1,\\&quot;merchant_fee\\&quot;:0,\\&quot;processor_response\\&quot;:\\&quot;Transaction Successful\\&quot;,\\&quot;auth_model\\&quot;:\\&quot;AUTH\\&quot;,\\&quot;ip\\&quot;:\\&quot;54.75.161.64\\&quot;,\\&quot;narration\\&quot;:\\&quot;Gara France\\&quot;,\\&quot;status\\&quot;:\\&quot;successful\\&quot;,\\&quot;payment_type\\&quot;:\\&quot;XXXXXXXX\\&quot;,\\&quot;created_at\\&quot;:\\&quot;2023-09-05T11:14:13.000Z\\&quot;,\\&quot;account_id\\&quot;:1851620,\\&quot;meta\\&quot;:{\\&quot;__CheckoutInitAddress\\&quot;:\\&quot;https://ravemodal-dev.herokuapp.com/v3/hosted/pay\\&quot;,\\&quot;typeRequest\\&quot;:\\&quot;PASS_SUBSCRIPTION\\&quot;},\\&quot;amount_settled\\&quot;:147.9,\\&quot;customer\\&quot;:{\\&quot;id\\&quot;:2156304,\\&quot;name\\&quot;:\\&quot;XXXXX\\&quot;,\\&quot;phone_number\\&quot;:\\&quot;221123456789\\&quot;,\\&quot;email\\&quot;:\\&quot;XXXXX\\&quot;,\\&quot;created_at\\&quot;:\\&quot;2023-07-26T00:10:17.000Z\\&quot;}}}&quot;;\r\n\t\t\r\nFlwCashoutCallbackDto callbackDto = new Gson().fromJson(data, FlwCashoutCallbackDto.class);\r\n```\r\n\r\nWith data containing the initial JSON string.\r\n\r\nWhat is wrong with my code? ","title":"Impossible to convert correctly json string to object with Gson","body":"<p>It is very strange, it should be simple, but i don't know why, i'm not able to transform my string json to object.</p>\n<p>The JSON string:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;status&quot;: &quot;success&quot;,\n  &quot;message&quot;: &quot;Transaction fetched successfully&quot;,\n  &quot;data&quot;: {\n    &quot;id&quot;: 4576711,\n    &quot;tx_ref&quot;: &quot;efe4e0da-192c-406e-acf4-aeb118a2c700&quot;,\n    &quot;flw_ref&quot;: &quot;XXXXXXXXXXXX&quot;,\n    &quot;device_fingerprint&quot;: &quot;3db1a1db1ca4f052bc40fb464b0d0750&quot;,\n    &quot;amount&quot;: 150,\n    &quot;currency&quot;: &quot;XOF&quot;,\n    &quot;charged_amount&quot;: 150,\n    &quot;app_fee&quot;: 2.1,\n    &quot;merchant_fee&quot;: 0,\n    &quot;processor_response&quot;: &quot;Transaction Successful&quot;,\n    &quot;auth_model&quot;: &quot;AUTH&quot;,\n    &quot;ip&quot;: &quot;54.75.161.64&quot;,\n    &quot;narration&quot;: &quot;XXXXX_XXXXXX&quot;,\n    &quot;status&quot;: &quot;successful&quot;,\n    &quot;payment_type&quot;: &quot;XXXXXXXXXX&quot;,\n    &quot;created_at&quot;: &quot;2023-09-05T11:14:13.000Z&quot;,\n    &quot;account_id&quot;: 1851620,\n    &quot;meta&quot;: {\n      &quot;__CheckoutInitAddress&quot;: &quot;https://ravemodal-dev.herokuapp.com/v3/hosted/pay&quot;,\n      &quot;typeRequest&quot;: &quot;PASS_SUBSCRIPTION&quot;\n    },\n    &quot;amount_settled&quot;: 147.9,\n    &quot;customer&quot;: {\n      &quot;id&quot;: 2156304,\n      &quot;name&quot;: &quot;XXXXXXXXX&quot;,\n      &quot;phone_number&quot;: &quot;221123456789&quot;,\n      &quot;email&quot;: &quot;sav@XXXXX.XXXX&quot;,\n      &quot;created_at&quot;: &quot;2023-07-26T00:10:17.000Z&quot;\n    }\n  }\n}\n</code></pre>\n<p>I want to convert to the object <code>FlwCashoutCallbackDto</code> and this object is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlwCashoutCallbackDto  {\n    private String event;\n    private Data data;  \n    private Customer customer;\n    private Meta meta;\n    \n    @JsonProperty(&quot;event.type&quot;)\n    private String eventType;\n    \n    private String message;\n    private String status;\n}\n</code></pre>\n<p>The the <code>Meta</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Meta {\n    private String __CheckoutInitAddress;\n    private String typeRequest; // use to know how to redirect\n}\n</code></pre>\n<p>The <code>Data</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Data {\n    private int id;\n    \n    @JsonProperty(&quot;tx_ref&quot;)\n    private String txRef;\n    @JsonProperty(&quot;flw_ref&quot;)\n    private String flwRef;\n    @JsonProperty(&quot;device_fingerprint&quot;)\n    private String deviceFingerprint;\n    private BigDecimal amount;\n    private String currency;\n    @JsonProperty(&quot;charged_amount&quot;)\n    private BigDecimal chargedAmount;\n    @JsonProperty(&quot;app_fee&quot;)\n    private BigDecimal appFee;\n    @JsonProperty(&quot;merchant_fee&quot;)\n    private BigDecimal merchantFee;\n    @JsonProperty(&quot;processor_response&quot;)\n    private String processorResponse;\n    @JsonProperty(&quot;auth_model&quot;)\n    private String authModel;\n    \n    private String ip;\n    private String narration;\n    private String status;\n    @JsonProperty(&quot;payment_type&quot;)\n    private String paymentType;\n    @JsonProperty(&quot;created_at&quot;)\n    private Date createdAt;\n    @JsonProperty(&quot;account_id&quot;)\n    private int accountId;\n    \n    private Customer customer;\n}\n</code></pre>\n<p>But when I try to convert to <code>FlwCashoutCallbackDto</code>, Meta is <code>Null</code> and many properties inside Data missing and i have this result</p>\n<blockquote>\n<p>FlwCashoutCallbackDto(event=null, data=Data(id=XXXXXX, txRef=null, flwRef=null, deviceFingerprint=null, amount=150, currency=XOF, chargedAmount=null, appFee=null, merchantFee=null, processorResponse=null, authModel=null, ip=54.75.161.64, narration=Gara France, status=successful, paymentType=null, createdAt=null, accountId=0, customer=Customer(id=2156304, name=XXXX, phoneNumber=null, email=sav@gara.store)), customer=null, meta=null, eventType=null, message=Transaction fetched successfully, status=success)</p>\n</blockquote>\n<p>My code is just this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String data = &quot;{\\&quot;status\\&quot;:\\&quot;success\\&quot;,\\&quot;message\\&quot;:\\&quot;Transaction fetched successfully\\&quot;,\\&quot;data\\&quot;:{\\&quot;id\\&quot;:4576711,\\&quot;tx_ref\\&quot;:\\&quot;efe4e0da-192c-406e-acf4-aeb118a2c700\\&quot;,\\&quot;flw_ref\\&quot;:\\&quot;xxxxxxxxx\\&quot;,\\&quot;device_fingerprint\\&quot;:\\&quot;3db1a1db1ca4f052bc40fb464b0d0750\\&quot;,\\&quot;amount\\&quot;:150,\\&quot;currency\\&quot;:\\&quot;XOF\\&quot;,\\&quot;charged_amount\\&quot;:150,\\&quot;app_fee\\&quot;:2.1,\\&quot;merchant_fee\\&quot;:0,\\&quot;processor_response\\&quot;:\\&quot;Transaction Successful\\&quot;,\\&quot;auth_model\\&quot;:\\&quot;AUTH\\&quot;,\\&quot;ip\\&quot;:\\&quot;54.75.161.64\\&quot;,\\&quot;narration\\&quot;:\\&quot;Gara France\\&quot;,\\&quot;status\\&quot;:\\&quot;successful\\&quot;,\\&quot;payment_type\\&quot;:\\&quot;XXXXXXXX\\&quot;,\\&quot;created_at\\&quot;:\\&quot;2023-09-05T11:14:13.000Z\\&quot;,\\&quot;account_id\\&quot;:1851620,\\&quot;meta\\&quot;:{\\&quot;__CheckoutInitAddress\\&quot;:\\&quot;https://ravemodal-dev.herokuapp.com/v3/hosted/pay\\&quot;,\\&quot;typeRequest\\&quot;:\\&quot;PASS_SUBSCRIPTION\\&quot;},\\&quot;amount_settled\\&quot;:147.9,\\&quot;customer\\&quot;:{\\&quot;id\\&quot;:2156304,\\&quot;name\\&quot;:\\&quot;XXXXX\\&quot;,\\&quot;phone_number\\&quot;:\\&quot;221123456789\\&quot;,\\&quot;email\\&quot;:\\&quot;XXXXX\\&quot;,\\&quot;created_at\\&quot;:\\&quot;2023-07-26T00:10:17.000Z\\&quot;}}}&quot;;\n        \nFlwCashoutCallbackDto callbackDto = new Gson().fromJson(data, FlwCashoutCallbackDto.class);\n</code></pre>\n<p>With data containing the initial JSON string.</p>\n<p>What is wrong with my code?</p>\n"},{"tags":["java","jackson","tuples","jackson-modules"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693941067,"post_id":77046649,"comment_id":135825224,"body_markdown":"This sounds like a good use case for a Java [record](https://openjdk.org/jeps/395) class.","body":"This sounds like a good use case for a Java <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> class."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1694454690,"post_id":77046649,"comment_id":135890316,"body_markdown":"Hmm, I wouldn&#39;t use this &quot;JavaTuples.&quot; It calls `Unit&lt;A&gt;` &quot;A tuple of one element&quot; but `Unit` is the tuple of zero elements. It looks like whoever wrote it doesn&#39;t really know what tuples are.","body":"Hmm, I wouldn&#39;t use this &quot;JavaTuples.&quot; It calls <code>Unit&lt;A&gt;</code> &quot;A tuple of one element&quot; but <code>Unit</code> is the tuple of zero elements. It looks like whoever wrote it doesn&#39;t really know what tuples are."}],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693937404,"creation_date":1693937404,"answer_id":77046840,"question_id":77046649,"body_markdown":"The JSON Object seems to map to\r\n\r\n    class T {\r\n     int size;\r\n     List&lt;String&gt; value1;\r\n     List&lt;String&gt; value2;\r\n     List&lt;String&gt; value3;\r\n    }\r\n\r\nWhy not deserialize into this object ?\r\n","title":"JavaTuples API - can not deserialize as they do NOT have no args constructor","body":"<p>The JSON Object seems to map to</p>\n<pre><code>class T {\n int size;\n List&lt;String&gt; value1;\n List&lt;String&gt; value2;\n List&lt;String&gt; value3;\n}\n</code></pre>\n<p>Why not deserialize into this object ?</p>\n"},{"comments":[{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":1,"creation_date":1693946450,"post_id":77046849,"comment_id":135826067,"body_markdown":"sounds custom de-serializer is a good way to proceed ahead. +1","body":"sounds custom de-serializer is a good way to proceed ahead. +1"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693937512,"creation_date":1693937512,"answer_id":77046849,"question_id":77046649,"body_markdown":"From what I have researched, you can&#39;t configure this in Jackson. In my opinion, your best solution would be to use a `Custom JsonDeserializer`, as you already know.\r\n\r\nBased on your example, I do it this way:\r\n\r\n```java\r\npublic class TripletDeserializer extends JsonDeserializer&lt;Triplet&lt;List&lt;String&gt;, List&lt;String&gt;, List&lt;String&gt;&gt;&gt; {\r\n\t@Override\r\n\tpublic Triplet&lt;List&lt;String&gt;, List&lt;String&gt;, List&lt;String&gt;&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n\t\tJsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\t\treturn new Triplet&lt;&gt;(getNodeList(node.get(&quot;value0&quot;)), getNodeList(node.get(&quot;value1&quot;)), getNodeList(node.get(&quot;value2&quot;)));\r\n\t}\r\n\r\n\tprivate List&lt;String&gt; getNodeList(JsonNode valueNode) {\r\n\t\tList&lt;String&gt; value = new ArrayList&lt;&gt;();\r\n\t\tif (valueNode != null &amp;&amp; valueNode.isArray()) {\r\n\t\t\tfor (JsonNode element : valueNode) {\r\n\t\t\t\tvalue.add(element.asText());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n}\r\n```","title":"JavaTuples API - can not deserialize as they do NOT have no args constructor","body":"<p>From what I have researched, you can't configure this in Jackson. In my opinion, your best solution would be to use a <code>Custom JsonDeserializer</code>, as you already know.</p>\n<p>Based on your example, I do it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TripletDeserializer extends JsonDeserializer&lt;Triplet&lt;List&lt;String&gt;, List&lt;String&gt;, List&lt;String&gt;&gt;&gt; {\n    @Override\n    public Triplet&lt;List&lt;String&gt;, List&lt;String&gt;, List&lt;String&gt;&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        return new Triplet&lt;&gt;(getNodeList(node.get(&quot;value0&quot;)), getNodeList(node.get(&quot;value1&quot;)), getNodeList(node.get(&quot;value2&quot;)));\n    }\n\n    private List&lt;String&gt; getNodeList(JsonNode valueNode) {\n        List&lt;String&gt; value = new ArrayList&lt;&gt;();\n        if (valueNode != null &amp;&amp; valueNode.isArray()) {\n            for (JsonNode element : valueNode) {\n                value.add(element.asText());\n            }\n        }\n        return value;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693937512,"creation_date":1693935420,"question_id":77046649,"body_markdown":"I am using [javatuples][1] as I have to return multiple arguments from few of my methods calls.\r\n\r\nEverything seem good until I tried to deserialize a jsonString in to a [Triplet][2].\r\nSeems the tuples classes(Triplet etc) don&#39;t have a no-args constructor, so jackson is not able to deserialize. \r\n\r\nMy code is roughly as below - \r\n\r\n    String json = &quot;&quot;&quot;{&quot;size&quot;:3,&quot;value0&quot;:[&quot;dataPoint1&quot;, &quot;dataPoint2&quot;],&quot;value1&quot;:[&quot;dataPoint3&quot;],&quot;value2&quot;:[&quot;dataPoint2&quot;, &quot;dataPoint3&quot;]}&quot;&quot;&quot;;   \r\n    Triplet&lt;List&lt;String&gt;, List&lt;String&gt;, List&lt;String&gt;&gt; serviceResponse = objectMapper.readValue(json, new TypeReference&lt;&gt;(){});\r\n\r\nAnd the exception I am getting is - \r\n\r\n&gt; Cannot construct instance of `org.javatuples.Triplet` (no Creators,\r\n&gt; like default constructor, exist): cannot deserialize from Object value\r\n&gt; (no delegate- or property-based Creator)\r\n\r\n**DO I HAVE ANY OTHER WORK AROUNDS?** My actual data i very huge so deserilzation approach is required for my case. \r\nAre there any jackson configuration etc that can fix this issue. \r\n\r\nI am thinking a Custom JsonDeserializer might help. But other simple solutions are welcome too.\r\n\r\n  [1]: https://www.javatuples.org/\r\n  [2]: https://www.javatuples.org/apidocs/org/javatuples/Triplet.html","title":"JavaTuples API - can not deserialize as they do NOT have no args constructor","body":"<p>I am using <a href=\"https://www.javatuples.org/\" rel=\"nofollow noreferrer\">javatuples</a> as I have to return multiple arguments from few of my methods calls.</p>\n<p>Everything seem good until I tried to deserialize a jsonString in to a <a href=\"https://www.javatuples.org/apidocs/org/javatuples/Triplet.html\" rel=\"nofollow noreferrer\">Triplet</a>.\nSeems the tuples classes(Triplet etc) don't have a no-args constructor, so jackson is not able to deserialize.</p>\n<p>My code is roughly as below -</p>\n<pre><code>String json = &quot;&quot;&quot;{&quot;size&quot;:3,&quot;value0&quot;:[&quot;dataPoint1&quot;, &quot;dataPoint2&quot;],&quot;value1&quot;:[&quot;dataPoint3&quot;],&quot;value2&quot;:[&quot;dataPoint2&quot;, &quot;dataPoint3&quot;]}&quot;&quot;&quot;;   \nTriplet&lt;List&lt;String&gt;, List&lt;String&gt;, List&lt;String&gt;&gt; serviceResponse = objectMapper.readValue(json, new TypeReference&lt;&gt;(){});\n</code></pre>\n<p>And the exception I am getting is -</p>\n<blockquote>\n<p>Cannot construct instance of <code>org.javatuples.Triplet</code> (no Creators,\nlike default constructor, exist): cannot deserialize from Object value\n(no delegate- or property-based Creator)</p>\n</blockquote>\n<p><strong>DO I HAVE ANY OTHER WORK AROUNDS?</strong> My actual data i very huge so deserilzation approach is required for my case.\nAre there any jackson configuration etc that can fix this issue.</p>\n<p>I am thinking a Custom JsonDeserializer might help. But other simple solutions are welcome too.</p>\n"},{"tags":["java","apache-commons-math"],"answers":[{"tags":[],"owner":{"account_id":3439841,"reputation":14084,"user_id":2882051,"display_name":"chengpohi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1535869676,"creation_date":1535869676,"answer_id":52134539,"question_id":52134365,"body_markdown":"Seems there is no simple method to achieve that, how about generating a **ones matrix** to do the **sum**?, like:\r\n\r\n    //get the row sums\r\n    mtx.multiply(MatrixUtils.createRealMatrix(new double[][]{{1}, {1}}))\r\n    &gt; Array2DRowRealMatrix{{3.0},{7.0},{11.0}}\r\n    //get the column sums\r\n    MatrixUtils.createRealMatrix(new double[][]{{1, 1, 1}}).multiply(mtx)\r\n    &gt; Array2DRowRealMatrix{{9.0,12.0}}\r\n\r\n","title":"Apache Commons Math: how to perform sum along rows/columns?","body":"<p>Seems there is no simple method to achieve that, how about generating a <strong>ones matrix</strong> to do the <strong>sum</strong>?, like:</p>\n\n<pre><code>//get the row sums\nmtx.multiply(MatrixUtils.createRealMatrix(new double[][]{{1}, {1}}))\n&gt; Array2DRowRealMatrix{{3.0},{7.0},{11.0}}\n//get the column sums\nMatrixUtils.createRealMatrix(new double[][]{{1, 1, 1}}).multiply(mtx)\n&gt; Array2DRowRealMatrix{{9.0,12.0}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16279555,"reputation":327,"user_id":11755895,"display_name":"Vishala Ramasamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693937369,"creation_date":1693937369,"answer_id":77046836,"question_id":52134365,"body_markdown":"Mathod to calculate **sum of absolute squares of values in matrix** in *Java* using *Apache commons Math* Library : **getFrobeniusNorm()**\r\n\r\n      import org.apache.commons.math4.legacy.linear.*;\r\n      RealMatrix realMatrix;  //initialize with your values\r\n      RealMatrix eigenVector; //initialize with your values\r\n      RealMatrix dotProduct = realMatrix.multiply(eigenVector);\r\n      double normalizedValue = dotProduct.getFrobeniusNorm();\r\n\r\nFormula :  Frobenius norm of matrix = sqrt( Sum(|a_(ij)|^2) ) where i=0 to m and j=0 to n ","title":"Apache Commons Math: how to perform sum along rows/columns?","body":"<p>Mathod to calculate <strong>sum of absolute squares of values in matrix</strong> in <em>Java</em> using <em>Apache commons Math</em> Library : <strong>getFrobeniusNorm()</strong></p>\n<pre><code>  import org.apache.commons.math4.legacy.linear.*;\n  RealMatrix realMatrix;  //initialize with your values\n  RealMatrix eigenVector; //initialize with your values\n  RealMatrix dotProduct = realMatrix.multiply(eigenVector);\n  double normalizedValue = dotProduct.getFrobeniusNorm();\n</code></pre>\n<p>Formula :  Frobenius norm of matrix = sqrt( Sum(|a_(ij)|^2) ) where i=0 to m and j=0 to n</p>\n"}],"owner":{"account_id":7445759,"reputation":511,"user_id":5767875,"accept_rate":100,"display_name":"cwl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52134539,"answer_count":2,"score":0,"last_activity_date":1693937369,"creation_date":1535867655,"question_id":52134365,"body_markdown":"I&#39;m pretty new to Apache Common Math, so please pardon the trivial questions. \r\n\r\nBased on the [API doc][1], I&#39;m unable to figure out how to perform column-wise or row-wise sum. \r\n\r\n    import org.apache.commons.math3.linear.RealMatrix;\r\n    import org.apache.commons.math3.linear.MatrixUtils;\r\n\r\n\tdouble[][] values = {{1.0, 2.0}, {3.0, 4.0}, {5.0, 6.0}};\r\n    RealMatrix mtx = MatrixUtils.createRealMatrix(values);\r\n\r\nThe above code generate a matrix like the following:\r\n\r\n    [[1, 2],\r\n     [3, 4],\r\n     [5, 6]]\r\n\r\nWhat&#39;s the right syntax to perform column-wise sum? Which would give me:\r\n\r\n    [9, 12]\r\n\r\nAnd how do I perform row-wise sum? Which would give me:\r\n\r\n    [3,\r\n     7,\r\n     11\r\n    ]\r\n\r\nFor comparison, below is the syntax in Scala&#39;s Breeze library:\r\n\r\n    import breeze.linalg._\r\n    val mtx = DenseMatrix((1.0, 2.0), (3.0, 4.0), (5.0, 6.0))\r\n\r\n    // sum along the column direction\r\n    sum(mtx(::, *))\r\n    // Transpose(DenseVector(9.0, 12.0))\r\n\r\n\r\n    // sum along the row direction\r\n    sum(mtx(*, ::))\r\n    // DenseVector(3.0, 7.0, 11.0)\r\n\r\n  [1]: http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/linear/RealMatrix.html","title":"Apache Commons Math: how to perform sum along rows/columns?","body":"<p>I'm pretty new to Apache Common Math, so please pardon the trivial questions. </p>\n\n<p>Based on the <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/linear/RealMatrix.html\" rel=\"nofollow noreferrer\">API doc</a>, I'm unable to figure out how to perform column-wise or row-wise sum. </p>\n\n<pre><code>import org.apache.commons.math3.linear.RealMatrix;\nimport org.apache.commons.math3.linear.MatrixUtils;\n\ndouble[][] values = {{1.0, 2.0}, {3.0, 4.0}, {5.0, 6.0}};\nRealMatrix mtx = MatrixUtils.createRealMatrix(values);\n</code></pre>\n\n<p>The above code generate a matrix like the following:</p>\n\n<pre><code>[[1, 2],\n [3, 4],\n [5, 6]]\n</code></pre>\n\n<p>What's the right syntax to perform column-wise sum? Which would give me:</p>\n\n<pre><code>[9, 12]\n</code></pre>\n\n<p>And how do I perform row-wise sum? Which would give me:</p>\n\n<pre><code>[3,\n 7,\n 11\n]\n</code></pre>\n\n<p>For comparison, below is the syntax in Scala's Breeze library:</p>\n\n<pre><code>import breeze.linalg._\nval mtx = DenseMatrix((1.0, 2.0), (3.0, 4.0), (5.0, 6.0))\n\n// sum along the column direction\nsum(mtx(::, *))\n// Transpose(DenseVector(9.0, 12.0))\n\n\n// sum along the row direction\nsum(mtx(*, ::))\n// DenseVector(3.0, 7.0, 11.0)\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1679943985,"post_id":75859503,"comment_id":133808607,"body_markdown":"Does this answer your question? [Android studio: error: incompatible types: double cannot be converted to String](https://stackoverflow.com/questions/48731777/android-studio-error-incompatible-types-double-cannot-be-converted-to-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48731777/android-studio-error-incompatible-types-double-cannot-be-converted-to-string\">Android studio: error: incompatible types: double cannot be converted to String</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":5,"creation_date":1679944260,"post_id":75859503,"comment_id":133808659,"body_markdown":"Look at `return bmi;` - what type is `bmi` in this statement? What type does `berekenBmi` return? Nothing in the method needs to change except this statement.","body":"Look at <code>return bmi;</code> - what type is <code>bmi</code> in this statement? What type does <code>berekenBmi</code> return? Nothing in the method needs to change except this statement."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":4,"creation_date":1679944714,"post_id":75859503,"comment_id":133808755,"body_markdown":"You can remove the last `return` statement and replace the last `else if()` with a simple `else`, since the case `bmi &gt; 35` is the only one left and doesn&#39;t need to be checked. (And you would handle the case where `bmi == 35`).","body":"You can remove the last <code>return</code> statement and replace the last <code>else if()</code> with a simple <code>else</code>, since the case <code>bmi &gt; 35</code> is the only one left and doesn&#39;t need to be checked. (And you would handle the case where <code>bmi == 35</code>)."},{"owner":{"account_id":4803234,"reputation":721,"user_id":3879214,"display_name":"Anu Martin"},"score":0,"creation_date":1679945647,"post_id":75859503,"comment_id":133808948,"body_markdown":"@Progman he/she is right. You don&#39;t actually need that &quot;else if&quot;","body":"@Progman he/she is right. You don&#39;t actually need that &quot;else if&quot;"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1679947345,"post_id":75859503,"comment_id":133809329,"body_markdown":"@Progman actually the behaviour of the code changes, when you remove that last return, as `bmi==35.0` is the only case that is handled by this last `return` - but I have to admit that it probably wasn&#39;t intended ... also if it was intended you could replace it with `return &quot;35&quot;;` and the problem of conversion from `double` to `String` also would be solved. ;-)","body":"@Progman actually the behaviour of the code changes, when you remove that last return, as <code>bmi==35.0</code> is the only case that is handled by this last <code>return</code> - but I have to admit that it probably wasn&#39;t intended ... also if it was intended you could replace it with <code>return &quot;35&quot;;</code> and the problem of conversion from <code>double</code> to <code>String</code> also would be solved. ;-)"}],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1679945132,"post_id":75859564,"comment_id":133808835,"body_markdown":"While true it may be worth mentioning that this line is still dead code sine one of `if`s must be true, meaning that some of previous `return &quot;info&quot;;` will be executed and move flow of control out of this method. Proper solution would be removing this line entirely along with last `if(..)` and leaving only `else {..}` so compiler will know that one of `if/else if/else` brunches will be executed.","body":"While true it may be worth mentioning that this line is still dead code sine one of <code>if</code>s must be true, meaning that some of previous <code>return &quot;info&quot;;</code> will be executed and move flow of control out of this method. Proper solution would be removing this line entirely along with last <code>if(..)</code> and leaving only <code>else {..}</code> so compiler will know that one of <code>if&#47;else if&#47;else</code> brunches will be executed."},{"owner":{"account_id":4803234,"reputation":721,"user_id":3879214,"display_name":"Anu Martin"},"score":0,"creation_date":1679945701,"post_id":75859564,"comment_id":133808964,"body_markdown":"Yep, I didn&#39;t check it...","body":"Yep, I didn&#39;t check it..."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1679947550,"post_id":75859564,"comment_id":133809386,"body_markdown":"Nope, it&#39;s not dead code, for `bmi==35.0` the last return is used (and needed). (Although probably not intentional...;-)","body":"Nope, it&#39;s not dead code, for <code>bmi==35.0</code> the last return is used (and needed). (Although probably not intentional...;-)"}],"tags":[],"owner":{"account_id":4803234,"reputation":721,"user_id":3879214,"display_name":"Anu Martin"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1679946110,"creation_date":1679944470,"answer_id":75859564,"question_id":75859503,"body_markdown":"**FOR YOUR QUESTION THIS ANSWER IS WRONG, BEST AND EASIEST WAY IS JUST TO DELETE THE LAST RETURN STATEMENT AND UPDATE LAST else if TO JUST ELSE.**\r\n\r\nbecause the last `else if` condition not going to be executed.\r\n\r\nOld answer(Not that old)\r\n\r\ninstead of returning bmi(double variable), just replace it with\r\n\r\n    return String.valueOf(bmi);\r\n\r\nIt will convert double to String.\r\n\r\nYou have specifically told the compiler, The function will return a String value, but when none of the conditions work on the berekenBmi() function will return a double.   \r\n\r\n ","title":"double cannot be converted to java.lang.String","body":"<p><strong>FOR YOUR QUESTION THIS ANSWER IS WRONG, BEST AND EASIEST WAY IS JUST TO DELETE THE LAST RETURN STATEMENT AND UPDATE LAST else if TO JUST ELSE.</strong></p>\n<p>because the last <code>else if</code> condition not going to be executed.</p>\n<p>Old answer(Not that old)</p>\n<p>instead of returning bmi(double variable), just replace it with</p>\n<pre><code>return String.valueOf(bmi);\n</code></pre>\n<p>It will convert double to String.</p>\n<p>You have specifically told the compiler, The function will return a String value, but when none of the conditions work on the berekenBmi() function will return a double.</p>\n"},{"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1679947046,"post_id":75859593,"comment_id":133809255,"body_markdown":"`return String.format(&quot;BMI: %.1f (%s)&quot;, bmi, diagnose);` is DEAD CODE.  A better approach would be to simply change the last &quot;else if&quot; to &quot;else&quot;.   Read [Anu Martin&#39;s](https://stackoverflow.com/a/75859564/3135317) response below.","body":"<code>return String.format(&quot;BMI: %.1f (%s)&quot;, bmi, diagnose);</code> is DEAD CODE.  A better approach would be to simply change the last &quot;else if&quot; to &quot;else&quot;.   Read <a href=\"https://stackoverflow.com/a/75859564/3135317\">Anu Martin&#39;s</a> response below."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1679947459,"post_id":75859593,"comment_id":133809364,"body_markdown":"@FoggyDay you didn&#39;t read my code, there is a reason why I posted the full method again. The last `return` is not DEAD CODE, it is the only `return` in the whole method. But you were right about the last if else, so I updated it.","body":"@FoggyDay you didn&#39;t read my code, there is a reason why I posted the full method again. The last <code>return</code> is not DEAD CODE, it is the only <code>return</code> in the whole method. But you were right about the last if else, so I updated it."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1679947634,"post_id":75859593,"comment_id":133809402,"body_markdown":"I&#39;d lose the &quot;diagnose&quot; variable and simply &quot;return&quot; the text strings.  You&#39;re [Gold Plating](https://en.wikipedia.org/wiki/Gold_plating_(project_management)) (over-complicating) the solution.","body":"I&#39;d lose the &quot;diagnose&quot; variable and simply &quot;return&quot; the text strings.  You&#39;re <a href=\"https://en.wikipedia.org/wiki/Gold_plating_(project_management)\" rel=\"nofollow noreferrer\">Gold Plating</a> (over-complicating) the solution."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1679947364,"creation_date":1679944707,"answer_id":75859593,"question_id":75859503,"body_markdown":"Instead of `return bmi;` you can try to `return String.valueOf(bmi)`.\r\n\r\nThis way you don&#39;t have control over the form that the double value gets converted to a string (see the JavaDoc of [String.valueOf(double)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#valueOf(double)).\r\n\r\nAn alternative would be [String.format(String, Object...)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)), where the first parameter is always the format (e.g. `&quot;%f&quot;`) and the rest are the parameters to format. The format string itself could contain text as well and you can format multiple parameters. It&#39;s syntax is documented [here](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#syntax).\r\n\r\nWith the format string you could e.g. control the number of digits after the decimal point, etc.\r\n\r\nUPDATE:\r\nPlease note that of your nested ifs one always will return a value, so if you want to combine the BMI value with the text, you could use the string formatter like this:\r\n\r\n``` lang-java\r\nString berekenBmi(double gewicht, double lengte) {\r\n    double bmi = gewicht / (lengte * lengte);\r\n\r\n    String diagnose;\r\n\r\n    if (bmi &lt; 16) {\r\n        diagnose = &quot;Gevaarlijk Ondergewicht&quot;;\r\n    } else if (bmi &gt;= 16 &amp;&amp; bmi &lt; 18.5) {\r\n        diagnose = &quot;Ondergewicht&quot;;\r\n    } else if (bmi &gt;= 18.5 &amp;&amp; bmi &lt; 25) {\r\n        diagnose = &quot;Ideaal gewicht&quot;;\r\n    } else if (bmi &gt;= 25 &amp;&amp; bmi &lt; 30) {\r\n        diagnose = &quot;Overgewicht&quot;;\r\n    } else if (bmi &gt;= 30 &amp;&amp; bmi &lt; 35) {\r\n        diagnose = &quot;Obesitas&quot;;\r\n    } else { // bmi &gt;= 35\r\n        diagnose = &quot;Morbide obesitas&quot;;\r\n    }\r\n    return String.format(&quot;BMI: %.1f (%s)&quot;, bmi, diagnose);\r\n}\r\n```","title":"double cannot be converted to java.lang.String","body":"<p>Instead of <code>return bmi;</code> you can try to <code>return String.valueOf(bmi)</code>.</p>\n<p>This way you don't have control over the form that the double value gets converted to a string (see the JavaDoc of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#valueOf(double)\" rel=\"nofollow noreferrer\">String.valueOf(double)</a>.</p>\n<p>An alternative would be <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">String.format(String, Object...)</a>, where the first parameter is always the format (e.g. <code>&quot;%f&quot;</code>) and the rest are the parameters to format. The format string itself could contain text as well and you can format multiple parameters. It's syntax is documented <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>With the format string you could e.g. control the number of digits after the decimal point, etc.</p>\n<p>UPDATE:\nPlease note that of your nested ifs one always will return a value, so if you want to combine the BMI value with the text, you could use the string formatter like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String berekenBmi(double gewicht, double lengte) {\n    double bmi = gewicht / (lengte * lengte);\n\n    String diagnose;\n\n    if (bmi &lt; 16) {\n        diagnose = &quot;Gevaarlijk Ondergewicht&quot;;\n    } else if (bmi &gt;= 16 &amp;&amp; bmi &lt; 18.5) {\n        diagnose = &quot;Ondergewicht&quot;;\n    } else if (bmi &gt;= 18.5 &amp;&amp; bmi &lt; 25) {\n        diagnose = &quot;Ideaal gewicht&quot;;\n    } else if (bmi &gt;= 25 &amp;&amp; bmi &lt; 30) {\n        diagnose = &quot;Overgewicht&quot;;\n    } else if (bmi &gt;= 30 &amp;&amp; bmi &lt; 35) {\n        diagnose = &quot;Obesitas&quot;;\n    } else { // bmi &gt;= 35\n        diagnose = &quot;Morbide obesitas&quot;;\n    }\n    return String.format(&quot;BMI: %.1f (%s)&quot;, bmi, diagnose);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4803234,"reputation":721,"user_id":3879214,"display_name":"Anu Martin"},"score":0,"creation_date":1679945308,"post_id":75859608,"comment_id":133808863,"body_markdown":"We can directly use String.valueOf() method, instead of converting double into Double and then converting it into String, right?","body":"We can directly use String.valueOf() method, instead of converting double into Double and then converting it into String, right?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1679945821,"post_id":75859608,"comment_id":133808981,"body_markdown":"@AnuMartin You can use this method, but it depends on the String implementation and lacks a localization issue.","body":"@AnuMartin You can use this method, but it depends on the String implementation and lacks a localization issue."},{"owner":{"account_id":4803234,"reputation":721,"user_id":3879214,"display_name":"Anu Martin"},"score":0,"creation_date":1679946539,"post_id":75859608,"comment_id":133809150,"body_markdown":"The final return statement is never going to be executed. If he/she just updates accordingly It will fix the issue. The question is not about dt conversion.","body":"The final return statement is never going to be executed. If he/she just updates accordingly It will fix the issue. The question is not about dt conversion."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1679947090,"post_id":75859608,"comment_id":133809273,"body_markdown":"I think it is a good way to show the various ways of reaching the goal, but for that simple example I doubt that localization is an issue.","body":"I think it is a good way to show the various ways of reaching the goal, but for that simple example I doubt that localization is an issue."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1679947220,"post_id":75859608,"comment_id":133809303,"body_markdown":"@AnuMartin The compiler cannot check all if-else conditions, but a method should have `return` statement according to it&#39;s declaration. The error says that it cannot be converted during compilation and should be converted manually. Therefore it *is* about a conversion.","body":"@AnuMartin The compiler cannot check all if-else conditions, but a method should have <code>return</code> statement according to it&#39;s declaration. The error says that it cannot be converted during compilation and should be converted manually. Therefore it <i>is</i> about a conversion."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1679947468,"post_id":75859608,"comment_id":133809366,"body_markdown":"@cyberbrain In the code there&#39;s non-English messages, that should be read in spicific localized app. `Double` representation to `String` must be localized.","body":"@cyberbrain In the code there&#39;s non-English messages, that should be read in spicific localized app. <code>Double</code> representation to <code>String</code> must be localized."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1693937325,"post_id":75859608,"comment_id":135824604,"body_markdown":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer.","body":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":7,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679946505,"creation_date":1679944823,"answer_id":75859608,"question_id":75859503,"body_markdown":"You should return `String` from the method declared to return `String`, but you returned `double`. Change your code with the following\r\n\r\n```\r\nreturn Double.valueOf(bmi).toString();\r\n```\r\n\r\nThe variable is primitive type, and you cannot use typical `toString()` type conversion. But if you box a value to `Double` then can use it&#39;s method to convert the value to `String`.\r\n\r\nAlso note, that `Double` has different conversions that depends on the current locale. If you need your code to be localized then you have to return different representation of `Double`. It is only the reason to return it as `String`. \r\nOtherwise to convert it to string you should use a `NumberFormatter`.","title":"double cannot be converted to java.lang.String","body":"<p>You should return <code>String</code> from the method declared to return <code>String</code>, but you returned <code>double</code>. Change your code with the following</p>\n<pre><code>return Double.valueOf(bmi).toString();\n</code></pre>\n<p>The variable is primitive type, and you cannot use typical <code>toString()</code> type conversion. But if you box a value to <code>Double</code> then can use it's method to convert the value to <code>String</code>.</p>\n<p>Also note, that <code>Double</code> has different conversions that depends on the current locale. If you need your code to be localized then you have to return different representation of <code>Double</code>. It is only the reason to return it as <code>String</code>.\nOtherwise to convert it to string you should use a <code>NumberFormatter</code>.</p>\n"}],"owner":{"account_id":28131277,"reputation":1,"user_id":21495776,"display_name":"Lisa Van Den Broek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679945940,"answer_count":3,"score":-1,"last_activity_date":1693937358,"creation_date":1679943985,"question_id":75859503,"body_markdown":"I&#39;ve tried to work with a bmi calculator but once I&#39;ve compiled all my code I keep getting the error:\r\n&gt; incompatible types `double` cannot be converted to `java.lang.String`.\r\n\r\n```\r\nstatic String berekenBmi(double gewicht, double lengte) {\r\n    double bmi = gewicht / (lengte * lengte);\r\n\r\n    if (bmi &lt; 16) {\r\n        return &quot;Gevaarlijk Ondergewicht&quot;;\r\n    } else if (bmi &gt;= 16 &amp;&amp; bmi &lt; 18.5) {\r\n        return &quot;Ondergewicht&quot;;\r\n    } else if (bmi &gt;= 18.5 &amp;&amp; bmi &lt; 25) {\r\n        return &quot;Ideaal gewicht&quot;;\r\n    } else if (bmi &gt;= 25 &amp;&amp; bmi &lt; 30) {\r\n        return &quot;Overgewicht&quot;;\r\n    } else if (bmi &gt;= 30 &amp;&amp; bmi &lt; 35) {\r\n        return &quot;Obesitas&quot;;\r\n    } else if (bmi &gt; 35) {\r\n        return &quot;Morbide obesitas&quot;;\r\n    }\r\n    return bmi;\r\n}\r\n```\r\n\r\nI&#39;ve tried changing my `double` to `String` at the opening statement but that makes things worse.","title":"double cannot be converted to java.lang.String","body":"<p>I've tried to work with a bmi calculator but once I've compiled all my code I keep getting the error:</p>\n<blockquote>\n<p>incompatible types <code>double</code> cannot be converted to <code>java.lang.String</code>.</p>\n</blockquote>\n<pre><code>static String berekenBmi(double gewicht, double lengte) {\n    double bmi = gewicht / (lengte * lengte);\n\n    if (bmi &lt; 16) {\n        return &quot;Gevaarlijk Ondergewicht&quot;;\n    } else if (bmi &gt;= 16 &amp;&amp; bmi &lt; 18.5) {\n        return &quot;Ondergewicht&quot;;\n    } else if (bmi &gt;= 18.5 &amp;&amp; bmi &lt; 25) {\n        return &quot;Ideaal gewicht&quot;;\n    } else if (bmi &gt;= 25 &amp;&amp; bmi &lt; 30) {\n        return &quot;Overgewicht&quot;;\n    } else if (bmi &gt;= 30 &amp;&amp; bmi &lt; 35) {\n        return &quot;Obesitas&quot;;\n    } else if (bmi &gt; 35) {\n        return &quot;Morbide obesitas&quot;;\n    }\n    return bmi;\n}\n</code></pre>\n<p>I've tried changing my <code>double</code> to <code>String</code> at the opening statement but that makes things worse.</p>\n"},{"tags":["java","spring","maven","spring-boot"],"comments":[{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1557210741,"post_id":56016409,"comment_id":98677329,"body_markdown":"You mean you want to do it in Java code instead of in the POM file?","body":"You mean you want to do it in Java code instead of in the POM file?"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557211269,"post_id":56016409,"comment_id":98677532,"body_markdown":"yeap, so long as its programmatically. BTW, I already did this through the POM file but it only worked for Sonar Qubes Code Coverage and not locally. My IntelliJ still reports a very low code coverage.","body":"yeap, so long as its programmatically. BTW, I already did this through the POM file but it only worked for Sonar Qubes Code Coverage and not locally. My IntelliJ still reports a very low code coverage."},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557211320,"post_id":56016409,"comment_id":98677553,"body_markdown":"The reason why I want this to be done programmaticallyis that I dont want scouring the settings of the project everytime just to add exclusions.Also it seems that it won&#39;t be carried over when push on git too as there was no files tracked in my project that was added when i did an exclusion through IntelliJs Run Configuration or Exclusions in Settings. hence I wanted to do it through a POM file or programmatically so that exclusion will be track by git and could be push that will take effect to those who pull from repo.","body":"The reason why I want this to be done programmaticallyis that I dont want scouring the settings of the project everytime just to add exclusions.Also it seems that it won&#39;t be carried over when push on git too as there was no files tracked in my project that was added when i did an exclusion through IntelliJs Run Configuration or Exclusions in Settings. hence I wanted to do it through a POM file or programmatically so that exclusion will be track by git and could be push that will take effect to those who pull from repo."},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1557211626,"post_id":56016409,"comment_id":98677659,"body_markdown":"`it only worked for Sonar Qubes Code Coverage and not locally`. There&#39;s no way to know (the way your question is written) if there&#39;s any difference between your local config and the server config. `Not working at all` should be a description of what you have locally. What happens locally? Do you get any code coverage? Or do you get all the code covered and the sonar exclusions ignored? Do you use maven profiles? If yes, are the selected profiles different in the server and local?","body":"<code>it only worked for Sonar Qubes Code Coverage and not locally</code>. There&#39;s no way to know (the way your question is written) if there&#39;s any difference between your local config and the server config. <code>Not working at all</code> should be a description of what you have locally. What happens locally? Do you get any code coverage? Or do you get all the code covered and the sonar exclusions ignored? Do you use maven profiles? If yes, are the selected profiles different in the server and local?"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557212049,"post_id":56016409,"comment_id":98677869,"body_markdown":"i was getting almost the same code coverage with sonar and locally before I added the exclusions for sonar. However, the same it not true as now I don&#39;t have a matching code coverage report locally as my local code coverage report is still not excluding the classes I did for sonar. I don&#39;t know how to do this programmatically to exclude the same classes too locally. I don&#39;t know about the profiles you are saying, but so far that is my issue. That the classes I excluded for code coverage in sonar is not being excluded in the Local Code Coverage report with IntelliJ.","body":"i was getting almost the same code coverage with sonar and locally before I added the exclusions for sonar. However, the same it not true as now I don&#39;t have a matching code coverage report locally as my local code coverage report is still not excluding the classes I did for sonar. I don&#39;t know how to do this programmatically to exclude the same classes too locally. I don&#39;t know about the profiles you are saying, but so far that is my issue. That the classes I excluded for code coverage in sonar is not being excluded in the Local Code Coverage report with IntelliJ."},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557212193,"post_id":56016409,"comment_id":98677940,"body_markdown":"What I&#39;m basically trying to do is have at least a very close coverage report with sonar since I&#39;m going to exclude the same classes that I excluded with sonar.exclusion property in the pom file. As of the moment, my sonar code coverage reports 86% coverage, while locally I&#39;m gettings 40% only which is a very big discrepancy. :/","body":"What I&#39;m basically trying to do is have at least a very close coverage report with sonar since I&#39;m going to exclude the same classes that I excluded with sonar.exclusion property in the pom file. As of the moment, my sonar code coverage reports 86% coverage, while locally I&#39;m gettings 40% only which is a very big discrepancy. :/"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557212389,"post_id":56016409,"comment_id":98678049,"body_markdown":"Also, Is there anyway to have this configuration done in one go?. I mean, the exclusions for sonar coverage report will also reflect on the code coverage report locally made by IntelliJ?. Because as of the moment, it seems that the exclusions I made will only work with sonar. And I might have to really have a separate configuration which is okay for me anyway so long as that the coverage of sonar and intellij is the same.","body":"Also, Is there anyway to have this configuration done in one go?. I mean, the exclusions for sonar coverage report will also reflect on the code coverage report locally made by IntelliJ?. Because as of the moment, it seems that the exclusions I made will only work with sonar. And I might have to really have a separate configuration which is okay for me anyway so long as that the coverage of sonar and intellij is the same."},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1557212546,"post_id":56016409,"comment_id":98678139,"body_markdown":"Try to run the coverage test outside IntelliJ (just Maven) and check if it happens, just to discard the IDE as part of the issue","body":"Try to run the coverage test outside IntelliJ (just Maven) and check if it happens, just to discard the IDE as part of the issue"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557213488,"post_id":56016409,"comment_id":98678659,"body_markdown":"I just did with mvn test. And I&#39;m getting a much lower report. The classes I want to be excluded is still on the report. :/","body":"I just did with mvn test. And I&#39;m getting a much lower report. The classes I want to be excluded is still on the report. :/"}],"answers":[{"comments":[{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557210445,"post_id":56016480,"comment_id":98677217,"body_markdown":"Not working. The coverage report locally is still unchange. Even tried just having one class excluded, yet it was included in the coverage report with this.Any other ways of doing it?. I mean, I already have this done with sonar, I just need it to work locally. As of the moment my coverage reports locally and on sonar qube doesn&#39;t totally match at all as the exclusions I made for sonar qube is not setup for local test code coverage. :/","body":"Not working. The coverage report locally is still unchange. Even tried just having one class excluded, yet it was included in the coverage report with this.Any other ways of doing it?. I mean, I already have this done with sonar, I just need it to work locally. As of the moment my coverage reports locally and on sonar qube doesn&#39;t totally match at all as the exclusions I made for sonar qube is not setup for local test code coverage. :/"},{"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"score":0,"creation_date":1557210525,"post_id":56016480,"comment_id":98677248,"body_markdown":"@iamjoshua have you restarted the server after the change ?","body":"@iamjoshua have you restarted the server after the change ?"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557211056,"post_id":56016480,"comment_id":98677464,"body_markdown":"For my local compile?, yes I did.","body":"For my local compile?, yes I did."},{"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"score":0,"creation_date":1557211143,"post_id":56016480,"comment_id":98677498,"body_markdown":"@iamjoshua for sonar server--&gt;  sonar.sh restart","body":"@iamjoshua for sonar server--&gt;  sonar.sh restart"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557211450,"post_id":56016480,"comment_id":98677608,"body_markdown":"nope, this is not a sonar related code coverage issue. I already fixed that. This is for the local coverage report being reported by IntelliJ when you run the project with Coverage.","body":"nope, this is not a sonar related code coverage issue. I already fixed that. This is for the local coverage report being reported by IntelliJ when you run the project with Coverage."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1557224310,"post_id":56016480,"comment_id":98684545,"body_markdown":"`application.properties` is not recognized by Sounar plugin...so simple will not work","body":"<code>application.properties</code> is not recognized by Sounar plugin...so simple will not work"}],"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557209404,"creation_date":1557209404,"answer_id":56016480,"question_id":56016409,"body_markdown":"In the `application.properties` you can do something like this: \r\n\r\n    sonar.exclusions=src/main/java/com/example/org/test/mainpackage/message/**/*, \r\n    src/main/java/com/example/org/test/mainpackage/security/jwt/**/*, \r\n    src/main/java/com/example/org/test/mainpackage/security/services/**/*,\r\n    src/main/java/com/example/org/test/mainpackage/controller/AuthRestAPIs.java,\r\n    src/main/java/com/example/org/test/mainpackage/controller/TestRestAPIs.java\r\n\r\nAlso, other way will be login as admin in sonar and go to \r\n\r\n&gt; settings&gt;Exclusions&gt; Source File Exclusions- Add your packages here.\r\n&gt; Restart the server.\r\n\r\n","title":"How to exclude certain classes from being included in the code coverage? (Java)","body":"<p>In the <code>application.properties</code> you can do something like this: </p>\n\n<pre><code>sonar.exclusions=src/main/java/com/example/org/test/mainpackage/message/**/*, \nsrc/main/java/com/example/org/test/mainpackage/security/jwt/**/*, \nsrc/main/java/com/example/org/test/mainpackage/security/services/**/*,\nsrc/main/java/com/example/org/test/mainpackage/controller/AuthRestAPIs.java,\nsrc/main/java/com/example/org/test/mainpackage/controller/TestRestAPIs.java\n</code></pre>\n\n<p>Also, other way will be login as admin in sonar and go to </p>\n\n<blockquote>\n  <p>settings>Exclusions> Source File Exclusions- Add your packages here.\n  Restart the server.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557275766,"creation_date":1557214798,"answer_id":56017745,"question_id":56016409,"body_markdown":"This is not the kind of answer that I was looking for really. But for now this will do for me. Still looking for a way to do this via the pom file, java or beans. thanks\r\n\r\n**Solution:**\r\n\r\nSo if you did your exclusions in the Run Configuration of you project. That is through the 2nd step I mentioned in the question which is through\r\n\r\n&gt; Edit Configuration &gt; Code Coverage.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\nAnd then actually add your exclusions. \r\nYou would have just to tick the share text box and Click apply. \r\nThe exclusions you made will be made available in your project directory under \r\n\r\n&gt; .idea/runConfigurations/[the xml file of the exclusions you made and\r\n&gt; other run configurations].\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd to be able to push this, just remove the \r\n\r\n&gt; .idea in your .gitignore file in git.\r\n[![enter image description here][3]][3]\r\n\r\n----------\r\n\r\n\r\nAnd then you&#39;d be able to push the run configurations files in your repository for others to use. or export so that it won&#39;t have to be manually configure in the edit configurations of intellij.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KyhpT.png\r\n  [2]: https://i.stack.imgur.com/2mPhu.png\r\n  [3]: https://i.stack.imgur.com/yzIix.png\r\n\r\n\r\nPS:\r\nThis might affect the coverage report in your Sonarqube. You have to undo this and unpush from your repo the local run configuration to be able to use your sonar qubes class exclusions. For some reason in mine, it skipped all the exclusions  I made before doing this.","title":"How to exclude certain classes from being included in the code coverage? (Java)","body":"<p>This is not the kind of answer that I was looking for really. But for now this will do for me. Still looking for a way to do this via the pom file, java or beans. thanks</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>So if you did your exclusions in the Run Configuration of you project. That is through the 2nd step I mentioned in the question which is through</p>\n\n<blockquote>\n  <p>Edit Configuration > Code Coverage.\n  <a href=\"https://i.stack.imgur.com/KyhpT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KyhpT.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n\n<hr>\n\n<p>And then actually add your exclusions. \nYou would have just to tick the share text box and Click apply. \nThe exclusions you made will be made available in your project directory under </p>\n\n<blockquote>\n  <p>.idea/runConfigurations/[the xml file of the exclusions you made and\n  other run configurations].\n  <a href=\"https://i.stack.imgur.com/2mPhu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2mPhu.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n\n<p>And to be able to push this, just remove the </p>\n\n<blockquote>\n  <p>.idea in your .gitignore file in git.\n  <a href=\"https://i.stack.imgur.com/yzIix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yzIix.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n\n<hr>\n\n<p>And then you'd be able to push the run configurations files in your repository for others to use. or export so that it won't have to be manually configure in the edit configurations of intellij.</p>\n\n<p>PS:\nThis might affect the coverage report in your Sonarqube. You have to undo this and unpush from your repo the local run configuration to be able to use your sonar qubes class exclusions. For some reason in mine, it skipped all the exclusions  I made before doing this.</p>\n"},{"comments":[{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1557218751,"post_id":56017862,"comment_id":98681360,"body_markdown":"How do i format the the directory in the exclude tag?. if i have this directory to exclude. [/src/main/java/com/example/org/test/mainpackage/controller/AuthRestAPIs.java] \n\nAs of the moment, I am using that very same directory to exclude, and it not making aany dent on the code coverage at all.","body":"How do i format the the directory in the exclude tag?. if i have this directory to exclude. [/src/main/java/com/example/org/test/mainpackage/controller/&zwnj;&#8203;AuthRestAPIs.java]   As of the moment, I am using that very same directory to exclude, and it not making aany dent on the code coverage at all."},{"owner":{"account_id":14540892,"reputation":1111,"user_id":10502646,"display_name":"snmaddula"},"score":1,"creation_date":1557221052,"post_id":56017862,"comment_id":98682702,"body_markdown":"Hi joshua, to exclude a directory, use `&lt;exclude&gt;snmaddula/app/dto/**/*.class&lt;/exclude&gt;`, this will exclude all the classes and subpackages of `dto` package.","body":"Hi joshua, to exclude a directory, use <code>&lt;exclude&gt;snmaddula&#47;app&#47;dto&#47;**&#47;*.class&lt;&#47;exclude&gt;</code>, this will exclude all the classes and subpackages of <code>dto</code> package."}],"tags":[],"owner":{"account_id":14540892,"reputation":1111,"user_id":10502646,"display_name":"snmaddula"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1588766870,"creation_date":1557215275,"answer_id":56017862,"question_id":56016409,"body_markdown":"As you are using Maven, you need to configure your exclusions in the jacoco plugin, which is used to capture the coverage statistics and pass it on to sonar.\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.8.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;report&lt;/id&gt;\r\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;report&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- Sets the path to the file which contains the execution data. --&gt;\r\n                    &lt;dataFile&gt;target/jacoco.exec&lt;/dataFile&gt;\r\n                    &lt;!-- Sets the output directory for the code coverage report. --&gt;\r\n                    &lt;outputDirectory&gt;target/jacoco-ut&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;systemPropertyVariables&gt;\r\n            &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\r\n        &lt;/systemPropertyVariables&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;snmaddula/app/domain/*.class&lt;/exclude&gt;\r\n            &lt;exclude&gt;snmaddula/app/exception/*.class&lt;/exclude&gt;\r\n            &lt;exclude&gt;snmaddula/app/filter/*.class&lt;/exclude&gt;\r\n            &lt;exclude&gt;snmaddula/app/App.class&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nReferences: \r\n\r\n - [maven-jacoco-config][1]\r\n - [gradle-jacoco-config][2]\r\n\r\n\r\n  [1]: https://snmaddula.bitbucket.io/maven-jacoco-config\r\n  [2]: https://snmaddula.bitbucket.io/gradle-jacoco-config/","title":"How to exclude certain classes from being included in the code coverage? (Java)","body":"<p>As you are using Maven, you need to configure your exclusions in the jacoco plugin, which is used to capture the coverage statistics and pass it on to sonar.</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;0.8.1&lt;/version&gt;\n&lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;!-- Sets the path to the file which contains the execution data. --&gt;\n                &lt;dataFile&gt;target/jacoco.exec&lt;/dataFile&gt;\n                &lt;!-- Sets the output directory for the code coverage report. --&gt;\n                &lt;outputDirectory&gt;target/jacoco-ut&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;configuration&gt;\n    &lt;systemPropertyVariables&gt;\n        &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\n    &lt;/systemPropertyVariables&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;snmaddula/app/domain/*.class&lt;/exclude&gt;\n        &lt;exclude&gt;snmaddula/app/exception/*.class&lt;/exclude&gt;\n        &lt;exclude&gt;snmaddula/app/filter/*.class&lt;/exclude&gt;\n        &lt;exclude&gt;snmaddula/app/App.class&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>References: </p>\n\n<ul>\n<li><a href=\"https://snmaddula.bitbucket.io/maven-jacoco-config\" rel=\"noreferrer\">maven-jacoco-config</a></li>\n<li><a href=\"https://snmaddula.bitbucket.io/gradle-jacoco-config/\" rel=\"noreferrer\">gradle-jacoco-config</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8669713,"reputation":453,"user_id":6489022,"accept_rate":60,"display_name":"Jown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605269266,"creation_date":1605269266,"answer_id":64820603,"question_id":56016409,"body_markdown":"By default, Intellij is using the Intellij IDEA as the default code coverage runner.\r\n\r\nIf you are using `jacoco`, then change this option to `JaCoCo`. The details of this can be found on the `jetbrains` website.\r\nhttps://www.jetbrains.com/help/idea/configuring-code-coverage-measurement.html\r\n\r\nBy following the above, all excluded classes defined in your `&lt;sonar.coverage.exclusions&gt;` will be taken into account and would match what you have in your remote `SonarQube` server&#39;s configuration.","title":"How to exclude certain classes from being included in the code coverage? (Java)","body":"<p>By default, Intellij is using the Intellij IDEA as the default code coverage runner.</p>\n<p>If you are using <code>jacoco</code>, then change this option to <code>JaCoCo</code>. The details of this can be found on the <code>jetbrains</code> website.\n<a href=\"https://www.jetbrains.com/help/idea/configuring-code-coverage-measurement.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/configuring-code-coverage-measurement.html</a></p>\n<p>By following the above, all excluded classes defined in your <code>&lt;sonar.coverage.exclusions&gt;</code> will be taken into account and would match what you have in your remote <code>SonarQube</code> server's configuration.</p>\n"},{"tags":[],"owner":{"account_id":4136535,"reputation":4099,"user_id":3393095,"display_name":"Rodrigo L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693937250,"creation_date":1693829167,"answer_id":77037550,"question_id":56016409,"body_markdown":"Since JaCoCo 0.8.2 you can use annotations to exclude classes or methods from coverage.\r\n\r\nThe name of the annotation should include Generated.\r\nThe retention policy of annotation should be runtime or class.\r\n\r\nIf you use project lombok, just use the annotation @Generated from package lombok.Generated.\r\n\r\nIf you don&#39;t use project lombok you can create your own annotation.\r\n\r\n    @Documented\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target( {ElementType.TYPE, ElementType.METHOD, ElementType.CONSTRUCTOR})\r\n    public @interface Generated {\r\n    }\r\n\r\nAfter creating this annotation just use it on classes or methods that you want to exclude from coverage report.\r\n\r\nsource: https://www.baeldung.com/jacoco-report-exclude","title":"How to exclude certain classes from being included in the code coverage? (Java)","body":"<p>Since JaCoCo 0.8.2 you can use annotations to exclude classes or methods from coverage.</p>\n<p>The name of the annotation should include Generated.\nThe retention policy of annotation should be runtime or class.</p>\n<p>If you use project lombok, just use the annotation @Generated from package lombok.Generated.</p>\n<p>If you don't use project lombok you can create your own annotation.</p>\n<pre><code>@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target( {ElementType.TYPE, ElementType.METHOD, ElementType.CONSTRUCTOR})\npublic @interface Generated {\n}\n</code></pre>\n<p>After creating this annotation just use it on classes or methods that you want to exclude from coverage report.</p>\n<p>source: <a href=\"https://www.baeldung.com/jacoco-report-exclude\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jacoco-report-exclude</a></p>\n"}],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54763,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":56017862,"answer_count":5,"score":7,"last_activity_date":1693937250,"creation_date":1557209087,"question_id":56016409,"body_markdown":"I could already exclude the classes with sonar cube report by adding this in the &lt;properties&gt; tag of my POM file.\r\n\r\n     &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;sonar.exclusions&gt; \r\n                /src/main/java/com/example/org/test/mainpackage/message/**/*\r\n                ,\r\n                /src/main/java/com/example/org/test/mainpackage/security/jwt/**/*\r\n                ,\r\n                /src/main/java/com/example/org/test/mainpackage/security/services/**/*\r\n                ,\r\n                /src/main/java/com/example/org/test/mainpackage/controller/AuthRestAPIs.java\r\n                ,\r\n                /src/main/java/com/example/org/test/mainpackage/controller/TestRestAPIs.java\r\n            &lt;/sonar.exclusions&gt;\r\n        &lt;/properties&gt;\r\n\t\r\n\t\r\n\r\nHowever the same code when run locally to test the code coverage is not working at all. \r\n\t\r\nWhere do I set this up programmatically with Maven &amp; Spring Boot ?. \r\n\t\r\nI could already exclude the classes I want via the \r\n\r\n&gt; Settings &gt; Build, Execution, Deployment &gt; Excludes &gt; [Class(es) to be\r\n&gt; excluded]\r\n\r\nor through\r\n\r\n&gt; Edit Configurations &gt; Select Code Coverage tab &gt; then adding the\r\n&gt; package or class I want to be excluded or include only in the code\r\n&gt; coverage report.\r\n\r\nWhat I want is coding the classes to be excluded i.e in the pom file like I did with exclusion of code for sonar qube.\r\n\r\nTo make it short. How do I do this programmatically?.\r\n\r\nReason why I wanted to this programmatically is that, the above two steps I did to exclude the files from being reported in the code coverage is that no files was included in all of my project that I could push in the repository so that changes i made for exclusions will reflect in all those who will pull from the git repository. With no files or configurations added that I could push and reflect to all in the repo. THis means that my exclusions will only work locally and not work on others. Right?. So here I am asking for a way to do programmatically like putting the exclusions in a POM file. \r\n\t","title":"How to exclude certain classes from being included in the code coverage? (Java)","body":"<p>I could already exclude the classes with sonar cube report by adding this in the  tag of my POM file.</p>\n\n<pre><code> &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;sonar.exclusions&gt; \n            /src/main/java/com/example/org/test/mainpackage/message/**/*\n            ,\n            /src/main/java/com/example/org/test/mainpackage/security/jwt/**/*\n            ,\n            /src/main/java/com/example/org/test/mainpackage/security/services/**/*\n            ,\n            /src/main/java/com/example/org/test/mainpackage/controller/AuthRestAPIs.java\n            ,\n            /src/main/java/com/example/org/test/mainpackage/controller/TestRestAPIs.java\n        &lt;/sonar.exclusions&gt;\n    &lt;/properties&gt;\n</code></pre>\n\n<p>However the same code when run locally to test the code coverage is not working at all. </p>\n\n<p>Where do I set this up programmatically with Maven &amp; Spring Boot ?. </p>\n\n<p>I could already exclude the classes I want via the </p>\n\n<blockquote>\n  <p>Settings > Build, Execution, Deployment > Excludes > [Class(es) to be\n  excluded]</p>\n</blockquote>\n\n<p>or through</p>\n\n<blockquote>\n  <p>Edit Configurations > Select Code Coverage tab > then adding the\n  package or class I want to be excluded or include only in the code\n  coverage report.</p>\n</blockquote>\n\n<p>What I want is coding the classes to be excluded i.e in the pom file like I did with exclusion of code for sonar qube.</p>\n\n<p>To make it short. How do I do this programmatically?.</p>\n\n<p>Reason why I wanted to this programmatically is that, the above two steps I did to exclude the files from being reported in the code coverage is that no files was included in all of my project that I could push in the repository so that changes i made for exclusions will reflect in all those who will pull from the git repository. With no files or configurations added that I could push and reflect to all in the repo. THis means that my exclusions will only work locally and not work on others. Right?. So here I am asking for a way to do programmatically like putting the exclusions in a POM file. </p>\n"},{"tags":["java","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1693970165,"post_id":77046823,"comment_id":135828447,"body_markdown":"Use [XWPFDocument.nsertNewTbl](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#insertNewTbl-org.apache.xmlbeans.XmlCursor-). See https://stackoverflow.com/questions/49254987/inserting-xwpftable-in-between-contents/49261282#49261282 for how to use.","body":"Use <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#insertNewTbl-org.apache.xmlbeans.XmlCursor-\" rel=\"nofollow noreferrer\">XWPFDocument.nsertNewTbl</a>. See <a href=\"https://stackoverflow.com/questions/49254987/inserting-xwpftable-in-between-contents/49261282#49261282\" title=\"inserting xwpftable in between contents\">stackoverflow.com/questions/49254987/&hellip;</a> for how to use."}],"owner":{"account_id":29373468,"reputation":13,"user_id":22505556,"display_name":"Milos Jelic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693937217,"creation_date":1693937217,"question_id":77046823,"body_markdown":"Is there way with apache xwpf libary to add new table to specific place inside doc where is placeholder? \r\n\r\n\r\n```\r\n\r\n`    for (XWPFParagraph paragraph : document.getParagraphs()) {\r\n      for (XWPFRun run : paragraph.getRuns()) {\r\n        String text = run.getText(0);\r\n        if (text != null) {\r\n          for (Map.Entry&lt;String, String&gt; entry : data.entrySet()) {\r\n            if (entry.getValue() != null) {\r\n              text = text.replace(entry.getKey(), entry.getValue());\r\n            }\r\n          }\r\n          if (text.equals(placeholder)) {\r\n              //i want to add table here\r\n          } else {\r\n            String[] lines = text.split(&quot;\\n&quot;);\r\n            if (lines.length &gt; 1) {\r\n              run.setText(&quot;&quot;, 0);\r\n              run.setText(lines[0], 0);\r\n              for (int i = 1; i &lt; lines.length; i++) {\r\n                run.addBreak();\r\n                run.setText(lines[i], i);\r\n\r\n              }\r\n            } else {\r\n              run.setText(text, 0);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n```\r\n\r\nIts always add at end of docx when I create table.","title":"Placeholder for XWPFTable","body":"<p>Is there way with apache xwpf libary to add new table to specific place inside doc where is placeholder?</p>\n<pre><code>\n`    for (XWPFParagraph paragraph : document.getParagraphs()) {\n      for (XWPFRun run : paragraph.getRuns()) {\n        String text = run.getText(0);\n        if (text != null) {\n          for (Map.Entry&lt;String, String&gt; entry : data.entrySet()) {\n            if (entry.getValue() != null) {\n              text = text.replace(entry.getKey(), entry.getValue());\n            }\n          }\n          if (text.equals(placeholder)) {\n              //i want to add table here\n          } else {\n            String[] lines = text.split(&quot;\\n&quot;);\n            if (lines.length &gt; 1) {\n              run.setText(&quot;&quot;, 0);\n              run.setText(lines[0], 0);\n              for (int i = 1; i &lt; lines.length; i++) {\n                run.addBreak();\n                run.setText(lines[i], i);\n\n              }\n            } else {\n              run.setText(text, 0);\n            }\n          }\n        }\n      }\n\n    }\n</code></pre>\n<p>Its always add at end of docx when I create table.</p>\n"},{"tags":["java","jsp","struts2","csrf","struts"],"answers":[{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1693937038,"post_id":76721712,"comment_id":135824557,"body_markdown":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer.","body":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689773314,"creation_date":1689772497,"answer_id":76721712,"question_id":76721443,"body_markdown":"Old application should use a [`token`][1] or [`tokenSession`][2] interceptor.\r\n\r\nYou can find details in my previous answer: [Struts2 token interceptor: CSRF protection][3].\r\n\r\n[1]: \r\n https://struts.apache.org/core-developers/token-interceptor\r\n[2]: https://struts.apache.org/core-developers/token-session-interceptor\r\n[3]: https://stackoverflow.com/a/23518147/573032","title":"How to provide protection against Cross Site Request Forgery (CSRF) attacks for an old web application built on Java and struts2 framework","body":"<p>Old application should use a <a href=\"https://struts.apache.org/core-developers/token-interceptor\" rel=\"nofollow noreferrer\"><code>token</code></a> or <a href=\"https://struts.apache.org/core-developers/token-session-interceptor\" rel=\"nofollow noreferrer\"><code>tokenSession</code></a> interceptor.</p>\n<p>You can find details in my previous answer: <a href=\"https://stackoverflow.com/a/23518147/573032\">Struts2 token interceptor: CSRF protection</a>.</p>\n"}],"owner":{"account_id":29049305,"reputation":1,"user_id":22252474,"display_name":"Varun Pattar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689842805,"answer_count":1,"score":0,"last_activity_date":1693937053,"creation_date":1689770666,"question_id":76721443,"body_markdown":"How to provide protection against Cross Site Request Forgery (CSRF) attacks for an old web application built on Java and struts2 framework?\r\n\r\nTried adding filter before servlet, stuck over there.","title":"How to provide protection against Cross Site Request Forgery (CSRF) attacks for an old web application built on Java and struts2 framework","body":"<p>How to provide protection against Cross Site Request Forgery (CSRF) attacks for an old web application built on Java and struts2 framework?</p>\n<p>Tried adding filter before servlet, stuck over there.</p>\n"},{"tags":["java","floating-point","double","precision"],"comments":[{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":5,"creation_date":1519508579,"post_id":322749,"comment_id":84941375,"body_markdown":"Related: [Is floating point math broken?](https://stackoverflow.com/q/588004)","body":"Related: <a href=\"https://stackoverflow.com/q/588004\">Is floating point math broken?</a>"}],"answers":[{"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":2,"creation_date":1227822467,"post_id":322756,"comment_id":164229,"body_markdown":"@Draemon - look at the post before the last edit - all that &quot;shoppingTotal&quot; and &quot;calcGST&quot; and &quot;calcPST&quot; stuff looks like money to me.","body":"@Draemon - look at the post before the last edit - all that &quot;shoppingTotal&quot; and &quot;calcGST&quot; and &quot;calcPST&quot; stuff looks like money to me."}],"tags":[],"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1227750989,"creation_date":1227750989,"answer_id":322756,"question_id":322749,"body_markdown":"Multiply everything by 100 and store it in a long as cents.","title":"Retain precision with double in Java","body":"<p>Multiply everything by 100 and store it in a long as cents.</p>\n"},{"tags":[],"owner":{"account_id":17723,"reputation":89504,"user_id":39975,"accept_rate":71,"display_name":"Dustin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1227751040,"creation_date":1227751040,"answer_id":322758,"question_id":322749,"body_markdown":"Pretty sure you could&#39;ve made that into a three line example.  :)\r\n\r\nIf you want exact precision, use BigDecimal.  Otherwise, you can use ints multiplied by 10 ^ whatever precision you want.","title":"Retain precision with double in Java","body":"<p>Pretty sure you could've made that into a three line example.  :)</p>\n\n<p>If you want exact precision, use BigDecimal.  Otherwise, you can use ints multiplied by 10 ^ whatever precision you want.</p>\n"},{"tags":[],"owner":{"account_id":6358,"reputation":386102,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1227752569,"creation_date":1227752569,"answer_id":322790,"question_id":322749,"body_markdown":"Doubles are *approximations* of the decimal numbers in your Java source.  You&#39;re seeing the consequence of the mismatch between the double (which is a binary-coded value) and your source (which is decimal-coded).\r\n\r\nJava&#39;s producing the closest binary approximation.  You can use the java.text.DecimalFormat to display a better-looking decimal value.","title":"Retain precision with double in Java","body":"<p>Doubles are <em>approximations</em> of the decimal numbers in your Java source.  You're seeing the consequence of the mismatch between the double (which is a binary-coded value) and your source (which is decimal-coded).</p>\n\n<p>Java's producing the closest binary approximation.  You can use the java.text.DecimalFormat to display a better-looking decimal value.</p>\n"},{"tags":[],"owner":{"account_id":16298,"reputation":10964,"user_id":35322,"display_name":"Adam Jaskiewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1227753386,"creation_date":1227753386,"answer_id":322808,"question_id":322749,"body_markdown":"Use a BigDecimal. It even lets you specify rounding rules (like ROUND_HALF_EVEN, which will minimize statistical error by rounding to the even neighbor if both are the same distance; i.e. both 1.5 and 2.5 round to 2).","title":"Retain precision with double in Java","body":"<p>Use a BigDecimal. It even lets you specify rounding rules (like ROUND_HALF_EVEN, which will minimize statistical error by rounding to the even neighbor if both are the same distance; i.e. both 1.5 and 2.5 round to 2).</p>\n"},{"comments":[{"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"score":4,"creation_date":1227760224,"post_id":322853,"comment_id":163047,"body_markdown":"No, do *not* use double with monetary values!  You need precision with money, use BigDecimal instead.  Otherwise, your answer is good.  Anything you need precision with, use BigDecimal, if precision isn&#39;t that important, you can use float or double.","body":"No, do <i>not</i> use double with monetary values!  You need precision with money, use BigDecimal instead.  Otherwise, your answer is good.  Anything you need precision with, use BigDecimal, if precision isn&#39;t that important, you can use float or double."},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":1,"creation_date":1227801357,"post_id":322853,"comment_id":163772,"body_markdown":"The question no longer states or implies that money is involved. I specifically say to use BigDecimal or integers for money. What&#39;s the problem?","body":"The question no longer states or implies that money is involved. I specifically say to use BigDecimal or integers for money. What&#39;s the problem?"},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":1,"creation_date":1227801594,"post_id":322853,"comment_id":163780,"body_markdown":"And equal to &quot;don&#39;t use double for money&quot; is &quot;don&#39;t use BigDecimal *or* double for thirds&quot;. But sometimes a problem involves division, in which cases all bases not divisible by all prime factors of all denominators are about equally bad.","body":"And equal to &quot;don&#39;t use double for money&quot; is &quot;don&#39;t use BigDecimal <i>or</i> double for thirds&quot;. But sometimes a problem involves division, in which cases all bases not divisible by all prime factors of all denominators are about equally bad."},{"owner":{"account_id":453,"reputation":34827,"user_id":580,"accept_rate":75,"display_name":"Brian Leahy"},"score":1,"creation_date":1268922884,"post_id":322853,"comment_id":2460861,"body_markdown":".9999 = 1 if your precision is less than 4 significant digits","body":".9999 = 1 if your precision is less than 4 significant digits"}],"tags":[],"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1227756188,"creation_date":1227755467,"answer_id":322853,"question_id":322749,"body_markdown":"Observe that you&#39;d have the same problem if you used limited-precision decimal arithmetic, and wanted to deal with 1/3: 0.333333333 * 3 is 0.999999999, not 1.00000000. \r\n\r\nUnfortunately, 5.6, 5.8 and 11.4 just aren&#39;t round numbers in binary, because they involve fifths. So the float representation of them isn&#39;t exact, just as 0.3333 isn&#39;t exactly 1/3.\r\n\r\nIf all the numbers you use are non-recurring decimals, and you want exact results, use BigDecimal. Or as others have said, if your values are like money in the sense that they&#39;re all a multiple of 0.01, or 0.001, or something, then multiply everything by a fixed power of 10 and use int or long (addition and subtraction are trivial: watch out for multiplication).\r\n\r\nHowever, if you are happy with binary for the calculation, but you just want to print things out in a slightly friendlier format, try &lt;code&gt;java.util.Formatter&lt;/code&gt; or &lt;code&gt;String.format&lt;/code&gt;. In the format string specify a precision less than the full precision of a double. To 10 significant figures, say, 11.399999999999 is 11.4, so the result will be almost as accurate and more human-readable in cases where the binary result is very close to a value requiring only a few decimal places.\r\n\r\nThe precision to specify depends a bit on how much maths you&#39;ve done with your numbers - in general the more you do, the more error will accumulate, but some algorithms accumulate it much faster than others (they&#39;re called &quot;unstable&quot; as opposed to &quot;stable&quot; with respect to rounding errors). If all you&#39;re doing is adding a few values, then I&#39;d guess that dropping just one decimal place of precision will sort things out. Experiment.","title":"Retain precision with double in Java","body":"<p>Observe that you'd have the same problem if you used limited-precision decimal arithmetic, and wanted to deal with 1/3: 0.333333333 * 3 is 0.999999999, not 1.00000000. </p>\n\n<p>Unfortunately, 5.6, 5.8 and 11.4 just aren't round numbers in binary, because they involve fifths. So the float representation of them isn't exact, just as 0.3333 isn't exactly 1/3.</p>\n\n<p>If all the numbers you use are non-recurring decimals, and you want exact results, use BigDecimal. Or as others have said, if your values are like money in the sense that they're all a multiple of 0.01, or 0.001, or something, then multiply everything by a fixed power of 10 and use int or long (addition and subtraction are trivial: watch out for multiplication).</p>\n\n<p>However, if you are happy with binary for the calculation, but you just want to print things out in a slightly friendlier format, try <code>java.util.Formatter</code> or <code>String.format</code>. In the format string specify a precision less than the full precision of a double. To 10 significant figures, say, 11.399999999999 is 11.4, so the result will be almost as accurate and more human-readable in cases where the binary result is very close to a value requiring only a few decimal places.</p>\n\n<p>The precision to specify depends a bit on how much maths you've done with your numbers - in general the more you do, the more error will accumulate, but some algorithms accumulate it much faster than others (they're called \"unstable\" as opposed to \"stable\" with respect to rounding errors). If all you're doing is adding a few values, then I'd guess that dropping just one decimal place of precision will sort things out. Experiment.</p>\n"},{"comments":[{"owner":{"account_id":1835562,"reputation":923,"user_id":1666035,"accept_rate":70,"display_name":"Sarah Phillips"},"score":3,"creation_date":1397333646,"post_id":322875,"comment_id":35192975,"body_markdown":"In fact, there are usually 53 significant bits because the 1 before the &quot;decimal&quot; point is implied for all but denormalised values, giving an additional bit of precision.\ne.g. 3 is stored as (1.)1000... x 2^1 whilst\n   0.5 is stored as (1.)0000... x 2^-1\n\nWhen the value is denormalised (all exponent bits are zero) there can, and usually will, be fewer significant digits\n\ne.g. 1 x 2^-1030 is stored as (0.)00000001 x 2^-1022\n\nso seven significant digits have been sacrificed to scale.","body":"In fact, there are usually 53 significant bits because the 1 before the &quot;decimal&quot; point is implied for all but denormalised values, giving an additional bit of precision. e.g. 3 is stored as (1.)1000... x 2^1 whilst    0.5 is stored as (1.)0000... x 2^-1  When the value is denormalised (all exponent bits are zero) there can, and usually will, be fewer significant digits  e.g. 1 x 2^-1030 is stored as (0.)00000001 x 2^-1022  so seven significant digits have been sacrificed to scale."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1450896740,"post_id":322875,"comment_id":56625475,"body_markdown":"It should be noted that while `BigDecimal` is much slower than `double` in this case it isn&#39;t needed as double has 15 decimal places of accuracy, you just need rounding.","body":"It should be noted that while <code>BigDecimal</code> is much slower than <code>double</code> in this case it isn&#39;t needed as double has 15 decimal places of accuracy, you just need rounding."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1459468427,"post_id":322875,"comment_id":60313017,"body_markdown":"@PeterLawrey It has 15 decimal *digits* of accuracy, if they are all *before* the decimal point. Anything can happen after the decimal point, because of the incommensurability of decimal and binary fractions.","body":"@PeterLawrey It has 15 decimal <i>digits</i> of accuracy, if they are all <i>before</i> the decimal point. Anything can happen after the decimal point, because of the incommensurability of decimal and binary fractions."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1459494491,"post_id":322875,"comment_id":60320801,"body_markdown":"@EJP You are right, it has around 15 significant digits of precision. It can be 16 but it&#39;s safer to assume it is 15 or perhaps 14.","body":"@EJP You are right, it has around 15 significant digits of precision. It can be 16 but it&#39;s safer to assume it is 15 or perhaps 14."},{"owner":{"account_id":3161429,"reputation":5004,"user_id":2672447,"accept_rate":88,"display_name":"Shivam Sinha"},"score":0,"creation_date":1459787502,"post_id":322875,"comment_id":60432067,"body_markdown":"@PeterLawrey EJP&#39;s correction was due to my question: http://stackoverflow.com/questions/36344758/how-to-determine-the-max-precision-for-double/36345535 could you please expand on why its not exactly 15 and what situations it can be 16 or 14 ?","body":"@PeterLawrey EJP&#39;s correction was due to my question: <a href=\"http://stackoverflow.com/questions/36344758/how-to-determine-the-max-precision-for-double/36345535\" title=\"how to determine the max precision for double\">stackoverflow.com/questions/36344758/&hellip;</a> could you please expand on why its not exactly 15 and what situations it can be 16 or 14 ?"}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":5,"down_vote_count":1,"up_vote_count":182,"is_accepted":true,"score":181,"last_activity_date":1693936507,"creation_date":1227756466,"answer_id":322875,"question_id":322749,"body_markdown":"As others have mentioned, you&#39;ll probably want to use the [`BigDecimal`][1] class, if you want to have an exact representation of 11.4.\r\n\r\nNow, a little explanation into why this is happening:\r\n\r\nThe `float` and `double` primitive types in Java are [floating point][2] numbers, where the number is stored as a binary representation of a fraction and a exponent.\r\n\r\nMore specifically, a double-precision floating point value such as the `double` type is a 64-bit value, where:\r\n\r\n - 1 bit denotes the sign (positive or negative).\r\n - 11 bits for the exponent.\r\n - 52 bits for the significant digits (the fractional part as a binary).\r\n\r\nThese parts are combined to produce a `double` representation of a value.\r\n\r\n(Source: [Wikipedia: Double precision][3])\r\n\r\nFor a detailed description of how floating point values are handled in Java, see the [Section 4.2.3: Floating-Point Types, Formats, and Values][4] of the Java Language Specification.\r\n\r\nThe `byte`, `char`, `int`, `long` types are [fixed-point][6] numbers, which are exact representions of numbers. Unlike fixed point numbers, floating point numbers will some times (safe to assume &quot;most of the time&quot;) not be able to return an exact representation of a number. This is the reason why you end up with `11.399999999999` as the result of `5.6 + 5.8`.\r\n\r\nWhen requiring a value that is exact, such as 1.5 or 150.1005, you&#39;ll want to use one of the fixed-point types, which will be able to represent the number exactly.\r\n\r\nAs has been mentioned several times already, Java has a [`BigDecimal`][1] class which will handle very large numbers and very small numbers. \r\n\r\nFrom the Java API Reference for the `BigDecimal` class:\r\n\r\n&gt; Immutable,\r\n&gt; arbitrary-precision signed decimal\r\n&gt; numbers. A BigDecimal consists of an\r\n&gt; arbitrary precision integer unscaled\r\n&gt; value and a 32-bit integer scale. If\r\n&gt; zero or positive, the scale is the\r\n&gt; number of digits to the right of the\r\n&gt; decimal point. If negative, the\r\n&gt; unscaled value of the number is\r\n&gt; multiplied by ten to the power of the\r\n&gt; negation of the scale. The value of\r\n&gt; the number represented by the\r\n&gt; BigDecimal is therefore (unscaledValue\r\n&gt; &#215; 10^-scale).\r\n\r\nThere has been many questions on Stack Overflow relating to the matter of floating point numbers and its precision. Here is a list of related questions that may be of interest:\r\n\r\n - https://stackoverflow.com/questions/177506/why-do-i-see-a-double-variable-initialized-to-some-value-like-214-as-2139999961\r\n - https://stackoverflow.com/questions/240876/print-really-big-numbers\r\n - https://stackoverflow.com/questions/56947/how-is-floating-point-stored-when-does-it-matter\r\n - https://stackoverflow.com/questions/61872/use-float-or-decimal-for-accounting-application-dollar-amount\r\n\r\nIf you really want to get down to the nitty gritty details of floating point numbers, take a look at [What Every Computer Scientist Should Know About Floating-Point Arithmetic][12].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\r\n  [2]: http://en.wikipedia.org/wiki/Floating_point\r\n  [3]: http://en.wikipedia.org/wiki/Double_precision\r\n  [4]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.3\r\n  \r\n  [6]: http://en.wikipedia.org/wiki/Fixed-point_arithmetic\r\n  [12]: https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html","title":"Retain precision with double in Java","body":"<p>As others have mentioned, you'll probably want to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a> class, if you want to have an exact representation of 11.4.</p>\n<p>Now, a little explanation into why this is happening:</p>\n<p>The <code>float</code> and <code>double</code> primitive types in Java are <a href=\"http://en.wikipedia.org/wiki/Floating_point\" rel=\"nofollow noreferrer\">floating point</a> numbers, where the number is stored as a binary representation of a fraction and a exponent.</p>\n<p>More specifically, a double-precision floating point value such as the <code>double</code> type is a 64-bit value, where:</p>\n<ul>\n<li>1 bit denotes the sign (positive or negative).</li>\n<li>11 bits for the exponent.</li>\n<li>52 bits for the significant digits (the fractional part as a binary).</li>\n</ul>\n<p>These parts are combined to produce a <code>double</code> representation of a value.</p>\n<p>(Source: <a href=\"http://en.wikipedia.org/wiki/Double_precision\" rel=\"nofollow noreferrer\">Wikipedia: Double precision</a>)</p>\n<p>For a detailed description of how floating point values are handled in Java, see the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.3\" rel=\"nofollow noreferrer\">Section 4.2.3: Floating-Point Types, Formats, and Values</a> of the Java Language Specification.</p>\n<p>The <code>byte</code>, <code>char</code>, <code>int</code>, <code>long</code> types are <a href=\"http://en.wikipedia.org/wiki/Fixed-point_arithmetic\" rel=\"nofollow noreferrer\">fixed-point</a> numbers, which are exact representions of numbers. Unlike fixed point numbers, floating point numbers will some times (safe to assume &quot;most of the time&quot;) not be able to return an exact representation of a number. This is the reason why you end up with <code>11.399999999999</code> as the result of <code>5.6 + 5.8</code>.</p>\n<p>When requiring a value that is exact, such as 1.5 or 150.1005, you'll want to use one of the fixed-point types, which will be able to represent the number exactly.</p>\n<p>As has been mentioned several times already, Java has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a> class which will handle very large numbers and very small numbers.</p>\n<p>From the Java API Reference for the <code>BigDecimal</code> class:</p>\n<blockquote>\n<p>Immutable,\narbitrary-precision signed decimal\nnumbers. A BigDecimal consists of an\narbitrary precision integer unscaled\nvalue and a 32-bit integer scale. If\nzero or positive, the scale is the\nnumber of digits to the right of the\ndecimal point. If negative, the\nunscaled value of the number is\nmultiplied by ten to the power of the\nnegation of the scale. The value of\nthe number represented by the\nBigDecimal is therefore (unscaledValue\n× 10^-scale).</p>\n</blockquote>\n<p>There has been many questions on Stack Overflow relating to the matter of floating point numbers and its precision. Here is a list of related questions that may be of interest:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/177506/why-do-i-see-a-double-variable-initialized-to-some-value-like-214-as-2139999961\">Why do I see a double variable initialized to some value like 21.4 as 21.399999618530273?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/240876/print-really-big-numbers\">How to print really big numbers in C++</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56947/how-is-floating-point-stored-when-does-it-matter\">How is floating point stored? When does it matter?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/61872/use-float-or-decimal-for-accounting-application-dollar-amount\">Use float or decimal for accounting application dollar amount?</a></li>\n</ul>\n<p>If you really want to get down to the nitty gritty details of floating point numbers, take a look at <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>.</p>\n"},{"tags":[],"owner":{"account_id":13185,"reputation":34155,"user_id":26334,"accept_rate":54,"display_name":"Draemon"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1227757944,"creation_date":1227757944,"answer_id":322897,"question_id":322749,"body_markdown":"As others have noted, not all decimal values can be represented as binary since decimal is based on powers of 10 and binary is based on powers of two.\r\n\r\nIf precision matters, use BigDecimal, but if you just want friendly output:\r\n\r\n    System.out.printf(&quot;%.2f\\n&quot;, total);\r\n\r\nWill give you:\r\n\r\n    11.40\r\n","title":"Retain precision with double in Java","body":"<p>As others have noted, not all decimal values can be represented as binary since decimal is based on powers of 10 and binary is based on powers of two.</p>\n\n<p>If precision matters, use BigDecimal, but if you just want friendly output:</p>\n\n<pre><code>System.out.printf(\"%.2f\\n\", total);\n</code></pre>\n\n<p>Will give you:</p>\n\n<pre><code>11.40\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103489,"reputation":1299,"user_id":277160,"accept_rate":73,"display_name":"Dark Castle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268867654,"creation_date":1268867654,"answer_id":2466584,"question_id":322749,"body_markdown":"Check out BigDecimal, it handles problems dealing with floating point arithmetic like that.\r\n\r\nThe new call would look like this:\r\n\r\n    term[number].coefficient.add(co);\r\n\r\nUse setScale() to set the number of decimal place precision to be used.","title":"Retain precision with double in Java","body":"<p>Check out BigDecimal, it handles problems dealing with floating point arithmetic like that.</p>\n\n<p>The new call would look like this:</p>\n\n<pre><code>term[number].coefficient.add(co);\n</code></pre>\n\n<p>Use setScale() to set the number of decimal place precision to be used.</p>\n"},{"comments":[{"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"score":1,"creation_date":1268872545,"post_id":2466598,"comment_id":2456798,"body_markdown":"-1 for blindly recommending BigDecimal.  If you don&#39;t actually *need* decimal arithmetic (i.e., if you&#39;re doing calculations with money), then BigDecimal doesn&#39;t help you.  It doesn&#39;t solve all of your floating-point errors: You still have to deal with 1/3*3=0.9999999999999999999999999999 and sqrt(2)**2=1.999999999999999999999999999.  Furthermore, BigDecimal carries a huge speed penalty.  Worse, because of Java&#39;s lack of operator overloading, you have to rewrite all of your code.","body":"-1 for blindly recommending BigDecimal.  If you don&#39;t actually <i>need</i> decimal arithmetic (i.e., if you&#39;re doing calculations with money), then BigDecimal doesn&#39;t help you.  It doesn&#39;t solve all of your floating-point errors: You still have to deal with 1/3*3=0.9999999999999999999999999999 and sqrt(2)**2=1.999999999999999999999999999.  Furthermore, BigDecimal carries a huge speed penalty.  Worse, because of Java&#39;s lack of operator overloading, you have to rewrite all of your code."},{"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"score":2,"creation_date":1268874786,"post_id":2466598,"comment_id":2456951,"body_markdown":"@dan04 - If you do calculation with money why use floating representation knowing the inherent error in it....  Since there are no fraction of cents you can use decimal and calculate cents instead of using approximate dollar you have exact cent amount. If you really want the fraction of cent use a a long and calculate thousands of cents. Further more the OP made no mention of irrational numbers, all he was concerned about was addition.  Do read the post carefully and understand the problem before you answer, might save you some embarrassment.","body":"@dan04 - If you do calculation with money why use floating representation knowing the inherent error in it....  Since there are no fraction of cents you can use decimal and calculate cents instead of using approximate dollar you have exact cent amount. If you really want the fraction of cent use a a long and calculate thousands of cents. Further more the OP made no mention of irrational numbers, all he was concerned about was addition.  Do read the post carefully and understand the problem before you answer, might save you some embarrassment."},{"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"score":3,"creation_date":1268878566,"post_id":2466598,"comment_id":2457146,"body_markdown":"@Newtopian: I have nothing to be embarrassed about.  The OP made *NO* mention of money, nor any indication that his problem has any inherent decimalness.","body":"@Newtopian: I have nothing to be embarrassed about.  The OP made <i>NO</i> mention of money, nor any indication that his problem has any inherent decimalness."},{"owner":{"account_id":12969,"reputation":7584,"user_id":25812,"accept_rate":100,"display_name":"Newtopian"},"score":0,"creation_date":1268884738,"post_id":2466598,"comment_id":2457460,"body_markdown":"@ dan04 - No the OP did not... YOU did  And Blindly offered out of context opinion to what most likely was a perfectly acceptable answer given the poor amount of details provided","body":"@ dan04 - No the OP did not... YOU did  And Blindly offered out of context opinion to what most likely was a perfectly acceptable answer given the poor amount of details provided"}],"tags":[],"owner":{"account_id":29913,"reputation":10102,"user_id":81193,"accept_rate":83,"display_name":"Kevin Crowell"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1268867740,"creation_date":1268867740,"answer_id":2466598,"question_id":322749,"body_markdown":"Use java.math.BigDecimal\r\n\r\nDoubles are binary fractions internally, so they sometimes cannot represent decimal fractions to the exact decimal.","title":"Retain precision with double in Java","body":"<p>Use java.math.BigDecimal</p>\n\n<p>Doubles are binary fractions internally, so they sometimes cannot represent decimal fractions to the exact decimal.</p>\n"},{"comments":[{"owner":{"account_id":94317,"reputation":18634,"user_id":257583,"accept_rate":91,"display_name":"wrongusername"},"score":0,"creation_date":1268872482,"post_id":2466882,"comment_id":2456795,"body_markdown":"7.3 may not have a finite representation in binary, but I sure do get -7.3 when I try the same thing out in C++","body":"7.3 may not have a finite representation in binary, but I sure do get -7.3 when I try the same thing out in C++"},{"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"score":3,"creation_date":1268872642,"post_id":2466882,"comment_id":2456804,"body_markdown":"wrongusername: No, you don&#39;t.  It just displays that way.  Use &quot;%.17g&quot; format (or better yet, &quot;%.51g&quot;) to see the real answer.","body":"wrongusername: No, you don&#39;t.  It just displays that way.  Use &quot;%.17g&quot; format (or better yet, &quot;%.51g&quot;) to see the real answer."}],"tags":[],"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1268879872,"creation_date":1268872223,"answer_id":2466882,"question_id":322749,"body_markdown":"You can&#39;t, because 7.3 doesn&#39;t have a finite representation in binary.  The closest you can get is 2054767329987789/2**48 = 7.3+1/1407374883553280.\r\n\r\nTake a look at http://docs.python.org/tutorial/floatingpoint.html for a further explanation.  (It&#39;s on the Python website, but Java and C++ have the same &quot;problem&quot;.)\r\n\r\nThe solution depends on what exactly your problem is:\r\n\r\n* If it&#39;s that you just don&#39;t like seeing all those noise digits, then fix your string formatting.  Don&#39;t display more than 15 significant digits (or 7 for float).\r\n* If it&#39;s that the inexactness of your numbers is breaking things like &quot;if&quot; statements, then you should write if (abs(x - 7.3) &lt; TOLERANCE) instead of if (x == 7.3).\r\n* If you&#39;re working with money, then what you probably really want is decimal fixed point.  Store an integer number of cents or whatever the smallest unit of your currency is.\r\n* (VERY UNLIKELY) If you need more than 53 significant bits (15-16 significant digits) of precision, then use a high-precision floating-point type, like BigDecimal.\r\n","title":"Retain precision with double in Java","body":"<p>You can't, because 7.3 doesn't have a finite representation in binary.  The closest you can get is 2054767329987789/2**48 = 7.3+1/1407374883553280.</p>\n\n<p>Take a look at <a href=\"http://docs.python.org/tutorial/floatingpoint.html\" rel=\"noreferrer\">http://docs.python.org/tutorial/floatingpoint.html</a> for a further explanation.  (It's on the Python website, but Java and C++ have the same \"problem\".)</p>\n\n<p>The solution depends on what exactly your problem is:</p>\n\n<ul>\n<li>If it's that you just don't like seeing all those noise digits, then fix your string formatting.  Don't display more than 15 significant digits (or 7 for float).</li>\n<li>If it's that the inexactness of your numbers is breaking things like \"if\" statements, then you should write if (abs(x - 7.3) &lt; TOLERANCE) instead of if (x == 7.3).</li>\n<li>If you're working with money, then what you probably really want is decimal fixed point.  Store an integer number of cents or whatever the smallest unit of your currency is.</li>\n<li>(VERY UNLIKELY) If you need more than 53 significant bits (15-16 significant digits) of precision, then use a high-precision floating-point type, like BigDecimal.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":28159,"reputation":2033,"user_id":74911,"display_name":"Matthew"},"score":0,"creation_date":1268873118,"post_id":2466895,"comment_id":2456836,"body_markdown":"... such as the java.math package.\n\nhttp://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html","body":"... such as the java.math package.  <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html</a>"}],"tags":[],"owner":{"account_id":7892,"reputation":15964,"user_id":13895,"accept_rate":99,"display_name":"John"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1268872513,"creation_date":1268872513,"answer_id":2466895,"question_id":322749,"body_markdown":"You&#39;re running up against the precision limitation of type double.\r\n\r\nJava.Math has some arbitrary-precision arithmetic facilities.","title":"Retain precision with double in Java","body":"<p>You're running up against the precision limitation of type double.</p>\n\n<p>Java.Math has some arbitrary-precision arithmetic facilities.</p>\n"},{"comments":[{"owner":{"account_id":79704,"reputation":15955,"user_id":225814,"accept_rate":76,"display_name":"Aly"},"score":0,"creation_date":1268872795,"post_id":2466904,"comment_id":2456823,"body_markdown":"I am doing some odds calculations I would prefer to have the highest precision possible. But I understand there are limitations","body":"I am doing some odds calculations I would prefer to have the highest precision possible. But I understand there are limitations"}],"tags":[],"owner":{"account_id":86536,"reputation":10312,"user_id":240566,"accept_rate":82,"display_name":"Jay Askren"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268872734,"creation_date":1268872734,"answer_id":2466904,"question_id":322749,"body_markdown":"Computers store numbers in binary and can&#39;t actually represent numbers such as 33.333333333 or 100.0 exactly.  This is one of the tricky things about using doubles.  You will have to just round the answer before showing it to a user.  Luckily in most applications, you don&#39;t need that many decimal places anyhow.\r\n","title":"Retain precision with double in Java","body":"<p>Computers store numbers in binary and can't actually represent numbers such as 33.333333333 or 100.0 exactly.  This is one of the tricky things about using doubles.  You will have to just round the answer before showing it to a user.  Luckily in most applications, you don't need that many decimal places anyhow.</p>\n"},{"tags":[],"owner":{"account_id":101952,"reputation":2027,"user_id":273964,"accept_rate":100,"display_name":"Spike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455782667,"creation_date":1268872847,"answer_id":2466913,"question_id":322749,"body_markdown":"Floating point numbers differ from real numbers in that for any given floating point number there is a next higher floating point number. Same as integers. There&#39;s no integer between 1 and 2.\r\n\r\nThere&#39;s no way to represent 1/3 as a float. There&#39;s a float below it and there&#39;s a float above it, and there&#39;s a certain distance between them. And 1/3 is in that space.\r\n\r\nApfloat for Java claims to work with arbitrary precision floating point numbers, but I&#39;ve never used it. Probably worth a look.\r\nhttp://www.apfloat.org/apfloat_java/\r\n\r\nA similar question was asked here before\r\nhttps://stackoverflow.com/questions/277309/java-floating-point-high-precision-library","title":"Retain precision with double in Java","body":"<p>Floating point numbers differ from real numbers in that for any given floating point number there is a next higher floating point number. Same as integers. There's no integer between 1 and 2.</p>\n\n<p>There's no way to represent 1/3 as a float. There's a float below it and there's a float above it, and there's a certain distance between them. And 1/3 is in that space.</p>\n\n<p>Apfloat for Java claims to work with arbitrary precision floating point numbers, but I've never used it. Probably worth a look.\n<a href=\"http://www.apfloat.org/apfloat_java/\" rel=\"nofollow noreferrer\">http://www.apfloat.org/apfloat_java/</a></p>\n\n<p>A similar question was asked here before\n<a href=\"https://stackoverflow.com/questions/277309/java-floating-point-high-precision-library\">Java floating point high precision library</a></p>\n"},{"comments":[{"owner":{"account_id":48015,"reputation":104361,"user_id":142434,"display_name":"Stephen Canon"},"score":139,"creation_date":1274475803,"post_id":2466914,"comment_id":2933368,"body_markdown":"To anyone who is reading this in the future and is puzzled as to why the answer has nothing to do with the question: some moderator decided to merge the question I (and others) had answered with this, rather different, question.","body":"To anyone who is reading this in the future and is puzzled as to why the answer has nothing to do with the question: some moderator decided to merge the question I (and others) had answered with this, rather different, question."},{"owner":{"account_id":2644958,"reputation":13447,"user_id":2554605,"accept_rate":90,"display_name":"Michael Yaworski"},"score":0,"creation_date":1399519398,"post_id":2466914,"comment_id":36099603,"body_markdown":"How do you know the exact double value?","body":"How do you know the exact double value?"},{"owner":{"account_id":182489,"reputation":4138,"user_id":417228,"display_name":"Jaydee"},"score":0,"creation_date":1424095048,"post_id":2466914,"comment_id":45399484,"body_markdown":"@mikeyaworski http://en.wikipedia.org/wiki/Double-precision_floating-point_format See double precision examples","body":"@mikeyaworski <a href=\"http://en.wikipedia.org/wiki/Double-precision_floating-point_format\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Double-precision_floating-point_format</a> See double precision examples"}],"tags":[],"owner":{"account_id":48015,"reputation":104361,"user_id":142434,"display_name":"Stephen Canon"},"comment_count":3,"down_vote_count":3,"up_vote_count":113,"is_accepted":false,"score":110,"last_activity_date":1446072956,"creation_date":1268872916,"answer_id":2466914,"question_id":322749,"body_markdown":"When you input a double number, for example, `33.33333333333333`, the value you get is actually the closest representable double-precision value, which is exactly:\r\n\r\n    33.3333333333333285963817615993320941925048828125\r\n\r\nDividing that by 100 gives:\r\n\r\n    0.333333333333333285963817615993320941925048828125\r\n\r\nwhich also isn&#39;t representable as a double-precision number, so again it is rounded to the nearest representable value, which is exactly:\r\n\r\n    0.3333333333333332593184650249895639717578887939453125\r\n\r\nWhen you print this value out, it gets rounded *yet again* to 17 decimal digits, giving:\r\n\r\n    0.33333333333333326","title":"Retain precision with double in Java","body":"<p>When you input a double number, for example, <code>33.33333333333333</code>, the value you get is actually the closest representable double-precision value, which is exactly:</p>\n\n<pre><code>33.3333333333333285963817615993320941925048828125\n</code></pre>\n\n<p>Dividing that by 100 gives:</p>\n\n<pre><code>0.333333333333333285963817615993320941925048828125\n</code></pre>\n\n<p>which also isn't representable as a double-precision number, so again it is rounded to the nearest representable value, which is exactly:</p>\n\n<pre><code>0.3333333333333332593184650249895639717578887939453125\n</code></pre>\n\n<p>When you print this value out, it gets rounded <em>yet again</em> to 17 decimal digits, giving:</p>\n\n<pre><code>0.33333333333333326\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97602,"reputation":787,"user_id":264669,"accept_rate":78,"display_name":"Vinny"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1343179112,"creation_date":1268874515,"answer_id":2467007,"question_id":322749,"body_markdown":"You may want to look into using java&#39;s java.math.BigDecimal class if you really need precision math. Here is a good article from Oracle/Sun on [the case for BigDecimal][1]. While you can never represent 1/3 as someone mentioned,  you **can** have the power to decide exactly how precise you want the result to be. setScale() is your friend.. :)\r\n\r\n\r\n  [1]: https://blogs.oracle.com/CoreJavaTechTips/entry/the_need_for_bigdecimal\r\n\r\nOk, because I have way too much time on my hands at the moment here is a code example that relates to your question:\r\n\r\n    import java.math.BigDecimal;\r\n    /**\r\n     * Created by a wonderful programmer known as:\r\n     * Vincent Stoessel\r\n     * xaymaca@gmail.com\r\n     * on Mar 17, 2010 at  11:05:16 PM\r\n     */\r\n    public class BigUp {\r\n    \r\n        public static void main(String[] args) {\r\n            BigDecimal first, second, result ;\r\n            first = new BigDecimal(&quot;33.33333333333333&quot;)  ;\r\n            second = new BigDecimal(&quot;100&quot;) ;\r\n            result = first.divide(second);\r\n            System.out.println(&quot;result is &quot; + result);\r\n           //will print : result is 0.3333333333333333\r\n    \r\n    \r\n        }\r\n    }\r\nand to plug my new favorite language, Groovy, here is a neater example of the same thing:\r\n\r\n    import java.math.BigDecimal\r\n    \r\n    def  first =   new BigDecimal(&quot;33.33333333333333&quot;)\r\n    def second = new BigDecimal(&quot;100&quot;)\r\n    \r\n    \r\n    println &quot;result is &quot; + first/second   // will print: result is 0.33333333333333\r\n\r\n","title":"Retain precision with double in Java","body":"<p>You may want to look into using java's java.math.BigDecimal class if you really need precision math. Here is a good article from Oracle/Sun on <a href=\"https://blogs.oracle.com/CoreJavaTechTips/entry/the_need_for_bigdecimal\" rel=\"noreferrer\">the case for BigDecimal</a>. While you can never represent 1/3 as someone mentioned,  you <strong>can</strong> have the power to decide exactly how precise you want the result to be. setScale() is your friend.. :)</p>\n\n<p>Ok, because I have way too much time on my hands at the moment here is a code example that relates to your question:</p>\n\n<pre><code>import java.math.BigDecimal;\n/**\n * Created by a wonderful programmer known as:\n * Vincent Stoessel\n * xaymaca@gmail.com\n * on Mar 17, 2010 at  11:05:16 PM\n */\npublic class BigUp {\n\n    public static void main(String[] args) {\n        BigDecimal first, second, result ;\n        first = new BigDecimal(\"33.33333333333333\")  ;\n        second = new BigDecimal(\"100\") ;\n        result = first.divide(second);\n        System.out.println(\"result is \" + result);\n       //will print : result is 0.3333333333333333\n\n\n    }\n}\n</code></pre>\n\n<p>and to plug my new favorite language, Groovy, here is a neater example of the same thing:</p>\n\n<pre><code>import java.math.BigDecimal\n\ndef  first =   new BigDecimal(\"33.33333333333333\")\ndef second = new BigDecimal(\"100\")\n\n\nprintln \"result is \" + first/second   // will print: result is 0.33333333333333\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10928,"reputation":14250,"user_id":20856,"accept_rate":100,"display_name":"Samir Talwar"},"score":1,"creation_date":1268885179,"post_id":2467009,"comment_id":2457479,"body_markdown":"Surely `numerator` and `denominator` should be `int`s? Why would you want floating-point precision?","body":"Surely <code>numerator</code> and <code>denominator</code> should be <code>int</code>s? Why would you want floating-point precision?"},{"owner":{"account_id":80823,"reputation":2908,"user_id":228276,"accept_rate":100,"display_name":"Viral Shah"},"score":0,"creation_date":1268885361,"post_id":2467009,"comment_id":2457487,"body_markdown":"Guess it&#39;s not really necessary but it avoids casting in the toDouble function so the code reads better.","body":"Guess it&#39;s not really necessary but it avoids casting in the toDouble function so the code reads better."},{"owner":{"account_id":10928,"reputation":14250,"user_id":20856,"accept_rate":100,"display_name":"Samir Talwar"},"score":6,"creation_date":1268902837,"post_id":2467009,"comment_id":2458448,"body_markdown":"ViralShah: It also potentially introduces floating-point error when dealing with mathematical operations. Given that the point of this exercise is to avoid exactly that, it seems prudent to alter it.","body":"ViralShah: It also potentially introduces floating-point error when dealing with mathematical operations. Given that the point of this exercise is to avoid exactly that, it seems prudent to alter it."},{"owner":{"account_id":80823,"reputation":2908,"user_id":228276,"accept_rate":100,"display_name":"Viral Shah"},"score":0,"creation_date":1268904565,"post_id":2467009,"comment_id":2458651,"body_markdown":"Edited to use ints instead of doubles, for the reasons mentioned by Samir Talwar above.","body":"Edited to use ints instead of doubles, for the reasons mentioned by Samir Talwar above."},{"owner":{"account_id":462905,"reputation":7596,"user_id":865481,"display_name":"Salix alba"},"score":3,"creation_date":1391517489,"post_id":2467009,"comment_id":32548492,"body_markdown":"This implementation of fractions has problems as it does not reduce them to a simplest form. 2/3*1/2 give 2/6 where you really want the answer to be 1/3. Ideally in the constructor you want to find the gcd of numerator and divisor and divide both by that.","body":"This implementation of fractions has problems as it does not reduce them to a simplest form. 2/3*1/2 give 2/6 where you really want the answer to be 1/3. Ideally in the constructor you want to find the gcd of numerator and divisor and divide both by that."},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1484946407,"post_id":2467009,"comment_id":70736108,"body_markdown":"it gives ERROR incompatible types: possible lossy conversion from double to int\n----","body":"it gives ERROR incompatible types: possible lossy conversion from double to int ----"}],"tags":[],"owner":{"account_id":80823,"reputation":2908,"user_id":228276,"accept_rate":100,"display_name":"Viral Shah"},"comment_count":6,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1464282894,"creation_date":1268874546,"answer_id":2467009,"question_id":322749,"body_markdown":"If you just want to process values as fractions, you can create a Fraction class which holds a numerator and denominator field.\r\n\r\nWrite methods for add, subtract, multiply and divide as well as a toDouble method. This way you can avoid floats during calculations.\r\n\r\nEDIT: Quick implementation,\r\n\r\n    public class Fraction {\r\n\r\n\tprivate int numerator;\r\n\tprivate int denominator;\r\n\t\r\n\tpublic Fraction(int n, int d){\r\n\t\tnumerator = n;\r\n\t\tdenominator = d;\r\n\t}\r\n\t\r\n\tpublic double toDouble(){\r\n\t\treturn ((double)numerator)/((double)denominator);\r\n\t}\r\n\t\r\n\t\r\n\tpublic static Fraction add(Fraction a, Fraction b){\r\n\t\tif(a.denominator != b.denominator){\r\n\t\t\tdouble aTop = b.denominator * a.numerator;\r\n\t\t\tdouble bTop = a.denominator * b.numerator;\r\n\t\t\treturn new Fraction(aTop + bTop, a.denominator * b.denominator);\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn new Fraction(a.numerator + b.numerator, a.denominator);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static Fraction divide(Fraction a, Fraction b){\r\n\t\treturn new Fraction(a.numerator * b.denominator, a.denominator * b.numerator);\r\n\t}\r\n\t\r\n\tpublic static Fraction multiply(Fraction a, Fraction b){\r\n\t\treturn new Fraction(a.numerator * b.numerator, a.denominator * b.denominator);\r\n\t}\r\n\t\r\n\tpublic static Fraction subtract(Fraction a, Fraction b){\r\n\t\tif(a.denominator != b.denominator){\r\n\t\t\tdouble aTop = b.denominator * a.numerator;\r\n\t\t\tdouble bTop = a.denominator * b.numerator;\r\n\t\t\treturn new Fraction(aTop-bTop, a.denominator*b.denominator);\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn new Fraction(a.numerator - b.numerator, a.denominator);\r\n\t\t}\r\n\t}\r\n\t\r\n    }","title":"Retain precision with double in Java","body":"<p>If you just want to process values as fractions, you can create a Fraction class which holds a numerator and denominator field.</p>\n\n<p>Write methods for add, subtract, multiply and divide as well as a toDouble method. This way you can avoid floats during calculations.</p>\n\n<p>EDIT: Quick implementation,</p>\n\n<pre><code>public class Fraction {\n\nprivate int numerator;\nprivate int denominator;\n\npublic Fraction(int n, int d){\n    numerator = n;\n    denominator = d;\n}\n\npublic double toDouble(){\n    return ((double)numerator)/((double)denominator);\n}\n\n\npublic static Fraction add(Fraction a, Fraction b){\n    if(a.denominator != b.denominator){\n        double aTop = b.denominator * a.numerator;\n        double bTop = a.denominator * b.numerator;\n        return new Fraction(aTop + bTop, a.denominator * b.denominator);\n    }\n    else{\n        return new Fraction(a.numerator + b.numerator, a.denominator);\n    }\n}\n\npublic static Fraction divide(Fraction a, Fraction b){\n    return new Fraction(a.numerator * b.denominator, a.denominator * b.numerator);\n}\n\npublic static Fraction multiply(Fraction a, Fraction b){\n    return new Fraction(a.numerator * b.numerator, a.denominator * b.denominator);\n}\n\npublic static Fraction subtract(Fraction a, Fraction b){\n    if(a.denominator != b.denominator){\n        double aTop = b.denominator * a.numerator;\n        double bTop = a.denominator * b.numerator;\n        return new Fraction(aTop-bTop, a.denominator*b.denominator);\n    }\n    else{\n        return new Fraction(a.numerator - b.numerator, a.denominator);\n    }\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":374588,"reputation":2774,"user_id":724873,"accept_rate":80,"display_name":"Maciek D."},"score":2,"creation_date":1274445175,"post_id":2881915,"comment_id":2928902,"body_markdown":"I think he is worried by the output, not the numerical precision. and BigDecimal would be no help if you eg. divide by three. It can even make things worse...","body":"I think he is worried by the output, not the numerical precision. and BigDecimal would be no help if you eg. divide by three. It can even make things worse..."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1459468362,"post_id":2881915,"comment_id":60313001,"body_markdown":"You should never never never use floating-point for money. I&#39;ve seen major rework enforced on a contractor who broke this rule despite being so instructed.","body":"You should never never never use floating-point for money. I&#39;ve seen major rework enforced on a contractor who broke this rule despite being so instructed."}],"tags":[],"owner":{"account_id":374588,"reputation":2774,"user_id":724873,"accept_rate":80,"display_name":"Maciek D."},"comment_count":2,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1274444174,"creation_date":1274444174,"answer_id":2881915,"question_id":322749,"body_markdown":"Do not waste your efford using BigDecimal. In 99.99999% cases you don&#39;t need it. java **double** type is of cource approximate but in almost all cases, it is sufficiently precise. Mind that your have an error at 14th significant digit. **This is really negligible!**\r\n\r\nTo get nice output use:\r\n\r\n    System.out.printf(&quot;%.2f\\n&quot;, total);\r\n\r\n","title":"Retain precision with double in Java","body":"<p>Do not waste your efford using BigDecimal. In 99.99999% cases you don't need it. java <strong>double</strong> type is of cource approximate but in almost all cases, it is sufficiently precise. Mind that your have an error at 14th significant digit. <strong>This is really negligible!</strong></p>\n\n<p>To get nice output use:</p>\n\n<pre><code>System.out.printf(\"%.2f\\n\", total);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395843,"reputation":5303,"user_id":759012,"display_name":"sravan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1342031296,"creation_date":1323265279,"answer_id":8416233,"question_id":322749,"body_markdown":"\tprivate void getRound() {\r\n\t\t// this is very simple and interesting \r\n\t\tdouble a = 5, b = 3, c;\r\n\t\tc = a / b;\r\n\t\tSystem.out.println(&quot; round  val is &quot; + c);\r\n\t\t\r\n\t\t//  round  val is  :  1.6666666666666667\r\n\t\t// if you want to only two precision point with double we \r\n                //  can use formate option in String \r\n               // which takes 2 parameters one is formte specifier which \r\n               // shows dicimal places another double value \r\n\t\tString s = String.format(&quot;%.2f&quot;, c);\r\n\t\tdouble val = Double.parseDouble(s);\r\n\t\tSystem.out.println(&quot; val is :&quot; + val);\r\n\t\t// now out put will be : val is :1.67\r\n\t}\r\n\r\n","title":"Retain precision with double in Java","body":"<pre><code>private void getRound() {\n    // this is very simple and interesting \n    double a = 5, b = 3, c;\n    c = a / b;\n    System.out.println(\" round  val is \" + c);\n\n    //  round  val is  :  1.6666666666666667\n    // if you want to only two precision point with double we \n            //  can use formate option in String \n           // which takes 2 parameters one is formte specifier which \n           // shows dicimal places another double value \n    String s = String.format(\"%.2f\", c);\n    double val = Double.parseDouble(s);\n    System.out.println(\" val is :\" + val);\n    // now out put will be : val is :1.67\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4377698,"reputation":161,"user_id":3570276,"display_name":"Mr.Cat"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1447518366,"creation_date":1447517134,"answer_id":33710380,"question_id":322749,"body_markdown":"Why not use the round() method from Math class?\r\n\r\n    // The number of 0s determines how many digits you want after the floating point\r\n    // (here one digit)\r\n    total = (double)Math.round(total * 10) / 10;\r\n    System.out.println(total); // prints 11.4","title":"Retain precision with double in Java","body":"<p>Why not use the round() method from Math class?</p>\n\n<pre><code>// The number of 0s determines how many digits you want after the floating point\n// (here one digit)\ntotal = (double)Math.round(total * 10) / 10;\nSystem.out.println(total); // prints 11.4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7553937,"reputation":1,"user_id":5734382,"display_name":"user5734382"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525690798,"creation_date":1525690798,"answer_id":50212621,"question_id":322749,"body_markdown":"If you have no choice other than using double values, can use the below code.\r\n\r\n    public static double sumDouble(double value1, double value2) {\r\n\t\tdouble sum = 0.0;\r\n\t\tString value1Str = Double.toString(value1);\r\n\t\tint decimalIndex = value1Str.indexOf(&quot;.&quot;);\r\n\t\tint value1Precision = 0;\r\n\t\tif (decimalIndex != -1) {\r\n\t\t\tvalue1Precision = (value1Str.length() - 1) - decimalIndex;\r\n\t\t}\r\n\t\t\r\n\t\tString value2Str = Double.toString(value2);\r\n\t\tdecimalIndex = value2Str.indexOf(&quot;.&quot;);\r\n\t\tint value2Precision = 0;\r\n\t\tif (decimalIndex != -1) {\r\n\t\t\tvalue2Precision = (value2Str.length() - 1) - decimalIndex;\r\n\t\t}\r\n\t\t\r\n\t\tint maxPrecision = value1Precision &gt; value2Precision ? value1Precision : value2Precision;\r\n\t\tsum = value1 + value2;\r\n\t\tString s = String.format(&quot;%.&quot; + maxPrecision + &quot;f&quot;, sum);\r\n\t\tsum = Double.parseDouble(s);\r\n\t\treturn sum;\r\n\t}\r\n","title":"Retain precision with double in Java","body":"<p>If you have no choice other than using double values, can use the below code.</p>\n\n<pre><code>public static double sumDouble(double value1, double value2) {\n    double sum = 0.0;\n    String value1Str = Double.toString(value1);\n    int decimalIndex = value1Str.indexOf(\".\");\n    int value1Precision = 0;\n    if (decimalIndex != -1) {\n        value1Precision = (value1Str.length() - 1) - decimalIndex;\n    }\n\n    String value2Str = Double.toString(value2);\n    decimalIndex = value2Str.indexOf(\".\");\n    int value2Precision = 0;\n    if (decimalIndex != -1) {\n        value2Precision = (value2Str.length() - 1) - decimalIndex;\n    }\n\n    int maxPrecision = value1Precision &gt; value2Precision ? value1Precision : value2Precision;\n    sum = value1 + value2;\n    String s = String.format(\"%.\" + maxPrecision + \"f\", sum);\n    sum = Double.parseDouble(s);\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6973537,"reputation":1101,"user_id":5348990,"accept_rate":36,"display_name":"jackycflau"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591404986,"creation_date":1569253743,"answer_id":58065988,"question_id":322749,"body_markdown":"Short answer: Always use BigDecimal and make sure you are using the constructor with &lt;b&gt; String&lt;/b&gt; argument, not the double one.\r\n\r\nBack to your example, the following code will print 11.4, as you wish.\r\n\r\n    public class doublePrecision {\r\n        public static void main(String[] args) {\r\n          BigDecimal total = new BigDecimal(&quot;0&quot;);\r\n          total = total.add(new BigDecimal(&quot;5.6&quot;));\r\n          total = total.add(new BigDecimal(&quot;5.8&quot;));\r\n          System.out.println(total);\r\n        }\r\n    }\r\n\r\n","title":"Retain precision with double in Java","body":"<p>Short answer: Always use BigDecimal and make sure you are using the constructor with <b> String</b> argument, not the double one.</p>\n\n<p>Back to your example, the following code will print 11.4, as you wish.</p>\n\n<pre><code>public class doublePrecision {\n    public static void main(String[] args) {\n      BigDecimal total = new BigDecimal(\"0\");\n      total = total.add(new BigDecimal(\"5.6\"));\n      total = total.add(new BigDecimal(\"5.8\"));\n      System.out.println(total);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3387857,"reputation":809,"user_id":2843451,"display_name":"Harry Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1600424731,"creation_date":1600424731,"answer_id":63953941,"question_id":322749,"body_markdown":"            /*\r\n            0.8                     1.2\r\n            0.7                     1.3\r\n            0.7000000000000002      2.3\r\n            0.7999999999999998      4.2\r\n            */\r\n            double adjust = fToInt + 1.0 - orgV;\r\n            \r\n            // The following two lines works for me. \r\n            String s = String.format(&quot;%.2f&quot;, adjust);\r\n            double val = Double.parseDouble(s);\r\n\r\n            System.out.println(val); // output: 0.8, 0.7, 0.7, 0.8","title":"Retain precision with double in Java","body":"<pre><code>        /*\n        0.8                     1.2\n        0.7                     1.3\n        0.7000000000000002      2.3\n        0.7999999999999998      4.2\n        */\n        double adjust = fToInt + 1.0 - orgV;\n        \n        // The following two lines works for me. \n        String s = String.format(&quot;%.2f&quot;, adjust);\n        double val = Double.parseDouble(s);\n\n        System.out.println(val); // output: 0.8, 0.7, 0.7, 0.8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8371384,"reputation":494,"user_id":6286397,"display_name":"Vimal Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634499945,"creation_date":1634499945,"answer_id":69608022,"question_id":322749,"body_markdown":"You can Do the Following! \r\n\r\n    System.out.println(String.format(&quot;%.12f&quot;, total));\r\n\r\nif you change the decimal value here ***%.12f***","title":"Retain precision with double in Java","body":"<p>You can Do the Following!</p>\n<pre><code>System.out.println(String.format(&quot;%.12f&quot;, total));\n</code></pre>\n<p>if you change the decimal value here <em><strong>%.12f</strong></em></p>\n"},{"tags":[],"owner":{"account_id":4342653,"reputation":66,"user_id":3545530,"display_name":"Hiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653938713,"creation_date":1653938713,"answer_id":72439165,"question_id":322749,"body_markdown":"So far I understand it as main goal to get correct `double` from wrong `double`.\r\n\r\nLook for my solution how to get correct value from &quot;approximate&quot; wrong value - if it is real floating point it rounds last digit - counted from all digits - counting before dot and try to keep max possible digits after dot - hope that it is enough precision for most cases:\r\n\r\n    public static double roundError(double value) {\r\n        BigDecimal valueBigDecimal = new BigDecimal(Double.toString(value));\r\n        String valueString = valueBigDecimal.toPlainString();\r\n        if (!valueString.contains(&quot;.&quot;)) return value;\r\n        String[] valueArray = valueString.split(&quot;[.]&quot;);\r\n        int places = 16;\r\n        places -= valueArray[0].length();\r\n        if (&quot;56789&quot;.contains(&quot;&quot; + valueArray[0].charAt(valueArray[0].length() - 1))) places--;\r\n        //System.out.println(&quot;Rounding &quot; + value + &quot;(&quot; + valueString + &quot;) to &quot; + places + &quot; places&quot;);\r\n        return valueBigDecimal.setScale(places, RoundingMode.HALF_UP).doubleValue();\r\n    }\r\n\r\nI know it is long code, sure not best, maybe someone can fix it to be more elegant. Anyway it is working, see examples:\r\n\r\n    roundError(5.6+5.8) = 11.399999999999999 = 11.4\r\n    roundError(0.4-0.3) = 0.10000000000000003 = 0.1\r\n    roundError(37235.137567000005) = 37235.137567\r\n    roundError(1/3) 0.3333333333333333 = 0.333333333333333\r\n    roundError(3723513756.7000005) = 3.7235137567E9 (3723513756.7)\r\n    roundError(3723513756123.7000005) = 3.7235137561237E12 (3723513756123.7)\r\n    roundError(372351375612.7000005) = 3.723513756127E11 (372351375612.7)\r\n    roundError(1.7976931348623157) = 1.797693134862316\r\n\r\n","title":"Retain precision with double in Java","body":"<p>So far I understand it as main goal to get correct <code>double</code> from wrong <code>double</code>.</p>\n<p>Look for my solution how to get correct value from &quot;approximate&quot; wrong value - if it is real floating point it rounds last digit - counted from all digits - counting before dot and try to keep max possible digits after dot - hope that it is enough precision for most cases:</p>\n<pre><code>public static double roundError(double value) {\n    BigDecimal valueBigDecimal = new BigDecimal(Double.toString(value));\n    String valueString = valueBigDecimal.toPlainString();\n    if (!valueString.contains(&quot;.&quot;)) return value;\n    String[] valueArray = valueString.split(&quot;[.]&quot;);\n    int places = 16;\n    places -= valueArray[0].length();\n    if (&quot;56789&quot;.contains(&quot;&quot; + valueArray[0].charAt(valueArray[0].length() - 1))) places--;\n    //System.out.println(&quot;Rounding &quot; + value + &quot;(&quot; + valueString + &quot;) to &quot; + places + &quot; places&quot;);\n    return valueBigDecimal.setScale(places, RoundingMode.HALF_UP).doubleValue();\n}\n</code></pre>\n<p>I know it is long code, sure not best, maybe someone can fix it to be more elegant. Anyway it is working, see examples:</p>\n<pre><code>roundError(5.6+5.8) = 11.399999999999999 = 11.4\nroundError(0.4-0.3) = 0.10000000000000003 = 0.1\nroundError(37235.137567000005) = 37235.137567\nroundError(1/3) 0.3333333333333333 = 0.333333333333333\nroundError(3723513756.7000005) = 3.7235137567E9 (3723513756.7)\nroundError(3723513756123.7000005) = 3.7235137561237E12 (3723513756123.7)\nroundError(372351375612.7000005) = 3.723513756127E11 (372351375612.7)\nroundError(1.7976931348623157) = 1.797693134862316\n</code></pre>\n"}],"owner":{"account_id":3612,"reputation":3989,"user_id":5219,"display_name":"Deinumite"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261199,"favorite_count":0,"down_vote_count":1,"up_vote_count":185,"accepted_answer_id":322875,"answer_count":24,"score":184,"last_activity_date":1693936507,"creation_date":1227750843,"question_id":322749,"body_markdown":"    public class doublePrecision {\r\n        public static void main(String[] args) {\r\n\r\n            double total = 0;\r\n            total += 5.6;\r\n            total += 5.8;\r\n            System.out.println(total);\r\n        }\r\n    }\r\n\r\nThe above code prints:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    11.399999999999\r\n\r\nHow would I get this to just print (or be able to use it as) 11.4?","title":"Retain precision with double in Java","body":"<pre><code>public class doublePrecision {\n    public static void main(String[] args) {\n\n        double total = 0;\n        total += 5.6;\n        total += 5.8;\n        System.out.println(total);\n    }\n}\n</code></pre>\n\n<p>The above code prints:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>11.399999999999\n</code></pre>\n\n<p>How would I get this to just print (or be able to use it as) 11.4?</p>\n"},{"tags":["java","android","android-notifications"],"owner":{"account_id":3212087,"reputation":600,"user_id":2711864,"accept_rate":79,"display_name":"Kidades"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693936443,"creation_date":1693936443,"question_id":77046751,"body_markdown":"```\r\nNotification.Builder notificationBuilder = new Notification.Builder(this, channelId)\r\n                .setSmallIcon(ic)\r\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher))\r\n                .setContentTitle(title)\r\n                .setContentText(body)\r\n                .setAutoCancel(true)\r\n                .setContentIntent(pendingIntent);\r\n```\r\n\r\n\r\nWhen I create a notification and give it a small and large icon, the large icon appears at the right side, while the small icon appears at the left.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/WQsVw.png)](https://i.stack.imgur.com/WQsVw.png)\r\n\r\n\r\nI want to make the large icon appear on the left side too, instead of the small icon.\r\n\r\nApps like viber and some others can show the contact&#39;s picture on the left, with the small icon showing in the corner.\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/wUzI7.jpg)](https://i.stack.imgur.com/wUzI7.jpg)\r\n\r\nHow do I get it to show like this?","title":"How to combine small and large icon in notification drawer?","body":"<pre><code>Notification.Builder notificationBuilder = new Notification.Builder(this, channelId)\n                .setSmallIcon(ic)\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher))\n                .setContentTitle(title)\n                .setContentText(body)\n                .setAutoCancel(true)\n                .setContentIntent(pendingIntent);\n</code></pre>\n<p>When I create a notification and give it a small and large icon, the large icon appears at the right side, while the small icon appears at the left.</p>\n<p><a href=\"https://i.stack.imgur.com/WQsVw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WQsVw.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to make the large icon appear on the left side too, instead of the small icon.</p>\n<p>Apps like viber and some others can show the contact's picture on the left, with the small icon showing in the corner.</p>\n<p><a href=\"https://i.stack.imgur.com/wUzI7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wUzI7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How do I get it to show like this?</p>\n"},{"tags":["java","azure","graph"],"comments":[{"owner":{"account_id":1438222,"reputation":843,"user_id":1452528,"display_name":"Derek Gusoff"},"score":0,"creation_date":1668733697,"post_id":74480548,"comment_id":131484647,"body_markdown":"If you have an automated system credential calling `/me`, what exactly is the data you&#39;re hoping to get?","body":"If you have an automated system credential calling <code>&#47;me</code>, what exactly is the data you&#39;re hoping to get?"},{"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"score":0,"creation_date":1668779058,"post_id":74480548,"comment_id":131495395,"body_markdown":"@DerekGusoff - That is my question here - That is the example in the documentation and it makes no sense to me.  Why would Microsoft document use inappropriate example usage?","body":"@DerekGusoff - That is my question here - That is the example in the documentation and it makes no sense to me.  Why would Microsoft document use inappropriate example usage?"},{"owner":{"account_id":1438222,"reputation":843,"user_id":1452528,"display_name":"Derek Gusoff"},"score":0,"creation_date":1668783393,"post_id":74480548,"comment_id":131497047,"body_markdown":"sometimes stuff is wrong. the person putting it together was copy/pasting some code between examples.","body":"sometimes stuff is wrong. the person putting it together was copy/pasting some code between examples."},{"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"score":0,"creation_date":1668783490,"post_id":74480548,"comment_id":131497079,"body_markdown":"@DerekGusoff Thank you, I do understand the docs are wrong - that is why I am reaching out to SO to find the correct answer.  :)  I have reached out to MS, but that will take a while.","body":"@DerekGusoff Thank you, I do understand the docs are wrong - that is why I am reaching out to SO to find the correct answer.  :)  I have reached out to MS, but that will take a while."}],"answers":[{"tags":[],"owner":{"account_id":1438222,"reputation":843,"user_id":1452528,"display_name":"Derek Gusoff"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668733456,"creation_date":1668733456,"answer_id":74483883,"question_id":74480548,"body_markdown":"It doesn&#39;t make any sense to call `/me` with a client credential flow, because there is no `/me` there. It&#39;s just an automated credential. It doesn&#39;t have any user data to fetch.","title":"Azure Client credentials provider throws error &#39;/me request is only valid with delegated authentication flow&#39;","body":"<p>It doesn't make any sense to call <code>/me</code> with a client credential flow, because there is no <code>/me</code> there. It's just an automated credential. It doesn't have any user data to fetch.</p>\n"},{"tags":[],"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693936377,"creation_date":1668807344,"answer_id":74495565,"question_id":74480548,"body_markdown":"The documentation is wrong - Omit the last line of the example altogether.  \r\n\r\nCalls made to API using `credentials provider flow` take the form:\r\n\r\n `graphClient.users(&quot;user-id&quot;)` \r\n\r\ninstead of: \r\n\r\n  `graphClient.me()`\r\n\r\nTo send an email using `credentials provider flow`:\r\n\r\n    ...\r\n    \r\n    graphClient.users(&quot;username@domain.com&quot;)\r\n                    .sendMail(UserSendMailParameterSet\r\n                            .newBuilder()\r\n                            .withMessage(message)\r\n                            .withSaveToSentItems(saveToSentItems)\r\n                            .build())\r\n                    .buildRequest()\r\n                    .post();\r\n\r\n\r\n\r\n\r\n  ","title":"Azure Client credentials provider throws error &#39;/me request is only valid with delegated authentication flow&#39;","body":"<p>The documentation is wrong - Omit the last line of the example altogether.</p>\n<p>Calls made to API using <code>credentials provider flow</code> take the form:</p>\n<p><code>graphClient.users(&quot;user-id&quot;)</code></p>\n<p>instead of:</p>\n<p><code>graphClient.me()</code></p>\n<p>To send an email using <code>credentials provider flow</code>:</p>\n<pre><code>...\n\ngraphClient.users(&quot;username@domain.com&quot;)\n                .sendMail(UserSendMailParameterSet\n                        .newBuilder()\n                        .withMessage(message)\n                        .withSaveToSentItems(saveToSentItems)\n                        .build())\n                .buildRequest()\n                .post();\n</code></pre>\n"}],"owner":{"account_id":154850,"reputation":10221,"user_id":371077,"accept_rate":64,"display_name":"Roy Hinkley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74495565,"answer_count":2,"score":0,"last_activity_date":1693936377,"creation_date":1668710481,"question_id":74480548,"body_markdown":"I am following Microsoft documentation in obtaining credentials for Azure Graph API.  [This document][2] states that an unattended application should use `client credentials provider` when making web api calls.\r\n\r\nThe [example][1] in the documents for this is:\r\n\r\n    final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n            .clientId(clientId)\r\n            .clientSecret(clientSecret)\r\n            .tenantId(tenant)\r\n            .build();\r\n\r\n    List&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\r\n    \r\n    final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\r\n    \r\n    final GraphServiceClient graphClient =\r\n      GraphServiceClient\r\n        .builder()\r\n        .authenticationProvider(tokenCredentialAuthProvider)\r\n        .buildClient();\r\n    \r\n    final User me = graphClient.me().buildRequest().get();\r\n\r\n\r\nBut I encounter an exception on the last line:\r\n\r\n    Error message: /me request is only valid with delegated authentication flow.\r\n\r\nIn researching this error, I came across [this post][3] that explains the error further - which confuses me as to why the documentation would use what *appears to be* inappropriate example of how to consume this API. It appears to be `delegated permissions authorization code flow`.\r\n\r\n[This post][4] does not add any clarity.  \r\n  \r\n\r\n&gt; What is the correct way to make this call?  Or is this the result of incorrect configuration settings in\r\n&gt; [Azure management console][5] for the app to use Application permissions instead of Delegated permissions?\r\n\r\n\r\n\r\n- Azure identity = v1.3.1\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#client-credentials-provider\r\n  [2]: https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider\r\n  [3]: https://learn.microsoft.com/en-us/answers/questions/852080/how-to-fix-34me-request-is-only-valid-with-delegat.html\r\n  [4]: https://stackoverflow.com/questions/70515836/code-badrequest-message-me-request-is-only-valid-with-delegated-authenticatio\r\n  [5]: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow#application-permissions","title":"Azure Client credentials provider throws error &#39;/me request is only valid with delegated authentication flow&#39;","body":"<p>I am following Microsoft documentation in obtaining credentials for Azure Graph API.  <a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider\" rel=\"nofollow noreferrer\">This document</a> states that an unattended application should use <code>client credentials provider</code> when making web api calls.</p>\n<p>The <a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#client-credentials-provider\" rel=\"nofollow noreferrer\">example</a> in the documents for this is:</p>\n<pre><code>final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n        .clientId(clientId)\n        .clientSecret(clientSecret)\n        .tenantId(tenant)\n        .build();\n\nList&lt;String&gt; scopes = Arrays.asList(&quot;https://graph.microsoft.com/.default&quot;);\n\nfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\n\nfinal GraphServiceClient graphClient =\n  GraphServiceClient\n    .builder()\n    .authenticationProvider(tokenCredentialAuthProvider)\n    .buildClient();\n\nfinal User me = graphClient.me().buildRequest().get();\n</code></pre>\n<p>But I encounter an exception on the last line:</p>\n<pre><code>Error message: /me request is only valid with delegated authentication flow.\n</code></pre>\n<p>In researching this error, I came across <a href=\"https://learn.microsoft.com/en-us/answers/questions/852080/how-to-fix-34me-request-is-only-valid-with-delegat.html\" rel=\"nofollow noreferrer\">this post</a> that explains the error further - which confuses me as to why the documentation would use what <em>appears to be</em> inappropriate example of how to consume this API. It appears to be <code>delegated permissions authorization code flow</code>.</p>\n<p><a href=\"https://stackoverflow.com/questions/70515836/code-badrequest-message-me-request-is-only-valid-with-delegated-authenticatio\">This post</a> does not add any clarity.</p>\n<blockquote>\n<p>What is the correct way to make this call?  Or is this the result of incorrect configuration settings in\n<a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow#application-permissions\" rel=\"nofollow noreferrer\">Azure management console</a> for the app to use Application permissions instead of Delegated permissions?</p>\n</blockquote>\n<ul>\n<li>Azure identity = v1.3.1</li>\n</ul>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693852153,"post_id":77039228,"comment_id":135811753,"body_markdown":"Your expectations are wrong. The `@LastUpdatedBy` (and friends) are updated always by an entity listener regardless of what you set.","body":"Your expectations are wrong. The <code>@LastUpdatedBy</code> (and friends) are updated always by an entity listener regardless of what you set."},{"owner":{"account_id":7644383,"reputation":1,"user_id":5795538,"display_name":"Sofiane YOUSFI"},"score":0,"creation_date":1693896489,"post_id":77039228,"comment_id":135815947,"body_markdown":"So it&#39;s not possible to update lastUpdateBy with another value?","body":"So it&#39;s not possible to update lastUpdateBy with another value?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693897170,"post_id":77039228,"comment_id":135816080,"body_markdown":"Not manually. That is the whole point of those annotations/fields that they are updated automatically.","body":"Not manually. That is the whole point of those annotations/fields that they are updated automatically."}],"owner":{"account_id":7644383,"reputation":1,"user_id":5795538,"display_name":"Sofiane YOUSFI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693935320,"creation_date":1693843496,"question_id":77039228,"body_markdown":"I&#39;m using Spring Data JPA Auditing and it&#39;s working. The problem is when I set a custom value in the property, this value is not persisted and I still have the auditing value.\r\n\r\n**CustomAuditorAwareConfig**\r\n\r\n```\r\n@Configuration\r\npublic class CustomAuditorAwareConfig implements AuditorAware&lt;String&gt; {\r\n\r\n    @Override\r\n    public Optional&lt;String&gt; getCurrentAuditor() {\r\n        return Optional.of(&quot;ANONYMOUS&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Entity**\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Accessors(chain = true)\r\n@MappedSuperclass\r\npublic class BaseEntity {\r\n\r\n    @id\r\n    private String id;\r\n\r\n    @LastModifiedBy\r\n    private String lastUpdateBy;\r\n\r\n}\r\n```\r\n\r\n**Service**\r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class AvailableShipmentDatesDefaultService implements AvailableShipmentDatesService {\r\n\r\n    private final MyRepository repository;\r\n\r\n    @Transactional(rollbackFor = Exception.class)\r\n    @Override\r\n    public void patchEntity(String id) {\r\n\r\n        BaseEntity entity = \r\n\r\n        entity.setLastUpdateBy(&quot;Toto&quot;);\r\n\r\n        repository.save(entity);\r\n    }\r\n}\r\n```\r\n\r\nThe persisted value for lastUpdateBy is &quot;ANONYMOUS&quot;\r\n\r\nExpect to have &quot;Toto&quot; instead of &quot;ANONYMOUS&quot;","title":"Override spring data jpa auditing @LastModifiedBy","body":"<p>I'm using Spring Data JPA Auditing and it's working. The problem is when I set a custom value in the property, this value is not persisted and I still have the auditing value.</p>\n<p><strong>CustomAuditorAwareConfig</strong></p>\n<pre><code>@Configuration\npublic class CustomAuditorAwareConfig implements AuditorAware&lt;String&gt; {\n\n    @Override\n    public Optional&lt;String&gt; getCurrentAuditor() {\n        return Optional.of(&quot;ANONYMOUS&quot;);\n    }\n}\n</code></pre>\n<p><strong>Entity</strong></p>\n<pre><code>@Getter\n@Setter\n@Accessors(chain = true)\n@MappedSuperclass\npublic class BaseEntity {\n\n    @id\n    private String id;\n\n    @LastModifiedBy\n    private String lastUpdateBy;\n\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class AvailableShipmentDatesDefaultService implements AvailableShipmentDatesService {\n\n    private final MyRepository repository;\n\n    @Transactional(rollbackFor = Exception.class)\n    @Override\n    public void patchEntity(String id) {\n\n        BaseEntity entity = \n\n        entity.setLastUpdateBy(&quot;Toto&quot;);\n\n        repository.save(entity);\n    }\n}\n</code></pre>\n<p>The persisted value for lastUpdateBy is &quot;ANONYMOUS&quot;</p>\n<p>Expect to have &quot;Toto&quot; instead of &quot;ANONYMOUS&quot;</p>\n"},{"tags":["java","html","spring-boot","forms","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":29366109,"reputation":1,"user_id":22499762,"display_name":"NewBie"},"score":0,"creation_date":1693993214,"post_id":77044194,"comment_id":135831598,"body_markdown":"Thankyou very much for your time Elentari , can you tell what&#39;s the difference between the generationType.Auto and generationtype.IDENTIYY...and i fixed the problem with my code it turned out that the Problem was in my Entity class where i named my variable comment same as the Class name Comment","body":"Thankyou very much for your time Elentari , can you tell what&#39;s the difference between the generationType.Auto and generationtype.IDENTIYY...and i fixed the problem with my code it turned out that the Problem was in my Entity class where i named my variable comment same as the Class name Comment"},{"owner":{"account_id":26079635,"reputation":24,"user_id":19778028,"display_name":"Elentari"},"score":0,"creation_date":1694083425,"post_id":77044194,"comment_id":135845885,"body_markdown":"I glad to hear that you solved , here is the difference :\n\ngenerationType.Auto: Hibernate selects the generation strategy based on the used dialect, generationtype.IDENTIY: Hibernate relies on an auto-incremented database column to generate the primary key \n\nThere is a article about it  :  [link](https://thorben-janssen.com/jpa-generate-primary-keys/#:~:text=AUTO%3A%20Hibernate%20selects%20the%20generation,table%20to%20simulate%20a%20sequence.)","body":"I glad to hear that you solved , here is the difference :  generationType.Auto: Hibernate selects the generation strategy based on the used dialect, generationtype.IDENTIY: Hibernate relies on an auto-incremented database column to generate the primary key   There is a article about it  :  <a href=\"https://thorben-janssen.com/jpa-generate-primary-keys/#:~:text=AUTO%3A%20Hibernate%20selects%20the%20generation,table%20to%20simulate%20a%20sequence.\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":26079635,"reputation":24,"user_id":19778028,"display_name":"Elentari"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693914013,"creation_date":1693914013,"answer_id":77044194,"question_id":77040495,"body_markdown":"I suggest that in repository interface define like that \r\n\r\n`public interface CommentRepository extends JpaRepository&lt;Comment, Long&gt; {\r\n}`\r\n\r\nand in Entitiy class do that\r\n\r\n ` @Id\r\n @GeneratedValue(strategy=GenerationType.IDENTITY)\r\nLong commentid;`\r\n\r\nMaybe it is the problem because what i know that ID field should be same with your id class type.","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.learnSphere.entities.Comment&#39;","body":"<p>I suggest that in repository interface define like that</p>\n<p><code>public interface CommentRepository extends JpaRepository&lt;Comment, Long&gt; { }</code></p>\n<p>and in Entitiy class do that</p>\n<p><code> @Id @GeneratedValue(strategy=GenerationType.IDENTITY) Long commentid;</code></p>\n<p>Maybe it is the problem because what i know that ID field should be same with your id class type.</p>\n"}],"owner":{"account_id":29366109,"reputation":1,"user_id":22499762,"display_name":"NewBie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693935194,"creation_date":1693859890,"question_id":77040495,"body_markdown":"I am trying to learn Spring therefore making small projects,here i am trying to get a simple name and comment from the front end this is my html front-end\r\n\r\n```\r\n&lt;h1&gt;add your comment here&lt;/h1&gt;\r\n&lt;form method=&quot;post&quot; action=&quot;/addComment&quot;&gt;\r\n\t\r\n\t&lt;input type=&quot;text&quot;  name=&quot;name&quot; placeholder=&quot;Enter your name&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;comment&quot;  placeholder=&quot;Enter comment here&quot;&gt;\r\n\t\r\n    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n&lt;/form&gt;\r\n```\r\nand i am trying to store it in my MySQL data base using SpringBoot\r\nthis is my Entity class for taking the comment\r\n\r\n```\r\n@Entity\r\npublic class Comment {\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tint commentid;\r\n\t\r\n\tString name;\r\n\tString comment;\r\n\t\r\n\r\n\tpublic Comment() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic Comment(int commentid, String name, String comment) {\r\n\t\tsuper();\r\n\t\tthis.commentid = commentid;\r\n\t\tthis.name = name;\r\n\t\tthis.comment = comment;\r\n\t}\r\n\r\n\tpublic int getCommentid() {\r\n\t\treturn commentid;\r\n\t}\r\n\r\n\tpublic void setCommentid(int commentid) {\r\n\t\tthis.commentid = commentid;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getComment() {\r\n\t\treturn comment;\r\n\t}\r\n\r\n\tpublic void setComment(String comment) {\r\n\t\tthis.comment = comment;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Comment [commentid=&quot; + commentid + &quot;, name=&quot; + name + &quot;, comment=&quot; + comment + &quot;]&quot;;\r\n\t}\r\n}\r\n```\r\nand this is my controller class\r\n\r\n```\r\n@Controller\r\npublic class CommentController {\r\n\t\r\n\t@Autowired\r\n\tUsersService uservice;\r\n\t\r\n\t@PostMapping(&quot;/addComment&quot;)\r\n\tpublic String addComment(@ModelAttribute Comment comment) {\r\n\t\r\n\t\tSystem.out.println(&quot;Received name: &quot; + comment.getName());\r\n\t    System.out.println(&quot;Received comment: &quot; + comment.getComment());\r\n\t\tuservice.addComment(comment);\r\n\t\treturn &quot;Comments&quot;;\r\n\t}\r\n}\r\n```\r\nwhen i am trying to typein some int type data like &quot;1 &quot; &quot;2&quot; in my html input fields it gets added into my data base fine but when ever i am trying to add some String type data it gives me a error like\r\n\r\n&quot;\r\nFailed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.learnSphere.entities.Comment&#39;\r\n&quot;\r\n\r\nthis is my repository\r\n```\r\npackage com.learnSphere.repositories;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.learnSphere.entities.Comment;\r\n\r\npublic interface CommentRepository extends JpaRepository&lt;Comment, String&gt; {\r\n\r\n}\r\n```\r\nand this is my Service code \r\n\r\n```\r\n@Override\r\n\tpublic String addComment(Comment comment) {\r\n\t\tcrepo.save(comment);\r\n\t\treturn &quot;Saved successfully!!&quot;;\r\n```\r\n\r\ni tried checking the entities again and again and the html input fields , maybe i am sending the data wrong or maybe the order of my entity class is wrong but nothings wroking\r\n\r\ni have tried everything in my knowledge to solve this but i cant find anything . you guys are pros here please solve this one for me","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.learnSphere.entities.Comment&#39;","body":"<p>I am trying to learn Spring therefore making small projects,here i am trying to get a simple name and comment from the front end this is my html front-end</p>\n<pre><code>&lt;h1&gt;add your comment here&lt;/h1&gt;\n&lt;form method=&quot;post&quot; action=&quot;/addComment&quot;&gt;\n    \n    &lt;input type=&quot;text&quot;  name=&quot;name&quot; placeholder=&quot;Enter your name&quot;&gt;\n    &lt;input type=&quot;text&quot; name=&quot;comment&quot;  placeholder=&quot;Enter comment here&quot;&gt;\n    \n    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>and i am trying to store it in my MySQL data base using SpringBoot\nthis is my Entity class for taking the comment</p>\n<pre><code>@Entity\npublic class Comment {\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    int commentid;\n    \n    String name;\n    String comment;\n    \n\n    public Comment() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public Comment(int commentid, String name, String comment) {\n        super();\n        this.commentid = commentid;\n        this.name = name;\n        this.comment = comment;\n    }\n\n    public int getCommentid() {\n        return commentid;\n    }\n\n    public void setCommentid(int commentid) {\n        this.commentid = commentid;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getComment() {\n        return comment;\n    }\n\n    public void setComment(String comment) {\n        this.comment = comment;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Comment [commentid=&quot; + commentid + &quot;, name=&quot; + name + &quot;, comment=&quot; + comment + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>and this is my controller class</p>\n<pre><code>@Controller\npublic class CommentController {\n    \n    @Autowired\n    UsersService uservice;\n    \n    @PostMapping(&quot;/addComment&quot;)\n    public String addComment(@ModelAttribute Comment comment) {\n    \n        System.out.println(&quot;Received name: &quot; + comment.getName());\n        System.out.println(&quot;Received comment: &quot; + comment.getComment());\n        uservice.addComment(comment);\n        return &quot;Comments&quot;;\n    }\n}\n</code></pre>\n<p>when i am trying to typein some int type data like &quot;1 &quot; &quot;2&quot; in my html input fields it gets added into my data base fine but when ever i am trying to add some String type data it gives me a error like</p>\n<p>&quot;\nFailed to convert value of type 'java.lang.String' to required type 'com.learnSphere.entities.Comment'\n&quot;</p>\n<p>this is my repository</p>\n<pre><code>package com.learnSphere.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.learnSphere.entities.Comment;\n\npublic interface CommentRepository extends JpaRepository&lt;Comment, String&gt; {\n\n}\n</code></pre>\n<p>and this is my Service code</p>\n<pre><code>@Override\n    public String addComment(Comment comment) {\n        crepo.save(comment);\n        return &quot;Saved successfully!!&quot;;\n</code></pre>\n<p>i tried checking the entities again and again and the html input fields , maybe i am sending the data wrong or maybe the order of my entity class is wrong but nothings wroking</p>\n<p>i have tried everything in my knowledge to solve this but i cant find anything . you guys are pros here please solve this one for me</p>\n"},{"tags":["java","spring-boot","docker","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":1221737,"reputation":188,"user_id":1188259,"display_name":"EMS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693934884,"creation_date":1693934884,"answer_id":77046594,"question_id":76772084,"body_markdown":"I can&#39;t explain what&#39;s going wrong, but I was having the same problem and it went away after I updated to version 1.16.0 of the AWS IoT Device SDK.\r\n\r\nI&#39;m not 100% sure it&#39;s solved. But before the update I could reliably get this issue to happen by leaving my container running overnight, and now it&#39;s been running for 6 days straight without any trouble. ","title":"AWS IoT Java SDK v2 in Docker 20 min disconnect - error core 1051","body":"<p>I can't explain what's going wrong, but I was having the same problem and it went away after I updated to version 1.16.0 of the AWS IoT Device SDK.</p>\n<p>I'm not 100% sure it's solved. But before the update I could reliably get this issue to happen by leaving my container running overnight, and now it's been running for 6 days straight without any trouble.</p>\n"}],"owner":{"account_id":7389383,"reputation":96,"user_id":5623304,"display_name":"Yaroslav Lukianenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693934884,"creation_date":1690379901,"question_id":76772084,"body_markdown":"I am trying to run Java SDK version 2 code inside Docker. After about 20 minutes there is a disconnect with error code:\r\n\r\n&gt; 1051 &lt;[AWS_IO_SOCKET_CLOSED] socket is closed&gt;;\r\n\r\nbut no such error occurs when I run it pc locally or on an ec2 instance.\r\n\r\nMy sources and Dockerfile:\r\n\r\n    private final MqttClientConnectionEvents callbacks = new MqttClientConnectionEvents() {\r\n        public void onConnectionInterrupted(int code) {\r\n            log.warn(&quot;Interruptor &lt;{}&gt; : [{}] {}&quot;, code, CRT.awsErrorName(code), CRT.awsErrorString(code));\r\n        }\r\n\r\n        public void onConnectionResumed(boolean flag) {\r\n            log.warn(&quot;Resuming: {} [true if the session has been resumed.]&quot;, flag);\r\n            CompletableFuture.runAsync(() -&gt; subscribe());\r\n        }\r\n    };\r\n\r\n    @Value(&quot;${service.description}&quot;)\r\n    private String description;\r\n    @Value(value = &quot;${aws.iot.endpoint}&quot;)\r\n    private String endpoint;\r\n    @Value(value = &quot;${aws.iot.clientId}&quot;)\r\n    private String clientId;\r\n\r\n    @Value(value = &quot;${aws.iot.access}&quot;)\r\n    private String access;\r\n    @Value(value = &quot;${aws.iot.secret}&quot;)\r\n    private String secret;\r\n    \r\n    private CompletableFuture&lt;JSONObject&gt; async(MqttAbstract req) {\r\n        final MqttMessage message = new MqttMessage(req.getTopic(), req.bytes(), QualityOfService.AT_LEAST_ONCE);\r\n\r\n        executor.execute(() -&gt; {\r\n            log.info(&quot;Pub-ing to [{}]: {}&quot;, req.getTopic(), new String(message.getPayload()));\r\n            this.publish(message);\r\n        });\r\n\r\n        return registry.waitForMqtt(req.getBody().getPayload().getRequestId());\r\n    }\r\n\r\n    private void subscribe(InternalResponses topic) {\r\n        try {\r\n            this.connection.subscribe(topic.getTopic(), QualityOfService.AT_LEAST_ONCE, topic.getHandler()).get();\r\n        } catch (Exception exc) {\r\n            log.error(&quot;subscribe [{}]: {}&quot;, exc.getClass().getSimpleName(), exc.getMessage());\r\n        }\r\n    }\r\n\r\n    private void subscribe() {\r\n        log.info(&quot;Starting subscribing...&quot;);\r\n        try {\r\n            this.subscribe(new InternalResponses(gateways, this.registry));\r\n        } catch (Exception error) {\r\n            log.error(&quot;onApplicationEvent [{}]: {}&quot;, error.getClass().getSimpleName(), error.getMessage());\r\n        }\r\n    }\r\n\r\n    public void publish(MqttMessage message) {\r\n        try {\r\n            log.info(&quot;Publish to {}&quot;, message.getTopic());\r\n            executor.execute(() -&gt; connection.publish(message));\r\n        } catch (Throwable e) {\r\n            log.error(&quot;publish: {} - {}&quot;, e.getClass().getSimpleName(), e.getMessage());\r\n        }\r\n    }\r\n\r\n    @PostConstruct\r\n    public void construct() {\r\n        final CredentialsProvider provider = new StaticCredentialsProvider.StaticCredentialsProviderBuilder()\r\n                .withAccessKeyId(access.getBytes(StandardCharsets.UTF_8))\r\n                .withSecretAccessKey(secret.getBytes(StandardCharsets.UTF_8))\r\n                .build();\r\n\r\n        try (AwsIotMqttConnectionBuilder builder = AwsIotMqttConnectionBuilder\r\n                .newDefaultBuilder()\r\n                .withEndpoint(endpoint)\r\n                .withClientId(clientId)\r\n                .withConnectionEventCallbacks(callbacks)\r\n                .withProtocolOperationTimeoutMs(MINUTE)\r\n                .withCleanSession(true)\r\n                .withWebsockets(true)\r\n                .withWebsocketSigningRegion(&quot;eu-north-1&quot;)\r\n                .withWebsocketCredentialsProvider(provider)) {\r\n            this.connection = builder.build();\r\n            this.connection.connect()\r\n                           .whenCompleteAsync((connectResult, error) -&gt; this.subscribe());\r\n            log.info(&quot;{} to [{}] as {}&quot;, description, endpoint, clientId);\r\n        } catch (Exception e) {\r\n            log.error(&quot;postConstruct: {} - {}&quot;, e.getClass().getSimpleName(), e.getMessage());\r\n        }\r\n    }\r\n\r\n    @PreDestroy\r\n    public void destroy() {\r\n        log.info(&quot;Shutting down [{}]&quot;, description);\r\n    }\r\n\r\nIs there something wrong with the connection/timeouts config or with the Dockerfile?\r\n\r\n    FROM openjdk:11-jdk    \r\n    COPY build/libs/* /\r\n    COPY app.sh /app.sh\r\n    RUN [&quot;chmod&quot;, &quot;+x&quot;, &quot;/app.sh&quot;]\r\n    ENTRYPOINT [&quot;/app.sh&quot;]\r\n","title":"AWS IoT Java SDK v2 in Docker 20 min disconnect - error core 1051","body":"<p>I am trying to run Java SDK version 2 code inside Docker. After about 20 minutes there is a disconnect with error code:</p>\n<blockquote>\n<p>1051 &lt;[AWS_IO_SOCKET_CLOSED] socket is closed&gt;;</p>\n</blockquote>\n<p>but no such error occurs when I run it pc locally or on an ec2 instance.</p>\n<p>My sources and Dockerfile:</p>\n<pre><code>private final MqttClientConnectionEvents callbacks = new MqttClientConnectionEvents() {\n    public void onConnectionInterrupted(int code) {\n        log.warn(&quot;Interruptor &lt;{}&gt; : [{}] {}&quot;, code, CRT.awsErrorName(code), CRT.awsErrorString(code));\n    }\n\n    public void onConnectionResumed(boolean flag) {\n        log.warn(&quot;Resuming: {} [true if the session has been resumed.]&quot;, flag);\n        CompletableFuture.runAsync(() -&gt; subscribe());\n    }\n};\n\n@Value(&quot;${service.description}&quot;)\nprivate String description;\n@Value(value = &quot;${aws.iot.endpoint}&quot;)\nprivate String endpoint;\n@Value(value = &quot;${aws.iot.clientId}&quot;)\nprivate String clientId;\n\n@Value(value = &quot;${aws.iot.access}&quot;)\nprivate String access;\n@Value(value = &quot;${aws.iot.secret}&quot;)\nprivate String secret;\n\nprivate CompletableFuture&lt;JSONObject&gt; async(MqttAbstract req) {\n    final MqttMessage message = new MqttMessage(req.getTopic(), req.bytes(), QualityOfService.AT_LEAST_ONCE);\n\n    executor.execute(() -&gt; {\n        log.info(&quot;Pub-ing to [{}]: {}&quot;, req.getTopic(), new String(message.getPayload()));\n        this.publish(message);\n    });\n\n    return registry.waitForMqtt(req.getBody().getPayload().getRequestId());\n}\n\nprivate void subscribe(InternalResponses topic) {\n    try {\n        this.connection.subscribe(topic.getTopic(), QualityOfService.AT_LEAST_ONCE, topic.getHandler()).get();\n    } catch (Exception exc) {\n        log.error(&quot;subscribe [{}]: {}&quot;, exc.getClass().getSimpleName(), exc.getMessage());\n    }\n}\n\nprivate void subscribe() {\n    log.info(&quot;Starting subscribing...&quot;);\n    try {\n        this.subscribe(new InternalResponses(gateways, this.registry));\n    } catch (Exception error) {\n        log.error(&quot;onApplicationEvent [{}]: {}&quot;, error.getClass().getSimpleName(), error.getMessage());\n    }\n}\n\npublic void publish(MqttMessage message) {\n    try {\n        log.info(&quot;Publish to {}&quot;, message.getTopic());\n        executor.execute(() -&gt; connection.publish(message));\n    } catch (Throwable e) {\n        log.error(&quot;publish: {} - {}&quot;, e.getClass().getSimpleName(), e.getMessage());\n    }\n}\n\n@PostConstruct\npublic void construct() {\n    final CredentialsProvider provider = new StaticCredentialsProvider.StaticCredentialsProviderBuilder()\n            .withAccessKeyId(access.getBytes(StandardCharsets.UTF_8))\n            .withSecretAccessKey(secret.getBytes(StandardCharsets.UTF_8))\n            .build();\n\n    try (AwsIotMqttConnectionBuilder builder = AwsIotMqttConnectionBuilder\n            .newDefaultBuilder()\n            .withEndpoint(endpoint)\n            .withClientId(clientId)\n            .withConnectionEventCallbacks(callbacks)\n            .withProtocolOperationTimeoutMs(MINUTE)\n            .withCleanSession(true)\n            .withWebsockets(true)\n            .withWebsocketSigningRegion(&quot;eu-north-1&quot;)\n            .withWebsocketCredentialsProvider(provider)) {\n        this.connection = builder.build();\n        this.connection.connect()\n                       .whenCompleteAsync((connectResult, error) -&gt; this.subscribe());\n        log.info(&quot;{} to [{}] as {}&quot;, description, endpoint, clientId);\n    } catch (Exception e) {\n        log.error(&quot;postConstruct: {} - {}&quot;, e.getClass().getSimpleName(), e.getMessage());\n    }\n}\n\n@PreDestroy\npublic void destroy() {\n    log.info(&quot;Shutting down [{}]&quot;, description);\n}\n</code></pre>\n<p>Is there something wrong with the connection/timeouts config or with the Dockerfile?</p>\n<pre><code>FROM openjdk:11-jdk    \nCOPY build/libs/* /\nCOPY app.sh /app.sh\nRUN [&quot;chmod&quot;, &quot;+x&quot;, &quot;/app.sh&quot;]\nENTRYPOINT [&quot;/app.sh&quot;]\n</code></pre>\n"},{"tags":["java","string","chars"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1444040781,"post_id":32946229,"comment_id":53717567,"body_markdown":"One thing you should start to learn is to read JavaDoc if you don&#39;t know how a certain API/method works. So I suggest you to read these two docs: [PrintStream#println](http://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println-java.lang.String-) and [Scanner#next](http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--) (bonus: [Scanner#nextLine](http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--)).","body":"One thing you should start to learn is to read JavaDoc if you don&#39;t know how a certain API/method works. So I suggest you to read these two docs: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println-java.lang.String-\" rel=\"nofollow noreferrer\">PrintStream#println</a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\" rel=\"nofollow noreferrer\">Scanner#next</a> (bonus: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--\" rel=\"nofollow noreferrer\">Scanner#nextLine</a>)."},{"owner":{"account_id":7030496,"reputation":298,"user_id":5386393,"display_name":"Afsin Buyuksarac"},"score":0,"creation_date":1444040839,"post_id":32946229,"comment_id":53717594,"body_markdown":"Use System.out.print rather than println. &quot;ln&quot; means &quot;new Line&quot;.  Because when you use scanner you should tell userInput variable to read nextLine() not next() parameter. By default as an argument when you call next() it splits your input via &quot;space&quot; character.","body":"Use System.out.print rather than println. &quot;ln&quot; means &quot;new Line&quot;.  Because when you use scanner you should tell userInput variable to read nextLine() not next() parameter. By default as an argument when you call next() it splits your input via &quot;space&quot; character."}],"answers":[{"comments":[{"owner":{"account_id":7030496,"reputation":298,"user_id":5386393,"display_name":"Afsin Buyuksarac"},"score":0,"creation_date":1444040914,"post_id":32946344,"comment_id":53717625,"body_markdown":"Exactly also can you please edit your answer with System.out.println with print. Because he wants printed our near the previous.","body":"Exactly also can you please edit your answer with System.out.println with print. Because he wants printed our near the previous."}],"tags":[],"owner":{"account_id":6152327,"reputation":1439,"user_id":4796407,"accept_rate":43,"display_name":"Ankush soni"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444041315,"creation_date":1444040836,"answer_id":32946344,"question_id":32946229,"body_markdown":"Ty this:\r\n\r\n    Scanner userInput = new Scanner( System.in );\r\n            System.out.println(&quot;Type a string: &quot;);\r\n            char[] userInputString = userInput.nextLine().toCharArray();\r\n    \r\n           for(int i = 0; i &lt; userInputString.length; i++){\r\n\t    \t   if(!String.valueOf(userInputString[i]).equals(&quot; &quot;))\r\n\t    \t\t   System.out.print(userInputString[i]+&quot;,&quot;);\r\n\t       }\r\n\r\nYou can also add the condition where you dont want to print space using if condition.","title":"How to accept user string input then convert to char and print this out?","body":"<p>Ty this:</p>\n\n<pre><code>Scanner userInput = new Scanner( System.in );\n        System.out.println(\"Type a string: \");\n        char[] userInputString = userInput.nextLine().toCharArray();\n\n       for(int i = 0; i &lt; userInputString.length; i++){\n           if(!String.valueOf(userInputString[i]).equals(\" \"))\n               System.out.print(userInputString[i]+\",\");\n       }\n</code></pre>\n\n<p>You can also add the condition where you dont want to print space using if condition.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444041026,"creation_date":1444041026,"answer_id":32946381,"question_id":32946229,"body_markdown":"You can use the Streams API to join the characters in the String with a `,` between them.\r\n\r\n    Scanner userInput = new Scanner( System.in );\r\n    // read a whole line instead of a word.\r\n    // split into all characters and turn into a Stream\r\n    // join all the chaarcters with a `,` between them.\r\n    System.out.println(Stream.of(userInput.nextLine().split(&quot;&quot;, -1))\r\n                             .collect(Collectors.joining(&quot;,&quot;)));\r\n","title":"How to accept user string input then convert to char and print this out?","body":"<p>You can use the Streams API to join the characters in the String with a <code>,</code> between them.</p>\n\n<pre><code>Scanner userInput = new Scanner( System.in );\n// read a whole line instead of a word.\n// split into all characters and turn into a Stream\n// join all the chaarcters with a `,` between them.\nSystem.out.println(Stream.of(userInput.nextLine().split(\"\", -1))\n                         .collect(Collectors.joining(\",\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5637183,"reputation":228,"user_id":4462311,"accept_rate":33,"display_name":"Marcel"},"score":1,"creation_date":1444041784,"post_id":32946512,"comment_id":53718137,"body_markdown":"Options are : `Arrays.deepToString(ui_arr.toArray())` then removing the `[` and `]` .","body":"Options are : <code>Arrays.deepToString(ui_arr.toArray())</code> then removing the <code>[</code> and <code>]</code> ."},{"owner":{"account_id":7066286,"reputation":39,"user_id":5409521,"display_name":"Jari"},"score":1,"creation_date":1444041888,"post_id":32946512,"comment_id":53718214,"body_markdown":"I agree, but judging from his post we should keep this as simple as possible, using methods known to beginners.","body":"I agree, but judging from his post we should keep this as simple as possible, using methods known to beginners."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1444042139,"post_id":32946512,"comment_id":53718364,"body_markdown":"@Marcel *&quot;Options are : `Arrays.deepToString(ui_arr.toArray())` then removing the `[` and `]`&quot;* ... you should rethink that comment. First where does the method `toArray()` come from? And why do you want to use `deepToString`? Where do you see the 2d array?","body":"@Marcel <i>&quot;Options are : <code>Arrays.deepToString(ui_arr.toArray())</code> then removing the <code>[</code> and <code>]</code>&quot;</i> ... you should rethink that comment. First where does the method <code>toArray()</code> come from? And why do you want to use <code>deepToString</code>? Where do you see the 2d array?"},{"owner":{"account_id":5637183,"reputation":228,"user_id":4462311,"accept_rate":33,"display_name":"Marcel"},"score":0,"creation_date":1444049653,"post_id":32946512,"comment_id":53722875,"body_markdown":"You are right, i am used to working with lists and maps, not arrays. the `toArray()` is unnecessary, and `toString()` would fit your needs as well, however i&#39;d preffer the `deepToString()` cause you can always use that one.","body":"You are right, i am used to working with lists and maps, not arrays. the <code>toArray()</code> is unnecessary, and <code>toString()</code> would fit your needs as well, however i&#39;d preffer the <code>deepToString()</code> cause you can always use that one."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1444050247,"post_id":32946512,"comment_id":53723306,"body_markdown":"But that implies something about the passed argument, that it can&#39;t fulfill. But yes, it would work.","body":"But that implies something about the passed argument, that it can&#39;t fulfill. But yes, it would work."}],"tags":[],"owner":{"account_id":7066286,"reputation":39,"user_id":5409521,"display_name":"Jari"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444042362,"creation_date":1444041404,"answer_id":32946512,"question_id":32946229,"body_markdown":"So there are a couple of mistakes I see in your code. \r\n\r\n    HashMap hm = new HashMap(); \r\n\r\nThis line is useless. You don&#39;t use hm anywhere.\r\n\r\n    Scanner userInput = new Scanner( System.in ); \r\n    System.out.println(&quot;Type a string: &quot;); \r\nOkay\r\n\r\n    userInputString = userInput.next(); \r\n\r\nthe `next()` method only reads up to the next space. You want to be using `nextLine()`, which reads the entire line.\r\n\r\n    char ui = userInputString.charAt(0); \r\nI don&#39;t see where you use this either...?\r\n\r\n    char[] ui_arr = userInputString.toCharArray(); \r\nOkay\r\n\r\n    for(int i=0;i&lt;ui_arr.length;i++){\r\n        System.out.println(String.valueOf(ui_arr[i]));\r\n    }\r\nWrong method again, `println()` prints the character and then a newline, i.e. it presses *Enter* afterwards. You want to be using `print()`. In addition to this, you don&#39;t need to convert a char to a String, you can immediately print a char (i.e. `System.out.print(ui_arr[i]);`).\r\n\r\nIf you want to separate the chars by comma, you will need to use `print(ui_arr[i] + &quot;, &quot;)`. This will print the character, and then `, `. To make it even better you need to check in your code if it is the last character and then omit printing `, `.\r\n\r\nSo in general I&#39;d suggest this:\r\n\r\n    Scanner userInput = new Scanner(System.in);\r\n    System.out.println(&quot;Type a string: &quot;);\r\n    String userInputString = userInput.nextLine();\r\n\r\n    char[] ui_arr = userInputString.toCharArray();\r\n\r\n    for(int i=0; i&lt;ui_arr.length; i++){\r\n        System.out.print(ui_arr[i]);\r\n        if(i &lt; ui_arr.length - 1){\r\n            System.out.print(&quot;, &quot;);\r\n        }\r\n    }","title":"How to accept user string input then convert to char and print this out?","body":"<p>So there are a couple of mistakes I see in your code. </p>\n\n<pre><code>HashMap hm = new HashMap(); \n</code></pre>\n\n<p>This line is useless. You don't use hm anywhere.</p>\n\n<pre><code>Scanner userInput = new Scanner( System.in ); \nSystem.out.println(\"Type a string: \"); \n</code></pre>\n\n<p>Okay</p>\n\n<pre><code>userInputString = userInput.next(); \n</code></pre>\n\n<p>the <code>next()</code> method only reads up to the next space. You want to be using <code>nextLine()</code>, which reads the entire line.</p>\n\n<pre><code>char ui = userInputString.charAt(0); \n</code></pre>\n\n<p>I don't see where you use this either...?</p>\n\n<pre><code>char[] ui_arr = userInputString.toCharArray(); \n</code></pre>\n\n<p>Okay</p>\n\n<pre><code>for(int i=0;i&lt;ui_arr.length;i++){\n    System.out.println(String.valueOf(ui_arr[i]));\n}\n</code></pre>\n\n<p>Wrong method again, <code>println()</code> prints the character and then a newline, i.e. it presses <em>Enter</em> afterwards. You want to be using <code>print()</code>. In addition to this, you don't need to convert a char to a String, you can immediately print a char (i.e. <code>System.out.print(ui_arr[i]);</code>).</p>\n\n<p>If you want to separate the chars by comma, you will need to use <code>print(ui_arr[i] + \", \")</code>. This will print the character, and then <code>,</code>. To make it even better you need to check in your code if it is the last character and then omit printing <code>,</code>.</p>\n\n<p>So in general I'd suggest this:</p>\n\n<pre><code>Scanner userInput = new Scanner(System.in);\nSystem.out.println(\"Type a string: \");\nString userInputString = userInput.nextLine();\n\nchar[] ui_arr = userInputString.toCharArray();\n\nfor(int i=0; i&lt;ui_arr.length; i++){\n    System.out.print(ui_arr[i]);\n    if(i &lt; ui_arr.length - 1){\n        System.out.print(\", \");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6004150,"reputation":495,"user_id":4716573,"display_name":"jMounir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444042184,"creation_date":1444041808,"answer_id":32946659,"question_id":32946229,"body_markdown":"Use userInput.nextLine() instead of userInput.next() then you can format your string as you want and then print it.\r\nJust pay attention to javadoc to know how exactly the functions act.\r\n\r\nhere is an example:\r\n\r\n    \tScanner userInput = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Type a string: &quot;);\r\n\t\tString userInputString = userInput.nextLine();\r\n\r\n\t\tchar[] ui_arr = userInputString.toCharArray();\r\n\r\n\t\tStringBuffer sb = new StringBuffer(&quot;{&quot;);\r\n\t\tfor (char c: ui_arr) {\r\n\t\t\tsb.append(c);\r\n\t\t\tsb.append(&quot;,&quot;);\r\n\t\t}\r\n\t\t// delete the last comma\r\n\t\tsb.deleteCharAt(sb.length() -1);\r\n\t\tsb.append(&quot;}&quot;);\r\n\t\tSystem.out.println(sb.toString());\r\nYou can do whatever you want inside the for loop for example ignoring space char or other thing\r\n\r\nHope that helps","title":"How to accept user string input then convert to char and print this out?","body":"<p>Use userInput.nextLine() instead of userInput.next() then you can format your string as you want and then print it.\nJust pay attention to javadoc to know how exactly the functions act.</p>\n\n<p>here is an example:</p>\n\n<pre><code>    Scanner userInput = new Scanner(System.in);\n    System.out.println(\"Type a string: \");\n    String userInputString = userInput.nextLine();\n\n    char[] ui_arr = userInputString.toCharArray();\n\n    StringBuffer sb = new StringBuffer(\"{\");\n    for (char c: ui_arr) {\n        sb.append(c);\n        sb.append(\",\");\n    }\n    // delete the last comma\n    sb.deleteCharAt(sb.length() -1);\n    sb.append(\"}\");\n    System.out.println(sb.toString());\n</code></pre>\n\n<p>You can do whatever you want inside the for loop for example ignoring space char or other thing</p>\n\n<p>Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":3856374,"reputation":305,"user_id":3195195,"accept_rate":50,"display_name":"jeffry copps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693934827,"creation_date":1444042610,"answer_id":32946906,"question_id":32946229,"body_markdown":"The given task can be easily done by just having the string, there is no need to convert it into a char array and then print them individually. \r\n\r\njust iterate the string from beginning to end(its length), \r\nif the character is a space, just ignore, \r\nelse print it. \r\nSystem.out.println() prints the content followed by a newline,\r\nSystem.out.print() prints the content only. \r\nModified code:\r\n\r\n    Scanner userInput = new Scanner( System.in );\r\n        System.out.println(&quot;Type a string: &quot;);\r\n        String userInputString = userInput.nextLine();\r\n\r\n        for(int i=0;i&lt;userInputString.length();i++){\r\n        \tif(userInputString.charAt(i)!=&#39; &#39;)\r\n            System.out.print(userInputString.charAt(i)+&quot; &quot;);\r\n        }\r\n\r\nIf you really want to convert the string into a char array and the output should exactly match \r\nlike {&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39;m&#39;, &#39;y&#39;}.\r\n1. Remove all the spaces in the string.\r\n2. Convert it into an array.\r\n3. print the array.\r\n ","title":"How to accept user string input then convert to char and print this out?","body":"<p>The given task can be easily done by just having the string, there is no need to convert it into a char array and then print them individually.</p>\n<p>just iterate the string from beginning to end(its length),\nif the character is a space, just ignore,\nelse print it.\nSystem.out.println() prints the content followed by a newline,\nSystem.out.print() prints the content only.\nModified code:</p>\n<pre><code>Scanner userInput = new Scanner( System.in );\n    System.out.println(&quot;Type a string: &quot;);\n    String userInputString = userInput.nextLine();\n\n    for(int i=0;i&lt;userInputString.length();i++){\n        if(userInputString.charAt(i)!=' ')\n        System.out.print(userInputString.charAt(i)+&quot; &quot;);\n    }\n</code></pre>\n<p>If you really want to convert the string into a char array and the output should exactly match\nlike {'H', 'e', 'l', 'l', 'o', 'm', 'y'}.</p>\n<ol>\n<li>Remove all the spaces in the string.</li>\n<li>Convert it into an array.</li>\n<li>print the array.</li>\n</ol>\n"}],"owner":{"account_id":6951718,"reputation":101,"user_id":5334157,"accept_rate":60,"display_name":"Obese Octopus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2398,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":5,"score":-2,"last_activity_date":1693934827,"creation_date":1444040472,"question_id":32946229,"body_markdown":"I am trying to find a way where i can get the user to enter a string e.g. &quot;Hello my name is mr. blobby&quot; then break this down into individual chars and print them out so it prints them out like so:   \r\n`{&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39;m&#39;, &#39;y&#39;}`\r\n\r\nso far i have this:\r\n\r\nString userInputString;\r\n\t\t\r\n\r\n   \r\n    \t\t\r\n    \t\t\r\n    \t\tHashMap hm = new HashMap();\r\n    \t\tScanner userInput = new Scanner( System.in );\r\n    \t\tSystem.out.println(&quot;Type a string: &quot;);\r\n    \t\tuserInputString = userInput.next();\r\n    \t\t\r\n    \t\tchar ui = userInputString.charAt(0);\r\n    \t\tchar[] ui_arr = userInputString.toCharArray();\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;ui_arr.length;i++){\r\n    \t\t\tSystem.out.print(String.valueOf(ui_arr[i]));\r\n\r\nthis takes the input from the user and prints them out. however, i want them to be printed comma seperated rather than they are typed in.\r\nthanks","title":"How to accept user string input then convert to char and print this out?","body":"<p>I am trying to find a way where i can get the user to enter a string e.g. \"Hello my name is mr. blobby\" then break this down into individual chars and print them out so it prints them out like so:<br>\n<code>{'H', 'e', 'l', 'l', 'o', 'm', 'y'}</code></p>\n\n<p>so far i have this:</p>\n\n<p>String userInputString;</p>\n\n<pre><code>        HashMap hm = new HashMap();\n        Scanner userInput = new Scanner( System.in );\n        System.out.println(\"Type a string: \");\n        userInputString = userInput.next();\n\n        char ui = userInputString.charAt(0);\n        char[] ui_arr = userInputString.toCharArray();\n\n        for(int i=0;i&lt;ui_arr.length;i++){\n            System.out.print(String.valueOf(ui_arr[i]));\n</code></pre>\n\n<p>this takes the input from the user and prints them out. however, i want them to be printed comma seperated rather than they are typed in.\nthanks</p>\n"},{"tags":["java","date","iso8601"],"comments":[{"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"score":281,"creation_date":1265306082,"post_id":2201925,"comment_id":2152073,"body_markdown":"Be ready to receive a lot of &quot;Use JodaTime&quot; answers...","body":"Be ready to receive a lot of &quot;Use JodaTime&quot; answers..."},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":3,"creation_date":1265323657,"post_id":2201925,"comment_id":2154525,"body_markdown":"@Ice09: If the API documentation for DateTimeFormat is correct (the JoDa documentation can be misleading, wrong or incomplete though), the pattern you&#39;ve used in your own &quot;answer&quot; is not compatible with ISO8601.","body":"@Ice09: If the API documentation for DateTimeFormat is correct (the JoDa documentation can be misleading, wrong or incomplete though), the pattern you&#39;ve used in your own &quot;answer&quot; is not compatible with ISO8601."},{"owner":{"account_id":52611,"reputation":9001,"user_id":157229,"accept_rate":62,"display_name":"Ice09"},"score":0,"creation_date":1265364824,"post_id":2201925,"comment_id":2157376,"body_markdown":"@jarnbjo: thanks for the comment - you might be right, I looked it up again and came up with the much better solution ISODateTimeFormat.dateTimeNoMillis(), which kind of guarantees that the correct format is used.","body":"@jarnbjo: thanks for the comment - you might be right, I looked it up again and came up with the much better solution ISODateTimeFormat.dateTimeNoMillis(), which kind of guarantees that the correct format is used."},{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":0,"creation_date":1288799250,"post_id":2201925,"comment_id":4397805,"body_markdown":"See: http://stackoverflow.com/questions/1554852/parsing-a-date-string-using-java-text-simpledateformat and http://stackoverflow.com/questions/2580925/simpledateformat-parsing and http://stackoverflow.com/questions/4013681/parse-this-type-of-date-format-in-java-date-with-z-literal and","body":"See: <a href=\"http://stackoverflow.com/questions/1554852/parsing-a-date-string-using-java-text-simpledateformat\" title=\"parsing a date string using java text simpledateformat\">stackoverflow.com/questions/1554852/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/2580925/simpledateformat-parsing\" title=\"simpledateformat parsing\">stackoverflow.com/questions/2580925/simpledateformat-parsing</a> and <a href=\"http://stackoverflow.com/questions/4013681/parse-this-type-of-date-format-in-java-date-with-z-literal\" title=\"parse this type of date format in java date with z literal\">stackoverflow.com/questions/4013681/&hellip;</a> and"},{"owner":{"account_id":605144,"reputation":717,"user_id":318961,"accept_rate":83,"display_name":"mlohbihler"},"score":24,"creation_date":1342639206,"post_id":2201925,"comment_id":15272433,"body_markdown":"I&#39;m not sure when this was added, but the &#39;X&#39; appears to solve this problem within SimpleDateFormat. The pattern &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot; successfully parses the example in the question.","body":"I&#39;m not sure when this was added, but the &#39;X&#39; appears to solve this problem within SimpleDateFormat. The pattern &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot; successfully parses the example in the question."},{"owner":{"account_id":314378,"reputation":2078,"user_id":629514,"accept_rate":80,"display_name":"Lars Grammel"},"score":13,"creation_date":1349287103,"post_id":2201925,"comment_id":17167962,"body_markdown":"The &#39;X&#39; is available since Java 7.","body":"The &#39;X&#39; is available since Java 7."},{"owner":{"account_id":1968,"reputation":3615,"user_id":2709,"display_name":"Alexander Klimetschek"},"score":0,"creation_date":1366626513,"post_id":2201925,"comment_id":120444039,"body_markdown":"[Apache Jackrabbit](http://jackrabbit.apache.org) uses the ISO 8601 format for persisting dates, and there is a helper class to parse them: [org.apache.jackrabbit.util.ISO8601](https://svn.apache.org/repos/asf/jackrabbit/trunk/jackrabbit-jcr-commons/src/main/java/org/apache/jackrabbit/util/ISO8601.java) Comes with [jackrabbit-jcr-commons](http://mvnrepository.com/artifact/org.apache.jackrabbit/jackrabbit-jcr-commons).","body":"<a href=\"http://jackrabbit.apache.org\" rel=\"nofollow noreferrer\">Apache Jackrabbit</a> uses the ISO 8601 format for persisting dates, and there is a helper class to parse them: <a href=\"https://svn.apache.org/repos/asf/jackrabbit/trunk/jackrabbit-jcr-commons/src/main/java/org/apache/jackrabbit/util/ISO8601.java\" rel=\"nofollow noreferrer\">org.apache.jackrabbit.util.ISO8601</a> Comes with <a href=\"http://mvnrepository.com/artifact/org.apache.jackrabbit/jackrabbit-jcr-commons\" rel=\"nofollow noreferrer\">jackrabbit-jcr-commons</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1386987297,"post_id":2201925,"comment_id":30784818,"body_markdown":"The embedded answer with [Joda-Time](http://www.joda.org/joda-time/) can be much shorter, a single line of code, no need to call parse method: `new DateTime( &quot;2010-01-01T12:00:00+01:00&quot; )`. See [my answer](http://stackoverflow.com/a/20578792/642706) for details.","body":"The embedded answer with <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> can be much shorter, a single line of code, no need to call parse method: <code>new DateTime( &quot;2010-01-01T12:00:00+01:00&quot; )</code>. See <a href=\"http://stackoverflow.com/a/20578792/642706\">my answer</a> for details."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1436183997,"post_id":2201925,"comment_id":50487888,"body_markdown":"I found an answer that worked for me on [this particular answer][1].\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/10615059/2413303","body":"I found an answer that worked for me on [this particular answer][1].        [1]: <a href=\"http://stackoverflow.com/a/10615059/2413303\">stackoverflow.com/a/10615059/2413303</a>"},{"owner":{"account_id":1316082,"reputation":2988,"user_id":1262901,"accept_rate":40,"display_name":"Fabian Kleiser"},"score":4,"creation_date":1461758360,"post_id":2201925,"comment_id":61342474,"body_markdown":"Java 8 makes it easy! There is a hidden gem by Adam in the answers below: http://stackoverflow.com/a/27479533/1262901","body":"Java 8 makes it easy! There is a hidden gem by Adam in the answers below: <a href=\"http://stackoverflow.com/a/27479533/1262901\">stackoverflow.com/a/27479533/1262901</a>"},{"owner":{"account_id":3053378,"reputation":379,"user_id":2587521,"display_name":"raok1997"},"score":0,"creation_date":1559334009,"post_id":2201925,"comment_id":99400924,"body_markdown":"Joda DateTime didn&#39;t support 20190531T194819Z(yyyyMMdd&#39;T&#39;HHmmssSSS&#39;Z&#39;) example from https://en.wikipedia.org/wiki/ISO_8601 and hence added the solution below: https://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date/56400421#56400421","body":"Joda DateTime didn&#39;t support 20190531T194819Z(yyyyMMdd&#39;T&#39;HHmmssSSS&#39;Z&#39;) example from <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO_8601</a> and hence added the solution below: <a href=\"https://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date/56400421#56400421\" title=\"converting iso 8601 compliant string to java util date\">stackoverflow.com/questions/2201925/&hellip;</a>"},{"owner":{"account_id":1096311,"reputation":2246,"user_id":1089841,"accept_rate":33,"display_name":"Girish"},"score":0,"creation_date":1686738458,"post_id":2201925,"comment_id":134839449,"body_markdown":"what is the format of 2023-06-12T10:49:010Z, can someone help on this","body":"what is the format of 2023-06-12T10:49:010Z, can someone help on this"}],"answers":[{"comments":[{"owner":{"account_id":52611,"reputation":9001,"user_id":157229,"accept_rate":62,"display_name":"Ice09"},"score":19,"creation_date":1265365371,"post_id":2202300,"comment_id":2157413,"body_markdown":"The JAXB-solution is a really creative approach! It works as well, I have tested it with my sample. However, for whoever faces the problem and is allowed to use JodaTime, I would advise to use it, since it feels more natural. But your solution requires not additional libraries (at least with Java 6).","body":"The JAXB-solution is a really creative approach! It works as well, I have tested it with my sample. However, for whoever faces the problem and is allowed to use JodaTime, I would advise to use it, since it feels more natural. But your solution requires not additional libraries (at least with Java 6)."},{"owner":{"account_id":28699,"reputation":6312,"user_id":76900,"accept_rate":70,"display_name":"Alexander Ljungberg"},"score":38,"creation_date":1286993605,"post_id":2202300,"comment_id":4188868,"body_markdown":"Here&#39;s the reverse: Calendar c = GregorianCalendar.getInstance();c.setTime(aDate);return javax.xml.bind.DatatypeConverter.printDateTime(c);","body":"Here&#39;s the reverse: Calendar c = GregorianCalendar.getInstance();c.setTime(aDate);return javax.xml.bind.DatatypeConverter.printDateTime(c);"},{"owner":{"account_id":88257,"reputation":5626,"user_id":2559313,"accept_rate":86,"display_name":"gtrak"},"score":0,"creation_date":1291235351,"post_id":2202300,"comment_id":4704033,"body_markdown":"Wow, that&#39;s a really non-obvious place to put such a useful thing.  Been searching for a few days.","body":"Wow, that&#39;s a really non-obvious place to put such a useful thing.  Been searching for a few days."},{"owner":{"account_id":88257,"reputation":5626,"user_id":2559313,"accept_rate":86,"display_name":"gtrak"},"score":4,"creation_date":1291237441,"post_id":2202300,"comment_id":4704547,"body_markdown":"Actually it&#39;s not so simple b/c you have to initialize the jaxb datatypeConverter.  I ended up using DatatypeFactory myself as DataTypeConverterImpl did internally.  What a headache.","body":"Actually it&#39;s not so simple b/c you have to initialize the jaxb datatypeConverter.  I ended up using DatatypeFactory myself as DataTypeConverterImpl did internally.  What a headache."},{"owner":{"account_id":1090531,"reputation":5002,"user_id":1085264,"accept_rate":50,"display_name":"straya"},"score":0,"creation_date":1330567520,"post_id":2202300,"comment_id":12043578,"body_markdown":"If that&#39;s all true, you should update Wikipedia: http://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators as it indicates that you are (at least partially) incorrect.","body":"If that&#39;s all true, you should update Wikipedia: <a href=\"http://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ISO_8601#Time_zone_designators</a> as it indicates that you are (at least partially) incorrect."}],"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"comment_count":5,"down_vote_count":6,"up_vote_count":520,"is_accepted":true,"score":514,"last_activity_date":1653118622,"creation_date":1265309512,"answer_id":2202300,"question_id":2201925,"body_markdown":"Unfortunately, the time zone formats available to [SimpleDateFormat][1] (Java 6 and earlier) are not [ISO 8601][2] compliant. SimpleDateFormat understands time zone strings like &quot;GMT+01:00&quot; or &quot;+0100&quot;, the latter according to [RFC # 822][3].\r\n\r\nEven if Java 7 added support for time zone descriptors according to ISO 8601, SimpleDateFormat is still not able to properly parse a complete date string, as it has no support for optional parts.\r\n\r\nReformatting your input string using regexp is certainly one possibility, but the replacement rules are not as simple as in your question:\r\n\r\n- Some time zones are not full hours off [UTC][4], so the string does not necessarily end with &quot;:00&quot;.\r\n- ISO8601 allows only the number of hours to be included in the time zone, so &quot;+01&quot; is equivalent to &quot;+01:00&quot;\r\n- ISO8601 allows the usage of &quot;Z&quot; to indicate UTC instead of &quot;+00:00&quot;.\r\n\r\nThe easier solution is possibly to use the data type converter in JAXB, since JAXB must be able to parse ISO8601 date string according to the XML Schema specification. `javax.xml.bind.DatatypeConverter.parseDateTime(&quot;2010-01-01T12:00:00Z&quot;)` will give you a `Calendar` object and you can simply use getTime() on it, if you need a `Date` object.\r\n\r\nYou could probably use [Joda-Time][5] as well, but I don&#39;t know why you should bother with that (Update 2022; maybe because the entire `javax.xml.bind` section is missing from Android&#39;s `javax.xml` package).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: http://www.ietf.org/rfc/rfc0822.txt &quot;STANDARD FOR THE FORMAT OF ARPA INTERNET TEXT MESSAGES&quot;\r\n  [4]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [5]: http://www.joda.org/joda-time/","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>Unfortunately, the time zone formats available to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a> (Java 6 and earlier) are not <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> compliant. SimpleDateFormat understands time zone strings like &quot;GMT+01:00&quot; or &quot;+0100&quot;, the latter according to <a href=\"http://www.ietf.org/rfc/rfc0822.txt\" rel=\"noreferrer\" title=\"STANDARD FOR THE FORMAT OF ARPA INTERNET TEXT MESSAGES\">RFC # 822</a>.</p>\n<p>Even if Java 7 added support for time zone descriptors according to ISO 8601, SimpleDateFormat is still not able to properly parse a complete date string, as it has no support for optional parts.</p>\n<p>Reformatting your input string using regexp is certainly one possibility, but the replacement rules are not as simple as in your question:</p>\n<ul>\n<li>Some time zones are not full hours off <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>, so the string does not necessarily end with &quot;:00&quot;.</li>\n<li>ISO8601 allows only the number of hours to be included in the time zone, so &quot;+01&quot; is equivalent to &quot;+01:00&quot;</li>\n<li>ISO8601 allows the usage of &quot;Z&quot; to indicate UTC instead of &quot;+00:00&quot;.</li>\n</ul>\n<p>The easier solution is possibly to use the data type converter in JAXB, since JAXB must be able to parse ISO8601 date string according to the XML Schema specification. <code>javax.xml.bind.DatatypeConverter.parseDateTime(&quot;2010-01-01T12:00:00Z&quot;)</code> will give you a <code>Calendar</code> object and you can simply use getTime() on it, if you need a <code>Date</code> object.</p>\n<p>You could probably use <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> as well, but I don't know why you should bother with that (Update 2022; maybe because the entire <code>javax.xml.bind</code> section is missing from Android's <code>javax.xml</code> package).</p>\n"},{"tags":[],"owner":{"account_id":328694,"reputation":7904,"user_id":651794,"accept_rate":83,"display_name":"James Scriven"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1357730104,"creation_date":1302715640,"answer_id":5653145,"question_id":2201925,"body_markdown":"The DatatypeConverter solution doesn&#39;t work in all VMs. The following works for me:\r\n\r\n    javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(&quot;2011-01-01Z&quot;).toGregorianCalendar().getTime()\r\n\r\nI&#39;ve found that joda does not work out of the box (specifically for the example I gave above with the timezone on a date, which should be valid)\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>The DatatypeConverter solution doesn't work in all VMs. The following works for me:</p>\n\n<pre><code>javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(\"2011-01-01Z\").toGregorianCalendar().getTime()\n</code></pre>\n\n<p>I've found that joda does not work out of the box (specifically for the example I gave above with the timezone on a date, which should be valid)</p>\n"},{"comments":[{"owner":{"account_id":236290,"reputation":2323,"user_id":503668,"display_name":"Thorbear"},"score":3,"creation_date":1343827507,"post_id":10621553,"comment_id":15613614,"body_markdown":"Perhaps this should have been made into a question of its own, with its own answer?","body":"Perhaps this should have been made into a question of its own, with its own answer?"},{"owner":{"account_id":994655,"reputation":5110,"user_id":1010931,"accept_rate":86,"display_name":"wrygiel"},"score":5,"creation_date":1343888675,"post_id":10621553,"comment_id":15633486,"body_markdown":"This was the first page I&#39;ve stubled upon when I was looking for the answer, so it seemed fit. For most Java developers, Android is not exactly Java. However, in most cases, one works the same as the other, so many Android developers will search for &quot;java&quot; when looking for this.","body":"This was the first page I&#39;ve stubled upon when I was looking for the answer, so it seemed fit. For most Java developers, Android is not exactly Java. However, in most cases, one works the same as the other, so many Android developers will search for &quot;java&quot; when looking for this."},{"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"score":0,"creation_date":1370361399,"post_id":10621553,"comment_id":24427953,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/31198/discussion-between-marcus-junius-brutus-and-wrygiel)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/31198/discussion-between-marcus-junius-brutus-and-wrygiel\">continue this discussion in chat</a>"},{"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"score":6,"creation_date":1379086302,"post_id":10621553,"comment_id":27706607,"body_markdown":"i had to add .SSS for fractional seconds but works great thx. Why do you do `s = s.substring(0, 22) + s.substring(23);` - i dont see the point in this","body":"i had to add .SSS for fractional seconds but works great thx. Why do you do <code>s = s.substring(0, 22) + s.substring(23);</code> - i dont see the point in this"}],"tags":[],"owner":{"account_id":994655,"reputation":5110,"user_id":1010931,"accept_rate":86,"display_name":"wrygiel"},"comment_count":4,"down_vote_count":0,"up_vote_count":210,"is_accepted":false,"score":210,"last_activity_date":1452840211,"creation_date":1337181377,"answer_id":10621553,"question_id":2201925,"body_markdown":"Okay, this question is already answered, but I&#39;ll drop my answer anyway. It might help someone.\r\n\r\nI&#39;ve been looking for a **solution for Android** (API 7).\r\n\r\n  * Joda was out of the question - it is huge and suffers from slow initialization. It also seemed a major overkill for that particular purpose.\r\n  * Answers involving `javax.xml` won&#39;t work on Android API 7.\r\n\r\nEnded up implementing this simple class. It covers **only the most common form** of ISO 8601 strings, but this should be enough in some cases (when you&#39;re quite sure that the input will be in *this* format).\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.GregorianCalendar;\r\n\r\n    /**\r\n     * Helper class for handling a most common subset of ISO 8601 strings\r\n     * (in the following format: &quot;2008-03-01T13:00:00+01:00&quot;). It supports\r\n     * parsing the &quot;Z&quot; timezone, but many other less-used features are\r\n     * missing.\r\n     */\r\n    public final class ISO8601 {\r\n        /** Transform Calendar to ISO 8601 string. */\r\n        public static String fromCalendar(final Calendar calendar) {\r\n            Date date = calendar.getTime();\r\n            String formatted = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n                .format(date);\r\n            return formatted.substring(0, 22) + &quot;:&quot; + formatted.substring(22);\r\n        }\r\n\r\n        /** Get current date and time formatted as ISO 8601 string. */\r\n        public static String now() {\r\n            return fromCalendar(GregorianCalendar.getInstance());\r\n        }\r\n\r\n        /** Transform ISO 8601 string to Calendar. */\r\n        public static Calendar toCalendar(final String iso8601string)\r\n                throws ParseException {\r\n            Calendar calendar = GregorianCalendar.getInstance();\r\n            String s = iso8601string.replace(&quot;Z&quot;, &quot;+00:00&quot;);\r\n            try {\r\n                s = s.substring(0, 22) + s.substring(23);  // to get rid of the &quot;:&quot;\r\n            } catch (IndexOutOfBoundsException e) {\r\n                throw new ParseException(&quot;Invalid length&quot;, 0);\r\n            }\r\n            Date date = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;).parse(s);\r\n            calendar.setTime(date);\r\n            return calendar;\r\n        }\r\n    }\r\n\r\n**Performance note:** I instantiate new SimpleDateFormat every time as means to avoid [a bug](http://code.google.com/p/android/issues/detail?id=8258) in Android 2.1. If you&#39;re as astonished as I was, see [this riddle](https://stackoverflow.com/questions/10624752/simpledateformat-timezone-bug-on-android). For other Java engines, you may cache the instance in a private static field (using ThreadLocal, to be thread safe).","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>Okay, this question is already answered, but I'll drop my answer anyway. It might help someone.</p>\n\n<p>I've been looking for a <strong>solution for Android</strong> (API 7).</p>\n\n<ul>\n<li>Joda was out of the question - it is huge and suffers from slow initialization. It also seemed a major overkill for that particular purpose.</li>\n<li>Answers involving <code>javax.xml</code> won't work on Android API 7.</li>\n</ul>\n\n<p>Ended up implementing this simple class. It covers <strong>only the most common form</strong> of ISO 8601 strings, but this should be enough in some cases (when you're quite sure that the input will be in <em>this</em> format).</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.GregorianCalendar;\n\n/**\n * Helper class for handling a most common subset of ISO 8601 strings\n * (in the following format: \"2008-03-01T13:00:00+01:00\"). It supports\n * parsing the \"Z\" timezone, but many other less-used features are\n * missing.\n */\npublic final class ISO8601 {\n    /** Transform Calendar to ISO 8601 string. */\n    public static String fromCalendar(final Calendar calendar) {\n        Date date = calendar.getTime();\n        String formatted = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\")\n            .format(date);\n        return formatted.substring(0, 22) + \":\" + formatted.substring(22);\n    }\n\n    /** Get current date and time formatted as ISO 8601 string. */\n    public static String now() {\n        return fromCalendar(GregorianCalendar.getInstance());\n    }\n\n    /** Transform ISO 8601 string to Calendar. */\n    public static Calendar toCalendar(final String iso8601string)\n            throws ParseException {\n        Calendar calendar = GregorianCalendar.getInstance();\n        String s = iso8601string.replace(\"Z\", \"+00:00\");\n        try {\n            s = s.substring(0, 22) + s.substring(23);  // to get rid of the \":\"\n        } catch (IndexOutOfBoundsException e) {\n            throw new ParseException(\"Invalid length\", 0);\n        }\n        Date date = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\").parse(s);\n        calendar.setTime(date);\n        return calendar;\n    }\n}\n</code></pre>\n\n<p><strong>Performance note:</strong> I instantiate new SimpleDateFormat every time as means to avoid <a href=\"http://code.google.com/p/android/issues/detail?id=8258\" rel=\"noreferrer\">a bug</a> in Android 2.1. If you're as astonished as I was, see <a href=\"https://stackoverflow.com/questions/10624752/simpledateformat-timezone-bug-on-android\">this riddle</a>. For other Java engines, you may cache the instance in a private static field (using ThreadLocal, to be thread safe).</p>\n"},{"comments":[{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":5,"creation_date":1348842485,"post_id":12614304,"comment_id":17049998,"body_markdown":"Why is this a better answer than the others, included the accepted answer with 76 upvotes?","body":"Why is this a better answer than the others, included the accepted answer with 76 upvotes?"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":3,"creation_date":1377637330,"post_id":12614304,"comment_id":27156444,"body_markdown":"@ErickRobertson: It is simple, out of the box, flexible, no conversions, and most people don&#39;t care about time zones.","body":"@ErickRobertson: It is simple, out of the box, flexible, no conversions, and most people don&#39;t care about time zones."},{"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"score":7,"creation_date":1379086239,"post_id":12614304,"comment_id":27706568,"body_markdown":"not much point working with times if you dont care about timezones!","body":"not much point working with times if you dont care about timezones!"},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":19,"creation_date":1386637807,"post_id":12614304,"comment_id":30614718,"body_markdown":"This **IGNORES** the timezone completely. Was using this until I realized this was happening, so I switched to JodaTime.","body":"This <b>IGNORES</b> the timezone completely. Was using this until I realized this was happening, so I switched to JodaTime."},{"owner":{"account_id":1049101,"reputation":4754,"user_id":1085556,"accept_rate":64,"display_name":"Bart van Kuik"},"score":4,"creation_date":1393766427,"post_id":12614304,"comment_id":33573328,"body_markdown":"Throwing away the time zone will simply result in errors at some point.","body":"Throwing away the time zone will simply result in errors at some point."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":3,"creation_date":1394299034,"post_id":12614304,"comment_id":33832323,"body_markdown":"-1. This just adds a &#39;Z&#39; (literal) to the format but doesn&#39;t really take timezone into account .. as others have pointed out already. Don&#39;t use!","body":"-1. This just adds a &#39;Z&#39; (literal) to the format but doesn&#39;t really take timezone into account .. as others have pointed out already. Don&#39;t use!"},{"owner":{"account_id":1455541,"reputation":1052,"user_id":1371217,"accept_rate":80,"display_name":"Zoomzoom"},"score":1,"creation_date":1394483115,"post_id":12614304,"comment_id":33901462,"body_markdown":"This is quite dangerous actually. By appending a Z to the string you&#39;re saying it&#39;s a UTC time (0 offset). Please consider removing our answer.","body":"This is quite dangerous actually. By appending a Z to the string you&#39;re saying it&#39;s a UTC time (0 offset). Please consider removing our answer."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1396260585,"post_id":12614304,"comment_id":34693365,"body_markdown":"If your application follows the convention of always producing UTC dates then this is fine for reproducing dates. The only risk is that somehow non-UTC dates end op in your database and get blindly produced as if they were UTC. For dates received from clients this will only work if they send UTC dates with the &#39;Z&#39; (not +00:00) notation. Dates with non-UTC timezones or different format will not be parsed correctly by this formatter.","body":"If your application follows the convention of always producing UTC dates then this is fine for reproducing dates. The only risk is that somehow non-UTC dates end op in your database and get blindly produced as if they were UTC. For dates received from clients this will only work if they send UTC dates with the &#39;Z&#39; (not +00:00) notation. Dates with non-UTC timezones or different format will not be parsed correctly by this formatter."},{"owner":{"account_id":2575929,"reputation":3920,"user_id":2233621,"display_name":"kassim"},"score":1,"creation_date":1423410523,"post_id":12614304,"comment_id":45127953,"body_markdown":"A warning should be added to this solution as to not misguide people: Unless this is running in a UTC timezone it will produce incorrect results.","body":"A warning should be added to this solution as to not misguide people: Unless this is running in a UTC timezone it will produce incorrect results."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1548162955,"post_id":12614304,"comment_id":95437762,"body_markdown":"It should be `X`, or `XX`, or `XXX`, for zoned string `+02`, `+0200`, and `+02:00`, respectively. In this way, it takes timezone into consideration.","body":"It should be <code>X</code>, or <code>XX</code>, or <code>XXX</code>, for zoned string <code>+02</code>, <code>+0200</code>, and <code>+02:00</code>, respectively. In this way, it takes timezone into consideration."}],"tags":[],"owner":{"account_id":1882302,"reputation":389,"user_id":1702205,"display_name":"Toby"},"comment_count":10,"down_vote_count":27,"up_vote_count":44,"is_accepted":false,"score":17,"last_activity_date":1387806965,"creation_date":1348721599,"answer_id":12614304,"question_id":2201925,"body_markdown":"I think we should use \r\n\r\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n\r\nfor Date `2010-01-01T12:00:00Z`\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>I think we should use </p>\n\n<pre><code>DateFormat format = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\")\n</code></pre>\n\n<p>for Date <code>2010-01-01T12:00:00Z</code></p>\n"},{"comments":[{"owner":{"account_id":664324,"reputation":6003,"user_id":483708,"accept_rate":100,"display_name":"Theo"},"score":2,"creation_date":1400792109,"post_id":17309209,"comment_id":36640422,"body_markdown":"Watch out -- DateFormat and derived classes are not multithread compatible! Using static SimpleDateFormat objects such as DATE_FORMAT_1 and DATE_FORMAT_2 means that multiple threads calling the ISO8601DateFormatter functions will share the same DateFormat object. This leads to data corruption and incorrect dates being returned from the DateFormat calls. To fix this, you should just make the pattern strings constants and create local SimpleDateFormat variables whenever needed. This will ensure that each object is just used by one thread.","body":"Watch out -- DateFormat and derived classes are not multithread compatible! Using static SimpleDateFormat objects such as DATE_FORMAT_1 and DATE_FORMAT_2 means that multiple threads calling the ISO8601DateFormatter functions will share the same DateFormat object. This leads to data corruption and incorrect dates being returned from the DateFormat calls. To fix this, you should just make the pattern strings constants and create local SimpleDateFormat variables whenever needed. This will ensure that each object is just used by one thread."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1418668868,"post_id":17309209,"comment_id":43413277,"body_markdown":"A better fix for thread-safety is to instead use a date-time library built for thread-safety. In Java that world be either Joda-Time or java.time.","body":"A better fix for thread-safety is to instead use a date-time library built for thread-safety. In Java that world be either Joda-Time or java.time."}],"tags":[],"owner":{"account_id":127351,"reputation":5961,"user_id":324446,"accept_rate":64,"display_name":"Akh"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1372202886,"creation_date":1372202886,"answer_id":17309209,"question_id":2201925,"body_markdown":"Base Function Courtesy : @wrygiel. \r\n\r\nThis function can convert ISO8601 format to Java Date which can handle the offset values. As per the [definition of ISO 8601][1] the offset can be mentioned in different formats.\r\n\r\n    &#177;[hh]:[mm]\r\n    &#177;[hh][mm]\r\n    &#177;[hh]\r\n\r\n    Eg:  &quot;18:30Z&quot;, &quot;22:30+04&quot;, &quot;1130-0700&quot;, and &quot;15:00-03:30&quot; all mean the same time. - 06:30PM UTC\r\n\r\nThis class has static methods to convert \r\n\r\n - ISO8601 string to Date(Local TimeZone) object\r\n - Date to ISO8601 string\r\n - Daylight Saving is automatically calc\r\n\r\nSample ISO8601 Strings\r\n\r\n    /*\t\t &quot;2013-06-25T14:00:00Z&quot;;\r\n    \t\t &quot;2013-06-25T140000Z&quot;;\r\n    \t\t &quot;2013-06-25T14:00:00+04&quot;;\r\n    \t\t &quot;2013-06-25T14:00:00+0400&quot;;\r\n    \t\t &quot;2013-06-25T140000+0400&quot;;\r\n    \t\t &quot;2013-06-25T14:00:00-04&quot;;\r\n    \t\t &quot;2013-06-25T14:00:00-0400&quot;;\r\n    \t\t &quot;2013-06-25T140000-0400&quot;;*/\r\n\r\n\r\n    public class ISO8601DateFormatter {\r\n\t\r\n\tprivate static final DateFormat DATE_FORMAT_1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n\tprivate static final DateFormat DATE_FORMAT_2 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HHmmssZ&quot;);\r\n\tprivate static final String UTC_PLUS = &quot;+&quot;;\r\n\tprivate static final String UTC_MINUS = &quot;-&quot;;\r\n\t\r\n\tpublic static Date toDate(String iso8601string) throws ParseException {\r\n\t\tiso8601string = iso8601string.trim();\r\n\t\tif(iso8601string.toUpperCase().indexOf(&quot;Z&quot;)&gt;0){\r\n\t\t\tiso8601string = iso8601string.toUpperCase().replace(&quot;Z&quot;, &quot;+0000&quot;);\r\n\t\t}else if(((iso8601string.indexOf(UTC_PLUS))&gt;0)){\r\n\t\t\tiso8601string = replaceColon(iso8601string, iso8601string.indexOf(UTC_PLUS));\r\n\t\t\tiso8601string = appendZeros(iso8601string, iso8601string.indexOf(UTC_PLUS), UTC_PLUS);\r\n\t\t}else if(((iso8601string.indexOf(UTC_MINUS))&gt;0)){\r\n\t\t\tiso8601string = replaceColon(iso8601string, iso8601string.indexOf(UTC_MINUS));\r\n\t\t\tiso8601string = appendZeros(iso8601string, iso8601string.indexOf(UTC_MINUS), UTC_MINUS);\r\n\t\t}\r\n\t\t\r\n\t\tDate date = null;\r\n\t\tif(iso8601string.contains(&quot;:&quot;))\r\n\t\t\tdate = DATE_FORMAT_1.parse(iso8601string);\r\n\t\telse{\r\n\t\t\tdate = DATE_FORMAT_2.parse(iso8601string);\r\n\t\t}\r\n\t\treturn date;\r\n\t}\r\n\t\r\n\tpublic static String toISO8601String(Date date){\r\n\t\treturn DATE_FORMAT_1.format(date);\r\n\t}\r\n\t\r\n\tprivate static String replaceColon(String sourceStr, int offsetIndex){\r\n\t\tif(sourceStr.substring(offsetIndex).contains(&quot;:&quot;))\r\n\t\t\treturn sourceStr.substring(0, offsetIndex) + sourceStr.substring(offsetIndex).replace(&quot;:&quot;, &quot;&quot;);\r\n\t\treturn sourceStr;\r\n\t}\r\n\t\r\n\tprivate static String appendZeros(String sourceStr, int offsetIndex, String offsetChar){\r\n\t\tif((sourceStr.length()-1)-sourceStr.indexOf(offsetChar,offsetIndex)&lt;=2)\r\n\t\t\treturn sourceStr + &quot;00&quot;;\r\n\t\treturn sourceStr;\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>Base Function Courtesy : @wrygiel. </p>\n\n<p>This function can convert ISO8601 format to Java Date which can handle the offset values. As per the <a href=\"http://en.wikipedia.org/wiki/ISO_8601#Time_offsets_from_UTC\" rel=\"nofollow\">definition of ISO 8601</a> the offset can be mentioned in different formats.</p>\n\n<pre><code>±[hh]:[mm]\n±[hh][mm]\n±[hh]\n\nEg:  \"18:30Z\", \"22:30+04\", \"1130-0700\", and \"15:00-03:30\" all mean the same time. - 06:30PM UTC\n</code></pre>\n\n<p>This class has static methods to convert </p>\n\n<ul>\n<li>ISO8601 string to Date(Local TimeZone) object</li>\n<li>Date to ISO8601 string</li>\n<li>Daylight Saving is automatically calc</li>\n</ul>\n\n<p>Sample ISO8601 Strings</p>\n\n<pre><code>/*       \"2013-06-25T14:00:00Z\";\n         \"2013-06-25T140000Z\";\n         \"2013-06-25T14:00:00+04\";\n         \"2013-06-25T14:00:00+0400\";\n         \"2013-06-25T140000+0400\";\n         \"2013-06-25T14:00:00-04\";\n         \"2013-06-25T14:00:00-0400\";\n         \"2013-06-25T140000-0400\";*/\n\n\npublic class ISO8601DateFormatter {\n\nprivate static final DateFormat DATE_FORMAT_1 = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\");\nprivate static final DateFormat DATE_FORMAT_2 = new SimpleDateFormat(\"yyyy-MM-dd'T'HHmmssZ\");\nprivate static final String UTC_PLUS = \"+\";\nprivate static final String UTC_MINUS = \"-\";\n\npublic static Date toDate(String iso8601string) throws ParseException {\n    iso8601string = iso8601string.trim();\n    if(iso8601string.toUpperCase().indexOf(\"Z\")&gt;0){\n        iso8601string = iso8601string.toUpperCase().replace(\"Z\", \"+0000\");\n    }else if(((iso8601string.indexOf(UTC_PLUS))&gt;0)){\n        iso8601string = replaceColon(iso8601string, iso8601string.indexOf(UTC_PLUS));\n        iso8601string = appendZeros(iso8601string, iso8601string.indexOf(UTC_PLUS), UTC_PLUS);\n    }else if(((iso8601string.indexOf(UTC_MINUS))&gt;0)){\n        iso8601string = replaceColon(iso8601string, iso8601string.indexOf(UTC_MINUS));\n        iso8601string = appendZeros(iso8601string, iso8601string.indexOf(UTC_MINUS), UTC_MINUS);\n    }\n\n    Date date = null;\n    if(iso8601string.contains(\":\"))\n        date = DATE_FORMAT_1.parse(iso8601string);\n    else{\n        date = DATE_FORMAT_2.parse(iso8601string);\n    }\n    return date;\n}\n\npublic static String toISO8601String(Date date){\n    return DATE_FORMAT_1.format(date);\n}\n\nprivate static String replaceColon(String sourceStr, int offsetIndex){\n    if(sourceStr.substring(offsetIndex).contains(\":\"))\n        return sourceStr.substring(0, offsetIndex) + sourceStr.substring(offsetIndex).replace(\":\", \"\");\n    return sourceStr;\n}\n\nprivate static String appendZeros(String sourceStr, int offsetIndex, String offsetChar){\n    if((sourceStr.length()-1)-sourceStr.indexOf(offsetChar,offsetIndex)&lt;=2)\n        return sourceStr + \"00\";\n    return sourceStr;\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":97993,"reputation":90071,"user_id":265521,"accept_rate":58,"display_name":"Timmmm"},"score":0,"creation_date":1439304877,"post_id":17491143,"comment_id":51800258,"body_markdown":"It fails to parse this date: `2015-08-11T13:10:00`. I get `String index out of range: 19`. Looking at the code it seems that it requires the milliseconds to be specified, and the timezone. Those should be optional.","body":"It fails to parse this date: <code>2015-08-11T13:10:00</code>. I get <code>String index out of range: 19</code>. Looking at the code it seems that it requires the milliseconds to be specified, and the timezone. Those should be optional."},{"owner":{"account_id":146086,"reputation":5910,"user_id":356323,"display_name":"david_p"},"score":3,"creation_date":1439371407,"post_id":17491143,"comment_id":51829826,"body_markdown":"To quote the documentation, the parse format is: `[yyyy-MM-dd|yyyyMMdd][T(hh:mm[:ss[.sss]]|hhmm[ss[.sss]])]?[Z|[+-]hh:mm]]`.\n\nIn other words, the milliseconds is optional but the timezone is mandatory.","body":"To quote the documentation, the parse format is: <code>[yyyy-MM-dd|yyyyMMdd][T(hh:mm[:ss[.sss]]|hhmm[ss[.sss]])]?[Z&zwnj;&#8203;|[+-]hh:mm]]</code>.  In other words, the milliseconds is optional but the timezone is mandatory."},{"owner":{"account_id":97993,"reputation":90071,"user_id":265521,"accept_rate":58,"display_name":"Timmmm"},"score":2,"creation_date":1439377003,"post_id":17491143,"comment_id":51833652,"body_markdown":"Ah yes actually it looks like you are right. Still, I&#39;m pretty sure ISO8601 allows you to omit the timezone so it&#39;s still wrong. JodaTime works though: `new DateTime(&quot;2015-08-11T13:10:00&quot;).toDate()`","body":"Ah yes actually it looks like you are right. Still, I&#39;m pretty sure ISO8601 allows you to omit the timezone so it&#39;s still wrong. JodaTime works though: <code>new DateTime(&quot;2015-08-11T13:10:00&quot;).toDate()</code>"},{"owner":{"account_id":1089981,"reputation":6557,"user_id":1084813,"accept_rate":87,"display_name":"JohnEye"},"score":3,"creation_date":1521035966,"post_id":17491143,"comment_id":85561995,"body_markdown":"That class is now deprecated, the new one is StdDateFormat. Otherwise it works the same.","body":"That class is now deprecated, the new one is StdDateFormat. Otherwise it works the same."},{"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"score":0,"creation_date":1605263274,"post_id":17491143,"comment_id":114603196,"body_markdown":"ISO8601DateFormat is deprecated use StdDateFormat instead","body":"ISO8601DateFormat is deprecated use StdDateFormat instead"}],"tags":[],"owner":{"account_id":146086,"reputation":5910,"user_id":356323,"display_name":"david_p"},"comment_count":5,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1373034223,"creation_date":1373034223,"answer_id":17491143,"question_id":2201925,"body_markdown":"The [Jackson-databind library](https://github.com/FasterXML/jackson-databind) also has [ISO8601DateFormat class](https://github.com/FasterXML/jackson-databind/blob/master/src/main/java/com/fasterxml/jackson/databind/util/ISO8601DateFormat.java) that does that (actual implementation in [ISO8601Utils](https://github.com/FasterXML/jackson-databind/blob/master/src/main/java/com/fasterxml/jackson/databind/util/ISO8601Utils.java).\r\n\r\n    ISO8601DateFormat df = new ISO8601DateFormat();\r\n    Date d = df.parse(&quot;2010-07-28T22:25:51Z&quot;);\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>The <a href=\"https://github.com/FasterXML/jackson-databind\">Jackson-databind library</a> also has <a href=\"https://github.com/FasterXML/jackson-databind/blob/master/src/main/java/com/fasterxml/jackson/databind/util/ISO8601DateFormat.java\">ISO8601DateFormat class</a> that does that (actual implementation in <a href=\"https://github.com/FasterXML/jackson-databind/blob/master/src/main/java/com/fasterxml/jackson/databind/util/ISO8601Utils.java\">ISO8601Utils</a>.</p>\n\n<pre><code>ISO8601DateFormat df = new ISO8601DateFormat();\nDate d = df.parse(\"2010-07-28T22:25:51Z\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":110243,"reputation":817,"user_id":291789,"accept_rate":84,"display_name":"Blue Sky"},"score":7,"creation_date":1379502948,"post_id":18217193,"comment_id":27847811,"body_markdown":"Your answer helped me to convert MongoDB&#39;s ISODate to local date. Regards.","body":"Your answer helped me to convert MongoDB&#39;s ISODate to local date. Regards."},{"owner":{"account_id":346447,"reputation":5046,"user_id":679982,"accept_rate":100,"display_name":"linski"},"score":1,"creation_date":1381324402,"post_id":18217193,"comment_id":28534257,"body_markdown":"this is valid as of java 7","body":"this is valid as of java 7"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":10,"creation_date":1405875847,"post_id":18217193,"comment_id":38592370,"body_markdown":"@b.long Java added more than a constant for such ISO 8601 compliant formats. Java got an entire new framework for date-time work that includes built-in default support for such formats. See the new [`java.time` framework](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) in Java 8, inspired by [Joda-Time](http://www.joda.org/joda-time/), supplanting the troublesome java.util.Date, .Calendar, and SimpleDateFormat classes.","body":"@b.long Java added more than a constant for such ISO 8601 compliant formats. Java got an entire new framework for date-time work that includes built-in default support for such formats. See the new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code> framework</a> in Java 8, inspired by <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>, supplanting the troublesome java.util.Date, .Calendar, and SimpleDateFormat classes."},{"owner":{"account_id":124949,"reputation":2835,"user_id":320399,"accept_rate":90,"display_name":"blong"},"score":0,"creation_date":1405967281,"post_id":18217193,"comment_id":38629519,"body_markdown":"Awesome, thanks @BasilBourque.  I should say, I&#39;m glad there&#39;s a Java 7 solution to this that the community has accepted.","body":"Awesome, thanks @BasilBourque.  I should say, I&#39;m glad there&#39;s a Java 7 solution to this that the community has accepted."},{"owner":{"account_id":18923,"reputation":6184,"user_id":43851,"accept_rate":64,"display_name":"Carlos Rendon"},"score":0,"creation_date":1432076785,"post_id":18217193,"comment_id":48769353,"body_markdown":"Also this works better than javax.xml.bind.DatatypeConverter.printDateTime(c) because it doesn&#39;t truncate the fractional seconds if milliseconds is 0.","body":"Also this works better than javax.xml.bind.DatatypeConverter.printDateTime(c) because it doesn&#39;t truncate the fractional seconds if milliseconds is 0."},{"owner":{"account_id":97993,"reputation":90071,"user_id":265521,"accept_rate":58,"display_name":"Timmmm"},"score":2,"creation_date":1439304425,"post_id":18217193,"comment_id":51799926,"body_markdown":"Doesn&#39;t this mean you need to know the date format in advance? What if you have to accept `string1` and `string2` but don&#39;t know which you will get.","body":"Doesn&#39;t this mean you need to know the date format in advance? What if you have to accept <code>string1</code> and <code>string2</code> but don&#39;t know which you will get."},{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":21,"creation_date":1466385088,"post_id":18217193,"comment_id":63278592,"body_markdown":"&#39;Z&#39; needs to be in quotes","body":"&#39;Z&#39; needs to be in quotes"},{"owner":{"account_id":243192,"reputation":6619,"user_id":515205,"accept_rate":83,"display_name":"spaaarky21"},"score":11,"creation_date":1470764831,"post_id":18217193,"comment_id":65078797,"body_markdown":"@kervin If the Z is in quotes, won&#39;t the formatter be looking specifically for the character Z, not all of the offset strings it can represent? It seems like quoting Z would only work by coincidence, if your date strings happened to be in UTC.","body":"@kervin If the Z is in quotes, won&#39;t the formatter be looking specifically for the character Z, not all of the offset strings it can represent? It seems like quoting Z would only work by coincidence, if your date strings happened to be in UTC."},{"owner":{"account_id":2085245,"reputation":2131,"user_id":1856391,"accept_rate":84,"display_name":"Maritim"},"score":1,"creation_date":1558425341,"post_id":18217193,"comment_id":99086142,"body_markdown":"I&#39;m not sure why this is not the approved answer to this post instead of the one from 2010 by @jarnbjo","body":"I&#39;m not sure why this is not the approved answer to this post instead of the one from 2010 by @jarnbjo"},{"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"score":0,"creation_date":1591607666,"post_id":18217193,"comment_id":110109667,"body_markdown":"well this is worked for my case. `SimpleDateFormat` + `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX` is enough before we migrate to OffsetDateTime (Java 8 API)","body":"well this is worked for my case. <code>SimpleDateFormat</code> + <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX</code> is enough before we migrate to OffsetDateTime (Java 8 API)"},{"owner":{"account_id":2984492,"reputation":890,"user_id":2533699,"display_name":"Moktahid Al Faisal"},"score":0,"creation_date":1643846074,"post_id":18217193,"comment_id":125451077,"body_markdown":"it solved my 3 days of work just in a moment","body":"it solved my 3 days of work just in a moment"},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1653119122,"post_id":18217193,"comment_id":127777356,"body_markdown":"@spaaarky21 If you read accepted answer: &quot;`ISO8601 allows the usage of &quot;Z&quot; to indicate UTC instead of &quot;+00:00&quot;`&quot;, hence if input is UTC, the Z should be quoted with single-quotes.","body":"@spaaarky21 If you read accepted answer: &quot;<code>ISO8601 allows the usage of &quot;Z&quot; to indicate UTC instead of &quot;+00:00&quot;</code>&quot;, hence if input is UTC, the Z should be quoted with single-quotes."},{"owner":{"account_id":243192,"reputation":6619,"user_id":515205,"accept_rate":83,"display_name":"spaaarky21"},"score":0,"creation_date":1653594368,"post_id":18217193,"comment_id":127895511,"body_markdown":"Yes, ISO 8601 define Z as shorthand for +00:00. But there is a difference between a format string that is simply looking for the string &quot;Z&quot; without any regard for what it *represents*, and the parser/formatter&#39;s Z **pattern**, which handles the wide variety of ways offset can be represented.","body":"Yes, ISO 8601 define Z as shorthand for +00:00. But there is a difference between a format string that is simply looking for the string &quot;Z&quot; without any regard for what it <i>represents</i>, and the parser/formatter&#39;s Z <b>pattern</b>, which handles the wide variety of ways offset can be represented."}],"tags":[],"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"comment_count":13,"down_vote_count":0,"up_vote_count":320,"is_accepted":false,"score":320,"last_activity_date":1581620644,"creation_date":1376420874,"answer_id":18217193,"question_id":2201925,"body_markdown":"The way that is [blessed by Java 7 documentation][1]:\r\n\r\n    DateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;);\r\n    String string1 = &quot;2001-07-04T12:08:56.235-0700&quot;;\r\n    Date result1 = df1.parse(string1);\r\n\r\n    DateFormat df2 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    String string2 = &quot;2001-07-04T12:08:56.235-07:00&quot;;\r\n    Date result2 = df2.parse(string2);\r\n\r\nYou can find more examples in section *Examples* at [SimpleDateFormat javadoc][1].\r\n\r\n\r\n**UPD 02/13/2020:** There is a [completely new way][2] to do this in Java 8\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: https://stackoverflow.com/a/60214805/203204","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>The way that is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">blessed by Java 7 documentation</a>:</p>\n\n<pre><code>DateFormat df1 = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\");\nString string1 = \"2001-07-04T12:08:56.235-0700\";\nDate result1 = df1.parse(string1);\n\nDateFormat df2 = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\");\nString string2 = \"2001-07-04T12:08:56.235-07:00\";\nDate result2 = df2.parse(string2);\n</code></pre>\n\n<p>You can find more examples in section <em>Examples</em> at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat javadoc</a>.</p>\n\n<p><strong>UPD 02/13/2020:</strong> There is a <a href=\"https://stackoverflow.com/a/60214805/203204\">completely new way</a> to do this in Java 8</p>\n"},{"tags":[],"owner":{"account_id":1957653,"reputation":374,"user_id":1760261,"display_name":"tmandry"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1377180335,"creation_date":1377180335,"answer_id":18382779,"question_id":2201925,"body_markdown":"Another very simple way to parse ISO8601 timestamps is to use  `org.apache.commons.lang.time.DateUtils`:\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    import java.text.ParseException;\r\n    import java.util.Date;\r\n    import org.apache.commons.lang.time.DateUtils;\r\n    import org.junit.Test;\r\n\r\n    public class ISO8601TimestampFormatTest {\r\n      @Test\r\n      public void parse() throws ParseException {\r\n        Date date = DateUtils.parseDate(&quot;2010-01-01T12:00:00+01:00&quot;, new String[]{ &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZZ&quot; });\r\n        assertEquals(&quot;Fri Jan 01 12:00:00 CET 2010&quot;, date.toString());\r\n      }\r\n    }\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>Another very simple way to parse ISO8601 timestamps is to use  <code>org.apache.commons.lang.time.DateUtils</code>:</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport java.text.ParseException;\nimport java.util.Date;\nimport org.apache.commons.lang.time.DateUtils;\nimport org.junit.Test;\n\npublic class ISO8601TimestampFormatTest {\n  @Test\n  public void parse() throws ParseException {\n    Date date = DateUtils.parseDate(\"2010-01-01T12:00:00+01:00\", new String[]{ \"yyyy-MM-dd'T'HH:mm:ssZZ\" });\n    assertEquals(\"Fri Jan 01 12:00:00 CET 2010\", date.toString());\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1034566,"reputation":1593,"user_id":1042202,"display_name":"Vojta"},"score":2,"creation_date":1454942148,"post_id":19104498,"comment_id":58255825,"body_markdown":"`Z` in format string is not ISO 8601 time zone, you should use `X` (or `XX` or `XXX`) if you want ISO 8601 time zone","body":"<code>Z</code> in format string is not ISO 8601 time zone, you should use <code>X</code> (or <code>XX</code> or <code>XXX</code>) if you want ISO 8601 time zone"},{"owner":{"account_id":464466,"reputation":3004,"user_id":867998,"display_name":"Tim Child"},"score":0,"creation_date":1478108579,"post_id":19104498,"comment_id":68024549,"body_markdown":"d  is of type String","body":"d  is of type String"}],"tags":[],"owner":{"account_id":3374313,"reputation":92,"user_id":2832796,"display_name":"Eesha"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1469698108,"creation_date":1380577847,"answer_id":19104498,"question_id":2201925,"body_markdown":"SimpleDateFormat for JAVA 1.7 has a cool pattern for ISO 8601 format.\r\n\r\n[Class SimpleDateFormat](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#iso8601timezone)\r\n\r\nHere is what I did:\r\n\r\n    Date d = new SimpleDateFormat( &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;,\r\n             Locale.ENGLISH).format(System.currentTimeMillis());\r\n\t\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>SimpleDateFormat for JAVA 1.7 has a cool pattern for ISO 8601 format.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#iso8601timezone\" rel=\"nofollow\">Class SimpleDateFormat</a></p>\n\n<p>Here is what I did:</p>\n\n<pre><code>Date d = new SimpleDateFormat( \"yyyy-MM-dd'T'HH:mm:ss.SSSZ\",\n         Locale.ENGLISH).format(System.currentTimeMillis());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":2,"creation_date":1632789685,"post_id":20578792,"comment_id":122582866,"body_markdown":"I don&#39;t think this is helpful, as it does not parse ISO 8601 dates, only a very specific subset. For example, `java.time.OffsetDateTime.parse ( &quot;2010-01-01&quot; )` fails","body":"I don&#39;t think this is helpful, as it does not parse ISO 8601 dates, only a very specific subset. For example, <code>java.time.OffsetDateTime.parse ( &quot;2010-01-01&quot; )</code> fails"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632805264,"post_id":20578792,"comment_id":122585229,"body_markdown":"@phil294 All of the *java.time* classes parse ISO 8601 standard format inputs as appropriate to each class. Your example of `&quot;2010-01-01&quot;` is a date alone, so will be parsed by the date-only class, `LocalDate`. Ex: `LocalDate.parse( &quot;2010-01-01&quot; )`. Your example class of `OffsetDateTime` is for a date, with a time-of-day, with an offset (a number of hours-minutes-seconds ahead/behind UTC). So `OffsetDateTime` parses ISO 8601 formatted inputs with a date, a time, and an offset. Ex: `OffsetDateTime.parse( &quot;2010-01-01T12:30:00-08:00&quot; )`. [Run code live at IdeOne.com](https://ideone.com/SiqcZl).","body":"@phil294 All of the <i>java.time</i> classes parse ISO 8601 standard format inputs as appropriate to each class. Your example of <code>&quot;2010-01-01&quot;</code> is a date alone, so will be parsed by the date-only class, <code>LocalDate</code>. Ex: <code>LocalDate.parse( &quot;2010-01-01&quot; )</code>. Your example class of <code>OffsetDateTime</code> is for a date, with a time-of-day, with an offset (a number of hours-minutes-seconds ahead/behind UTC). So <code>OffsetDateTime</code> parses ISO 8601 formatted inputs with a date, a time, and an offset. Ex: <code>OffsetDateTime.parse( &quot;2010-01-01T12:30:00-08:00&quot; )</code>. <a href=\"https://ideone.com/SiqcZl\" rel=\"nofollow noreferrer\">Run code live at IdeOne.com</a>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":1,"up_vote_count":77,"is_accepted":false,"score":76,"last_activity_date":1667250576,"creation_date":1386985696,"answer_id":20578792,"question_id":2201925,"body_markdown":"# tl;dr\r\n\r\n    OffsetDateTime.parse ( &quot;2010-01-01T12:00:00+01:00&quot; )\r\n\r\nOr for Java 12+, use `Instant.parse` as seen in the [Answer by Arvind Kumar Avinash](https://stackoverflow.com/a/74256999/642706). \r\n\r\n# Using java.time\r\n\r\nThe new [java.time][1] package in Java 8 and later was inspired by Joda-Time. \r\n\r\nThe `OffsetDateTime` class represents a moment on the timeline with an [offset-from-UTC][2] but not a time zone.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.parse ( &quot;2010-01-01T12:00:00+01:00&quot; );\r\n\r\nCalling `toString` generates a string in standard ISO 8601 format:\r\n\r\n&gt;2010-01-01T12:00+01:00\r\n\r\nTo see the same value through the lens of UTC, extract an `Instant` or adjust the offset from `+01:00` to `00:00`.\r\n\r\n    Instant instant = odt.toInstant();  \r\n\r\n…or…\r\n\r\n    OffsetDateTime odtUtc = odt.withOffsetSameInstant( ZoneOffset.UTC );\r\n\r\nAdjust into a time zone if desired. A [time zone][3] is a history of [offset-from-UTC][2] values for a region, with a set of rules for handling anomalies such as Daylight Saving Time (DST). So apply a time zone rather than a mere offset whenever possible.\r\n\r\n    ZonedDateTime zonedDateTimeMontr&#233;al = odt.atZoneSameInstant( ZoneId.of( &quot;America/Montreal&quot; ) );\r\n\r\n\r\nFor a date-only value, use [`LocalDate`][4].\r\n\r\n    LocalDate ld = LocalDate.of( 2010 , Month.JANUARY , 1 ) ;\r\n\r\nOr:\r\n\r\n    LocalDate ld = LocalDate.parse( &quot;2010-01-01&quot; ) ;\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [3]: https://en.wikipedia.org/wiki/Time_zone\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<h1>tl;dr</h1>\n<pre><code>OffsetDateTime.parse ( &quot;2010-01-01T12:00:00+01:00&quot; )\n</code></pre>\n<p>Or for Java 12+, use <code>Instant.parse</code> as seen in the <a href=\"https://stackoverflow.com/a/74256999/642706\">Answer by Arvind Kumar Avinash</a>.</p>\n<h1>Using java.time</h1>\n<p>The new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package in Java 8 and later was inspired by Joda-Time.</p>\n<p>The <code>OffsetDateTime</code> class represents a moment on the timeline with an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a> but not a time zone.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.parse ( &quot;2010-01-01T12:00:00+01:00&quot; );\n</code></pre>\n<p>Calling <code>toString</code> generates a string in standard ISO 8601 format:</p>\n<blockquote>\n<p>2010-01-01T12:00+01:00</p>\n</blockquote>\n<p>To see the same value through the lens of UTC, extract an <code>Instant</code> or adjust the offset from <code>+01:00</code> to <code>00:00</code>.</p>\n<pre><code>Instant instant = odt.toInstant();  \n</code></pre>\n<p>…or…</p>\n<pre><code>OffsetDateTime odtUtc = odt.withOffsetSameInstant( ZoneOffset.UTC );\n</code></pre>\n<p>Adjust into a time zone if desired. A <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">time zone</a> is a history of <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a> values for a region, with a set of rules for handling anomalies such as Daylight Saving Time (DST). So apply a time zone rather than a mere offset whenever possible.</p>\n<pre><code>ZonedDateTime zonedDateTimeMontréal = odt.atZoneSameInstant( ZoneId.of( &quot;America/Montreal&quot; ) );\n</code></pre>\n<p>For a date-only value, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2010 , Month.JANUARY , 1 ) ;\n</code></pre>\n<p>Or:</p>\n<pre><code>LocalDate ld = LocalDate.parse( &quot;2010-01-01&quot; ) ;\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1476861356,"post_id":20579022,"comment_id":67519308,"body_markdown":"This Answer about JSON is off-topic from the Question. Furthermore, this Question is incorrect as there is no such thing as a “JSON date” amongst the very few [JSON data types](https://en.wikipedia.org/wiki/JSON#Data_types.2C_syntax_and_example). And nowadays, all this code can be replaced with a single-line call to built-in Java feature: `Instant.parse( &quot;2013-12-14T01:55:33.412Z&quot; )`","body":"This Answer about JSON is off-topic from the Question. Furthermore, this Question is incorrect as there is no such thing as a “JSON date” amongst the very few <a href=\"https://en.wikipedia.org/wiki/JSON#Data_types.2C_syntax_and_example\" rel=\"nofollow noreferrer\">JSON data types</a>. And nowadays, all this code can be replaced with a single-line call to built-in Java feature: <code>Instant.parse( &quot;2013-12-14T01:55:33.412Z&quot; )</code>"}],"tags":[],"owner":{"account_id":3432851,"reputation":1818,"user_id":2876739,"display_name":"RickHigh"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1386989314,"creation_date":1386987959,"answer_id":20579022,"question_id":2201925,"body_markdown":"I think what a lot of people want to do is parse JSON date strings. There is a good chance if you come to this page that you might want to convert a JavaScript JSON date to a Java date.\r\n\r\nTo show what a JSON date string looks like:\r\n\r\n\r\n        var d=new Date();\r\n        var s = JSON.stringify(d);\r\n\r\n        document.write(s);\r\n        document.write(&quot;&lt;br /&gt;&quot;+d);\r\n\r\n\r\n        &quot;2013-12-14T01:55:33.412Z&quot;\r\n        Fri Dec 13 2013 17:55:33 GMT-0800 (PST)\r\n\r\nThe JSON date string is 2013-12-14T01:55:33.412Z.\r\n\r\nDates are not covered by JSON spec per say, but the above is a very specific ISO 8601 format, while ISO_8601 is much much bigger and that is a mere subset albeit a very important one.\r\n\r\nSee http://www.json.org\r\nSee http://en.wikipedia.org/wiki/ISO_8601\r\nSee http://www.w3.org/TR/NOTE-datetime\r\n\r\n\r\nAs it happens I wrote a JSON parser and a PLIST parser both of which use ISO-8601 but not the same bits.\r\n\r\n    /*\r\n        var d=new Date();\r\n        var s = JSON.stringify(d);\r\n\r\n        document.write(s);\r\n        document.write(&quot;&lt;br /&gt;&quot;+d);\r\n\r\n\r\n        &quot;2013-12-14T01:55:33.412Z&quot;\r\n        Fri Dec 13 2013 17:55:33 GMT-0800 (PST)\r\n\r\n\r\n     */\r\n    @Test\r\n    public void jsonJavaScriptDate() {\r\n        String test =  &quot;2013-12-14T01:55:33.412Z&quot;;\r\n\r\n        Date date = Dates.fromJsonDate ( test );\r\n        Date date2 = Dates.fromJsonDate_ ( test );\r\n\r\n        assertEquals(date2.toString (), &quot;&quot; + date);\r\n\r\n        puts (date);\r\n    }\r\n\r\nI wrote two ways to do this for my project. One standard, one fast.\r\n\r\nAgain, JSON date string is a very specific implementation of ISO 8601....\r\n\r\n(I posted the other one in the other answer which should work for PLIST dates, which are a different ISO 8601 format).\r\n\r\nThe JSON date is as follows:\r\n\r\n    public static Date fromJsonDate_( String string ) {\r\n\r\n        try {\r\n\r\n            return new SimpleDateFormat ( &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;).parse ( string );\r\n        } catch ( ParseException e ) {\r\n            return Exceptions.handle (Date.class, &quot;Not a valid JSON date&quot;, e);\r\n        }\r\n\r\n\r\n    }\r\n\r\nPLIST files (ASCII non GNUNext) also uses ISO 8601 but no miliseconds so... not all ISO-8601 dates are the same. (At least I have not found one that uses milis yet and the parser I have seen skip the timezone altogether OMG).\r\n\r\nNow for the fast version (you can find it in Boon).\r\n\r\n\r\n    public static Date fromJsonDate( String string ) {\r\n\r\n        return fromJsonDate ( Reflection.toCharArray ( string ), 0, string.length () );\r\n\r\n    }\r\n\r\nNote that Reflection.toCharArray uses unsafe if available but defaults to string.toCharArray if not.\r\n\r\n(You can take it out of the example by replacing Reflection.toCharArray ( string ) with string.toCharArray()).\r\n\r\n    public static Date fromJsonDate( char[] charArray, int from, int to ) {\r\n\r\n        if (isJsonDate ( charArray, from, to )) {\r\n            int year = CharScanner.parseIntFromTo ( charArray, from + 0, from + 4 );\r\n            int month = CharScanner.parseIntFromTo ( charArray,  from +5,  from +7 );\r\n            int day = CharScanner.parseIntFromTo ( charArray,  from +8,  from +10 );\r\n            int hour = CharScanner.parseIntFromTo ( charArray,  from +11,  from +13 );\r\n\r\n            int minute = CharScanner.parseIntFromTo ( charArray,  from +14,  from +16 );\r\n\r\n            int second = CharScanner.parseIntFromTo ( charArray,  from +17,  from +19 );\r\n\r\n            int miliseconds = CharScanner.parseIntFromTo ( charArray,  from +20,  from +23 );\r\n\r\n            TimeZone tz = TimeZone.getTimeZone ( &quot;GMT&quot; );\r\n\r\n\r\n            return toDate ( tz, year, month, day, hour, minute, second, miliseconds );\r\n\r\n        }   else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\nThe isJsonDate is implemented as follows:\r\n\r\n\r\n    public static boolean isJsonDate( char[] charArray, int start, int to ) {\r\n        boolean valid = true;\r\n        final int length = to -start;\r\n\r\n        if (length != JSON_TIME_LENGTH) {\r\n            return false;\r\n        }\r\n\r\n        valid &amp;=  (charArray [ start + 19 ]  == &#39;.&#39;);\r\n\r\n        if (!valid) {\r\n            return false;\r\n        }\r\n\r\n\r\n        valid &amp;=  (charArray[  start +4 ]  == &#39;-&#39;) &amp;&amp;\r\n                (charArray[  start +7 ]  == &#39;-&#39;) &amp;&amp;\r\n                (charArray[  start +10 ] == &#39;T&#39;) &amp;&amp;\r\n                (charArray[  start +13 ] == &#39;:&#39;) &amp;&amp;\r\n                (charArray[  start +16 ] == &#39;:&#39;);\r\n\r\n        return valid;\r\n    }\r\n\r\nAnyway... my guess is that quite a few people who come here.. might be looking for the JSON Date String and although it is an ISO-8601 date, it is a very specific one that needs a very specific parse.\r\n\r\n\r\n    public static int parseIntFromTo ( char[] digitChars, int offset, int to ) {\r\n        int num = digitChars[ offset ] - &#39;0&#39;;\r\n        if ( ++offset &lt; to ) {\r\n            num = ( num * 10 ) + ( digitChars[ offset ] - &#39;0&#39; );\r\n            if ( ++offset &lt; to ) {\r\n                num = ( num * 10 ) + ( digitChars[ offset ] - &#39;0&#39; );\r\n                if ( ++offset &lt; to ) {\r\n                    num = ( num * 10 ) + ( digitChars[ offset ] - &#39;0&#39; );\r\n                    if ( ++offset &lt; to ) {\r\n                        num = ( num * 10 ) + ( digitChars[ offset ] - &#39;0&#39; );\r\n                        if ( ++offset &lt; to ) {\r\n                            num = ( num * 10 ) + ( digitChars[ offset ] - &#39;0&#39; );\r\n                            if ( ++offset &lt; to ) {\r\n                                num = ( num * 10 ) + ( digitChars[ offset ] - &#39;0&#39; );\r\n                                if ( ++offset &lt; to ) {\r\n                                    num = ( num * 10 ) + ( digitChars[ offset ] - &#39;0&#39; );\r\n                                    if ( ++offset &lt; to ) {\r\n                                        num = ( num * 10 ) + ( digitChars[ offset ] - &#39;0&#39; );\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return num;\r\n    }\r\n\r\n\r\nSee https://github.com/RichardHightower/boon\r\nBoon has a PLIST parser (ASCII) and a JSON parser. \r\n\r\nThe JSON parser is the fastest Java JSON parser that I know of. \r\n\r\nIndependently verified by the Gatling Performance dudes.\r\n\r\nhttps://github.com/gatling/json-parsers-benchmark\r\n\r\n\r\n\r\n    Benchmark                               Mode Thr     Count  Sec         Mean   Mean error        Units\r\n    BoonCharArrayBenchmark.roundRobin      thrpt  16        10    1   724815,875    54339,825    ops/s\r\n    JacksonObjectBenchmark.roundRobin      thrpt  16        10    1   580014,875   145097,700    ops/s\r\n    JsonSmartBytesBenchmark.roundRobin     thrpt  16        10    1   575548,435    64202,618    ops/s\r\n    JsonSmartStringBenchmark.roundRobin    thrpt  16        10    1   541212,220    45144,815    ops/s\r\n    GSONStringBenchmark.roundRobin         thrpt  16        10    1   522947,175    65572,427    ops/s\r\n    BoonDirectBytesBenchmark.roundRobin    thrpt  16        10    1   521528,912    41366,197    ops/s\r\n    JacksonASTBenchmark.roundRobin         thrpt  16        10    1   512564,205   300704,545    ops/s\r\n    GSONReaderBenchmark.roundRobin         thrpt  16        10    1   446322,220    41327,496    ops/s\r\n    JsonSmartStreamBenchmark.roundRobin    thrpt  16        10    1   276399,298   130055,340    ops/s\r\n    JsonSmartReaderBenchmark.roundRobin    thrpt  16        10    1    86789,825    17690,031    ops/s\r\n\r\n\r\nIt has the fastest JSON parser for streams, readers, bytes[], char[], CharSequence (StringBuilder, CharacterBuffer), and String.\r\n\r\nSee more benchmarks at:\r\n\r\nhttps://github.com/RichardHightower/json-parsers-benchmark\r\n\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>I think what a lot of people want to do is parse JSON date strings. There is a good chance if you come to this page that you might want to convert a JavaScript JSON date to a Java date.</p>\n\n<p>To show what a JSON date string looks like:</p>\n\n<pre><code>    var d=new Date();\n    var s = JSON.stringify(d);\n\n    document.write(s);\n    document.write(\"&lt;br /&gt;\"+d);\n\n\n    \"2013-12-14T01:55:33.412Z\"\n    Fri Dec 13 2013 17:55:33 GMT-0800 (PST)\n</code></pre>\n\n<p>The JSON date string is 2013-12-14T01:55:33.412Z.</p>\n\n<p>Dates are not covered by JSON spec per say, but the above is a very specific ISO 8601 format, while ISO_8601 is much much bigger and that is a mere subset albeit a very important one.</p>\n\n<p>See <a href=\"http://www.json.org\" rel=\"nofollow\">http://www.json.org</a>\nSee <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow\">http://en.wikipedia.org/wiki/ISO_8601</a>\nSee <a href=\"http://www.w3.org/TR/NOTE-datetime\" rel=\"nofollow\">http://www.w3.org/TR/NOTE-datetime</a></p>\n\n<p>As it happens I wrote a JSON parser and a PLIST parser both of which use ISO-8601 but not the same bits.</p>\n\n<pre><code>/*\n    var d=new Date();\n    var s = JSON.stringify(d);\n\n    document.write(s);\n    document.write(\"&lt;br /&gt;\"+d);\n\n\n    \"2013-12-14T01:55:33.412Z\"\n    Fri Dec 13 2013 17:55:33 GMT-0800 (PST)\n\n\n */\n@Test\npublic void jsonJavaScriptDate() {\n    String test =  \"2013-12-14T01:55:33.412Z\";\n\n    Date date = Dates.fromJsonDate ( test );\n    Date date2 = Dates.fromJsonDate_ ( test );\n\n    assertEquals(date2.toString (), \"\" + date);\n\n    puts (date);\n}\n</code></pre>\n\n<p>I wrote two ways to do this for my project. One standard, one fast.</p>\n\n<p>Again, JSON date string is a very specific implementation of ISO 8601....</p>\n\n<p>(I posted the other one in the other answer which should work for PLIST dates, which are a different ISO 8601 format).</p>\n\n<p>The JSON date is as follows:</p>\n\n<pre><code>public static Date fromJsonDate_( String string ) {\n\n    try {\n\n        return new SimpleDateFormat ( \"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\").parse ( string );\n    } catch ( ParseException e ) {\n        return Exceptions.handle (Date.class, \"Not a valid JSON date\", e);\n    }\n\n\n}\n</code></pre>\n\n<p>PLIST files (ASCII non GNUNext) also uses ISO 8601 but no miliseconds so... not all ISO-8601 dates are the same. (At least I have not found one that uses milis yet and the parser I have seen skip the timezone altogether OMG).</p>\n\n<p>Now for the fast version (you can find it in Boon).</p>\n\n<pre><code>public static Date fromJsonDate( String string ) {\n\n    return fromJsonDate ( Reflection.toCharArray ( string ), 0, string.length () );\n\n}\n</code></pre>\n\n<p>Note that Reflection.toCharArray uses unsafe if available but defaults to string.toCharArray if not.</p>\n\n<p>(You can take it out of the example by replacing Reflection.toCharArray ( string ) with string.toCharArray()).</p>\n\n<pre><code>public static Date fromJsonDate( char[] charArray, int from, int to ) {\n\n    if (isJsonDate ( charArray, from, to )) {\n        int year = CharScanner.parseIntFromTo ( charArray, from + 0, from + 4 );\n        int month = CharScanner.parseIntFromTo ( charArray,  from +5,  from +7 );\n        int day = CharScanner.parseIntFromTo ( charArray,  from +8,  from +10 );\n        int hour = CharScanner.parseIntFromTo ( charArray,  from +11,  from +13 );\n\n        int minute = CharScanner.parseIntFromTo ( charArray,  from +14,  from +16 );\n\n        int second = CharScanner.parseIntFromTo ( charArray,  from +17,  from +19 );\n\n        int miliseconds = CharScanner.parseIntFromTo ( charArray,  from +20,  from +23 );\n\n        TimeZone tz = TimeZone.getTimeZone ( \"GMT\" );\n\n\n        return toDate ( tz, year, month, day, hour, minute, second, miliseconds );\n\n    }   else {\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>The isJsonDate is implemented as follows:</p>\n\n<pre><code>public static boolean isJsonDate( char[] charArray, int start, int to ) {\n    boolean valid = true;\n    final int length = to -start;\n\n    if (length != JSON_TIME_LENGTH) {\n        return false;\n    }\n\n    valid &amp;=  (charArray [ start + 19 ]  == '.');\n\n    if (!valid) {\n        return false;\n    }\n\n\n    valid &amp;=  (charArray[  start +4 ]  == '-') &amp;&amp;\n            (charArray[  start +7 ]  == '-') &amp;&amp;\n            (charArray[  start +10 ] == 'T') &amp;&amp;\n            (charArray[  start +13 ] == ':') &amp;&amp;\n            (charArray[  start +16 ] == ':');\n\n    return valid;\n}\n</code></pre>\n\n<p>Anyway... my guess is that quite a few people who come here.. might be looking for the JSON Date String and although it is an ISO-8601 date, it is a very specific one that needs a very specific parse.</p>\n\n<pre><code>public static int parseIntFromTo ( char[] digitChars, int offset, int to ) {\n    int num = digitChars[ offset ] - '0';\n    if ( ++offset &lt; to ) {\n        num = ( num * 10 ) + ( digitChars[ offset ] - '0' );\n        if ( ++offset &lt; to ) {\n            num = ( num * 10 ) + ( digitChars[ offset ] - '0' );\n            if ( ++offset &lt; to ) {\n                num = ( num * 10 ) + ( digitChars[ offset ] - '0' );\n                if ( ++offset &lt; to ) {\n                    num = ( num * 10 ) + ( digitChars[ offset ] - '0' );\n                    if ( ++offset &lt; to ) {\n                        num = ( num * 10 ) + ( digitChars[ offset ] - '0' );\n                        if ( ++offset &lt; to ) {\n                            num = ( num * 10 ) + ( digitChars[ offset ] - '0' );\n                            if ( ++offset &lt; to ) {\n                                num = ( num * 10 ) + ( digitChars[ offset ] - '0' );\n                                if ( ++offset &lt; to ) {\n                                    num = ( num * 10 ) + ( digitChars[ offset ] - '0' );\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return num;\n}\n</code></pre>\n\n<p>See <a href=\"https://github.com/RichardHightower/boon\" rel=\"nofollow\">https://github.com/RichardHightower/boon</a>\nBoon has a PLIST parser (ASCII) and a JSON parser. </p>\n\n<p>The JSON parser is the fastest Java JSON parser that I know of. </p>\n\n<p>Independently verified by the Gatling Performance dudes.</p>\n\n<p><a href=\"https://github.com/gatling/json-parsers-benchmark\" rel=\"nofollow\">https://github.com/gatling/json-parsers-benchmark</a></p>\n\n<pre><code>Benchmark                               Mode Thr     Count  Sec         Mean   Mean error        Units\nBoonCharArrayBenchmark.roundRobin      thrpt  16        10    1   724815,875    54339,825    ops/s\nJacksonObjectBenchmark.roundRobin      thrpt  16        10    1   580014,875   145097,700    ops/s\nJsonSmartBytesBenchmark.roundRobin     thrpt  16        10    1   575548,435    64202,618    ops/s\nJsonSmartStringBenchmark.roundRobin    thrpt  16        10    1   541212,220    45144,815    ops/s\nGSONStringBenchmark.roundRobin         thrpt  16        10    1   522947,175    65572,427    ops/s\nBoonDirectBytesBenchmark.roundRobin    thrpt  16        10    1   521528,912    41366,197    ops/s\nJacksonASTBenchmark.roundRobin         thrpt  16        10    1   512564,205   300704,545    ops/s\nGSONReaderBenchmark.roundRobin         thrpt  16        10    1   446322,220    41327,496    ops/s\nJsonSmartStreamBenchmark.roundRobin    thrpt  16        10    1   276399,298   130055,340    ops/s\nJsonSmartReaderBenchmark.roundRobin    thrpt  16        10    1    86789,825    17690,031    ops/s\n</code></pre>\n\n<p>It has the fastest JSON parser for streams, readers, bytes[], char[], CharSequence (StringBuilder, CharacterBuffer), and String.</p>\n\n<p>See more benchmarks at:</p>\n\n<p><a href=\"https://github.com/RichardHightower/json-parsers-benchmark\" rel=\"nofollow\">https://github.com/RichardHightower/json-parsers-benchmark</a></p>\n"},{"comments":[{"owner":{"account_id":97993,"reputation":90071,"user_id":265521,"accept_rate":58,"display_name":"Timmmm"},"score":0,"creation_date":1439305843,"post_id":22939886,"comment_id":51800960,"body_markdown":"This means the timezone is *required*. According to ISO 8601 it is optional. As are the seconds, etc. So this only parses a specific subset of ISO 8601.","body":"This means the timezone is <i>required</i>. According to ISO 8601 it is optional. As are the seconds, etc. So this only parses a specific subset of ISO 8601."},{"owner":{"account_id":3079693,"reputation":604,"user_id":2608208,"accept_rate":78,"display_name":"Thiago Pereira"},"score":3,"creation_date":1471019183,"post_id":22939886,"comment_id":65201859,"body_markdown":"Works great with Java 1.8","body":"Works great with Java 1.8"}],"tags":[],"owner":{"account_id":301761,"reputation":9652,"user_id":609707,"display_name":"d.danailov"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1396966828,"creation_date":1396966828,"answer_id":22939886,"question_id":2201925,"body_markdown":"For Java version 7\r\n\r\nYou can follow Oracle documentation: \r\nhttp://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n\r\nX - is used for ISO 8601 time zone\r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;);\r\n    df.setTimeZone(tz);\r\n    String nowAsISO = df.format(new Date());\r\n    \t\t\r\n    System.out.println(nowAsISO);\r\n    \t\t\r\n    DateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;);\r\n    //nowAsISO = &quot;2013-05-31T00:00:00Z&quot;;\r\n    Date finalResult = df1.parse(nowAsISO);\r\n    \r\n    System.out.println(finalResult);","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>For Java version 7</p>\n\n<p>You can follow Oracle documentation: \n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a></p>\n\n<p>X - is used for ISO 8601 time zone</p>\n\n<pre><code>TimeZone tz = TimeZone.getTimeZone(\"UTC\");\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssX\");\ndf.setTimeZone(tz);\nString nowAsISO = df.format(new Date());\n\nSystem.out.println(nowAsISO);\n\nDateFormat df1 = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssX\");\n//nowAsISO = \"2013-05-31T00:00:00Z\";\nDate finalResult = df1.parse(nowAsISO);\n\nSystem.out.println(finalResult);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1476861830,"post_id":24848607,"comment_id":67519566,"body_markdown":"The input strings in the Question have only an offset-from-UTC, not a full time zone. So `Instant` and `ZonedDateTime` are appropriate here, not `ZonedDateTime`.","body":"The input strings in the Question have only an offset-from-UTC, not a full time zone. So <code>Instant</code> and <code>ZonedDateTime</code> are appropriate here, not <code>ZonedDateTime</code>."}],"tags":[],"owner":{"account_id":4773584,"reputation":91,"user_id":3857457,"display_name":"Martin Rust"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1405875548,"creation_date":1405843994,"answer_id":24848607,"question_id":2201925,"body_markdown":"# java.time\r\n\r\nNote that in Java 8, you can use the [java.time.ZonedDateTime][1] class and its static `parse(CharSequence text)` method.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<h1>java.time</h1>\n\n<p>Note that in Java 8, you can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\">java.time.ZonedDateTime</a> class and its static <code>parse(CharSequence text)</code> method.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":15,"creation_date":1418634079,"post_id":27479533,"comment_id":43393868,"body_markdown":"This answer is working too hard. A java.util.Date by definition has no time zone. So no need for all that time zone related code: the `LocalDateTime` and `ZoneId` and `atZone`. This simple one-liner will do: `java.util.Date date = Date.from( ZonedDateTime.parse( &quot;2014-12-12T10:39:40Z&quot; ).toInstant() );`","body":"This answer is working too hard. A java.util.Date by definition has no time zone. So no need for all that time zone related code: the <code>LocalDateTime</code> and <code>ZoneId</code> and <code>atZone</code>. This simple one-liner will do: <code>java.util.Date date = Date.from( ZonedDateTime.parse( &quot;2014-12-12T10:39:40Z&quot; ).toInstant() );</code>"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1418638758,"post_id":27479533,"comment_id":43396216,"body_markdown":"@BasilBourque Thanks, I knew going via LocalDateTime was wrong but couldn&#39;t find the quick way, answer updated.","body":"@BasilBourque Thanks, I knew going via LocalDateTime was wrong but couldn&#39;t find the quick way, answer updated."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":7,"creation_date":1447441638,"post_id":27479533,"comment_id":55171952,"body_markdown":"@BasilBourque This is unnecessarily complicated: `Date.from(Instant.parse(&quot;2014-12-12T10:39:40Z&quot; ));` is enough.","body":"@BasilBourque This is unnecessarily complicated: <code>Date.from(Instant.parse(&quot;2014-12-12T10:39:40Z&quot; ));</code> is enough."},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":7,"creation_date":1447442010,"post_id":27479533,"comment_id":55172158,"body_markdown":"@assylias you are correct but that will only work when the date string is UTC zone, ISO8601 allows any timezone...","body":"@assylias you are correct but that will only work when the date string is UTC zone, ISO8601 allows any timezone..."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1447442302,"post_id":27479533,"comment_id":55172300,"body_markdown":"@Adam My bad - I hadn&#39;t realised the question was more general than your example. As a side comment an `OffsetDateTime` would be enough to parse ISO8601 (which does not contain time zone information but only an offset).","body":"@Adam My bad - I hadn&#39;t realised the question was more general than your example. As a side comment an <code>OffsetDateTime</code> would be enough to parse ISO8601 (which does not contain time zone information but only an offset)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1447453581,"post_id":27479533,"comment_id":55177709,"body_markdown":"@assylias Thanks for your comment about letting `Instant` do the parsing. While not sufficient for this particular Question, it is an important distinction worth pointing out. So I added a second example of code. Oops, just noticed this is not originally my Answer; I hope Adam approves.","body":"@assylias Thanks for your comment about letting <code>Instant</code> do the parsing. While not sufficient for this particular Question, it is an important distinction worth pointing out. So I added a second example of code. Oops, just noticed this is not originally my Answer; I hope Adam approves."},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1447478008,"post_id":27479533,"comment_id":55182863,"body_markdown":"@BasilBourque yes I was planning to update answer in a similar way,  you&#39;ve saved me a job,  thanks","body":"@BasilBourque yes I was planning to update answer in a similar way,  you&#39;ve saved me a job,  thanks"},{"owner":{"account_id":17043956,"reputation":995,"user_id":12331220,"display_name":"Anupam Haldkar"},"score":0,"creation_date":1697196073,"post_id":27479533,"comment_id":136252638,"body_markdown":"You have saved a lot of time, appreciate your answer.","body":"You have saved a lot of time, appreciate your answer."}],"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"comment_count":8,"down_vote_count":1,"up_vote_count":152,"is_accepted":false,"score":151,"last_activity_date":1693934817,"creation_date":1418629938,"answer_id":27479533,"question_id":2201925,"body_markdown":"java.time\r\n------\r\nThe [java.time API][1] (built into Java 8 and later), makes this a little easier.\r\n\r\nIf you know the input is in [UTC][2], such as the `Z` (for Zulu) on the end, the [`Instant`][3] class can parse.\r\n\r\n```java\r\nDate date = Date.from(Instant.parse(&quot;2014-12-12T10:39:40Z&quot;));\r\n```\r\n\r\nIf your input may be another [offset-from-UTC][5] values rather than [UTC][2] indicated by the `Z` (Zulu) on the end, use the [`OffsetDateTime`][7] class to parse. \r\n\r\n```java\r\nOffsetDateTime odt = OffsetDateTime.parse(&quot;2010-01-01T12:00:00+01:00&quot;);\r\n```\r\n\r\nThen extract an [`Instant`][3], and  convert to a [`java.util.Date`][6] by calling [`from`][4].\r\n\r\n```java\r\nInstant instant = odt.toInstant(); // Instant is always in UTC.\r\nDate date = Date.from(instant);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [5]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<h2>java.time</h2>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time API</a> (built into Java 8 and later), makes this a little easier.</p>\n<p>If you know the input is in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>, such as the <code>Z</code> (for Zulu) on the end, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class can parse.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date date = Date.from(Instant.parse(&quot;2014-12-12T10:39:40Z&quot;));\n</code></pre>\n<p>If your input may be another <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a> values rather than <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> indicated by the <code>Z</code> (Zulu) on the end, use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> class to parse.</p>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime odt = OffsetDateTime.parse(&quot;2010-01-01T12:00:00+01:00&quot;);\n</code></pre>\n<p>Then extract an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>, and  convert to a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a> by calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#from\" rel=\"nofollow noreferrer\"><code>from</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant instant = odt.toInstant(); // Instant is always in UTC.\nDate date = Date.from(instant);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9462758,"reputation":139,"user_id":7036065,"display_name":"Vincent Engel"},"score":0,"creation_date":1586336519,"post_id":27940189,"comment_id":108088477,"body_markdown":"deprecated: Use com.fasterxml.jackson.databind.util.StdDateFormat instead","body":"deprecated: Use com.fasterxml.jackson.databind.util.StdDateFormat instead"}],"tags":[],"owner":{"account_id":5623798,"reputation":91,"user_id":4452808,"display_name":"Sergey Palyukh"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1469698216,"creation_date":1421229639,"answer_id":27940189,"question_id":2201925,"body_markdown":"Also you can use the following class - \r\n \r\n    org.springframework.extensions.surf.util.ISO8601DateFormat\r\n\r\n   \r\n    Date date = ISO8601DateFormat.parse(&quot;date in iso8601&quot;);\r\n\r\nLink to the Java Doc - [Hierarchy For Package org.springframework.extensions.surf.maven.plugin.util](http://www.springsurf.org/sites/1.0.0.M3/apidocs/index.html?org/springframework/extensions/surf/maven/plugin/util/package-tree.html)","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>Also you can use the following class - </p>\n\n<pre><code>org.springframework.extensions.surf.util.ISO8601DateFormat\n\n\nDate date = ISO8601DateFormat.parse(\"date in iso8601\");\n</code></pre>\n\n<p>Link to the Java Doc - <a href=\"http://www.springsurf.org/sites/1.0.0.M3/apidocs/index.html?org/springframework/extensions/surf/maven/plugin/util/package-tree.html\" rel=\"nofollow\">Hierarchy For Package org.springframework.extensions.surf.maven.plugin.util</a></p>\n"},{"tags":[],"owner":{"account_id":1150902,"reputation":4090,"user_id":1132647,"accept_rate":100,"display_name":"Matt Accola"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434776472,"creation_date":1434776472,"answer_id":30950442,"question_id":2201925,"body_markdown":"As others have mentioned Android does not have a good way to support parsing/formatting ISO 8601 dates using classes included in the SDK.  I have written this code multiple times so I finally created a Gist that includes a DateUtils class that supports formatting and parsing ISO 8601 and RFC 1123 dates.  The Gist also includes a test case showing what it supports.\r\n\r\nhttps://gist.github.com/mraccola/702330625fad8eebe7d3","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>As others have mentioned Android does not have a good way to support parsing/formatting ISO 8601 dates using classes included in the SDK.  I have written this code multiple times so I finally created a Gist that includes a DateUtils class that supports formatting and parsing ISO 8601 and RFC 1123 dates.  The Gist also includes a test case showing what it supports.</p>\n\n<p><a href=\"https://gist.github.com/mraccola/702330625fad8eebe7d3\" rel=\"nofollow\">https://gist.github.com/mraccola/702330625fad8eebe7d3</a></p>\n"},{"comments":[{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1457643151,"post_id":31335734,"comment_id":59512481,"body_markdown":"Just what I needed without having to use joda-time, XML api or anything else. Just the correct pattern.","body":"Just what I needed without having to use joda-time, XML api or anything else. Just the correct pattern."}],"tags":[],"owner":{"account_id":4746227,"reputation":5178,"user_id":3837522,"accept_rate":50,"display_name":"Abhay Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1436519126,"creation_date":1436516157,"answer_id":31335734,"question_id":2201925,"body_markdown":"I faced the **same** problem and solved it by the following code .\r\n\r\n     public static Calendar getCalendarFromISO(String datestring) {\r\n        Calendar calendar = Calendar.getInstance(TimeZone.getDefault(), Locale.getDefault()) ;\r\n        SimpleDateFormat dateformat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.getDefault());\r\n        try {\r\n            Date date = dateformat.parse(datestring);\r\n            date.setHours(date.getHours() - 1);\r\n            calendar.setTime(date);\r\n\r\n            String test = dateformat.format(calendar.getTime());\r\n            Log.e(&quot;TEST_TIME&quot;, test);\r\n\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return calendar;\r\n    }\r\n\r\nEarlier I was using\r\n`SimpleDateFormat dateformat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;, Locale.getDefault());`\r\n\r\nBut later i found the main cause of the exception was the `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ` ,\r\n\r\nSo i used \r\n\r\n`SimpleDateFormat dateformat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.getDefault());` \r\n\r\nIt worked fine for me .","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>I faced the <strong>same</strong> problem and solved it by the following code .</p>\n\n<pre><code> public static Calendar getCalendarFromISO(String datestring) {\n    Calendar calendar = Calendar.getInstance(TimeZone.getDefault(), Locale.getDefault()) ;\n    SimpleDateFormat dateformat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", Locale.getDefault());\n    try {\n        Date date = dateformat.parse(datestring);\n        date.setHours(date.getHours() - 1);\n        calendar.setTime(date);\n\n        String test = dateformat.format(calendar.getTime());\n        Log.e(\"TEST_TIME\", test);\n\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n    return calendar;\n}\n</code></pre>\n\n<p>Earlier I was using\n<code>SimpleDateFormat dateformat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\", Locale.getDefault());</code></p>\n\n<p>But later i found the main cause of the exception was the <code>yyyy-MM-dd'T'HH:mm:ss.SSSZ</code> ,</p>\n\n<p>So i used </p>\n\n<p><code>SimpleDateFormat dateformat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", Locale.getDefault());</code> </p>\n\n<p>It worked fine for me .</p>\n"},{"tags":[],"owner":{"account_id":2006624,"reputation":13947,"user_id":1796345,"accept_rate":75,"display_name":"gturri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454088657,"creation_date":1454088657,"answer_id":35090529,"question_id":2201925,"body_markdown":"I had a similar need: I needed to be able to parse any date ISO8601 compliant without knowing the exact format in advance, and I wanted a lightweight solution which would also work on Android.\r\n\r\nWhen I googled my needs I stumbled upon this question, and noticed that AFAIU, no answer completely fit my needs. So I developed [jISO8601 ][1] and pushed it on maven central.\r\n\r\nJust add in you `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;fr.turri&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jISO8601&lt;/artifactId&gt;\r\n      &lt;version&gt;0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand then you&#39;re good to go:\r\n\r\n    import fr.turri.jiso8601.*;\r\n    ...\r\n    Calendar cal = Iso8601Deserializer.toCalendar(&quot;1985-03-04&quot;);\r\n    Date date = Iso8601Deserializer.toDate(&quot;1985-03-04T12:34:56Z&quot;);\r\n\r\nHopes it help.\r\n\r\n\r\n  [1]: https://github.com/gturri/jISO8601","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>I had a similar need: I needed to be able to parse any date ISO8601 compliant without knowing the exact format in advance, and I wanted a lightweight solution which would also work on Android.</p>\n\n<p>When I googled my needs I stumbled upon this question, and noticed that AFAIU, no answer completely fit my needs. So I developed <a href=\"https://github.com/gturri/jISO8601\" rel=\"nofollow\">jISO8601 </a> and pushed it on maven central.</p>\n\n<p>Just add in you <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;fr.turri&lt;/groupId&gt;\n  &lt;artifactId&gt;jISO8601&lt;/artifactId&gt;\n  &lt;version&gt;0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and then you're good to go:</p>\n\n<pre><code>import fr.turri.jiso8601.*;\n...\nCalendar cal = Iso8601Deserializer.toCalendar(\"1985-03-04\");\nDate date = Iso8601Deserializer.toDate(\"1985-03-04T12:34:56Z\");\n</code></pre>\n\n<p>Hopes it help.</p>\n"},{"tags":[],"owner":{"account_id":3941390,"reputation":3,"user_id":3255644,"display_name":"ekip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476023360,"creation_date":1476022862,"answer_id":39944627,"question_id":2201925,"body_markdown":"To just format a date like this the following worked for me in a Java 6 based application. There is a `DateFormat` class `JacksonThymeleafISO8601DateFormat` in the thymeleaf project which inserts the missing colon:\r\n\r\nhttps://github.com/thymeleaf/thymeleaf/blob/40d27f44df7b52eda47d1bc6f1b3012add6098b3/src/main/java/org/thymeleaf/standard/serializer/StandardJavaScriptSerializer.java\r\n\r\nI used it for ECMAScript date format compatibilty.","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>To just format a date like this the following worked for me in a Java 6 based application. There is a <code>DateFormat</code> class <code>JacksonThymeleafISO8601DateFormat</code> in the thymeleaf project which inserts the missing colon:</p>\n\n<p><a href=\"https://github.com/thymeleaf/thymeleaf/blob/40d27f44df7b52eda47d1bc6f1b3012add6098b3/src/main/java/org/thymeleaf/standard/serializer/StandardJavaScriptSerializer.java\" rel=\"nofollow\">https://github.com/thymeleaf/thymeleaf/blob/40d27f44df7b52eda47d1bc6f1b3012add6098b3/src/main/java/org/thymeleaf/standard/serializer/StandardJavaScriptSerializer.java</a></p>\n\n<p>I used it for ECMAScript date format compatibilty.</p>\n"},{"tags":[],"owner":{"account_id":9287937,"reputation":327,"user_id":6897197,"display_name":"yinhaomin"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476860670,"creation_date":1476860670,"answer_id":40124419,"question_id":2201925,"body_markdown":"Do it like this:\r\n\r\n    public static void main(String[] args) throws ParseException {\r\n\r\n        String dateStr = &quot;2016-10-19T14:15:36+08:00&quot;;\r\n        Date date = javax.xml.bind.DatatypeConverter.parseDateTime(dateStr).getTime();\r\n\r\n        System.out.println(date);\r\n\r\n    }\r\nHere is the output:\r\n\r\nWed Oct 19 15:15:36 CST 2016\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>Do it like this:</p>\n\n<pre><code>public static void main(String[] args) throws ParseException {\n\n    String dateStr = \"2016-10-19T14:15:36+08:00\";\n    Date date = javax.xml.bind.DatatypeConverter.parseDateTime(dateStr).getTime();\n\n    System.out.println(date);\n\n}\n</code></pre>\n\n<p>Here is the output:</p>\n\n<p>Wed Oct 19 15:15:36 CST 2016</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1494949381,"post_id":43997852,"comment_id":75040181,"body_markdown":"No, the troublesome old date-time classes such as `Date` and `SimpleDateFormat` are poorly designed, confusing, and flawed. They are now legacy, supplanted by the java.time classes built into Java 8 and later. For Java 6 and Java 7, much of the java.time functionality is back-ported in the [ThreeTen-Backport](http://www.threeten.org/threetenbp/) project. Much better to add that library to your app than use those legacy classes. One-line solution in java.time: `OffsetDateTime.parse( &quot;2010-01-01T12:00:00+01:00&quot; )`","body":"No, the troublesome old date-time classes such as <code>Date</code> and <code>SimpleDateFormat</code> are poorly designed, confusing, and flawed. They are now legacy, supplanted by the java.time classes built into Java 8 and later. For Java 6 and Java 7, much of the java.time functionality is back-ported in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> project. Much better to add that library to your app than use those legacy classes. One-line solution in java.time: <code>OffsetDateTime.parse( &quot;2010-01-01T12:00:00+01:00&quot; )</code>"}],"tags":[],"owner":{"account_id":3647677,"reputation":1533,"user_id":3040498,"accept_rate":62,"display_name":"Khang .NT"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1494927739,"creation_date":1494927739,"answer_id":43997852,"question_id":2201925,"body_markdown":"The workaround for Java 7+ is using SimpleDateFormat:  \r\n`DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, Locale.US);`  \r\n\r\nThis code can parse ISO8601 format like:  \r\n\r\n -  `2017-05-17T06:01:43.785Z`\r\n -  `2017-05-13T02:58:21.391+01:00`\r\n\r\nBut on Java6, `SimpleDateFormat` doesn&#39;t understand `X` character and will throw  \r\n`IllegalArgumentException: Unknown pattern character &#39;X&#39;`  \r\nWe need to normalize ISO8601 date to the format readable in Java 6 with `SimpleDateFormat`.\r\n\r\n    public static Date iso8601Format(String formattedDate) throws ParseException {\r\n        try {\r\n            DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, Locale.US);\r\n            return df.parse(formattedDate);\r\n        } catch (IllegalArgumentException ex) {\r\n            // error happen in Java 6: Unknown pattern character &#39;X&#39;\r\n            if (formattedDate.endsWith(&quot;Z&quot;)) formattedDate = formattedDate.replace(&quot;Z&quot;, &quot;+0000&quot;);\r\n            else formattedDate = formattedDate.replaceAll(&quot;([+-]\\\\d\\\\d):(\\\\d\\\\d)\\\\s*$&quot;, &quot;$1$2&quot;);\r\n            DateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;, Locale.US);\r\n            return df1.parse(formattedDate);\r\n        }\r\n    }\r\n\r\nMethod above to replace [`Z` with `+0000`] or [`+01:00` with `+0100`] when error occurs in Java 6 (you can detect Java version and replace try/catch with if statement).","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>The workaround for Java 7+ is using SimpleDateFormat:<br>\n<code>DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSX\", Locale.US);</code>  </p>\n\n<p>This code can parse ISO8601 format like:  </p>\n\n<ul>\n<li><code>2017-05-17T06:01:43.785Z</code></li>\n<li><code>2017-05-13T02:58:21.391+01:00</code></li>\n</ul>\n\n<p>But on Java6, <code>SimpleDateFormat</code> doesn't understand <code>X</code> character and will throw<br>\n<code>IllegalArgumentException: Unknown pattern character 'X'</code><br>\nWe need to normalize ISO8601 date to the format readable in Java 6 with <code>SimpleDateFormat</code>.</p>\n\n<pre><code>public static Date iso8601Format(String formattedDate) throws ParseException {\n    try {\n        DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSX\", Locale.US);\n        return df.parse(formattedDate);\n    } catch (IllegalArgumentException ex) {\n        // error happen in Java 6: Unknown pattern character 'X'\n        if (formattedDate.endsWith(\"Z\")) formattedDate = formattedDate.replace(\"Z\", \"+0000\");\n        else formattedDate = formattedDate.replaceAll(\"([+-]\\\\d\\\\d):(\\\\d\\\\d)\\\\s*$\", \"$1$2\");\n        DateFormat df1 = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\", Locale.US);\n        return df1.parse(formattedDate);\n    }\n}\n</code></pre>\n\n<p>Method above to replace [<code>Z</code> with <code>+0000</code>] or [<code>+01:00</code> with <code>+0100</code>] when error occurs in Java 6 (you can detect Java version and replace try/catch with if statement).</p>\n"},{"tags":[],"owner":{"account_id":7798259,"reputation":1411,"user_id":5898626,"accept_rate":74,"display_name":"Stepan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500389855,"creation_date":1500389855,"answer_id":45170363,"question_id":2201925,"body_markdown":"Use string like \r\n`LocalDate.parse(((String) data.get(&quot;d_iso8601&quot;)),DateTimeFormatter.ISO_DATE)`","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>Use string like \n<code>LocalDate.parse(((String) data.get(\"d_iso8601\")),DateTimeFormatter.ISO_DATE)</code></p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1523207074,"post_id":46196239,"comment_id":86453905,"body_markdown":"`OffsetDateTime` will do and conceptually matches a date-time with an offset better.","body":"<code>OffsetDateTime</code> will do and conceptually matches a date-time with an offset better."},{"owner":{"account_id":140373,"reputation":2438,"user_id":346629,"accept_rate":55,"display_name":"Daniel Winterstein"},"score":0,"creation_date":1523293292,"post_id":46196239,"comment_id":86490345,"body_markdown":"Hey @OleV.V. thanks for the suggestion. Sadly no: OffsetDateTime.parse() will throw an exception for several valid ISO 8601 strings, e.g. &quot;2017-09-13T10:36:40+01&quot; or &quot;2017-09-13&quot;","body":"Hey @OleV.V. thanks for the suggestion. Sadly no: OffsetDateTime.parse() will throw an exception for several valid ISO 8601 strings, e.g. &quot;2017-09-13T10:36:40+01&quot; or &quot;2017-09-13&quot;"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1523296538,"post_id":46196239,"comment_id":86492179,"body_markdown":"I only meant to say that `OffsetDateTime` handles the examples that you handle with `ZonedDateTime`. I believe that it doesn’t handle any of the examples that `ZonedDateTime` doesn’t. In that sense it’s no improvement (but also no worse). Sorry, I wasn’t perfectly clear.","body":"I only meant to say that <code>OffsetDateTime</code> handles the examples that you handle with <code>ZonedDateTime</code>. I believe that it doesn’t handle any of the examples that <code>ZonedDateTime</code> doesn’t. In that sense it’s no improvement (but also no worse). Sorry, I wasn’t perfectly clear."},{"owner":{"account_id":1623805,"reputation":1467,"user_id":2639700,"accept_rate":50,"display_name":"slashCoder"},"score":1,"creation_date":1581620615,"post_id":46196239,"comment_id":106507411,"body_markdown":"This should be the accepted answer in 2020, given the state of things.","body":"This should be the accepted answer in 2020, given the state of things."}],"tags":[],"owner":{"account_id":140373,"reputation":2438,"user_id":346629,"accept_rate":55,"display_name":"Daniel Winterstein"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1505301774,"creation_date":1505301774,"answer_id":46196239,"question_id":2201925,"body_markdown":"Java has a dozen different ways to parse a date-time, as the excellent answers here demonstrate. But somewhat amazingly, none of Java&#39;s time classes fully implement ISO 8601!\r\n\r\nWith Java 8, I&#39;d recommend:\r\n\r\n    ZonedDateTime zp = ZonedDateTime.parse(string);\r\n    Date date = Date.from(zp.toInstant());\r\n\r\nThat will handle examples both in UTC and with an offset, like &quot;2017-09-13T10:36:40Z&quot; or &quot;2017-09-13T10:36:40+01:00&quot;. It will do for most use cases.\r\n\r\nBut it won&#39;t handle examples like &quot;2017-09-13T10:36:40+01&quot;, which _is_ a valid ISO 8601 date-time.   \r\nIt also won&#39;t handle date only, e.g. &quot;2017-09-13&quot;.\r\n\r\nIf you have to handle those, I&#39;d suggest using a regex first to sniff the syntax.\r\n\r\nThere&#39;s a nice list of ISO 8601 examples here with lots of corner cases: https://www.myintervals.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/ I&#39;m not aware of any Java class that could cope with all of them.","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>Java has a dozen different ways to parse a date-time, as the excellent answers here demonstrate. But somewhat amazingly, none of Java's time classes fully implement ISO 8601!</p>\n\n<p>With Java 8, I'd recommend:</p>\n\n<pre><code>ZonedDateTime zp = ZonedDateTime.parse(string);\nDate date = Date.from(zp.toInstant());\n</code></pre>\n\n<p>That will handle examples both in UTC and with an offset, like \"2017-09-13T10:36:40Z\" or \"2017-09-13T10:36:40+01:00\". It will do for most use cases.</p>\n\n<p>But it won't handle examples like \"2017-09-13T10:36:40+01\", which <em>is</em> a valid ISO 8601 date-time.<br>\nIt also won't handle date only, e.g. \"2017-09-13\".</p>\n\n<p>If you have to handle those, I'd suggest using a regex first to sniff the syntax.</p>\n\n<p>There's a nice list of ISO 8601 examples here with lots of corner cases: <a href=\"https://www.myintervals.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/\" rel=\"noreferrer\">https://www.myintervals.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/</a> I'm not aware of any Java class that could cope with all of them.</p>\n"},{"comments":[{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":1,"creation_date":1602139126,"post_id":56400421,"comment_id":113626620,"body_markdown":"Half of those are not valid ISO-8601 date/times.  From wikipedia: `Either basic or extended formats may be used, but both date and time must use the same format`","body":"Half of those are not valid ISO-8601 date/times.  From wikipedia: <code>Either basic or extended formats may be used, but both date and time must use the same format</code>"}],"tags":[],"owner":{"account_id":3053378,"reputation":379,"user_id":2587521,"display_name":"raok1997"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559333780,"creation_date":1559328995,"answer_id":56400421,"question_id":2201925,"body_markdown":"I am surprised that not even one java library supports all ISO 8601 date formats as per https://en.wikipedia.org/wiki/ISO_8601. Joda DateTime was supporting most of them, but not all and hence I added custom logic to handle all of them. Here is my implementation.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.text.ParseException;\r\n    import java.util.Date;\r\n\r\n    import org.apache.commons.lang3.time.DateUtils;\r\n    import org.joda.time.DateTime;\r\n\r\n    public class ISO8601DateUtils {\r\n    \t\r\n    \t/**\r\n    \t * It parses all the date time formats from https://en.wikipedia.org/wiki/ISO_8601 and returns Joda DateTime.\r\n    \t * Zoda DateTime does not support dates of format 20190531T160233Z, and hence added custom logic to handle this using SimpleDateFormat.\r\n    \t * @param dateTimeString ISO 8601 date time string\r\n    \t * @return\r\n    \t */\r\n    \tpublic static DateTime parse(String dateTimeString) {\r\n    \t\ttry {\r\n    \t\t\treturn new DateTime( dateTimeString );\r\n    \t\t} catch(Exception e) {\r\n    \t\t\ttry {\r\n    \t\t\t\tDate dateTime = DateUtils.parseDate(dateTimeString, JODA_NOT_SUPPORTED_ISO_DATES);\r\n    \t\t\t\treturn new DateTime(dateTime.getTime());\r\n    \t\t\t} catch (ParseException e1) {\r\n    \t\t\t\tthrow new RuntimeException(String.format(&quot;Date %s could not be parsed to ISO date&quot;, dateTimeString));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n      \r\n      \tprivate static String[] JODA_NOT_SUPPORTED_ISO_DATES = new String[] {\r\n    \t\t\t// upto millis\r\n    \t\t\t&quot;yyyyMMdd&#39;T&#39;HHmmssSSS&#39;Z&#39;&quot;,\r\n    \t\t\t&quot;yyyyMMdd&#39;T&#39;HHmmssSSSZ&quot;,\r\n    \t\t\t&quot;yyyyMMdd&#39;T&#39;HHmmssSSSXXX&quot;,\r\n    \t\t\t\r\n    \t\t\t&quot;yyyy-MM-dd&#39;T&#39;HHmmssSSS&#39;Z&#39;&quot;,\r\n    \t\t\t&quot;yyyy-MM-dd&#39;T&#39;HHmmssSSSZ&quot;,\r\n    \t\t\t&quot;yyyy-MM-dd&#39;T&#39;HHmmssSSSXXX&quot;,\r\n    \t\t\t\r\n    \t\t\t// upto seconds\r\n    \t\t\t&quot;yyyyMMdd&#39;T&#39;HHmmss&#39;Z&#39;&quot;,\r\n    \t\t\t&quot;yyyyMMdd&#39;T&#39;HHmmssZ&quot;,\r\n    \t\t\t&quot;yyyyMMdd&#39;T&#39;HHmmssXXX&quot;,\r\n    \t\t\t\r\n    \t\t\t&quot;yyyy-MM-dd&#39;T&#39;HHmmss&#39;Z&#39;&quot;, \r\n    \t\t\t&quot;yyyy-MM-dd&#39;T&#39;HHmmssZ&quot;,\r\n    \t\t\t&quot;yyyy-MM-dd&#39;T&#39;HHmmssXXX&quot;,\r\n    \t\t\t\r\n    \t\t\t// upto minutes\r\n    \t\t\t&quot;yyyyMMdd&#39;T&#39;HHmm&#39;Z&#39;&quot;,\r\n    \t\t\t&quot;yyyyMMdd&#39;T&#39;HHmmZ&quot;,\r\n    \t\t\t&quot;yyyyMMdd&#39;T&#39;HHmmXXX&quot;,\r\n\r\n    \t\t\t&quot;yyyy-MM-dd&#39;T&#39;HHmm&#39;Z&#39;&quot;,\r\n    \t\t\t&quot;yyyy-MM-dd&#39;T&#39;HHmmZ&quot;,\r\n    \t\t\t&quot;yyyy-MM-dd&#39;T&#39;HHmmXXX&quot;,\r\n    \t\t\t\r\n    \t\t\t//upto hours is already supported by Joda DateTime\r\n    \t};\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>I am surprised that not even one java library supports all ISO 8601 date formats as per <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ISO_8601</a>. Joda DateTime was supporting most of them, but not all and hence I added custom logic to handle all of them. Here is my implementation.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.text.ParseException;\r\nimport java.util.Date;\r\n\r\nimport org.apache.commons.lang3.time.DateUtils;\r\nimport org.joda.time.DateTime;\r\n\r\npublic class ISO8601DateUtils {\r\n\t\r\n\t/**\r\n\t * It parses all the date time formats from https://en.wikipedia.org/wiki/ISO_8601 and returns Joda DateTime.\r\n\t * Zoda DateTime does not support dates of format 20190531T160233Z, and hence added custom logic to handle this using SimpleDateFormat.\r\n\t * @param dateTimeString ISO 8601 date time string\r\n\t * @return\r\n\t */\r\n\tpublic static DateTime parse(String dateTimeString) {\r\n\t\ttry {\r\n\t\t\treturn new DateTime( dateTimeString );\r\n\t\t} catch(Exception e) {\r\n\t\t\ttry {\r\n\t\t\t\tDate dateTime = DateUtils.parseDate(dateTimeString, JODA_NOT_SUPPORTED_ISO_DATES);\r\n\t\t\t\treturn new DateTime(dateTime.getTime());\r\n\t\t\t} catch (ParseException e1) {\r\n\t\t\t\tthrow new RuntimeException(String.format(\"Date %s could not be parsed to ISO date\", dateTimeString));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n  \r\n  \tprivate static String[] JODA_NOT_SUPPORTED_ISO_DATES = new String[] {\r\n\t\t\t// upto millis\r\n\t\t\t\"yyyyMMdd'T'HHmmssSSS'Z'\",\r\n\t\t\t\"yyyyMMdd'T'HHmmssSSSZ\",\r\n\t\t\t\"yyyyMMdd'T'HHmmssSSSXXX\",\r\n\t\t\t\r\n\t\t\t\"yyyy-MM-dd'T'HHmmssSSS'Z'\",\r\n\t\t\t\"yyyy-MM-dd'T'HHmmssSSSZ\",\r\n\t\t\t\"yyyy-MM-dd'T'HHmmssSSSXXX\",\r\n\t\t\t\r\n\t\t\t// upto seconds\r\n\t\t\t\"yyyyMMdd'T'HHmmss'Z'\",\r\n\t\t\t\"yyyyMMdd'T'HHmmssZ\",\r\n\t\t\t\"yyyyMMdd'T'HHmmssXXX\",\r\n\t\t\t\r\n\t\t\t\"yyyy-MM-dd'T'HHmmss'Z'\", \r\n\t\t\t\"yyyy-MM-dd'T'HHmmssZ\",\r\n\t\t\t\"yyyy-MM-dd'T'HHmmssXXX\",\r\n\t\t\t\r\n\t\t\t// upto minutes\r\n\t\t\t\"yyyyMMdd'T'HHmm'Z'\",\r\n\t\t\t\"yyyyMMdd'T'HHmmZ\",\r\n\t\t\t\"yyyyMMdd'T'HHmmXXX\",\r\n\r\n\t\t\t\"yyyy-MM-dd'T'HHmm'Z'\",\r\n\t\t\t\"yyyy-MM-dd'T'HHmmZ\",\r\n\t\t\t\"yyyy-MM-dd'T'HHmmXXX\",\r\n\t\t\t\r\n\t\t\t//upto hours is already supported by Joda DateTime\r\n\t};\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1567192352,"post_id":57723101,"comment_id":101904228,"body_markdown":"FYI, the terribly troublesome date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1567273341,"post_id":57723101,"comment_id":101919666,"body_markdown":"You are correct that `LocalDateTime` doesn’t handle summer time (DST) since it doesn’t handle a time zone at all. For that we need `ZonedDateTime`. Proposing `Date` and `SimpleDateFormat` is — IMHO bad.","body":"You are correct that <code>LocalDateTime</code> doesn’t handle summer time (DST) since it doesn’t handle a time zone at all. For that we need <code>ZonedDateTime</code>. Proposing <code>Date</code> and <code>SimpleDateFormat</code> is — IMHO bad."},{"owner":{"account_id":3865114,"reputation":35,"user_id":3201825,"display_name":"ddtxra"},"score":1,"creation_date":1567373798,"post_id":57723101,"comment_id":101936652,"body_markdown":"Indeed ZonedDateTime works. And java.time.Instant is also a good alternative to handle DST. I know that java.util.Date is deprecated and should not be used, but I was just answering the original question: How to convert a String in 8601 to java.util.date....","body":"Indeed ZonedDateTime works. And java.time.Instant is also a good alternative to handle DST. I know that java.util.Date is deprecated and should not be used, but I was just answering the original question: How to convert a String in 8601 to java.util.date...."}],"tags":[],"owner":{"account_id":3865114,"reputation":35,"user_id":3201825,"display_name":"ddtxra"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567153225,"creation_date":1567153225,"answer_id":57723101,"question_id":2201925,"body_markdown":"A little test that shows how to parse a date in ISO8601 and that LocalDateTime does not handle DSTs.\r\n\r\n```\r\n @Test\r\n    public void shouldHandleDaylightSavingTimes() throws ParseException {\r\n\r\n        //ISO8601 UTC date format\r\n        SimpleDateFormat utcFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n\r\n        // 1 hour of difference between 2 dates in UTC happening at the Daylight Saving Time\r\n        Date d1 = utcFormat.parse(&quot;2019-10-27T00:30:00.000Z&quot;);\r\n        Date d2 = utcFormat.parse(&quot;2019-10-27T01:30:00.000Z&quot;);\r\n\r\n        //Date 2 is before date 2\r\n        Assert.assertTrue(d1.getTime() &lt; d2.getTime());\r\n        // And there is 1 hour difference between the 2 dates\r\n        Assert.assertEquals(1000*60*60, d2.getTime() - d1.getTime());\r\n\r\n        //Print the dates in local time\r\n        SimpleDateFormat localFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm z Z&quot;, Locale.forLanguageTag(&quot;fr_CH&quot;));\r\n        localFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Zurich&quot;));\r\n\r\n        //Both dates are at 02h30 local time (because of DST), but one is CEST +0200 and the other CET +0100 (clock goes backwards)\r\n        Assert.assertEquals(&quot;2019-10-27 02:30 CEST +0200&quot;, localFormat.format(d1));\r\n        Assert.assertEquals(&quot;2019-10-27 02:30 CET +0100&quot;, localFormat.format(d2));\r\n\r\n        //Small test that shows that LocalDateTime does not handle DST (and should not be used for storing timeseries data)\r\n        LocalDateTime ld1 = LocalDateTime.ofInstant(d1.toInstant(), ZoneId.of(&quot;Europe/Zurich&quot;));\r\n        LocalDateTime ld2 = LocalDateTime.ofInstant(d2.toInstant(), ZoneId.of(&quot;Europe/Zurich&quot;));\r\n\r\n        //Note that a localdatetime does not handle DST, therefore the 2 dates are the same\r\n        Assert.assertEquals(ld1, ld2);\r\n\r\n        //They both have the following local values\r\n        Assert.assertEquals(2019, ld1.getYear());\r\n        Assert.assertEquals(27, ld1.getDayOfMonth());\r\n        Assert.assertEquals(10, ld1.getMonthValue());\r\n        Assert.assertEquals(2, ld1.getHour());\r\n        Assert.assertEquals(30, ld1.getMinute());\r\n        Assert.assertEquals(0, ld1.getSecond());\r\n\r\n    }\r\n```","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>A little test that shows how to parse a date in ISO8601 and that LocalDateTime does not handle DSTs.</p>\n\n<pre><code> @Test\n    public void shouldHandleDaylightSavingTimes() throws ParseException {\n\n        //ISO8601 UTC date format\n        SimpleDateFormat utcFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\");\n\n        // 1 hour of difference between 2 dates in UTC happening at the Daylight Saving Time\n        Date d1 = utcFormat.parse(\"2019-10-27T00:30:00.000Z\");\n        Date d2 = utcFormat.parse(\"2019-10-27T01:30:00.000Z\");\n\n        //Date 2 is before date 2\n        Assert.assertTrue(d1.getTime() &lt; d2.getTime());\n        // And there is 1 hour difference between the 2 dates\n        Assert.assertEquals(1000*60*60, d2.getTime() - d1.getTime());\n\n        //Print the dates in local time\n        SimpleDateFormat localFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm z Z\", Locale.forLanguageTag(\"fr_CH\"));\n        localFormat.setTimeZone(TimeZone.getTimeZone(\"Europe/Zurich\"));\n\n        //Both dates are at 02h30 local time (because of DST), but one is CEST +0200 and the other CET +0100 (clock goes backwards)\n        Assert.assertEquals(\"2019-10-27 02:30 CEST +0200\", localFormat.format(d1));\n        Assert.assertEquals(\"2019-10-27 02:30 CET +0100\", localFormat.format(d2));\n\n        //Small test that shows that LocalDateTime does not handle DST (and should not be used for storing timeseries data)\n        LocalDateTime ld1 = LocalDateTime.ofInstant(d1.toInstant(), ZoneId.of(\"Europe/Zurich\"));\n        LocalDateTime ld2 = LocalDateTime.ofInstant(d2.toInstant(), ZoneId.of(\"Europe/Zurich\"));\n\n        //Note that a localdatetime does not handle DST, therefore the 2 dates are the same\n        Assert.assertEquals(ld1, ld2);\n\n        //They both have the following local values\n        Assert.assertEquals(2019, ld1.getYear());\n        Assert.assertEquals(27, ld1.getDayOfMonth());\n        Assert.assertEquals(10, ld1.getMonthValue());\n        Assert.assertEquals(2, ld1.getHour());\n        Assert.assertEquals(30, ld1.getMinute());\n        Assert.assertEquals(0, ld1.getSecond());\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1581647869,"post_id":60214805,"comment_id":106515838,"body_markdown":"If the string is in the instant format, with trailing `Z` as offset, we don’t need to specify this explicitly. Just `Instant i = Instant.parse(s);`. The string in the question had `+01:00`, in which case `DateTimeFormatter.ISO_INSTANT` does not work (at least not on my Java 11).","body":"If the string is in the instant format, with trailing <code>Z</code> as offset, we don’t need to specify this explicitly. Just <code>Instant i = Instant.parse(s);</code>. The string in the question had <code>+01:00</code>, in which case <code>DateTimeFormatter.ISO_INSTANT</code> does not work (at least not on my Java 11)."},{"owner":{"account_id":6235075,"reputation":7453,"user_id":4850646,"accept_rate":83,"display_name":"Lucas Basquerotto"},"score":5,"creation_date":1584369017,"post_id":60214805,"comment_id":107408733,"body_markdown":"@OleV.V. You can use `ISO_OFFSET_DATE_TIME` to format dates with offsets, like `+01:00` (https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#predefined)","body":"@OleV.V. You can use <code>ISO_OFFSET_DATE_TIME</code> to format dates with offsets, like <code>+01:00</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#predefined\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a>)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1584369519,"post_id":60214805,"comment_id":107409001,"body_markdown":"That’s true, @LucasBasquerotto. Though not mentioning that formatter explicitly, the answers [by Adam](https://stackoverflow.com/a/27479533/5772882) and [by Basil Bourque](https://stackoverflow.com/a/20578792/5772882) already do something similar.","body":"That’s true, @LucasBasquerotto. Though not mentioning that formatter explicitly, the answers <a href=\"https://stackoverflow.com/a/27479533/5772882\">by Adam</a> and <a href=\"https://stackoverflow.com/a/20578792/5772882\">by Basil Bourque</a> already do something similar."},{"owner":{"account_id":12674915,"reputation":412,"user_id":9211085,"display_name":"Jose Solorzano"},"score":3,"creation_date":1591905021,"post_id":60214805,"comment_id":110240780,"body_markdown":"This cannot parse &quot;2020-06-01T14:34:00-05:00&quot; which is a string produced by Javascript&#39;s toISOString() method.","body":"This cannot parse &quot;2020-06-01T14:34:00-05:00&quot; which is a string produced by Javascript&#39;s toISOString() method."}],"tags":[],"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"comment_count":4,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1581620538,"creation_date":1581620538,"answer_id":60214805,"question_id":2201925,"body_markdown":"Starting from Java 8, there is a completely new officially supported way to do this:\r\n\r\n\t\tString s = &quot;2020-02-13T18:51:09.840Z&quot;;\r\n\t\tTemporalAccessor ta = DateTimeFormatter.ISO_INSTANT.parse(s);\r\n\t\tInstant i = Instant.from(ta);\r\n\t\tDate d = Date.from(i);","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>Starting from Java 8, there is a completely new officially supported way to do this:</p>\n\n<pre><code>    String s = \"2020-02-13T18:51:09.840Z\";\n    TemporalAccessor ta = DateTimeFormatter.ISO_INSTANT.parse(s);\n    Instant i = Instant.from(ta);\n    Date d = Date.from(i);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1595274199,"post_id":62974864,"comment_id":111412588,"body_markdown":"I think you’re right, it’s not exactly in the other answers. It’s still better if one can avoid `Date` completely since that class is poorly designed and long outdated. It’s better to use `ZonedDateTime.withZoneSameInstant()` for converting to one’s own time zone, for example. Only use this answer if you necessarily need a `Date` for a legacy API that you cannot afford to upgrade to java.time just now.","body":"I think you’re right, it’s not exactly in the other answers. It’s still better if one can avoid <code>Date</code> completely since that class is poorly designed and long outdated. It’s better to use <code>ZonedDateTime.withZoneSameInstant()</code> for converting to one’s own time zone, for example. Only use this answer if you necessarily need a <code>Date</code> for a legacy API that you cannot afford to upgrade to java.time just now."}],"tags":[],"owner":{"account_id":9056087,"reputation":766,"user_id":6744399,"display_name":"pavelety"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1595116268,"creation_date":1595116268,"answer_id":62974864,"question_id":2201925,"body_markdown":"**Java 8+**\r\n\r\nSimple one liner that I didn&#39;t found in answers:\r\n\r\n    Date date = Date.from(ZonedDateTime.parse(&quot;2010-01-01T12:00:00+01:00&quot;).toInstant());\r\n\r\nDate doesn&#39;t contain timezone, it will be stored in UTC, but will be properly converted to your JVM timezone even during simple output with `System.out.println(date)`.\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p><strong>Java 8+</strong></p>\n<p>Simple one liner that I didn't found in answers:</p>\n<pre><code>Date date = Date.from(ZonedDateTime.parse(&quot;2010-01-01T12:00:00+01:00&quot;).toInstant());\n</code></pre>\n<p>Date doesn't contain timezone, it will be stored in UTC, but will be properly converted to your JVM timezone even during simple output with <code>System.out.println(date)</code>.</p>\n"},{"comments":[{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":0,"creation_date":1612487537,"post_id":64536083,"comment_id":116789490,"body_markdown":"Seems like this is deprecated in jackson now","body":"Seems like this is deprecated in jackson now"},{"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"score":1,"creation_date":1612533666,"post_id":64536083,"comment_id":116803905,"body_markdown":"Tnx I will check it out","body":"Tnx I will check it out"},{"owner":{"account_id":460690,"reputation":507,"user_id":861952,"display_name":"Terry Horner"},"score":0,"creation_date":1618567790,"post_id":64536083,"comment_id":118646131,"body_markdown":"In version 2.8.6 this doesn&#39;t work with some ISO8601 formats, e.g.  2021-04-16T04:28:27.792909 or 2021-04-16T04:28:27.792909+15:0","body":"In version 2.8.6 this doesn&#39;t work with some ISO8601 formats, e.g.  2021-04-16T04:28:27.792909 or 2021-04-16T04:28:27.792909+15:0"},{"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"score":0,"creation_date":1619171794,"post_id":64536083,"comment_id":118829959,"body_markdown":"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/util/ISO8601Utils.html\ncheck out this documentation","body":"<a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/util/ISO8601Utils.html\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterx&zwnj;&#8203;ml/&hellip;</a> check out this documentation"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1655060262,"post_id":64536083,"comment_id":128235435,"body_markdown":"As the package name suggests, this is an *internal* class of Gson so you should not use it. If possible use one of the alternatives mentioned in the other answers.","body":"As the package name suggests, this is an <i>internal</i> class of Gson so you should not use it. If possible use one of the alternatives mentioned in the other answers."}],"tags":[],"owner":{"account_id":4646459,"reputation":1136,"user_id":3764602,"display_name":"mmdreza baqalpour"},"comment_count":5,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1603711040,"creation_date":1603711040,"answer_id":64536083,"question_id":2201925,"body_markdown":"After I searched a lot to convert ISO8601 to date I suddenly found a java class that is *ISO8601Util.java* and this was part of *com.google.gson.internal.bind.util*. \r\nSo you can use it to convert dates.\r\n\r\n    ISO8601Utils.parse(&quot;2010-01-01T12:00:00Z&quot; , ParsePosition(0))\r\nand you can simply use this kotlin extension function\r\n\r\n    fun String.getDateFromString() : Date? = ISO8601Utils.parse(this , \r\n    ParsePosition(0))\r\n","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>After I searched a lot to convert ISO8601 to date I suddenly found a java class that is <em>ISO8601Util.java</em> and this was part of <em>com.google.gson.internal.bind.util</em>.\nSo you can use it to convert dates.</p>\n<pre><code>ISO8601Utils.parse(&quot;2010-01-01T12:00:00Z&quot; , ParsePosition(0))\n</code></pre>\n<p>and you can simply use this kotlin extension function</p>\n<pre><code>fun String.getDateFromString() : Date? = ISO8601Utils.parse(this , \nParsePosition(0))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1622863450,"post_id":67845831,"comment_id":119920040,"body_markdown":"`LocalDateTime` is exactly the wrong class to use here. You are throwing away vital information, offset-from-UTC, without anything gained.","body":"<code>LocalDateTime</code> is exactly the wrong class to use here. You are throwing away vital information, offset-from-UTC, without anything gained."},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1622873542,"post_id":67845831,"comment_id":119921336,"body_markdown":"@OleV.V. yes thank you for the correction","body":"@OleV.V. yes thank you for the correction"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1625543635,"post_id":67845831,"comment_id":120647014,"body_markdown":"https://stackoverflow.com/a/68258560/9346054 I think best one for custom, not using instant UTC","body":"<a href=\"https://stackoverflow.com/a/68258560/9346054\">stackoverflow.com/a/68258560/9346054</a> I think best one for custom, not using instant UTC"}],"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623049477,"creation_date":1622861259,"answer_id":67845831,"question_id":2201925,"body_markdown":"When want to convert from UTC to format that we want. It will change depend on the zone/location we stay\r\n\r\n    //utcDate = &quot;2021-06-05T02:46:29Z&quot;\r\n    fun converterUtcToReadableDateTime(utcDate: String): String {\r\n        val offsetDateTime = OffsetDateTime.ofInstant(Instant.parse(utcDate), ZoneId.systemDefault())\r\n        val patternDate = &quot;dd MMM yyyy h:mm a&quot;\r\n        return DateTimeFormatter.ofPattern(patternDate).format(offsetDateTime)\r\n    }\r\n\r\n    fun converterUtcToReadableDate(utcDate: String): String {\r\n        val offsetDateTime = OffsetDateTime.ofInstant(Instant.parse(utcDate), ZoneId.systemDefault())\r\n        val patternDate = &quot;d MMM yyyy&quot;\r\n        return DateTimeFormatter.ofPattern(patternDate).format(offsetDateTime)\r\n    }\r\n\r\n    fun converterUtcToReadableTime(utcDate: String): String {\r\n        val offsetDateTime = OffsetDateTime.ofInstant(Instant.parse(utcDate), ZoneId.systemDefault())\r\n        val patternDate = &quot;h:mm a&quot;\r\n        return DateTimeFormatter.ofPattern(patternDate).format(offsetDateTime)\r\n    }","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>When want to convert from UTC to format that we want. It will change depend on the zone/location we stay</p>\n<pre><code>//utcDate = &quot;2021-06-05T02:46:29Z&quot;\nfun converterUtcToReadableDateTime(utcDate: String): String {\n    val offsetDateTime = OffsetDateTime.ofInstant(Instant.parse(utcDate), ZoneId.systemDefault())\n    val patternDate = &quot;dd MMM yyyy h:mm a&quot;\n    return DateTimeFormatter.ofPattern(patternDate).format(offsetDateTime)\n}\n\nfun converterUtcToReadableDate(utcDate: String): String {\n    val offsetDateTime = OffsetDateTime.ofInstant(Instant.parse(utcDate), ZoneId.systemDefault())\n    val patternDate = &quot;d MMM yyyy&quot;\n    return DateTimeFormatter.ofPattern(patternDate).format(offsetDateTime)\n}\n\nfun converterUtcToReadableTime(utcDate: String): String {\n    val offsetDateTime = OffsetDateTime.ofInstant(Instant.parse(utcDate), ZoneId.systemDefault())\n    val patternDate = &quot;h:mm a&quot;\n    return DateTimeFormatter.ofPattern(patternDate).format(offsetDateTime)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654007298,"post_id":72448510,"comment_id":127986526,"body_markdown":"I wonder what on Earth would keep you from using Java 8 features? An evil boss forcing you to use Java 5??","body":"I wonder what on Earth would keep you from using Java 8 features? An evil boss forcing you to use Java 5??"},{"owner":{"account_id":4418599,"reputation":1151,"user_id":3599375,"display_name":"VadzimV"},"score":1,"creation_date":1654159363,"post_id":72448510,"comment_id":128026496,"body_markdown":"I develop an SDK that targets Android API 21+. Java8 classes on Android have been available since API 24. As an SDK developer, I don&#39;t want to bring new dependencies like ThreeTenABP nor force SDK users to turn on desugaring in their applications. So I decided to suffer with `java.util.Date`.","body":"I develop an SDK that targets Android API 21+. Java8 classes on Android have been available since API 24. As an SDK developer, I don&#39;t want to bring new dependencies like ThreeTenABP nor force SDK users to turn on desugaring in their applications. So I decided to suffer with <code>java.util.Date</code>."}],"tags":[],"owner":{"account_id":4418599,"reputation":1151,"user_id":3599375,"display_name":"VadzimV"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654003030,"creation_date":1654003030,"answer_id":72448510,"question_id":2201925,"body_markdown":"I couldn&#39;t use Java 8 features, so only `java.util.Date` was available. I already had a dependency on gson library but didn&#39;t want to use `ISO8601Utils` directly. `ISO8601Utils` is an internal API, [gson&#39;s authors warns not to use it][1].\r\n\r\nI parsed a ISO8601 date using gson&#39;s public API:\r\n\r\n    fun parseISO8601DateToLocalTimeOrNull(date: String): Date? {\r\n        return try {\r\n            GsonBuilder()\r\n                .create()\r\n                .getAdapter(Date::class.java)\r\n                .fromJson(&quot;\\&quot;$date\\&quot;&quot;)\r\n         } catch (t: Throwable) {\r\n            null\r\n         }\r\n    }\r\n\r\nUnder the hood, the adapter still uses `ISO8601Utils`. But if you&#39;re using the adapter you can be sure that a different compatible version of gson won&#39;t break your project.\r\n\r\n \r\nI worried that creation of adapter may be slow so I measured execution time on Pixel 3a with `debuggable=false`.`parseISO8601DateToLocalTimeOrNull` took ~0.5 milliseconds to parse a date.\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/package-info.java","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>I couldn't use Java 8 features, so only <code>java.util.Date</code> was available. I already had a dependency on gson library but didn't want to use <code>ISO8601Utils</code> directly. <code>ISO8601Utils</code> is an internal API, <a href=\"https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/package-info.java\" rel=\"nofollow noreferrer\">gson's authors warns not to use it</a>.</p>\n<p>I parsed a ISO8601 date using gson's public API:</p>\n<pre><code>fun parseISO8601DateToLocalTimeOrNull(date: String): Date? {\n    return try {\n        GsonBuilder()\n            .create()\n            .getAdapter(Date::class.java)\n            .fromJson(&quot;\\&quot;$date\\&quot;&quot;)\n     } catch (t: Throwable) {\n        null\n     }\n}\n</code></pre>\n<p>Under the hood, the adapter still uses <code>ISO8601Utils</code>. But if you're using the adapter you can be sure that a different compatible version of gson won't break your project.</p>\n<p>I worried that creation of adapter may be slow so I measured execution time on Pixel 3a with <code>debuggable=false</code>.<code>parseISO8601DateToLocalTimeOrNull</code> took ~0.5 milliseconds to parse a date.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1667198184,"post_id":74256999,"comment_id":131105174,"body_markdown":"If one indispensably needs an old-fashioned `Date` for a legacy API, this is the modern and elegant solution. I can’t remember exactly from which Java version `Instant.parse(&quot;2010-01-01T12:00:00+01:00&quot;)` works with an offset other than `Z`?","body":"If one indispensably needs an old-fashioned <code>Date</code> for a legacy API, this is the modern and elegant solution. I can’t remember exactly from which Java version <code>Instant.parse(&quot;2010-01-01T12:00:00+01:00&quot;)</code> works with an offset other than <code>Z</code>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667249526,"post_id":74256999,"comment_id":131121284,"body_markdown":"I suggest changing your heading from &quot;TL;DR&quot;  to `Instant.parse`","body":"I suggest changing your heading from &quot;TL;DR&quot;  to <code>Instant.parse</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1667250249,"post_id":74256999,"comment_id":131121465,"body_markdown":"@OleV.V. The Javadoc for [`Instant.parse`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)) for Java 17 &amp; 19 still says the input must be in UTC. To quote: &quot;The string must represent a valid instant in UTC&quot;. However, the Javadoc for [`DateTimeFormatter.ISO_INSTANT`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT) says it will &quot;parse the offset, converting the instant to UTC&quot;. Seems Java 12 is the first Javadoc for `ISO_INSTANT` to mention parsing the offset.","body":"@OleV.V. The Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Instant.parse</code></a> for Java 17 &amp; 19 still says the input must be in UTC. To quote: &quot;The string must represent a valid instant in UTC&quot;. However, the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.ISO_INSTANT</code></a> says it will &quot;parse the offset, converting the instant to UTC&quot;. Seems Java 12 is the first Javadoc for <code>ISO_INSTANT</code> to mention parsing the offset."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667292596,"post_id":74256999,"comment_id":131128542,"body_markdown":"Thanks, @BasilBourque. Java 12 it is. Trying the code in Java 11 I do get `Text &#39;2010-01-01T12:00:00+01:00&#39; could not be parsed at index 19`. The ideone link demonstrates that it does work in Java 12.","body":"Thanks, @BasilBourque. Java 12 it is. Trying the code in Java 11 I do get <code>Text &#39;2010-01-01T12:00:00+01:00&#39; could not be parsed at index 19</code>. The ideone link demonstrates that it does work in Java 12."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667292670,"creation_date":1667166342,"answer_id":74256999,"question_id":2201925,"body_markdown":"# Java 12\r\n\r\nSince Java 12, [`Instant#parse`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)) can parse a date-time string containing time-zone offset.\r\n\r\n    Date dt = Date.from(Instant.parse(your-date-time-string));\r\n\r\nParse your [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formatted date-time strings using [`Instant#parse`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)) and convert the result into `java.util.Date` using [`Date#from`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html#from(java.time.Instant)). See this code [run at Ideone.com][1].\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.util.Date;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        Stream.of(\r\n            &quot;2010-01-01T12:00:00+01:00&quot;,\r\n            &quot;2010-01-01T12:00:00-01:00&quot;,\r\n            &quot;2010-01-01T12:00:00Z&quot;\r\n          )\r\n          .map(Instant::parse)\r\n          .map(Date::from)\r\n          .forEach(System.out::println);\r\n      }\r\n    }\r\n\r\nSee this code [run at Ideone.com][2].\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n  [1]: https://ideone.com/a7iuXF\r\n  [2]: https://ideone.com/6zJV4P","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<h1>Java 12</h1>\n<p>Since Java 12, <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Instant#parse</code></a> can parse a date-time string containing time-zone offset.</p>\n<pre><code>Date dt = Date.from(Instant.parse(your-date-time-string));\n</code></pre>\n<p>Parse your <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formatted date-time strings using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Instant#parse</code></a> and convert the result into <code>java.util.Date</code> using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html#from(java.time.Instant)\" rel=\"nofollow noreferrer\"><code>Date#from</code></a>. See this code <a href=\"https://ideone.com/a7iuXF\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.util.Date;\nimport java.util.stream.Stream;\n\npublic class Main {\n  public static void main(String[] args) {\n    Stream.of(\n        &quot;2010-01-01T12:00:00+01:00&quot;,\n        &quot;2010-01-01T12:00:00-01:00&quot;,\n        &quot;2010-01-01T12:00:00Z&quot;\n      )\n      .map(Instant::parse)\n      .map(Date::from)\n      .forEach(System.out::println);\n  }\n}\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/6zJV4P\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":52611,"reputation":9001,"user_id":157229,"accept_rate":62,"display_name":"Ice09"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862887,"favorite_count":0,"down_vote_count":1,"up_vote_count":803,"accepted_answer_id":2202300,"answer_count":31,"score":802,"last_activity_date":1693934817,"creation_date":1265305959,"question_id":2201925,"body_markdown":"I am trying to convert an [ISO 8601][1] formatted String to a `java.util.Date`. \r\n\r\nI found the pattern `yyyy-MM-dd&#39;T&#39;HH:mm:ssZ` to be ISO8601-compliant if used with a Locale (compare sample).\r\n\r\nHowever, using the `java.text.SimpleDateFormat`, I cannot convert the correctly formatted String `2010-01-01T12:00:00+01:00`. I have to convert it first to `2010-01-01T12:00:00+0100`, without the colon. \r\n\r\nSo, the current solution is\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    SimpleDateFormat ISO8601DATEFORMAT = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;, Locale.GERMANY);\r\n    String date = &quot;2010-01-01T12:00:00+01:00&quot;.replaceAll(&quot;\\\\+0([0-9]){1}\\\\:00&quot;, &quot;+0$100&quot;);\r\n    System.out.println(ISO8601DATEFORMAT.parse(date));\r\n\r\nwhich obviously isn&#39;t that nice. Am I missing something or is there a better solution?\r\n\r\n\r\n----------\r\n\r\n\r\n**Answer**\r\n\r\nThanks to JuanZe&#39;s comment, I found the [Joda-Time][2] magic, it is also [described here][3].\r\n\r\nSo, the solution is\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n     \r\n    DateTimeFormatter parser2 = ISODateTimeFormat.dateTimeNoMillis();\r\n    String jtdate = &quot;2010-01-01T12:00:00+01:00&quot;;\r\n    System.out.println(parser2.parseDateTime(jtdate));\r\n\r\nOr more simply, use the default parser via the constructor:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    DateTime dt = new DateTime( &quot;2010-01-01T12:00:00+01:00&quot; ) ;\r\n\r\nTo me, this is nice.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: http://www.joda.org/joda-time/\r\n  [3]: http://johannburkard.de/blog/programming/java/date-time-parsing-formatting-joda-time.html","title":"Converting ISO 8601-compliant String to java.util.Date","body":"<p>I am trying to convert an <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formatted String to a <code>java.util.Date</code>. </p>\n\n<p>I found the pattern <code>yyyy-MM-dd'T'HH:mm:ssZ</code> to be ISO8601-compliant if used with a Locale (compare sample).</p>\n\n<p>However, using the <code>java.text.SimpleDateFormat</code>, I cannot convert the correctly formatted String <code>2010-01-01T12:00:00+01:00</code>. I have to convert it first to <code>2010-01-01T12:00:00+0100</code>, without the colon. </p>\n\n<p>So, the current solution is</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat ISO8601DATEFORMAT = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\", Locale.GERMANY);\nString date = \"2010-01-01T12:00:00+01:00\".replaceAll(\"\\\\+0([0-9]){1}\\\\:00\", \"+0$100\");\nSystem.out.println(ISO8601DATEFORMAT.parse(date));\n</code></pre>\n\n<p>which obviously isn't that nice. Am I missing something or is there a better solution?</p>\n\n<hr>\n\n<p><strong>Answer</strong></p>\n\n<p>Thanks to JuanZe's comment, I found the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> magic, it is also <a href=\"http://johannburkard.de/blog/programming/java/date-time-parsing-formatting-joda-time.html\" rel=\"noreferrer\">described here</a>.</p>\n\n<p>So, the solution is</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter parser2 = ISODateTimeFormat.dateTimeNoMillis();\nString jtdate = \"2010-01-01T12:00:00+01:00\";\nSystem.out.println(parser2.parseDateTime(jtdate));\n</code></pre>\n\n<p>Or more simply, use the default parser via the constructor:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DateTime dt = new DateTime( \"2010-01-01T12:00:00+01:00\" ) ;\n</code></pre>\n\n<p>To me, this is nice.</p>\n"},{"tags":["java","html","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":27675486,"reputation":1,"user_id":21125400,"display_name":"Muhammed Mufeed"},"score":0,"creation_date":1693978297,"post_id":77046562,"comment_id":135829056,"body_markdown":"Its worked, Thank you so much","body":"Its worked, Thank you so much"},{"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"score":0,"creation_date":1693981334,"post_id":77046562,"comment_id":135829399,"body_markdown":"@MuhammedMufeed Great! Since it worked, could you please upvote my answer and mark it as accepted?","body":"@MuhammedMufeed Great! Since it worked, could you please upvote my answer and mark it as accepted?"}],"tags":[],"owner":{"account_id":15513088,"reputation":132,"user_id":11191394,"display_name":"Lorenzo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693934668,"creation_date":1693934668,"answer_id":77046562,"question_id":77046420,"body_markdown":"Spring doesn&#39;t recognize it&#39;s a RequestBody when using application/x-www-form-urlencoded.\r\n\r\nTry to remove @RequestBody annotation.","title":"Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; is not supported","body":"<p>Spring doesn't recognize it's a RequestBody when using application/x-www-form-urlencoded.</p>\n<p>Try to remove @RequestBody annotation.</p>\n"}],"owner":{"account_id":27675486,"reputation":1,"user_id":21125400,"display_name":"Muhammed Mufeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693934668,"creation_date":1693933201,"question_id":77046420,"body_markdown":"&gt; Resolved \\[org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; is not supported\\]\r\n\r\nI am getting this error when i tried to connect my spring boot application with a html file\r\n\r\n**entity class**\r\n\r\n```\r\npackage com.signup.page.signup.model;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class signUp {\r\n\t@Id\r\n\tprivate String email;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String password;\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\tpublic signUp(String firstName, String lastName, String email, String password) {\r\n\t\tsuper();\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t}\r\n\tpublic signUp() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n **repository class**\r\n\r\n```\r\npackage com.signup.page.signup.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.signup.page.signup.model.signUp;\r\n\r\n@Repository\r\npublic interface modelRepository extends JpaRepository&lt;signUp, String&gt;  {\r\n\r\n}\r\n```\r\n\r\n **service class**\r\n\r\n```\r\npackage com.signup.page.signup.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.signup.page.signup.model.signUp;\r\nimport com.signup.page.signup.repository.modelRepository;\r\n\r\n@Service\r\npublic class modelService {\r\n\t\r\n\tprivate final modelRepository ModelRepository;\r\n\r\n\tpublic modelService(modelRepository ModelRepository) {\r\n\t\t//super();\r\n\t\tthis.ModelRepository = ModelRepository;\r\n\t}\r\n\t\r\n\tpublic signUp registerUser(signUp SignUp) {\r\n\t\treturn ModelRepository.save(SignUp);\r\n\t\t\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\n **controller class**\r\n\r\n```\r\npackage com.signup.page.signup.controller;\r\n\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.signup.page.signup.model.signUp;\r\nimport com.signup.page.signup.service.modelService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/signup&quot;)\r\n\r\npublic class modelController {\r\n\t\r\n\tprivate final modelService ModelService;\r\n\r\n\tpublic modelController(modelService ModelService) {\r\n\t\t//super();\r\n\t\tthis.ModelService = ModelService;\r\n\t}\r\n\t\r\n\t@PostMapping(value=&quot;/register&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n\tpublic ResponseEntity&lt;signUp&gt; registerUser(@RequestBody signUp SignUp){\r\n\t\tsignUp registeredUser = ModelService.registerUser(SignUp);\r\n\t\treturn ResponseEntity.ok(registeredUser);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**HTML file**\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&#39;utf-8&#39;&gt;\r\n    &lt;meta http-equiv=&#39;X-UA-Compatible&#39; content=&#39;IE=edge&#39;&gt;\r\n    &lt;title&gt;SignUp&lt;/title&gt;\r\n    &lt;meta name=&#39;viewport&#39; content=&#39;width=device-width, initial-scale=1&#39;&gt;\r\n    &lt;link rel=&#39;stylesheet&#39; type=&#39;text/css&#39; media=&#39;screen&#39; href=&#39;main.css&#39;&gt;\r\n    &lt;script src=&#39;main.js&#39;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;form method=&quot;post&quot; action=&quot;/signup/register&quot; enctype=&quot;application/x-www-form-urlencoded&quot;&gt;&gt;\r\n    &lt;div class=&quot;signuppage&quot;&gt;\r\n        &lt;label for = &quot;firstName&quot;&gt;&lt;b&gt;First Name&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter First Name&quot; name=&quot;firstName&quot; required&gt;&lt;br&gt;\r\n\r\n        &lt;label for = &quot;lastName&quot;&gt;&lt;b&gt;Last Name&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter Last Name&quot; name=&quot;lastName&quot; required&gt;&lt;br&gt;\r\n\r\n        &lt;label for = &quot;email&quot;&gt;&lt;b&gt;Email&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter email&quot; name=&quot;email&quot; required&gt;&lt;br&gt;\r\n\r\n        &lt;label for = &quot;password&quot;&gt;&lt;b&gt;Password&lt;/b&gt;&lt;/label&gt;\r\n        &lt;input type=&quot;password&quot; placeholder=&quot;Enter Password&quot; name=&quot;password&quot; required&gt;&lt;br&gt;\r\n\r\n        &lt;button type = &quot;submit&quot;&gt;Sign Up&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;  \r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n```\r\nwhen i submit the form i am getting[36m.w.s.m.s.DefaultHandlerExceptionResolver[0;39m [2m:[0;39m Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; is not supported]\r\n```\r\n\r\nthis error\r\n\r\nHow can i solve this","title":"Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; is not supported","body":"<blockquote>\n<p>Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/x-www-form-urlencoded;charset=UTF-8' is not supported]</p>\n</blockquote>\n<p>I am getting this error when i tried to connect my spring boot application with a html file</p>\n<p><strong>entity class</strong></p>\n<pre><code>package com.signup.page.signup.model;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class signUp {\n    @Id\n    private String email;\n    private String firstName;\n    private String lastName;\n    private String password;\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    public signUp(String firstName, String lastName, String email, String password) {\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.password = password;\n    }\n    public signUp() {\n        super();\n    }\n    \n    \n}\n</code></pre>\n<p><strong>repository class</strong></p>\n<pre><code>package com.signup.page.signup.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.signup.page.signup.model.signUp;\n\n@Repository\npublic interface modelRepository extends JpaRepository&lt;signUp, String&gt;  {\n\n}\n</code></pre>\n<p><strong>service class</strong></p>\n<pre><code>package com.signup.page.signup.service;\n\nimport org.springframework.stereotype.Service;\n\nimport com.signup.page.signup.model.signUp;\nimport com.signup.page.signup.repository.modelRepository;\n\n@Service\npublic class modelService {\n    \n    private final modelRepository ModelRepository;\n\n    public modelService(modelRepository ModelRepository) {\n        //super();\n        this.ModelRepository = ModelRepository;\n    }\n    \n    public signUp registerUser(signUp SignUp) {\n        return ModelRepository.save(SignUp);\n        \n    }\n    \n\n}\n</code></pre>\n<p><strong>controller class</strong></p>\n<pre><code>package com.signup.page.signup.controller;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.signup.page.signup.model.signUp;\nimport com.signup.page.signup.service.modelService;\n\n@RestController\n@RequestMapping(&quot;/signup&quot;)\n\npublic class modelController {\n    \n    private final modelService ModelService;\n\n    public modelController(modelService ModelService) {\n        //super();\n        this.ModelService = ModelService;\n    }\n    \n    @PostMapping(value=&quot;/register&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n    public ResponseEntity&lt;signUp&gt; registerUser(@RequestBody signUp SignUp){\n        signUp registeredUser = ModelService.registerUser(SignUp);\n        return ResponseEntity.ok(registeredUser);\n    }\n\n}\n</code></pre>\n<p><strong>HTML file</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset='utf-8'&gt;\n    &lt;meta http-equiv='X-UA-Compatible' content='IE=edge'&gt;\n    &lt;title&gt;SignUp&lt;/title&gt;\n    &lt;meta name='viewport' content='width=device-width, initial-scale=1'&gt;\n    &lt;link rel='stylesheet' type='text/css' media='screen' href='main.css'&gt;\n    &lt;script src='main.js'&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form method=&quot;post&quot; action=&quot;/signup/register&quot; enctype=&quot;application/x-www-form-urlencoded&quot;&gt;&gt;\n    &lt;div class=&quot;signuppage&quot;&gt;\n        &lt;label for = &quot;firstName&quot;&gt;&lt;b&gt;First Name&lt;/b&gt;&lt;/label&gt;\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter First Name&quot; name=&quot;firstName&quot; required&gt;&lt;br&gt;\n\n        &lt;label for = &quot;lastName&quot;&gt;&lt;b&gt;Last Name&lt;/b&gt;&lt;/label&gt;\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter Last Name&quot; name=&quot;lastName&quot; required&gt;&lt;br&gt;\n\n        &lt;label for = &quot;email&quot;&gt;&lt;b&gt;Email&lt;/b&gt;&lt;/label&gt;\n        &lt;input type=&quot;text&quot; placeholder=&quot;Enter email&quot; name=&quot;email&quot; required&gt;&lt;br&gt;\n\n        &lt;label for = &quot;password&quot;&gt;&lt;b&gt;Password&lt;/b&gt;&lt;/label&gt;\n        &lt;input type=&quot;password&quot; placeholder=&quot;Enter Password&quot; name=&quot;password&quot; required&gt;&lt;br&gt;\n\n        &lt;button type = &quot;submit&quot;&gt;Sign Up&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;  \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<pre><code>when i submit the form i am getting[36m.w.s.m.s.DefaultHandlerExceptionResolver[0;39m [2m:[0;39m Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/x-www-form-urlencoded;charset=UTF-8' is not supported]\n</code></pre>\n<p>this error</p>\n<p>How can i solve this</p>\n"},{"tags":["java","mongodb","hibernate","jpa","morphia"],"answers":[{"tags":[],"owner":{"account_id":10395337,"reputation":338,"user_id":7665252,"display_name":"Bit33"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1509121311,"creation_date":1509121311,"answer_id":46979533,"question_id":44393016,"body_markdown":"*I think too many questions are asked in this single Stackoverflow question. But let&#39;s try to answer most of them:*\r\n\r\n**Row-level security**\r\nI don&#39;t think you want to use row-level security on the database. This is only needed if you give the data users direct access to the database. If you give access only by API, you can let the API handle all the filtering (and limit the ways they can query it!). Because normally you want to keep you&#39;re database grants fairly static and not let the DBA change the rights every time (unless you only have a few big DB users, that don&#39;t change that often this would be an option).\r\n\r\n**Filter in hibernate**\r\nI am confused by this one. You mention SQL/Hibernate en Mongodb/Morphia. Two different object mappers for two different database types. Also I would not call this option *&quot;Filter by Hibernate&quot;*. Let&#39;s name it *&quot;filter by API&quot;* and use a [facade design pattern][1]. The facade class will be in front of both the Morphia and Hibernate API&#39;s and the API user can only access the database via this API.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Facade_pattern","title":"Row-level security","body":"<p><em>I think too many questions are asked in this single Stackoverflow question. But let's try to answer most of them:</em></p>\n\n<p><strong>Row-level security</strong>\nI don't think you want to use row-level security on the database. This is only needed if you give the data users direct access to the database. If you give access only by API, you can let the API handle all the filtering (and limit the ways they can query it!). Because normally you want to keep you're database grants fairly static and not let the DBA change the rights every time (unless you only have a few big DB users, that don't change that often this would be an option).</p>\n\n<p><strong>Filter in hibernate</strong>\nI am confused by this one. You mention SQL/Hibernate en Mongodb/Morphia. Two different object mappers for two different database types. Also I would not call this option <em>\"Filter by Hibernate\"</em>. Let's name it <em>\"filter by API\"</em> and use a <a href=\"https://en.wikipedia.org/wiki/Facade_pattern\" rel=\"nofollow noreferrer\">facade design pattern</a>. The facade class will be in front of both the Morphia and Hibernate API's and the API user can only access the database via this API.</p>\n"}],"owner":{"account_id":8219207,"reputation":85,"user_id":6184385,"display_name":"Javeson Yehudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46979533,"answer_count":1,"score":0,"last_activity_date":1693934616,"creation_date":1496760012,"question_id":44393016,"body_markdown":"I&#39;m working on a company and developing an app where user has a CRUD of various type of data. Data, as we all know, could be sensitive, depends on the type.\r\n\r\nFirst, on my company we have different types of &quot;roles&quot;. Different roles can see different data, depends on the type of the role. What sounds a bit weird is that we have to filter the data manually, every query we have on the system, has the where clause with the rules and it doesn&#39;t looks right to us. We are using hibernate to perform our DAO.\r\n\r\nSecond, on my app, it&#39;s a bit different but have the same goal. The user inserts data and they can only see their data. When they wants to, then a filter is made in every query. I&#39;m using mongodb with morphia, I have to filter by &quot;user&quot; but, depends on the document I&#39;m looking for, the user is on different level.\r\n\r\nExample:\r\n\r\n - Every Fund have a user;\r\n - Every Transaction have a Fund;\r\n\r\nIf I&#39;m listing the funds of the user I have the following document:\r\n\r\n    [\r\n      {\r\n        &quot;description&quot;: &quot;xpto&quot;,\r\n        &quot;user&quot;: {\r\n          &quot;login&quot;: &quot;Someone&quot;\r\n        }\r\n      }\r\n    ]\r\n\r\nIf I&#39;m listing the transactions of the user I have the following document:\r\n\r\n    [\r\n      {\r\n        &quot;value&quot;: 1234.23,\r\n        &quot;date&quot;: &quot;2017-01-01&quot;,\r\n        &quot;fund&quot;: {\r\n          &quot;description&quot;: &quot;xpto&quot;,\r\n          &quot;user&quot;: {\r\n            &quot;login&quot;: &quot;Someone&quot;\r\n          }\r\n        }\r\n      }\r\n    ]\r\n\r\nSo, in the query of funds I have this: \r\n\r\n    datastore.find(Fund.class).filter(&quot;user.login&quot;, getUser().getLogin());\r\n\r\nIn the transactions:\r\n\r\n    datastore.find(Transaction.class).filter(&quot;funds.user.login&quot;, getUser().getLogin());\r\n\r\nI made some research and find some results that aren&#39;t so clear to me:\r\n\r\n - Row-level security;\r\n - @Filter in hibernate\r\n\r\n**Row-level security**, is better made by database. So every query that is made, the database looks at the rules and filters the data. Looks great after all, but, how am I going to tell the database what user? Every user of my system, has to be grant in the database? Has to be a user IN the database?\r\n\r\n**@Filter in hibernate**, makes the same as i, but at least it&#39;s in the class. In every query I have to say what a have to filter. Is the last of my choice.\r\n\r\nMy goal is understand how is it working nowadays? How does trello know which cards are from the user? How does Facebook know which post is yours? How are they filtering the dataset? Is it normal do the filter in every query? Do they do it in the database or in the application?","title":"Row-level security","body":"<p>I'm working on a company and developing an app where user has a CRUD of various type of data. Data, as we all know, could be sensitive, depends on the type.</p>\n<p>First, on my company we have different types of &quot;roles&quot;. Different roles can see different data, depends on the type of the role. What sounds a bit weird is that we have to filter the data manually, every query we have on the system, has the where clause with the rules and it doesn't looks right to us. We are using hibernate to perform our DAO.</p>\n<p>Second, on my app, it's a bit different but have the same goal. The user inserts data and they can only see their data. When they wants to, then a filter is made in every query. I'm using mongodb with morphia, I have to filter by &quot;user&quot; but, depends on the document I'm looking for, the user is on different level.</p>\n<p>Example:</p>\n<ul>\n<li>Every Fund have a user;</li>\n<li>Every Transaction have a Fund;</li>\n</ul>\n<p>If I'm listing the funds of the user I have the following document:</p>\n<pre><code>[\n  {\n    &quot;description&quot;: &quot;xpto&quot;,\n    &quot;user&quot;: {\n      &quot;login&quot;: &quot;Someone&quot;\n    }\n  }\n]\n</code></pre>\n<p>If I'm listing the transactions of the user I have the following document:</p>\n<pre><code>[\n  {\n    &quot;value&quot;: 1234.23,\n    &quot;date&quot;: &quot;2017-01-01&quot;,\n    &quot;fund&quot;: {\n      &quot;description&quot;: &quot;xpto&quot;,\n      &quot;user&quot;: {\n        &quot;login&quot;: &quot;Someone&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>So, in the query of funds I have this:</p>\n<pre><code>datastore.find(Fund.class).filter(&quot;user.login&quot;, getUser().getLogin());\n</code></pre>\n<p>In the transactions:</p>\n<pre><code>datastore.find(Transaction.class).filter(&quot;funds.user.login&quot;, getUser().getLogin());\n</code></pre>\n<p>I made some research and find some results that aren't so clear to me:</p>\n<ul>\n<li>Row-level security;</li>\n<li>@Filter in hibernate</li>\n</ul>\n<p><strong>Row-level security</strong>, is better made by database. So every query that is made, the database looks at the rules and filters the data. Looks great after all, but, how am I going to tell the database what user? Every user of my system, has to be grant in the database? Has to be a user IN the database?</p>\n<p><strong>@Filter in hibernate</strong>, makes the same as i, but at least it's in the class. In every query I have to say what a have to filter. Is the last of my choice.</p>\n<p>My goal is understand how is it working nowadays? How does trello know which cards are from the user? How does Facebook know which post is yours? How are they filtering the dataset? Is it normal do the filter in every query? Do they do it in the database or in the application?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1575114051,"post_id":59115791,"comment_id":104461801,"body_markdown":"How long is a space, what does the method substring do? Something for you to consider","body":"How long is a space, what does the method substring do? Something for you to consider"},{"owner":{"account_id":15319575,"reputation":596,"user_id":11052486,"display_name":"Ankit Agrawal"},"score":0,"creation_date":1575114115,"post_id":59115791,"comment_id":104461817,"body_markdown":"At `data = Keyboard.readString();` you may not be getting a string of proper length","body":"At <code>data = Keyboard.readString();</code> you may not be getting a string of proper length"},{"owner":{"account_id":17210819,"reputation":9,"user_id":12460217,"display_name":"Sebasti&#225;n Moreno"},"score":1,"creation_date":1575114479,"post_id":59115791,"comment_id":104461896,"body_markdown":"a space is when you tap the space key &quot; &quot;","body":"a space is when you tap the space key &quot; &quot;"},{"owner":{"account_id":17210819,"reputation":9,"user_id":12460217,"display_name":"Sebasti&#225;n Moreno"},"score":0,"creation_date":1575114605,"post_id":59115791,"comment_id":104461920,"body_markdown":"I mean I know what substring does the program just executes ok but when i put a space for the answer it returns that error","body":"I mean I know what substring does the program just executes ok but when i put a space for the answer it returns that error"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1575114898,"post_id":59115791,"comment_id":104461969,"body_markdown":"@Sebasti&#225;nMoreno You cannot return a string from index `0` to index `1`, which would be a string with two characters, when the string to start with is only one character long (your entered space). Please check https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)","body":"@Sebasti&#225;nMoreno You cannot return a string from index <code>0</code> to index <code>1</code>, which would be a string with two characters, when the string to start with is only one character long (your entered space). Please check <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":17210819,"reputation":9,"user_id":12460217,"display_name":"Sebasti&#225;n Moreno"},"score":0,"creation_date":1575115083,"post_id":59115791,"comment_id":104462004,"body_markdown":"@Progman so what do I do, i&#39;m learning and i don&#39;t know what to do","body":"@Progman so what do I do, i&#39;m learning and i don&#39;t know what to do"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1575115341,"post_id":59115791,"comment_id":104462047,"body_markdown":"@Sebasti&#225;nMoreno Simple `if()` check to do your thing only when the string entered have a minimum size/length.","body":"@Sebasti&#225;nMoreno Simple <code>if()</code> check to do your thing only when the string entered have a minimum size/length."},{"owner":{"account_id":17210819,"reputation":9,"user_id":12460217,"display_name":"Sebasti&#225;n Moreno"},"score":0,"creation_date":1575115668,"post_id":59115791,"comment_id":104462120,"body_markdown":"@Progman so what do i put in the if(), because i can&#39;t convert a string into a char","body":"@Progman so what do i put in the if(), because i can&#39;t convert a string into a char"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1575116061,"post_id":59115791,"comment_id":104462203,"body_markdown":"@Sebasti&#225;nMoreno `if(data.length() &gt;= 9)` or something like that, depending on what you want to do","body":"@Sebasti&#225;nMoreno <code>if(data.length() &gt;= 9)</code> or something like that, depending on what you want to do"},{"owner":{"account_id":17210819,"reputation":9,"user_id":12460217,"display_name":"Sebasti&#225;n Moreno"},"score":0,"creation_date":1575116678,"post_id":59115791,"comment_id":104462353,"body_markdown":"@JoakimDanielson if i put a space nothing happens until i press enter, then it puts that error","body":"@JoakimDanielson if i put a space nothing happens until i press enter, then it puts that error"},{"owner":{"account_id":17210819,"reputation":9,"user_id":12460217,"display_name":"Sebasti&#225;n Moreno"},"score":0,"creation_date":1575116926,"post_id":59115791,"comment_id":104462424,"body_markdown":"@JoakimDanielson it does nothing, just waits for an order","body":"@JoakimDanielson it does nothing, just waits for an order"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693934273,"creation_date":1575129538,"answer_id":59117827,"question_id":59115791,"body_markdown":"## Exercise in input validation\r\n\r\nI suggest that you test whether your input string has length 10. If it is shorter or longer, you know that it cannot have the expected format, so trying your substring calls will make no sense and may cause your program to crash as you have observed.\r\n\r\nYou need to call `data.length()`. This method will return the length of the string as an `int`, for example 10 for `18/08/2011` and 1 for a space. And you need to use an `if` statement to control that you only call `substring()` if the returned length is equal to 10. You will probably want an `else` part in which you issue a friendly message to the user about why your are not printing day, month and year. This should suffice for fixing your code.\r\n\r\nThis a very good exercise as it may help you learn something we all have to learn: To validate, to check our input in order to determine whether it fulfils the requirements for the input and whether there is good reason to believe that it is wrong. The clear and strong recommendation is that you always do this.\r\n\r\nAs you have also tried yourself, the user may enter any characters and any number of characters when your program asks for a date. Possible inputs include `18/8/2011` (one digit month and therefore too short), `18 d’agost de 2011` (too long) and any nonsense they can dream up. Make your program react as sensibly as possible in each case.\r\n\r\n## For production code\r\n\r\nFor production code one would use a `DateTimeFormatter` from the standard library for validating the input and parsing it into a date (a `LocalDate`). Since yours is a string exercise, I am not showing you how in this answer.","title":"Receiving an error while executing method substring in Java","body":"<h2>Exercise in input validation</h2>\n<p>I suggest that you test whether your input string has length 10. If it is shorter or longer, you know that it cannot have the expected format, so trying your substring calls will make no sense and may cause your program to crash as you have observed.</p>\n<p>You need to call <code>data.length()</code>. This method will return the length of the string as an <code>int</code>, for example 10 for <code>18/08/2011</code> and 1 for a space. And you need to use an <code>if</code> statement to control that you only call <code>substring()</code> if the returned length is equal to 10. You will probably want an <code>else</code> part in which you issue a friendly message to the user about why your are not printing day, month and year. This should suffice for fixing your code.</p>\n<p>This a very good exercise as it may help you learn something we all have to learn: To validate, to check our input in order to determine whether it fulfils the requirements for the input and whether there is good reason to believe that it is wrong. The clear and strong recommendation is that you always do this.</p>\n<p>As you have also tried yourself, the user may enter any characters and any number of characters when your program asks for a date. Possible inputs include <code>18/8/2011</code> (one digit month and therefore too short), <code>18 d’agost de 2011</code> (too long) and any nonsense they can dream up. Make your program react as sensibly as possible in each case.</p>\n<h2>For production code</h2>\n<p>For production code one would use a <code>DateTimeFormatter</code> from the standard library for validating the input and parsing it into a date (a <code>LocalDate</code>). Since yours is a string exercise, I am not showing you how in this answer.</p>\n"}],"owner":{"account_id":17210819,"reputation":9,"user_id":12460217,"display_name":"Sebasti&#225;n Moreno"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1693934273,"creation_date":1575113852,"question_id":59115791,"body_markdown":"I have to do a String exercise where I have to enter a date like dd/mm/yyyy. Everything works fine except **if I enter a space as the input, it prints this error:**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: begin 0, end 2, length 1\r\n    \tat java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)\r\n    \tat java.base/java.lang.String.substring(String.java:1909)\r\n    \tat ex5.main(ex5.java:17)\r\n\r\nThis is my code:\r\n```\r\nimport cs1.*;\r\npublic class ex5\r\n{\r\n   public static void main(String[] args) \r\n   {\r\n      String data = &quot;18/08/2011&quot;;\r\n    \r\n      \r\n      \r\n      //asking for the data\r\n      System.out.printf(&quot;DATA: &quot;);\r\n      data = Keyboard.readString();\r\n      \r\n\r\n      \r\n      //system.out\r\n      System.out.printf(&quot;DIA: %s %n&quot;, data.substring(0, 2));\r\n      System.out.printf(&quot;MES: %s %n&quot;, data.substring(3, 5));\r\n      System.out.printf(&quot;ANY: %s&quot;, data.substring(6, 10)); \r\n   }\r\n}\r\n","title":"Receiving an error while executing method substring in Java","body":"<p>I have to do a String exercise where I have to enter a date like dd/mm/yyyy. Everything works fine except <strong>if I enter a space as the input, it prints this error:</strong></p>\n\n<pre><code>Exception in thread \"main\" java.lang.StringIndexOutOfBoundsException: begin 0, end 2, length 1\n    at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)\n    at java.base/java.lang.String.substring(String.java:1909)\n    at ex5.main(ex5.java:17)\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>import cs1.*;\npublic class ex5\n{\n   public static void main(String[] args) \n   {\n      String data = \"18/08/2011\";\n\n\n\n      //asking for the data\n      System.out.printf(\"DATA: \");\n      data = Keyboard.readString();\n\n\n\n      //system.out\n      System.out.printf(\"DIA: %s %n\", data.substring(0, 2));\n      System.out.printf(\"MES: %s %n\", data.substring(3, 5));\n      System.out.printf(\"ANY: %s\", data.substring(6, 10)); \n   }\n}\n\n</code></pre>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":924003,"reputation":549,"user_id":965852,"display_name":"jonas"},"score":0,"creation_date":1693922791,"post_id":77045170,"comment_id":135821445,"body_markdown":"If you use .map(), you can pass around the Mono with the mapping function &quot;built-in&quot;.","body":"If you use .map(), you can pass around the Mono with the mapping function &quot;built-in&quot;."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693934177,"creation_date":1693934177,"answer_id":77046510,"question_id":77045170,"body_markdown":"The [`map()` operator](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-) is used to convert a produced value from one type to a different type based on the given [`Function&lt;T, R&gt;`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html) argument.\r\n\r\nThe [`subscribe()` method](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribe-java.util.function.Consumer-) will &quot;activate&quot; the observable and will receive the produced values in its [`Consumer&lt;T&gt;`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html) method. This is also the last step in your reactive programming chain for this particular observable since this method is not returning a `Mono&lt;T&gt;` instance anymore but instead a `Disposable` instance, which will be used for terminating the subscription.\r\n\r\n`Subscribe()` is &quot;used quite frequently in tutorials&quot; as you stated because it is required to &quot;activate&quot; the observable/subscription, otherwise nothing will happen. All the operators before are for &quot;configuration&quot; like &quot;when value X is produced, convert it to Y, throttle the produced values, build them together in chunks, filter the chunks based on some condition, switch to a different thread, etc…&quot;. You can build a chain of operators in which the produced values passes through. However this is just &quot;configuration&quot; and nothing will happen unless you subscribe to it.","title":".subscribe(-) vs .map(-).subscribe() in reactive Java","body":"<p>The <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>map()</code> operator</a> is used to convert a produced value from one type to a different type based on the given <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function&lt;T, R&gt;</code></a> argument.</p>\n<p>The <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribe-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>subscribe()</code> method</a> will &quot;activate&quot; the observable and will receive the produced values in its <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\"><code>Consumer&lt;T&gt;</code></a> method. This is also the last step in your reactive programming chain for this particular observable since this method is not returning a <code>Mono&lt;T&gt;</code> instance anymore but instead a <code>Disposable</code> instance, which will be used for terminating the subscription.</p>\n<p><code>Subscribe()</code> is &quot;used quite frequently in tutorials&quot; as you stated because it is required to &quot;activate&quot; the observable/subscription, otherwise nothing will happen. All the operators before are for &quot;configuration&quot; like &quot;when value X is produced, convert it to Y, throttle the produced values, build them together in chunks, filter the chunks based on some condition, switch to a different thread, etc…&quot;. You can build a chain of operators in which the produced values passes through. However this is just &quot;configuration&quot; and nothing will happen unless you subscribe to it.</p>\n"}],"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693934177,"creation_date":1693922354,"question_id":77045170,"body_markdown":"I&#39;m reading the project reactor documentation on transforming data using the [transforming operators][1] on Mono and Flux. But I can help asking the question..\r\n\r\nWhat&#39;s the difference between doing logic in the `.map()` function then calling subscribe vs doing it all in the `.subscribe()` function?\r\n\r\nIn this [answer][2], subscribe is described as the \r\n&gt; final consumer and usually called by your framework ... rather than by user code.\r\n\r\nBut [subscribe()][3] seems to be a used quite frequently in tutorials and in code I come across. Here is simple example.\r\n\r\n    // example using map\r\n    Mono.just(&quot;book1&quot;).map(book -&gt; {\r\n        bookService.rentOut(book);\r\n        return book;\r\n    }).subscribe();\r\n    \r\n    \r\n    // example using subscribe\r\n    Mono.just(&quot;book2&quot;).subscribe(book -&gt; {\r\n        bookService.rentOut(book);\r\n    });\r\n\r\nAnd if bookService **returns an error** the question still remains, handle in the `map()` or use `subscribe(consumer, errorConsumer)`.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/index.html#which.values\r\n  [2]: https://stackoverflow.com/questions/67619515/difference-between-flux-subscribeconsumer-super-t-consumer-and-flux-doonne\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribe--","title":".subscribe(-) vs .map(-).subscribe() in reactive Java","body":"<p>I'm reading the project reactor documentation on transforming data using the <a href=\"https://projectreactor.io/docs/core/release/reference/index.html#which.values\" rel=\"nofollow noreferrer\">transforming operators</a> on Mono and Flux. But I can help asking the question..</p>\n<p>What's the difference between doing logic in the <code>.map()</code> function then calling subscribe vs doing it all in the <code>.subscribe()</code> function?</p>\n<p>In this <a href=\"https://stackoverflow.com/questions/67619515/difference-between-flux-subscribeconsumer-super-t-consumer-and-flux-doonne\">answer</a>, subscribe is described as the</p>\n<blockquote>\n<p>final consumer and usually called by your framework ... rather than by user code.</p>\n</blockquote>\n<p>But <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribe--\" rel=\"nofollow noreferrer\">subscribe()</a> seems to be a used quite frequently in tutorials and in code I come across. Here is simple example.</p>\n<pre><code>// example using map\nMono.just(&quot;book1&quot;).map(book -&gt; {\n    bookService.rentOut(book);\n    return book;\n}).subscribe();\n\n\n// example using subscribe\nMono.just(&quot;book2&quot;).subscribe(book -&gt; {\n    bookService.rentOut(book);\n});\n</code></pre>\n<p>And if bookService <strong>returns an error</strong> the question still remains, handle in the <code>map()</code> or use <code>subscribe(consumer, errorConsumer)</code>.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1693933137,"post_id":77046399,"comment_id":135823803,"body_markdown":"`start` and `end` are _positions_ in the array, not their values. So while the starting position is less than the ending position, switch the two values there, then move &quot;inward&quot; (one further from the end, and one further from the start). You need `temp` to store the value you overwrite the first time you set a value -- you can only write one at a time, and if you don&#39;t keep what you overwrote, you won&#39;t know what to write into the other location after.","body":"<code>start</code> and <code>end</code> are <i>positions</i> in the array, not their values. So while the starting position is less than the ending position, switch the two values there, then move &quot;inward&quot; (one further from the end, and one further from the start). You need <code>temp</code> to store the value you overwrite the first time you set a value -- you can only write one at a time, and if you don&#39;t keep what you overwrote, you won&#39;t know what to write into the other location after."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1693933512,"post_id":77046399,"comment_id":135823890,"body_markdown":"With respect, the issues you raise are fundamental to programming: the meaning of assignment, what a variable is, and the concept of arrays. Example: &quot;How can you just say arr[start] is arr[end]&quot; -- but no-one is saying that; the code says &quot;assign the current value of the end&#39;th array element to the start&#39;th array element&quot;.  It&#39;s an **action**.","body":"With respect, the issues you raise are fundamental to programming: the meaning of assignment, what a variable is, and the concept of arrays. Example: &quot;How can you just say arr[start] is arr[end]&quot; -- but no-one is saying that; the code says &quot;assign the current value of the end&#39;th array element to the start&#39;th array element&quot;.  It&#39;s an <b>action</b>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1693933781,"post_id":77046399,"comment_id":135823943,"body_markdown":"Let&#39;s put aside the array. Suppose your had two variables `int a, b;`  In your program, you determine the values need to be swapped. What code would you write to swap the values?","body":"Let&#39;s put aside the array. Suppose your had two variables <code>int a, b;</code>  In your program, you determine the values need to be swapped. What code would you write to swap the values?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1693935091,"post_id":77046399,"comment_id":135824215,"body_markdown":"&quot;How can you just say arr[start] is arr[end]? Wouldn&#39;t that just make it be the same thing?&quot; That&#39;s correct. After that line, both values at position start and end do in fact have the same value! That&#39;s why they first stored the value at position start in the temp variable, so that value would not be lost. To swap the values at positions start and stop: (1) Store the value at position start in temp, (2) Set the value at position start to the value at position end, (3) Set the value at position end to temp. The temp var allows you to complete the swap and not have both values the same.","body":"&quot;How can you just say arr[start] is arr[end]? Wouldn&#39;t that just make it be the same thing?&quot; That&#39;s correct. After that line, both values at position start and end do in fact have the same value! That&#39;s why they first stored the value at position start in the temp variable, so that value would not be lost. To swap the values at positions start and stop: (1) Store the value at position start in temp, (2) Set the value at position start to the value at position end, (3) Set the value at position end to temp. The temp var allows you to complete the swap and not have both values the same."},{"owner":{"account_id":24903804,"reputation":1,"user_id":18774169,"display_name":"debloat god"},"score":0,"creation_date":1693946467,"post_id":77046399,"comment_id":135826072,"body_markdown":"@OldDogProgrammer Let&#39;s say int a = 5 and int b = 10... I would just say int b = a and int a = b.. I think I get it now this way.. So you want me to use a temp variable.. For example, int a = temp int a = int b, temp = int b... now a is b, and b is a? correct?","body":"@OldDogProgrammer Let&#39;s say int a = 5 and int b = 10... I would just say int b = a and int a = b.. I think I get it now this way.. So you want me to use a temp variable.. For example, int a = temp int a = int b, temp = int b... now a is b, and b is a? correct?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694006304,"post_id":77046399,"comment_id":135834365,"body_markdown":"Including the `int` at this point is wrong. `int a` creates a new variable. Since `a` and `b` already have values, they already exist. Depending on the context, `int a` will either result in a compiler error or create a new variable that &quot;hides&quot; the previous variable.","body":"Including the <code>int</code> at this point is wrong. <code>int a</code> creates a new variable. Since <code>a</code> and <code>b</code> already have values, they already exist. Depending on the context, <code>int a</code> will either result in a compiler error or create a new variable that &quot;hides&quot; the previous variable."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694006327,"post_id":77046399,"comment_id":135834371,"body_markdown":"Try this: ... int a = 247; int b = 25; System.out.println (&quot;a is &quot; + a + &quot;.  b is &quot; + b + &quot;.&quot;); a = b; b = a; ... Next, use a debugger. Set a breakpoint on the System.out. ... line. Run the code step-by-step while monitoring the values of a and of b. Do you find out what is wrong?","body":"Try this: ... int a = 247; int b = 25; System.out.println (&quot;a is &quot; + a + &quot;.  b is &quot; + b + &quot;.&quot;); a = b; b = a; ... Next, use a debugger. Set a breakpoint on the System.out. ... line. Run the code step-by-step while monitoring the values of a and of b. Do you find out what is wrong?"}],"answers":[{"tags":[],"owner":{"account_id":13510516,"reputation":49,"user_id":9746974,"display_name":"Luke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693933800,"creation_date":1693933800,"answer_id":77046477,"question_id":77046399,"body_markdown":"(In case a visual description is easier than the answer in the comments)\r\n\r\nLike the comment says, `start` and `end` are positions in the array.\r\n\r\nStarting at the extremities of the array:  \r\n`start=0`  `end=array.length`  \r\n| **x** |&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;| **x** |\r\n\r\nSwap the values at those locations\r\n```java\r\nint temp = arr[start];     // put the value at start into a temp variable.\r\narr[start] = arr[end];     // put the value at end into the start location.\r\narr[end] = temp;           // put the value you stored in temp (what used to\r\n                           // be in start) into the current end location. \r\n```\r\n\r\n..then you add 1 to start and subtract one from end:  \r\n`start=1` `end=array.length-1`  \r\n|&amp;emsp;| **x** |&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;|&amp;emsp;| **x** |&amp;emsp;|\r\n\r\n...and repeat the process as long as `start` &lt; `end` (they won&#39;t cross)","title":"I do not understand this temp variable usage for reversing an array","body":"<p>(In case a visual description is easier than the answer in the comments)</p>\n<p>Like the comment says, <code>start</code> and <code>end</code> are positions in the array.</p>\n<p>Starting at the extremities of the array:<br />\n<code>start=0</code>  <code>end=array.length</code><br />\n| <strong>x</strong> | | | | | | | | | | <strong>x</strong> |</p>\n<p>Swap the values at those locations</p>\n<pre class=\"lang-java prettyprint-override\"><code>int temp = arr[start];     // put the value at start into a temp variable.\narr[start] = arr[end];     // put the value at end into the start location.\narr[end] = temp;           // put the value you stored in temp (what used to\n                           // be in start) into the current end location. \n</code></pre>\n<p>..then you add 1 to start and subtract one from end:<br />\n<code>start=1</code> <code>end=array.length-1</code><br />\n| | <strong>x</strong> | | | | | | | | <strong>x</strong> | |</p>\n<p>...and repeat the process as long as <code>start</code> &lt; <code>end</code> (they won't cross)</p>\n"}],"owner":{"account_id":24903804,"reputation":1,"user_id":18774169,"display_name":"debloat god"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693933800,"creation_date":1693933013,"question_id":77046399,"body_markdown":"\r\n```\r\n/ Iterative java program to reverse an\r\n// array\r\npublic class GFG {\r\n      \r\n   /* Function to reverse arr[] from \r\n    start to end*/\r\n    static void rvereseArray(int arr[],\r\n                    int start, int end)\r\n    {\r\n        int temp;\r\n           \r\n        while (start &lt; end)\r\n        {\r\n            temp = arr[start]; \r\n            arr[start] = arr[end];\r\n            arr[end] = temp;\r\n            start++;\r\n            end--;\r\n        } \r\n    }     \r\n       \r\n    /* Utility that prints out an\r\n    array on a line */\r\n    static void printArray(int arr[], \r\n                            int size)\r\n    {\r\n        for (int i = 0; i &lt; size; i++)\r\n             System.out.print(arr[i] + &quot; &quot;);\r\n           \r\n         System.out.println();\r\n    } \r\n  \r\n    // Driver code\r\n    public static void main(String args[]) {\r\n          \r\n        int arr[] = {1, 2, 3, 4, 5, 6};\r\n        printArray(arr, 6);\r\n        rvereseArray(arr, 0, 5);\r\n        System.out.print(&quot;Reversed array is \\n&quot;);\r\n        printArray(arr, 6); \r\n         \r\n    }\r\n}\r\n  \r\n// This code is contributed by Sam007\r\n\r\n\r\n```\r\n\r\n\r\n\r\n````\r\n\r\ntemp = arr[start]; \r\n            arr[start] = arr[end];\r\n            arr[end] = temp;\r\n````\r\n\r\nI see this pattern a lot, but I never understand it.\r\n\r\nHow can you just say arr[start] is arr[end]? Wouldn&#39;t that just make it be the same thing?\r\n\r\nI just don&#39;t get this pattern at all.\r\n\r\nWhile start &lt; end \r\n\r\nso the beginning of the array is less (why does this matter because literally in reversing an arary it doesn&#39;t matter about that?)\r\n\r\n2,7,6,9\r\n\r\n9,6,7,2 \r\n\r\nor is it referring to the index and not the value of the int within the array?\r\n","title":"I do not understand this temp variable usage for reversing an array","body":"<pre><code>/ Iterative java program to reverse an\n// array\npublic class GFG {\n      \n   /* Function to reverse arr[] from \n    start to end*/\n    static void rvereseArray(int arr[],\n                    int start, int end)\n    {\n        int temp;\n           \n        while (start &lt; end)\n        {\n            temp = arr[start]; \n            arr[start] = arr[end];\n            arr[end] = temp;\n            start++;\n            end--;\n        } \n    }     \n       \n    /* Utility that prints out an\n    array on a line */\n    static void printArray(int arr[], \n                            int size)\n    {\n        for (int i = 0; i &lt; size; i++)\n             System.out.print(arr[i] + &quot; &quot;);\n           \n         System.out.println();\n    } \n  \n    // Driver code\n    public static void main(String args[]) {\n          \n        int arr[] = {1, 2, 3, 4, 5, 6};\n        printArray(arr, 6);\n        rvereseArray(arr, 0, 5);\n        System.out.print(&quot;Reversed array is \\n&quot;);\n        printArray(arr, 6); \n         \n    }\n}\n  \n// This code is contributed by Sam007\n\n\n</code></pre>\n<pre><code>\ntemp = arr[start]; \n            arr[start] = arr[end];\n            arr[end] = temp;\n</code></pre>\n<p>I see this pattern a lot, but I never understand it.</p>\n<p>How can you just say arr[start] is arr[end]? Wouldn't that just make it be the same thing?</p>\n<p>I just don't get this pattern at all.</p>\n<p>While start &lt; end</p>\n<p>so the beginning of the array is less (why does this matter because literally in reversing an arary it doesn't matter about that?)</p>\n<p>2,7,6,9</p>\n<p>9,6,7,2</p>\n<p>or is it referring to the index and not the value of the int within the array?</p>\n"},{"tags":["java","spring-integration","spring-dsl"],"answers":[{"comments":[{"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"score":0,"creation_date":1693933012,"post_id":77025953,"comment_id":135823768,"body_markdown":"When removing `nullChannel()` in favor for `get()` I am still receiving a cast exception. I will edit the question and add the stacktrace","body":"When removing <code>nullChannel()</code> in favor for <code>get()</code> I am still receiving a cast exception. I will edit the question and add the stacktrace"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1693935535,"post_id":77025953,"comment_id":135824295,"body_markdown":"That error has nothing to do with the end of the flow. You have a problem with `transform((GenericTransformer&lt;Message, String&gt;)`. The input type cannot be so easy inferred to `Message`, so you need to change this signature to `.transform(Message.class, message -&gt; {`. Now, with an explicit input type, the framework knows what to do for your lambda.","body":"That error has nothing to do with the end of the flow. You have a problem with <code>transform((GenericTransformer&lt;Message, String&gt;)</code>. The input type cannot be so easy inferred to <code>Message</code>, so you need to change this signature to <code>.transform(Message.class, message -&gt; {</code>. Now, with an explicit input type, the framework knows what to do for your lambda."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693601821,"creation_date":1693601821,"answer_id":77025953,"question_id":77025719,"body_markdown":"See that `handle(MessageHandler)` contract. It is as simple as this:\r\n\r\n    @FunctionalInterface\r\n    public interface MessageHandler {\r\n    \r\n    \tvoid handleMessage(Message&lt;?&gt; message) throws MessagingException;\r\n    \r\n    }\r\n\r\nPay attention to the `void` return type. So, this means that there is not going to be a reply message produced from this handler. Therefore no way to configure an output channel on this endpoint. That `nullChannel()` is still a channel and according to messaging configuration this channel is set as an output channel for that endpoint, but since its handler is `void`, the configuration is rejected with that error message.\r\n\r\nSo, you simply should remove `nullChannel()` in the end of that flow. Use `get()` to finish flow configuration - and you are good having that flow as a one-way.","title":"Delete File from remote server using SftpRemoteFileTemplate","body":"<p>See that <code>handle(MessageHandler)</code> contract. It is as simple as this:</p>\n<pre><code>@FunctionalInterface\npublic interface MessageHandler {\n\n    void handleMessage(Message&lt;?&gt; message) throws MessagingException;\n\n}\n</code></pre>\n<p>Pay attention to the <code>void</code> return type. So, this means that there is not going to be a reply message produced from this handler. Therefore no way to configure an output channel on this endpoint. That <code>nullChannel()</code> is still a channel and according to messaging configuration this channel is set as an output channel for that endpoint, but since its handler is <code>void</code>, the configuration is rejected with that error message.</p>\n<p>So, you simply should remove <code>nullChannel()</code> in the end of that flow. Use <code>get()</code> to finish flow configuration - and you are good having that flow as a one-way.</p>\n"}],"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77025953,"answer_count":1,"score":0,"last_activity_date":1693933092,"creation_date":1693598336,"question_id":77025719,"body_markdown":"I&#39;m trying to delete a file after processing it and placing it on a kafka topic using the `SftpRemoteFileTemplate`. I have it working using a `SftpOutboundGateway`, but according to EIS patterns we should be using the template. I am currently getting an exception saying end of the flow has been reached.\r\n\r\nException:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: The &#39;currentComponent&#39; (com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow$$Lambda$628/0x000000080104ab28@748f93bb) is a one-way &#39;MessageHandler&#39; and it isn&#39;t appropriate to configure &#39;outputChannel&#39;. This is the end of the integration flow.\r\n\tat org.springframework.integration.dsl.BaseIntegrationFlowDefinition.registerOutputChannelIfCan(BaseIntegrationFlowDefinition.java:3109) ~[spring-integration-core-6.1.2.jar:6.1.2]\r\n\tat org.springframework.integration.dsl.BaseIntegrationFlowDefinition.channel(BaseIntegrationFlowDefinition.java:275) ~[spring-integration-core-6.1.2.jar:6.1.2]\r\n\tat org.springframework.integration.dsl.BaseIntegrationFlowDefinition.channel(BaseIntegrationFlowDefinition.java:243) ~[spring-integration-core-6.1.2.jar:6.1.2]\r\n\tat org.springframework.integration.dsl.BaseIntegrationFlowDefinition.nullChannel(BaseIntegrationFlowDefinition.java:2919) ~[spring-integration-core-6.1.2.jar:6.1.2]\r\n\tat com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow.intermediateDeleteFlow(AcousticToKafkaIntegrationFlow.java:95) ~[classes/:na]\r\n\tat com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow$$SpringCGLIB$$0.CGLIB$intermediateDeleteFlow$5(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow$$SpringCGLIB$$0.intermediateDeleteFlow(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 18 common frames omitted\r\n```\r\nThe code is trying to pull the headers out of the initial message, to create a path to the file on the remote server so the `SftpRemoteFileTemplate` can call the `remove()` method on it. \r\n\r\nRouting Channel Flow:\r\n\r\n```\r\n                              .split(Files.splitter()\r\n                                          .markers(true)\r\n                                          .charset(StandardCharsets.UTF_8)\r\n                                          .firstLineAsHeader(&quot;myHeaders&quot;)\r\n                                          .applySequence(true))\r\n                              .filter(&quot;!payload.contains(&#39;\\&quot;mark\\&quot;:\\&quot;START\\&quot;&#39;)&quot;, p -&gt; p.discardFlow(df -&gt; df.channel(&quot;logStartOfFile&quot;)))\r\n                              .log(LoggingHandler.Level.DEBUG, Constants.LOG_FLOW_CATEGORY, &quot;payload&quot;)\r\n                              .route(&quot;payload.contains(&#39;\\&quot;mark\\&quot;:\\&quot;END\\&quot;&#39;)&quot;, r -&gt; r.channelMapping(&quot;true&quot;, &quot;deleteFileChannel&quot;)\r\n                                                                                   .channelMapping(&quot;false&quot;, &quot;publisherChannel&quot;))\r\n                              .get();\r\n    }\r\n```\r\nDelete File Flow:\r\n\r\n```\r\n    @Bean\r\n    public IntegrationFlow deleteFileFlow(SftpRemoteFileTemplate remoteFileTemplate, MessageChannel deleteFileChannel) {\r\n        return IntegrationFlow.from(deleteFileChannel)\r\n                              .transform((GenericTransformer&lt;Message, String&gt;) message -&gt; {\r\n                                  var headers = message.getHeaders();\r\n                                  return headers.get(FileHeaders.REMOTE_DIRECTORY) + File.separator + headers.get(FileHeaders.REMOTE_FILE);\r\n                              })\r\n                .handle(path -&gt; remoteFileTemplate.remove(String.valueOf(path.getPayload())))\r\n                              .get();\r\n    }\r\n```\r\nThe exception is thrown on the `.nullChannel()` method.\r\n\r\nAny insight would help thank you.\r\n\r\nEDIT Stack Trace with `get()` instead of `nullChannel` per Artem&#39;s Answer: \r\n\r\n```\r\n2023-09-05T11:03:30.006-05:00 ERROR 32726 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.integration.transformer.MessageTransformationException: Failed to transform Message in bean &#39;deleteFileFlow.transformer#0&#39; for component &#39;deleteFileFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0&#39;; defined in: &#39;class path resource [com/thrivent/enterprisemarketingchannelactivation/engage/config/AcousticToKafkaIntegrationFlow.class]&#39;; from source: &#39;bean method deleteFileFlow&#39;, failedMessage=GenericMessage [payload={&quot;filePath&quot;:&quot;/download/dummy_acoustic.csv&quot;,&quot;lineCount&quot;:3,&quot;mark&quot;:&quot;END&quot;}, headers={file_remoteHostPort=transfer-campaign-us-2.goacoustic.com:22, file_remoteFileInfo={&quot;directory&quot;:false,&quot;filename&quot;:&quot;dummy_acoustic.csv&quot;,&quot;link&quot;:false,&quot;modified&quot;:1693588146000,&quot;permissions&quot;:&quot;rw-r-----&quot;,&quot;remoteDirectory&quot;:&quot;/download/&quot;,&quot;size&quot;:1250}, sequenceNumber=5, file_lineCount=3, file_remoteDirectory=/download/, sequenceSize=0, correlationId=8f9f7566-f176-dfce-b24a-a34e043165b8, id=1914286a-6033-126f-354c-af9dc90b329f, file_marker=END, closeableResource=org.springframework.integration.file.remote.session.CachingSessionFactory$CachedSession@4579f791, file_remoteFile=dummy_acoustic.csv, timestamp=1693929810003}]\r\n\tat org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:125)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.router.AbstractMessageRouter.doSend(AbstractMessageRouter.java:217)\r\n\tat org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:199)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:499)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:354)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:283)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:247)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:499)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:354)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:283)\r\n\tat org.springframework.integration.splitter.AbstractMessageSplitter.produceOutput(AbstractMessageSplitter.java:317)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:247)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.endpoint.SourcePollingChannelAdapter.handleMessage(SourcePollingChannelAdapter.java:196)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:474)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:460)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class org.springframework.messaging.Message (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; org.springframework.messaging.Message is in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.integration.handler.LambdaMessageProcessor.invokeMethod(LambdaMessageProcessor.java:205)\r\n\tat org.springframework.integration.handler.LambdaMessageProcessor.processMessage(LambdaMessageProcessor.java:121)\r\n\tat org.springframework.integration.transformer.AbstractMessageProcessingTransformer.transform(AbstractMessageProcessingTransformer.java:115)\r\n\tat org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:119)\r\n\t... 88 more\r\n```","title":"Delete File from remote server using SftpRemoteFileTemplate","body":"<p>I'm trying to delete a file after processing it and placing it on a kafka topic using the <code>SftpRemoteFileTemplate</code>. I have it working using a <code>SftpOutboundGateway</code>, but according to EIS patterns we should be using the template. I am currently getting an exception saying end of the flow has been reached.</p>\n<p>Exception:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: The 'currentComponent' (com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow$$Lambda$628/0x000000080104ab28@748f93bb) is a one-way 'MessageHandler' and it isn't appropriate to configure 'outputChannel'. This is the end of the integration flow.\n    at org.springframework.integration.dsl.BaseIntegrationFlowDefinition.registerOutputChannelIfCan(BaseIntegrationFlowDefinition.java:3109) ~[spring-integration-core-6.1.2.jar:6.1.2]\n    at org.springframework.integration.dsl.BaseIntegrationFlowDefinition.channel(BaseIntegrationFlowDefinition.java:275) ~[spring-integration-core-6.1.2.jar:6.1.2]\n    at org.springframework.integration.dsl.BaseIntegrationFlowDefinition.channel(BaseIntegrationFlowDefinition.java:243) ~[spring-integration-core-6.1.2.jar:6.1.2]\n    at org.springframework.integration.dsl.BaseIntegrationFlowDefinition.nullChannel(BaseIntegrationFlowDefinition.java:2919) ~[spring-integration-core-6.1.2.jar:6.1.2]\n    at com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow.intermediateDeleteFlow(AcousticToKafkaIntegrationFlow.java:95) ~[classes/:na]\n    at com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow$$SpringCGLIB$$0.CGLIB$intermediateDeleteFlow$5(&lt;generated&gt;) ~[classes/:na]\n    at com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.11.jar:6.0.11]\n    at com.test.enterprisemarketingchannelactivation.engage.config.AcousticToKafkaIntegrationFlow$$SpringCGLIB$$0.intermediateDeleteFlow(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 18 common frames omitted\n</code></pre>\n<p>The code is trying to pull the headers out of the initial message, to create a path to the file on the remote server so the <code>SftpRemoteFileTemplate</code> can call the <code>remove()</code> method on it.</p>\n<p>Routing Channel Flow:</p>\n<pre><code>                              .split(Files.splitter()\n                                          .markers(true)\n                                          .charset(StandardCharsets.UTF_8)\n                                          .firstLineAsHeader(&quot;myHeaders&quot;)\n                                          .applySequence(true))\n                              .filter(&quot;!payload.contains('\\&quot;mark\\&quot;:\\&quot;START\\&quot;')&quot;, p -&gt; p.discardFlow(df -&gt; df.channel(&quot;logStartOfFile&quot;)))\n                              .log(LoggingHandler.Level.DEBUG, Constants.LOG_FLOW_CATEGORY, &quot;payload&quot;)\n                              .route(&quot;payload.contains('\\&quot;mark\\&quot;:\\&quot;END\\&quot;')&quot;, r -&gt; r.channelMapping(&quot;true&quot;, &quot;deleteFileChannel&quot;)\n                                                                                   .channelMapping(&quot;false&quot;, &quot;publisherChannel&quot;))\n                              .get();\n    }\n</code></pre>\n<p>Delete File Flow:</p>\n<pre><code>    @Bean\n    public IntegrationFlow deleteFileFlow(SftpRemoteFileTemplate remoteFileTemplate, MessageChannel deleteFileChannel) {\n        return IntegrationFlow.from(deleteFileChannel)\n                              .transform((GenericTransformer&lt;Message, String&gt;) message -&gt; {\n                                  var headers = message.getHeaders();\n                                  return headers.get(FileHeaders.REMOTE_DIRECTORY) + File.separator + headers.get(FileHeaders.REMOTE_FILE);\n                              })\n                .handle(path -&gt; remoteFileTemplate.remove(String.valueOf(path.getPayload())))\n                              .get();\n    }\n</code></pre>\n<p>The exception is thrown on the <code>.nullChannel()</code> method.</p>\n<p>Any insight would help thank you.</p>\n<p>EDIT Stack Trace with <code>get()</code> instead of <code>nullChannel</code> per Artem's Answer:</p>\n<pre><code>2023-09-05T11:03:30.006-05:00 ERROR 32726 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.integration.transformer.MessageTransformationException: Failed to transform Message in bean 'deleteFileFlow.transformer#0' for component 'deleteFileFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0'; defined in: 'class path resource [com/thrivent/enterprisemarketingchannelactivation/engage/config/AcousticToKafkaIntegrationFlow.class]'; from source: 'bean method deleteFileFlow', failedMessage=GenericMessage [payload={&quot;filePath&quot;:&quot;/download/dummy_acoustic.csv&quot;,&quot;lineCount&quot;:3,&quot;mark&quot;:&quot;END&quot;}, headers={file_remoteHostPort=transfer-campaign-us-2.goacoustic.com:22, file_remoteFileInfo={&quot;directory&quot;:false,&quot;filename&quot;:&quot;dummy_acoustic.csv&quot;,&quot;link&quot;:false,&quot;modified&quot;:1693588146000,&quot;permissions&quot;:&quot;rw-r-----&quot;,&quot;remoteDirectory&quot;:&quot;/download/&quot;,&quot;size&quot;:1250}, sequenceNumber=5, file_lineCount=3, file_remoteDirectory=/download/, sequenceSize=0, correlationId=8f9f7566-f176-dfce-b24a-a34e043165b8, id=1914286a-6033-126f-354c-af9dc90b329f, file_marker=END, closeableResource=org.springframework.integration.file.remote.session.CachingSessionFactory$CachedSession@4579f791, file_remoteFile=dummy_acoustic.csv, timestamp=1693929810003}]\n    at org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:125)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.router.AbstractMessageRouter.doSend(AbstractMessageRouter.java:217)\n    at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:199)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:499)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:354)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:283)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:247)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:499)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:354)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:283)\n    at org.springframework.integration.splitter.AbstractMessageSplitter.produceOutput(AbstractMessageSplitter.java:317)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:247)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.endpoint.SourcePollingChannelAdapter.handleMessage(SourcePollingChannelAdapter.java:196)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:474)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:460)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class org.springframework.messaging.Message (java.lang.String is in module java.base of loader 'bootstrap'; org.springframework.messaging.Message is in unnamed module of loader 'app')\n    at org.springframework.integration.handler.LambdaMessageProcessor.invokeMethod(LambdaMessageProcessor.java:205)\n    at org.springframework.integration.handler.LambdaMessageProcessor.processMessage(LambdaMessageProcessor.java:121)\n    at org.springframework.integration.transformer.AbstractMessageProcessingTransformer.transform(AbstractMessageProcessingTransformer.java:115)\n    at org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:119)\n    ... 88 more\n</code></pre>\n"},{"tags":["java","spring-boot","testing","spock","spy"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1581489249,"post_id":60181621,"comment_id":106446451,"body_markdown":"Your error message looks like you are trying to mock an object which is already a dynamic proxy as suggested by `com.sun.proxy.$Proxynnn`. So you are not directly spying on a `MyJpaRepository` instance but on a dynamic proxy wrapping it for whatever Spring-ish purpose (such as AOP or transactions). As Spock&#39;s mock objects are also dynamic proxies, the framework needs to be able to work with non-final classes. It looks like the dynamic proxy is final, though. Somehow you need to make sure to spy on the original `MyJpaRepository` object, not on its proxy.","body":"Your error message looks like you are trying to mock an object which is already a dynamic proxy as suggested by <code>com.sun.proxy.$Proxynnn</code>. So you are not directly spying on a <code>MyJpaRepository</code> instance but on a dynamic proxy wrapping it for whatever Spring-ish purpose (such as AOP or transactions). As Spock&#39;s mock objects are also dynamic proxies, the framework needs to be able to work with non-final classes. It looks like the dynamic proxy is final, though. Somehow you need to make sure to spy on the original <code>MyJpaRepository</code> object, not on its proxy."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1581489447,"post_id":60181621,"comment_id":106446541,"body_markdown":"@kriegaex Yes, that&#39;s all true and that&#39;s my question: How can I spy on the actual bean in the app context, which is a proxy? There is no &quot;original&quot; object - spring builds its own proxy class, and that&#39;s the one I would like to spy on.","body":"@kriegaex Yes, that&#39;s all true and that&#39;s my question: How can I spy on the actual bean in the app context, which is a proxy? There is no &quot;original&quot; object - spring builds its own proxy class, and that&#39;s the one I would like to spy on."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1581491026,"post_id":60181621,"comment_id":106447094,"body_markdown":"Ah, `MyJpaRepository extends JpaRepository`, not `implements`. So you are actually trying to spy on an interface type, not on a class type. Actually you can only spy on an instance of a concrete class type. Spying on an interface would not make sense anyway. BTW: Of course there is always an &quot;original&quot; object instance for each Spring proxy because dynamic proxies use a delegation pattern.","body":"Ah, <code>MyJpaRepository extends JpaRepository</code>, not <code>implements</code>. So you are actually trying to spy on an interface type, not on a class type. Actually you can only spy on an instance of a concrete class type. Spying on an interface would not make sense anyway. BTW: Of course there is always an &quot;original&quot; object instance for each Spring proxy because dynamic proxies use a delegation pattern."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1581491246,"post_id":60181621,"comment_id":106447162,"body_markdown":"@kriegaex why would spying on an instance of an interface, which is what the jpa bean is, make no sense?","body":"@kriegaex why would spying on an instance of an interface, which is what the jpa bean is, make no sense?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1581491873,"post_id":60181621,"comment_id":106447418,"body_markdown":"Maybe we misunderstand each other, I was talking about [normal Spock spies](http://spockframework.org/spock/docs/1.3/all_in_one.html#Spies). You cannot directly create a spy for an interface because an interface does not have any functionality. As for `@SpringSpy`, I never used Spring actively and thus have no experience with how this works, I can just tell you what the technical problem is. You might want to try to use the concrete implementation type instead of the interface type in your test. Whatever limitation you are hitting here, you cannot mock/spy a final class and need a workaround.","body":"Maybe we misunderstand each other, I was talking about <a href=\"http://spockframework.org/spock/docs/1.3/all_in_one.html#Spies\" rel=\"nofollow noreferrer\">normal Spock spies</a>. You cannot directly create a spy for an interface because an interface does not have any functionality. As for <code>@SpringSpy</code>, I never used Spring actively and thus have no experience with how this works, I can just tell you what the technical problem is. You might want to try to use the concrete implementation type instead of the interface type in your test. Whatever limitation you are hitting here, you cannot mock/spy a final class and need a workaround."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1581492845,"post_id":60181621,"comment_id":106447817,"body_markdown":"Maybe an additional `@UnwrapAopProxy` would help beside `@SpringSpy`? Just guessing after seeing [this sample test](https://github.com/spockframework/spock/blob/master/spock-spring/src/test/groovy/org/spockframework/spring/mock/imported/SpringSpyWithAopProxyTests.groovy). Probably you as a Spring user understand more about it than I, I only know about dynamic proxies and how they are used in Spring because I often answer Spring AOP questions.","body":"Maybe an additional <code>@UnwrapAopProxy</code> would help beside <code>@SpringSpy</code>? Just guessing after seeing <a href=\"https://github.com/spockframework/spock/blob/master/spock-spring/src/test/groovy/org/spockframework/spring/mock/imported/SpringSpyWithAopProxyTests.groovy\" rel=\"nofollow noreferrer\">this sample test</a>. Probably you as a Spring user understand more about it than I, I only know about dynamic proxies and how they are used in Spring because I often answer Spring AOP questions."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1581546270,"post_id":60181621,"comment_id":106475717,"body_markdown":"@kriegaex thanks for the ideas. I tried `@UnwrapAopProxy` but same error.","body":"@kriegaex thanks for the ideas. I tried <code>@UnwrapAopProxy</code> but same error."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1581553365,"post_id":60181621,"comment_id":106477551,"body_markdown":"Then - a person with a reputation as high as yours might have expected this suggestion - I kindly ask you to provide an [MCVE](https://stackoverflow.com/help/mcve) reproducing your problem on GitHub and linking to it from here, so the people who want to help you can analyse your situation and check your whole configuration. Your little snippets are not conducent to more than speculation, and speculate I did. ;-)","body":"Then - a person with a reputation as high as yours might have expected this suggestion - I kindly ask you to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> reproducing your problem on GitHub and linking to it from here, so the people who want to help you can analyse your situation and check your whole configuration. Your little snippets are not conducent to more than speculation, and speculate I did. ;-)"},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1581795725,"post_id":60181621,"comment_id":106558050,"body_markdown":"@Bohemian in short you can&#39;t. You can use a normal `Mock` for the repository though.","body":"@Bohemian in short you can&#39;t. You can use a normal <code>Mock</code> for the repository though."},{"owner":{"account_id":3546725,"reputation":1194,"user_id":2962507,"display_name":"dinvlad"},"score":0,"creation_date":1640403190,"post_id":60181621,"comment_id":124583723,"body_markdown":"@kriegaex thank you - `@UnwrapAopProxy` actually did solve a similar problem for me.","body":"@kriegaex thank you - <code>@UnwrapAopProxy</code> actually did solve a similar problem for me."}],"answers":[{"tags":[],"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693932698,"creation_date":1693932698,"answer_id":77046368,"question_id":60181621,"body_markdown":"When using `@SpringSpy` on a Spring Bean that is Spring is proxying already, you need to unwrap that proxy.  This is done via `@UnwrapAopProxy`\r\n\r\n    @UnwrapAopProxy\r\n    @SpringSpy\r\n    MyJpaRepository repo\r\n\r\n    void &quot;spying on a repo works&quot;() {\r\n      when:\r\n      repo.getById(1L)\r\n\r\n      then:\r\n      1 * repo.getById(_)\r\n    }\r\n\r\nThis is mentioned in the comments, but nobody submitted an answer and I spent a lot of time trying to find the answer because I didn&#39;t read the comments the first time I landed here. \r\n\r\n[This blog post][1] also was very helpful.  If you are concerned about reusing the Spring Context so your tests don&#39;t slow down, then you might want to consider the other options presented in this post.\r\n\r\n\r\n  [1]: https://objectpartners.com/2018/06/14/spock-1-2-annotations-for-spring-integration-testing/","title":"How to use spock @SpringSpy with a JpaRepository","body":"<p>When using <code>@SpringSpy</code> on a Spring Bean that is Spring is proxying already, you need to unwrap that proxy.  This is done via <code>@UnwrapAopProxy</code></p>\n<pre><code>@UnwrapAopProxy\n@SpringSpy\nMyJpaRepository repo\n\nvoid &quot;spying on a repo works&quot;() {\n  when:\n  repo.getById(1L)\n\n  then:\n  1 * repo.getById(_)\n}\n</code></pre>\n<p>This is mentioned in the comments, but nobody submitted an answer and I spent a lot of time trying to find the answer because I didn't read the comments the first time I landed here.</p>\n<p><a href=\"https://objectpartners.com/2018/06/14/spock-1-2-annotations-for-spring-integration-testing/\" rel=\"nofollow noreferrer\">This blog post</a> also was very helpful.  If you are concerned about reusing the Spring Context so your tests don't slow down, then you might want to consider the other options presented in this post.</p>\n"}],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77046368,"answer_count":1,"score":1,"last_activity_date":1693932698,"creation_date":1581484922,"question_id":60181621,"body_markdown":"I am using spring boot with jpa and spock. I want to assert that certain calls were made to the repo as a functional test, so a Mock won&#39;t do (I need to verify that a native query works with certain test data in the DB).\r\n\r\nI have tried a `@SpringBootTest` with the field:\r\n\r\n    @SpringSpy\r\n    MyJpaRepository repo\r\n\r\nand within the test method:\r\n\r\n    interaction {\r\n            1 * repo.someMethod(_) \r\n    }\r\n\r\nwhere `MyJpaRepository extends JpaRepository&lt;Foo, Long&gt;`, but when I run the test I get:\r\n\r\n&gt; Cannot create mock for class com.sun.proxy.$Proxynnn because Java mocks cannot mock final classes. If the code under test is written in Groovy, use a Groovy mock.\r\n\r\nOther than this error, all my functional tests work, so it&#39;s not a config issue.\r\n\r\nHow can I spy on an `@Autowired` bean?\r\n","title":"How to use spock @SpringSpy with a JpaRepository","body":"<p>I am using spring boot with jpa and spock. I want to assert that certain calls were made to the repo as a functional test, so a Mock won't do (I need to verify that a native query works with certain test data in the DB).</p>\n\n<p>I have tried a <code>@SpringBootTest</code> with the field:</p>\n\n<pre><code>@SpringSpy\nMyJpaRepository repo\n</code></pre>\n\n<p>and within the test method:</p>\n\n<pre><code>interaction {\n        1 * repo.someMethod(_) \n}\n</code></pre>\n\n<p>where <code>MyJpaRepository extends JpaRepository&lt;Foo, Long&gt;</code>, but when I run the test I get:</p>\n\n<blockquote>\n  <p>Cannot create mock for class com.sun.proxy.$Proxynnn because Java mocks cannot mock final classes. If the code under test is written in Groovy, use a Groovy mock.</p>\n</blockquote>\n\n<p>Other than this error, all my functional tests work, so it's not a config issue.</p>\n\n<p>How can I spy on an <code>@Autowired</code> bean?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1393957513,"creation_date":1393945413,"answer_id":22175521,"question_id":22175332,"body_markdown":"In Java you don&#39;t use the form `/regex/flags`. Instead you can do something like \r\n\r\n    Pattern.compile(regex, flags);\r\n\r\nSo remove `/` and `/i` and try with \r\n\r\n    String spattern = &quot;^\\\\s*((P(OST)?.?\\\\s*(O(FF(ICE)?)?)?.?\\\\s+(B(IN|OX))?)|B(IN|OX))&quot;;\r\n    Pattern pattern = Pattern.compile(spattern, Pattern.CASE_INSENSITIVE);\r\n\r\nYou can also pass flags directly to regex string. Just add `(?i)` at the beginning for case insensitive regex. You can add this flag at any place, depending of scope it should affect. For instance if you place it like this `a(?i)a` regex will be able to match `aa` and `aA` but not `Aa` or `AA` because flag works from point between first and second `a`. Similarly `a((?i)a)a` will match `aaa` and `aAa` but will not match `AAa` nor `aAA` because `(?i)` affects only scope of group 1 (the part in parenthesis). More info at http://www.regular-expressions.info/modifiers.html\r\n\r\n---\r\n\r\nAlso, the `matches` method checks if *entire string* is matched by regex, not if string *contains* part that can be matched by regex. Maybe instead of `matches` use the `find` method like\r\n\r\n    System.out.println(pattern.matcher(regex).find());\r\n\r\n\r\n","title":"Regular Expression to match PO Box address","body":"<p>In Java you don't use the form <code>/regex/flags</code>. Instead you can do something like </p>\n\n<pre><code>Pattern.compile(regex, flags);\n</code></pre>\n\n<p>So remove <code>/</code> and <code>/i</code> and try with </p>\n\n<pre><code>String spattern = \"^\\\\s*((P(OST)?.?\\\\s*(O(FF(ICE)?)?)?.?\\\\s+(B(IN|OX))?)|B(IN|OX))\";\nPattern pattern = Pattern.compile(spattern, Pattern.CASE_INSENSITIVE);\n</code></pre>\n\n<p>You can also pass flags directly to regex string. Just add <code>(?i)</code> at the beginning for case insensitive regex. You can add this flag at any place, depending of scope it should affect. For instance if you place it like this <code>a(?i)a</code> regex will be able to match <code>aa</code> and <code>aA</code> but not <code>Aa</code> or <code>AA</code> because flag works from point between first and second <code>a</code>. Similarly <code>a((?i)a)a</code> will match <code>aaa</code> and <code>aAa</code> but will not match <code>AAa</code> nor <code>aAA</code> because <code>(?i)</code> affects only scope of group 1 (the part in parenthesis). More info at <a href=\"http://www.regular-expressions.info/modifiers.html\" rel=\"nofollow\">http://www.regular-expressions.info/modifiers.html</a></p>\n\n<hr>\n\n<p>Also, the <code>matches</code> method checks if <em>entire string</em> is matched by regex, not if string <em>contains</em> part that can be matched by regex. Maybe instead of <code>matches</code> use the <code>find</code> method like</p>\n\n<pre><code>System.out.println(pattern.matcher(regex).find());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1393945567,"creation_date":1393945567,"answer_id":22175576,"question_id":22175332,"body_markdown":"Change your pattern like this:\r\n\r\n    String spattern = &quot;(?i)^\\\\s*((P(OST)?.?\\\\s*(O(FF(ICE)?)?)?.?\\\\s+(B(IN|OX))?)|B(IN|OX))&quot;;\r\n\r\nIf you know you won&#39;t use your pattern often, you can try this instead:\r\n\r\n    String myInput = ....\r\n    \r\n    if (myInput.matches(spattern)) {\r\n         // myInput is a PO BOX ...\r\n    } else {\r\n         // myInput isn&#39;t a PO BOX ...\r\n    }","title":"Regular Expression to match PO Box address","body":"<p>Change your pattern like this:</p>\n\n<pre><code>String spattern = \"(?i)^\\\\s*((P(OST)?.?\\\\s*(O(FF(ICE)?)?)?.?\\\\s+(B(IN|OX))?)|B(IN|OX))\";\n</code></pre>\n\n<p>If you know you won't use your pattern often, you can try this instead:</p>\n\n<pre><code>String myInput = ....\n\nif (myInput.matches(spattern)) {\n     // myInput is a PO BOX ...\n} else {\n     // myInput isn't a PO BOX ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18930534,"reputation":11,"user_id":13812708,"display_name":"Christina"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611219223,"creation_date":1611219223,"answer_id":65823945,"question_id":22175332,"body_markdown":"Regex to check the PO box address, specifically for USA addresses:\r\n\r\nThis works perfectly for me.\r\n\r\n\r\nJava:\r\n\r\nstatic final String thePattern = &quot;(?i)([\\\\w\\\\s*\\\\W]*(P(OST)?.?\\\\s*((O(FF(ICE)?)?).?\\\\s*(B(IN|OX|.?)))+))[\\\\w\\\\s*\\\\W]*|(COMMUNITY\\\\s*)?POST(AL)?\\\\s*(OFF(ICE)?(\\\\s*(BOX|BOZ|BX))?|(BOX|BX))|(^\\\\s*(BOXOC|P\\\\.?0\\\\.?))&quot;;\r\n\r\nSamples which the above regex will detect:\r\n\r\n\r\nPost Office Bin : Valid\r\n\r\nP O Box DesMoines1000 : Valid\r\n\r\n1316  PO BOX Benjamin Street : Valid\r\n\r\nP Browny House : Invalid\r\n\r\nCommunity P Box : Invalid\r\n\r\nP Boxting : Invalid\r\n\r\nP Binter : Invalid\r\n\r\n\r\nJavaScript:\r\n\r\nvar regex = /^([\\w\\s*\\W]*(P(OST)?.?\\s*((O(FF(ICE)?)?).?\\s*(B(IN|OX|.?)))+))[\\w\\s*\\W]*|(COMMUNITY\\s*)?POST(AL)?\\s*(OFF(ICE)?(\\s*(BOX|BOZ|BX))?|(BOX|BX))|(^\\s*(BOXOC|P\\.?0\\.?))$/i;\r\n","title":"Regular Expression to match PO Box address","body":"<p>Regex to check the PO box address, specifically for USA addresses:</p>\n<p>This works perfectly for me.</p>\n<p>Java:</p>\n<p>static final String thePattern = &quot;(?i)([\\w\\s*\\W]<em>(P(OST)?.?\\s</em>((O(FF(ICE)?)?).?\\s*(B(IN|OX|.?)))+))[\\w\\s*\\W]<em>|(COMMUNITY\\s</em>)?POST(AL)?\\s*(OFF(ICE)?(\\s*(BOX|BOZ|BX))?|(BOX|BX))|(^\\s*(BOXOC|P\\.?0\\.?))&quot;;</p>\n<p>Samples which the above regex will detect:</p>\n<p>Post Office Bin : Valid</p>\n<p>P O Box DesMoines1000 : Valid</p>\n<p>1316  PO BOX Benjamin Street : Valid</p>\n<p>P Browny House : Invalid</p>\n<p>Community P Box : Invalid</p>\n<p>P Boxting : Invalid</p>\n<p>P Binter : Invalid</p>\n<p>JavaScript:</p>\n<p>var regex = /^([\\w\\s*\\W]<em>(P(OST)?.?\\s</em>((O(FF(ICE)?)?).?\\s*(B(IN|OX|.?)))+))[\\w\\s*\\W]<em>|(COMMUNITY\\s</em>)?POST(AL)?\\s*(OFF(ICE)?(\\s*(BOX|BOZ|BX))?|(BOX|BX))|(^\\s*(BOXOC|P.?0.?))$/i;</p>\n"}],"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7752,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":22175576,"answer_count":3,"score":8,"last_activity_date":1693932381,"creation_date":1393944970,"question_id":22175332,"body_markdown":"I&#39;m using this regular expression to catch  &quot;PO Box&quot; strings. This seems to work when I test it online but the javacode below is printing false. What mistake am I making?\r\n\r\n&gt; /^\\s*((P(OST)?.?\\s*(O(FF(ICE)?)?)?.?\\s+(B(IN|OX))?)|B(IN|OX))/i\r\n\r\n\r\nString to test - **PO Box 1234**\r\n\r\n        String spattern = &quot;/^\\\\s*((P(OST)?.?\\\\s*(O(FF(ICE)?)?)?.?\\\\s+(B(IN|OX))?)|B(IN|OX))/i&quot;;\r\n\t\t\r\n\t\tString regex = &quot;PO Box 1234&quot;;\r\n\t\t\r\n\t\tPattern pattern = Pattern.compile(spattern);\r\n\t\t\r\n\t\tSystem.out.println(pattern.matcher(regex).matches());\r\n\r\n\r\nI&#39;ve tested the expression online at http://regex101.com/ and it says there is match for the test string","title":"Regular Expression to match PO Box address","body":"<p>I'm using this regular expression to catch  \"PO Box\" strings. This seems to work when I test it online but the javacode below is printing false. What mistake am I making?</p>\n\n<blockquote>\n  <p>/^\\s*((P(OST)?.?\\s*(O(FF(ICE)?)?)?.?\\s+(B(IN|OX))?)|B(IN|OX))/i</p>\n</blockquote>\n\n<p>String to test - <strong>PO Box 1234</strong></p>\n\n<pre><code>    String spattern = \"/^\\\\s*((P(OST)?.?\\\\s*(O(FF(ICE)?)?)?.?\\\\s+(B(IN|OX))?)|B(IN|OX))/i\";\n\n    String regex = \"PO Box 1234\";\n\n    Pattern pattern = Pattern.compile(spattern);\n\n    System.out.println(pattern.matcher(regex).matches());\n</code></pre>\n\n<p>I've tested the expression online at <a href=\"http://regex101.com/\" rel=\"noreferrer\">http://regex101.com/</a> and it says there is match for the test string</p>\n"},{"tags":["java","xml","annotations"],"comments":[{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1693926772,"post_id":77045304,"comment_id":135822423,"body_markdown":"Seems that the schema generator is overwhelmed by this. With the generated schema you are allowed to have 0..2 maps with unlimited entries each. I don&#39;t know which mechanism says schemagen to respect Bean Validation annotations, but this looks like a bug.","body":"Seems that the schema generator is overwhelmed by this. With the generated schema you are allowed to have 0..2 maps with unlimited entries each. I don&#39;t know which mechanism says schemagen to respect Bean Validation annotations, but this looks like a bug."}],"answers":[{"comments":[{"owner":{"account_id":1609540,"reputation":41,"user_id":1488928,"display_name":"shifflettd"},"score":0,"creation_date":1693938783,"post_id":77046315,"comment_id":135824834,"body_markdown":"Thanks for your answer, but my main goal is using the annotations to control the schema generation. Nothing I have found in my searches has shown how to annotate the Map to control the number of map entries.","body":"Thanks for your answer, but my main goal is using the annotations to control the schema generation. Nothing I have found in my searches has shown how to annotate the Map to control the number of map entries."}],"tags":[],"owner":{"account_id":29081592,"reputation":318,"user_id":22464119,"display_name":"DrJay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693932215,"creation_date":1693932215,"answer_id":77046315,"question_id":77045304,"body_markdown":"@Size controls the size constraints on the collection, so it’s affecting the entire myothertypes map.  \r\n\r\nmaxOccurs relates to the number of occurrences of the element.\r\nTo control number of entries, create a custom validation mechanism with a custom getter method, then apply size constraint logic. \r\n\r\njava\r\nimport javax.validation.constraints.Size;\r\nimport java.util.Map;\r\n\r\npublic class YourClass {\r\n    private Map&lt;MyothertypeEnum, Myothertype&gt; myothertypes;\r\n\r\n    // Getter method with custom size validation logic\r\n    @XmlElement\r\n    public Map&lt;MyothertypeEnum, Myothertype&gt; getMyothertypes() {\r\n        if (myothertypes.size() &gt; 2) {\r\n            throw new IllegalStateException(&quot;myothertypes map size exceeds maximum allowed size of 2&quot;);\r\n        }\r\n        return myothertypes;\r\n    }\r\n\r\n    // Other methods and annotations for Myothertypes\r\n}\r\n","title":"How to use annotations to control the size (number of entries) of a Java Map","body":"<p>@Size controls the size constraints on the collection, so it’s affecting the entire myothertypes map.</p>\n<p>maxOccurs relates to the number of occurrences of the element.\nTo control number of entries, create a custom validation mechanism with a custom getter method, then apply size constraint logic.</p>\n<p>java\nimport javax.validation.constraints.Size;\nimport java.util.Map;</p>\n<p>public class YourClass {\nprivate Map&lt;MyothertypeEnum, Myothertype&gt; myothertypes;</p>\n<pre><code>// Getter method with custom size validation logic\n@XmlElement\npublic Map&lt;MyothertypeEnum, Myothertype&gt; getMyothertypes() {\n    if (myothertypes.size() &gt; 2) {\n        throw new IllegalStateException(&quot;myothertypes map size exceeds maximum allowed size of 2&quot;);\n    }\n    return myothertypes;\n}\n\n// Other methods and annotations for Myothertypes\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1609540,"reputation":41,"user_id":1488928,"display_name":"shifflettd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693932215,"creation_date":1693923347,"question_id":77045304,"body_markdown":"I need to be able to use annotations to control the size (number of entries) of a Java Map.\r\n\r\nThe following works for a Java List, but not for a Map:\r\n\r\n```\r\n    @XmlElement\r\n    @Size(max = 2)\r\n    public List&lt;Mytype&gt; getMytypes() { return mytypes; }\r\n\r\n    @XmlElement\r\n    @Size(max = 2)\r\n    public Map&lt;MyothertypeEnum, Myothertype&gt; getMyothertypes() { return myothertypes; }\r\n```\r\n\r\nThe generated schemas (using JAXB) for these look like:\r\n\r\nFor the List:\r\n\r\n```\r\n    &lt;xsd:element name=&quot;mytypes&quot; type=&quot;ns0:Mytype&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;2&quot;/&gt;\r\n```\r\n\r\nFor the Map:\r\n\r\n```\r\n    &lt;xsd:element name=&quot;myothertypes&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;2&quot;&gt;\r\n        &lt;xsd:complexType&gt;\r\n            &lt;xsd:sequence&gt;\r\n                &lt;xsd:element name=&quot;entry&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;\r\n                    &lt;xsd:complexType&gt;\r\n                        &lt;xsd:sequence&gt;\r\n                            &lt;xsd:element name=&quot;key&quot; type=&quot;ns0:MyothertypeEnum&quot; minOccurs=&quot;0&quot;/&gt;\r\n                            &lt;xsd:element name=&quot;value&quot; type=&quot;ns0:Myothertype&quot; minOccurs=&quot;0&quot;/&gt;\r\n                        &lt;/xsd:sequence&gt;\r\n                    &lt;/xsd:complexType&gt;\r\n                &lt;/xsd:element&gt;\r\n            &lt;/xsd:sequence&gt;\r\n        &lt;/xsd:complexType&gt;\r\n    &lt;/xsd:element&gt;\r\n```\r\n\r\nHow do I write the annotations such that the Map &#39;entry&#39; element has a maximum size? I am trying to get the &#39;@Size&#39; annotation to apply to the &#39;entry&#39; element.\r\n\r\nI don&#39;t understand what the macOccurs means on the &#39;myothertypes&#39; element. There should only be one map allowed, not 2.\r\n\r\nThanks in advance for any help.","title":"How to use annotations to control the size (number of entries) of a Java Map","body":"<p>I need to be able to use annotations to control the size (number of entries) of a Java Map.</p>\n<p>The following works for a Java List, but not for a Map:</p>\n<pre><code>    @XmlElement\n    @Size(max = 2)\n    public List&lt;Mytype&gt; getMytypes() { return mytypes; }\n\n    @XmlElement\n    @Size(max = 2)\n    public Map&lt;MyothertypeEnum, Myothertype&gt; getMyothertypes() { return myothertypes; }\n</code></pre>\n<p>The generated schemas (using JAXB) for these look like:</p>\n<p>For the List:</p>\n<pre><code>    &lt;xsd:element name=&quot;mytypes&quot; type=&quot;ns0:Mytype&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;2&quot;/&gt;\n</code></pre>\n<p>For the Map:</p>\n<pre><code>    &lt;xsd:element name=&quot;myothertypes&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;2&quot;&gt;\n        &lt;xsd:complexType&gt;\n            &lt;xsd:sequence&gt;\n                &lt;xsd:element name=&quot;entry&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;\n                    &lt;xsd:complexType&gt;\n                        &lt;xsd:sequence&gt;\n                            &lt;xsd:element name=&quot;key&quot; type=&quot;ns0:MyothertypeEnum&quot; minOccurs=&quot;0&quot;/&gt;\n                            &lt;xsd:element name=&quot;value&quot; type=&quot;ns0:Myothertype&quot; minOccurs=&quot;0&quot;/&gt;\n                        &lt;/xsd:sequence&gt;\n                    &lt;/xsd:complexType&gt;\n                &lt;/xsd:element&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:complexType&gt;\n    &lt;/xsd:element&gt;\n</code></pre>\n<p>How do I write the annotations such that the Map 'entry' element has a maximum size? I am trying to get the '@Size' annotation to apply to the 'entry' element.</p>\n<p>I don't understand what the macOccurs means on the 'myothertypes' element. There should only be one map allowed, not 2.</p>\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","dockerfile"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694341825,"post_id":77039585,"comment_id":135876152,"body_markdown":"Does this answer your question? [Docker-compose check if mysql connection is ready](https://stackoverflow.com/questions/42567475/docker-compose-check-if-mysql-connection-is-ready)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42567475/docker-compose-check-if-mysql-connection-is-ready\">Docker-compose check if mysql connection is ready</a>"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694342158,"post_id":77039585,"comment_id":135876193,"body_markdown":"Also note that your `Dockerfile` is not optimized: you should use a &quot;multistage build&quot; to minimize the image size, see https://docs.docker.com/build/building/multi-stage/.  The final stage should use a JRE base image instead of a JDK one.  It could be, for example, `eclipse-temurin:17-jre-alpine`, or, even smaller, `pnavato/amazoncorretto-jre:17-alpine`.","body":"Also note that your <code>Dockerfile</code> is not optimized: you should use a &quot;multistage build&quot; to minimize the image size, see <a href=\"https://docs.docker.com/build/building/multi-stage/\" rel=\"nofollow noreferrer\">docs.docker.com/build/building/multi-stage</a>.  The final stage should use a JRE base image instead of a JDK one.  It could be, for example, <code>eclipse-temurin:17-jre-alpine</code>, or, even smaller, <code>pnavato&#47;amazoncorretto-jre:17-alpine</code>."}],"owner":{"account_id":29356016,"reputation":1,"user_id":22491951,"display_name":"shiv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693931802,"creation_date":1693847686,"question_id":77039585,"body_markdown":"Created a spring boot 3 application with Java 17, MySql 8. Wanted to deploy the application on Docker. When tried docker-compose up to use spring boot application with MySql 8 image on docker then it shows some error.\r\nError stack&lt;br&gt;\r\n\r\n```\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.example.demo.BasicApplication.main(BasicApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 24 common frames omitted\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:98) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:68) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:64) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.AbstractInformationExtracto\r\n```\r\n\r\nSpring boot application dependency file &lt;br&gt;\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;basic&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;basic&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n       &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- MySQL --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;spring_rest_docker&lt;/finalName&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n \r\n```\r\n\r\nSpring boot application configuration file for database connection&lt;br&gt;\r\napplication.properties\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/basics?allowPublicKeyRetrieval=true\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\nDocker file for configuring spring boot application jar in it.&lt;br&gt;\r\nDockerfile\r\n```\r\n#\r\n# Build stage\r\n#\r\nFROM maven:3.8.3-openjdk-17 AS build\r\nCOPY src /home/app/src\r\nCOPY pom.xml /home/app\r\nRUN mvn -f /home/app/pom.xml clean package\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/home/app/target/spring_rest_docker.jar&quot;]\r\n\r\n```\r\nDocker compose file to configuring mysql 8 image with spring boot application image\r\n\r\n```\r\nversion: &quot;3.7&quot;\r\nservices:\r\n  api_service:\r\n    build: .\r\n    restart: on-failure\r\n    ports:\r\n      - 8080:8080\r\n    networks:\r\n      - springapimysql-net\r\n    environment:\r\n      - spring.datasource.url= jdbc:mysql://mysqldb:3306/basics?allowPublicKeyRetrieval=true\r\n    depends_on:\r\n      - mysqldb\r\n    \r\n    volumes:\r\n      - .m2:/var/lib/mysql\r\n      \r\n  mysqldb:\r\n    image: &quot;mysql:8.0&quot;\r\n    restart: always\r\n    ports:\r\n      - 3306:3306\r\n    networks:\r\n      - springapimysql-net\r\n    environment:\r\n      MYSQL_DATABASE: basics\r\n      MYSQL_PASSWORD: root\r\n      MYSQL_ROOT_PASSWORD: root\r\nnetworks:\r\n  springapimysql-net:\r\n\r\n```","title":"Error: Facing error while running the spring boot 3 application image with MySql 8 image in docker","body":"<p>Created a spring boot 3 application with Java 17, MySql 8. Wanted to deploy the application on Docker. When tried docker-compose up to use spring boot application with MySql 8 image on docker then it shows some error.\nError stack<br></p>\n<pre><code>springboot-mysql-with-docker-compose-master-api_service-1  | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.example.demo.BasicApplication.main(BasicApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 24 common frames omitted\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:98) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:68) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:64) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.AbstractInformationExtracto\n</code></pre>\n<p>Spring boot application dependency file <br>\npom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;basic&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;basic&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n       &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- MySQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;spring_rest_docker&lt;/finalName&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n \n</code></pre>\n<p>Spring boot application configuration file for database connection<br>\napplication.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/basics?allowPublicKeyRetrieval=true\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>Docker file for configuring spring boot application jar in it.<br>\nDockerfile</p>\n<pre><code>#\n# Build stage\n#\nFROM maven:3.8.3-openjdk-17 AS build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/home/app/target/spring_rest_docker.jar&quot;]\n\n</code></pre>\n<p>Docker compose file to configuring mysql 8 image with spring boot application image</p>\n<pre><code>version: &quot;3.7&quot;\nservices:\n  api_service:\n    build: .\n    restart: on-failure\n    ports:\n      - 8080:8080\n    networks:\n      - springapimysql-net\n    environment:\n      - spring.datasource.url= jdbc:mysql://mysqldb:3306/basics?allowPublicKeyRetrieval=true\n    depends_on:\n      - mysqldb\n    \n    volumes:\n      - .m2:/var/lib/mysql\n      \n  mysqldb:\n    image: &quot;mysql:8.0&quot;\n    restart: always\n    ports:\n      - 3306:3306\n    networks:\n      - springapimysql-net\n    environment:\n      MYSQL_DATABASE: basics\n      MYSQL_PASSWORD: root\n      MYSQL_ROOT_PASSWORD: root\nnetworks:\n  springapimysql-net:\n\n</code></pre>\n"},{"tags":["java","c"],"comments":[{"owner":{"account_id":31679,"reputation":209518,"user_id":87189,"accept_rate":100,"display_name":"tadman"},"score":0,"creation_date":1693922697,"post_id":77045179,"comment_id":135821423,"body_markdown":"Are you sure that&#39;s the right format? What does `file` say?","body":"Are you sure that&#39;s the right format? What does <code>file</code> say?"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1693923014,"post_id":77045179,"comment_id":135821493,"body_markdown":"What error message do you get, in addition to &quot;Not a zip archive&quot;? Any error codes? Are you sure that the arguments to `zip_open` are correct?","body":"What error message do you get, in addition to &quot;Not a zip archive&quot;? Any error codes? Are you sure that the arguments to <code>zip_open</code> are correct?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1693923539,"post_id":77045179,"comment_id":135821627,"body_markdown":"`unzip` can unpack it because the real zip header is at the end of the file. The &quot;PK&quot; header seems to be four bytes in, if you skip/delete the first four bytes, it should start looking more like a zip.","body":"<code>unzip</code> can unpack it because the real zip header is at the end of the file. The &quot;PK&quot; header seems to be four bytes in, if you skip/delete the first four bytes, it should start looking more like a zip."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1693923652,"post_id":77045179,"comment_id":135821656,"body_markdown":"Other than that it&#39;s the uhh [JMOD](https://stackoverflow.com/questions/44732915/why-did-java-9-introduce-the-jmod-file-format) format.","body":"Other than that it&#39;s the uhh <a href=\"https://stackoverflow.com/questions/44732915/why-did-java-9-introduce-the-jmod-file-format\">JMOD</a> format."},{"owner":{"account_id":29371507,"reputation":13,"user_id":22504028,"display_name":"BH5HYR"},"score":0,"creation_date":1693969378,"post_id":77045179,"comment_id":135828392,"body_markdown":"thanks all. double checked : 1. there is no other error code.   2. arguments to zip_open are correct.","body":"thanks all. double checked : 1. there is no other error code.   2. arguments to zip_open are correct."},{"owner":{"account_id":29371507,"reputation":13,"user_id":22504028,"display_name":"BH5HYR"},"score":0,"creation_date":1693975475,"post_id":77045179,"comment_id":135828819,"body_markdown":"succeed!!!   1. buffered the jmod file using char* and skip the first 4 bytes.  2. use zip_open_from_source instead of zip_open.","body":"succeed!!!   1. buffered the jmod file using char* and skip the first 4 bytes.  2. use zip_open_from_source instead of zip_open."}],"answers":[{"comments":[{"owner":{"account_id":29371507,"reputation":13,"user_id":22504028,"display_name":"BH5HYR"},"score":0,"creation_date":1693969486,"post_id":77046242,"comment_id":135828397,"body_markdown":"thanks for your answer. let me have a try.","body":"thanks for your answer. let me have a try."},{"owner":{"account_id":29371507,"reputation":13,"user_id":22504028,"display_name":"BH5HYR"},"score":0,"creation_date":1693975464,"post_id":77046242,"comment_id":135828818,"body_markdown":"succeed!!!   1. buffered the jmod file using char* and skip the first 4 bytes.  2. use zip_open_from_source instead of zip_open.","body":"succeed!!!   1. buffered the jmod file using char* and skip the first 4 bytes.  2. use zip_open_from_source instead of zip_open."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693931535,"creation_date":1693931535,"answer_id":77046242,"question_id":77045179,"body_markdown":"jmod files are designed to be a file format controlled by team OpenJDK and not user-readable. The fact that `unzip` can read them __is an implementation detail__. If you write code that relies on this, you should assume that with some future OpenJDK release your C code will just break.\r\n\r\n## Option 1 - go with the flow\r\n\r\nThus, instead, use the `jmod` tool. Call that executable directly. This does of course require that you either ask the user that they install a JDK and tell you where it lives so you know where to find that executable, or that you ship a JDK build with your software, or that you build it yourself and ship it along. java is open source but if you do it that way I&#39;m pretty sure you&#39;d have to GPL your project.\r\n\r\n## Option 2 - hack around it - the zip file format\r\n\r\n### Background\r\n\r\nThe zip file format is actually a container format. It&#39;s really closer to &#39;tar&#39; than &#39;gz&#39; - it describes how to store directory structures (zip files know the file names of the packed-up stuff, after all!), and properties such as comments, whether an entry is encrypted or not, and which compression algorithm is used. Every entry can be compressed differently!\r\n\r\nIn that sense, a billion and a half things can feasibly be termed a zip file. This is problematic, because writing a zip tool that can unzip everything imaginable is difficult. Hence, there&#39;s the ISO/IEC 21320-1 standard that is __a subset__. For example, it restricts the &#39;compression algorithm used&#39; to either 0 (no compression at all) or 8 (deflate algorithm). No other algorithm is allowed, in the sense that another number is a perfectly valid zip file, but ISO/IEC 21320-1 compatible tools __cannot read such a zip file__.\r\n\r\n__Lesson 1: Things that `unzip` can unzip do not have to be valid zip files in the sense of ISO/IEC 21320-1 - zip can do a lot more. But most zip libraries and other zip-capable tools CANNOT read anything that isn&#39;t ISO/IEC 21320-1 compatible__.\r\n\r\nZip files have an interesting trick: The actual header data, as in, the dir structure, which compression algorithm was used, and so on, are __at the end of the file__. Most file formats store such things at the start!\r\n\r\nThe reason zip works that way, is that this &#39;trick&#39; allows the `zip` tool&#39;s `-u` (update) feature to work: You can add some entries to a zip file and this __does not__ require rewriting the whole file. Most file systems don&#39;t mind if you overwrite bytes in a file, nor do they mind if you append bytes at the end, but if you start inserting bytes in the middle, you can&#39;t do that - you&#39;d have to rewrite the entire thing.\r\n\r\nIf you have a gigantic 4GB zip file and you want to append a tiny little text file, it&#39;s quite painful if this tiny addition means the headers are different, _if the headers are at the front_, because then the whole 4GB needs to be rewritten. zip doesn&#39;t work that way - the headers are at the end, so to add another file, you can leave 3.99GB untouched, write the compressed added file after that, and then only rewrite the &#39;headers&#39; (the dir structure and such).\r\n\r\nAlmost nobody uses this &#39;update&#39; feature and few libraries let you do it, so this may be irrelevant to you. Nevertheless, it explains __why__ the zip file format is one of those weirdos where, to know if a file is a zip and to start unpacking it, __you must start at the end and look backwards__.\r\n\r\nHowever, because various tools just cannot operate on that weirdness and REQUIRE that a file start with something that uniquely identifies the file, _the `zip` tool writes `PK` (the byte sequence in ASCII) first, _then_ compressed file data, _then_ the headers. This way tools can see the PK and know it&#39;s a zip file.\r\n\r\n__Lesson 2: The unzip tool does not require this PK and in fact completely ignores it, it ONLY looks at the end of a file and takes it from there. However, other zip-capable tools may require the PK start. unzip does not__.\r\n\r\nYes, you can prepend any random crap to the front of a zip file and it will not affect what `unzip` does in any way.\r\n\r\n## jmod\r\n\r\nJmod uses the above 2 facts to its advantage. Because the jmod spec explicitly does not want to spec that all jmods are valid zips, i.e. it wants to keep the door open to change the file format at a later date, jmods __do not start with PK__. The zip file format doesn&#39;t require this, after all (at least, the `unzip` tool doesn&#39;t. ISO/IEC compatible zips do require it. jmods aren&#39;t ISO/IEC compatible zip files. But they are unzip compatible). Instead, jmods start with the jmod header.\r\n\r\nThe JMOD header is the letters &#39;JM&#39; (ascii 0x4A ascii 0x4D), then 2 more bytes indicating the major and minor version of the jmod file format (currently that&#39;s always 0x01 and then 0x00, for major version 1, minor version 0), and then the actual jmod content follows.\r\n\r\nFor JMOD format v1.0, &#39;the jmod file format&#39; is just: &quot;A zip file, structures like -this-&quot;, where &#39;-this-&#39; is quite a long story about e.g. having a root-level dir named &#39;classes&#39;, and so on.\r\n\r\n__Because the `unzip` tool only looks at the end and doesn&#39;t care what garbage you prepend to the front of a zip file, the unzip tool doesn&#39;t care one iota about that 0x4A 0x4D 0x01 0x00 in the front)__.\r\n\r\nBut, evidently, `libzip` _does care_.\r\n\r\n## The fix\r\n\r\nFigure out if you can tell libzip to ignore the first 4 bytes or otherwise provide it a stream that has lopped off the first 4 bytes. Alternatively, tell libzip to ignore trying to scan for &#39;validity&#39; and just do what `unzip` does and look at the end of the file. Alternatively, find another C-based zip tool that works like that. Alternatively, copy the file over, starting from the 4th byte.\r\n\r\nMore generally you should really open up the JMOD and read the first 4 bytes. If the first 4 bytes aren&#39;t the exact sequence 0x4A 0x4D 0x01 0x00 __you should abort with an error__ because if it&#39;s not exactly that, you have no idea what the rest of the bytes represent. They might be a rar file now instead, who knows. The OpenJDK team makes no promises - if that header isn&#39;t exactly that, the format can be _completely different_. If you don&#39;t like that, your only option is to call `jmod` or compile the latest release of jmod into your deployed executables.\r\n","title":"how to read jmod file(JAVA&#39;s jmod file) in c","body":"<p>jmod files are designed to be a file format controlled by team OpenJDK and not user-readable. The fact that <code>unzip</code> can read them <strong>is an implementation detail</strong>. If you write code that relies on this, you should assume that with some future OpenJDK release your C code will just break.</p>\n<h2>Option 1 - go with the flow</h2>\n<p>Thus, instead, use the <code>jmod</code> tool. Call that executable directly. This does of course require that you either ask the user that they install a JDK and tell you where it lives so you know where to find that executable, or that you ship a JDK build with your software, or that you build it yourself and ship it along. java is open source but if you do it that way I'm pretty sure you'd have to GPL your project.</p>\n<h2>Option 2 - hack around it - the zip file format</h2>\n<h3>Background</h3>\n<p>The zip file format is actually a container format. It's really closer to 'tar' than 'gz' - it describes how to store directory structures (zip files know the file names of the packed-up stuff, after all!), and properties such as comments, whether an entry is encrypted or not, and which compression algorithm is used. Every entry can be compressed differently!</p>\n<p>In that sense, a billion and a half things can feasibly be termed a zip file. This is problematic, because writing a zip tool that can unzip everything imaginable is difficult. Hence, there's the ISO/IEC 21320-1 standard that is <strong>a subset</strong>. For example, it restricts the 'compression algorithm used' to either 0 (no compression at all) or 8 (deflate algorithm). No other algorithm is allowed, in the sense that another number is a perfectly valid zip file, but ISO/IEC 21320-1 compatible tools <strong>cannot read such a zip file</strong>.</p>\n<p><strong>Lesson 1: Things that <code>unzip</code> can unzip do not have to be valid zip files in the sense of ISO/IEC 21320-1 - zip can do a lot more. But most zip libraries and other zip-capable tools CANNOT read anything that isn't ISO/IEC 21320-1 compatible</strong>.</p>\n<p>Zip files have an interesting trick: The actual header data, as in, the dir structure, which compression algorithm was used, and so on, are <strong>at the end of the file</strong>. Most file formats store such things at the start!</p>\n<p>The reason zip works that way, is that this 'trick' allows the <code>zip</code> tool's <code>-u</code> (update) feature to work: You can add some entries to a zip file and this <strong>does not</strong> require rewriting the whole file. Most file systems don't mind if you overwrite bytes in a file, nor do they mind if you append bytes at the end, but if you start inserting bytes in the middle, you can't do that - you'd have to rewrite the entire thing.</p>\n<p>If you have a gigantic 4GB zip file and you want to append a tiny little text file, it's quite painful if this tiny addition means the headers are different, <em>if the headers are at the front</em>, because then the whole 4GB needs to be rewritten. zip doesn't work that way - the headers are at the end, so to add another file, you can leave 3.99GB untouched, write the compressed added file after that, and then only rewrite the 'headers' (the dir structure and such).</p>\n<p>Almost nobody uses this 'update' feature and few libraries let you do it, so this may be irrelevant to you. Nevertheless, it explains <strong>why</strong> the zip file format is one of those weirdos where, to know if a file is a zip and to start unpacking it, <strong>you must start at the end and look backwards</strong>.</p>\n<p>However, because various tools just cannot operate on that weirdness and REQUIRE that a file start with something that uniquely identifies the file, _the <code>zip</code> tool writes <code>PK</code> (the byte sequence in ASCII) first, <em>then</em> compressed file data, <em>then</em> the headers. This way tools can see the PK and know it's a zip file.</p>\n<p><strong>Lesson 2: The unzip tool does not require this PK and in fact completely ignores it, it ONLY looks at the end of a file and takes it from there. However, other zip-capable tools may require the PK start. unzip does not</strong>.</p>\n<p>Yes, you can prepend any random crap to the front of a zip file and it will not affect what <code>unzip</code> does in any way.</p>\n<h2>jmod</h2>\n<p>Jmod uses the above 2 facts to its advantage. Because the jmod spec explicitly does not want to spec that all jmods are valid zips, i.e. it wants to keep the door open to change the file format at a later date, jmods <strong>do not start with PK</strong>. The zip file format doesn't require this, after all (at least, the <code>unzip</code> tool doesn't. ISO/IEC compatible zips do require it. jmods aren't ISO/IEC compatible zip files. But they are unzip compatible). Instead, jmods start with the jmod header.</p>\n<p>The JMOD header is the letters 'JM' (ascii 0x4A ascii 0x4D), then 2 more bytes indicating the major and minor version of the jmod file format (currently that's always 0x01 and then 0x00, for major version 1, minor version 0), and then the actual jmod content follows.</p>\n<p>For JMOD format v1.0, 'the jmod file format' is just: &quot;A zip file, structures like -this-&quot;, where '-this-' is quite a long story about e.g. having a root-level dir named 'classes', and so on.</p>\n<p><strong>Because the <code>unzip</code> tool only looks at the end and doesn't care what garbage you prepend to the front of a zip file, the unzip tool doesn't care one iota about that 0x4A 0x4D 0x01 0x00 in the front)</strong>.</p>\n<p>But, evidently, <code>libzip</code> <em>does care</em>.</p>\n<h2>The fix</h2>\n<p>Figure out if you can tell libzip to ignore the first 4 bytes or otherwise provide it a stream that has lopped off the first 4 bytes. Alternatively, tell libzip to ignore trying to scan for 'validity' and just do what <code>unzip</code> does and look at the end of the file. Alternatively, find another C-based zip tool that works like that. Alternatively, copy the file over, starting from the 4th byte.</p>\n<p>More generally you should really open up the JMOD and read the first 4 bytes. If the first 4 bytes aren't the exact sequence 0x4A 0x4D 0x01 0x00 <strong>you should abort with an error</strong> because if it's not exactly that, you have no idea what the rest of the bytes represent. They might be a rar file now instead, who knows. The OpenJDK team makes no promises - if that header isn't exactly that, the format can be <em>completely different</em>. If you don't like that, your only option is to call <code>jmod</code> or compile the latest release of jmod into your deployed executables.</p>\n"}],"owner":{"account_id":29371507,"reputation":13,"user_id":22504028,"display_name":"BH5HYR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77046242,"answer_count":1,"score":1,"last_activity_date":1693931535,"creation_date":1693922414,"question_id":77045179,"body_markdown":"I&#39;m trying to read jmod file as zip using `libzip` but got an error message :&quot;Not a zip archive&quot;.\r\n\r\nI tried to read jmod file in c using libzip the code as below:\r\n\r\n```C\r\nzip_open(&quot;/xxxxx/java.base.jmod&quot;,0, &amp;errno);\r\n```\r\nbut without success.\r\n\r\nNevertheless, the jmod file can be unzipped by &quot;unzip&quot; command.\r\n\r\nSo what&#39;s the jmod file type?\r\n","title":"how to read jmod file(JAVA&#39;s jmod file) in c","body":"<p>I'm trying to read jmod file as zip using <code>libzip</code> but got an error message :&quot;Not a zip archive&quot;.</p>\n<p>I tried to read jmod file in c using libzip the code as below:</p>\n<pre><code>zip_open(&quot;/xxxxx/java.base.jmod&quot;,0, &amp;errno);\n</code></pre>\n<p>but without success.</p>\n<p>Nevertheless, the jmod file can be unzipped by &quot;unzip&quot; command.</p>\n<p>So what's the jmod file type?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693859248,"post_id":77040081,"comment_id":135812638,"body_markdown":"Have you tried to add default constructor and one without params ?","body":"Have you tried to add default constructor and one without params ?"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1693864350,"post_id":77040081,"comment_id":135813230,"body_markdown":"@AndreiLisa no but thanks for the suggestion, I&#39;ll try it and provide an update.","body":"@AndreiLisa no but thanks for the suggestion, I&#39;ll try it and provide an update."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1693917449,"post_id":77040081,"comment_id":135820140,"body_markdown":"@AndreiLisa no the error remains the same","body":"@AndreiLisa no the error remains the same"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693918457,"post_id":77040081,"comment_id":135820384,"body_markdown":"have you provided `hibernate-envers` to dependency that also have the same version of `hibernate-core` ?","body":"have you provided <code>hibernate-envers</code> to dependency that also have the same version of <code>hibernate-core</code> ?"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1693923822,"post_id":77040081,"comment_id":135821692,"body_markdown":"@AndreiLisa I did not have the `hibernate-core` dependency in my `pom.xml` however when I add the dependency ```&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;6.3.0.Final&lt;/version&gt; \n    &lt;/dependency&gt;``` I get the error: `Dependency &#39;org.hibernate:hibernate-core:&#39; not found`","body":"@AndreiLisa I did not have the <code>hibernate-core</code> dependency in my <code>pom.xml</code> however when I add the dependency <code>&lt;dependency&gt;         &lt;groupId&gt;org.hibernate&lt;&#47;groupId&gt;         &lt;artifactId&gt;hibernate-core&lt;&#47;artifactId&gt;         &lt;version&gt;6.3.0.Final&lt;&#47;version&gt;      &lt;&#47;dependency&gt;</code> I get the error: <code>Dependency &#39;org.hibernate:hibernate-core:&#39; not found</code>"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693924658,"post_id":77040081,"comment_id":135821921,"body_markdown":"`&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;6.3.0.Final&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;`","body":"<code>&lt;dependency&gt;     &lt;groupId&gt;org.hibernate&lt;&#47;groupId&gt;     &lt;artifactId&gt;hibernate-core&lt;&#47;artifactId&gt;     &lt;version&gt;6.3.0.Final&lt;&#47;version&gt;     &lt;type&gt;pom&lt;&#47;type&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693924701,"post_id":77040081,"comment_id":135821936,"body_markdown":"just an update, add also in the question body pom.xml file","body":"just an update, add also in the question body pom.xml file"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1693930221,"post_id":77040081,"comment_id":135823210,"body_markdown":"@AndreiLisa sorry for the late reply, I&#39;m working with some restrictions. I&#39;ve added the `pom.xml&#39; code.","body":"@AndreiLisa sorry for the late reply, I&#39;m working with some restrictions. I&#39;ve added the `pom.xml&#39; code."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693931364,"post_id":77040081,"comment_id":135823447,"body_markdown":"i just have added a answer.","body":"i just have added a answer."}],"answers":[{"comments":[{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1693932054,"post_id":77046223,"comment_id":135823578,"body_markdown":"I updated the dependency, it&#39;s not working so far, so I&#39;m trying to change the `javax` to `jakarta` but it&#39;s recommended that I don&#39;t modify a generated class, Querydsl generates these classes correct? How do I modify it to use `jakarta` instead of `javax`?","body":"I updated the dependency, it&#39;s not working so far, so I&#39;m trying to change the <code>javax</code> to <code>jakarta</code> but it&#39;s recommended that I don&#39;t modify a generated class, Querydsl generates these classes correct? How do I modify it to use <code>jakarta</code> instead of <code>javax</code>?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693933545,"post_id":77046223,"comment_id":135823897,"body_markdown":"be sure that when it is going to be generated is using `jakarta` how do you can achieve it, simple upgrade the dependency, from `pom.xml`, to know  from hibernate 6.x is using `jakarta`","body":"be sure that when it is going to be generated is using <code>jakarta</code> how do you can achieve it, simple upgrade the dependency, from <code>pom.xml</code>, to know  from hibernate 6.x is using <code>jakarta</code>"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693933645,"post_id":77046223,"comment_id":135823920,"body_markdown":"`mvn dependency:tree`  can help you to do it.","body":"<code>mvn dependency:tree</code>  can help you to do it."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1693942345,"post_id":77046223,"comment_id":135825451,"body_markdown":"I tried installing maven but no luck.","body":"I tried installing maven but no luck."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693946002,"post_id":77046223,"comment_id":135826013,"body_markdown":"Can you share the error message ?","body":"Can you share the error message ?"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1694003306,"post_id":77046223,"comment_id":135833604,"body_markdown":"sure, I&#39;m not getting the same error I was getting yesterday, now I am getting: `Failed to retrieve plugin descriptor for org.jooq:jooq-codegen-maven:3.18.5: Plugin org.jooq:jooq-codegen-maven:3.18.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.jooq:jooq-codegen-maven:3.18.5: Downloading from central: https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-maven-plugin/1.8.22/kotlin-maven-plugin-1.8.22.pom`. This error in on a loop in the terminal","body":"sure, I&#39;m not getting the same error I was getting yesterday, now I am getting: <code>Failed to retrieve plugin descriptor for org.jooq:jooq-codegen-maven:3.18.5: Plugin org.jooq:jooq-codegen-maven:3.18.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.jooq:jooq-codegen-maven:3.18.5: Downloading from central: https:&#47;&#47;repo.maven.apache.org&#47;maven2&#47;org&#47;jetbrains&#47;kotlin&#47;ko&zwnj;&#8203;tlin-maven-plugin&#47;1.&zwnj;&#8203;8.22&#47;kotlin-maven-pl&zwnj;&#8203;ugin-1.8.22.pom</code>. This error in on a loop in the terminal"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694004606,"post_id":77046223,"comment_id":135833936,"body_markdown":"i think it it an topic for another question because dont have anythings relevant with `hibernate-envers` and also if `java: cannot find symbol\n  symbol:   class QDefaultRevisionEntity\n  location: package org.hibernate.envers` don`t appear the problem was solved, by the way i wait your feedback about it.","body":"i think it it an topic for another question because dont have anythings relevant with <code>hibernate-envers</code> and also if <code>java: cannot find symbol   symbol:   class QDefaultRevisionEntity   location: package org.hibernate.envers</code> don`t appear the problem was solved, by the way i wait your feedback about it."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1694008251,"post_id":77046223,"comment_id":135834818,"body_markdown":"The `CustomRevisionEntity` extends `DefaultRevisionEntity` and I temporally removed the extension and the file syntax is obviously different but no error..So I think there&#39;s something wrong with the `DefaultRevisionEntity` java class, and my hibernate-envers dependency is configured to use the latest version ex: `${hibernate.version}`","body":"The <code>CustomRevisionEntity</code> extends <code>DefaultRevisionEntity</code> and I temporally removed the extension and the file syntax is obviously different but no error..So I think there&#39;s something wrong with the <code>DefaultRevisionEntity</code> java class, and my hibernate-envers dependency is configured to use the latest version ex: <code>${hibernate.version}</code>"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693931332,"creation_date":1693931332,"answer_id":77046223,"question_id":77040081,"body_markdown":"After executed, the maven build with `pom.xml` file that you provide, i can say: I new version of hibernate `org.hibernate:hibernate-envers` has been relocated to `org.hibernate.orm:hibernate-envers` also you have a `WAR` in build output.\r\n\r\n[![war][1]][1]\r\n\r\nThe only thing what you should to do is change the dependency imports from:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nto\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nYou do not need `hibernate-core` dependency it has already imported from `spring-boot-starter-data-jpa`. Be sure that all imports in the project are from `jakarta.` not `javax.` it is very important thing.\r\n\r\n I think it will solve the problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/slLBr.png","title":"Cannot resolve symbol &#39;QDefaultRevisionEntity&#39; when using the org.hibernate.envers package","body":"<p>After executed, the maven build with <code>pom.xml</code> file that you provide, i can say: I new version of hibernate <code>org.hibernate:hibernate-envers</code> has been relocated to <code>org.hibernate.orm:hibernate-envers</code> also you have a <code>WAR</code> in build output.</p>\n<p><a href=\"https://i.stack.imgur.com/slLBr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/slLBr.png\" alt=\"war\" /></a></p>\n<p>The only thing what you should to do is change the dependency imports from:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You do not need <code>hibernate-core</code> dependency it has already imported from <code>spring-boot-starter-data-jpa</code>. Be sure that all imports in the project are from <code>jakarta.</code> not <code>javax.</code> it is very important thing.</p>\n<p>I think it will solve the problem.</p>\n"}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693931332,"creation_date":1693854267,"question_id":77040081,"body_markdown":"I have a spring application that uses the org.hibernate.envers package, once I try to compile the application I get this error:\r\n```\r\njava: cannot find symbol\r\n  symbol:   class QDefaultRevisionEntity\r\n  location: package org.hibernate.envers\r\n```\r\nThis is within the generated-source file directory and it extends the Entity that follows:\r\n```\r\nimport jakarta.persistence.Entity;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.envers.DefaultRevisionEntity;\r\nimport org.hibernate.envers.RevisionEntity;\r\nimport jakarta.persistence.*;\r\n\r\n@Setter @Getter\r\n@Entity\r\n@Table(name = &quot;&quot;)\r\n@RevisionEntity(CustomRevisionListener.class)\r\npublic class CustomRevisionEntity extends DefaultRevisionEntity {\r\n    private Integer authenticatedUserId;\r\n}\r\n\r\n```\r\nFinally this is the generated-file: Where I&#39;m getting the following error(s): **Cannot resolve symbol &#39;timestamp&#39;, Cannot resolve symbol &#39;id&#39; and Cannot resolve symbol &#39;QDefaultRevisionEntity&#39;**\r\n```\r\nimport static com.querydsl.core.types.PathMetadataFactory.*;\r\n\r\nimport com.querydsl.core.types.dsl.*;\r\n\r\nimport com.querydsl.core.types.PathMetadata;\r\nimport javax.annotation.processing.Generated;\r\nimport com.querydsl.core.types.Path;\r\n\r\n\r\n/**\r\n * QCustomRevisionEntity is a Querydsl query type for CustomRevisionEntity\r\n */\r\n@Generated(&quot;com.querydsl.codegen.DefaultEntitySerializer&quot;)\r\npublic class QCustomRevisionEntity extends EntityPathBase&lt;CustomRevisionEntity&gt; {\r\n\r\n    private static final long serialVersionUID = -697850477L;\r\n\r\n    public static final QCustomRevisionEntity customRevisionEntity = new QCustomRevisionEntity(&quot;customRevisionEntity&quot;);\r\n\r\n    public final org.hibernate.envers.QDefaultRevisionEntity _super = new org.hibernate.envers.QDefaultRevisionEntity(this);\r\n\r\n    public final NumberPath&lt;Integer&gt; authenticatedUserId = createNumber(&quot;authenticatedUserId&quot;, Integer.class);\r\n\r\n    //inherited\r\n    public final NumberPath&lt;Integer&gt; id = _super.id;\r\n\r\n    //inherited\r\n    public final NumberPath&lt;Long&gt; timestamp = _super.timestamp;\r\n\r\n    public QCustomRevisionEntity(String variable) {\r\n        super(CustomRevisionEntity.class, forVariable(variable));\r\n    }\r\n\r\n    public QCustomRevisionEntity(Path&lt;? extends CustomRevisionEntity&gt; path) {\r\n        super(path.getType(), path.getMetadata());\r\n    }\r\n\r\n    public QCustomRevisionEntity(PathMetadata metadata) {\r\n        super(CustomRevisionEntity.class, metadata);\r\n    }\r\n\r\n}\r\n```\r\nHere is the `pom.xml` file\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;redacted&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;redacted&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;redacted&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;description&gt;Redacted&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;--&gt;\r\n&lt;!--&amp;lt;!&amp;ndash;\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;&amp;ndash;&amp;gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-envers --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;version&gt;6.3.0.Final&lt;/version&gt;--&gt;\r\n&lt;!--\t\t\t&lt;type&gt;pom&lt;/type&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-envers --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.darrachequesne&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa-datatables&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Cannot resolve symbol &#39;QDefaultRevisionEntity&#39; when using the org.hibernate.envers package","body":"<p>I have a spring application that uses the org.hibernate.envers package, once I try to compile the application I get this error:</p>\n<pre><code>java: cannot find symbol\n  symbol:   class QDefaultRevisionEntity\n  location: package org.hibernate.envers\n</code></pre>\n<p>This is within the generated-source file directory and it extends the Entity that follows:</p>\n<pre><code>import jakarta.persistence.Entity;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.envers.DefaultRevisionEntity;\nimport org.hibernate.envers.RevisionEntity;\nimport jakarta.persistence.*;\n\n@Setter @Getter\n@Entity\n@Table(name = &quot;&quot;)\n@RevisionEntity(CustomRevisionListener.class)\npublic class CustomRevisionEntity extends DefaultRevisionEntity {\n    private Integer authenticatedUserId;\n}\n\n</code></pre>\n<p>Finally this is the generated-file: Where I'm getting the following error(s): <strong>Cannot resolve symbol 'timestamp', Cannot resolve symbol 'id' and Cannot resolve symbol 'QDefaultRevisionEntity'</strong></p>\n<pre><code>import static com.querydsl.core.types.PathMetadataFactory.*;\n\nimport com.querydsl.core.types.dsl.*;\n\nimport com.querydsl.core.types.PathMetadata;\nimport javax.annotation.processing.Generated;\nimport com.querydsl.core.types.Path;\n\n\n/**\n * QCustomRevisionEntity is a Querydsl query type for CustomRevisionEntity\n */\n@Generated(&quot;com.querydsl.codegen.DefaultEntitySerializer&quot;)\npublic class QCustomRevisionEntity extends EntityPathBase&lt;CustomRevisionEntity&gt; {\n\n    private static final long serialVersionUID = -697850477L;\n\n    public static final QCustomRevisionEntity customRevisionEntity = new QCustomRevisionEntity(&quot;customRevisionEntity&quot;);\n\n    public final org.hibernate.envers.QDefaultRevisionEntity _super = new org.hibernate.envers.QDefaultRevisionEntity(this);\n\n    public final NumberPath&lt;Integer&gt; authenticatedUserId = createNumber(&quot;authenticatedUserId&quot;, Integer.class);\n\n    //inherited\n    public final NumberPath&lt;Integer&gt; id = _super.id;\n\n    //inherited\n    public final NumberPath&lt;Long&gt; timestamp = _super.timestamp;\n\n    public QCustomRevisionEntity(String variable) {\n        super(CustomRevisionEntity.class, forVariable(variable));\n    }\n\n    public QCustomRevisionEntity(Path&lt;? extends CustomRevisionEntity&gt; path) {\n        super(path.getType(), path.getMetadata());\n    }\n\n    public QCustomRevisionEntity(PathMetadata metadata) {\n        super(CustomRevisionEntity.class, metadata);\n    }\n\n}\n</code></pre>\n<p>Here is the <code>pom.xml</code> file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;redacted&lt;/groupId&gt;\n    &lt;artifactId&gt;redacted&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;redacted&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;Redacted&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;mysql&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;--&gt;\n&lt;!--&amp;lt;!&amp;ndash;            &lt;version&gt;${hibernate.version}&lt;/version&gt;&amp;ndash;&amp;gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-envers --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;6.3.0.Final&lt;/version&gt;--&gt;\n&lt;!--            &lt;type&gt;pom&lt;/type&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-envers --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.darrachequesne&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa-datatables&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;6.0.4&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","json","xml","namespaces","converters"],"comments":[{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1562751596,"post_id":56967713,"comment_id":100472499,"body_markdown":"I mean, there is no such thing as namespaces in JSON, so...","body":"I mean, there is no such thing as namespaces in JSON, so..."},{"owner":{"account_id":15231654,"reputation":97,"user_id":10990603,"display_name":"Ajith"},"score":0,"creation_date":1562754854,"post_id":56967713,"comment_id":100474278,"body_markdown":"There is no such thing as namesapce in json. But if we convert a xml to json..the json object can have namespace.","body":"There is no such thing as namesapce in json. But if we convert a xml to json..the json object can have namespace."},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1562764311,"post_id":56967713,"comment_id":100479421,"body_markdown":"I have no idea what you mean. You should provide examples. But when something doesn&#39;t have namespaces to begin with, there is no magical circumstances that will make it somehow that it now has namespaces. JSON doesn&#39;t have namespaces. So, nothing will make it so that it has namespaces.","body":"I have no idea what you mean. You should provide examples. But when something doesn&#39;t have namespaces to begin with, there is no magical circumstances that will make it somehow that it now has namespaces. JSON doesn&#39;t have namespaces. So, nothing will make it so that it has namespaces."},{"owner":{"account_id":15231654,"reputation":97,"user_id":10990603,"display_name":"Ajith"},"score":0,"creation_date":1562764446,"post_id":56967713,"comment_id":100479507,"body_markdown":"Yeah I know,json wont have namespaces. But jsonObject or keys can be namspaces right. I have given the xml above and the xml has namespace. I need to convert this xml to json and modify certain values from the json and convert it back.So when i convert it back to xml,I need the namespaces back properly inorder for it to be a valid json","body":"Yeah I know,json wont have namespaces. But jsonObject or keys can be namspaces right. I have given the xml above and the xml has namespace. I need to convert this xml to json and modify certain values from the json and convert it back.So when i convert it back to xml,I need the namespaces back properly inorder for it to be a valid json"},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1562776065,"post_id":56967713,"comment_id":100486176,"body_markdown":"Namespaces are essentially part of the elements&#39; names: they are always the same. Don&#39;t put namespaces in the JSON and just use names that are unique enough that they don&#39;t need to be separated in namespaces. Then when converting it back to XML, put the namespaces back. No library will do such a conversion for you, first convert from XML to object then from object to JSON, and the other way around.","body":"Namespaces are essentially part of the elements&#39; names: they are always the same. Don&#39;t put namespaces in the JSON and just use names that are unique enough that they don&#39;t need to be separated in namespaces. Then when converting it back to XML, put the namespaces back. No library will do such a conversion for you, first convert from XML to object then from object to JSON, and the other way around."},{"owner":{"account_id":15231654,"reputation":97,"user_id":10990603,"display_name":"Ajith"},"score":0,"creation_date":1562829338,"post_id":56967713,"comment_id":100502396,"body_markdown":"Conversion is because I need the xml back with few modifications to use as request body for a post request.","body":"Conversion is because I need the xml back with few modifications to use as request body for a post request."}],"answers":[{"comments":[{"owner":{"account_id":15231654,"reputation":97,"user_id":10990603,"display_name":"Ajith"},"score":0,"creation_date":1562753407,"post_id":56967938,"comment_id":100473573,"body_markdown":"Hi,Thanks for the quick response. Could you please tel me what all dependencies needed ?","body":"Hi,Thanks for the quick response. Could you please tel me what all dependencies needed ?"},{"owner":{"account_id":16290111,"reputation":602,"user_id":11763786,"display_name":"tobsob"},"score":0,"creation_date":1562760441,"post_id":56967938,"comment_id":100477246,"body_markdown":"Should be &quot;Jackson Dataformat XML&quot; Version 2.9.0 (or higher?)\nedit: added Dependency to Answer.","body":"Should be &quot;Jackson Dataformat XML&quot; Version 2.9.0 (or higher?) edit: added Dependency to Answer."},{"owner":{"account_id":15231654,"reputation":97,"user_id":10990603,"display_name":"Ajith"},"score":1,"creation_date":1562761164,"post_id":56967938,"comment_id":100477631,"body_markdown":"I have added the dependency you have suggested. But I&#39;m getting a error now . Caused by: java.lang.ClassNotFoundException: org.codehaus.stax2.io.Stax2ByteArraySource  on this line JsonNode jsonNode = xmlMapper.readTree(string.getBytes());","body":"I have added the dependency you have suggested. But I&#39;m getting a error now . Caused by: java.lang.ClassNotFoundException: org.codehaus.stax2.io.Stax2ByteArraySource  on this line JsonNode jsonNode = xmlMapper.readTree(string.getBytes());"},{"owner":{"account_id":16290111,"reputation":602,"user_id":11763786,"display_name":"tobsob"},"score":0,"creation_date":1562762657,"post_id":56967938,"comment_id":100478450,"body_markdown":"From where is your XmlMapper imported?\nAdded another dependency.","body":"From where is your XmlMapper imported? Added another dependency."},{"owner":{"account_id":6021831,"reputation":163,"user_id":4728677,"display_name":"count_campeador"},"score":1,"creation_date":1587479906,"post_id":56967938,"comment_id":108524463,"body_markdown":"@Ajith, You need &quot;stax2-api&quot; jar file. If you have a Maven project it downloads additional jar files. My project was not Maven and I had imported only these 2 jar files(jackson-databind and jackson-dataformat-xml) as suggested and got the same error. After creating a Maven project and trying adding dependencies, I have seen the other jar files. stax2-api-3.1.4.jar is one of them, probably you will need the other jars as well.","body":"@Ajith, You need &quot;stax2-api&quot; jar file. If you have a Maven project it downloads additional jar files. My project was not Maven and I had imported only these 2 jar files(jackson-databind and jackson-dataformat-xml) as suggested and got the same error. After creating a Maven project and trying adding dependencies, I have seen the other jar files. stax2-api-3.1.4.jar is one of them, probably you will need the other jars as well."}],"tags":[],"owner":{"account_id":16290111,"reputation":602,"user_id":11763786,"display_name":"tobsob"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562762525,"creation_date":1562751917,"answer_id":56967938,"question_id":56967713,"body_markdown":"You could try the XmlMapper from jackson (com.fasterxml.jackson.dataformat.xml.XmlMapper)\r\n\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    JsonNode jsonNode = xmlMapper.readTree(string.getBytes());\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String value = objectMapper.writeValueAsString(jsonNode);\r\n\r\nedit: Dependencies I&#39;ve used\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Convert xml with namespaces to json in java","body":"<p>You could try the XmlMapper from jackson (com.fasterxml.jackson.dataformat.xml.XmlMapper)</p>\n\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nJsonNode jsonNode = xmlMapper.readTree(string.getBytes());\nObjectMapper objectMapper = new ObjectMapper();\nString value = objectMapper.writeValueAsString(jsonNode);\n</code></pre>\n\n<p>edit: Dependencies I've used</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10974445,"reputation":892,"user_id":8063541,"accept_rate":67,"display_name":"Sir Montes"},"score":1,"creation_date":1643035108,"post_id":56968790,"comment_id":125225858,"body_markdown":"Not solving question topic...","body":"Not solving question topic..."}],"tags":[],"owner":{"account_id":5809864,"reputation":1494,"user_id":4581323,"accept_rate":75,"display_name":"Genhis"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1562754650,"creation_date":1562754650,"answer_id":56968790,"question_id":56967713,"body_markdown":"Get a `JSONObject` and convert it to JSON string:\r\n\r\n    JSONObject jsonObject = XML.toJSONObject(&quot;xml&quot;);\r\n    String jsonString = jsonObject.toString();\r\n\r\nIf you want to pretty-print the string, use `toString(int)` which takes number of spaces as an argument.\r\n\r\n    String prettyPrintedJson = jsonObject.toString(4);","title":"Convert xml with namespaces to json in java","body":"<p>Get a <code>JSONObject</code> and convert it to JSON string:</p>\n\n<pre><code>JSONObject jsonObject = XML.toJSONObject(\"xml\");\nString jsonString = jsonObject.toString();\n</code></pre>\n\n<p>If you want to pretty-print the string, use <code>toString(int)</code> which takes number of spaces as an argument.</p>\n\n<pre><code>String prettyPrintedJson = jsonObject.toString(4);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645695357,"creation_date":1645695047,"answer_id":71249803,"question_id":56967713,"body_markdown":"This question is a bit old but I would like to share my answer about the same task that I did recently! \r\nThe requirement is: \r\nHaving this xml:\r\n\r\n    &lt;ns2:testplan&gt;\r\n     &lt;ns2:snapshot&gt;\r\n        &lt;ns2:revision&gt;294&lt;/ns2:revision&gt;\r\n     &lt;/ns2:snapshot&gt;\r\n     &lt;ns2:webId&gt;70&lt;/ns2:webId&gt;\r\n     &lt;ns2:title&gt;Demo test plan 06&lt;/ns2:title&gt;\r\n    &lt;/ns2:testplan&gt;\r\nWe would like to convert it to:\r\n\r\n    {\r\n      &quot;ns2:testplan&quot;: {\r\n        &quot;ns2:snapshot&quot;: {\r\n          &quot;ns2:revision&quot;: 294\r\n        },\r\n        &quot;ns2:title&quot;: &quot;Demo test plan 06&quot;,\r\n        &quot;ns2:webId&quot;: 70\r\n      }\r\n    }\r\nNote that with the accepted response the root tag `&lt;ns2:testplan&gt;` and the namespace prefix are not included in the JSON.\r\nTo configure `XmlMapper` to keep the namespace and add the root tag, proceed like this:\r\n\r\n    var module = new SimpleModule().addDeserializer(JsonNode.class, new JsonNodeDeserializer() {\r\n            @Override\r\n            public JsonNode deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n                return ctxt.getNodeFactory()\r\n                        .objectNode()\r\n                        .set(&quot;ns2:testplan&quot;, super.deserialize(p, ctxt)); // this config adds the root tag\r\n            }\r\n        });\r\n\r\n    XMLInputFactory xmlInputFactory = new WstxInputFactory();\r\n    xmlInputFactory.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE, false); // this one keeps the namespace prefix\r\n    XmlMapper xmlMapper = new XmlMapper(new XmlFactory(xmlInputFactory, new WstxOutputFactory()));\r\n    xmlMapper.registerModule(module);\r\n \r\nThen use the code of the accepted answer to convert the XML to JSON.","title":"Convert xml with namespaces to json in java","body":"<p>This question is a bit old but I would like to share my answer about the same task that I did recently!\nThe requirement is:\nHaving this xml:</p>\n<pre><code>&lt;ns2:testplan&gt;\n &lt;ns2:snapshot&gt;\n    &lt;ns2:revision&gt;294&lt;/ns2:revision&gt;\n &lt;/ns2:snapshot&gt;\n &lt;ns2:webId&gt;70&lt;/ns2:webId&gt;\n &lt;ns2:title&gt;Demo test plan 06&lt;/ns2:title&gt;\n&lt;/ns2:testplan&gt;\n</code></pre>\n<p>We would like to convert it to:</p>\n<pre><code>{\n  &quot;ns2:testplan&quot;: {\n    &quot;ns2:snapshot&quot;: {\n      &quot;ns2:revision&quot;: 294\n    },\n    &quot;ns2:title&quot;: &quot;Demo test plan 06&quot;,\n    &quot;ns2:webId&quot;: 70\n  }\n}\n</code></pre>\n<p>Note that with the accepted response the root tag <code>&lt;ns2:testplan&gt;</code> and the namespace prefix are not included in the JSON.\nTo configure <code>XmlMapper</code> to keep the namespace and add the root tag, proceed like this:</p>\n<pre><code>var module = new SimpleModule().addDeserializer(JsonNode.class, new JsonNodeDeserializer() {\n        @Override\n        public JsonNode deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n            return ctxt.getNodeFactory()\n                    .objectNode()\n                    .set(&quot;ns2:testplan&quot;, super.deserialize(p, ctxt)); // this config adds the root tag\n        }\n    });\n\nXMLInputFactory xmlInputFactory = new WstxInputFactory();\nxmlInputFactory.setProperty(XMLInputFactory.IS_NAMESPACE_AWARE, false); // this one keeps the namespace prefix\nXmlMapper xmlMapper = new XmlMapper(new XmlFactory(xmlInputFactory, new WstxOutputFactory()));\nxmlMapper.registerModule(module);\n</code></pre>\n<p>Then use the code of the accepted answer to convert the XML to JSON.</p>\n"}],"owner":{"account_id":15231654,"reputation":97,"user_id":10990603,"display_name":"Ajith"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56967938,"answer_count":3,"score":1,"last_activity_date":1693931293,"creation_date":1562751179,"question_id":56967713,"body_markdown":"I&#39;m trying to convert xml to json using java and then convert the json back to xml after modifying which should give the same xml. The xml attributes have namespaces.\r\n\r\nMy sample xml : \r\n     \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ns2:testplan xmlns:ns2=&quot;http://jazz.net/xmlns/alm/qm/v0.1/&quot; xmlns:ns1=&quot;http://schema.ibm.com/vega/2008/&quot; xmlns:ns3=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:ns4=&quot;http://jazz.net/xmlns/prod/jazz/process/0.6/&quot; xmlns:ns5=&quot;http://jazz.net/xmlns/alm/v0.1/&quot; xmlns:ns6=&quot;http://purl.org/dc/terms/&quot; xmlns:ns7=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot; xmlns:ns8=&quot;http://jazz.net/xmlns/alm/qm/v0.1/testscript/v0.1/&quot; xmlns:ns9=&quot;http://jazz.net/xmlns/alm/qm/v0.1/executionworkitem/v0.1&quot; xmlns:ns10=&quot;http://open-services.net/ns/core#&quot; xmlns:ns11=&quot;http://open-services.net/ns/qm#&quot; xmlns:ns12=&quot;http://jazz.net/xmlns/prod/jazz/rqm/process/1.0/&quot; xmlns:ns13=&quot;http://www.w3.org/2002/07/owl#&quot; xmlns:ns14=&quot;http://jazz.net/xmlns/alm/qm/qmadapter/v0.1&quot; xmlns:ns15=&quot;http://jazz.net/xmlns/alm/qm/qmadapter/task/v0.1&quot; xmlns:ns16=&quot;http://jazz.net/xmlns/alm/qm/v0.1/executionresult/v0.1&quot; xmlns:ns17=&quot;http://jazz.net/xmlns/alm/qm/v0.1/catalog/v0.1&quot; xmlns:ns18=&quot;http://jazz.net/xmlns/alm/qm/v0.1/tsl/v0.1/&quot; xmlns:ns20=&quot;http://jazz.net/xmlns/alm/qm/styleinfo/v0.1/&quot; xmlns:ns21=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;ns2:projectArea href=&quot;https://testserver:9080/qm/resource/itemOid/com.ibm.team.process.ProjectArea/_xv6jsJceEeimRT_G_Q&quot; alias=&quot;projectArea&quot;/&gt;\r\n    &lt;ns3:identifier&gt;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/resources/projectArea/testplan/urn:com.ibm.rqm:testplan:70?revision=294&lt;/ns3:identifier&gt;\r\n    &lt;ns2:stylesheet href=&quot;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/resources/projectArea/testplan/urn:com.ibm.rqm:testplan:70?stylesheet=true&quot;/&gt;\r\n    &lt;ns2:snapshot&gt;\r\n    &lt;ns3:title&gt;testplan_70_&amp;lt;Reason&amp;gt;_&amp;lt;Version&amp;gt;_on_16 Apr 2019 05:50&lt;/ns3:title&gt;\r\n    &lt;ns5:updated&gt;2019-04-16T12:20:01.644Z&lt;/ns5:updated&gt;\r\n    &lt;ns2:revision&gt;294&lt;/ns2:revision&gt;\r\n    &lt;/ns2:snapshot&gt;\r\n    &lt;ns2:webId&gt;70&lt;/ns2:webId&gt;\r\n    &lt;ns3:title&gt;Demo test plan 06&lt;/ns3:title&gt;\r\n    &lt;ns3:description/&gt;\r\n    &lt;ns2:creationDate&gt;2019-01-22T10:36:40.289Z&lt;/ns2:creationDate&gt;\r\n    &lt;ns5:updated&gt;2019-04-16T12:20:01.644Z&lt;/ns5:updated&gt;\r\n    &lt;ns5:state ns7:resource=&quot;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/process-info/_xv6jsJceEeRT_G_Q/workflowstate/com.ibm.rqm.process.testplan.workflow/com.ibm.rqm.planning.common.underreview&quot;&gt;com.ibm.rqm.planning.common.underreview&lt;/ns5:state&gt;\r\n    &lt;ns3:creator ns7:resource=&quot;https://testserver:9080/jts/resource/itemName/com.ibm.team.repository.Contributor/ABB&quot;&gt;abc&lt;/ns3:creator&gt;\r\n    &lt;ns5:owner&gt;unassigned&lt;/ns5:owner&gt;\r\n    &lt;ns2:priority ns7:resource=&quot;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/process-info/_xv6jsJceEeimbPqQ/priority/literal.priority.101&quot;&gt;literal.priority.101&lt;/ns2:priority&gt;\r\n    &lt;ns2:locked&gt;false&lt;/ns2:locked&gt;\r\n    &lt;ns2:component href=&quot;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/resources/projectArea/component/_yzQ3EZcmbPqnRT_G_Q&quot;/&gt;\r\n    &lt;/ns2:testplan&gt;\r\n     \r\nCould someone please help me to convert preciously using java.\r\n\r\nI have tried converting using org.json.XML, But it was not giving proper json with jsonobject keys/values having namespaces.\r\n\r\nCode I have tried and not giving response: \r\n    \r\n\tJSONObject jsonObject = XML.toJSONObject(&quot;xml&quot;);\r\n     \r\nI expect a convertion way which gives Json with proper format and json objects having namespaces,and If I covert this json it should give initial xml\r\nPlease help me.","title":"Convert xml with namespaces to json in java","body":"<p>I'm trying to convert xml to json using java and then convert the json back to xml after modifying which should give the same xml. The xml attributes have namespaces.</p>\n<p>My sample xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ns2:testplan xmlns:ns2=&quot;http://jazz.net/xmlns/alm/qm/v0.1/&quot; xmlns:ns1=&quot;http://schema.ibm.com/vega/2008/&quot; xmlns:ns3=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:ns4=&quot;http://jazz.net/xmlns/prod/jazz/process/0.6/&quot; xmlns:ns5=&quot;http://jazz.net/xmlns/alm/v0.1/&quot; xmlns:ns6=&quot;http://purl.org/dc/terms/&quot; xmlns:ns7=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot; xmlns:ns8=&quot;http://jazz.net/xmlns/alm/qm/v0.1/testscript/v0.1/&quot; xmlns:ns9=&quot;http://jazz.net/xmlns/alm/qm/v0.1/executionworkitem/v0.1&quot; xmlns:ns10=&quot;http://open-services.net/ns/core#&quot; xmlns:ns11=&quot;http://open-services.net/ns/qm#&quot; xmlns:ns12=&quot;http://jazz.net/xmlns/prod/jazz/rqm/process/1.0/&quot; xmlns:ns13=&quot;http://www.w3.org/2002/07/owl#&quot; xmlns:ns14=&quot;http://jazz.net/xmlns/alm/qm/qmadapter/v0.1&quot; xmlns:ns15=&quot;http://jazz.net/xmlns/alm/qm/qmadapter/task/v0.1&quot; xmlns:ns16=&quot;http://jazz.net/xmlns/alm/qm/v0.1/executionresult/v0.1&quot; xmlns:ns17=&quot;http://jazz.net/xmlns/alm/qm/v0.1/catalog/v0.1&quot; xmlns:ns18=&quot;http://jazz.net/xmlns/alm/qm/v0.1/tsl/v0.1/&quot; xmlns:ns20=&quot;http://jazz.net/xmlns/alm/qm/styleinfo/v0.1/&quot; xmlns:ns21=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;ns2:projectArea href=&quot;https://testserver:9080/qm/resource/itemOid/com.ibm.team.process.ProjectArea/_xv6jsJceEeimRT_G_Q&quot; alias=&quot;projectArea&quot;/&gt;\n&lt;ns3:identifier&gt;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/resources/projectArea/testplan/urn:com.ibm.rqm:testplan:70?revision=294&lt;/ns3:identifier&gt;\n&lt;ns2:stylesheet href=&quot;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/resources/projectArea/testplan/urn:com.ibm.rqm:testplan:70?stylesheet=true&quot;/&gt;\n&lt;ns2:snapshot&gt;\n&lt;ns3:title&gt;testplan_70_&amp;lt;Reason&amp;gt;_&amp;lt;Version&amp;gt;_on_16 Apr 2019 05:50&lt;/ns3:title&gt;\n&lt;ns5:updated&gt;2019-04-16T12:20:01.644Z&lt;/ns5:updated&gt;\n&lt;ns2:revision&gt;294&lt;/ns2:revision&gt;\n&lt;/ns2:snapshot&gt;\n&lt;ns2:webId&gt;70&lt;/ns2:webId&gt;\n&lt;ns3:title&gt;Demo test plan 06&lt;/ns3:title&gt;\n&lt;ns3:description/&gt;\n&lt;ns2:creationDate&gt;2019-01-22T10:36:40.289Z&lt;/ns2:creationDate&gt;\n&lt;ns5:updated&gt;2019-04-16T12:20:01.644Z&lt;/ns5:updated&gt;\n&lt;ns5:state ns7:resource=&quot;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/process-info/_xv6jsJceEeRT_G_Q/workflowstate/com.ibm.rqm.process.testplan.workflow/com.ibm.rqm.planning.common.underreview&quot;&gt;com.ibm.rqm.planning.common.underreview&lt;/ns5:state&gt;\n&lt;ns3:creator ns7:resource=&quot;https://testserver:9080/jts/resource/itemName/com.ibm.team.repository.Contributor/ABB&quot;&gt;abc&lt;/ns3:creator&gt;\n&lt;ns5:owner&gt;unassigned&lt;/ns5:owner&gt;\n&lt;ns2:priority ns7:resource=&quot;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/process-info/_xv6jsJceEeimbPqQ/priority/literal.priority.101&quot;&gt;literal.priority.101&lt;/ns2:priority&gt;\n&lt;ns2:locked&gt;false&lt;/ns2:locked&gt;\n&lt;ns2:component href=&quot;https://testserver:9080/qm/service/com.ibm.rqm.integration.service.IIntegrationService/resources/projectArea/component/_yzQ3EZcmbPqnRT_G_Q&quot;/&gt;\n&lt;/ns2:testplan&gt;\n \n</code></pre>\n<p>Could someone please help me to convert preciously using java.</p>\n<p>I have tried converting using org.json.XML, But it was not giving proper json with jsonobject keys/values having namespaces.</p>\n<p>Code I have tried and not giving response:</p>\n<pre><code>JSONObject jsonObject = XML.toJSONObject(&quot;xml&quot;);\n \n</code></pre>\n<p>I expect a convertion way which gives Json with proper format and json objects having namespaces,and If I covert this json it should give initial xml\nPlease help me.</p>\n"},{"tags":["java","docker","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1693879361,"post_id":77039293,"comment_id":135814365,"body_markdown":"`CHLAUTH(DISABLED)` turns off channel authentication. To check if CONNAUTH is disabled you would need to run DIS `AUTHINFO(DEV.AUTHINFO)`.","body":"<code>CHLAUTH(DISABLED)</code> turns off channel authentication. To check if CONNAUTH is disabled you would need to run DIS <code>AUTHINFO(DEV.AUTHINFO)</code>."}],"answers":[{"comments":[{"owner":{"account_id":17459269,"reputation":136,"user_id":12657338,"display_name":"Noel93"},"score":0,"creation_date":1693910927,"post_id":77040825,"comment_id":135818726,"body_markdown":"Thanks, I&#39;ve added the log to my initial post. Maybe I misunderstood &quot;disabling authentication&quot;, because it seems like the user still needs to have some rights (e.g. &quot;connect&quot;).","body":"Thanks, I&#39;ve added the log to my initial post. Maybe I misunderstood &quot;disabling authentication&quot;, because it seems like the user still needs to have some rights (e.g. &quot;connect&quot;)."}],"tags":[],"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693864924,"creation_date":1693864924,"answer_id":77040825,"question_id":77039293,"body_markdown":"The `JMSWMQ2013` error from JMS actually just means that the application received an MQRC_NOT_AUTHORIZED (2035) reason code from MQ. This reason code, deliberately, includes a number of possible failures. To convey the different failures to a client application would enhance the chances of a hacker being able to break in, so very little information is conveyed to the client.\r\n\r\nTo discover the specific reason for the failure, you must inspect the queue manager&#39;s `AMQERR01.LOG` file and see what it is complaining about.\r\n\r\nYou have correctly identified that CHLAUTH is one possibility, but there are numerous others, so take a look and see what it says. If you are unsure after reviewing the error log, please update your question with the error message details and further help will be provided.\r\n\r\nYou may find the following post useful in the mean time:-\r\n\r\n - [Getting going without turning off IBM MQ Security][1]\r\n\r\n\r\n  [1]: https://community.ibm.com/community/user/integration/viewdocument/from-the-archives-getting-going-wi","title":"Authentication error when connecting a JavaEE MDB to a IBM MQ that shouldn&#39;t need any authentication","body":"<p>The <code>JMSWMQ2013</code> error from JMS actually just means that the application received an MQRC_NOT_AUTHORIZED (2035) reason code from MQ. This reason code, deliberately, includes a number of possible failures. To convey the different failures to a client application would enhance the chances of a hacker being able to break in, so very little information is conveyed to the client.</p>\n<p>To discover the specific reason for the failure, you must inspect the queue manager's <code>AMQERR01.LOG</code> file and see what it is complaining about.</p>\n<p>You have correctly identified that CHLAUTH is one possibility, but there are numerous others, so take a look and see what it says. If you are unsure after reviewing the error log, please update your question with the error message details and further help will be provided.</p>\n<p>You may find the following post useful in the mean time:-</p>\n<ul>\n<li><a href=\"https://community.ibm.com/community/user/integration/viewdocument/from-the-archives-getting-going-wi\" rel=\"nofollow noreferrer\">Getting going without turning off IBM MQ Security</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1693898579,"post_id":77040857,"comment_id":135816372,"body_markdown":"This is absolutely terrible advice and can lead to security breaches at your company. Never ever turn off security. The ONLY correct answer is to follow Morag advice in the other post.","body":"This is absolutely terrible advice and can lead to security breaches at your company. Never ever turn off security. The ONLY correct answer is to follow Morag advice in the other post."},{"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"score":0,"creation_date":1693899271,"post_id":77040857,"comment_id":135816522,"body_markdown":"This is absolutely terrible comment. You would be surprise to hear so many reasons why you want to do temporarily tests without user authentication. Even in production you may decide not to do user authentication by user/password check, but by certificates. I always appreciate any advice that security is a must, but when Noel93 asks for the right setup when he does not want userId/pw check, then we can expect that he knows that, well, user Id and password won&#39;t be checked.","body":"This is absolutely terrible comment. You would be surprise to hear so many reasons why you want to do temporarily tests without user authentication. Even in production you may decide not to do user authentication by user/password check, but by certificates. I always appreciate any advice that security is a must, but when Noel93 asks for the right setup when he does not want userId/pw check, then we can expect that he knows that, well, user Id and password won&#39;t be checked."},{"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"score":0,"creation_date":1693901780,"post_id":77040857,"comment_id":135817015,"body_markdown":"Added a preface according to this.","body":"Added a preface according to this."},{"owner":{"account_id":17459269,"reputation":136,"user_id":12657338,"display_name":"Noel93"},"score":0,"creation_date":1693903190,"post_id":77040857,"comment_id":135817285,"body_markdown":"Thanks for your answer. I&#39;m aware that turning off security is a risk that should be avoided or at least handled carefully, but for my case, this has already been considered and won&#39;t be a problem here. That said, even when setting ```CONNAUTH(&#39; &#39;)```, I&#39;m getting an error - I included the log in my question.","body":"Thanks for your answer. I&#39;m aware that turning off security is a risk that should be avoided or at least handled carefully, but for my case, this has already been considered and won&#39;t be a problem here. That said, even when setting <code>CONNAUTH(&#39; &#39;)</code>, I&#39;m getting an error - I included the log in my question."},{"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"score":0,"creation_date":1693911531,"post_id":77040857,"comment_id":135818862,"body_markdown":"I have added hints for the authorization issue.","body":"I have added hints for the authorization issue."},{"owner":{"account_id":17459269,"reputation":136,"user_id":12657338,"display_name":"Noel93"},"score":0,"creation_date":1693920360,"post_id":77040857,"comment_id":135820869,"body_markdown":"Thanks again. I added ```export MQSNOAUTH=yes``` in my ```setup.sh``` script before QMGR gets started. Checking ```DISPLAY QMGR AUTHOREV``` also returns ```AUTHOREV(DISABLED)``` but I&#39;m still getting the same error...","body":"Thanks again. I added <code>export MQSNOAUTH=yes</code> in my <code>setup.sh</code> script before QMGR gets started. Checking <code>DISPLAY QMGR AUTHOREV</code> also returns <code>AUTHOREV(DISABLED)</code> but I&#39;m still getting the same error..."},{"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"score":0,"creation_date":1693921258,"post_id":77040857,"comment_id":135821093,"body_markdown":"Again, it only works if the environment variable is set when the Qmgr is created. To set it in your start script would be too late. Do you use persistent storage for your Qmgr data? In this case the Qmgr already exists after Container restarts and MQSNOAUT has no effect either.","body":"Again, it only works if the environment variable is set when the Qmgr is created. To set it in your start script would be too late. Do you use persistent storage for your Qmgr data? In this case the Qmgr already exists after Container restarts and MQSNOAUT has no effect either."},{"owner":{"account_id":17459269,"reputation":136,"user_id":12657338,"display_name":"Noel93"},"score":0,"creation_date":1693929022,"post_id":77040857,"comment_id":135822947,"body_markdown":"I used the &quot;better&quot; solution of just giving authorization to my ```jboss``` principal. Your code gave me a syntax error until I deleted the 2nd ```INQ``` from the ```AUTHADD```, I&#39;ll edit your post accordingly. It&#39;s now working as intended, many thanks!","body":"I used the &quot;better&quot; solution of just giving authorization to my <code>jboss</code> principal. Your code gave me a syntax error until I deleted the 2nd <code>INQ</code> from the <code>AUTHADD</code>, I&#39;ll edit your post accordingly. It&#39;s now working as intended, many thanks!"},{"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"score":0,"creation_date":1693931372,"post_id":77040857,"comment_id":135823451,"body_markdown":"Right, there was a redundant INQ. I have just updated it. Glad to hear you were able to set the required authorization for your user.","body":"Right, there was a redundant INQ. I have just updated it. Glad to hear you were able to set the required authorization for your user."},{"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"score":0,"creation_date":1693938840,"post_id":77040857,"comment_id":135824843,"body_markdown":"Possibly it should be privilege of the one who found the error to do the update. I apologize if this is the case. :-)","body":"Possibly it should be privilege of the one who found the error to do the update. I apologize if this is the case. :-)"},{"owner":{"account_id":17459269,"reputation":136,"user_id":12657338,"display_name":"Noel93"},"score":0,"creation_date":1693941771,"post_id":77040857,"comment_id":135825353,"body_markdown":"No worries, I couldn&#39;t edit your post because of too many concurrent edits on SO or something. :)","body":"No worries, I couldn&#39;t edit your post because of too many concurrent edits on SO or something. :)"},{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1694033151,"post_id":77040857,"comment_id":135839787,"body_markdown":"@NineFriends There is never a valid reason to turn off security. Ever. What you have show this person and ALL future people who find this post, an &quot;escape clause&quot; to never do the right thing. It takes far less time to do it the right way than it is to do what you have suggested. I have worked with MQ since it was originally released &amp; I have been a travelling consultant visiting many, many shops. Once security gets turned off, nobody ever goes back &amp; turns it on again. Of course, at some point, rogue users (aka hackers) start stealing data because they can.","body":"@NineFriends There is never a valid reason to turn off security. Ever. What you have show this person and ALL future people who find this post, an &quot;escape clause&quot; to never do the right thing. It takes far less time to do it the right way than it is to do what you have suggested. I have worked with MQ since it was originally released &amp; I have been a travelling consultant visiting many, many shops. Once security gets turned off, nobody ever goes back &amp; turns it on again. Of course, at some point, rogue users (aka hackers) start stealing data because they can."},{"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"score":0,"creation_date":1694073940,"post_id":77040857,"comment_id":135843997,"body_markdown":"@Roger, “I have been x years in this topic” is not a point. You have 2 yrs more than myself. 2 yrs where there was even no such thing as MQ userId/pw check. You must have gone mad about it (I did), but good there were other options.\nIn a project, app business logic and security impl. may both have been designed prior but are implemented in parallel. On a developer PC there might be the need for an early MQ setup. This is just one valid example. All I did was to highlight things officially documented. And they are needed, they are valid. I did and do not recommend switching off security.","body":"@Roger, “I have been x years in this topic” is not a point. You have 2 yrs more than myself. 2 yrs where there was even no such thing as MQ userId/pw check. You must have gone mad about it (I did), but good there were other options. In a project, app business logic and security impl. may both have been designed prior but are implemented in parallel. On a developer PC there might be the need for an early MQ setup. This is just one valid example. All I did was to highlight things officially documented. And they are needed, they are valid. I did and do not recommend switching off security."},{"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"score":0,"creation_date":1694075641,"post_id":77040857,"comment_id":135844370,"body_markdown":"From the perspective of an advisor for the MQ team we want to say: do the right thing first. Still, impl. of the business logic may be started before the MQ team has finished setting up, say, an in-house CA or the LDAP access (successfully!). As soon as they have (prior to going live) it must be switched on also on any test env. I think we don’t disagree on the importance of security, but we should focus on the need of the one who asked the question, and I believe Noel93 is not member of the MQ staff in his org. Your comment helped that I added disclaimers to my answer as others are listening.","body":"From the perspective of an advisor for the MQ team we want to say: do the right thing first. Still, impl. of the business logic may be started before the MQ team has finished setting up, say, an in-house CA or the LDAP access (successfully!). As soon as they have (prior to going live) it must be switched on also on any test env. I think we don’t disagree on the importance of security, but we should focus on the need of the one who asked the question, and I believe Noel93 is not member of the MQ staff in his org. Your comment helped that I added disclaimers to my answer as others are listening."}],"tags":[],"owner":{"account_id":18991509,"reputation":190,"user_id":13860684,"display_name":"Nine Friends"},"comment_count":14,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693931287,"creation_date":1693865728,"answer_id":77040857,"question_id":77039293,"body_markdown":"In the following I assume you know that this will not be a suitable production setup. You will need to assure client authentication either by userId/pw check, personal certificates, your own implementation via a security exit or what so ever. I assume you know that switching off userId/pw check means that, well userId and password won&#39;t be checked.\r\n\r\nIf you don&#39;t want any user ID and password checking at all, then set `CONNAUTH` to blank. Update your version of `authentication.mqsc`:\r\n\r\n    ALTER QMGR CHLAUTH(DISABLED) CONNAUTH(&#39; &#39;)\r\n    REFRESH SECURITY TYPE(CONNAUTH)\r\nThe refresh is necessary when you alter the connauth parameter and don&#39;t want to restart the Queue Manager.\r\n\r\nAlternatively, you can modify the `AUTHINFO` object `DEV.AUTHINFO` or create a new one and use this to specify what authentication you want to take place. But the way I understand your question (&quot;to work without authentication&quot;), the blank value is what you are looking for. \r\n\r\nHowever, switching off authentication does not switch off authorization. As `MCAUSER` is blank in your channel definition, it will check authorization for the user which your client sends. As this one is not authenticated, there is no point to grant this specific user.\r\n\r\nYou can switch off authorizations entirely by defining environment variable `MQSNOAUTH` to `true` as described in the [MQ doc][1].\r\nAgain, be aware of any reasonable warnings about this. And also note, that this does not work for Queue Managers which have already been created before.\r\n\r\nIf this works for you, you can stop here.\r\n\r\nBut if you don&#39;t want to switch off authorization entirely with `MQSNOAUTH`, than you can use the following approach to add authorization for all clients which want to connect via your unauthorized channel: Alter your channel definition to add a userId (with the name of your choice) and give this one the required authorizations (for MQ in containers there is no &quot;mqm&quot; super user).\r\n\r\nAlter the channel def in `config.mqsc`:\r\n\r\n    DEFINE CHANNEL(MY.CHANNEL) +\r\n       [...]\r\n       MCAUSER(&#39;myuser&#39;) +\r\n       [...]\r\n\r\nAgain `authentication.mqsc`:\r\n\r\n    ALTER QMGR CHLAUTH(DISABLED) CONNAUTH(&#39; &#39;)\r\n    REFRESH SECURITY TYPE(CONNAUTH)\r\n\r\n    SET AUTHREC OBJTYPE(QMGR) PRINCIPAL(&#39;myuser&#39;) AUTHADD(CONNECT,INQ)\r\n    SET AUTHREC PROFILE(&#39;MY.QUEUE&#39;) OBJTYPE(QUEUE) PRINCIPAL(&#39;myuser&#39;) AUTHADD(PUT,INQ,BROWSE,GET)\r\n\r\n`AMQERR01.LOG` will tell you, if any authorization is missing.\r\nTo avoid the need to define a user `myuser` in your container, you can allow MQ to grant authorizations to non-os users. Add a file like `qm-service.ini` to your solution to update `qm.ini`:\r\n\r\n    Service:\r\n       Name=AuthorizationService\r\n       SecurityPolicy=UserExternal\r\n\r\nBy the way, you can continue to use this approach when you later on add authentication to your solution by defining an appropriate channel authentication record which overwrites MCAUSER by the authorized userId. \r\n\r\n  [1]: https://www.ibm.com/docs/en/ibm-mq/9.3?topic=umicpirho-deploying-queue-manager-onto-red-hat-openshift-container-platform-cluster","title":"Authentication error when connecting a JavaEE MDB to a IBM MQ that shouldn&#39;t need any authentication","body":"<p>In the following I assume you know that this will not be a suitable production setup. You will need to assure client authentication either by userId/pw check, personal certificates, your own implementation via a security exit or what so ever. I assume you know that switching off userId/pw check means that, well userId and password won't be checked.</p>\n<p>If you don't want any user ID and password checking at all, then set <code>CONNAUTH</code> to blank. Update your version of <code>authentication.mqsc</code>:</p>\n<pre><code>ALTER QMGR CHLAUTH(DISABLED) CONNAUTH(' ')\nREFRESH SECURITY TYPE(CONNAUTH)\n</code></pre>\n<p>The refresh is necessary when you alter the connauth parameter and don't want to restart the Queue Manager.</p>\n<p>Alternatively, you can modify the <code>AUTHINFO</code> object <code>DEV.AUTHINFO</code> or create a new one and use this to specify what authentication you want to take place. But the way I understand your question (&quot;to work without authentication&quot;), the blank value is what you are looking for.</p>\n<p>However, switching off authentication does not switch off authorization. As <code>MCAUSER</code> is blank in your channel definition, it will check authorization for the user which your client sends. As this one is not authenticated, there is no point to grant this specific user.</p>\n<p>You can switch off authorizations entirely by defining environment variable <code>MQSNOAUTH</code> to <code>true</code> as described in the <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=umicpirho-deploying-queue-manager-onto-red-hat-openshift-container-platform-cluster\" rel=\"nofollow noreferrer\">MQ doc</a>.\nAgain, be aware of any reasonable warnings about this. And also note, that this does not work for Queue Managers which have already been created before.</p>\n<p>If this works for you, you can stop here.</p>\n<p>But if you don't want to switch off authorization entirely with <code>MQSNOAUTH</code>, than you can use the following approach to add authorization for all clients which want to connect via your unauthorized channel: Alter your channel definition to add a userId (with the name of your choice) and give this one the required authorizations (for MQ in containers there is no &quot;mqm&quot; super user).</p>\n<p>Alter the channel def in <code>config.mqsc</code>:</p>\n<pre><code>DEFINE CHANNEL(MY.CHANNEL) +\n   [...]\n   MCAUSER('myuser') +\n   [...]\n</code></pre>\n<p>Again <code>authentication.mqsc</code>:</p>\n<pre><code>ALTER QMGR CHLAUTH(DISABLED) CONNAUTH(' ')\nREFRESH SECURITY TYPE(CONNAUTH)\n\nSET AUTHREC OBJTYPE(QMGR) PRINCIPAL('myuser') AUTHADD(CONNECT,INQ)\nSET AUTHREC PROFILE('MY.QUEUE') OBJTYPE(QUEUE) PRINCIPAL('myuser') AUTHADD(PUT,INQ,BROWSE,GET)\n</code></pre>\n<p><code>AMQERR01.LOG</code> will tell you, if any authorization is missing.\nTo avoid the need to define a user <code>myuser</code> in your container, you can allow MQ to grant authorizations to non-os users. Add a file like <code>qm-service.ini</code> to your solution to update <code>qm.ini</code>:</p>\n<pre><code>Service:\n   Name=AuthorizationService\n   SecurityPolicy=UserExternal\n</code></pre>\n<p>By the way, you can continue to use this approach when you later on add authentication to your solution by defining an appropriate channel authentication record which overwrites MCAUSER by the authorized userId.</p>\n"}],"owner":{"account_id":17459269,"reputation":136,"user_id":12657338,"display_name":"Noel93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77040857,"answer_count":2,"score":0,"last_activity_date":1693931287,"creation_date":1693844115,"question_id":77039293,"body_markdown":"I have a IBM MQ (v9.2.4.0) running in a Docker container which is configured to work without authentication. However, I&#39;m getting the following error when trying to connect with a MDB:\r\n```\r\ncom.ibm.msg.client.jms.DetailedJMSSecurityException: \r\nJMSWMQ2013: The security authentication was not valid that was supplied for queue manager &#39;QMGR&#39; with connection mode &#39;Client&#39; and host name &#39;queue-test-container(1414)&#39;.\r\nPlease check if the supplied username and password are correct on the queue manager to which you are connecting.  For further information, review the queue manager error logs and the Securing IBM MQ topic within IBM Documentation.\r\n```\r\n\r\nFor completeness, here is its Dockerfile of the IBM MQ:\r\n\r\n```\r\nFROM ibmcom/mq\r\n\r\nENV LICENSE=accept\r\nENV MQ_QMGR_NAME=QMGR\r\n\r\nCOPY config.mqsc /etc/mqm/\r\nCOPY authentication.mqsc /etc/mqm/\r\nCOPY setup.sh /etc/mqm/\r\nUSER root\r\nRUN chmod +x /etc/mqm/setup.sh\r\n\r\nEXPOSE 1414 9443\r\nCMD [&quot;/etc/mqm/setup.sh&quot;]\r\n```\r\n\r\nwith ```setup.sh``` being\r\n```\r\n#!/bin/bash\r\n\r\n# Apply configuration\r\nrunmqsc &lt; /etc/mqm/config.mqsc\r\n\r\n# Start MQ server\r\nQMGR_NAME=$MQ_QMGR_NAME\r\nstrmqm $QMGR_NAME\r\n\r\nrunmqsc $QMGR_NAME &lt; /etc/mqm/authentication.mqsc\r\n```\r\n\r\nand ```config.mqsc``` being \r\n```\r\n\r\nDEFINE QLOCAL(&#39;MY.QUEUE&#39;) REPLACE\r\n\r\nDEFINE CHANNEL(MY.CHANNEL) +\r\n   CHLTYPE(SVRCONN) +\r\n   TRPTYPE(TCP) +\r\n   MCAUSER(&#39;&#39;) +\r\n   REPLACE\r\n```\r\n\r\nand ```authentication.mqsc``` being\r\n```\r\nALTER QMGR CHLAUTH(DISABLED)\r\n```\r\n\r\nThis should set up my queue with queue manager ```QMGR```, channel ```MY.CHANNEL```, queue ```MY.QUEUE``` and no necessary authentication on port 1414 of my docker container which runs under the name ```queue-test-container```.\r\nI already confirmed that the queue is up and running and ```DISPLAY QMGR CHLAUTH CONNAUTH``` also confirms that authentication is disabled for ```QMGR```:\r\n\r\n```\r\nAMQ8408I: Display Queue Manager details.\r\n   QMNAME(QMGR)                            CHLAUTH(DISABLED)\r\n   CONNAUTH(DEV.AUTHINFO)\r\n```\r\n\r\nNow I&#39;m having a second Docker container, containing a Java EE app that has a message driven bean connecting to the queue. I configured the MDB as follows:\r\n```\r\n@MessageDriven(activationConfig = {@ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;useJNDI&quot;, propertyValue = &quot;true&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;connectionNameList&quot;, propertyValue = &quot;queue-test-container(1414)&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;queueManager&quot;, propertyValue = &quot;QMGR&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;channel&quot;, propertyValue = &quot;MY.CHANNEL&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;${jms.dest.queue.request.jndi}&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;transportType&quot;, propertyValue = &quot;CLIENT&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)})\r\n@ResourceAdapter(value = &quot;wmq.jmsra.rar&quot;)\r\n```\r\n\r\nAnd finally, here is the IBM MQ configuration in my standalone.xml:\r\n\r\n```\r\n\t&lt;system-properties&gt;\r\n        &lt;property name=&quot;jms.queue.container.name&quot; value=&quot;queue-test-container&quot;/&gt;\r\n        &lt;property name=&quot;jms.queue.container.port&quot; value=&quot;1414&quot;/&gt;\r\n        &lt;property name=&quot;jms.connectionfactory.jndi&quot; value=&quot;java:/ConnectionFactory&quot;/&gt;\r\n        &lt;property name=&quot;jms.dest.queue.oneway.jndi&quot; value=&quot;java:/queue/importOnewayQueue&quot;/&gt;\r\n\t\t&lt;property name=&quot;jms.queue.manager.channel&quot; value=&quot;MY.CHANNEL&quot;/&gt;\r\n        &lt;property name=&quot;jms.queue.manager.connectionNameList&quot; value=&quot;queue-test-container(1414)&quot;/&gt;\r\n        &lt;property name=&quot;jms.queue.manager.name&quot; value=&quot;QMGR&quot;/&gt;\r\n        &lt;property name=&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot; value=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;jms.queue.oneway&quot; value=&quot;MY.QUEUE&quot;/&gt;\r\n    &lt;/system-properties&gt;\r\n...\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\r\n\t\t\t&lt;resource-adapters&gt;\r\n\t\t\t\t\t&lt;resource-adapter id=&quot;wmq.jmsra.rar&quot;&gt;\r\n\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\twmq.jmsra.rar\r\n\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t\t&lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\r\n\t\t\t\t\t\t&lt;config-property name=&quot;reconnectionRetryCount&quot;&gt;864&lt;/config-property&gt;\r\n\t\t\t\t\t\t&lt;connection-definitions&gt;\r\n\t\t\t\t\t\t\t&lt;connection-definition class-name=&quot;com.ibm.mq.connector.outbound.ManagedConnectionFactoryImpl&quot; jndi-name=&quot;${jms.connectionfactory.jndi}&quot; use-java-context=&quot;false&quot; pool-name=&quot;connection-definition&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;config-property name=&quot;hostName&quot;&gt;${jms.queue.container.name}&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t\t&lt;config-property name=&quot;port&quot;&gt;${jms.queue.container.port}&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t\t&lt;config-property name=&quot;queueManager&quot;&gt;${jms.queue.manager.name}&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t\t&lt;config-property name=&quot;channel&quot;&gt;${jms.queue.manager.channel}&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t\t&lt;config-property name=&quot;transportType&quot;&gt;CLIENT&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t\t&lt;config-property name=&quot;connectionNameList&quot;&gt;${jms.queue.manager.connectionNameList}&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t\t&lt;recovery/&gt;\r\n\t\t\t\t\t\t\t&lt;/connection-definition&gt;\r\n\t\t\t\t\t\t&lt;/connection-definitions&gt;\r\n\t\t\t\t\t\t&lt;admin-objects&gt;\r\n\t\t\t\t\t\t\t&lt;admin-object class-name=&quot;com.ibm.mq.connector.outbound.MQQueueProxy&quot; jndi-name=&quot;${jms.dest.queue.oneway.jndi}&quot; enabled=&quot;true&quot; use-java-context=&quot;false&quot; pool-name=&quot;OnewayQueuePool&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;config-property name=&quot;baseQueueName&quot;&gt;${jms.queue.oneway}&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t\t&lt;config-property name=&quot;baseQueueManagerName&quot;&gt;${jms.queue.manager.name}&lt;/config-property&gt;\r\n\t\t\t\t\t\t\t&lt;/admin-object&gt;\r\n\t\t\t\t\t\t&lt;/admin-objects&gt;\r\n\t\t\t\t\t&lt;/resource-adapter&gt;\r\n\t\t\t&lt;/resource-adapters&gt;\r\n\t\t&lt;/subsystem&gt;\r\n```\r\n\r\nAny idea what went wrong? I&#39;m using the version 9.2.4.0 in my pom (the same as my deployed ressource adapter), so it shouldn&#39;t be a version mismatch.\r\n\r\nedit: here is the relevant part of my AMQERR01.LOG:\r\n```\r\n09/05/23 07:54:23 - Process(192.15) User(root) Program(amqzlaa0)\r\n                    Host(332ec93769f7) Installation(Installation1)\r\n                    VRMF(9.2.4.0) QMgr(QMGR)\r\n                    Time(2023-09-05T07:54:23.352Z)\r\n                    CommentInsert1(jboss)\r\n                    CommentInsert2(QMGR [qmgr])\r\n                    CommentInsert3(connect)\r\n\r\nAMQ8077W: Entity &#39;jboss&#39; has insufficient authority to access object QMGR\r\n[qmgr].\r\n\r\nEXPLANATION:\r\nThe specified entity is not authorized to access the required object. The\r\nfollowing requested permissions are unauthorized: connect\r\nACTION:\r\nEnsure that the correct level of authority has been set for this entity against\r\nthe required object, or ensure that the entity is a member of a privileged\r\ngroup.\r\n----- amqzfubx.c : 1640 -------------------------------------------------------\r\n09/05/23 07:54:23 - Process(257.5) User(root) Program(amqrmppa)\r\n                    Host(332ec93769f7) Installation(Installation1)\r\n                    VRMF(9.2.4.0) QMgr(QMGR)\r\n                    Time(2023-09-05T07:54:23.352Z)\r\n                    ArithInsert1(2) ArithInsert2(2035)\r\n                    CommentInsert1(jboss)\r\n\r\nAMQ9557E: Queue Manager User ID initialization failed for &#39;jboss&#39;.\r\n\r\nEXPLANATION:\r\nThe call to initialize the User ID &#39;jboss&#39; failed with CompCode 2 and Reason\r\n2035. If an MQCSP block was used, the User ID in the MQCSP block was &#39;&#39;. If a\r\nuserID flow was used, the User ID in the UID header was &#39;&#39; and any CHLAUTH\r\nrules applied prior to user adoption were evaluated case-sensitively against\r\nthis value.\r\nACTION:\r\nCorrect the error and try again.\r\n----- cmqxrsrv.c : 2619 -------------------------------------------------------\r\n```\r\n\r\nSo I&#39;m reading this that my JBoss container somehow uses &quot;jboss&quot; as a user ID, but I&#39;m not sure how, or why this is a problem here?","title":"Authentication error when connecting a JavaEE MDB to a IBM MQ that shouldn&#39;t need any authentication","body":"<p>I have a IBM MQ (v9.2.4.0) running in a Docker container which is configured to work without authentication. However, I'm getting the following error when trying to connect with a MDB:</p>\n<pre><code>com.ibm.msg.client.jms.DetailedJMSSecurityException: \nJMSWMQ2013: The security authentication was not valid that was supplied for queue manager 'QMGR' with connection mode 'Client' and host name 'queue-test-container(1414)'.\nPlease check if the supplied username and password are correct on the queue manager to which you are connecting.  For further information, review the queue manager error logs and the Securing IBM MQ topic within IBM Documentation.\n</code></pre>\n<p>For completeness, here is its Dockerfile of the IBM MQ:</p>\n<pre><code>FROM ibmcom/mq\n\nENV LICENSE=accept\nENV MQ_QMGR_NAME=QMGR\n\nCOPY config.mqsc /etc/mqm/\nCOPY authentication.mqsc /etc/mqm/\nCOPY setup.sh /etc/mqm/\nUSER root\nRUN chmod +x /etc/mqm/setup.sh\n\nEXPOSE 1414 9443\nCMD [&quot;/etc/mqm/setup.sh&quot;]\n</code></pre>\n<p>with <code>setup.sh</code> being</p>\n<pre><code>#!/bin/bash\n\n# Apply configuration\nrunmqsc &lt; /etc/mqm/config.mqsc\n\n# Start MQ server\nQMGR_NAME=$MQ_QMGR_NAME\nstrmqm $QMGR_NAME\n\nrunmqsc $QMGR_NAME &lt; /etc/mqm/authentication.mqsc\n</code></pre>\n<p>and <code>config.mqsc</code> being</p>\n<pre><code>\nDEFINE QLOCAL('MY.QUEUE') REPLACE\n\nDEFINE CHANNEL(MY.CHANNEL) +\n   CHLTYPE(SVRCONN) +\n   TRPTYPE(TCP) +\n   MCAUSER('') +\n   REPLACE\n</code></pre>\n<p>and <code>authentication.mqsc</code> being</p>\n<pre><code>ALTER QMGR CHLAUTH(DISABLED)\n</code></pre>\n<p>This should set up my queue with queue manager <code>QMGR</code>, channel <code>MY.CHANNEL</code>, queue <code>MY.QUEUE</code> and no necessary authentication on port 1414 of my docker container which runs under the name <code>queue-test-container</code>.\nI already confirmed that the queue is up and running and <code>DISPLAY QMGR CHLAUTH CONNAUTH</code> also confirms that authentication is disabled for <code>QMGR</code>:</p>\n<pre><code>AMQ8408I: Display Queue Manager details.\n   QMNAME(QMGR)                            CHLAUTH(DISABLED)\n   CONNAUTH(DEV.AUTHINFO)\n</code></pre>\n<p>Now I'm having a second Docker container, containing a Java EE app that has a message driven bean connecting to the queue. I configured the MDB as follows:</p>\n<pre><code>@MessageDriven(activationConfig = {@ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;useJNDI&quot;, propertyValue = &quot;true&quot;),\n        @ActivationConfigProperty(propertyName = &quot;connectionNameList&quot;, propertyValue = &quot;queue-test-container(1414)&quot;),\n        @ActivationConfigProperty(propertyName = &quot;queueManager&quot;, propertyValue = &quot;QMGR&quot;),\n        @ActivationConfigProperty(propertyName = &quot;channel&quot;, propertyValue = &quot;MY.CHANNEL&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;${jms.dest.queue.request.jndi}&quot;),\n        @ActivationConfigProperty(propertyName = &quot;transportType&quot;, propertyValue = &quot;CLIENT&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)})\n@ResourceAdapter(value = &quot;wmq.jmsra.rar&quot;)\n</code></pre>\n<p>And finally, here is the IBM MQ configuration in my standalone.xml:</p>\n<pre><code>    &lt;system-properties&gt;\n        &lt;property name=&quot;jms.queue.container.name&quot; value=&quot;queue-test-container&quot;/&gt;\n        &lt;property name=&quot;jms.queue.container.port&quot; value=&quot;1414&quot;/&gt;\n        &lt;property name=&quot;jms.connectionfactory.jndi&quot; value=&quot;java:/ConnectionFactory&quot;/&gt;\n        &lt;property name=&quot;jms.dest.queue.oneway.jndi&quot; value=&quot;java:/queue/importOnewayQueue&quot;/&gt;\n        &lt;property name=&quot;jms.queue.manager.channel&quot; value=&quot;MY.CHANNEL&quot;/&gt;\n        &lt;property name=&quot;jms.queue.manager.connectionNameList&quot; value=&quot;queue-test-container(1414)&quot;/&gt;\n        &lt;property name=&quot;jms.queue.manager.name&quot; value=&quot;QMGR&quot;/&gt;\n        &lt;property name=&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot; value=&quot;false&quot;/&gt;\n        &lt;property name=&quot;jms.queue.oneway&quot; value=&quot;MY.QUEUE&quot;/&gt;\n    &lt;/system-properties&gt;\n...\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\n            &lt;resource-adapters&gt;\n                    &lt;resource-adapter id=&quot;wmq.jmsra.rar&quot;&gt;\n                        &lt;archive&gt;\n                            wmq.jmsra.rar\n                        &lt;/archive&gt;\n                        &lt;transaction-support&gt;XATransaction&lt;/transaction-support&gt;\n                        &lt;config-property name=&quot;reconnectionRetryCount&quot;&gt;864&lt;/config-property&gt;\n                        &lt;connection-definitions&gt;\n                            &lt;connection-definition class-name=&quot;com.ibm.mq.connector.outbound.ManagedConnectionFactoryImpl&quot; jndi-name=&quot;${jms.connectionfactory.jndi}&quot; use-java-context=&quot;false&quot; pool-name=&quot;connection-definition&quot;&gt;\n                                &lt;config-property name=&quot;hostName&quot;&gt;${jms.queue.container.name}&lt;/config-property&gt;\n                                &lt;config-property name=&quot;port&quot;&gt;${jms.queue.container.port}&lt;/config-property&gt;\n                                &lt;config-property name=&quot;queueManager&quot;&gt;${jms.queue.manager.name}&lt;/config-property&gt;\n                                &lt;config-property name=&quot;channel&quot;&gt;${jms.queue.manager.channel}&lt;/config-property&gt;\n                                &lt;config-property name=&quot;transportType&quot;&gt;CLIENT&lt;/config-property&gt;\n                                &lt;config-property name=&quot;connectionNameList&quot;&gt;${jms.queue.manager.connectionNameList}&lt;/config-property&gt;\n                                &lt;recovery/&gt;\n                            &lt;/connection-definition&gt;\n                        &lt;/connection-definitions&gt;\n                        &lt;admin-objects&gt;\n                            &lt;admin-object class-name=&quot;com.ibm.mq.connector.outbound.MQQueueProxy&quot; jndi-name=&quot;${jms.dest.queue.oneway.jndi}&quot; enabled=&quot;true&quot; use-java-context=&quot;false&quot; pool-name=&quot;OnewayQueuePool&quot;&gt;\n                                &lt;config-property name=&quot;baseQueueName&quot;&gt;${jms.queue.oneway}&lt;/config-property&gt;\n                                &lt;config-property name=&quot;baseQueueManagerName&quot;&gt;${jms.queue.manager.name}&lt;/config-property&gt;\n                            &lt;/admin-object&gt;\n                        &lt;/admin-objects&gt;\n                    &lt;/resource-adapter&gt;\n            &lt;/resource-adapters&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p>Any idea what went wrong? I'm using the version 9.2.4.0 in my pom (the same as my deployed ressource adapter), so it shouldn't be a version mismatch.</p>\n<p>edit: here is the relevant part of my AMQERR01.LOG:</p>\n<pre><code>09/05/23 07:54:23 - Process(192.15) User(root) Program(amqzlaa0)\n                    Host(332ec93769f7) Installation(Installation1)\n                    VRMF(9.2.4.0) QMgr(QMGR)\n                    Time(2023-09-05T07:54:23.352Z)\n                    CommentInsert1(jboss)\n                    CommentInsert2(QMGR [qmgr])\n                    CommentInsert3(connect)\n\nAMQ8077W: Entity 'jboss' has insufficient authority to access object QMGR\n[qmgr].\n\nEXPLANATION:\nThe specified entity is not authorized to access the required object. The\nfollowing requested permissions are unauthorized: connect\nACTION:\nEnsure that the correct level of authority has been set for this entity against\nthe required object, or ensure that the entity is a member of a privileged\ngroup.\n----- amqzfubx.c : 1640 -------------------------------------------------------\n09/05/23 07:54:23 - Process(257.5) User(root) Program(amqrmppa)\n                    Host(332ec93769f7) Installation(Installation1)\n                    VRMF(9.2.4.0) QMgr(QMGR)\n                    Time(2023-09-05T07:54:23.352Z)\n                    ArithInsert1(2) ArithInsert2(2035)\n                    CommentInsert1(jboss)\n\nAMQ9557E: Queue Manager User ID initialization failed for 'jboss'.\n\nEXPLANATION:\nThe call to initialize the User ID 'jboss' failed with CompCode 2 and Reason\n2035. If an MQCSP block was used, the User ID in the MQCSP block was ''. If a\nuserID flow was used, the User ID in the UID header was '' and any CHLAUTH\nrules applied prior to user adoption were evaluated case-sensitively against\nthis value.\nACTION:\nCorrect the error and try again.\n----- cmqxrsrv.c : 2619 -------------------------------------------------------\n</code></pre>\n<p>So I'm reading this that my JBoss container somehow uses &quot;jboss&quot; as a user ID, but I'm not sure how, or why this is a problem here?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"display_name":"user1181445"},"score":7,"creation_date":1363314180,"post_id":15423653,"comment_id":21812283,"body_markdown":"A JTextField inside a JPanel with a border inside another JPanel inside a JFrame? panelception","body":"A JTextField inside a JPanel with a border inside another JPanel inside a JFrame? panelception"},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1363314461,"post_id":15423653,"comment_id":21812348,"body_markdown":"post a screenshot, for better help.","body":"post a screenshot, for better help."},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1363314493,"post_id":15423653,"comment_id":21812361,"body_markdown":"And also your GUI setup code.","body":"And also your GUI setup code."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1363314539,"post_id":15423653,"comment_id":21812372,"body_markdown":"No need to. @Legend has your answer -- nest your components.","body":"No need to. @Legend has your answer -- nest your components."}],"answers":[{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363338541,"creation_date":1363338185,"answer_id":15428313,"question_id":15423653,"body_markdown":"If you replace the border of the textfield with a `TitledBorder` you lose the natural border of the field. The solution is to create a `CompoundBorder`that combines the `TitledBorder` with the border of the field:\r\n\r\n    JTextField field = new JTextField(10);\r\n    field.setBorder(new CompoundBorder(BorderFactory.createTitledBorder(&quot;Title&quot;), field.getBorder()));\r\n\r\nHowever the TitledBorder still inherits the background color of the textfield.\r\n\r\nAnother solution is to embed the textfield in a `JPanel` and put the `TitledBorder` on the panel:\r\n\r\n    JTextField field = new JTextField(10);\r\n    \r\n    JPanel borderPanel = new JPanel();\r\n    borderPanel.setBorder(BorderFactory.createTitledBorder(&quot;Title&quot;));\r\n    borderPanel.add(field);\r\n","title":"TitledBorder around JTextField","body":"<p>If you replace the border of the textfield with a <code>TitledBorder</code> you lose the natural border of the field. The solution is to create a <code>CompoundBorder</code>that combines the <code>TitledBorder</code> with the border of the field:</p>\n\n<pre><code>JTextField field = new JTextField(10);\nfield.setBorder(new CompoundBorder(BorderFactory.createTitledBorder(\"Title\"), field.getBorder()));\n</code></pre>\n\n<p>However the TitledBorder still inherits the background color of the textfield.</p>\n\n<p>Another solution is to embed the textfield in a <code>JPanel</code> and put the <code>TitledBorder</code> on the panel:</p>\n\n<pre><code>JTextField field = new JTextField(10);\n\nJPanel borderPanel = new JPanel();\nborderPanel.setBorder(BorderFactory.createTitledBorder(\"Title\"));\nborderPanel.add(field);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1727166,"reputation":2466,"user_id":1581576,"accept_rate":42,"display_name":"Biswajit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363366180,"creation_date":1363366180,"answer_id":15437912,"question_id":15423653,"body_markdown":"    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class AA\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            FrameCreator Frame= new FrameCreator();\r\n            Frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            Frame.setVisible(true);\r\n        }\r\n    }\r\n    \r\n    class FrameCreator extends JFrame\r\n    {\r\n        public FrameCreator()\r\n        {\r\n            int height=100;\r\n            int width=300;\r\n            setSize(width,height);\r\n            setLocation(0,0);\r\n    \r\n            setTitle(&quot;TextField example&quot;);\r\n    \r\n            showPanel=new JPanel();\r\n            textFieldPanel=new JPanel();\r\n    \r\n            label=new JLabel(&quot;Sentence&quot;);\r\n            label.setFont(new Font(&quot;Serif&quot;,Font.PLAIN,12));\r\n    \r\n            showPanel.add(label);\r\n            add(showPanel, BorderLayout.CENTER);\r\n    \r\n    \r\n            textfield=new JTextField(&quot;Sentence&quot;, 20);\r\n            textfield.setBorder(BorderFactory.createTitledBorder(&quot;Name&quot;));\r\n            textfield.addActionListener(\r\n                new ActionListener()\r\n                {\r\n                    public void actionPerformed(ActionEvent evento1)\r\n                    {\r\n    \r\n                        String sentence=textfield.getText();\r\n    \r\n    \r\n                        label.setText(sentence);\r\n                    }\r\n                });\r\n    \r\n    \r\n            textFieldPanel.add(textfield);\r\n            add(textFieldPanel, BorderLayout.SOUTH);\r\n        }\r\n    \r\n        JLabel label;\r\n        JPanel showPanel, textFieldPanel;\r\n        String sentence;\r\n        JTextField textfield;\r\n    }\r\n\r\nI have used textfield.setBorder(BorderFactory.createTitledBorder(&quot;Name&quot;));","title":"TitledBorder around JTextField","body":"<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class AA\n{\n    public static void main(String[] args)\n    {\n        FrameCreator Frame= new FrameCreator();\n        Frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Frame.setVisible(true);\n    }\n}\n\nclass FrameCreator extends JFrame\n{\n    public FrameCreator()\n    {\n        int height=100;\n        int width=300;\n        setSize(width,height);\n        setLocation(0,0);\n\n        setTitle(\"TextField example\");\n\n        showPanel=new JPanel();\n        textFieldPanel=new JPanel();\n\n        label=new JLabel(\"Sentence\");\n        label.setFont(new Font(\"Serif\",Font.PLAIN,12));\n\n        showPanel.add(label);\n        add(showPanel, BorderLayout.CENTER);\n\n\n        textfield=new JTextField(\"Sentence\", 20);\n        textfield.setBorder(BorderFactory.createTitledBorder(\"Name\"));\n        textfield.addActionListener(\n            new ActionListener()\n            {\n                public void actionPerformed(ActionEvent evento1)\n                {\n\n                    String sentence=textfield.getText();\n\n\n                    label.setText(sentence);\n                }\n            });\n\n\n        textFieldPanel.add(textfield);\n        add(textFieldPanel, BorderLayout.SOUTH);\n    }\n\n    JLabel label;\n    JPanel showPanel, textFieldPanel;\n    String sentence;\n    JTextField textfield;\n}\n</code></pre>\n\n<p>I have used textfield.setBorder(BorderFactory.createTitledBorder(\"Name\"));</p>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693930811,"creation_date":1693930811,"answer_id":77046170,"question_id":15423653,"body_markdown":"So I ended up writing my own border. It&#39;s less flexible than the JDK&#39;s `TitledBorder`, but at least it respect the border\r\n\r\n[![combobox with border][1]][1]\r\n\r\n```kotlin\r\nclass ComboBoxTitleBorder(private val originalBorder: Border, private val title: String) : AbstractBorder() {\r\n    private val TEXT_MARGIN_LEFT = 15\r\n    private val TEXT_SPACING = 2\r\n    private val TEXT_TOP_ALIGNMENT = 2\r\n    private val label = JLabel().apply {\r\n        isOpaque = false\r\n        putClientProperty(BasicHTML.propertyKey, null)\r\n    }\r\n\r\n    override fun paintBorder(c: Component?, g: Graphics, x: Int, y: Int, width: Int, height: Int) {\r\n        if (c == null) return\r\n        val insets = getBorderInsets(originalBorder, c, JBUI.emptyInsets())\r\n        val edge = 0\r\n        val label = getLabel(c)\r\n        val size = label.getPreferredSize()\r\n\r\n        val borderX: Int = x + edge\r\n        val borderY: Int = y + edge\r\n        val borderW: Int = width - edge - edge\r\n        val borderH: Int = height - edge - edge\r\n\r\n\r\n        val labelX = x + TEXT_MARGIN_LEFT\r\n        val labelY = y - TEXT_TOP_ALIGNMENT\r\n        val labelH = size.height\r\n\r\n        var labelW = width - insets.left - insets.right\r\n        if (labelW &gt; size.width) {\r\n            labelW = size.width\r\n        }\r\n\r\n        val g2 = g.create()\r\n        if (g2 is Graphics2D) {\r\n            val path: Path2D = Path2D.Float()\r\n            path.append(Rectangle(borderX, borderY, borderW, labelY - borderY), false)\r\n            path.append(Rectangle(borderX, labelY, labelX - borderX - TEXT_SPACING, labelH), false)\r\n            path.append(\r\n                Rectangle(\r\n                    labelX + labelW + TEXT_SPACING,\r\n                    y,\r\n                    borderX - labelX + borderW - labelW - TEXT_SPACING,\r\n                    labelH\r\n                ), false)\r\n            path.append(Rectangle(borderX, labelY + labelH, borderW, borderY - labelY + borderH - labelH), false)\r\n            g2.clip(path)\r\n        }\r\n        originalBorder.paintBorder(c, g2, borderX, borderY, borderW, borderH)\r\n        g2.dispose()\r\n\r\n        g.translate(labelX, labelY)\r\n        label.setSize(labelW, labelH)\r\n        label.paint(g)\r\n        g.translate(-labelX, -labelY)\r\n    }\r\n\r\n    override fun getBorderInsets(c: Component): Insets {\r\n        return originalBorder.getBorderInsets(c);\r\n    }\r\n\r\n    private fun getLabel(c: Component): JLabel {\r\n        label.setText(title)\r\n        label.setFont(...Your font)\r\n        label.setForeground(...You color)\r\n        label.setComponentOrientation(c.componentOrientation)\r\n        label.setEnabled(c.isEnabled)\r\n        return label\r\n    }\r\n\r\n    private fun getBorderInsets(border: Border, c: Component?, insets: Insets): Insets {\r\n        return when (border) {\r\n            is AbstractBorder -&gt; border.getBorderInsets(c, insets)\r\n            else -&gt; border.getBorderInsets(c).let {\r\n                insets.apply { set(it.top, it.left, it.bottom, it.right) }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZpisS.png","title":"TitledBorder around JTextField","body":"<p>So I ended up writing my own border. It's less flexible than the JDK's <code>TitledBorder</code>, but at least it respect the border</p>\n<p><a href=\"https://i.stack.imgur.com/ZpisS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZpisS.png\" alt=\"combobox with border\" /></a></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ComboBoxTitleBorder(private val originalBorder: Border, private val title: String) : AbstractBorder() {\n    private val TEXT_MARGIN_LEFT = 15\n    private val TEXT_SPACING = 2\n    private val TEXT_TOP_ALIGNMENT = 2\n    private val label = JLabel().apply {\n        isOpaque = false\n        putClientProperty(BasicHTML.propertyKey, null)\n    }\n\n    override fun paintBorder(c: Component?, g: Graphics, x: Int, y: Int, width: Int, height: Int) {\n        if (c == null) return\n        val insets = getBorderInsets(originalBorder, c, JBUI.emptyInsets())\n        val edge = 0\n        val label = getLabel(c)\n        val size = label.getPreferredSize()\n\n        val borderX: Int = x + edge\n        val borderY: Int = y + edge\n        val borderW: Int = width - edge - edge\n        val borderH: Int = height - edge - edge\n\n\n        val labelX = x + TEXT_MARGIN_LEFT\n        val labelY = y - TEXT_TOP_ALIGNMENT\n        val labelH = size.height\n\n        var labelW = width - insets.left - insets.right\n        if (labelW &gt; size.width) {\n            labelW = size.width\n        }\n\n        val g2 = g.create()\n        if (g2 is Graphics2D) {\n            val path: Path2D = Path2D.Float()\n            path.append(Rectangle(borderX, borderY, borderW, labelY - borderY), false)\n            path.append(Rectangle(borderX, labelY, labelX - borderX - TEXT_SPACING, labelH), false)\n            path.append(\n                Rectangle(\n                    labelX + labelW + TEXT_SPACING,\n                    y,\n                    borderX - labelX + borderW - labelW - TEXT_SPACING,\n                    labelH\n                ), false)\n            path.append(Rectangle(borderX, labelY + labelH, borderW, borderY - labelY + borderH - labelH), false)\n            g2.clip(path)\n        }\n        originalBorder.paintBorder(c, g2, borderX, borderY, borderW, borderH)\n        g2.dispose()\n\n        g.translate(labelX, labelY)\n        label.setSize(labelW, labelH)\n        label.paint(g)\n        g.translate(-labelX, -labelY)\n    }\n\n    override fun getBorderInsets(c: Component): Insets {\n        return originalBorder.getBorderInsets(c);\n    }\n\n    private fun getLabel(c: Component): JLabel {\n        label.setText(title)\n        label.setFont(...Your font)\n        label.setForeground(...You color)\n        label.setComponentOrientation(c.componentOrientation)\n        label.setEnabled(c.isEnabled)\n        return label\n    }\n\n    private fun getBorderInsets(border: Border, c: Component?, insets: Insets): Insets {\n        return when (border) {\n            is AbstractBorder -&gt; border.getBorderInsets(c, insets)\n            else -&gt; border.getBorderInsets(c).let {\n                insets.apply { set(it.top, it.left, it.bottom, it.right) }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2163626,"reputation":205,"user_id":1917209,"accept_rate":0,"display_name":"user1917209"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2548,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693930811,"creation_date":1363314075,"question_id":15423653,"body_markdown":"In java, when I use a TitledBorder around a JTextField, part of the JTextField spills over the TitledBorder in all directions. Is there a way to prevent this?","title":"TitledBorder around JTextField","body":"<p>In java, when I use a TitledBorder around a JTextField, part of the JTextField spills over the TitledBorder in all directions. Is there a way to prevent this?</p>\n"},{"tags":["java","applet","awt","appletviewer"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1449800073,"post_id":34214788,"comment_id":56174705,"body_markdown":"You need to pass it the html page *&quot;appletviewer &lt;options&gt; url(s)*&quot;","body":"You need to pass it the html page <i>&quot;appletviewer &lt;options&gt; url(s)</i>&quot;"},{"owner":{"account_id":6690125,"reputation":161,"user_id":5167324,"display_name":"lawrence"},"score":0,"creation_date":1449809317,"post_id":34214788,"comment_id":56177039,"body_markdown":"But I just want the appletviewer to show applet without the html page.","body":"But I just want the appletviewer to show applet without the html page."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1449809386,"post_id":34214788,"comment_id":56177059,"body_markdown":"But that&#39;s not how the appletviewer works, it uses the html to find and load the applet classes","body":"But that&#39;s not how the appletviewer works, it uses the html to find and load the applet classes"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1449884944,"post_id":34214788,"comment_id":56214204,"body_markdown":"Look at the example code in the [applet info. page](http://stackoverflow.com/tags/applet/info),  It includes the HTML in the source code.  Then it can be run using something like `appletviewer HelloWorld.java`  (note it is **`.java`** not **`.class`**).","body":"Look at the example code in the <a href=\"http://stackoverflow.com/tags/applet/info\">applet info. page</a>,  It includes the HTML in the source code.  Then it can be run using something like <code>appletviewer HelloWorld.java</code>  (note it is <b><code>.java</code></b> not <b><code>.class</code></b>)."},{"owner":{"account_id":6690125,"reputation":161,"user_id":5167324,"display_name":"lawrence"},"score":0,"creation_date":1449900038,"post_id":34214788,"comment_id":56216594,"body_markdown":"Thanks You @MadProgrammer. As you say I run the applet in HTML Pages.Now my applet viewer can be running.But I can&#39;t run that file in my firefox.Is there any issues.I had enable the security signning in the java control panel with local address of the file\n\n&lt;code&gt;\nimport java.awt.Graphics;\nimport java.awt.Font;\nimport java.awt.Color;\n//import java.applet.*;\n\npublic class HelloAgainApplet extends java.applet.Applet {\n\n\tFont f = new Font (&quot;TimesRoman&quot; ,Font.BOLD,36);\n\t\n\tpublic void paint(Graphics g){\n\t\tg.setFont(f);\n\t\tg.setColor(Color.red);\n\t\tg.drawString(&quot;HelloAgain!&quot;, 5, 50);\n\t\t\n\t}\n\t\n}\n&lt;/code&gt;","body":"Thanks You @MadProgrammer. As you say I run the applet in HTML Pages.Now my applet viewer can be running.But I can&#39;t run that file in my firefox.Is there any issues.I had enable the security signning in the java control panel with local address of the file  &lt;code&gt; import java.awt.Graphics; import java.awt.Font; import java.awt.Color; //import java.applet.*;  public class HelloAgainApplet extends java.applet.Applet {  \tFont f = new Font (&quot;TimesRoman&quot; ,Font.BOLD,36); \t \tpublic void paint(Graphics g){ \t\tg.setFont(f); \t\tg.setColor(Color.red); \t\tg.drawString(&quot;HelloAgain!&quot;, 5, 50); \t\t \t} \t } &lt;/code&gt;"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1449905402,"post_id":34214788,"comment_id":56217542,"body_markdown":"It&#39;s been years (literally 10+) since I had to deal with applets at any serious level. I believe that now, your applet MUST be signed before any browser will even look at it, which in my opinion, makes it a dead technology, with many other, better solutions available.  Have a look at [Java Applets](https://docs.oracle.com/javase/tutorial/deployment/applet/) for more details","body":"It&#39;s been years (literally 10+) since I had to deal with applets at any serious level. I believe that now, your applet MUST be signed before any browser will even look at it, which in my opinion, makes it a dead technology, with many other, better solutions available.  Have a look at <a href=\"https://docs.oracle.com/javase/tutorial/deployment/applet/\" rel=\"nofollow noreferrer\">Java Applets</a> for more details"},{"owner":{"account_id":6690125,"reputation":161,"user_id":5167324,"display_name":"lawrence"},"score":0,"creation_date":1449979140,"post_id":34214788,"comment_id":56237401,"body_markdown":"@MadProgrammer. Thanks You. Many thanks to your helping hand.I learn a lot now.And also Andrew Thompson.Thanks You.","body":"@MadProgrammer. Thanks You. Many thanks to your helping hand.I learn a lot now.And also Andrew Thompson.Thanks You."},{"owner":{"account_id":16285107,"reputation":1793,"user_id":11760058,"display_name":"cachius"},"score":0,"creation_date":1693930635,"post_id":34214788,"comment_id":135823297,"body_markdown":"This question has nothing to do with a java version higher than 1.8 as https://stackoverflow.com/questions/54505959/error-could-not-find-or-load-main-class-sun-applet-appletviewer and others.","body":"This question has nothing to do with a java version higher than 1.8 as <a href=\"https://stackoverflow.com/questions/54505959/error-could-not-find-or-load-main-class-sun-applet-appletviewer\" title=\"error could not find or load main class sun applet appletviewer\">stackoverflow.com/questions/54505959/&hellip;</a> and others."}],"answers":[{"tags":[],"owner":{"account_id":16285107,"reputation":1793,"user_id":11760058,"display_name":"cachius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693930457,"creation_date":1693930457,"answer_id":77046126,"question_id":34214788,"body_markdown":"You must pass an html file that references your class file as argument to appletviewer:\r\n\r\n##### Sample &quot;Applet.html&quot;\r\n\r\n    &lt;applet code=&quot;HelloAgainApplet&quot; width=200 height=60&gt;&lt;/applet&gt;\r\n\r\nThen start via\r\n\r\n    appletviewer -debug Applet.html\r\n\r\nand run the applet with a simple `run` command. The CLI should look like this:\r\n\r\n    appletviewer.exe -debug Applet.html\r\n    Initializing jdb ...\r\n    &gt; run\r\n    run sun.applet.Main Applet.html\r\n    ...\r\n\r\n","title":"Java applet cannot be run","body":"<p>You must pass an html file that references your class file as argument to appletviewer:</p>\n<h5>Sample &quot;Applet.html&quot;</h5>\n<pre><code>&lt;applet code=&quot;HelloAgainApplet&quot; width=200 height=60&gt;&lt;/applet&gt;\n</code></pre>\n<p>Then start via</p>\n<pre><code>appletviewer -debug Applet.html\n</code></pre>\n<p>and run the applet with a simple <code>run</code> command. The CLI should look like this:</p>\n<pre><code>appletviewer.exe -debug Applet.html\nInitializing jdb ...\n&gt; run\nrun sun.applet.Main Applet.html\n...\n</code></pre>\n"}],"owner":{"account_id":6690125,"reputation":161,"user_id":5167324,"display_name":"lawrence"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1923,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693930457,"creation_date":1449797504,"question_id":34214788,"body_markdown":"I am trying to run a java applet with instruction on the textbook.\r\nThe code is as below.But when I run the appletviewer in cmd the appletviewer is not running.\r\nThe CMD command is as below\r\n\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.Font;\r\n    import java.awt.Color;\r\n    \r\n    public class HelloAgainApplet extends java.applet.Applet{\r\n    \r\n    \tFont f = new Font (&quot;TimesRoman&quot; ,Font.BOLD,36);\r\n    \t\r\n    \tpublic void paint(Graphics g){\r\n    \t\tg.setFont(f);\r\n    \t\tg.setColor(Color.red);\r\n    \t\tg.drawString(&quot;HelloAgain!&quot;, 5, 50);\r\n    \t}\r\n    }\r\n\r\n---\r\n\r\n    C:\\HTML&gt;appletviewer -debug HelloAgainApplet.class Initializing jdb\r\n     ...\r\n     &gt; run run sun.applet.Main HelloAgainApplet.class VM start exception: VM initialization failed for: C:\\Program Files\r\n     (x86)\\Java\\jdk1.8.0_66\\jre\\bin\\java -Djava.class.path=C:\\Program Files\r\n     (x86)\\Java\\jdk1.8.0_66\\jre\\phony -Xdebug\r\n     -Xrunjdwp:transport=dt_shmem,address=javadebug66917,suspend=y sun.applet.Main HelloAgainApplet.class\r\n     \r\n     Error: Could not find or load main class Files\r\n     \r\n     Fatal error: Target VM failed to initialize.\r\n\r\nMay I know why the error occurs? Is it that I had not set the classpath for the java appletviewer?\r\n\r\n","title":"Java applet cannot be run","body":"<p>I am trying to run a java applet with instruction on the textbook.\nThe code is as below.But when I run the appletviewer in cmd the appletviewer is not running.\nThe CMD command is as below</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.Font;\nimport java.awt.Color;\n\npublic class HelloAgainApplet extends java.applet.Applet{\n\n    Font f = new Font (\"TimesRoman\" ,Font.BOLD,36);\n\n    public void paint(Graphics g){\n        g.setFont(f);\n        g.setColor(Color.red);\n        g.drawString(\"HelloAgain!\", 5, 50);\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>C:\\HTML&gt;appletviewer -debug HelloAgainApplet.class Initializing jdb\n ...\n &gt; run run sun.applet.Main HelloAgainApplet.class VM start exception: VM initialization failed for: C:\\Program Files\n (x86)\\Java\\jdk1.8.0_66\\jre\\bin\\java -Djava.class.path=C:\\Program Files\n (x86)\\Java\\jdk1.8.0_66\\jre\\phony -Xdebug\n -Xrunjdwp:transport=dt_shmem,address=javadebug66917,suspend=y sun.applet.Main HelloAgainApplet.class\n\n Error: Could not find or load main class Files\n\n Fatal error: Target VM failed to initialize.\n</code></pre>\n\n<p>May I know why the error occurs? Is it that I had not set the classpath for the java appletviewer?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","jta"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674034757,"post_id":75156406,"comment_id":132626698,"body_markdown":"As mentioned in the issue linked. Atomikos isn&#39;t supported anymore unless Atomikos supports it themselves. Narayana (as mentioned in the issues) does support Spring Boot so you might want to take a look at that.","body":"As mentioned in the issue linked. Atomikos isn&#39;t supported anymore unless Atomikos supports it themselves. Narayana (as mentioned in the issues) does support Spring Boot so you might want to take a look at that."},{"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"score":0,"creation_date":1674477702,"post_id":75156406,"comment_id":132715310,"body_markdown":"narayana still doenst work in spring boot 3 yet","body":"narayana still doenst work in spring boot 3 yet"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674478207,"post_id":75156406,"comment_id":132715477,"body_markdown":"Why wouldn&#39;t it, it supports JakartaEE so it should work in Spring Boot. It requires manual configuration as there is no Spring Boot auto-configuration but as it uses the proper APIs it should work.","body":"Why wouldn&#39;t it, it supports JakartaEE so it should work in Spring Boot. It requires manual configuration as there is no Spring Boot auto-configuration but as it uses the proper APIs it should work."},{"owner":{"account_id":6006179,"reputation":2415,"user_id":4718042,"display_name":"Bradley D"},"score":0,"creation_date":1675706362,"post_id":75156406,"comment_id":132982464,"body_markdown":"@M.Deinum Do you know how to make multiple transactional databases work with the java 17, spring 3.0 and the required jakarta updates for java 17?  There appears to be no or inadequate documentation on the replacement for javax.sql.DataSource","body":"@M.Deinum Do you know how to make multiple transactional databases work with the java 17, spring 3.0 and the required jakarta updates for java 17?  There appears to be no or inadequate documentation on the replacement for javax.sql.DataSource"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675756265,"post_id":75156406,"comment_id":132991752,"body_markdown":"There is no replacement for `javax.sql.DataSource` because that still `javax.sql.DataSource`.","body":"There is no replacement for <code>javax.sql.DataSource</code> because that still <code>javax.sql.DataSource</code>."}],"answers":[{"tags":[],"owner":{"account_id":5320261,"reputation":7235,"user_id":4243908,"accept_rate":77,"display_name":"George"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693929780,"creation_date":1693929780,"answer_id":77046060,"question_id":75156406,"body_markdown":"The latest (6.0) version of atomikos TransactionEssentials claims to support Jakarta EE. So it should support springboot 3.\r\n\r\nSee here: [https://github.com/atomikos/transactions-essentials/blob/master/README.md][1]\r\n\r\nYou can give it a try with springboot 3 with this starter: [https://mvnrepository.com/artifact/com.atomikos/transactions-spring-boot3-starter/6.0.0][2]\r\n\r\n\r\n  [1]: https://github.com/atomikos/transactions-essentials/blob/master/README.md\r\n  [2]: https://mvnrepository.com/artifact/com.atomikos/transactions-spring-boot3-starter/6.0.0","title":"Multiple database transaction management in spring boot 3.0","body":"<p>The latest (6.0) version of atomikos TransactionEssentials claims to support Jakarta EE. So it should support springboot 3.</p>\n<p>See here: <a href=\"https://github.com/atomikos/transactions-essentials/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/atomikos/transactions-essentials/blob/master/README.md</a></p>\n<p>You can give it a try with springboot 3 with this starter: <a href=\"https://mvnrepository.com/artifact/com.atomikos/transactions-spring-boot3-starter/6.0.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.atomikos/transactions-spring-boot3-starter/6.0.0</a></p>\n"}],"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1693929780,"creation_date":1674030366,"question_id":75156406,"body_markdown":"Hi I have two different database and I need distributed transaction for my process.\r\n\r\nChained transaction manager is deprecated \r\n(https://github.com/spring-projects/spring-data-commons/issues/2232)\r\n\r\nAnd after spring boot 3.0 ,spring doesnt support jta solution like atomikos\r\n\r\n(https://github.com/atomikos/transactions-essentials/issues/175)\r\n(https://github.com/spring-projects/spring-boot/issues/20809)\r\nSo with spring boot 3.0 what is the best way to manage distributed transaction management\r\n\r\n","title":"Multiple database transaction management in spring boot 3.0","body":"<p>Hi I have two different database and I need distributed transaction for my process.</p>\n<p>Chained transaction manager is deprecated\n(<a href=\"https://github.com/spring-projects/spring-data-commons/issues/2232\" rel=\"noreferrer\">https://github.com/spring-projects/spring-data-commons/issues/2232</a>)</p>\n<p>And after spring boot 3.0 ,spring doesnt support jta solution like atomikos</p>\n<p>(<a href=\"https://github.com/atomikos/transactions-essentials/issues/175\" rel=\"noreferrer\">https://github.com/atomikos/transactions-essentials/issues/175</a>)\n(<a href=\"https://github.com/spring-projects/spring-boot/issues/20809\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/20809</a>)\nSo with spring boot 3.0 what is the best way to manage distributed transaction management</p>\n"},{"tags":["java","coldfusion"],"comments":[{"owner":{"account_id":2054462,"reputation":20774,"user_id":1832636,"accept_rate":67,"display_name":"Dan Bracuk"},"score":0,"creation_date":1692627041,"post_id":76945605,"comment_id":135645525,"body_markdown":"Where in this code did you intend to create the variable &quot;hex&quot;?","body":"Where in this code did you intend to create the variable &quot;hex&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":1597865,"reputation":15787,"user_id":1479535,"accept_rate":100,"display_name":"rrk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692646066,"creation_date":1692626317,"answer_id":76945999,"question_id":76945605,"body_markdown":"If you are on Coldfusion 10 or higher, then you can use the internal [Hmac][1] function instead of all Java create objects. [DEMO][2]\r\n\r\n    lcase(HMac(input, key , &#39;HMACSHA256&#39;))\r\n\r\n---\r\n\r\nIf not, then I think you can define Hex variable like this. \r\n\r\n    Hex = createObject(&quot;java&quot;, &quot;org.apache.commons.codec.binary.Hex&quot;)\r\n\r\nBut you should not need it. You can use BinaryEncode function in Coldfusion.\r\n\r\n    digest = lcase(BinaryEncode(mac.doFinal(input.GetBytes(&quot;UTF-8&quot;))))\r\n\r\n\r\n  [1]: https://helpx.adobe.com/coldfusion/cfml-reference/coldfusion-functions/functions-h-im/hmac.html\r\n  [2]: https://cffiddle.org/app/file?filepath=b0e31551-ab5b-4654-95ba-d3248baffaef/1c1d4542-cc64-4f41-8b8c-5c6c6048fb6e/67adb197-c86d-4143-a337-9ea39f05aedc.cfm","title":"Hex object in CF","body":"<p>If you are on Coldfusion 10 or higher, then you can use the internal <a href=\"https://helpx.adobe.com/coldfusion/cfml-reference/coldfusion-functions/functions-h-im/hmac.html\" rel=\"nofollow noreferrer\">Hmac</a> function instead of all Java create objects. <a href=\"https://cffiddle.org/app/file?filepath=b0e31551-ab5b-4654-95ba-d3248baffaef/1c1d4542-cc64-4f41-8b8c-5c6c6048fb6e/67adb197-c86d-4143-a337-9ea39f05aedc.cfm\" rel=\"nofollow noreferrer\">DEMO</a></p>\n<pre><code>lcase(HMac(input, key , 'HMACSHA256'))\n</code></pre>\n<hr />\n<p>If not, then I think you can define Hex variable like this.</p>\n<pre><code>Hex = createObject(&quot;java&quot;, &quot;org.apache.commons.codec.binary.Hex&quot;)\n</code></pre>\n<p>But you should not need it. You can use BinaryEncode function in Coldfusion.</p>\n<pre><code>digest = lcase(BinaryEncode(mac.doFinal(input.GetBytes(&quot;UTF-8&quot;))))\n</code></pre>\n"}],"owner":{"account_id":295501,"reputation":354,"user_id":599952,"accept_rate":50,"display_name":"gabriel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693929700,"creation_date":1692623341,"question_id":76945605,"body_markdown":"I am trying to convert some java code (below) to Coldfusion but am running into an error \r\n\r\n&gt;Variable HEX is undefined\r\n\r\nHow can I create a Hex object in CF?\r\n\r\n    &lt;cfset input=&#39;{&quot;id&quot;:7,&quot;attempts&quot;:1,&quot;notifications&quot;:[{&quot;action&quot;:&quot;UPDATE&quot;,&quot;message&quot;:{&quot;id&quot;:0,&quot;sender&quot;:&quot;&quot;,&quot;body&quot;:&quot;{\\u0022TableId\\u0022:930002,\\u0022TableName\\u0022:\\u0022DEMOGRAPHIC\\u0022,\\u0022TableAction\\u0022:\\u0022UPDATE\\u0022}&quot;}}]}&#39;&gt;\r\n\r\n    &lt;cfset key = &quot;xxxx&quot;&gt;\r\n\r\n    &lt;cfscript&gt;\r\n\r\n    secret = createObject(&#39;java&#39;, &#39;javax.crypto.spec.SecretKeySpec&#39; ).Init(key.GetBytes(&quot;UTF-8&quot;), &#39;HmacSHA256&#39;);\r\n    mac = createObject(&#39;java&#39;, &quot;javax.crypto.Mac&quot;);\r\n    mac = mac.getInstance(&quot;HmacSHA256&quot;);\r\n    mac.init(secret);\r\n    digest = Hex.encodeHexString(mac.doFinal(input.GetBytes(&quot;UTF-8&quot;)));\r\n    &lt;/cfscript&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Hex object in CF","body":"<p>I am trying to convert some java code (below) to Coldfusion but am running into an error</p>\n<blockquote>\n<p>Variable HEX is undefined</p>\n</blockquote>\n<p>How can I create a Hex object in CF?</p>\n<pre><code>&lt;cfset input='{&quot;id&quot;:7,&quot;attempts&quot;:1,&quot;notifications&quot;:[{&quot;action&quot;:&quot;UPDATE&quot;,&quot;message&quot;:{&quot;id&quot;:0,&quot;sender&quot;:&quot;&quot;,&quot;body&quot;:&quot;{\\u0022TableId\\u0022:930002,\\u0022TableName\\u0022:\\u0022DEMOGRAPHIC\\u0022,\\u0022TableAction\\u0022:\\u0022UPDATE\\u0022}&quot;}}]}'&gt;\n\n&lt;cfset key = &quot;xxxx&quot;&gt;\n\n&lt;cfscript&gt;\n\nsecret = createObject('java', 'javax.crypto.spec.SecretKeySpec' ).Init(key.GetBytes(&quot;UTF-8&quot;), 'HmacSHA256');\nmac = createObject('java', &quot;javax.crypto.Mac&quot;);\nmac = mac.getInstance(&quot;HmacSHA256&quot;);\nmac.init(secret);\ndigest = Hex.encodeHexString(mac.doFinal(input.GetBytes(&quot;UTF-8&quot;)));\n&lt;/cfscript&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-restcontroller"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1693934485,"post_id":77046025,"comment_id":135824090,"body_markdown":"It&#39;s not really clear what is your expectations. I guess your understand that `fromCallable` returns `empty` for `null`, and then it depends on other handlers how to process an empty response. Also it&#39;s unclear what you mean by `@NotNull` annotation in this context.","body":"It&#39;s not really clear what is your expectations. I guess your understand that <code>fromCallable</code> returns <code>empty</code> for <code>null</code>, and then it depends on other handlers how to process an empty response. Also it&#39;s unclear what you mean by <code>@NotNull</code> annotation in this context."},{"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"score":0,"creation_date":1693988796,"post_id":77046025,"comment_id":135830700,"body_markdown":"Make sure that you pass the same object data to both your test and Postman (i.e your param `request`)","body":"Make sure that you pass the same object data to both your test and Postman (i.e your param <code>request</code>)"}],"owner":{"account_id":8611883,"reputation":43,"user_id":22504890,"display_name":"user22504890"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693929585,"creation_date":1693929529,"question_id":77046025,"body_markdown":"I have this rest controller: \r\n\r\n\r\n    @PostMapping(consumes = &quot;application/json&quot;, value = &quot;val&quot;)\r\n        public Mono&lt;Response&gt; responseController(@Valid @RequestBody MyRequest request) {\r\n            return Mono.fromCallable(() -&gt; filtering.filter(\r\n                            request.getEntity()))\r\n                    .map(MyMapper::mapToResponse);\r\n        }\r\n\r\nAnd in my model class I put @NotNull on entity property. Then, I wrote a test : \r\n\r\n```\r\n`@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyControllerTest.TestApplication.class) {\r\n\r\n@Test\r\n    void invalidUrlError() {\r\n        var request = new MyRequest();\r\n\r\n        client.post()\r\n                .uri(&quot;/filtering/val&quot;)\r\n                .bodyValue(request)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isNotFound()\r\n                .expectBody()\r\n                .jsonPath(&quot;code&quot;).isEqualTo(&quot;400&quot;)\r\n                .jsonPath(&quot;instance&quot;).exists();\r\n    }\r\n}`\r\n```\r\n\r\nBut that test is failing because for some reason my response code is 200, not 400. But in Postman, I am getting 400.\r\n\r\nI tried with adding @WebFluxTest(controllers = MyController.class) but without success. What is the problem with my test?\r\n","title":"Why my Mono.onCallable ignores field with null value?","body":"<p>I have this rest controller:</p>\n<pre><code>@PostMapping(consumes = &quot;application/json&quot;, value = &quot;val&quot;)\n    public Mono&lt;Response&gt; responseController(@Valid @RequestBody MyRequest request) {\n        return Mono.fromCallable(() -&gt; filtering.filter(\n                        request.getEntity()))\n                .map(MyMapper::mapToResponse);\n    }\n</code></pre>\n<p>And in my model class I put @NotNull on entity property. Then, I wrote a test :</p>\n<pre><code>`@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyControllerTest.TestApplication.class) {\n\n@Test\n    void invalidUrlError() {\n        var request = new MyRequest();\n\n        client.post()\n                .uri(&quot;/filtering/val&quot;)\n                .bodyValue(request)\n                .exchange()\n                .expectStatus()\n                .isNotFound()\n                .expectBody()\n                .jsonPath(&quot;code&quot;).isEqualTo(&quot;400&quot;)\n                .jsonPath(&quot;instance&quot;).exists();\n    }\n}`\n</code></pre>\n<p>But that test is failing because for some reason my response code is 200, not 400. But in Postman, I am getting 400.</p>\n<p>I tried with adding @WebFluxTest(controllers = MyController.class) but without success. What is the problem with my test?</p>\n"},{"tags":["java","android","date","simpledateformat","xiaomi"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1693929704,"post_id":77044329,"comment_id":135823094,"body_markdown":"Consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends. Use [desugaring](https://developer.android.com/studio/write/java8-support-table) in order to use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). It is so much nicer to work with.","body":"Consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends. Use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> in order to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. It is so much nicer to work with."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693929979,"post_id":77044329,"comment_id":135823144,"body_markdown":"What is the default locale of that device where it does not work? I bet it has a language setting where the abbreviation for *September* is not `Sep`. If `Sep` is supposed to be English, specify an English-speaking locale. `LocalDateTime.parse(&quot;Sep 15 2023 24:00:00&quot;, DateTimeFormatter.ofPattern(&quot;MMM d uuuu HH:mm:ss&quot;, Locale.ROOT))` returns `2023-09-16T00:00`. 24 o’clock is taken as midnight and renedered as 00:00:00 the next day (the old-fashioned classes did something similar).","body":"What is the default locale of that device where it does not work? I bet it has a language setting where the abbreviation for <i>September</i> is not <code>Sep</code>. If <code>Sep</code> is supposed to be English, specify an English-speaking locale. <code>LocalDateTime.parse(&quot;Sep 15 2023 24:00:00&quot;, DateTimeFormatter.ofPattern(&quot;MMM d uuuu HH:mm:ss&quot;, Locale.ROOT))</code> returns <code>2023-09-16T00:00</code>. 24 o’clock is taken as midnight and renedered as 00:00:00 the next day (the old-fashioned classes did something similar)."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1693930004,"post_id":77044329,"comment_id":135823149,"body_markdown":"As @OleV.V. has rightly guided you, the problem is because of `Locale.getDefault()`. Using `Locale.getDefault()` is anyway useless with a date-time-formatter. For an English text like  *Sep 6 2023 14:00:00*, you must use `Locale.ENGLISH` or `Locale.ROOT`.","body":"As @OleV.V. has rightly guided you, the problem is because of <code>Locale.getDefault()</code>. Using <code>Locale.getDefault()</code> is anyway useless with a date-time-formatter. For an English text like  <i>Sep 6 2023 14:00:00</i>, you must use <code>Locale.ENGLISH</code> or <code>Locale.ROOT</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693930586,"post_id":77044329,"comment_id":135823283,"body_markdown":"Yet a similar question: [new SimpleDateFormat(&quot;hh:mm a&quot;, Locale.getDefault()).parse(&quot;04:30 PM&quot;) giving Unparseable exception](https://stackoverflow.com/questions/53313558/new-simpledateformathhmm-a-locale-getdefault-parse0430-pm-giving-un)","body":"Yet a similar question: <a href=\"https://stackoverflow.com/questions/53313558/new-simpledateformathhmm-a-locale-getdefault-parse0430-pm-giving-un\">new SimpleDateFormat(&quot;hh:mm a&quot;, Locale.getDefault()).parse(&quot;04:30 PM&quot;) giving Unparseable exception</a>"},{"owner":{"account_id":15929575,"reputation":195,"user_id":11494331,"display_name":"oTwo"},"score":1,"creation_date":1693934858,"post_id":77044329,"comment_id":135824166,"body_markdown":"@OleV.V. I am taking your suggestion and would discard the SimpleDateFormat in the next major update of the app. Date is cornerstone of my app and is used at multiple places. So I would need sometime to make the update. In the meantime using Arvind&#39;s suggestion for a quick fix.","body":"@OleV.V. I am taking your suggestion and would discard the SimpleDateFormat in the next major update of the app. Date is cornerstone of my app and is used at multiple places. So I would need sometime to make the update. In the meantime using Arvind&#39;s suggestion for a quick fix."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693976610,"post_id":77044329,"comment_id":135828902,"body_markdown":"@oTwo You can easily convert to and from `java.util.Date` and `java.time.Instant` via new methods added to the old class. Do all your work in *java.time*, then convert where you need to interoperate with old code.","body":"@oTwo You can easily convert to and from <code>java.util.Date</code> and <code>java.time.Instant</code> via new methods added to the old class. Do all your work in <i>java.time</i>, then convert where you need to interoperate with old code."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693976807,"post_id":77044329,"comment_id":135828919,"body_markdown":"@oTwo Your string input lacks the context of a time zone or offset-from-UTC.  But `java.util.Date` (and `Instant`) represent a date and time as seen with an offset of zero hours-minutes-seconds. Do you know the time zone or offset intended for your input string?","body":"@oTwo Your string input lacks the context of a time zone or offset-from-UTC.  But <code>java.util.Date</code> (and <code>Instant</code>) represent a date and time as seen with an offset of zero hours-minutes-seconds. Do you know the time zone or offset intended for your input string?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693977141,"post_id":77044329,"comment_id":135828951,"body_markdown":"`java.util.Date.from( java.time.LocalDateTime.parse( &quot;Sep 6 2023 14:00:00&quot; , DateTimeFormatter.ofPattern( &quot;MMM d uuuu HH:mm:ss&quot; ).withLocale( Locale.US ) ).atZone( &quot;Asia/Tokyo&quot; ).toInstant() )`","body":"<code>java.util.Date.from( java.time.LocalDateTime.parse( &quot;Sep 6 2023 14:00:00&quot; , DateTimeFormatter.ofPattern( &quot;MMM d uuuu HH:mm:ss&quot; ).withLocale( Locale.US ) ).atZone( &quot;Asia&#47;Tokyo&quot; ).toInstant() )</code>"},{"owner":{"account_id":15929575,"reputation":195,"user_id":11494331,"display_name":"oTwo"},"score":0,"creation_date":1693977561,"post_id":77044329,"comment_id":135828982,"body_markdown":"I have resolved the issue temporarily by using Locale.ENGLISH. What intrigues me is the fact that this case was reported by only one user. Works fine for others","body":"I have resolved the issue temporarily by using Locale.ENGLISH. What intrigues me is the fact that this case was reported by only one user. Works fine for others"}],"answers":[{"comments":[{"owner":{"account_id":15929575,"reputation":195,"user_id":11494331,"display_name":"oTwo"},"score":0,"creation_date":1693917463,"post_id":77044537,"comment_id":135820144,"body_markdown":"I was thinking along those lines. Challenge is that it would take me some time to realise if this worked. Any idea why this is not happening for other devices?","body":"I was thinking along those lines. Challenge is that it would take me some time to realise if this worked. Any idea why this is not happening for other devices?"},{"owner":{"account_id":15929575,"reputation":195,"user_id":11494331,"display_name":"oTwo"},"score":1,"creation_date":1693921661,"post_id":77044537,"comment_id":135821190,"body_markdown":"The issue persists with &quot;Sep 15 2023 24:00:00&quot;. So the problem is not d or dd. Same device","body":"The issue persists with &quot;Sep 15 2023 24:00:00&quot;. So the problem is not d or dd. Same device"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693930389,"post_id":77044537,"comment_id":135823244,"body_markdown":"On my computer too I still get `ParseException: Unparseable date: &quot;Sep 6 2023 14:00:00&quot;`. Sorry to say, I’m afraid your answer doesn’t help. Which I find OK since helping users how to use the long outdated and notoriously troublesome `SimpleDatFormat` is really doing them an ill favour. Everyone is much better off switching to [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"On my computer too I still get <code>ParseException: Unparseable date: &quot;Sep 6 2023 14:00:00&quot;</code>. Sorry to say, I’m afraid your answer doesn’t help. Which I find OK since helping users how to use the long outdated and notoriously troublesome <code>SimpleDatFormat</code> is really doing them an ill favour. Everyone is much better off switching to <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1694091486,"post_id":77044537,"comment_id":135847536,"body_markdown":"I&#39;m afraid, it couldn&#39;t work for you. Do it throws the exception for any dates for all times? or for specific strings?","body":"I&#39;m afraid, it couldn&#39;t work for you. Do it throws the exception for any dates for all times? or for specific strings?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694286328,"post_id":77044537,"comment_id":135872439,"body_markdown":"Using your code I get `ParseException` for all of `Sep 6 2023 14:00:00` , `Sep 06 2023 14:00:00` and `Sep 26 2023 14:00:00`. See [the linked original question and its answers](https://stackoverflow.com/questions/40025528/java-text-parseexception-unparseable-date-java-text-dateformat-parsedateforma) for the correct solution.","body":"Using your code I get <code>ParseException</code> for all of <code>Sep 6 2023 14:00:00</code> , <code>Sep 06 2023 14:00:00</code> and <code>Sep 26 2023 14:00:00</code>. See <a href=\"https://stackoverflow.com/questions/40025528/java-text-parseexception-unparseable-date-java-text-dateformat-parsedateforma\">the linked original question and its answers</a> for the correct solution."}],"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693917043,"creation_date":1693917043,"answer_id":77044537,"question_id":77044329,"body_markdown":"Your date is of single character e.g. &#39;6&#39; in &quot;Sep 6 2023 14:00:00&quot;\r\n\r\nTry format &quot;MMM d yyyy HH:mm:ss&quot; as follow:\r\n\r\n    val pattern = SimpleDateFormat(&quot;MMM d yyyy HH:mm:ss&quot;, Locale.getDefault())\r\n    val time1 = pattern.parse(dateString)\r\n\r\nor update your date generation to &#39;06&#39; for single characters","title":"SimpleDateFormat string parsing issue in a Specific Android Device","body":"<p>Your date is of single character e.g. '6' in &quot;Sep 6 2023 14:00:00&quot;</p>\n<p>Try format &quot;MMM d yyyy HH:mm:ss&quot; as follow:</p>\n<pre><code>val pattern = SimpleDateFormat(&quot;MMM d yyyy HH:mm:ss&quot;, Locale.getDefault())\nval time1 = pattern.parse(dateString)\n</code></pre>\n<p>or update your date generation to '06' for single characters</p>\n"}],"owner":{"account_id":15929575,"reputation":195,"user_id":11494331,"display_name":"oTwo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693938452,"answer_count":1,"score":0,"last_activity_date":1693929528,"creation_date":1693915255,"question_id":77044329,"body_markdown":"I have a released android app and a strange issue has cropped up with a specific device. On analysis of Crashlytics data, I found that the app is crashing for this particular user (and device) because of the following reason:\r\n\r\n    val time1 = SimpleDateFormat(&quot;MMM dd yyyy HH:mm:ss&quot;,Locale.getDefault()).parse(dateString)\r\n\r\nwhere dateString is &quot;Sep 6 2023 14:00:00&quot;\r\n\r\nThe exact error reported issue is \r\n\r\nCaused by java.text.ParseException\r\nUnparseable date: &quot;Sep 6 2023 14:00:00&quot;\r\n\r\nI have not faced this issue before in other devices. The specifics of the device are:\r\n\r\nDevice\r\nBrand:Xiaomi\r\nModel:Redmi Note 10 Pro\r\nOrientation:Portrait\r\nRAM free: 1.88 GB\r\nDisk free: 2.48 GB\r\nOperating System\r\nVersion:Android 13\r\nOrientation:Portrait\r\nRooted:No\r\nCrash\r\nDate:Sep 5, 2023, 4:19:40 PM\r\nApp version:6.1.2 (54)\r\n\r\nAdditional input:\r\n\r\nIt also fails with \r\n\r\ndeteString: &quot;Sep 15 2023 24:00:00&quot;\r\n\r\nSo the problem is not with d or dd","title":"SimpleDateFormat string parsing issue in a Specific Android Device","body":"<p>I have a released android app and a strange issue has cropped up with a specific device. On analysis of Crashlytics data, I found that the app is crashing for this particular user (and device) because of the following reason:</p>\n<pre><code>val time1 = SimpleDateFormat(&quot;MMM dd yyyy HH:mm:ss&quot;,Locale.getDefault()).parse(dateString)\n</code></pre>\n<p>where dateString is &quot;Sep 6 2023 14:00:00&quot;</p>\n<p>The exact error reported issue is</p>\n<p>Caused by java.text.ParseException\nUnparseable date: &quot;Sep 6 2023 14:00:00&quot;</p>\n<p>I have not faced this issue before in other devices. The specifics of the device are:</p>\n<p>Device\nBrand:Xiaomi\nModel:Redmi Note 10 Pro\nOrientation:Portrait\nRAM free: 1.88 GB\nDisk free: 2.48 GB\nOperating System\nVersion:Android 13\nOrientation:Portrait\nRooted:No\nCrash\nDate:Sep 5, 2023, 4:19:40 PM\nApp version:6.1.2 (54)</p>\n<p>Additional input:</p>\n<p>It also fails with</p>\n<p>deteString: &quot;Sep 15 2023 24:00:00&quot;</p>\n<p>So the problem is not with d or dd</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive"],"answers":[{"comments":[{"owner":{"account_id":14250064,"reputation":37,"user_id":10293919,"display_name":"Idorasi Paul"},"score":0,"creation_date":1693922131,"post_id":77044550,"comment_id":135821285,"body_markdown":"Yes, the answer is correct, I figured it out as well (out of desperation I tried everything), but why is this the case? It&#39;s extremely weird and it&#39;s currently making absolutely no sense for me.","body":"Yes, the answer is correct, I figured it out as well (out of desperation I tried everything), but why is this the case? It&#39;s extremely weird and it&#39;s currently making absolutely no sense for me."}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693929458,"creation_date":1693917186,"answer_id":77044550,"question_id":77042712,"body_markdown":"That question is related to generics only.\r\n\r\nYou have to change signature like this:\r\n\r\n    public Flux&lt;? extends Tuple2&lt;? extends KafkaEvent&lt;?&gt;, String&gt;&gt; processEvent(List&lt;String&gt; events) {\r\n        return factory.retrieve(new SomeClassifier()).method(events);\r\n    }\r\n\r\nTo understand it, let&#39;s compare `List&lt;List&lt;?&gt;&gt;` vs `List&lt;? extends List&lt;?&gt;&gt;`:\r\n\r\n\r\n            // a List that works with any kind of lists\r\n            List&lt;List&lt;?&gt;&gt; omnipotentList = new ArrayList&lt;&gt;(); \r\n            omnipotentList.add(List.of(&quot;&quot;)); // List&lt;String&gt; is added\r\n            omnipotentList.add(List.of(1)); // List&lt;Integer&gt; is added\r\n\r\n            // Wildcard is captured.\r\n            // A List that works with some particular lists (for example, List&lt;String&gt;, ArrayList&lt;Integer&gt;, Vector&lt;Optional&lt;Boolean&gt;&gt;),\r\n            // it is fixed, but we don&#39;t know what is it exactly.\r\n            List&lt;? extends List&lt;?&gt;&gt; listOfSpecificLists = new ArrayList&lt;&gt;();\r\n            listOfSpecificLists.add(List.of(&quot;&quot;)); // doesn&#39;t compile, listOfSpecificLists works with some specific list, we aren&#39;t sure if List&lt;String&gt; is applicable\r\n            listOfSpecificLists.add(List.of(1)); // doesn&#39;t compile, listOfSpecificLists works with some specific list, we aren&#39;t sure if List&lt;Integer&gt; is applicable\r\n\r\nIn your case `Flux&lt;Tuple2&lt;KafkaEvent&lt;?&gt;, String&gt;&gt;` represents &quot;omnipotent&quot; flux, that works with tuples, parametrized with any kind of KafkaEvent. While `factory.retrieve(new SomeClassifier()).method(events)` returns you a flux, that works with specific tuples of `KafkaEvents`, that are parametrized with a specific class. It depends on classifier, factory, interface implementation, etc. It&#39;s lost what KafkaEvent is parametrized exactly with, but it&#39;s captured. So that flux is not an &quot;omnipotent&quot; flux. \r\n\r\nDefining signature as `Flux&lt;? extends ...&gt;` tells the compiler that is Flux of something specific.\r\n\r\nFor more explanation take a look, for example, at [this][1] answer. Especially at &quot;Why ? extends is necessary&quot; section.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22806202/java-nested-generic-type","title":"Java generics and reactive paradigm","body":"<p>That question is related to generics only.</p>\n<p>You have to change signature like this:</p>\n<pre><code>public Flux&lt;? extends Tuple2&lt;? extends KafkaEvent&lt;?&gt;, String&gt;&gt; processEvent(List&lt;String&gt; events) {\n    return factory.retrieve(new SomeClassifier()).method(events);\n}\n</code></pre>\n<p>To understand it, let's compare <code>List&lt;List&lt;?&gt;&gt;</code> vs <code>List&lt;? extends List&lt;?&gt;&gt;</code>:</p>\n<pre><code>        // a List that works with any kind of lists\n        List&lt;List&lt;?&gt;&gt; omnipotentList = new ArrayList&lt;&gt;(); \n        omnipotentList.add(List.of(&quot;&quot;)); // List&lt;String&gt; is added\n        omnipotentList.add(List.of(1)); // List&lt;Integer&gt; is added\n\n        // Wildcard is captured.\n        // A List that works with some particular lists (for example, List&lt;String&gt;, ArrayList&lt;Integer&gt;, Vector&lt;Optional&lt;Boolean&gt;&gt;),\n        // it is fixed, but we don't know what is it exactly.\n        List&lt;? extends List&lt;?&gt;&gt; listOfSpecificLists = new ArrayList&lt;&gt;();\n        listOfSpecificLists.add(List.of(&quot;&quot;)); // doesn't compile, listOfSpecificLists works with some specific list, we aren't sure if List&lt;String&gt; is applicable\n        listOfSpecificLists.add(List.of(1)); // doesn't compile, listOfSpecificLists works with some specific list, we aren't sure if List&lt;Integer&gt; is applicable\n</code></pre>\n<p>In your case <code>Flux&lt;Tuple2&lt;KafkaEvent&lt;?&gt;, String&gt;&gt;</code> represents &quot;omnipotent&quot; flux, that works with tuples, parametrized with any kind of KafkaEvent. While <code>factory.retrieve(new SomeClassifier()).method(events)</code> returns you a flux, that works with specific tuples of <code>KafkaEvents</code>, that are parametrized with a specific class. It depends on classifier, factory, interface implementation, etc. It's lost what KafkaEvent is parametrized exactly with, but it's captured. So that flux is not an &quot;omnipotent&quot; flux.</p>\n<p>Defining signature as <code>Flux&lt;? extends ...&gt;</code> tells the compiler that is Flux of something specific.</p>\n<p>For more explanation take a look, for example, at <a href=\"https://stackoverflow.com/questions/22806202/java-nested-generic-type\">this</a> answer. Especially at &quot;Why ? extends is necessary&quot; section.</p>\n"}],"owner":{"account_id":14250064,"reputation":37,"user_id":10293919,"display_name":"Idorasi Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77044550,"answer_count":1,"score":0,"last_activity_date":1693929458,"creation_date":1693900631,"question_id":77042712,"body_markdown":"I&#39;m new to this reactive programming and I&#39;m a little bit lost. I have a simple factory that retrieves the required class that implements a generic interface: \r\n```\r\npublic interface InterfaceToBeImplemented&lt;T&gt; {\r\n\r\n    Flux&lt;Tuple2&lt;KafkaEvent&lt;T&gt;, String&gt;&gt; method(List&lt;String&gt; events);\r\n}\r\n\r\npublic class InterfaceImplemntationOne implements InterfaceToBeImplented&lt;ConcreteObject&gt; {\r\n\r\n    @Override\r\n    public Flux&lt;Tuple2&lt;KafkaEvent&lt;ConcreteObject&gt;, String&gt;&gt; method(List&lt;String&gt; events) {\r\n        ....\r\n    }\r\n}\r\n```\r\nAnd a service with a factory that retrieves the required implementation calls the method and returns the result:\r\n\r\n```\r\npublic class Factory {\r\n\r\n    private InterfaceImplementationOne interfaceImplOne;\r\n\r\n    public InterfaceToBeImplemented&lt;?&gt; retrieve(SomeClassifier someClassifier) {\r\n        return switch (someClassifier) {\r\n            case 1 -&gt; imterfaceImplOne;\r\n            default -&gt; throw new RuntimeException(&quot;Some message&quot;);\r\n        };\r\n    }\r\n\r\n\r\npublic class Service {\r\n\r\n    private Factory factory;\r\n\r\n    public Flux&lt;Tuple2&lt;KafkaEvent&lt;?&gt;, String&gt;&gt; processEvent(List&lt;String&gt; events) {\r\n        return factory.retrieve(eventClassifier)\r\n                .method(events);\r\n    }\r\n```\r\n\r\nThis is not working. I get the message: \r\n```\r\nRequired type: Flux&lt;Tuple2&lt;KafkaEvent&lt;?&gt;, String&gt;&gt;\r\nProvided: Flux&lt;Tuple2&lt;? extends KafkaEvent&lt;?&gt;, String&gt;&gt;\r\n```\r\n\r\nAnd if I change the return type of processEvent I still get the message:\r\n```\r\nRequired type: Flux&lt;Tuple2&lt;? extends KafkaEvent&lt;?&gt;, String&gt;&gt;\r\nProvided: Flux&lt;Tuple2&lt;? extends KafkaEvent&lt;?&gt;, String&gt;&gt;\r\n```\r\n","title":"Java generics and reactive paradigm","body":"<p>I'm new to this reactive programming and I'm a little bit lost. I have a simple factory that retrieves the required class that implements a generic interface:</p>\n<pre><code>public interface InterfaceToBeImplemented&lt;T&gt; {\n\n    Flux&lt;Tuple2&lt;KafkaEvent&lt;T&gt;, String&gt;&gt; method(List&lt;String&gt; events);\n}\n\npublic class InterfaceImplemntationOne implements InterfaceToBeImplented&lt;ConcreteObject&gt; {\n\n    @Override\n    public Flux&lt;Tuple2&lt;KafkaEvent&lt;ConcreteObject&gt;, String&gt;&gt; method(List&lt;String&gt; events) {\n        ....\n    }\n}\n</code></pre>\n<p>And a service with a factory that retrieves the required implementation calls the method and returns the result:</p>\n<pre><code>public class Factory {\n\n    private InterfaceImplementationOne interfaceImplOne;\n\n    public InterfaceToBeImplemented&lt;?&gt; retrieve(SomeClassifier someClassifier) {\n        return switch (someClassifier) {\n            case 1 -&gt; imterfaceImplOne;\n            default -&gt; throw new RuntimeException(&quot;Some message&quot;);\n        };\n    }\n\n\npublic class Service {\n\n    private Factory factory;\n\n    public Flux&lt;Tuple2&lt;KafkaEvent&lt;?&gt;, String&gt;&gt; processEvent(List&lt;String&gt; events) {\n        return factory.retrieve(eventClassifier)\n                .method(events);\n    }\n</code></pre>\n<p>This is not working. I get the message:</p>\n<pre><code>Required type: Flux&lt;Tuple2&lt;KafkaEvent&lt;?&gt;, String&gt;&gt;\nProvided: Flux&lt;Tuple2&lt;? extends KafkaEvent&lt;?&gt;, String&gt;&gt;\n</code></pre>\n<p>And if I change the return type of processEvent I still get the message:</p>\n<pre><code>Required type: Flux&lt;Tuple2&lt;? extends KafkaEvent&lt;?&gt;, String&gt;&gt;\nProvided: Flux&lt;Tuple2&lt;? extends KafkaEvent&lt;?&gt;, String&gt;&gt;\n</code></pre>\n"},{"tags":["java","precision","bigdecimal"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1693895156,"post_id":77042112,"comment_id":135815751,"body_markdown":"I strongly suspect the problem is in calling `doubleValue()`, not in the result of `multiply()`. I would suggest you *start* by separating those aspects out - print the result of calling `multiply` and I suspect it&#39;ll be what you expect.","body":"I strongly suspect the problem is in calling <code>doubleValue()</code>, not in the result of <code>multiply()</code>. I would suggest you <i>start</i> by separating those aspects out - print the result of calling <code>multiply</code> and I suspect it&#39;ll be what you expect."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1693915086,"post_id":77042112,"comment_id":135819587,"body_markdown":"There is no precision loss in `BigDecimal` multiplication, but there is in conversion to `double`. Solution: don&#39;t.","body":"There is no precision loss in <code>BigDecimal</code> multiplication, but there is in conversion to <code>double</code>. Solution: don&#39;t."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693926925,"post_id":77042796,"comment_id":135822451,"body_markdown":"As a side note, `formatter.setGroupingUsed(true)` has no effect when no grouping size is set and specifying a ton of optional fractional digits has no effect on the whole numbers of the OP’s example either. So the result of this formatter is not different to `System.out.println(result);`","body":"As a side note, <code>formatter.setGroupingUsed(true)</code> has no effect when no grouping size is set and specifying a ton of optional fractional digits has no effect on the whole numbers of the OP’s example either. So the result of this formatter is not different to <code>System.out.println(result);</code>"}],"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693901470,"creation_date":1693901470,"answer_id":77042796,"question_id":77042112,"body_markdown":"The whole point of `BigDecimal` is to avoid the lack of precision of `double` (and all other primitive number types). You however are using `double`s to read (but also create) the `BigDecimal`s thus reintroducing the lack of precision.\r\n\r\n`DecimalFormat` directly supports `BigDecimal`, so there is no need to read the `doubleValue`. Also it&#39;s best to avoid using `double`s to create the input values.\r\n\r\n     NumberFormat formatter = new DecimalFormat(&quot;0.####################&quot;);\r\n     formatter.setGroupingUsed(true);\r\n \r\n     String strRt = &quot;10000000000&quot;;\r\n     String strIrt = &quot;17911250000&quot;;\r\n \r\n     System.out.println(strRt);\r\n     System.out.println(strIrt);\r\n \r\n     BigDecimal result = new BigDecimal(strRt).multiply(new BigDecimal(strIrt));\r\n \r\n     System.out.println(formatter.format(result));\r\n","title":"Questions about BigDecimal multiply() method in Java","body":"<p>The whole point of <code>BigDecimal</code> is to avoid the lack of precision of <code>double</code> (and all other primitive number types). You however are using <code>double</code>s to read (but also create) the <code>BigDecimal</code>s thus reintroducing the lack of precision.</p>\n<p><code>DecimalFormat</code> directly supports <code>BigDecimal</code>, so there is no need to read the <code>doubleValue</code>. Also it's best to avoid using <code>double</code>s to create the input values.</p>\n<pre><code> NumberFormat formatter = new DecimalFormat(&quot;0.####################&quot;);\n formatter.setGroupingUsed(true);\n\n String strRt = &quot;10000000000&quot;;\n String strIrt = &quot;17911250000&quot;;\n\n System.out.println(strRt);\n System.out.println(strIrt);\n\n BigDecimal result = new BigDecimal(strRt).multiply(new BigDecimal(strIrt));\n\n System.out.println(formatter.format(result));\n</code></pre>\n"}],"owner":{"account_id":29368386,"reputation":11,"user_id":22501504,"display_name":"yoyoyoni1004gmailcom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693929384,"creation_date":1693894752,"question_id":77042112,"body_markdown":"I&#39;ve been trying to avoid precision loss in case of using BigDecimal multiply() method in Java.\r\n\r\nPlease check an example code below.\r\n\r\n    import java.math.BigDecimal;\r\n    import java.text.DecimalFormat;\r\n    import java.text.NumberFormat;\r\n\r\n    public class HelloWorld{\r\n\r\n     public static void main(String []args){\r\n     \r\n         double result = 0;\r\n         NumberFormat formatter = new DecimalFormat(&quot;0.####################&quot;);\r\n         formatter.setGroupingUsed(true);\r\n     \r\n         //10000000000\r\n         //17911250000\r\n         String strRt = formatter.format(10000000000.0);\r\n         String strIrt = formatter.format(17911250000.0);\r\n     \r\n         System.out.println(strRt);\r\n         System.out.println(strIrt);\r\n     \r\n         result = new BigDecimal(strRt).multiply(new BigDecimal(strIrt)).doubleValue();\r\n     \r\n        System.out.println(formatter.format(result));\r\n     }\r\n\r\n    }\r\n\r\n------------------------------------------\r\n\r\nAn expected result :\r\n```none\r\n10000000000\r\n17911250000\r\n179112500000000000000\r\n```\r\n\r\nResult in console:\r\n```none\r\n10000000000\r\n17911250000\r\n179112499999999980000\r\n```\r\n\r\nIs there any other way to get a precise result?\r\n","title":"Questions about BigDecimal multiply() method in Java","body":"<p>I've been trying to avoid precision loss in case of using BigDecimal multiply() method in Java.</p>\n<p>Please check an example code below.</p>\n<pre><code>import java.math.BigDecimal;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\n\npublic class HelloWorld{\n\n public static void main(String []args){\n \n     double result = 0;\n     NumberFormat formatter = new DecimalFormat(&quot;0.####################&quot;);\n     formatter.setGroupingUsed(true);\n \n     //10000000000\n     //17911250000\n     String strRt = formatter.format(10000000000.0);\n     String strIrt = formatter.format(17911250000.0);\n \n     System.out.println(strRt);\n     System.out.println(strIrt);\n \n     result = new BigDecimal(strRt).multiply(new BigDecimal(strIrt)).doubleValue();\n \n    System.out.println(formatter.format(result));\n }\n\n}\n</code></pre>\n<hr />\n<p>An expected result :</p>\n<pre class=\"lang-none prettyprint-override\"><code>10000000000\n17911250000\n179112500000000000000\n</code></pre>\n<p>Result in console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>10000000000\n17911250000\n179112499999999980000\n</code></pre>\n<p>Is there any other way to get a precise result?</p>\n"},{"tags":["java","math","documentation"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":5,"creation_date":1693921090,"post_id":77044988,"comment_id":135821045,"body_markdown":"The statement is correct. `it will always be upped in positive direction` Yeah, thats what it says: &quot;Returns the smallest (closest to negative infinity) double value __that is greater than or equal to the argument__ and is equal to a mathematical integer.&quot;","body":"The statement is correct. <code>it will always be upped in positive direction</code> Yeah, thats what it says: &quot;Returns the smallest (closest to negative infinity) double value <b>that is greater than or equal to the argument</b> and is equal to a mathematical integer.&quot;"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1693921408,"post_id":77044988,"comment_id":135821131,"body_markdown":"You can&#39;t just take take an isolated part of the description and treat it like the rest doesn&#39;t exist. Of course if the description says &quot;returns number that fulfills X and also fulfills Y&quot; and you only look at &quot;returns number that fulfills X&quot; you&#39;re likely to get a wrong result.","body":"You can&#39;t just take take an isolated part of the description and treat it like the rest doesn&#39;t exist. Of course if the description says &quot;returns number that fulfills X and also fulfills Y&quot; and you only look at &quot;returns number that fulfills X&quot; you&#39;re likely to get a wrong result."},{"owner":{"account_id":13096109,"reputation":63,"user_id":9462003,"display_name":"marick0073"},"score":0,"creation_date":1693921811,"post_id":77044988,"comment_id":135821229,"body_markdown":"But this is not the isolated part of description. It&#39;s a complete short description.\nYou can take a look at it here:\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#ceil-double-\nI mean for what is this &quot;Returns the smallest (closest to negative infinity)&quot; for? In which way value that is returned by this function is closest to negative infinity?","body":"But this is not the isolated part of description. It&#39;s a complete short description. You can take a look at it here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#ceil-double-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a> I mean for what is this &quot;Returns the smallest (closest to negative infinity)&quot; for? In which way value that is returned by this function is closest to negative infinity?"},{"owner":{"account_id":13096109,"reputation":63,"user_id":9462003,"display_name":"marick0073"},"score":0,"creation_date":1693922799,"post_id":77044988,"comment_id":135821451,"body_markdown":"Yeah, if that is what they meant, then it&#39;s correct. Thanks! Because when I do look at these kind of functions I know that they will return either smaller, or same, or greater integer values. And so I thought that this statement &quot;Returns the smallest (closest to negative infinity)&quot; shows in which direction your number will be treated.","body":"Yeah, if that is what they meant, then it&#39;s correct. Thanks! Because when I do look at these kind of functions I know that they will return either smaller, or same, or greater integer values. And so I thought that this statement &quot;Returns the smallest (closest to negative infinity)&quot; shows in which direction your number will be treated."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693923006,"post_id":77044988,"comment_id":135821492,"body_markdown":"You are thinking about only positive numbers. What about a negative number e.g. ceil(-4.5)? So, the definition is correct if you get it in the right way.","body":"You are thinking about only positive numbers. What about a negative number e.g. ceil(-4.5)? So, the definition is correct if you get it in the right way."},{"owner":{"account_id":13096109,"reputation":63,"user_id":9462003,"display_name":"marick0073"},"score":1,"creation_date":1693923281,"post_id":77044988,"comment_id":135821562,"body_markdown":"No, I do also pay attention to negative numbers. There is same thing. They are too being treated in positive direction. So -4.5 returns -4 (positive direction). Yeah, definition is correct, my misunderstanding.","body":"No, I do also pay attention to negative numbers. There is same thing. They are too being treated in positive direction. So -4.5 returns -4 (positive direction). Yeah, definition is correct, my misunderstanding."}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1693922291,"creation_date":1693922291,"answer_id":77045161,"question_id":77044988,"body_markdown":"Suppose you use the argument `4.5`, and you want a number that is  &quot;*greater than or equal to the argument and is equal to a mathematical integer*&quot;.\r\n\r\nThere are lots of numbers that match those criteria: `5`, `6`, `7`, `100`, `2000`, ....\r\n\r\nThe **smallest** of those (closest to negative infinity) is `5`; and that&#39;s what `ceil` returns. The description is perfectly reasonable.","title":"Java 8. Math.ceil() function description","body":"<p>Suppose you use the argument <code>4.5</code>, and you want a number that is  &quot;<em>greater than or equal to the argument and is equal to a mathematical integer</em>&quot;.</p>\n<p>There are lots of numbers that match those criteria: <code>5</code>, <code>6</code>, <code>7</code>, <code>100</code>, <code>2000</code>, ....</p>\n<p>The <strong>smallest</strong> of those (closest to negative infinity) is <code>5</code>; and that's what <code>ceil</code> returns. The description is perfectly reasonable.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693929246,"creation_date":1693923675,"answer_id":77045340,"question_id":77044988,"body_markdown":"First, the [answer][1] is correct, but the reason for that complicated wording is negative numbers as arguments to `ceil()`, as [Arvind][2] mentioned in his comment.\r\n\r\nTypically, we think left and right directions from 0 on the number line. \r\n\r\n`ceil( 4.5 )` returns `5`, as we all expect without reading the documentation. But what is the result for `ceil( -4.5 )`? When we move on the number line towards negative infinity, the smallest number which is bigger than -4.5 is -4.0 which is the result of `ceil( -4.5 )`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77045161/1554195\r\n  [2]: https://stackoverflow.com/users/10819573/arvind-kumar-avinash","title":"Java 8. Math.ceil() function description","body":"<p>First, the <a href=\"https://stackoverflow.com/a/77045161/1554195\">answer</a> is correct, but the reason for that complicated wording is negative numbers as arguments to <code>ceil()</code>, as <a href=\"https://stackoverflow.com/users/10819573/arvind-kumar-avinash\">Arvind</a> mentioned in his comment.</p>\n<p>Typically, we think left and right directions from 0 on the number line.</p>\n<p><code>ceil( 4.5 )</code> returns <code>5</code>, as we all expect without reading the documentation. But what is the result for <code>ceil( -4.5 )</code>? When we move on the number line towards negative infinity, the smallest number which is bigger than -4.5 is -4.0 which is the result of <code>ceil( -4.5 )</code>.</p>\n"}],"owner":{"account_id":13096109,"reputation":63,"user_id":9462003,"display_name":"marick0073"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":77045161,"answer_count":2,"score":-3,"last_activity_date":1693929246,"creation_date":1693920911,"question_id":77044988,"body_markdown":"I do see following description (in docs) for the function Math.ceil(double a):\r\n\r\n&gt; Returns the smallest (closest to negative infinity) double value that\r\n&gt; is greater than or equal to the argument and is equal to a\r\n&gt; mathematical integer.\r\n\r\nDo I something miss or it is incorrect in here &quot;Returns the smallest (closest to negative infinity)&quot;?\r\nI mean, when you do use it, whatever not zero number there will be after decimal point, it will always be upped in positive direction, not negative (so it returns closest to positive infinity).","title":"Java 8. Math.ceil() function description","body":"<p>I do see following description (in docs) for the function Math.ceil(double a):</p>\n<blockquote>\n<p>Returns the smallest (closest to negative infinity) double value that\nis greater than or equal to the argument and is equal to a\nmathematical integer.</p>\n</blockquote>\n<p>Do I something miss or it is incorrect in here &quot;Returns the smallest (closest to negative infinity)&quot;?\nI mean, when you do use it, whatever not zero number there will be after decimal point, it will always be upped in positive direction, not negative (so it returns closest to positive infinity).</p>\n"},{"tags":["java","apache-spark","security","jenkins","pyspark"],"owner":{"account_id":29372363,"reputation":1,"user_id":22504699,"display_name":"Sunanda Kumar Ghosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693929144,"creation_date":1693928934,"question_id":77045953,"body_markdown":"I have developed a Python - Pyspark data pipeline in my local machine. The version of the spark/pyspark used is the latest 3.4.1. After successfully testing my pipeline in my local I pushed my pipeline to bitbucket repo dev branch.\r\nNow to build an image of the pipelines developed for further deployment to different environments, we have jenkins pipeline created by the DevOps team where there are different stages which are mentioned below :-\r\n\r\nDeclarative: Checkout SCM\t\r\nClone repository\t\r\nSonarQube Analysis\t\r\nBuild Docker Image\t\r\ntwist lock\t\r\nPush image\t\r\nRemove image\t\r\nDeclarative: Post Actions\r\n\r\nEvery pipeline built is associated with a dockerfile which has the necessary steps required for the python version, pip installation, spark installation and the package installation in requirements.txt. \r\n\r\nNow upon building the image for my pipeline, the Cloud Foundry twistlock generates a report of different vulnerabilities regarding OS, Python, Java, CIS and so on. I could resolve all the vulnerabilities however I am not able to figure out how to resolve the java vulnerabilities, given that I am not using java code or any jar file anywhere in my python-pyspark pipeline.\r\n\r\nI am attaching the java vulnerabilities scan report for further details.\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/RbrMb.png)\r\n\r\nI know that pyspark installation has a folder called jars and the vulnerabilities are coming out of the jar versions in that folder; we even tried tried replacing the existing vulnerable jars with the specified jars in the scan report in the dockerfile, but still the same set of java vulnerabilities are coming.\r\n\r\nCan you please let me know the steps that needs to be followed to resolve the java vulnerabilities for my python-pyspark pipeline , shown in the picture, coming out of spark 3.4.1? A list of steps will be highly appreciated.","title":"Resolving Java vulnerabilities coming from Pyspark in TwistLock Scan report (Embedded in Jenkins build pipeline)","body":"<p>I have developed a Python - Pyspark data pipeline in my local machine. The version of the spark/pyspark used is the latest 3.4.1. After successfully testing my pipeline in my local I pushed my pipeline to bitbucket repo dev branch.\nNow to build an image of the pipelines developed for further deployment to different environments, we have jenkins pipeline created by the DevOps team where there are different stages which are mentioned below :-</p>\n<p>Declarative: Checkout SCM<br />\nClone repository<br />\nSonarQube Analysis<br />\nBuild Docker Image<br />\ntwist lock<br />\nPush image<br />\nRemove image<br />\nDeclarative: Post Actions</p>\n<p>Every pipeline built is associated with a dockerfile which has the necessary steps required for the python version, pip installation, spark installation and the package installation in requirements.txt.</p>\n<p>Now upon building the image for my pipeline, the Cloud Foundry twistlock generates a report of different vulnerabilities regarding OS, Python, Java, CIS and so on. I could resolve all the vulnerabilities however I am not able to figure out how to resolve the java vulnerabilities, given that I am not using java code or any jar file anywhere in my python-pyspark pipeline.</p>\n<p>I am attaching the java vulnerabilities scan report for further details.</p>\n<p><a href=\"https://i.stack.imgur.com/RbrMb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I know that pyspark installation has a folder called jars and the vulnerabilities are coming out of the jar versions in that folder; we even tried tried replacing the existing vulnerable jars with the specified jars in the scan report in the dockerfile, but still the same set of java vulnerabilities are coming.</p>\n<p>Can you please let me know the steps that needs to be followed to resolve the java vulnerabilities for my python-pyspark pipeline , shown in the picture, coming out of spark 3.4.1? A list of steps will be highly appreciated.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693928853,"creation_date":1693922582,"answer_id":77045201,"question_id":77045117,"body_markdown":"You can override such constraints for example by using `force` in the `resolutionStrategy`.\r\n\r\nIf you use the Spring Dependency Management plugin which I assume from what I see, this does exactly that.  \r\nIt has ways to override versions using properties that you should use instead if you really insist on using that plugin.\r\n\r\nBut actually, you should stop using that plugin. It is a relict from times where Gradle did not have built-in BOM support and nowadays does more harm than good. Even the maintainer of that plugin recommends not to use it anymore. So I strongly suggest you remove that plugin and instead use the built-in BOM support using `platform(...)`, then your constraint should also be taken into account accordingly.\r\n\r\nFor more information, have a look at [the Spring Boot documentation](https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#managing-dependencies.gradle-bom-support), [the Gradle documentation](https://docs.gradle.org/current/userguide/platforms.html#sub:bom_import), and [the statement of the plugin maintainer](https://www.linen.dev/s/gradle-community/t/2579116/what-is-the-proper-way-to-apply-a-bom-in-a-library-project-i#a7d4a60a-ab60-48dc-8477-f3f4462d1e6a).","title":"Why does Gradle not always honour constraint requests?","body":"<p>You can override such constraints for example by using <code>force</code> in the <code>resolutionStrategy</code>.</p>\n<p>If you use the Spring Dependency Management plugin which I assume from what I see, this does exactly that.<br />\nIt has ways to override versions using properties that you should use instead if you really insist on using that plugin.</p>\n<p>But actually, you should stop using that plugin. It is a relict from times where Gradle did not have built-in BOM support and nowadays does more harm than good. Even the maintainer of that plugin recommends not to use it anymore. So I strongly suggest you remove that plugin and instead use the built-in BOM support using <code>platform(...)</code>, then your constraint should also be taken into account accordingly.</p>\n<p>For more information, have a look at <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#managing-dependencies.gradle-bom-support\" rel=\"nofollow noreferrer\">the Spring Boot documentation</a>, <a href=\"https://docs.gradle.org/current/userguide/platforms.html#sub:bom_import\" rel=\"nofollow noreferrer\">the Gradle documentation</a>, and <a href=\"https://www.linen.dev/s/gradle-community/t/2579116/what-is-the-proper-way-to-apply-a-bom-in-a-library-project-i#a7d4a60a-ab60-48dc-8477-f3f4462d1e6a\" rel=\"nofollow noreferrer\">the statement of the plugin maintainer</a>.</p>\n"}],"owner":{"account_id":517033,"reputation":127,"user_id":2596170,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77045201,"answer_count":1,"score":2,"last_activity_date":1693928853,"creation_date":1693921932,"question_id":77045117,"body_markdown":"When working with Gradle projects I find that it doesn&#39;t always honour declared constraints. A simple example would be `spring-boot-starter-tomcat:3.1.3` pulls in `tomcat-embed-core` but the version that it requires is 10.1.12 which currently has the CVE 2023-41080 open. Normally I should be able to place a constraint for 10.1.13 which does not currently have any open CVEs.\r\n\r\nThe problem is that Gradle does not always honour this request. With the simple example of:\r\n\r\n```\r\ndependencies {\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-tomcat:3.1.3&#39;)\r\n    constraints {\r\n        // Bumping the version of Tomcat embedded as there are CVEs on 10.1.12\r\n        implementation(&#39;org.apache.tomcat.embed:tomcat-embed-websocket:10.1.13&#39;) {\r\n            because &#39;...&#39;\r\n        }\r\n        implementation(&#39;org.apache.tomcat.embed:tomcat-embed-core:10.1.13&#39;) {\r\n            because &#39;...&#39;\r\n        }\r\n        implementation(&#39;org.apache.tomcat.embed:tomcat-embed-el:10.1.13&#39;) {\r\n            because &#39;...&#39;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy dependency tree resolves as so:\r\n\r\n```\r\ncompileClasspath - Compile classpath for source set &#39;main&#39;.\r\n+--- org.springframework.boot:spring-boot-starter-tomcat:3.1.3\r\n|    +--- jakarta.annotation:jakarta.annotation-api:2.1.1\r\n|    +--- org.apache.tomcat.embed:tomcat-embed-core:10.1.12\r\n|    +--- org.apache.tomcat.embed:tomcat-embed-el:10.1.12\r\n|    \\--- org.apache.tomcat.embed:tomcat-embed-websocket:10.1.12\r\n|         \\--- org.apache.tomcat.embed:tomcat-embed-core:10.1.12\r\n+--- org.apache.tomcat.embed:tomcat-embed-core:10.1.13 -&gt; 10.1.12 (c)\r\n+--- org.apache.tomcat.embed:tomcat-embed-el:10.1.13 -&gt; 10.1.12 (c)\r\n\\--- org.apache.tomcat.embed:tomcat-embed-websocket:10.1.13 -&gt; 10.1.12 (c)\r\n```\r\n\r\nGradle documentation tells me:\r\n\r\nhttps://docs.gradle.org/current/userguide/dependency_constraints.html\r\n\r\n&gt; Often developers incorrectly fix transitive dependency issues by adding direct dependencies. To avoid this, Gradle provides the concept of dependency constraints.\r\n\r\nBut its the only way to get Tomcat to upgrade the version. What am I misunderstanding when adding dependency constraints, and why does Gradle not honour these configurations?","title":"Why does Gradle not always honour constraint requests?","body":"<p>When working with Gradle projects I find that it doesn't always honour declared constraints. A simple example would be <code>spring-boot-starter-tomcat:3.1.3</code> pulls in <code>tomcat-embed-core</code> but the version that it requires is 10.1.12 which currently has the CVE 2023-41080 open. Normally I should be able to place a constraint for 10.1.13 which does not currently have any open CVEs.</p>\n<p>The problem is that Gradle does not always honour this request. With the simple example of:</p>\n<pre><code>dependencies {\n    implementation('org.springframework.boot:spring-boot-starter-tomcat:3.1.3')\n    constraints {\n        // Bumping the version of Tomcat embedded as there are CVEs on 10.1.12\n        implementation('org.apache.tomcat.embed:tomcat-embed-websocket:10.1.13') {\n            because '...'\n        }\n        implementation('org.apache.tomcat.embed:tomcat-embed-core:10.1.13') {\n            because '...'\n        }\n        implementation('org.apache.tomcat.embed:tomcat-embed-el:10.1.13') {\n            because '...'\n        }\n    }\n}\n</code></pre>\n<p>My dependency tree resolves as so:</p>\n<pre><code>compileClasspath - Compile classpath for source set 'main'.\n+--- org.springframework.boot:spring-boot-starter-tomcat:3.1.3\n|    +--- jakarta.annotation:jakarta.annotation-api:2.1.1\n|    +--- org.apache.tomcat.embed:tomcat-embed-core:10.1.12\n|    +--- org.apache.tomcat.embed:tomcat-embed-el:10.1.12\n|    \\--- org.apache.tomcat.embed:tomcat-embed-websocket:10.1.12\n|         \\--- org.apache.tomcat.embed:tomcat-embed-core:10.1.12\n+--- org.apache.tomcat.embed:tomcat-embed-core:10.1.13 -&gt; 10.1.12 (c)\n+--- org.apache.tomcat.embed:tomcat-embed-el:10.1.13 -&gt; 10.1.12 (c)\n\\--- org.apache.tomcat.embed:tomcat-embed-websocket:10.1.13 -&gt; 10.1.12 (c)\n</code></pre>\n<p>Gradle documentation tells me:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/dependency_constraints.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_constraints.html</a></p>\n<blockquote>\n<p>Often developers incorrectly fix transitive dependency issues by adding direct dependencies. To avoid this, Gradle provides the concept of dependency constraints.</p>\n</blockquote>\n<p>But its the only way to get Tomcat to upgrade the version. What am I misunderstanding when adding dependency constraints, and why does Gradle not honour these configurations?</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":268602,"reputation":75188,"user_id":557445,"accept_rate":100,"display_name":"Rion Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693928763,"creation_date":1693928763,"answer_id":77045932,"question_id":77037956,"body_markdown":"For an unbounded stream, this would work the same way. Only elements that are not found within your `seen` state would be emitted (i.e. only elements that are called via the `collect()` function). Since this is a keyed function, you&#39;ll need to ensure your keying is working as expected (consider writing something similar to a unit test below and debugging the function within your IDE).\r\n\r\nYou should be able to verify this via a unit test with a series of elements that would span your current TTL to ensure that your deduplicate function is working as expected using [the available Flink testing utilities](https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/testing/) such as test harnesses, etc.:\r\n\r\n```\r\nfun `elements should be filtered based on defined ttl`(){\r\n    // Set up test harness\r\n    val harness = KeyedOneInputStreamOperatorTestHarness(\r\n        FilterDuplicate(),\r\n        { value: Tuple3&lt;String, String, Int&gt; -&gt; Tuple2.of(value.f0, value.f1) },\r\n        TupleTypeInfo&lt;Tuple2&lt;String, String&gt;&gt;()\r\n    )\r\n    harness.setup()\r\n    harness.open()\r\n\r\n    // Create a collection for outputs\r\n    val output = ConcurrentLinkedQueue&lt;Tuple3&lt;String, String, Int&gt;&gt;()\r\n\r\n    // Provide the output collector (processing time will trigger your TTL deduplication)\r\n    harness.setProcessingTime(0)\r\n    harness.setOutput(output)\r\n\r\n    // Pass through your inputs\r\n    val input = listOf(Tuple3.of(&quot;ID_1&quot;, &quot;subid_1&quot;, 1), ...)\r\n    input.forEach { element -&gt; \r\n        // Send each input with its respective timestamp (just use the third tuple element * 2)\r\n        harness.processElement(element, element.f2 * 2)\r\n    }\r\n\r\n    // Process elements\r\n    harness.execute()\r\n\r\n    // Verify the results\r\n    assertEquals(..., output.size)\r\n}\r\n```","title":"Flink deduplication - How does out.collect() work with unbounded stream?","body":"<p>For an unbounded stream, this would work the same way. Only elements that are not found within your <code>seen</code> state would be emitted (i.e. only elements that are called via the <code>collect()</code> function). Since this is a keyed function, you'll need to ensure your keying is working as expected (consider writing something similar to a unit test below and debugging the function within your IDE).</p>\n<p>You should be able to verify this via a unit test with a series of elements that would span your current TTL to ensure that your deduplicate function is working as expected using <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/testing/\" rel=\"nofollow noreferrer\">the available Flink testing utilities</a> such as test harnesses, etc.:</p>\n<pre><code>fun `elements should be filtered based on defined ttl`(){\n    // Set up test harness\n    val harness = KeyedOneInputStreamOperatorTestHarness(\n        FilterDuplicate(),\n        { value: Tuple3&lt;String, String, Int&gt; -&gt; Tuple2.of(value.f0, value.f1) },\n        TupleTypeInfo&lt;Tuple2&lt;String, String&gt;&gt;()\n    )\n    harness.setup()\n    harness.open()\n\n    // Create a collection for outputs\n    val output = ConcurrentLinkedQueue&lt;Tuple3&lt;String, String, Int&gt;&gt;()\n\n    // Provide the output collector (processing time will trigger your TTL deduplication)\n    harness.setProcessingTime(0)\n    harness.setOutput(output)\n\n    // Pass through your inputs\n    val input = listOf(Tuple3.of(&quot;ID_1&quot;, &quot;subid_1&quot;, 1), ...)\n    input.forEach { element -&gt; \n        // Send each input with its respective timestamp (just use the third tuple element * 2)\n        harness.processElement(element, element.f2 * 2)\n    }\n\n    // Process elements\n    harness.execute()\n\n    // Verify the results\n    assertEquals(..., output.size)\n}\n</code></pre>\n"}],"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693928763,"creation_date":1693832683,"question_id":77037956,"body_markdown":"Below is the code:\r\n\r\n    public class VerifyDuplicate {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n            SingleOutputStreamOperator&lt;Tuple3&lt;String, String, Integer&gt;&gt; dataStream = env.fromElements(\r\n                Tuple3.of(&quot;ID_1&quot;, &quot;subid_1&quot;, 1),\r\n                Tuple3.of(&quot;ID_2&quot;, &quot;subid_2&quot;, 2),\r\n                Tuple3.of(&quot;ID_3&quot;, &quot;subid_3&quot;, 3),\r\n                Tuple3.of(&quot;ID_4&quot;, &quot;subid_4&quot;, 4),\r\n                Tuple3.of(&quot;ID_4&quot;, &quot;subid_4&quot;, 4),\r\n                Tuple3.of(&quot;ID_6&quot;, &quot;subid_6&quot;, 6),\r\n                Tuple3.of(&quot;ID_4&quot;, &quot;subid_7&quot;, 7),\r\n                Tuple3.of(&quot;ID_8&quot;, &quot;subid_8&quot;, 8),\r\n                Tuple3.of(&quot;ID_9&quot;, &quot;subid_9&quot;, 9),\r\n                Tuple3.of(&quot;ID_10&quot;, &quot;subid_10&quot;, 10)\r\n                );\r\n    \r\n            KeyedStream&lt;Tuple3&lt;String, String, Integer&gt;, Tuple2&lt;String,String&gt;&gt; partitionedStream = dataStream.keyBy(new KeySelector&lt;Tuple3&lt;String, String,Integer&gt;, Tuple2&lt;String,String&gt;&gt;() {\r\n                    @Override\r\n                    public String getKey(Tuple3&lt;String, String, Integer&gt; value) throws Exception {\r\n                        return Tuple2.of(value.f0, value.f1);\r\n                    }\r\n                }).flatMap(new FilterDuplicate()).print();\r\n    \r\n            env.execute(&quot;Test&quot;);\r\n    }    \r\n    }\r\n\r\n-------------------\r\n\r\n    public  class FilterDuplicate extends RichFlatMapFunction&lt;Tuple3&lt;String, String, Integer&gt;, Tuple3&lt;String, String, Integer&gt;&gt; {\r\n    \r\n        private ValueState&lt;Boolean&gt; seen;\r\n    \r\n        @Override\r\n        public void open(Configuration configuration) {\r\n            StateTtlConfig ttlConfig = StateTtlConfig\r\n              .newBuilder(Time.seconds(15))\r\n              .setUpdateType(StateTtlConfig.UpdateType.OnCreateAndWrite)\r\n              .cleanupFullSnapshot()\r\n              .build();\r\n            ValueStateDescriptor&lt;Boolean&gt; desc = new ValueStateDescriptor&lt;&gt;(&quot;seen&quot;, Types.BOOLEAN);\r\n            desc.enableTimeToLive(ttlConfig);\r\n            seen = getRuntimeContext().getState(desc);\r\n        }\r\n    \r\n        @Override\r\n        public void flatMap(Tuple3&lt;String, String, Integer&gt; value, Collector&lt;Tuple3&lt;String, String, Integer&gt;&gt; out) throws Exception {\r\n            \r\n            if (seen.value() == null) {\r\n                // we haven&#39;t seen the element yet\r\n                out.collect(value);\r\n                // set operator state to true so that we don&#39;t emit elements with this key again\r\n                seen.update(true);\r\n            }\r\n        }\r\n    }\r\n\r\n-------------------------\r\n\r\n      &lt;flink.version&gt;1.17.1&lt;/flink.version&gt;\r\n      &lt;target.java.version&gt;11&lt;/target.java.version&gt;\r\n\r\nAbove code receives bounded stream\r\n\r\n\r\nFor unbounded stream,\r\nHow ttl works with `out.collect()`? Does flatmap method emit  deduplicate stream to `print()` them?\r\n\r\n\r\n\r\n","title":"Flink deduplication - How does out.collect() work with unbounded stream?","body":"<p>Below is the code:</p>\n<pre><code>public class VerifyDuplicate {\n    public static void main(String[] args) throws Exception {\n\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        SingleOutputStreamOperator&lt;Tuple3&lt;String, String, Integer&gt;&gt; dataStream = env.fromElements(\n            Tuple3.of(&quot;ID_1&quot;, &quot;subid_1&quot;, 1),\n            Tuple3.of(&quot;ID_2&quot;, &quot;subid_2&quot;, 2),\n            Tuple3.of(&quot;ID_3&quot;, &quot;subid_3&quot;, 3),\n            Tuple3.of(&quot;ID_4&quot;, &quot;subid_4&quot;, 4),\n            Tuple3.of(&quot;ID_4&quot;, &quot;subid_4&quot;, 4),\n            Tuple3.of(&quot;ID_6&quot;, &quot;subid_6&quot;, 6),\n            Tuple3.of(&quot;ID_4&quot;, &quot;subid_7&quot;, 7),\n            Tuple3.of(&quot;ID_8&quot;, &quot;subid_8&quot;, 8),\n            Tuple3.of(&quot;ID_9&quot;, &quot;subid_9&quot;, 9),\n            Tuple3.of(&quot;ID_10&quot;, &quot;subid_10&quot;, 10)\n            );\n\n        KeyedStream&lt;Tuple3&lt;String, String, Integer&gt;, Tuple2&lt;String,String&gt;&gt; partitionedStream = dataStream.keyBy(new KeySelector&lt;Tuple3&lt;String, String,Integer&gt;, Tuple2&lt;String,String&gt;&gt;() {\n                @Override\n                public String getKey(Tuple3&lt;String, String, Integer&gt; value) throws Exception {\n                    return Tuple2.of(value.f0, value.f1);\n                }\n            }).flatMap(new FilterDuplicate()).print();\n\n        env.execute(&quot;Test&quot;);\n}    \n}\n</code></pre>\n<hr />\n<pre><code>public  class FilterDuplicate extends RichFlatMapFunction&lt;Tuple3&lt;String, String, Integer&gt;, Tuple3&lt;String, String, Integer&gt;&gt; {\n\n    private ValueState&lt;Boolean&gt; seen;\n\n    @Override\n    public void open(Configuration configuration) {\n        StateTtlConfig ttlConfig = StateTtlConfig\n          .newBuilder(Time.seconds(15))\n          .setUpdateType(StateTtlConfig.UpdateType.OnCreateAndWrite)\n          .cleanupFullSnapshot()\n          .build();\n        ValueStateDescriptor&lt;Boolean&gt; desc = new ValueStateDescriptor&lt;&gt;(&quot;seen&quot;, Types.BOOLEAN);\n        desc.enableTimeToLive(ttlConfig);\n        seen = getRuntimeContext().getState(desc);\n    }\n\n    @Override\n    public void flatMap(Tuple3&lt;String, String, Integer&gt; value, Collector&lt;Tuple3&lt;String, String, Integer&gt;&gt; out) throws Exception {\n        \n        if (seen.value() == null) {\n            // we haven't seen the element yet\n            out.collect(value);\n            // set operator state to true so that we don't emit elements with this key again\n            seen.update(true);\n        }\n    }\n}\n</code></pre>\n<hr />\n<pre><code>  &lt;flink.version&gt;1.17.1&lt;/flink.version&gt;\n  &lt;target.java.version&gt;11&lt;/target.java.version&gt;\n</code></pre>\n<p>Above code receives bounded stream</p>\n<p>For unbounded stream,\nHow ttl works with <code>out.collect()</code>? Does flatmap method emit  deduplicate stream to <code>print()</code> them?</p>\n"},{"tags":["java","hibernate","tomcat","xampp","startup"],"comments":[{"owner":{"account_id":27913981,"reputation":3,"user_id":21315516,"display_name":"Mouniri.ouma"},"score":0,"creation_date":1678299851,"post_id":75676802,"comment_id":133507477,"body_markdown":"i just checket the services .. i did not find any service called tomcat or apache tomcat at all  :(","body":"i just checket the services .. i did not find any service called tomcat or apache tomcat at all  :("},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1678300337,"post_id":75676802,"comment_id":133507604,"body_markdown":"That Tomcat instance definitely uses Java 8 not Java 17. Buz ```--add-opens``` option introduced in Java 9. Force Tomcat use newer Java version","body":"That Tomcat instance definitely uses Java 8 not Java 17. Buz <code>--add-opens</code> option introduced in Java 9. Force Tomcat use newer Java version"},{"owner":{"account_id":27913981,"reputation":3,"user_id":21315516,"display_name":"Mouniri.ouma"},"score":0,"creation_date":1678300426,"post_id":75676802,"comment_id":133507624,"body_markdown":"i installed the service using `service.bat install` but still same problem no changes","body":"i installed the service using <code>service.bat install</code> but still same problem no changes"},{"owner":{"account_id":27913981,"reputation":3,"user_id":21315516,"display_name":"Mouniri.ouma"},"score":0,"creation_date":1678302396,"post_id":75676802,"comment_id":133508081,"body_markdown":"i deleted JRE_HOME so that way it will be only JAVA_HOME variable\nand it worked now it&#39;s open \ni will move on now with my code .. see you when a new problem apear lol","body":"i deleted JRE_HOME so that way it will be only JAVA_HOME variable and it worked now it&#39;s open  i will move on now with my code .. see you when a new problem apear lol"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1678303181,"post_id":75676802,"comment_id":133508268,"body_markdown":"Then don&#39;t affraid to vote and accept the answer.","body":"Then don&#39;t affraid to vote and accept the answer."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1678304733,"post_id":75676802,"comment_id":133508698,"body_markdown":"Tomcat 10 requires Java 11 or later: https://tomcat.apache.org/whichversion.html","body":"Tomcat 10 requires Java 11 or later: <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/whichversion.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1678304847,"post_id":75677154,"comment_id":133508727,"body_markdown":"It&#39;s not that it&#39;s an _old_ java8. It&#39;s because no Java 8 (no matter how new) is compatible with tomcat 10: https://tomcat.apache.org/whichversion.html","body":"It&#39;s not that it&#39;s an <i>old</i> java8. It&#39;s because no Java 8 (no matter how new) is compatible with tomcat 10: <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/whichversion.html</a>"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1678305700,"post_id":75677154,"comment_id":133508942,"body_markdown":"@OlafKock thanks the feedback. More precisely 10.0.x supports Java 8 but 10.1.x requires Java 11 or later. Unfortunately I cannot update the answer, I will try it later. Tanks again.","body":"@OlafKock thanks the feedback. More precisely 10.0.x supports Java 8 but 10.1.x requires Java 11 or later. Unfortunately I cannot update the answer, I will try it later. Tanks again."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1678307843,"post_id":75677154,"comment_id":133509449,"body_markdown":"Well, 10.0 [is gone by now](https://tomcat.apache.org/tomcat-10.0-eol.html)","body":"Well, 10.0 <a href=\"https://tomcat.apache.org/tomcat-10.0-eol.html\" rel=\"nofollow noreferrer\">is gone by now</a>"}],"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678306168,"creation_date":1678301885,"answer_id":75677154,"question_id":75676802,"body_markdown":"The problem is, Tomcat using Java 8 version which does not support `--add-opens` option. This option introduced in Java 9.\r\n\r\n**Update**  \r\nThanks to Olaf&#39;s comment I redefine the previous sentence. However Tomcat 10.0.x used to support Java 8 it was dropped in 10.1.0 which requires Java 11 at least.\r\n\r\nA Java Runtime Environment required by Apache Tomcat. Older Java versions shipped multiple artifacts JRE only and JDK. For now it had changed.\r\nWhen Tomcat starts it will try to evaulate installed runtime environment based on environment variables.\r\n\r\nIf `JRE_HOME` is **set** then it will be used.  \r\nIf `JRE_HOME` is **not set** but `JAVA_HOME` **is set** then Tomcat startup script will automatically set `JRE_HOME` based on `JAVA_HOME` vaule.  \r\nIf both `JRE_HOME` and `JAVA_HOME` **is set** then `JRE_HOME` will be used.\r\n\r\nAs the question describes both environment variable is set, so `JRE_HOME` will be used. But `JRE_HOME` points to Java 8.\r\n\r\nYou can customize `JRE_HOME` (set to new Java version) or you also can remove this environment variable and use `JAVA_HOME` as I described previously.  ","title":"could not create the Java Virtual Machine while running tomcat","body":"<p>The problem is, Tomcat using Java 8 version which does not support <code>--add-opens</code> option. This option introduced in Java 9.</p>\n<p><strong>Update</strong><br />\nThanks to Olaf's comment I redefine the previous sentence. However Tomcat 10.0.x used to support Java 8 it was dropped in 10.1.0 which requires Java 11 at least.</p>\n<p>A Java Runtime Environment required by Apache Tomcat. Older Java versions shipped multiple artifacts JRE only and JDK. For now it had changed.\nWhen Tomcat starts it will try to evaulate installed runtime environment based on environment variables.</p>\n<p>If <code>JRE_HOME</code> is <strong>set</strong> then it will be used.<br />\nIf <code>JRE_HOME</code> is <strong>not set</strong> but <code>JAVA_HOME</code> <strong>is set</strong> then Tomcat startup script will automatically set <code>JRE_HOME</code> based on <code>JAVA_HOME</code> vaule.<br />\nIf both <code>JRE_HOME</code> and <code>JAVA_HOME</code> <strong>is set</strong> then <code>JRE_HOME</code> will be used.</p>\n<p>As the question describes both environment variable is set, so <code>JRE_HOME</code> will be used. But <code>JRE_HOME</code> points to Java 8.</p>\n<p>You can customize <code>JRE_HOME</code> (set to new Java version) or you also can remove this environment variable and use <code>JAVA_HOME</code> as I described previously.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686860668,"post_id":76474595,"comment_id":134860205,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76474595/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26062826,"reputation":1,"user_id":19763821,"display_name":"Priyanka Kumari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686752513,"creation_date":1686752513,"answer_id":76474595,"question_id":75676802,"body_markdown":"I have just changed the(Server shutdown=&quot;SHUTDOWN&quot; port=&quot;8090&quot;) of server.xml in apache-tomcat-9.0.41","title":"could not create the Java Virtual Machine while running tomcat","body":"<p>I have just changed the(Server shutdown=&quot;SHUTDOWN&quot; port=&quot;8090&quot;) of server.xml in apache-tomcat-9.0.41</p>\n"},{"tags":[],"owner":{"account_id":29372550,"reputation":1,"user_id":22504833,"display_name":"Tomer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693928458,"creation_date":1693928458,"answer_id":77045898,"question_id":75676802,"body_markdown":"What worked for me was removing `JRE_HOME` environment variable and simply leaving the `JAVA_HOME` variable which is the path to my JDK installation directory. This should be the number one answer.","title":"could not create the Java Virtual Machine while running tomcat","body":"<p>What worked for me was removing <code>JRE_HOME</code> environment variable and simply leaving the <code>JAVA_HOME</code> variable which is the path to my JDK installation directory. This should be the number one answer.</p>\n"}],"owner":{"account_id":27913981,"reputation":3,"user_id":21315516,"display_name":"Mouniri.ouma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75677154,"answer_count":3,"score":0,"last_activity_date":1693928458,"creation_date":1678299609,"question_id":75676802,"body_markdown":"i have a presentation about hibernate and to do an example i needed tomcat\r\nafter installing tomcat 10 i tried to start it up using this command `C:\\tomcat\\bin&gt;startup`\r\nbelow is the result I get when i run it\r\n\r\n```\r\nC:\\tomcat\\bin&gt;startup\r\nUsing CATALINA_BASE:   &quot;C:\\tomcat&quot;\r\nUsing CATALINA_HOME:   &quot;C:\\tomcat&quot;\r\nUsing CATALINA_TMPDIR: &quot;C:\\tomcat\\temp&quot;\r\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jre1.8.0_361&quot;\r\nUsing CLASSPATH:       &quot;C:\\tomcat\\bin\\bootstrap.jar;C:\\tomcat\\bin\\tomcat-juli.jar&quot;\r\nUsing CATALINA_OPTS:   &quot;&quot;\r\n\r\n```\r\nbut window pops up for a split of a second and goes away.\r\n\r\nso i tried the following command to see what&#39;s going on `C:\\tomcat\\bin&gt;catalina.bat run`\r\nhere is the results\r\n```\r\nUsing CATALINA_BASE:   &quot;C:\\tomcat&quot;\r\nUsing CATALINA_HOME:   &quot;C:\\tomcat&quot;\r\nUsing CATALINA_TMPDIR: &quot;C:\\tomcat\\temp&quot;\r\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jre1.8.0_361&quot;\r\nUsing CLASSPATH:       &quot;C:\\tomcat\\bin\\bootstrap.jar;C:\\tomcat\\bin\\tomcat-juli.jar&quot;\r\nUsing CATALINA_OPTS:   &quot;&quot;\r\nUnrecognized option: --add-opens=java.base/java.lang=ALL-UNNAMED\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n```\r\nbtw here are the envirment variables .. because i saw many trying having the problem there .. but i dont think it&#39;s my case\r\n[enter image description here](https://i.stack.imgur.com/BqaQD.png)\r\n[enter image description here](https://i.stack.imgur.com/VhgxL.png)\r\n\r\n\r\n*N.B.*\r\ntomcat version 10.1.7\r\nJDK 17\r\njre-8u361\r\n\r\n\r\n\r\n i had many problem before this that i tried to solve, some of them did and some not , always a problem leads me to another , i used to have error 500 Internal Server Error aloot while trying to follow a tutorial.\r\n\r\ni dont know if this may be a help or not but i used to have another problem that i think i already solved which is i had xampp running tomcat too , meaning i had an old version on xampp and i instaled a new one, then i deleted the new one and replace new tomcat version instead in xampp, and deleted the service so it can be created from new ; \r\n\r\n**but after all nothing succeded so i uninstalled xampp, tomcat and java , and started from new.\r\n**","title":"could not create the Java Virtual Machine while running tomcat","body":"<p>i have a presentation about hibernate and to do an example i needed tomcat\nafter installing tomcat 10 i tried to start it up using this command <code>C:\\tomcat\\bin&gt;startup</code>\nbelow is the result I get when i run it</p>\n<pre><code>C:\\tomcat\\bin&gt;startup\nUsing CATALINA_BASE:   &quot;C:\\tomcat&quot;\nUsing CATALINA_HOME:   &quot;C:\\tomcat&quot;\nUsing CATALINA_TMPDIR: &quot;C:\\tomcat\\temp&quot;\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jre1.8.0_361&quot;\nUsing CLASSPATH:       &quot;C:\\tomcat\\bin\\bootstrap.jar;C:\\tomcat\\bin\\tomcat-juli.jar&quot;\nUsing CATALINA_OPTS:   &quot;&quot;\n\n</code></pre>\n<p>but window pops up for a split of a second and goes away.</p>\n<p>so i tried the following command to see what's going on <code>C:\\tomcat\\bin&gt;catalina.bat run</code>\nhere is the results</p>\n<pre><code>Using CATALINA_BASE:   &quot;C:\\tomcat&quot;\nUsing CATALINA_HOME:   &quot;C:\\tomcat&quot;\nUsing CATALINA_TMPDIR: &quot;C:\\tomcat\\temp&quot;\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jre1.8.0_361&quot;\nUsing CLASSPATH:       &quot;C:\\tomcat\\bin\\bootstrap.jar;C:\\tomcat\\bin\\tomcat-juli.jar&quot;\nUsing CATALINA_OPTS:   &quot;&quot;\nUnrecognized option: --add-opens=java.base/java.lang=ALL-UNNAMED\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n</code></pre>\n<p>btw here are the envirment variables .. because i saw many trying having the problem there .. but i dont think it's my case\n<a href=\"https://i.stack.imgur.com/BqaQD.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/VhgxL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><em>N.B.</em>\ntomcat version 10.1.7\nJDK 17\njre-8u361</p>\n<p>i had many problem before this that i tried to solve, some of them did and some not , always a problem leads me to another , i used to have error 500 Internal Server Error aloot while trying to follow a tutorial.</p>\n<p>i dont know if this may be a help or not but i used to have another problem that i think i already solved which is i had xampp running tomcat too , meaning i had an old version on xampp and i instaled a new one, then i deleted the new one and replace new tomcat version instead in xampp, and deleted the service so it can be created from new ;</p>\n<p>**but after all nothing succeded so i uninstalled xampp, tomcat and java , and started from new.\n**</p>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1693926906,"post_id":77045718,"comment_id":135822445,"body_markdown":"You have already answered you own question. If NPM is required, it&#39;s required.","body":"You have already answered you own question. If NPM is required, it&#39;s required."}],"answers":[{"comments":[{"owner":{"account_id":2515523,"reputation":1914,"user_id":2187063,"display_name":"mstahv"},"score":0,"creation_date":1694066314,"post_id":77045875,"comment_id":135842716,"body_markdown":"Do you have a custom theme maybe? That seemed to trigger npm build for me on one app.","body":"Do you have a custom theme maybe? That seemed to trigger npm build for me on one app."}],"tags":[],"owner":{"account_id":2515523,"reputation":1914,"user_id":2187063,"display_name":"mstahv"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693928272,"creation_date":1693928272,"answer_id":77045875,"question_id":77045718,"body_markdown":"If you can upgrade to Vaadin 24.1 and you are not using anything that requires custom front-end bundle (like Polymer/LitTemplates &amp; certain add-ons), npm is not needed. With versions from 10 to 24.0 npm is needed (installed by Vaadin tooling if not found) for production build.","title":"Vaadin : is it possible to build for production a vaadin application without NodeJS?","body":"<p>If you can upgrade to Vaadin 24.1 and you are not using anything that requires custom front-end bundle (like Polymer/LitTemplates &amp; certain add-ons), npm is not needed. With versions from 10 to 24.0 npm is needed (installed by Vaadin tooling if not found) for production build.</p>\n"}],"owner":{"account_id":25436572,"reputation":53,"user_id":19240205,"display_name":"Luca170598"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":77045875,"answer_count":1,"score":2,"last_activity_date":1693928272,"creation_date":1693926844,"question_id":77045718,"body_markdown":"I&#39;m currently developing a vaadin application. I need to build it in order to push it to production. \r\nNevertheless, I noticed that npm is required in order to build. \r\nIs it possible to build the application without the use of npm ? (company restrictions)\r\n\r\nThank you in advance for your help.","title":"Vaadin : is it possible to build for production a vaadin application without NodeJS?","body":"<p>I'm currently developing a vaadin application. I need to build it in order to push it to production.\nNevertheless, I noticed that npm is required in order to build.\nIs it possible to build the application without the use of npm ? (company restrictions)</p>\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","spring-boot","openssl","ssl-certificate","sslcontext"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693976370,"post_id":77045851,"comment_id":135828883,"body_markdown":"&quot;Not worked&quot; is not a problem description.","body":"&quot;Not worked&quot; is not a problem description."},{"owner":{"account_id":29103471,"reputation":9,"user_id":22294803,"display_name":"Mahesh kanade"},"score":0,"creation_date":1693997149,"post_id":77045851,"comment_id":135832398,"body_markdown":"It throwing this error                                                                                                                                                                                       \n    \n    \n    \n    \n    \n org.bouncycastle.jcajce.provider.asymmetric.util.ExtendedInvalidKeySpecException: unable to process key spec: java.lang.IllegalArgumentException: failed to construct sequence from byte[]: unknown tag 13 encountered","body":"It throwing this error                                                                                                                                                                                                                  org.bouncycastle.jcajce.provider.asymmetric.util.ExtendedInv&zwnj;&#8203;alidKeySpecException&zwnj;&#8203;: unable to process key spec: java.lang.IllegalArgumentException: failed to construct sequence from byte[]: unknown tag 13 encountered"}],"owner":{"account_id":29103471,"reputation":9,"user_id":22294803,"display_name":"Mahesh kanade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693928045,"creation_date":1693928045,"question_id":77045851,"body_markdown":"I have a certificate file (.crt) and a private key file. I need to programmatically load these files into a Java `KeyStore` and use them to make secure HTTP POST requests using Apache&#39;s HTTP Client.\r\n\r\n- Certificate Format: My certificate is encoded with the typical &#39;BEGIN CERTIFICATE&#39; followed by a Base64 encoded string.\r\n- Private Key Format: My private key is encoded with &#39;BEGIN RSA PRIVATE KEY&#39; and then another Base64 encoded string.\r\n\r\n\r\n\r\n\r\nI&#39;ve searched for solutions, but most of them either point to external tools or don&#39;t fit my specific use case.\r\n\r\nthis is how i am trying but not worked  \r\n\r\n\r\n            KeyStore KeyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            keyStore.load(null, null);\r\n            try (FileOutputStream fos = new FileOutputStream(&quot;keyStore.jks&quot;))\r\n            {\r\n                keyStore.store(fos, null);\r\n            }\r\n\r\n            KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n            ks.load(new FileInputStream(&quot;keyStore.jks&quot;), null);\r\n\r\n            byte[] data = amazonS3Configuration\r\n                    .downloadFile(KeyFilePath + &quot;/&quot;\r\n                            + CertificatePath);\r\n            ByteArrayInputStream targetStream = new ByteArrayInputStream(data);\r\n            Certificate certificate =\r\n                    CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(targetStream);\r\n            ks.setCertificateEntry(&quot;clientCertificate&quot;, certificate);\r\n            ks.store(new FileOutputStream(&quot;keyStore.jks&quot;), null);\r\n            \r\n            Security.addProvider(new BouncyCastleProvider());\r\n\r\n            //storing private key\r\n            byte[] privateKeyData = amazonS3Configuration\r\n                    .downloadFile(soapKeyFilePath + &quot;/&quot;\r\n                            + KeyFilePath);\r\n\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;,&quot;BC&quot;);\r\n            PKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(privateKeyData);\r\n            PrivateKey privateKey = keyFactory.generatePrivate(privateKeySpec);\r\n            System.out.println(&quot;Private Key: &quot; + privateKey);\r\n            ks.setKeyEntry(&quot;privateKey&quot;, privateKey, null, null);\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m looking for guidance or code examples on how to:\r\n\r\n1. Load the certificate and private key from files into a Java `KeyStore`.\r\n2. Set up an `SSLContext` for secure communication.\r\n3. Use Apache&#39;s HTTP Client to make HTTP POST requests using this `SSL Context`.\r\n\r\n","title":"How to Load SSL Certificate and Private Key into Java KeyStore for HTTP POST with Apache HTTP Client?","body":"<p>I have a certificate file (.crt) and a private key file. I need to programmatically load these files into a Java <code>KeyStore</code> and use them to make secure HTTP POST requests using Apache's HTTP Client.</p>\n<ul>\n<li>Certificate Format: My certificate is encoded with the typical 'BEGIN CERTIFICATE' followed by a Base64 encoded string.</li>\n<li>Private Key Format: My private key is encoded with 'BEGIN RSA PRIVATE KEY' and then another Base64 encoded string.</li>\n</ul>\n<p>I've searched for solutions, but most of them either point to external tools or don't fit my specific use case.</p>\n<p>this is how i am trying but not worked</p>\n<pre><code>        KeyStore KeyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(null, null);\n        try (FileOutputStream fos = new FileOutputStream(&quot;keyStore.jks&quot;))\n        {\n            keyStore.store(fos, null);\n        }\n\n        KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\n        ks.load(new FileInputStream(&quot;keyStore.jks&quot;), null);\n\n        byte[] data = amazonS3Configuration\n                .downloadFile(KeyFilePath + &quot;/&quot;\n                        + CertificatePath);\n        ByteArrayInputStream targetStream = new ByteArrayInputStream(data);\n        Certificate certificate =\n                CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(targetStream);\n        ks.setCertificateEntry(&quot;clientCertificate&quot;, certificate);\n        ks.store(new FileOutputStream(&quot;keyStore.jks&quot;), null);\n        \n        Security.addProvider(new BouncyCastleProvider());\n\n        //storing private key\n        byte[] privateKeyData = amazonS3Configuration\n                .downloadFile(soapKeyFilePath + &quot;/&quot;\n                        + KeyFilePath);\n\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;,&quot;BC&quot;);\n        PKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(privateKeyData);\n        PrivateKey privateKey = keyFactory.generatePrivate(privateKeySpec);\n        System.out.println(&quot;Private Key: &quot; + privateKey);\n        ks.setKeyEntry(&quot;privateKey&quot;, privateKey, null, null);\n</code></pre>\n<p>I'm looking for guidance or code examples on how to:</p>\n<ol>\n<li>Load the certificate and private key from files into a Java <code>KeyStore</code>.</li>\n<li>Set up an <code>SSLContext</code> for secure communication.</li>\n<li>Use Apache's HTTP Client to make HTTP POST requests using this <code>SSL Context</code>.</li>\n</ol>\n"},{"tags":["java","responsive-design","selenium-webdriver","window-resize"],"answers":[{"tags":[],"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1446024128,"creation_date":1369121797,"answer_id":16664565,"question_id":16664433,"body_markdown":"You can get a reference to the current window with `driver.manage().window()`. And the `window` has a [`setSize()`](http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/WebDriver.Window.html#setSize(org.openqa.selenium.Dimension)) method, so you could try \r\n\r\n    Dimension dimension = new Dimension(800, 600);\r\n    driver.manage().window().setSize(dimension)","title":"How to resize current browser window in Selenium WebDriver with Java?","body":"<p>You can get a reference to the current window with <code>driver.manage().window()</code>. And the <code>window</code> has a <a href=\"http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/WebDriver.Window.html#setSize(org.openqa.selenium.Dimension)\"><code>setSize()</code></a> method, so you could try </p>\n\n<pre><code>Dimension dimension = new Dimension(800, 600);\ndriver.manage().window().setSize(dimension)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11253994,"reputation":63,"user_id":8254369,"display_name":"Philip"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533030384,"creation_date":1533030384,"answer_id":51610395,"question_id":16664433,"body_markdown":"For Responsive Design it&#39;s better if you don&#39;t use fixed data, in this case screen resolution - users need most often (cause it&#39;s much less prone to errors) :\r\n\r\n    _driver.manage().window().maximize();\r\nor\r\n\r\n    _driver.manage().window().fullScreen();","title":"How to resize current browser window in Selenium WebDriver with Java?","body":"<p>For Responsive Design it's better if you don't use fixed data, in this case screen resolution - users need most often (cause it's much less prone to errors) :</p>\n\n<pre><code>_driver.manage().window().maximize();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>_driver.manage().window().fullScreen();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11222609,"reputation":16,"user_id":8233293,"display_name":"Neha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560935671,"creation_date":1560932765,"answer_id":56663211,"question_id":16664433,"body_markdown":"We can also use Chrome capability to resize the window.\r\n\r\n \r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;window-size=800,480&quot;);\r\n    \r\n    DesiredCapabilities cap = DesiredCapabilities.chrome();\r\n    cap.setCapability(ChromeOptions.CAPABILITY, options);","title":"How to resize current browser window in Selenium WebDriver with Java?","body":"<p>We can also use Chrome capability to resize the window.</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"window-size=800,480\");\n\nDesiredCapabilities cap = DesiredCapabilities.chrome();\ncap.setCapability(ChromeOptions.CAPABILITY, options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10876862,"reputation":278,"user_id":7997043,"display_name":"NAVNEET CHANDAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624694352,"creation_date":1624694352,"answer_id":68140366,"question_id":16664433,"body_markdown":"If nothing works (to make tab in full screen only) for you, go for it:\r\n\r\n    driver.maximize_window()\r\n\r\nwhere\r\n\r\n    driver = webdriver.Chrome(executable_path=&quot;D:\\softwares\\chromedriver.exe&quot;)\r\n\r\nor could be any other webdriver locations.","title":"How to resize current browser window in Selenium WebDriver with Java?","body":"<p>If nothing works (to make tab in full screen only) for you, go for it:</p>\n<pre><code>driver.maximize_window()\n</code></pre>\n<p>where</p>\n<pre><code>driver = webdriver.Chrome(executable_path=&quot;D:\\softwares\\chromedriver.exe&quot;)\n</code></pre>\n<p>or could be any other webdriver locations.</p>\n"},{"tags":[],"owner":{"account_id":14486934,"reputation":515,"user_id":10464527,"display_name":"Furkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691778466,"creation_date":1691778466,"answer_id":76885956,"question_id":16664433,"body_markdown":"After all comments above, I noticed that the suggestion below was not mentioned yet. It resolved the issue I had in my project. I hope it might solve your problem.\r\n\r\nJava\r\n----\r\n\r\n    driver.manage().window().fullscreen();","title":"How to resize current browser window in Selenium WebDriver with Java?","body":"<p>After all comments above, I noticed that the suggestion below was not mentioned yet. It resolved the issue I had in my project. I hope it might solve your problem.</p>\n<h2>Java</h2>\n<pre><code>driver.manage().window().fullscreen();\n</code></pre>\n"}],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29587,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":16664565,"answer_count":5,"score":17,"last_activity_date":1693927220,"creation_date":1369121332,"question_id":16664433,"body_markdown":"I need to resize the browser as 300x400 during executing the Selenium automated tests. How can I resize the browser window in Selenium WebDriver (aka, Selenium 2) with Java?\r\n\r\n[Note: It needs to resize the browser window for testing Responsive Web Design (RWD)]","title":"How to resize current browser window in Selenium WebDriver with Java?","body":"<p>I need to resize the browser as 300x400 during executing the Selenium automated tests. How can I resize the browser window in Selenium WebDriver (aka, Selenium 2) with Java?</p>\n\n<p>[Note: It needs to resize the browser window for testing Responsive Web Design (RWD)]</p>\n"},{"tags":["java","mysql","forms","date","spring-mvc"],"comments":[{"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"score":0,"creation_date":1693858689,"post_id":77040254,"comment_id":135812567,"body_markdown":"Additionally, what is the error you are receiving? Copy and pasting your input does not help very much. It would help to see the controller as well.","body":"Additionally, what is the error you are receiving? Copy and pasting your input does not help very much. It would help to see the controller as well."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693870757,"post_id":77040254,"comment_id":135813728,"body_markdown":"What is the meaning of your `gioBatDau` field? Does that represent a moment, a specific point on the time line? Or does that represent a date and a time-of-day without the context of a time zone or offset-from-UTC? (Tip: Translating *all* your text to English is helpful when posting here on the English edition of Stack Overflow.)","body":"What is the meaning of your <code>gioBatDau</code> field? Does that represent a moment, a specific point on the time line? Or does that represent a date and a time-of-day without the context of a time zone or offset-from-UTC? (Tip: Translating <i>all</i> your text to English is helpful when posting here on the English edition of Stack Overflow.)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693893316,"post_id":77040254,"comment_id":135815497,"body_markdown":"Don’t use `Date` (not any of the `Date` classes). It’s a long outdated class and it was always poorly designed. For a timestamp use `OffsetDateTime` in Java and `timestamp` in MySQL. For all of your date and time work stick to [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"Don’t use <code>Date</code> (not any of the <code>Date</code> classes). It’s a long outdated class and it was always poorly designed. For a timestamp use <code>OffsetDateTime</code> in Java and <code>timestamp</code> in MySQL. For all of your date and time work stick to <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":29365867,"reputation":1,"user_id":22499585,"display_name":"Nguyen Duc Hung"},"score":0,"creation_date":1693909454,"post_id":77040254,"comment_id":135818426,"body_markdown":"@BasilBourque I use gioBatDau to store information about the time of a movie screening. I am implementing a project to book movie tickets using spring mvc.","body":"@BasilBourque I use gioBatDau to store information about the time of a movie screening. I am implementing a project to book movie tickets using spring mvc."},{"owner":{"account_id":29365867,"reputation":1,"user_id":22499585,"display_name":"Nguyen Duc Hung"},"score":0,"creation_date":1693909924,"post_id":77040254,"comment_id":135818527,"body_markdown":"@cela it shows HTTP 400 error on browser\nType Rapport d&#39;&#233;tat\n\ndescription The requirement is incorrect for the client.","body":"@cela it shows HTTP 400 error on browser Type Rapport d&#39;&#233;tat  description The requirement is incorrect for the client."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693909966,"post_id":77040254,"comment_id":135818538,"body_markdown":"In that case you are probably best off using `LocalDateTime` in Java and `datetime` in MySQL (Java `Date` is ill suited).","body":"In that case you are probably best off using <code>LocalDateTime</code> in Java and <code>datetime</code> in MySQL (Java <code>Date</code> is ill suited)."},{"owner":{"account_id":29365867,"reputation":1,"user_id":22499585,"display_name":"Nguyen Duc Hung"},"score":0,"creation_date":1693910018,"post_id":77040254,"comment_id":135818547,"body_markdown":"@OleV.V. i use tool to create pojos from mysql in netbeans","body":"@OleV.V. i use tool to create pojos from mysql in netbeans"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693910112,"post_id":77040254,"comment_id":135818570,"body_markdown":"You can probably upgrade your tool to a version that supports java.time. java.time has been part of Java for nearly a decade now.","body":"You can probably upgrade your tool to a version that supports java.time. java.time has been part of Java for nearly a decade now."},{"owner":{"account_id":29365867,"reputation":1,"user_id":22499585,"display_name":"Nguyen Duc Hung"},"score":1,"creation_date":1693910749,"post_id":77040254,"comment_id":135818685,"body_markdown":"I tried switching to LocalDateTime and it said @Temporal should only be set on a java.util.Date or java.util.Calendar property: com.ndh.pojo.Suatchieu.gioBatDau","body":"I tried switching to LocalDateTime and it said @Temporal should only be set on a java.util.Date or java.util.Calendar property: com.ndh.pojo.Suatchieu.gioBatDau"},{"owner":{"account_id":29365867,"reputation":1,"user_id":22499585,"display_name":"Nguyen Duc Hung"},"score":1,"creation_date":1693911571,"post_id":77040254,"comment_id":135818870,"body_markdown":"I tried removing the @Temporal line but it still doesn&#39;t work","body":"I tried removing the @Temporal line but it still doesn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693870646,"post_id":77040560,"comment_id":135813717,"body_markdown":"Given the use of `TemporalType.TIMESTAMP`, and the fact that &quot;Giờ bắt đầu&quot; apparently translates to &quot;start time&quot;, I suspect that despite their choice of formatting pattern, the OP does *not* actually mean to use a date and time alone without a time zone or offset. I suspect `Instant`/`OffsetDateTime` along with a database column of SQL standard type `TIMESTAMP WITH TIME ZONE` is needed here.","body":"Given the use of <code>TemporalType.TIMESTAMP</code>, and the fact that &quot;Giờ bắt đầu&quot; apparently translates to &quot;start time&quot;, I suspect that despite their choice of formatting pattern, the OP does <i>not</i> actually mean to use a date and time alone without a time zone or offset. I suspect <code>Instant</code>/<code>OffsetDateTime</code> along with a database column of SQL standard type <code>TIMESTAMP WITH TIME ZONE</code> is needed here."},{"owner":{"account_id":29365867,"reputation":1,"user_id":22499585,"display_name":"Nguyen Duc Hung"},"score":0,"creation_date":1693911516,"post_id":77040560,"comment_id":135818856,"body_markdown":"I used LocalDateTime but it still doesn&#39;t work","body":"I used LocalDateTime but it still doesn&#39;t work"},{"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"score":0,"creation_date":1693925001,"post_id":77040560,"comment_id":135822004,"body_markdown":"@NguyenDucHung Could you show an example row or the DDL for the corresponding table?","body":"@NguyenDucHung Could you show an example row or the DDL for the corresponding table?"}],"tags":[],"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693927163,"creation_date":1693860993,"answer_id":77040560,"question_id":77040254,"body_markdown":"Based on your new comments, you may need a custom converter for swapping between Strings and LocalDateTime.\r\n\r\nHere is the converter:\r\n```\r\nimport org.springframework.core.convert.converter.Converter;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeParseException;\r\n\r\npublic final class LocalDateTimeConverter implements Converter&lt;String, LocalDateTime&gt; {\r\n\r\n    private final DateTimeFormatter formatter;\r\n\r\n    public LocalDateTimeConverter(String dateFormat) {\r\n        this.formatter = DateTimeFormatter.ofPattern(dateFormat);\r\n    }\r\n\r\n    @Override\r\n    public LocalDateTime convert(String source) {\r\n        if (source == null || source.isEmpty()) {\r\n            return null;\r\n        }\r\n\r\n        try {\r\n            return LocalDateTime.parse(source, formatter);\r\n        } catch (DateTimeParseException e) {\r\n            // Log the error here\r\n            // return null if you need the 400 error, or set a default date\r\n            return null; \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou will need to register the converter. I am assuming you are not using Spring Boot, so you can register it in `WebMvcConfigurerAdapter` like so:\r\n```java\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.format.FormatterRegistry;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n\r\n@Configuration\r\nclass WebMvcContext extends WebMvcConfigurerAdapter {\r\n \r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(new LocalDateTimeConverter(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;));\r\n    }\r\n}\r\n```\r\n\r\nColumn definition will look like this:\r\n\r\n```java\r\n@Column(name = &quot;GioBatDau&quot;)\r\nprivate LocalDateTime gioBatDau;\r\n```\r\n\r\n**Previous Answer and still relevant**\r\n\r\nOne option to resolve the issue you&#39;re facing is to switch the column type from `java.util.Date` to `java.time.LocalDateTime` and then specify the correct date-time format.\r\n\r\nHere is the snippet:\r\n```java\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\nimport javax.persistence.Column;\r\nimport java.time.LocalDateTime;\r\n\r\npublic class YourEntity {\r\n\r\n    @Column(name = &quot;GioBatDau&quot;)\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n    private LocalDateTime gioBatDau;\r\n\r\n}\r\n```\r\n\r\n**Why Use java.time.LocalDateTime?**\r\n\r\nSince Java 8, it&#39;s recommended to use java.time.LocalDateTime or java.time.LocalDate over java.util.Date for several reasons:\r\n\r\n1) **Immutability**: Classes in java.time package are immutable, making them thread-safe.\r\n\r\n2) **Rich API**: They provide a richer API for date-time manipulation.\r\n\r\n3) **Clearer Semantics**: These classes have clearer semantics for dealing with dates, times, and time-zones.\r\n\r\n4) **Time Zone Handling**: Easier to work with time-zones.\r\n\r\n**Controller/Service-level Conversion**\r\n\r\nWhile it&#39;s convenient to use `@DateTimeFormat` at the entity level, it&#39;s often considered better practice to keep entity classes as clean as possible. You can perform the conversion at the service or controller level. This makes your entity classes more reusable and decouples them from the web layer of your application.\r\n\r\nFor more information on the `java.time` package, you can read the [official Java documentation][1] .\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Insert datetime into mysql java spring mvc","body":"<p>Based on your new comments, you may need a custom converter for swapping between Strings and LocalDateTime.</p>\n<p>Here is the converter:</p>\n<pre><code>import org.springframework.core.convert.converter.Converter;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\n\npublic final class LocalDateTimeConverter implements Converter&lt;String, LocalDateTime&gt; {\n\n    private final DateTimeFormatter formatter;\n\n    public LocalDateTimeConverter(String dateFormat) {\n        this.formatter = DateTimeFormatter.ofPattern(dateFormat);\n    }\n\n    @Override\n    public LocalDateTime convert(String source) {\n        if (source == null || source.isEmpty()) {\n            return null;\n        }\n\n        try {\n            return LocalDateTime.parse(source, formatter);\n        } catch (DateTimeParseException e) {\n            // Log the error here\n            // return null if you need the 400 error, or set a default date\n            return null; \n        }\n    }\n}\n</code></pre>\n<p>You will need to register the converter. I am assuming you are not using Spring Boot, so you can register it in <code>WebMvcConfigurerAdapter</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.format.FormatterRegistry;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\n\n@Configuration\nclass WebMvcContext extends WebMvcConfigurerAdapter {\n \n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new LocalDateTimeConverter(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;));\n    }\n}\n</code></pre>\n<p>Column definition will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;GioBatDau&quot;)\nprivate LocalDateTime gioBatDau;\n</code></pre>\n<p><strong>Previous Answer and still relevant</strong></p>\n<p>One option to resolve the issue you're facing is to switch the column type from <code>java.util.Date</code> to <code>java.time.LocalDateTime</code> and then specify the correct date-time format.</p>\n<p>Here is the snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.format.annotation.DateTimeFormat;\nimport javax.persistence.Column;\nimport java.time.LocalDateTime;\n\npublic class YourEntity {\n\n    @Column(name = &quot;GioBatDau&quot;)\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private LocalDateTime gioBatDau;\n\n}\n</code></pre>\n<p><strong>Why Use java.time.LocalDateTime?</strong></p>\n<p>Since Java 8, it's recommended to use java.time.LocalDateTime or java.time.LocalDate over java.util.Date for several reasons:</p>\n<ol>\n<li><p><strong>Immutability</strong>: Classes in java.time package are immutable, making them thread-safe.</p>\n</li>\n<li><p><strong>Rich API</strong>: They provide a richer API for date-time manipulation.</p>\n</li>\n<li><p><strong>Clearer Semantics</strong>: These classes have clearer semantics for dealing with dates, times, and time-zones.</p>\n</li>\n<li><p><strong>Time Zone Handling</strong>: Easier to work with time-zones.</p>\n</li>\n</ol>\n<p><strong>Controller/Service-level Conversion</strong></p>\n<p>While it's convenient to use <code>@DateTimeFormat</code> at the entity level, it's often considered better practice to keep entity classes as clean as possible. You can perform the conversion at the service or controller level. This makes your entity classes more reusable and decouples them from the web layer of your application.</p>\n<p>For more information on the <code>java.time</code> package, you can read the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">official Java documentation</a> .</p>\n"}],"owner":{"account_id":29365867,"reputation":1,"user_id":22499585,"display_name":"Nguyen Duc Hung"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693927163,"creation_date":1693856553,"question_id":77040254,"body_markdown":"I save the column `gioBatDau` in MySQL as datetime, in POJO as\r\n```java\r\n@Column(name = &quot;GioBatDau&quot;)\r\n@Temporal(TemporalType.TIMESTAMP)  \r\n@DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;) \r\nprivate Date gioBatDau;\r\n```\r\n\r\nI can&#39;t add data to the database:\r\n```html\r\n&lt;form:input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;gioBatDau&quot; \r\n   placeholder=&quot;Giờ bắt đầu&quot; name=&quot;gioBatDau&quot; path=&quot;gioBatDau&quot;/&gt;\r\n```","title":"Insert datetime into mysql java spring mvc","body":"<p>I save the column <code>gioBatDau</code> in MySQL as datetime, in POJO as</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;GioBatDau&quot;)\n@Temporal(TemporalType.TIMESTAMP)  \n@DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;) \nprivate Date gioBatDau;\n</code></pre>\n<p>I can't add data to the database:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form:input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;gioBatDau&quot; \n   placeholder=&quot;Giờ bắt đầu&quot; name=&quot;gioBatDau&quot; path=&quot;gioBatDau&quot;/&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","in-app-billing"],"comments":[{"owner":{"account_id":6561829,"reputation":3178,"user_id":5821228,"accept_rate":64,"display_name":"Vishal Patoliya ツ"},"score":0,"creation_date":1473242472,"post_id":39366735,"comment_id":66061875,"body_markdown":"you are not able to test live products SKU  in your debug.apk","body":"you are not able to test live products SKU  in your debug.apk"},{"owner":{"account_id":6561829,"reputation":3178,"user_id":5821228,"accept_rate":64,"display_name":"Vishal Patoliya ツ"},"score":0,"creation_date":1473242490,"post_id":39366735,"comment_id":66061883,"body_markdown":"so, take care about it","body":"so, take care about it"},{"owner":{"account_id":5606173,"reputation":579,"user_id":4440694,"accept_rate":100,"display_name":"Alexey Andronov"},"score":0,"creation_date":1473297190,"post_id":39366735,"comment_id":66089985,"body_markdown":"@VishalPatoliya good to know, but in release the problem persists and google store activity works fine","body":"@VishalPatoliya good to know, but in release the problem persists and google store activity works fine"}],"answers":[{"comments":[{"owner":{"account_id":5606173,"reputation":579,"user_id":4440694,"accept_rate":100,"display_name":"Alexey Andronov"},"score":0,"creation_date":1473324053,"post_id":39369699,"comment_id":66099370,"body_markdown":"I did some research following your launchMode suggestion and came to conclusion that it&#39;s the android system who closes my activity (I guess due it&#39;s resourcefulness (about 20MB of memory)). So anyway thanks for help","body":"I did some research following your launchMode suggestion and came to conclusion that it&#39;s the android system who closes my activity (I guess due it&#39;s resourcefulness (about 20MB of memory)). So anyway thanks for help"}],"tags":[],"owner":{"account_id":187289,"reputation":1995,"user_id":425238,"display_name":"whitebrow"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1473250471,"creation_date":1473250471,"answer_id":39369699,"question_id":39366735,"body_markdown":"Have you tried changing the activity&#39;s launchMode? Maybe the *singleTop* launch mode will preserve your activity:\r\n\r\n    &lt;activity\r\n        android:name=&quot;.MyActivity&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n        android:configChanges=&quot;orientation|screenSize|keyboardHidden|screenLayout&quot;\r\n        android:launchMode=&quot;singleTop&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\nYou can find more about launch modes here:\r\nhttps://developer.android.com/guide/topics/manifest/activity-element.html#lmode\r\n","title":"What forces android activity to be destroyed when launching another activity","body":"<p>Have you tried changing the activity's launchMode? Maybe the <em>singleTop</em> launch mode will preserve your activity:</p>\n\n<pre><code>&lt;activity\n    android:name=\".MyActivity\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme.NoActionBar\"\n    android:configChanges=\"orientation|screenSize|keyboardHidden|screenLayout\"\n    android:launchMode=\"singleTop\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>You can find more about launch modes here:\n<a href=\"https://developer.android.com/guide/topics/manifest/activity-element.html#lmode\" rel=\"nofollow\">https://developer.android.com/guide/topics/manifest/activity-element.html#lmode</a></p>\n"},{"tags":[],"owner":{"account_id":6023585,"reputation":524,"user_id":4730000,"accept_rate":100,"display_name":"Daniels Šatcs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693926765,"creation_date":1693926765,"answer_id":77045708,"question_id":39366735,"body_markdown":"In my case I had this under the finishing activity in `AndroidManifest.xml`\r\n\r\n```\r\nandroid:noHistory=&quot;true&quot;\r\n```\r\n\r\nRemoving this solved the issue.\r\n","title":"What forces android activity to be destroyed when launching another activity","body":"<p>In my case I had this under the finishing activity in <code>AndroidManifest.xml</code></p>\n<pre><code>android:noHistory=&quot;true&quot;\n</code></pre>\n<p>Removing this solved the issue.</p>\n"}],"owner":{"account_id":5606173,"reputation":579,"user_id":4440694,"accept_rate":100,"display_name":"Alexey Andronov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39369699,"answer_count":2,"score":2,"last_activity_date":1693926765,"creation_date":1473242152,"question_id":39366735,"body_markdown":"I&#39;m trying to add in-app purchases and when I call &lt;br&gt;`OpenIabHelper::launchPurchaseFlow` function:&lt;br&gt;\r\n\r\n- I see Google Play purchase window &lt;br&gt;\r\n- `onStop` and `onDestroy` are executed in my main activity without calls to `onActivityResult` &lt;br&gt;\r\n\r\nSo in the end I left with GooglePlay window and my dead app &lt;br&gt;\r\n\r\nI tried to start another activity via `startActivityForResult` and it worked fine&lt;br&gt;\r\n(nothing was destroyed and `onActivityResult` was called), so it seems that problem is with [OpenIAB library](https://github.com/onepf/OpenIAB)&lt;br&gt;\r\n\r\n*Therefore there&#39;s my question:*&lt;br&gt;\r\nWhat can possibly force my activity to be destroyed after calling `OpenIabHelper::launchPurchaseFlow` ?\r\n\r\nIt doesn&#39;t seem to be system because it has enough memory and as I said &lt;br&gt;`startActivityForResult` works fine.&lt;br&gt;\r\nAlso there&#39;s no exceptions being trown so I&#39;m puzzled&lt;br&gt;\r\n\r\nAny help would be appreciated&lt;br&gt;&lt;br&gt;\r\n**MyActivity.java**\r\n\r\n    public class MyActivity extends AppCompatActivity {\r\n    \tprivate OpenIabHelper m_helper;\r\n        private Boolean m_bOpenIabInitialized = false;\r\n    \t\r\n    \t\r\n    \t@Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t   \r\n    \t    OpenIabHelper.Options.Builder builder = new OpenIabHelper.Options.Builder()\r\n                .addAvailableStores(new GooglePlay(this,null))\r\n                .addPreferredStoreName(OpenIabHelper.NAME_GOOGLE)\r\n                .setStoreSearchStrategy(OpenIabHelper.Options.SEARCH_STRATEGY_INSTALLER_THEN_BEST_FIT)\r\n                .setVerifyMode(OpenIabHelper.Options.VERIFY_SKIP)\r\n                .setCheckInventory(false);\r\n            m_helper = new OpenIabHelper(this, builder.build());\r\n            m_helper.startSetup(new IabHelper.OnIabSetupFinishedListener() {\r\n                public void onIabSetupFinished(IabResult result) {\r\n                    m_bOpenIabInitialized = result.isSuccess();\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n    \tpublic void onListViewItemClicked(String sku, String payload) {\r\n            if (m_bOpenIabInitialized == null || !m_bOpenIabInitialized) return;\r\n            m_helper.launchPurchaseFlow(this, sku, 10001, null, payload);\r\n        }\r\n    \r\n        @Override\r\n        public void startActivityForResult(Intent intent, int RequestCode) {\r\n    \t\t// never reaches here\r\n            Log.d(TAG, &quot;startActivityForResult()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int RequestCode, int ResultCode, Intent data) {\r\n    \t\t// never reaches here\r\n            Log.d(TAG, &quot;onActivityResult()&quot;);\r\n        }\r\n    }\r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example&quot; &gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.MyActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n                android:configChanges=&quot;orientation|screenSize|keyboardHidden|screenLayout&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;","title":"What forces android activity to be destroyed when launching another activity","body":"<p>I'm trying to add in-app purchases and when I call <br><code>OpenIabHelper::launchPurchaseFlow</code> function:<br></p>\n\n<ul>\n<li>I see Google Play purchase window <br></li>\n<li><code>onStop</code> and <code>onDestroy</code> are executed in my main activity without calls to <code>onActivityResult</code> <br></li>\n</ul>\n\n<p>So in the end I left with GooglePlay window and my dead app <br></p>\n\n<p>I tried to start another activity via <code>startActivityForResult</code> and it worked fine<br>\n(nothing was destroyed and <code>onActivityResult</code> was called), so it seems that problem is with <a href=\"https://github.com/onepf/OpenIAB\" rel=\"nofollow\">OpenIAB library</a><br></p>\n\n<p><em>Therefore there's my question:</em><br>\nWhat can possibly force my activity to be destroyed after calling <code>OpenIabHelper::launchPurchaseFlow</code> ?</p>\n\n<p>It doesn't seem to be system because it has enough memory and as I said <br><code>startActivityForResult</code> works fine.<br>\nAlso there's no exceptions being trown so I'm puzzled<br></p>\n\n<p>Any help would be appreciated<br><br>\n<strong>MyActivity.java</strong></p>\n\n<pre><code>public class MyActivity extends AppCompatActivity {\n    private OpenIabHelper m_helper;\n    private Boolean m_bOpenIabInitialized = false;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        OpenIabHelper.Options.Builder builder = new OpenIabHelper.Options.Builder()\n            .addAvailableStores(new GooglePlay(this,null))\n            .addPreferredStoreName(OpenIabHelper.NAME_GOOGLE)\n            .setStoreSearchStrategy(OpenIabHelper.Options.SEARCH_STRATEGY_INSTALLER_THEN_BEST_FIT)\n            .setVerifyMode(OpenIabHelper.Options.VERIFY_SKIP)\n            .setCheckInventory(false);\n        m_helper = new OpenIabHelper(this, builder.build());\n        m_helper.startSetup(new IabHelper.OnIabSetupFinishedListener() {\n            public void onIabSetupFinished(IabResult result) {\n                m_bOpenIabInitialized = result.isSuccess();\n            }\n        });\n    }\n\n\n    public void onListViewItemClicked(String sku, String payload) {\n        if (m_bOpenIabInitialized == null || !m_bOpenIabInitialized) return;\n        m_helper.launchPurchaseFlow(this, sku, 10001, null, payload);\n    }\n\n    @Override\n    public void startActivityForResult(Intent intent, int RequestCode) {\n        // never reaches here\n        Log.d(TAG, \"startActivityForResult()\");\n    }\n\n    @Override\n    protected void onActivityResult(int RequestCode, int ResultCode, Intent data) {\n        // never reaches here\n        Log.d(TAG, \"onActivityResult()\");\n    }\n}\n</code></pre>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example\" &gt;\n\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n    &lt;uses-permission android:name=\"com.android.vending.BILLING\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:name=\".MyActivity\"\n            android:label=\"@string/app_name\"\n            android:theme=\"@style/AppTheme.NoActionBar\"\n            android:configChanges=\"orientation|screenSize|keyboardHidden|screenLayout\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","jersey"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1693924029,"post_id":77045310,"comment_id":135821757,"body_markdown":"This is trivial to google. All big libraries like Jersey publish version compatibility documentation.","body":"This is trivial to google. All big libraries like Jersey publish version compatibility documentation."},{"owner":{"account_id":261063,"reputation":3498,"user_id":545006,"accept_rate":22,"display_name":"Andrea Borgogelli Avveduti"},"score":0,"creation_date":1693928492,"post_id":77045310,"comment_id":135822823,"body_markdown":"You&#39;re a genius :-)","body":"You&#39;re a genius :-)"}],"answers":[{"comments":[{"owner":{"account_id":261063,"reputation":3498,"user_id":545006,"accept_rate":22,"display_name":"Andrea Borgogelli Avveduti"},"score":0,"creation_date":1694017262,"post_id":77045480,"comment_id":135836973,"body_markdown":"The issue was closed on GitHub and doc was fixed.  Jersey client 3.1.3 requires jdk11. Bye","body":"The issue was closed on GitHub and doc was fixed.  Jersey client 3.1.3 requires jdk11. Bye"}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693926009,"creation_date":1693924800,"answer_id":77045480,"question_id":77045310,"body_markdown":"Short answer: no.\r\n\r\n[Official documentation][1] says that Jersey targets Java 8 BUT in v3.1.3 they upgraded the `jakarta.ws.rs-api` dependency from v3.0.0 (see [this page][2]) to v3.1.0 (see [this page][3]).  This new version of `jakarta.ws.rs-api` targets Jakarta EE 10 instead of Jakarta EE 9 (new namespace) and also Java 11 instead of Java 8 (see [this page][4]).  Perhaps they have not considered this issue.\r\n\r\nI opened [an issue][5] on GitHub.\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest3x/modules-and-dependencies.html#d0e560\r\n  [2]: https://eclipse-ee4j.github.io/jersey.github.io/project-info/3.0.11/jersey/jersey-client/dependencies.html\r\n  [3]: https://eclipse-ee4j.github.io/jersey.github.io/project-info/3.1.3/jersey/jersey-client/dependencies.html\r\n  [4]: https://jakarta.ee/specifications/restful-ws/3.1/\r\n  [5]: https://github.com/eclipse-ee4j/jersey/issues/5406","title":"Is Jersey client 3.1.3 jdk8 compatible?","body":"<p>Short answer: no.</p>\n<p><a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest3x/modules-and-dependencies.html#d0e560\" rel=\"nofollow noreferrer\">Official documentation</a> says that Jersey targets Java 8 BUT in v3.1.3 they upgraded the <code>jakarta.ws.rs-api</code> dependency from v3.0.0 (see <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/project-info/3.0.11/jersey/jersey-client/dependencies.html\" rel=\"nofollow noreferrer\">this page</a>) to v3.1.0 (see <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/project-info/3.1.3/jersey/jersey-client/dependencies.html\" rel=\"nofollow noreferrer\">this page</a>).  This new version of <code>jakarta.ws.rs-api</code> targets Jakarta EE 10 instead of Jakarta EE 9 (new namespace) and also Java 11 instead of Java 8 (see <a href=\"https://jakarta.ee/specifications/restful-ws/3.1/\" rel=\"nofollow noreferrer\">this page</a>).  Perhaps they have not considered this issue.</p>\n<p>I opened <a href=\"https://github.com/eclipse-ee4j/jersey/issues/5406\" rel=\"nofollow noreferrer\">an issue</a> on GitHub.</p>\n"}],"owner":{"account_id":261063,"reputation":3498,"user_id":545006,"accept_rate":22,"display_name":"Andrea Borgogelli Avveduti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77045480,"answer_count":1,"score":0,"last_activity_date":1693926009,"creation_date":1693923363,"question_id":77045310,"body_markdown":"I use\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\n\r\nWhen I migrate from 3.0.11 to 3.1.3, I get : \r\n\r\n    [ERROR] ....:[...] cannot access jakarta.ws.rs.client.Client\r\n      bad class file: .m2/repository/jakarta/ws/rs/jakarta.ws.rs-api/3.1.0/jakarta.ws.rs-api-3.1.0.jar(jakarta/ws/rs/client/Client.class)\r\n        class file has wrong version 55.0, should be 52.0\r\n\r\n\r\nI run jdk 11 with target **jdk8**","title":"Is Jersey client 3.1.3 jdk8 compatible?","body":"<p>I use</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n  &lt;version&gt;3.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I migrate from 3.0.11 to 3.1.3, I get :</p>\n<pre><code>[ERROR] ....:[...] cannot access jakarta.ws.rs.client.Client\n  bad class file: .m2/repository/jakarta/ws/rs/jakarta.ws.rs-api/3.1.0/jakarta.ws.rs-api-3.1.0.jar(jakarta/ws/rs/client/Client.class)\n    class file has wrong version 55.0, should be 52.0\n</code></pre>\n<p>I run jdk 11 with target <strong>jdk8</strong></p>\n"},{"tags":["java","android","uart"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693927021,"post_id":77045572,"comment_id":135822480,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1693927028,"post_id":77045572,"comment_id":135822481,"body_markdown":"UART is a hardware protocol for serial connections, so you need a serial connector. So you can not &quot;implement&quot; UART, you just have to use the correct hardware and connect to that hardware.","body":"UART is a hardware protocol for serial connections, so you need a serial connector. So you can not &quot;implement&quot; UART, you just have to use the correct hardware and connect to that hardware."},{"owner":{"account_id":29371913,"reputation":1,"user_id":22504341,"display_name":"fedebert"},"score":0,"creation_date":1693932168,"post_id":77045572,"comment_id":135823605,"body_markdown":"@Robert yeah but in my case i have to simulate this type of connection, because i need that the app takes the values and then, with UART, stores them for a subsequent encoding.","body":"@Robert yeah but in my case i have to simulate this type of connection, because i need that the app takes the values and then, with UART, stores them for a subsequent encoding."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1693933374,"post_id":77045572,"comment_id":135823859,"body_markdown":"So this question is about adding start/stop bits and parity bits to a data stream (e.g. a TCP stream)?","body":"So this question is about adding start/stop bits and parity bits to a data stream (e.g. a TCP stream)?"},{"owner":{"account_id":29371913,"reputation":1,"user_id":22504341,"display_name":"fedebert"},"score":0,"creation_date":1693934693,"post_id":77045572,"comment_id":135824139,"body_markdown":"Maybe yes, but i don&#39;t know if it&#39;s similar. Sorry but i&#39;m very new in this area.","body":"Maybe yes, but i don&#39;t know if it&#39;s similar. Sorry but i&#39;m very new in this area."},{"owner":{"account_id":503138,"reputation":16391,"user_id":1599004,"display_name":"sawdust"},"score":0,"creation_date":1693982413,"post_id":77045572,"comment_id":135829578,"body_markdown":"Your post makes no sense. If your app has already &quot;*read the values of the light sensor*&quot;, then why does your app have to &quot;*use the UART protocol to receive these values*&quot; again? No, you do not &quot;*add start/stop bits and parity bits*&quot; in software; that is performed by UART hardware (unless you intend to bit-bang the data).","body":"Your post makes no sense. If your app has already &quot;<i>read the values of the light sensor</i>&quot;, then why does your app have to &quot;<i>use the UART protocol to receive these values</i>&quot; again? No, you do not &quot;<i>add start/stop bits and parity bits</i>&quot; in software; that is performed by UART hardware (unless you intend to bit-bang the data)."}],"owner":{"account_id":29371913,"reputation":1,"user_id":22504341,"display_name":"fedebert"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693925597,"creation_date":1693925597,"question_id":77045572,"body_markdown":"i have to develop a simple android app using android studio and java. \r\n\r\nFor my app i have to read the values of the light sensor of the mobile phone and then i have to use the UART protocol to receive these values and then to store them in relation to the value read.\r\nAt the beginning, for example, if the value is 50.0 lux or greater this app has to store 1, 0 otherwise.\r\n\r\n\r\nI use SensorManager and EventListener to read the values of the light sensor but i don&#39;t know how to continue. In particular i don&#39;t know how to implement the UART protocol and how to use it so that it reads the values and then it does the right operations with them.","title":"UART protocol in android studio","body":"<p>i have to develop a simple android app using android studio and java.</p>\n<p>For my app i have to read the values of the light sensor of the mobile phone and then i have to use the UART protocol to receive these values and then to store them in relation to the value read.\nAt the beginning, for example, if the value is 50.0 lux or greater this app has to store 1, 0 otherwise.</p>\n<p>I use SensorManager and EventListener to read the values of the light sensor but i don't know how to continue. In particular i don't know how to implement the UART protocol and how to use it so that it reads the values and then it does the right operations with them.</p>\n"},{"tags":["java","eclipse","maven","dependencies","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693937431,"post_id":77045561,"comment_id":135824621,"body_markdown":"The dependency to maven-install-plugin, maven-plugin-plugin and maven-compiler-plugin is wrong. Remove them first. Second take a look here: https://github.com/apache/maven-jxr/tree/master/maven-jxr-plugin (into pom.xml) for the dependencies...","body":"The dependency to maven-install-plugin, maven-plugin-plugin and maven-compiler-plugin is wrong. Remove them first. Second take a look here: <a href=\"https://github.com/apache/maven-jxr/tree/master/maven-jxr-plugin\" rel=\"nofollow noreferrer\">github.com/apache/maven-jxr/tree/master/maven-jxr-plugin</a> (into pom.xml) for the dependencies..."}],"owner":{"account_id":16574310,"reputation":1,"user_id":22504426,"display_name":"David Hunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693925457,"creation_date":1693925457,"question_id":77045561,"body_markdown":"I am trying to create a maven report in Eclipse using a Mojo. I only have only 2 files for the project, and I followed the directions pretty closely for building a Maven Report; however, I keep getting the issue my class that should be injected is not being injected.\r\n\r\nUpon looking further, it keeps saying that AbstractMavenReport cannnot be found.               \r\n                                     \r\n\r\nHere is the error message: \r\n\r\n```\r\n[WARNING] Error injecting: com.simplemavenreport.maven.SimpleMavenReport\r\njava.lang.TypeNotPresentException: Type com.simplemavenreport.maven.SimpleMavenReport not present\r\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:147)\r\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)\r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/maven/reporting/AbstractMavenReport\r\n    at java.lang.ClassLoader.defineClass1 (Native Method)\r\n    at java.lang.ClassLoader.defineClass (ClassLoader.java:1012)\r\n    at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:150)\r\n    at java.net.URLClassLoader.defineClass (URLClassLoader.java:524)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:427)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:421)\r\n    at java.security.AccessController.doPrivileged (AccessController.java:712)\r\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:420)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.findClassInternal (ClassRealm.java:313)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf (ClassRealm.java:432)\r\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:42)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\r\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:139)\r\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)\r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.maven.reporting.AbstractMavenReport\r\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:50)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\r\n    at java.lang.ClassLoader.defineClass1 (Native Method)\r\n    at java.lang.ClassLoader.defineClass (ClassLoader.java:1012)\r\n    at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:150)\r\n    at java.net.URLClassLoader.defineClass (URLClassLoader.java:524)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:427)\r\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:421)\r\n    at java.security.AccessController.doPrivileged (AccessController.java:712)\r\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:420)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.findClassInternal (ClassRealm.java:313)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf (ClassRealm.java:432)\r\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:42)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\r\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\r\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:139)\r\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)\r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n```\r\n\r\n\r\n\r\nHere is my pom.xml file \r\n\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.mavenreport&lt;/groupId&gt;\r\n  &lt;artifactId&gt;simplemavenreport&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n   \r\n  &lt;name&gt;simplemavenreport&lt;/name&gt;\r\n  &lt;description&gt;3rd Time&lt;/description&gt;\r\n  \r\n  &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;doxiaVersion&gt;2.0.0-M7&lt;/doxiaVersion&gt;\r\n        &lt;doxiaSitetoolsVersion&gt;2.0.0-M11&lt;/doxiaSitetoolsVersion&gt;\r\n    &lt;/properties&gt;\r\n \r\n    &lt;dependencies&gt;\r\n        &lt;!-- Doxia API and Doxia Sitetools --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.doxia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;doxia-sink-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${doxiaVersion}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.doxia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;doxia-site-renderer&lt;/artifactId&gt;\r\n            &lt;version&gt;${doxiaSitetoolsVersion}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;!-- reporting API --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.reporting&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-reporting-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-M9&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.reporting&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-reporting-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-M7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n \r\n        &lt;!-- plugin API and plugin-tools --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.5&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shared-utils&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n \r\n \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t \t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.9.0&lt;/version&gt;\r\n              &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n \r\n \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t        \t&lt;arg&gt;-verbose&lt;/arg&gt;\r\n\t\t\t        \t&lt;arg&gt;-Xlint:all,-options,-path&lt;/arg&gt;\r\n\t\t\t        &lt;/compilerArgs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\t\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;goalPrefix&gt;simplereport&lt;/goalPrefix&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-descriptor&lt;/id&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generated-helpmojo&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;helpmojo&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n  \r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nhere is the only java file that I have in the program\r\n\r\n\r\n\r\n```\r\npackage com.simplemavenreport.maven;\r\n\r\n\r\nimport java.util.Locale;\r\n \r\nimport org.apache.maven.doxia.sink.Sink;\r\nimport org.apache.maven.plugins.annotations.LifecyclePhase;\r\nimport org.apache.maven.plugins.annotations.Mojo;\r\nimport org.apache.maven.plugins.annotations.Parameter;\r\nimport org.apache.maven.plugins.annotations.ResolutionScope;\r\nimport org.apache.maven.project.MavenProject;\r\nimport org.apache.maven.reporting.AbstractMavenReport;\r\nimport org.apache.maven.reporting.MavenReportException;\r\n \r\n/**\r\n * Builds an simple report page as an example.\r\n *\r\n * &lt;p&gt;\r\n * This example show how easy it is to build your own reporting plugin\r\n * (or, for that matter, your own reporting Mojo)\r\n *\r\n */\r\n@Mojo(\r\n       name = &quot;simple&quot;,\r\n       defaultPhase = LifecyclePhase.SITE,\r\n       requiresDependencyResolution = ResolutionScope.RUNTIME,\r\n       requiresProject = true,\r\n       threadSafe = true\r\n     )\r\npublic class SimpleMavenReport extends AbstractMavenReport {\r\n \r\n    public String getOutputName() {\r\n        // This report will generate simple-report.html when invoked in a project with `mvn site`\r\n        return &quot;simple-report&quot;;\r\n    }\r\n \r\n    public String getName(Locale locale) {\r\n        // Name of the report when listed in the project-reports.html page of a project\r\n        return &quot;Simple Report&quot;;\r\n    }\r\n \r\n    public String getDescription(Locale locale) {\r\n        // Description of the report when listed in the project-reports.html page of a project\r\n        return &quot;This simple report is a very simple report that does nothing but &quot;\r\n        + &quot;shows off Maven&#39;s wonderful reporting capabilities.&quot;;\r\n    }\r\n \r\n    /**\r\n     * Practical reference to the Maven project\r\n     */\r\n    @Parameter( defaultValue = &quot;${project}&quot;, readonly = true, required = true )\r\n    private MavenProject project;\r\n \r\n    @Override\r\n    protected void executeReport(Locale locale) throws MavenReportException {\r\n \r\n        // Get the logger\r\n \r\n        // Get the Maven Doxia Sink, which will be used to generate the\r\n        // various elements of the document\r\n        Sink mainSink = this.getSink();\r\n        if (mainSink == null) {\r\n            throw new MavenReportException(&quot;Could not get the Doxia sink&quot;);\r\n        }\r\n \r\n        // Page title\r\n        mainSink.head();\r\n        mainSink.title();\r\n        mainSink.text(&quot;Simple Report for &quot; + project.getName() + &quot; &quot; + project.getVersion());\r\n        mainSink.title_();\r\n        mainSink.head_();\r\n \r\n        mainSink.body();\r\n \r\n        // Heading 1\r\n        mainSink.section1();\r\n        mainSink.sectionTitle1();\r\n        mainSink.text(&quot;Simple Report for &quot; + project.getName() + &quot; &quot; + project.getVersion());\r\n        mainSink.sectionTitle1_();\r\n \r\n        // Content\r\n        mainSink.paragraph();\r\n        mainSink.text(&quot;This page provides simple information, like its location: &quot;);\r\n        mainSink.text(project.getBasedir().getAbsolutePath());\r\n        mainSink.paragraph_();\r\n \r\n        // Close\r\n        mainSink.section1_();\r\n        mainSink.body_();\r\n \r\n    }\r\n \r\n}\r\n```\r\n\r\n\r\nOn the command line, I run mvn clean install, which works fine. but when I go to run the goal, I get this error message. I run the goal with the following command: \r\n\r\nmvn com.mavenreport:simplemavenreport:0.0.1-SNAPSHOT:simple\r\n\r\n\r\nAny help on this would be much appreciated. Thanks\r\n\r\nI have tried changing the versions, and I have tried changing the dependencies but nothing seems to work. I was expecting a report to be generated, but it was not. \r\n\r\nI also deleted the entire maven repository on the ./m2 repository to no avail. \r\n\r\n","title":"How to solve Maven error: A required class is missing: org/apache/maven/reporting/AbstractMavenReport","body":"<p>I am trying to create a maven report in Eclipse using a Mojo. I only have only 2 files for the project, and I followed the directions pretty closely for building a Maven Report; however, I keep getting the issue my class that should be injected is not being injected.</p>\n<p>Upon looking further, it keeps saying that AbstractMavenReport cannnot be found.</p>\n<p>Here is the error message:</p>\n<pre><code>[WARNING] Error injecting: com.simplemavenreport.maven.SimpleMavenReport\njava.lang.TypeNotPresentException: Type com.simplemavenreport.maven.SimpleMavenReport not present\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:147)\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: java.lang.NoClassDefFoundError: org/apache/maven/reporting/AbstractMavenReport\n    at java.lang.ClassLoader.defineClass1 (Native Method)\n    at java.lang.ClassLoader.defineClass (ClassLoader.java:1012)\n    at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:150)\n    at java.net.URLClassLoader.defineClass (URLClassLoader.java:524)\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:427)\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:421)\n    at java.security.AccessController.doPrivileged (AccessController.java:712)\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:420)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.findClassInternal (ClassRealm.java:313)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf (ClassRealm.java:432)\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:42)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:139)\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: java.lang.ClassNotFoundException: org.apache.maven.reporting.AbstractMavenReport\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\n    at java.lang.ClassLoader.defineClass1 (Native Method)\n    at java.lang.ClassLoader.defineClass (ClassLoader.java:1012)\n    at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:150)\n    at java.net.URLClassLoader.defineClass (URLClassLoader.java:524)\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:427)\n    at java.net.URLClassLoader$1.run (URLClassLoader.java:421)\n    at java.security.AccessController.doPrivileged (AccessController.java:712)\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:420)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.findClassInternal (ClassRealm.java:313)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf (ClassRealm.java:432)\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass (SelfFirstStrategy.java:42)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass (ClassRealm.java:271)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:247)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass (ClassRealm.java:239)\n    at org.eclipse.sisu.space.URLClassSpace.loadClass (URLClassSpace.java:139)\n    at org.eclipse.sisu.space.NamedClass.load (NamedClass.java:46)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:86)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:67)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:109)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:124)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:62)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1101)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:491)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:114)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n</code></pre>\n<p>Here is my pom.xml file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mavenreport&lt;/groupId&gt;\n  &lt;artifactId&gt;simplemavenreport&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n   \n  &lt;name&gt;simplemavenreport&lt;/name&gt;\n  &lt;description&gt;3rd Time&lt;/description&gt;\n  \n  &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;doxiaVersion&gt;2.0.0-M7&lt;/doxiaVersion&gt;\n        &lt;doxiaSitetoolsVersion&gt;2.0.0-M11&lt;/doxiaSitetoolsVersion&gt;\n    &lt;/properties&gt;\n \n    &lt;dependencies&gt;\n        &lt;!-- Doxia API and Doxia Sitetools --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.doxia&lt;/groupId&gt;\n            &lt;artifactId&gt;doxia-sink-api&lt;/artifactId&gt;\n            &lt;version&gt;${doxiaVersion}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.doxia&lt;/groupId&gt;\n            &lt;artifactId&gt;doxia-site-renderer&lt;/artifactId&gt;\n            &lt;version&gt;${doxiaSitetoolsVersion}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n \n        &lt;!-- reporting API --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.reporting&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-reporting-impl&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-M9&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.reporting&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-reporting-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-M7&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n \n        &lt;!-- plugin API and plugin-tools --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n            &lt;version&gt;3.2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shared-utils&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.11.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.9.0&lt;/version&gt;\n              &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n \n \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-verbose&lt;/arg&gt;\n                        &lt;arg&gt;-Xlint:all,-options,-path&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;    \n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.9.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;goalPrefix&gt;simplereport&lt;/goalPrefix&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-descriptor&lt;/id&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generated-helpmojo&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;helpmojo&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n  \n&lt;/project&gt;\n</code></pre>\n<p>here is the only java file that I have in the program</p>\n<pre><code>package com.simplemavenreport.maven;\n\n\nimport java.util.Locale;\n \nimport org.apache.maven.doxia.sink.Sink;\nimport org.apache.maven.plugins.annotations.LifecyclePhase;\nimport org.apache.maven.plugins.annotations.Mojo;\nimport org.apache.maven.plugins.annotations.Parameter;\nimport org.apache.maven.plugins.annotations.ResolutionScope;\nimport org.apache.maven.project.MavenProject;\nimport org.apache.maven.reporting.AbstractMavenReport;\nimport org.apache.maven.reporting.MavenReportException;\n \n/**\n * Builds an simple report page as an example.\n *\n * &lt;p&gt;\n * This example show how easy it is to build your own reporting plugin\n * (or, for that matter, your own reporting Mojo)\n *\n */\n@Mojo(\n       name = &quot;simple&quot;,\n       defaultPhase = LifecyclePhase.SITE,\n       requiresDependencyResolution = ResolutionScope.RUNTIME,\n       requiresProject = true,\n       threadSafe = true\n     )\npublic class SimpleMavenReport extends AbstractMavenReport {\n \n    public String getOutputName() {\n        // This report will generate simple-report.html when invoked in a project with `mvn site`\n        return &quot;simple-report&quot;;\n    }\n \n    public String getName(Locale locale) {\n        // Name of the report when listed in the project-reports.html page of a project\n        return &quot;Simple Report&quot;;\n    }\n \n    public String getDescription(Locale locale) {\n        // Description of the report when listed in the project-reports.html page of a project\n        return &quot;This simple report is a very simple report that does nothing but &quot;\n        + &quot;shows off Maven's wonderful reporting capabilities.&quot;;\n    }\n \n    /**\n     * Practical reference to the Maven project\n     */\n    @Parameter( defaultValue = &quot;${project}&quot;, readonly = true, required = true )\n    private MavenProject project;\n \n    @Override\n    protected void executeReport(Locale locale) throws MavenReportException {\n \n        // Get the logger\n \n        // Get the Maven Doxia Sink, which will be used to generate the\n        // various elements of the document\n        Sink mainSink = this.getSink();\n        if (mainSink == null) {\n            throw new MavenReportException(&quot;Could not get the Doxia sink&quot;);\n        }\n \n        // Page title\n        mainSink.head();\n        mainSink.title();\n        mainSink.text(&quot;Simple Report for &quot; + project.getName() + &quot; &quot; + project.getVersion());\n        mainSink.title_();\n        mainSink.head_();\n \n        mainSink.body();\n \n        // Heading 1\n        mainSink.section1();\n        mainSink.sectionTitle1();\n        mainSink.text(&quot;Simple Report for &quot; + project.getName() + &quot; &quot; + project.getVersion());\n        mainSink.sectionTitle1_();\n \n        // Content\n        mainSink.paragraph();\n        mainSink.text(&quot;This page provides simple information, like its location: &quot;);\n        mainSink.text(project.getBasedir().getAbsolutePath());\n        mainSink.paragraph_();\n \n        // Close\n        mainSink.section1_();\n        mainSink.body_();\n \n    }\n \n}\n</code></pre>\n<p>On the command line, I run mvn clean install, which works fine. but when I go to run the goal, I get this error message. I run the goal with the following command:</p>\n<p>mvn com.mavenreport:simplemavenreport:0.0.1-SNAPSHOT:simple</p>\n<p>Any help on this would be much appreciated. Thanks</p>\n<p>I have tried changing the versions, and I have tried changing the dependencies but nothing seems to work. I was expecting a report to be generated, but it was not.</p>\n<p>I also deleted the entire maven repository on the ./m2 repository to no avail.</p>\n"},{"tags":["java","eclipse","xpath","pmd"],"answers":[{"comments":[{"owner":{"account_id":26584397,"reputation":15,"user_id":20208551,"display_name":"G Knucklez"},"score":0,"creation_date":1693474339,"post_id":77000987,"comment_id":135766943,"body_markdown":"Thanks for the answer, tho I realise my question was a bit unprecise.\nStaying with your example, I want to know if you can find elements containing a variable with the value &quot;LMC&quot; without knowing the name of the variable. Also your XPath is correct in this example, but it would also find elements, where user was &quot;G Knucklez&quot; at the time of the method call which then only later becomes declared as &#39;user = &quot;LMC&quot;&#39;.","body":"Thanks for the answer, tho I realise my question was a bit unprecise. Staying with your example, I want to know if you can find elements containing a variable with the value &quot;LMC&quot; without knowing the name of the variable. Also your XPath is correct in this example, but it would also find elements, where user was &quot;G Knucklez&quot; at the time of the method call which then only later becomes declared as &#39;user = &quot;LMC&quot;&#39;."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1693486394,"post_id":77000987,"comment_id":135769447,"body_markdown":"This will find a variable with &quot;LMC&quot; as value regardless of its name `//VariableDeclarator[@Name]/StringLiteral[@ConstValue=&quot;LMC&quot;]`. As for your second question, please add that use case to the question. Also, please consider accepting the answer as it answers your original question.","body":"This will find a variable with &quot;LMC&quot; as value regardless of its name <code>&#47;&#47;VariableDeclarator[@Name]&#47;StringLiteral[@ConstValue=&quot;LMC&quot;]</code>&zwnj;&#8203;. As for your second question, please add that use case to the question. Also, please consider accepting the answer as it answers your original question."},{"owner":{"account_id":26584397,"reputation":15,"user_id":20208551,"display_name":"G Knucklez"},"score":0,"creation_date":1693904937,"post_id":77000987,"comment_id":135817574,"body_markdown":"I don&#39;t think that it answers the original question as it does not only find the occurences where user evaluates to &quot;LMC&quot; during method call. The variable can evaluate to anything and it would still be found by your code, as long as user was declared &quot;LMC&quot; at some point in the same Block.\nFor example `user = &quot;LMC&quot; ; user = &quot;Daniel&quot; ; detectMe(user) ;` would be found, even tho user does not evaluate to &quot;LMC&quot; any more.","body":"I don&#39;t think that it answers the original question as it does not only find the occurences where user evaluates to &quot;LMC&quot; during method call. The variable can evaluate to anything and it would still be found by your code, as long as user was declared &quot;LMC&quot; at some point in the same Block. For example <code>user = &quot;LMC&quot; ; user = &quot;Daniel&quot; ; detectMe(user) ;</code> would be found, even tho user does not evaluate to &quot;LMC&quot; any more."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1693925388,"post_id":77000987,"comment_id":135822095,"body_markdown":"@GKnucklez answer was updated","body":"@GKnucklez answer was updated"}],"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693925328,"creation_date":1693318321,"answer_id":77000987,"question_id":76998937,"body_markdown":"Both `MethodCall` and `VariableDeclarator` are descendants of the same `Block` element. That can be used to match the criteria\r\n\r\n`//Block[//AssignmentExpression[last()][VariableAccess[@AccessType=&quot;WRITE&quot; and @Name=&quot;user&quot;]]/StringLiteral[@ConstValue=&quot;LMC&quot;] or //VariableDeclarator[@Name=&quot;user&quot;]/StringLiteral[@ConstValue=&quot;LMC&quot;]]//MethodCall[@MethodName = &quot;detectMe&quot;]/ArgumentList/VariableAccess[@Name = &quot;user&quot;]`\r\n\r\nThis expresion finds `Block` elements containing a variable `user = &quot;LMC&quot;` either only declared or last assigned.\r\n\r\n`//Block[//AssignmentExpression[last()][VariableAccess[@AccessType=&quot;WRITE&quot; and @Name=&quot;user&quot;]]/StringLiteral[@ConstValue=&quot;LMC&quot;] or //VariableDeclarator[@Name=&quot;user&quot;]/StringLiteral[@ConstValue=&quot;LMC&quot;]]`\r\n\r\nWill match something like\r\n\r\n    public void useIt(){\r\n        String user = &quot;LMC&quot;;\r\n        String result = detectMe(user);\r\n    }\r\n    public void useIt(2){\r\n        String user = &quot;Daniel&quot;;\r\n        \r\n        user = &quot;osoo&quot;;\r\n        user = &quot;LMC&quot;;\r\n        String result = detectMe(user);\r\n    }\r\n\r\nAs a general method, a test class with the relevant use case can be written and dumped with `pmd` for later XML analysis\r\n\r\n`pmd ast-dump --format xml --language java --file PMDSource.java &gt; PMDSource.java.xml` \r\n\r\nthen use any XPath aware tool to test the expression\r\n\r\n     xmllint --xpath &#39;//Block[//AssignmentExpression[last()][VariableAccess[@AccessType=&quot;WRITE&quot; and @Name=&quot;user&quot;]]/StringLiteral[@ConstValue=&quot;LMC&quot;] or //VariableDeclarator[@Name=&quot;user&quot;]/StringLiteral[@ConstValue=&quot;LMC&quot;]]//MethodCall[@MethodName = &quot;detectMe&quot;]/ArgumentList/VariableAccess[@Name = &quot;user&quot;]&#39; PMDSource.java.xml \r\n\r\nResult\r\n\r\n    &lt;VariableAccess AccessType=&quot;READ&quot; CompileTimeConstant=&quot;false&quot; Expression=&quot;true&quot; Image=&quot;user&quot; Name=&quot;user&quot; ParenthesisDepth=&quot;0&quot; Parenthesized=&quot;false&quot;/&gt;\r\n    &lt;VariableAccess AccessType=&quot;READ&quot; CompileTimeConstant=&quot;false&quot; Expression=&quot;true&quot; Image=&quot;user&quot; Name=&quot;user&quot; ParenthesisDepth=&quot;0&quot; Parenthesized=&quot;false&quot;/&gt;\r\n\r\n","title":"Using XPath for PMD, is there a way to account for the value of a variable in a method call?","body":"<p>Both <code>MethodCall</code> and <code>VariableDeclarator</code> are descendants of the same <code>Block</code> element. That can be used to match the criteria</p>\n<p><code>//Block[//AssignmentExpression[last()][VariableAccess[@AccessType=&quot;WRITE&quot; and @Name=&quot;user&quot;]]/StringLiteral[@ConstValue=&quot;LMC&quot;] or //VariableDeclarator[@Name=&quot;user&quot;]/StringLiteral[@ConstValue=&quot;LMC&quot;]]//MethodCall[@MethodName = &quot;detectMe&quot;]/ArgumentList/VariableAccess[@Name = &quot;user&quot;]</code></p>\n<p>This expresion finds <code>Block</code> elements containing a variable <code>user = &quot;LMC&quot;</code> either only declared or last assigned.</p>\n<p><code>//Block[//AssignmentExpression[last()][VariableAccess[@AccessType=&quot;WRITE&quot; and @Name=&quot;user&quot;]]/StringLiteral[@ConstValue=&quot;LMC&quot;] or //VariableDeclarator[@Name=&quot;user&quot;]/StringLiteral[@ConstValue=&quot;LMC&quot;]]</code></p>\n<p>Will match something like</p>\n<pre><code>public void useIt(){\n    String user = &quot;LMC&quot;;\n    String result = detectMe(user);\n}\npublic void useIt(2){\n    String user = &quot;Daniel&quot;;\n    \n    user = &quot;osoo&quot;;\n    user = &quot;LMC&quot;;\n    String result = detectMe(user);\n}\n</code></pre>\n<p>As a general method, a test class with the relevant use case can be written and dumped with <code>pmd</code> for later XML analysis</p>\n<p><code>pmd ast-dump --format xml --language java --file PMDSource.java &gt; PMDSource.java.xml</code></p>\n<p>then use any XPath aware tool to test the expression</p>\n<pre><code> xmllint --xpath '//Block[//AssignmentExpression[last()][VariableAccess[@AccessType=&quot;WRITE&quot; and @Name=&quot;user&quot;]]/StringLiteral[@ConstValue=&quot;LMC&quot;] or //VariableDeclarator[@Name=&quot;user&quot;]/StringLiteral[@ConstValue=&quot;LMC&quot;]]//MethodCall[@MethodName = &quot;detectMe&quot;]/ArgumentList/VariableAccess[@Name = &quot;user&quot;]' PMDSource.java.xml \n</code></pre>\n<p>Result</p>\n<pre><code>&lt;VariableAccess AccessType=&quot;READ&quot; CompileTimeConstant=&quot;false&quot; Expression=&quot;true&quot; Image=&quot;user&quot; Name=&quot;user&quot; ParenthesisDepth=&quot;0&quot; Parenthesized=&quot;false&quot;/&gt;\n&lt;VariableAccess AccessType=&quot;READ&quot; CompileTimeConstant=&quot;false&quot; Expression=&quot;true&quot; Image=&quot;user&quot; Name=&quot;user&quot; ParenthesisDepth=&quot;0&quot; Parenthesized=&quot;false&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":26584397,"reputation":15,"user_id":20208551,"display_name":"G Knucklez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77000987,"answer_count":1,"score":1,"last_activity_date":1693925328,"creation_date":1693301165,"question_id":76998937,"body_markdown":"For example:\r\n```\r\nString user = &quot;Daniel&quot;;\r\nString result = doSomething(user);\r\n```\r\n\r\n\r\n\r\nI know I can find every occurence of `doSomething(user)` with `//MethodCall[@MethodName = &quot;doSomething&quot;]/ArgumentList/VariableAccess[@Name = &quot;user&quot;]`. Is it possible to only find those occurences, where `user` evaluates to &quot;Daniel&quot; at the time the method is called?","title":"Using XPath for PMD, is there a way to account for the value of a variable in a method call?","body":"<p>For example:</p>\n<pre><code>String user = &quot;Daniel&quot;;\nString result = doSomething(user);\n</code></pre>\n<p>I know I can find every occurence of <code>doSomething(user)</code> with <code>//MethodCall[@MethodName = &quot;doSomething&quot;]/ArgumentList/VariableAccess[@Name = &quot;user&quot;]</code>. Is it possible to only find those occurences, where <code>user</code> evaluates to &quot;Daniel&quot; at the time the method is called?</p>\n"},{"tags":["java","micronaut","http-status-code-413"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1619475050,"post_id":67274400,"comment_id":118912730,"body_markdown":"Maybe related to [What is the maximum length of a URL in different browsers?](https://stackoverflow.com/questions/417142/what-is-the-maximum-length-of-a-url-in-different-browsers)","body":"Maybe related to <a href=\"https://stackoverflow.com/questions/417142/what-is-the-maximum-length-of-a-url-in-different-browsers\">What is the maximum length of a URL in different browsers?</a>"},{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":0,"creation_date":1619475053,"post_id":67274400,"comment_id":118912734,"body_markdown":"Where are you sending the request _to_? While the standard doesn&#39;t stipulate a maximum length for a URL, a server may refuse to process a URL with too many query params and return a 413 deliberately. The fact that you&#39;re getting 413 (Request Entity Too Large) and not 414 (Request URI Too Large) suggests that it&#39;s a server-side thing.","body":"Where are you sending the request <i>to</i>? While the standard doesn&#39;t stipulate a maximum length for a URL, a server may refuse to process a URL with too many query params and return a 413 deliberately. The fact that you&#39;re getting 413 (Request Entity Too Large) and not 414 (Request URI Too Large) suggests that it&#39;s a server-side thing."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1619475099,"post_id":67274400,"comment_id":118912748,"body_markdown":"@Turing85 I am not sending the request via a browser. I am sending it via tests written in Java/Micronaut.","body":"@Turing85 I am not sending the request via a browser. I am sending it via tests written in Java/Micronaut."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1619475140,"post_id":67274400,"comment_id":118912769,"body_markdown":"@Faraz yes I know, but server implementations may have limits as well","body":"@Faraz yes I know, but server implementations may have limits as well"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1619475161,"post_id":67274400,"comment_id":118912773,"body_markdown":"@GreenCloakGuy Backend written in Java/Micronaut.","body":"@GreenCloakGuy Backend written in Java/Micronaut."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1619475241,"post_id":67274400,"comment_id":118912792,"body_markdown":"How can I resolve this then? I have already tried `max request size to 200 MB and max file upload size to 200 MB`. And these properties are set because I can read Micronaut&#39;s configurations after app is up.","body":"How can I resolve this then? I have already tried <code>max request size to 200 MB and max file upload size to 200 MB</code>. And these properties are set because I can read Micronaut&#39;s configurations after app is up."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1619475362,"post_id":67274400,"comment_id":118912820,"body_markdown":"@Turing85 and even when I take into consideration the URL that you posted, when I send in 39 strings where each string is still 100 chars long, the request pass without problems. So if we do the match, that&#39;s already 3900 chars without even counting the context path etc.","body":"@Turing85 and even when I take into consideration the URL that you posted, when I send in 39 strings where each string is still 100 chars long, the request pass without problems. So if we do the match, that&#39;s already 3900 chars without even counting the context path etc."},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1619475413,"post_id":67274400,"comment_id":118912830,"body_markdown":"When I am honest, 39*100 chars query strings sounds like a bad design choice in any way :/","body":"When I am honest, 39*100 chars query strings sounds like a bad design choice in any way :/"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1619475462,"post_id":67274400,"comment_id":118912849,"body_markdown":"@maio290 yes but this is just a test process","body":"@maio290 yes but this is just a test process"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1619475530,"post_id":67274400,"comment_id":118912863,"body_markdown":"@maio290 and even if I send them in a body, wouldn&#39;t I still get the same error?  I will change the design. First I need to figure out how to get rid of this error.","body":"@maio290 and even if I send them in a body, wouldn&#39;t I still get the same error?  I will change the design. First I need to figure out how to get rid of this error."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1619475557,"post_id":67274400,"comment_id":118912874,"body_markdown":"@Faraz If you can pin point the problem that exactly, then I would guess that this is a limitation of micronaut. Possible resolutions that come to my mind: a) dig in the micronaut code, see where things go wrong, fix it - b) open a ticket against micronaut - c) don&#39;t use that many query parameters","body":"@Faraz If you can pin point the problem that exactly, then I would guess that this is a limitation of micronaut. Possible resolutions that come to my mind: a) dig in the micronaut code, see where things go wrong, fix it - b) open a ticket against micronaut - c) don&#39;t use that many query parameters"}],"answers":[{"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693925280,"creation_date":1619477565,"answer_id":67274741,"question_id":67274400,"body_markdown":"`micronaut.server.netty.max-initial-line-length` is the answer. If somebody stumbles upon it...","title":"Why am I getting Request Entity Too Large WITHOUT file?","body":"<p><code>micronaut.server.netty.max-initial-line-length</code> is the answer. If somebody stumbles upon it...</p>\n"}],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67274741,"answer_count":1,"score":1,"last_activity_date":1693925280,"creation_date":1619474940,"question_id":67274400,"body_markdown":"I am making a GET request and I am appending 40 strings to a query parameter. And each string is 100 chars long. \r\n\r\nWhy would I be Request Entity Too Large error even though there is no file involved? Also, if I understood the limitations of a query params correctly, then there is no limit to it unless browser has placed a limitation. And I am making a request without a browser anyway (via Tests).\r\n\r\nI have tried max request size to 200 MB and max file upload size to 200 MB. I am sure file has nothing to do with it, but just to test it I put that limit for a file upload.\r\n\r\nWhen I send in 39 strings where each string is still 100 chars long, the request pass without problems.\r\nWhat else I can do?","title":"Why am I getting Request Entity Too Large WITHOUT file?","body":"<p>I am making a GET request and I am appending 40 strings to a query parameter. And each string is 100 chars long.</p>\n<p>Why would I be Request Entity Too Large error even though there is no file involved? Also, if I understood the limitations of a query params correctly, then there is no limit to it unless browser has placed a limitation. And I am making a request without a browser anyway (via Tests).</p>\n<p>I have tried max request size to 200 MB and max file upload size to 200 MB. I am sure file has nothing to do with it, but just to test it I put that limit for a file upload.</p>\n<p>When I send in 39 strings where each string is still 100 chars long, the request pass without problems.\nWhat else I can do?</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1693926543,"post_id":77044450,"comment_id":135822362,"body_markdown":"i don&#39;t see any options in the swagger ui configuration to alter the html page title.","body":"i don&#39;t see any options in the swagger ui configuration to alter the html page title."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1693926710,"post_id":77044450,"comment_id":135822406,"body_markdown":"There are some suggestions in the comments here to change the title using custom css https://github.com/springfox/springfox/issues/2304","body":"There are some suggestions in the comments here to change the title using custom css <a href=\"https://github.com/springfox/springfox/issues/2304\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/2304</a>"}],"owner":{"account_id":46963,"reputation":1007,"user_id":138969,"display_name":"Ajay Gautam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693924848,"creation_date":1693916308,"question_id":77044450,"body_markdown":"Is it possible to change the tab name for Swagger UI:\r\n\r\n[![Swagger UI eample][1]][1]\r\n\r\nI am using Java 17, Spring Boot 3.1.2, `springdoc-openapi-starter-webmvc-ui` 2.2.0.\r\n\r\nUsing the following, but the title does _not_ show up as tab name:\r\n\r\n```java\r\n@OpenAPIDefinition(info = @Info(title = &quot;...&quot;, version = &quot;1.0&quot;, description = &quot;...&quot;)})\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LGWmH.png","title":"Change tab name of Swagger UI","body":"<p>Is it possible to change the tab name for Swagger UI:</p>\n<p><a href=\"https://i.stack.imgur.com/LGWmH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LGWmH.png\" alt=\"Swagger UI eample\" /></a></p>\n<p>I am using Java 17, Spring Boot 3.1.2, <code>springdoc-openapi-starter-webmvc-ui</code> 2.2.0.</p>\n<p>Using the following, but the title does <em>not</em> show up as tab name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OpenAPIDefinition(info = @Info(title = &quot;...&quot;, version = &quot;1.0&quot;, description = &quot;...&quot;)})\n</code></pre>\n"},{"tags":["java","join","apache-spark","option-type"],"comments":[{"owner":{"account_id":398994,"reputation":37180,"user_id":764040,"accept_rate":89,"display_name":"maasg"},"score":0,"creation_date":1423136502,"post_id":28338694,"comment_id":45030459,"body_markdown":"Why not use Scala instead?","body":"Why not use Scala instead?"},{"owner":{"account_id":5020925,"reputation":231,"user_id":4034435,"accept_rate":50,"display_name":"Shekar Patel"},"score":0,"creation_date":1423231793,"post_id":28338694,"comment_id":45076111,"body_markdown":"Hi @maasg, i am basically a java developer.. I really don&#39;t know Scala.. But I think Apache Spark is most suitable for Scala programming then Java.","body":"Hi @maasg, i am basically a java developer.. I really don&#39;t know Scala.. But I think Apache Spark is most suitable for Scala programming then Java."},{"owner":{"account_id":2151498,"reputation":8599,"user_id":1907755,"accept_rate":73,"display_name":"Shankar"},"score":0,"creation_date":1435907434,"post_id":28338694,"comment_id":50404424,"body_markdown":"@ShekarPatel can you please update your code with how did you removed that Optional .. that will be helpful for others.","body":"@ShekarPatel can you please update your code with how did you removed that Optional .. that will be helpful for others."}],"answers":[{"comments":[{"owner":{"account_id":2151498,"reputation":8599,"user_id":1907755,"accept_rate":73,"display_name":"Shankar"},"score":0,"creation_date":1435910237,"post_id":28349112,"comment_id":50405964,"body_markdown":"@sms_1190 how to map that result to our own format? i am also facing the same problem.","body":"@sms_1190 how to map that result to our own format? i am also facing the same problem."},{"owner":{"account_id":2998528,"reputation":1269,"user_id":2544521,"accept_rate":33,"display_name":"sms_1190"},"score":0,"creation_date":1435956997,"post_id":28349112,"comment_id":50429404,"body_markdown":"@Shankar : I added the example in the above answer. mappedRDD is your own format.","body":"@Shankar : I added the example in the above answer. mappedRDD is your own format."}],"tags":[],"owner":{"account_id":2998528,"reputation":1269,"user_id":2544521,"accept_rate":33,"display_name":"sms_1190"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1509723766,"creation_date":1423153749,"answer_id":28349112,"question_id":28338694,"body_markdown":"When you do left outer join and right outer join, you might have null values. right!\r\n\r\nSo spark returns Optional object. after getting that result, you can map that result to your own format. \r\n\r\nyour can use isPresent() method of Optional to map your data.\r\n\r\nHere is the example : \r\n\r\n     JavaPairRDD&lt;String,String&gt; firstRDD = ....\r\n     JavaPairRDD&lt;String,String&gt; secondRDD =....\r\n     // join both rdd using left outerjoin\r\n     JavaPairRDD&lt;String, Tuple2&lt;String, Optional&lt;Boolean&gt;&gt;&gt; rddWithJoin = firstRDD.leftOuterJoin(secondRDD);\r\n\r\n\r\n    // mapping of join result\r\n\tJavaPairRDD&lt;String, String&gt; mappedRDD = rddWithJoin\r\n\t\t\t\t.mapToPair(tuple -&gt; {\r\n\t\t\t\t\tif (tuple._2()._2().isPresent()) {\r\n\t\t\t\t\t\t//do your operation and return\r\n\t\t\t\t\t\treturn new Tuple2&lt;String, String&gt;(tuple._1(), tuple._2()._1());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn new Tuple2&lt;String, String&gt;(tuple._1(), &quot;not present&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n","title":"Apache Spark Joins example with Java","body":"<p>When you do left outer join and right outer join, you might have null values. right!</p>\n\n<p>So spark returns Optional object. after getting that result, you can map that result to your own format. </p>\n\n<p>your can use isPresent() method of Optional to map your data.</p>\n\n<p>Here is the example : </p>\n\n<pre><code> JavaPairRDD&lt;String,String&gt; firstRDD = ....\n JavaPairRDD&lt;String,String&gt; secondRDD =....\n // join both rdd using left outerjoin\n JavaPairRDD&lt;String, Tuple2&lt;String, Optional&lt;Boolean&gt;&gt;&gt; rddWithJoin = firstRDD.leftOuterJoin(secondRDD);\n\n\n// mapping of join result\nJavaPairRDD&lt;String, String&gt; mappedRDD = rddWithJoin\n            .mapToPair(tuple -&gt; {\n                if (tuple._2()._2().isPresent()) {\n                    //do your operation and return\n                    return new Tuple2&lt;String, String&gt;(tuple._1(), tuple._2()._1());\n                } else {\n                    return new Tuple2&lt;String, String&gt;(tuple._1(), \"not present\");\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9208247,"reputation":171,"user_id":6842622,"display_name":"RPaul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536251095,"creation_date":1536251095,"answer_id":52208486,"question_id":28338694,"body_markdown":"In Java, we can also implement JOINs using DataFrames as follows:\r\n\r\n1) create spark session as:\r\n\r\n    SparkSession spark = SparkSession.builder().appName(&quot;JoinsInSpark&quot;).master(&quot;local&quot;).getOrCreate();\r\n\r\n2) I&#39;ve taken the Employee input as:\r\n\r\n101,Alan,Franklyn Street,Melbourne,QLD\r\n\r\n104,Stuart,Lonsdale Street,Sydney,NSW\r\n\r\n\r\ncreate DataFrame as:\r\n\r\n    Dataset&lt;Employee&gt; e_data = spark\r\n\t\t\t\t\t\t\t.read()\r\n\t\t\t\t\t\t\t.textFile(&quot;C:/XX/XX/test.txt&quot;)\r\n\t\t\t\t\t\t\t.map(line -&gt; {\r\n\t\t\t\t\t\t\t\tEmployee e = new Employee();\r\n\t\t\t\t\t\t\t\tString[] parts = line.split(&quot;,&quot;);\r\n\t\t\t\t\t\t\t\te.setE_id(Integer.valueOf(parts[0].trim()));\r\n\t\t\t\t\t\t\t\te.setE_name(parts[1].trim());\r\n\t\t\t\t\t\t\t\te.setAddress(parts[2].trim());\r\n\t\t\t\t\t\t\t\te.setCity(parts[3].trim());\r\n\t\t\t\t\t\t\t\te.setState(parts[4].trim());\r\n\t\t\t\t\t\t\t\treturn e;\r\n\t\t\t\t\t\t\t}, Encoders.bean(Employee.class));\r\n\r\nwhere Employee is the POJO class containing setter, getter along with constructor.\r\n\r\n3) similarly create another DF for second table (say salary)\r\n\r\n4) Apply INNER join on distinct elements of both views:\r\n\r\n    Dataset&lt;Row&gt; d1 = e_data.distinct().join(s_data.distinct(), &quot;e_id&quot;).orderBy(&quot;salary&quot;);\r\n\r\n    d1.show();\r\n\r\n5) similary, left outer join as:\r\n\r\n    spark.sql(&quot;select * from global_temp.employee e LEFT OUTER JOIN global_temp.salary s on e.e_id = s.e_id&quot;).show();\r\n","title":"Apache Spark Joins example with Java","body":"<p>In Java, we can also implement JOINs using DataFrames as follows:</p>\n\n<p>1) create spark session as:</p>\n\n<pre><code>SparkSession spark = SparkSession.builder().appName(\"JoinsInSpark\").master(\"local\").getOrCreate();\n</code></pre>\n\n<p>2) I've taken the Employee input as:</p>\n\n<p>101,Alan,Franklyn Street,Melbourne,QLD</p>\n\n<p>104,Stuart,Lonsdale Street,Sydney,NSW</p>\n\n<p>create DataFrame as:</p>\n\n<pre><code>Dataset&lt;Employee&gt; e_data = spark\n                        .read()\n                        .textFile(\"C:/XX/XX/test.txt\")\n                        .map(line -&gt; {\n                            Employee e = new Employee();\n                            String[] parts = line.split(\",\");\n                            e.setE_id(Integer.valueOf(parts[0].trim()));\n                            e.setE_name(parts[1].trim());\n                            e.setAddress(parts[2].trim());\n                            e.setCity(parts[3].trim());\n                            e.setState(parts[4].trim());\n                            return e;\n                        }, Encoders.bean(Employee.class));\n</code></pre>\n\n<p>where Employee is the POJO class containing setter, getter along with constructor.</p>\n\n<p>3) similarly create another DF for second table (say salary)</p>\n\n<p>4) Apply INNER join on distinct elements of both views:</p>\n\n<pre><code>Dataset&lt;Row&gt; d1 = e_data.distinct().join(s_data.distinct(), \"e_id\").orderBy(\"salary\");\n\nd1.show();\n</code></pre>\n\n<p>5) similary, left outer join as:</p>\n\n<pre><code>spark.sql(\"select * from global_temp.employee e LEFT OUTER JOIN global_temp.salary s on e.e_id = s.e_id\").show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693924160,"creation_date":1693924160,"answer_id":77045407,"question_id":28338694,"body_markdown":"     Lis&lt;Person&gt; personList = List.of(Person.builder()\r\n                    .name(&quot;Tohid&quot;)\r\n    \t\t\t\t.id(1)\r\n                    .build());\r\n    \t\t\t\t\r\n      Lis&lt;Employee&gt; employeeList = List.of(Employee.builder()\r\n                    .surname(&quot;Tohid&quot;)\r\n    \t\t\t\t.id(1)\r\n                    .build());\t\t\t\t\t\r\n      Dataset&lt;Person&gt; firstDataset = spark.createDataset(personList, Encoders.bean(Person.class));\r\n      Dataset&lt;Employee&gt; secondDataset = spark.createDataset(employeeList, Encoders.bean(Employee.class));\r\n    \r\n      Dataset&lt;Row&gt; backlog = firstDataset.join(secondDataset, &quot;id&quot;);","title":"Apache Spark Joins example with Java","body":"<pre><code> Lis&lt;Person&gt; personList = List.of(Person.builder()\n                .name(&quot;Tohid&quot;)\n                .id(1)\n                .build());\n                \n  Lis&lt;Employee&gt; employeeList = List.of(Employee.builder()\n                .surname(&quot;Tohid&quot;)\n                .id(1)\n                .build());                  \n  Dataset&lt;Person&gt; firstDataset = spark.createDataset(personList, Encoders.bean(Person.class));\n  Dataset&lt;Employee&gt; secondDataset = spark.createDataset(employeeList, Encoders.bean(Employee.class));\n\n  Dataset&lt;Row&gt; backlog = firstDataset.join(secondDataset, &quot;id&quot;);\n</code></pre>\n"}],"owner":{"account_id":5020925,"reputation":231,"user_id":4034435,"accept_rate":50,"display_name":"Shekar Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26523,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":28349112,"answer_count":3,"score":15,"last_activity_date":1693924160,"creation_date":1423122436,"question_id":28338694,"body_markdown":"I am very new to Apache Spark. I would actually like to focus on basic Spark API specification and want to understand and write some programs using Spark API.\r\nI have written a java program using Apache Spark to implement Joins concept.\r\n\r\n**When I use Left Outer Join -- leftOuterJoin() or Right Outer Join -- rightOuterJoin(), both two methods are returning a JavaPairRDD which contains a special type Google Options. But I do not know how to extract the original values from Optional type.**\r\n\r\n**Anyways I would like to know can I use same join methods which return the data in my own format. I did not find any way to do that. Meaning is when I am using Apache Spark, I am not able to customize the code in my own style since they already have given all pre-defined things.**\r\n\r\nPlease find the code below\r\n\r\n    my 2 sample input datasets\r\n    \r\n    customers_data.txt:\r\n    4000001,Kristina,Chung,55,Pilot\r\n    4000002,Paige,Chen,74,Teacher\r\n    4000003,Sherri,Melton,34,Firefighter\r\n    \r\n    and\r\n    \r\n    trasaction_data.txt\r\n    00000551,12-30-2011,4000001,092.88,Games,Dice &amp; Dice Sets,Buffalo,New York,credit\r\n    00004811,11-10-2011,4000001,180.35,Outdoor Play Equipment,Water Tables,Brownsville,Texas,credit\r\n    00034388,09-11-2011,4000002,020.55,Team Sports,Beach Volleyball,Orange,California,cash\r\n    00008996,11-21-2011,4000003,121.04,Outdoor Recreation,Fishing,Colorado Springs,Colorado,credit\r\n    00009167,05-24-2011,4000003,194.94,Exercise &amp; Fitness,Foam Rollers,El Paso,Texas,credit\r\n\r\n\r\nHere is my Java code\r\n\r\n\r\n    **SparkJoins.java:**\r\n    \r\n    public class SparkJoins {\r\n    \r\n    \t@SuppressWarnings(&quot;serial&quot;)\r\n    \tpublic static void main(String[] args) throws FileNotFoundException {\r\n    \t\tJavaSparkContext sc = new JavaSparkContext(new SparkConf().setAppName(&quot;Spark Count&quot;).setMaster(&quot;local&quot;));\r\n    \t\tJavaRDD&lt;String&gt; customerInputFile = sc.textFile(&quot;C:/path/customers_data.txt&quot;);\r\n    \t\tJavaPairRDD&lt;String, String&gt; customerPairs = customerInputFile.mapToPair(new PairFunction&lt;String, String, String&gt;() {\r\n    \t\t\tpublic Tuple2&lt;String, String&gt; call(String s) {\r\n    \t\t\t\tString[] customerSplit = s.split(&quot;,&quot;);\r\n    \t\t\t\treturn new Tuple2&lt;String, String&gt;(customerSplit[0], customerSplit[1]);\r\n    \t\t\t}\r\n    \t\t}).distinct();\r\n        \r\n    \t\tJavaRDD&lt;String&gt; transactionInputFile = sc.textFile(&quot;C:/path/transactions_data.txt&quot;);\r\n    \t\tJavaPairRDD&lt;String, String&gt; transactionPairs = transactionInputFile.mapToPair(new PairFunction&lt;String, String, String&gt;() {\r\n    \t\t\tpublic Tuple2&lt;String, String&gt; call(String s) {\r\n    \t\t\t\tString[] transactionSplit = s.split(&quot;,&quot;);\r\n    \t\t\t\treturn new Tuple2&lt;String, String&gt;(transactionSplit[2], transactionSplit[3]+&quot;,&quot;+transactionSplit[1]);\r\n    \t\t\t}\r\n    \t\t});\r\n        \r\n    \t\t//Default Join operation (Inner join)\r\n    \t\tJavaPairRDD&lt;String, Tuple2&lt;String, String&gt;&gt; joinsOutput = customerPairs.join(transactionPairs);\r\n    \t\tSystem.out.println(&quot;Joins function Output: &quot;+joinsOutput.collect());\r\n        \r\n    \t\t//Left Outer join operation\r\n    \t\tJavaPairRDD&lt;String, Iterable&lt;Tuple2&lt;String, Optional&lt;String&gt;&gt;&gt;&gt; leftJoinOutput = customerPairs.leftOuterJoin(transactionPairs).groupByKey().sortByKey();\r\n    \t\tSystem.out.println(&quot;LeftOuterJoins function Output: &quot;+leftJoinOutput.collect());\r\n        \r\n    \t\t//Right Outer join operation\r\n    \t\tJavaPairRDD&lt;String, Iterable&lt;Tuple2&lt;Optional&lt;String&gt;, String&gt;&gt;&gt; rightJoinOutput = customerPairs.rightOuterJoin(transactionPairs).groupByKey().sortByKey();\r\n    \t\tSystem.out.println(&quot;RightOuterJoins function Output: &quot;+rightJoinOutput.collect());\r\n        \r\n    \t\tsc.close();\r\n    \t}\r\n    }\r\n\r\n\r\nAnd here the output which I am getting\r\n\r\n    Joins function Output: [(4000001,(Kristina,092.88,12-30-2011)), (4000001,(Kristina,180.35,11-10-2011)), (4000003,(Sherri,121.04,11-21-2011)), (4000003,(Sherri,194.94,05-24-2011)), (4000002,(Paige,020.55,09-11-2011))]\r\n    \r\n    LeftOuterJoins function Output: [(4000001,[(Kristina,Optional.of(092.88,12-30-2011)), (Kristina,Optional.of(180.35,11-10-2011))]), (4000002,[(Paige,Optional.of(020.55,09-11-2011))]), (4000003,[(Sherri,Optional.of(121.04,11-21-2011)), (Sherri,Optional.of(194.94,05-24-2011))])]\r\n    \r\n    RightOuterJoins function Output: [(4000001,[(Optional.of(Kristina),092.88,12-30-2011), (Optional.of(Kristina),180.35,11-10-2011)]), (4000002,[(Optional.of(Paige),020.55,09-11-2011)]), (4000003,[(Optional.of(Sherri),121.04,11-21-2011), (Optional.of(Sherri),194.94,05-24-2011)])]\r\n\r\n\r\nI am running this program on Windows platform\r\n\r\nPlease observe the above output and help me in extracting the values from Optional type\r\n\r\nThanks in advance\r\n","title":"Apache Spark Joins example with Java","body":"<p>I am very new to Apache Spark. I would actually like to focus on basic Spark API specification and want to understand and write some programs using Spark API.\nI have written a java program using Apache Spark to implement Joins concept.</p>\n\n<p><strong>When I use Left Outer Join -- leftOuterJoin() or Right Outer Join -- rightOuterJoin(), both two methods are returning a JavaPairRDD which contains a special type Google Options. But I do not know how to extract the original values from Optional type.</strong></p>\n\n<p><strong>Anyways I would like to know can I use same join methods which return the data in my own format. I did not find any way to do that. Meaning is when I am using Apache Spark, I am not able to customize the code in my own style since they already have given all pre-defined things.</strong></p>\n\n<p>Please find the code below</p>\n\n<pre><code>my 2 sample input datasets\n\ncustomers_data.txt:\n4000001,Kristina,Chung,55,Pilot\n4000002,Paige,Chen,74,Teacher\n4000003,Sherri,Melton,34,Firefighter\n\nand\n\ntrasaction_data.txt\n00000551,12-30-2011,4000001,092.88,Games,Dice &amp; Dice Sets,Buffalo,New York,credit\n00004811,11-10-2011,4000001,180.35,Outdoor Play Equipment,Water Tables,Brownsville,Texas,credit\n00034388,09-11-2011,4000002,020.55,Team Sports,Beach Volleyball,Orange,California,cash\n00008996,11-21-2011,4000003,121.04,Outdoor Recreation,Fishing,Colorado Springs,Colorado,credit\n00009167,05-24-2011,4000003,194.94,Exercise &amp; Fitness,Foam Rollers,El Paso,Texas,credit\n</code></pre>\n\n<p>Here is my Java code</p>\n\n<pre><code>**SparkJoins.java:**\n\npublic class SparkJoins {\n\n    @SuppressWarnings(\"serial\")\n    public static void main(String[] args) throws FileNotFoundException {\n        JavaSparkContext sc = new JavaSparkContext(new SparkConf().setAppName(\"Spark Count\").setMaster(\"local\"));\n        JavaRDD&lt;String&gt; customerInputFile = sc.textFile(\"C:/path/customers_data.txt\");\n        JavaPairRDD&lt;String, String&gt; customerPairs = customerInputFile.mapToPair(new PairFunction&lt;String, String, String&gt;() {\n            public Tuple2&lt;String, String&gt; call(String s) {\n                String[] customerSplit = s.split(\",\");\n                return new Tuple2&lt;String, String&gt;(customerSplit[0], customerSplit[1]);\n            }\n        }).distinct();\n\n        JavaRDD&lt;String&gt; transactionInputFile = sc.textFile(\"C:/path/transactions_data.txt\");\n        JavaPairRDD&lt;String, String&gt; transactionPairs = transactionInputFile.mapToPair(new PairFunction&lt;String, String, String&gt;() {\n            public Tuple2&lt;String, String&gt; call(String s) {\n                String[] transactionSplit = s.split(\",\");\n                return new Tuple2&lt;String, String&gt;(transactionSplit[2], transactionSplit[3]+\",\"+transactionSplit[1]);\n            }\n        });\n\n        //Default Join operation (Inner join)\n        JavaPairRDD&lt;String, Tuple2&lt;String, String&gt;&gt; joinsOutput = customerPairs.join(transactionPairs);\n        System.out.println(\"Joins function Output: \"+joinsOutput.collect());\n\n        //Left Outer join operation\n        JavaPairRDD&lt;String, Iterable&lt;Tuple2&lt;String, Optional&lt;String&gt;&gt;&gt;&gt; leftJoinOutput = customerPairs.leftOuterJoin(transactionPairs).groupByKey().sortByKey();\n        System.out.println(\"LeftOuterJoins function Output: \"+leftJoinOutput.collect());\n\n        //Right Outer join operation\n        JavaPairRDD&lt;String, Iterable&lt;Tuple2&lt;Optional&lt;String&gt;, String&gt;&gt;&gt; rightJoinOutput = customerPairs.rightOuterJoin(transactionPairs).groupByKey().sortByKey();\n        System.out.println(\"RightOuterJoins function Output: \"+rightJoinOutput.collect());\n\n        sc.close();\n    }\n}\n</code></pre>\n\n<p>And here the output which I am getting</p>\n\n<pre><code>Joins function Output: [(4000001,(Kristina,092.88,12-30-2011)), (4000001,(Kristina,180.35,11-10-2011)), (4000003,(Sherri,121.04,11-21-2011)), (4000003,(Sherri,194.94,05-24-2011)), (4000002,(Paige,020.55,09-11-2011))]\n\nLeftOuterJoins function Output: [(4000001,[(Kristina,Optional.of(092.88,12-30-2011)), (Kristina,Optional.of(180.35,11-10-2011))]), (4000002,[(Paige,Optional.of(020.55,09-11-2011))]), (4000003,[(Sherri,Optional.of(121.04,11-21-2011)), (Sherri,Optional.of(194.94,05-24-2011))])]\n\nRightOuterJoins function Output: [(4000001,[(Optional.of(Kristina),092.88,12-30-2011), (Optional.of(Kristina),180.35,11-10-2011)]), (4000002,[(Optional.of(Paige),020.55,09-11-2011)]), (4000003,[(Optional.of(Sherri),121.04,11-21-2011), (Optional.of(Sherri),194.94,05-24-2011)])]\n</code></pre>\n\n<p>I am running this program on Windows platform</p>\n\n<p>Please observe the above output and help me in extracting the values from Optional type</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","string","unit-testing","junit","assertj"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1693918132,"post_id":77044608,"comment_id":135820305,"body_markdown":"If you only care about data, why are you treating JSON as text in the first place?","body":"If you only care about data, why are you treating JSON as text in the first place?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1693918339,"post_id":77044608,"comment_id":135820353,"body_markdown":"Compare resulting objects, not the JSON string. Different JSON strings can produce the same object, ignoring whitespace. It&#39;s too brittle..","body":"Compare resulting objects, not the JSON string. Different JSON strings can produce the same object, ignoring whitespace. It&#39;s too brittle.."},{"owner":{"account_id":924003,"reputation":549,"user_id":965852,"display_name":"jonas"},"score":0,"creation_date":1693922432,"post_id":77044608,"comment_id":135821368,"body_markdown":"Allthoug the question is closed, there are many hints on how to achieve this: https://stackoverflow.com/questions/2253750/testing-two-json-objects-for-equality-ignoring-child-order-in-java","body":"Allthoug the question is closed, there are many hints on how to achieve this: <a href=\"https://stackoverflow.com/questions/2253750/testing-two-json-objects-for-equality-ignoring-child-order-in-java\" title=\"testing two json objects for equality ignoring child order in java\">stackoverflow.com/questions/2253750/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13349389,"reputation":11,"user_id":9635052,"display_name":"Trung Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693922456,"creation_date":1693922456,"answer_id":77045189,"question_id":77044608,"body_markdown":"I can only offer workaround by using JSONAssert to achieve comparison that ignores whitespaces and newlines for unit test.\r\n\r\n    import org.skyscreamer.jsonassert.JSONAssert;\r\n    \r\n    JSONAssert.assertEquals(expect, result, JSONCompareMode.LENIENT);\r\n\r\n\r\nHope this helps!","title":"Ignoring whitespce AND newlines with AssertJ","body":"<p>I can only offer workaround by using JSONAssert to achieve comparison that ignores whitespaces and newlines for unit test.</p>\n<pre><code>import org.skyscreamer.jsonassert.JSONAssert;\n\nJSONAssert.assertEquals(expect, result, JSONCompareMode.LENIENT);\n</code></pre>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693924051,"creation_date":1693924051,"answer_id":77045396,"question_id":77044608,"body_markdown":"[JsonUnit][1] might help. With the [AssertJ integration][2], you could write:\r\n\r\n    import static net.javacrumbs.jsonunit.assertj.JsonAssertions.assertThatJson;\r\n\r\n    ...\r\n\r\n    // compares two JSON documents (note lenient parsing of expected value)\r\n    assertThatJson(&quot;{\\&quot;a\\&quot;:1, \\&quot;b\\&quot;:2}&quot;).isEqualTo(&quot;{b:2, a:1}&quot;);\r\n\r\n  [1]: https://github.com/lukas-krecan/JsonUnit\r\n  [2]: https://github.com/lukas-krecan/JsonUnit#assertj","title":"Ignoring whitespce AND newlines with AssertJ","body":"<p><a href=\"https://github.com/lukas-krecan/JsonUnit\" rel=\"nofollow noreferrer\">JsonUnit</a> might help. With the <a href=\"https://github.com/lukas-krecan/JsonUnit#assertj\" rel=\"nofollow noreferrer\">AssertJ integration</a>, you could write:</p>\n<pre><code>import static net.javacrumbs.jsonunit.assertj.JsonAssertions.assertThatJson;\n\n...\n\n// compares two JSON documents (note lenient parsing of expected value)\nassertThatJson(&quot;{\\&quot;a\\&quot;:1, \\&quot;b\\&quot;:2}&quot;).isEqualTo(&quot;{b:2, a:1}&quot;);\n</code></pre>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693924051,"creation_date":1693917855,"question_id":77044608,"body_markdown":"I have a unit test for a java application that needs to compare two JSON strings. I only care about the data, the formatting should be ignored. I was hoping I could use AssertJ, but I can&#39;t seem to figure out how. I need to ignore both the whitespace AND the newlines in my assertion. AssertJ has methods &#39;isEqualToIgnoringNewLines()&#39; and &#39;isEqualToIgnoringWhitespace()&#39; but I can only use one or the other. There doesn&#39;t seem to be any way to combine them to get the desired result.\r\n\r\nMy workaround for the moment is to strip out the whitespace myself before running the assertion. However, I feel like there should be a way to do this with just assertions. Is there any way to get the kind of assertion I want without having to manipulate the strings first? ","title":"Ignoring whitespce AND newlines with AssertJ","body":"<p>I have a unit test for a java application that needs to compare two JSON strings. I only care about the data, the formatting should be ignored. I was hoping I could use AssertJ, but I can't seem to figure out how. I need to ignore both the whitespace AND the newlines in my assertion. AssertJ has methods 'isEqualToIgnoringNewLines()' and 'isEqualToIgnoringWhitespace()' but I can only use one or the other. There doesn't seem to be any way to combine them to get the desired result.</p>\n<p>My workaround for the moment is to strip out the whitespace myself before running the assertion. However, I feel like there should be a way to do this with just assertions. Is there any way to get the kind of assertion I want without having to manipulate the strings first?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":6515648,"reputation":21,"user_id":5041574,"display_name":"Daniel Kargl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693923993,"creation_date":1693923993,"answer_id":77045385,"question_id":77023042,"body_markdown":"I found the solution. I was missing the following code directly below the instantiation of the StandardServiceRegistry:\r\n\r\n        DatasourceConnectionProviderImpl impl = new DatasourceConnectionProviderImpl();\r\n        impl.setDataSource(new NoReadTimeoutDataSource(db));\r\n        impl.configure(Collections.emptyMap());\r\n        \r\n        ServiceBinding&lt;ConnectionProvider&gt; binding = ((ServiceRegistryImplementor) serviceRegistry)\r\n                .locateServiceBinding(ConnectionProvider.class);\r\n        binding.setService(impl);","title":"Hibernate 5 InFlightMetadataCollectorImpl without database connection","body":"<p>I found the solution. I was missing the following code directly below the instantiation of the StandardServiceRegistry:</p>\n<pre><code>    DatasourceConnectionProviderImpl impl = new DatasourceConnectionProviderImpl();\n    impl.setDataSource(new NoReadTimeoutDataSource(db));\n    impl.configure(Collections.emptyMap());\n    \n    ServiceBinding&lt;ConnectionProvider&gt; binding = ((ServiceRegistryImplementor) serviceRegistry)\n            .locateServiceBinding(ConnectionProvider.class);\n    binding.setService(impl);\n</code></pre>\n"}],"owner":{"account_id":6515648,"reputation":21,"user_id":5041574,"display_name":"Daniel Kargl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77045385,"answer_count":1,"score":0,"last_activity_date":1693923993,"creation_date":1693570686,"question_id":77023042,"body_markdown":"I am trying to upgrade from Hibernate 4.3.11.Final to 5.6.15.Final and came across an issue while trying to build my SessionFactory without a database connection. My current code is as follows:\r\n\r\n```\r\nprivate SessionFactory createSessionFactory() {\r\n        Configuration cfg = new Configuration();\r\n        cfg.setProperty(&quot;show_sql&quot;, &quot;true&quot;);\r\n\r\n        StandardServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().applySettings(cfg.getProperties()).build();\r\n\r\n        MetadataBuildingOptionsImpl buildingOptions = new MetadataBuildingOptionsImpl(serviceRegistry);\r\n        BootstrapContextImpl bootstrapContext = new BootstrapContextImpl(serviceRegistry, buildingOptions);\r\n        buildingOptions.setBootstrapContext(bootstrapContext);\r\n\r\n        InFlightMetadataCollectorImpl metadataCollector = new InFlightMetadataCollectorImpl(bootstrapContext, buildingOptions);\r\n\r\n        MetadataBuildingContext metadataBuildingContext = new MetadataBuildingContextRootImpl(bootstrapContext, buildingOptions,\r\n                metadataCollector);\r\n\r\n        /*\r\n         * Modify metadataCollector here\r\n         */\r\n\r\n        MetadataImpl metadataInstance = metadataCollector.buildMetadataInstance(metadataBuildingContext);\r\n        return metadataInstance.getSessionFactoryBuilder().build();\r\n}\r\n```\r\n\r\nThe problem is that I never make it past the instantiation of InFlightMetadataCollectorImpl, instead I get two warn messages:\r\n&gt;No appropriate connection provider encountered, assuming application will be supplying connections\r\n\r\n&gt;Could not obtain connection to query metadata\r\n\r\nFollowed by an UnsupportedOperationException which claims that &quot;The application must supply JDBC connections&quot;. \r\n\r\nThose warn/error message are very irritating because I am specifically required to not connect to the database. I want to note here that no such connection was required in Hibernate 4.3.11 either.\r\n\r\nFor the sake of research I attempted to run the code _with_ a DB-connection by manually supplying one via ``` cfg.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:oracle:thin:&lt;myUser&gt;/&lt;myPassword&gt;@localhost:1521:SAT&quot;); ```, and while this leads to issues further down the line, at least the example code that I provided worked fine.\r\n\r\nSo my question is: How can I instantiate an InFlightMetadataCollectorImpl without providing a database connection?\r\n","title":"Hibernate 5 InFlightMetadataCollectorImpl without database connection","body":"<p>I am trying to upgrade from Hibernate 4.3.11.Final to 5.6.15.Final and came across an issue while trying to build my SessionFactory without a database connection. My current code is as follows:</p>\n<pre><code>private SessionFactory createSessionFactory() {\n        Configuration cfg = new Configuration();\n        cfg.setProperty(&quot;show_sql&quot;, &quot;true&quot;);\n\n        StandardServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().applySettings(cfg.getProperties()).build();\n\n        MetadataBuildingOptionsImpl buildingOptions = new MetadataBuildingOptionsImpl(serviceRegistry);\n        BootstrapContextImpl bootstrapContext = new BootstrapContextImpl(serviceRegistry, buildingOptions);\n        buildingOptions.setBootstrapContext(bootstrapContext);\n\n        InFlightMetadataCollectorImpl metadataCollector = new InFlightMetadataCollectorImpl(bootstrapContext, buildingOptions);\n\n        MetadataBuildingContext metadataBuildingContext = new MetadataBuildingContextRootImpl(bootstrapContext, buildingOptions,\n                metadataCollector);\n\n        /*\n         * Modify metadataCollector here\n         */\n\n        MetadataImpl metadataInstance = metadataCollector.buildMetadataInstance(metadataBuildingContext);\n        return metadataInstance.getSessionFactoryBuilder().build();\n}\n</code></pre>\n<p>The problem is that I never make it past the instantiation of InFlightMetadataCollectorImpl, instead I get two warn messages:</p>\n<blockquote>\n<p>No appropriate connection provider encountered, assuming application will be supplying connections</p>\n</blockquote>\n<blockquote>\n<p>Could not obtain connection to query metadata</p>\n</blockquote>\n<p>Followed by an UnsupportedOperationException which claims that &quot;The application must supply JDBC connections&quot;.</p>\n<p>Those warn/error message are very irritating because I am specifically required to not connect to the database. I want to note here that no such connection was required in Hibernate 4.3.11 either.</p>\n<p>For the sake of research I attempted to run the code <em>with</em> a DB-connection by manually supplying one via <code>cfg.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:oracle:thin:&lt;myUser&gt;/&lt;myPassword&gt;@localhost:1521:SAT&quot;);</code>, and while this leads to issues further down the line, at least the example code that I provided worked fine.</p>\n<p>So my question is: How can I instantiate an InFlightMetadataCollectorImpl without providing a database connection?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1693921093,"post_id":77044979,"comment_id":135821046,"body_markdown":"@Kayamann it is better to mention what is wrong and why I wrote a mistaken answer, and I am not a Bot I am a real person who is trying to help someone!!!!!","body":"@Kayamann it is better to mention what is wrong and why I wrote a mistaken answer, and I am not a Bot I am a real person who is trying to help someone!!!!!"},{"owner":{"account_id":7629368,"reputation":8222,"user_id":5784924,"accept_rate":60,"display_name":"Nicolas"},"score":0,"creation_date":1693921133,"post_id":77044979,"comment_id":135821053,"body_markdown":"@Kayaman I am, also, curious on how you came to that conclusion.","body":"@Kayaman I am, also, curious on how you came to that conclusion."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693921493,"post_id":77044979,"comment_id":135821153,"body_markdown":"@Nicolas I could be mistaken, the output just seemed very robotic.","body":"@Nicolas I could be mistaken, the output just seemed very robotic."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1693922020,"post_id":77044979,"comment_id":135821269,"body_markdown":"@Nicolas, I guess I have explained all, what part is not clear to you? ask me and I explain what I thought, this came to me based on what I got from the question. I though that the code must have a loop until there is an interruption which in this case as in the question control is equal to 3. The getNewValueFromDevice method might be something like a random generation number based on a timer or whatsoever to test","body":"@Nicolas, I guess I have explained all, what part is not clear to you? ask me and I explain what I thought, this came to me based on what I got from the question. I though that the code must have a loop until there is an interruption which in this case as in the question control is equal to 3. The getNewValueFromDevice method might be something like a random generation number based on a timer or whatsoever to test"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1693923835,"post_id":77044979,"comment_id":135821696,"body_markdown":"@Kayaman , and Nicolas,  I edited my response with the executed code and result. You shouldn&#39;t Judge people so soon. PS: Apologies Accepted","body":"@Kayaman , and Nicolas,  I edited my response with the executed code and result. You shouldn&#39;t Judge people so soon. PS: Apologies Accepted"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1693927839,"post_id":77044979,"comment_id":135822686,"body_markdown":"Yeah, sorry about that, I was hasty with my judgement.","body":"Yeah, sorry about that, I was hasty with my judgement."},{"owner":{"account_id":7629368,"reputation":8222,"user_id":5784924,"accept_rate":60,"display_name":"Nicolas"},"score":1,"creation_date":1693932649,"post_id":77044979,"comment_id":135823713,"body_markdown":"@ShilaMosammami I was curious on why Kayaman came to the conclusion that you were a bot. It has nothing to do with your answer.","body":"@ShilaMosammami I was curious on why Kayaman came to the conclusion that you were a bot. It has nothing to do with your answer."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693941668,"post_id":77044979,"comment_id":135825331,"body_markdown":"@Nicolas the answer resembled a common ChatGPT pattern, but in the comments, AI just can&#39;t generate that amount of sass.","body":"@Nicolas the answer resembled a common ChatGPT pattern, but in the comments, AI just can&#39;t generate that amount of sass."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1693986390,"post_id":77044979,"comment_id":135830223,"body_markdown":"@Roberto you are so welcome","body":"@Roberto you are so welcome"}],"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693923662,"creation_date":1693920827,"answer_id":77044979,"question_id":77044944,"body_markdown":"Your code has the basic idea, but there are a few modifications to make in order to get it working correctly.\r\n\r\n1. You should use braces `{}` to group multiple statements together for clarity and correctness, especially in the `if-else` conditions.\r\n2. The loop you&#39;ve written assumes that the value of `A` will increment automatically. In a real-world scenario, you&#39;d likely need to update `A` by reading a new value from the device each iteration.\r\n3. The variable `control` needs to be defined outside of the loop. If you define it inside the loop, it&#39;ll be re-initialized to 0 on every iteration, which isn&#39;t what you want.\r\n\r\nHere&#39;s a corrected version of your code:\r\n\r\n```java\r\nint A = ValueToReciveDeviceEveryTime;  // Assuming this value is fetched somehow\r\nint A_old = A;\r\nboolean B = false;   \r\nint control = 0;\r\n\r\n// I&#39;ve assumed you want to loop until an alarm is triggered. Adjust as needed.\r\nwhile (B == false) { \r\n    if(A_old == A) {\r\n        control++;\r\n    } else {\r\n        control = 0;\r\n    }\r\n\r\n    if (control == 3) {\r\n        B = true;  // alarm condition\r\n    } else {\r\n        A_old = A;\r\n    }\r\n\r\n    A = getNewValueFromDevice();  // You&#39;ll need to implement this or something similar to update the value of A\r\n}\r\n```\r\n\r\nYou&#39;ll need to replace `getNewValueFromDevice()` with however you&#39;re reading the new value for `A` from the device. \r\n\r\nThis program will continue to loop until `B` becomes `true`, i.e., until the alarm condition is met. If you want to loop for a set number of iterations (like 32000 in your original code), you can replace the `while` loop with a `for` loop and check the value of `B` within the loop to break out early if needed.\r\n\r\nto make it more tangible I defined getNewValueFromDevice method like a random generator number, so we can see some results and  `Thread.sleep(100);` is used because the code can get executed slower.\r\n\r\n    public class test {\r\n    \t  private static int control = 0;\r\n    \t    \r\n    \t    public static void main(String[] args) throws InterruptedException {\r\n    \t        int A = 10;  // Starting value\r\n    \t        int A_old = A;\r\n    \t        boolean B = false;\r\n    \r\n    \t        while (!B) {  // Loop until B becomes true\r\n    \t            A = getNewValueFromDevice();\r\n    \t            \r\n    \t            if (A_old == A) {\r\n    \t                control++;\r\n    \t            } else {\r\n    \t                control = 0;\r\n    \t            }\r\n    \t            \r\n    \t            System.out.println(&quot;Current value: &quot; + A + &quot;, Previous value: &quot; + A_old + &quot;, Consecutive equals: &quot; + control);\r\n    \t            \r\n    \t            if (control == 3) {\r\n    \t                System.out.println(&quot;BINGO..... Alarm condition&quot;);\r\n    \t                B = true;  // Alarm condition met\r\n    \t            } else {\r\n    \t                A_old = A;\r\n    \t            }\r\n    \t            \r\n    \t            Thread.sleep(100);  // Sleep for 0.1 seconds  \r\n    \t        }\r\n    \t        \r\n    \t        System.out.println(&quot;End ....&quot;);\r\n    \t    }\r\n    \r\n    \t    private static int getNewValueFromDevice() {\r\n    \t        Random rand = new Random();\r\n    \t        int val = rand.nextInt(11);\r\n    \t        System.out.println(&quot;Rand value is &quot; + val);\r\n    \t        return val;  // Return a random integer between 0 and 10 (inclusive)\r\n    \t    }\r\n    }\r\n  \r\nThis picture is showing the result, of course you might have different values and it might take longer or shorter.\r\n**The important thing is that the code stop exclusion when we have 3 consecutive equal values of A and A_old.**  \r\n\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QiSgv.png","title":"Variable control for three iterations cicle for","body":"<p>Your code has the basic idea, but there are a few modifications to make in order to get it working correctly.</p>\n<ol>\n<li>You should use braces <code>{}</code> to group multiple statements together for clarity and correctness, especially in the <code>if-else</code> conditions.</li>\n<li>The loop you've written assumes that the value of <code>A</code> will increment automatically. In a real-world scenario, you'd likely need to update <code>A</code> by reading a new value from the device each iteration.</li>\n<li>The variable <code>control</code> needs to be defined outside of the loop. If you define it inside the loop, it'll be re-initialized to 0 on every iteration, which isn't what you want.</li>\n</ol>\n<p>Here's a corrected version of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int A = ValueToReciveDeviceEveryTime;  // Assuming this value is fetched somehow\nint A_old = A;\nboolean B = false;   \nint control = 0;\n\n// I've assumed you want to loop until an alarm is triggered. Adjust as needed.\nwhile (B == false) { \n    if(A_old == A) {\n        control++;\n    } else {\n        control = 0;\n    }\n\n    if (control == 3) {\n        B = true;  // alarm condition\n    } else {\n        A_old = A;\n    }\n\n    A = getNewValueFromDevice();  // You'll need to implement this or something similar to update the value of A\n}\n</code></pre>\n<p>You'll need to replace <code>getNewValueFromDevice()</code> with however you're reading the new value for <code>A</code> from the device.</p>\n<p>This program will continue to loop until <code>B</code> becomes <code>true</code>, i.e., until the alarm condition is met. If you want to loop for a set number of iterations (like 32000 in your original code), you can replace the <code>while</code> loop with a <code>for</code> loop and check the value of <code>B</code> within the loop to break out early if needed.</p>\n<p>to make it more tangible I defined getNewValueFromDevice method like a random generator number, so we can see some results and  <code>Thread.sleep(100);</code> is used because the code can get executed slower.</p>\n<pre><code>public class test {\n      private static int control = 0;\n        \n        public static void main(String[] args) throws InterruptedException {\n            int A = 10;  // Starting value\n            int A_old = A;\n            boolean B = false;\n\n            while (!B) {  // Loop until B becomes true\n                A = getNewValueFromDevice();\n                \n                if (A_old == A) {\n                    control++;\n                } else {\n                    control = 0;\n                }\n                \n                System.out.println(&quot;Current value: &quot; + A + &quot;, Previous value: &quot; + A_old + &quot;, Consecutive equals: &quot; + control);\n                \n                if (control == 3) {\n                    System.out.println(&quot;BINGO..... Alarm condition&quot;);\n                    B = true;  // Alarm condition met\n                } else {\n                    A_old = A;\n                }\n                \n                Thread.sleep(100);  // Sleep for 0.1 seconds  \n            }\n            \n            System.out.println(&quot;End ....&quot;);\n        }\n\n        private static int getNewValueFromDevice() {\n            Random rand = new Random();\n            int val = rand.nextInt(11);\n            System.out.println(&quot;Rand value is &quot; + val);\n            return val;  // Return a random integer between 0 and 10 (inclusive)\n        }\n}\n</code></pre>\n<p>This picture is showing the result, of course you might have different values and it might take longer or shorter.\n<strong>The important thing is that the code stop exclusion when we have 3 consecutive equal values of A and A_old.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/QiSgv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QiSgv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26593735,"reputation":35,"user_id":20216491,"display_name":"Roberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77044979,"answer_count":1,"score":-2,"last_activity_date":1693923662,"creation_date":1693920595,"question_id":77044944,"body_markdown":"I should create a program in which given a variable A, which I receive from a device every certain time. Variable A is a counter that goes from 0 to 32000.\r\n\r\nI have to verify that at each iteration this variable actually gets incremented. In the event that, for three consecutive iterations, the value of variable A remains the same, I have to set a variable B to true to generate the alarm. Otherwise variable B must be false (no alarm) and set variable A_old = A.\r\n\r\nWhere A_old is the old value of variable A.\r\n\r\nI can&#39;t figure out how to make such a program. I wrote this code, but I doubt it will work properly.\r\n\r\n        int A = ValueToReciveDeviceEveryTime;\r\n        int A_old = A;\r\n        boolean B = false;   \r\n\r\n     for (int i = 0; i&lt;32000; i++)\r\n        {\r\n            int control = 0;\r\n            if(A_old == A)\r\n                control++;\r\n                else\r\n                 control = 0;\r\n\r\n            if (control == 3)\r\n            {\r\n                B = true;\r\n            }\r\n            else\r\n            {\r\n                B = false;\r\n                A_old = A;\r\n            }\r\n\r\n        }","title":"Variable control for three iterations cicle for","body":"<p>I should create a program in which given a variable A, which I receive from a device every certain time. Variable A is a counter that goes from 0 to 32000.</p>\n<p>I have to verify that at each iteration this variable actually gets incremented. In the event that, for three consecutive iterations, the value of variable A remains the same, I have to set a variable B to true to generate the alarm. Otherwise variable B must be false (no alarm) and set variable A_old = A.</p>\n<p>Where A_old is the old value of variable A.</p>\n<p>I can't figure out how to make such a program. I wrote this code, but I doubt it will work properly.</p>\n<pre><code>    int A = ValueToReciveDeviceEveryTime;\n    int A_old = A;\n    boolean B = false;   \n\n for (int i = 0; i&lt;32000; i++)\n    {\n        int control = 0;\n        if(A_old == A)\n            control++;\n            else\n             control = 0;\n\n        if (control == 3)\n        {\n            B = true;\n        }\n        else\n        {\n            B = false;\n            A_old = A;\n        }\n\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9932,"page":202,"page_size":100}
