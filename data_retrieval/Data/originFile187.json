{"items":[{"tags":["java","exception","spring-security"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676145483,"creation_date":1676009163,"answer_id":75407480,"question_id":75400538,"body_markdown":"You can add an `authenticationEntryPoint` to handle custom exception.\r\n\r\n```java\r\n@Configuration\r\n@RequiredArgsConstructor\r\nstatic class CommonWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n    private final BearerTokenAuthenticationProvider bearerTokenProvider;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .headers()\r\n                .contentSecurityPolicy(&quot;script-src &#39;self&#39;&quot;);\r\n        http\r\n            .csrf().disable()\r\n            .authorizeRequests(auth -&gt; auth\r\n                 .antMatchers(&quot;/public/**&quot;).not().hasAuthority(&quot;ROLE_ANONYMOUS&quot;)\r\n            )\r\n            .oauth2ResourceServer(c -&gt; c.jwt()\r\n                .and()\r\n                .authenticationEntryPoint((request, response, authException) -&gt; {\r\n                    //handle CustomAuthenticationException\r\n                    \r\n                    }\r\n                )\r\n            );\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(bearerTokenProvider);\r\n    }\r\n}\r\n\r\npublic class CustomAuthenticationException extends AuthenticationException {\r\n    HttpStatus status;\r\n    \r\n    public CustomAuthenticationException(String message, HttpStatus status) {\r\n        super(message);\r\n        this.status = status;\r\n    }\r\n}\r\n","title":"Spring Security Authentication Provider exception handling","body":"<p>You can add an <code>authenticationEntryPoint</code> to handle custom exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@RequiredArgsConstructor\nstatic class CommonWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\n\n    private final BearerTokenAuthenticationProvider bearerTokenProvider;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .headers()\n                .contentSecurityPolicy(&quot;script-src 'self'&quot;);\n        http\n            .csrf().disable()\n            .authorizeRequests(auth -&gt; auth\n                 .antMatchers(&quot;/public/**&quot;).not().hasAuthority(&quot;ROLE_ANONYMOUS&quot;)\n            )\n            .oauth2ResourceServer(c -&gt; c.jwt()\n                .and()\n                .authenticationEntryPoint((request, response, authException) -&gt; {\n                    //handle CustomAuthenticationException\n                    \n                    }\n                )\n            );\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(bearerTokenProvider);\n    }\n}\n\npublic class CustomAuthenticationException extends AuthenticationException {\n    HttpStatus status;\n    \n    public CustomAuthenticationException(String message, HttpStatus status) {\n        super(message);\n        this.status = status;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8854730,"reputation":878,"user_id":6612842,"display_name":"Michal Maťovč&#237;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676539824,"creation_date":1676539824,"answer_id":75470234,"question_id":75400538,"body_markdown":"I support the accepted answer [here] but want to highlight key tricky part of it:\r\n\r\nI had same structure but instead of throwing my custom exception, I used [AuthenticationServiceException] and that was simply **not working**.\r\n\r\nTo be able to handle exception in your custom `AuthenticationEntryPoint` you **MUST extend [AuthenticationException]** with your own implementation as it is done in accepted answer.\r\n\r\n\r\n  [here]: https://stackoverflow.com/a/75407480/6612842\r\n\r\n\r\n  [AuthenticationServiceException]: https://javadoc.io/static/org.springframework.security/spring-security-core/5.0.9.RELEASE/org/springframework/security/authentication/AuthenticationServiceException.html\r\n\r\n\r\n  [AuthenticationException]: https://javadoc.io/static/org.springframework.security/spring-security-core/5.0.9.RELEASE/org/springframework/security/core/AuthenticationException.html","title":"Spring Security Authentication Provider exception handling","body":"<p>I support the accepted answer <a href=\"https://stackoverflow.com/a/75407480/6612842\">here</a> but want to highlight key tricky part of it:</p>\n<p>I had same structure but instead of throwing my custom exception, I used <a href=\"https://javadoc.io/static/org.springframework.security/spring-security-core/5.0.9.RELEASE/org/springframework/security/authentication/AuthenticationServiceException.html\" rel=\"nofollow noreferrer\">AuthenticationServiceException</a> and that was simply <strong>not working</strong>.</p>\n<p>To be able to handle exception in your custom <code>AuthenticationEntryPoint</code> you <strong>MUST extend <a href=\"https://javadoc.io/static/org.springframework.security/spring-security-core/5.0.9.RELEASE/org/springframework/security/core/AuthenticationException.html\" rel=\"nofollow noreferrer\">AuthenticationException</a></strong> with your own implementation as it is done in accepted answer.</p>\n"},{"tags":[],"owner":{"account_id":16044005,"reputation":1,"user_id":11579694,"display_name":"bkaaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694596998,"creation_date":1694596998,"answer_id":77095779,"question_id":75400538,"body_markdown":"Security exceptions are thrown by authentication filters behind the dispatcherServlet and before invoking the controller methods. You can use the a customized AuthenticationEntryPoint and HandlerExceptionResolver to handle AuthenticationExceptions ,then your exceptionHandler will be able to handle your security exceptions and throw them,\r\n\r\n**Custom AuthEntryPoint**\r\n\r\n    public class AuthEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n    @Autowired\r\n    private HandlerExceptionResolver resolver;\r\n\r\n    @Override\r\n    public void commence(HttpServletRequest request,\r\n                         HttpServletResponse response,\r\n                         AuthenticationException authException) throws IOException, ServletException {\r\n        resolver.resolveException(request, response, null, authException);\r\n    }\r\n    }\r\n","title":"Spring Security Authentication Provider exception handling","body":"<p>Security exceptions are thrown by authentication filters behind the dispatcherServlet and before invoking the controller methods. You can use the a customized AuthenticationEntryPoint and HandlerExceptionResolver to handle AuthenticationExceptions ,then your exceptionHandler will be able to handle your security exceptions and throw them,</p>\n<p><strong>Custom AuthEntryPoint</strong></p>\n<pre><code>public class AuthEntryPoint implements AuthenticationEntryPoint {\n\n@Qualifier(&quot;handlerExceptionResolver&quot;)\n@Autowired\nprivate HandlerExceptionResolver resolver;\n\n@Override\npublic void commence(HttpServletRequest request,\n                     HttpServletResponse response,\n                     AuthenticationException authException) throws IOException, ServletException {\n    resolver.resolveException(request, response, null, authException);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":20903700,"reputation":75,"user_id":20091628,"display_name":"Montana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75407480,"answer_count":3,"score":3,"last_activity_date":1694596998,"creation_date":1675955257,"question_id":75400538,"body_markdown":"I have an authentication provider, that throwing my custom exception.\r\nThis provider validating token on every request to controllers. Exceptions in controllers handling by controller advice, but provider works before controller, so controller advice cant handle exceptions that provider throws.\r\nHow can i handle exception from provider?\r\n\r\nProvider\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class BearerTokenAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    private final Wso2TokenVerificationClient client;\r\n\r\n    @Override\r\n    public Authentication authenticate( Authentication authentication ) {\r\n        BearerTokenAuthenticationToken token = (BearerTokenAuthenticationToken) authentication;\r\n        Map&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\r\n        requestBody.put( &quot;token&quot;, token.getToken() );\r\n        Wso2TokenValidationResponse tokenValidationResponse = client.introspectToken( requestBody );\r\n        if( !Boolean.parseBoolean( tokenValidationResponse.getActive() ) ) {\r\n            throw new AuthenticationException(\r\n                &quot;Token not valid&quot;, HttpStatus.UNAUTHORIZED\r\n            );\r\n        }\r\n        DecodedJWT jwt = JWT.decode(token.getToken());\r\n        UserDetails details = new UserDetails();\r\n        details.setId( Long.parseLong(jwt.getClaim( OidcUserClaims.USER_ID ).asString()) );\r\n        details.setEmail( jwt.getClaim( OidcUserClaims.EMAIL ).asString() );\r\n        token.setDetails( details );\r\n        return token;\r\n    }\r\n\r\n    @Override\r\n    public boolean supports( Class&lt;?&gt; aClass ) {\r\n        return BearerTokenAuthenticationToken.class.equals( aClass );\r\n    }\r\n\r\nSecurity Config\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class CommonWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n    private final BearerTokenAuthenticationProvider bearerTokenProvider;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.headers().contentSecurityPolicy(&quot;script-src &#39;self&#39;&quot;);\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests(auth -&gt; auth\r\n                        .antMatchers(&quot;/public/**&quot;).not().hasAuthority(&quot;ROLE_ANONYMOUS&quot;)\r\n                )\r\n            .and()\r\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n    }\r\n\r\n    @Override\r\n    protected void configure( AuthenticationManagerBuilder auth ) throws Exception {\r\n        auth.authenticationProvider( bearerTokenProvider );\r\n    }\r\n}","title":"Spring Security Authentication Provider exception handling","body":"<p>I have an authentication provider, that throwing my custom exception.\nThis provider validating token on every request to controllers. Exceptions in controllers handling by controller advice, but provider works before controller, so controller advice cant handle exceptions that provider throws.\nHow can i handle exception from provider?</p>\n<p>Provider</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class BearerTokenAuthenticationProvider implements AuthenticationProvider {\n\nprivate final Wso2TokenVerificationClient client;\n\n@Override\npublic Authentication authenticate( Authentication authentication ) {\n    BearerTokenAuthenticationToken token = (BearerTokenAuthenticationToken) authentication;\n    Map&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\n    requestBody.put( &quot;token&quot;, token.getToken() );\n    Wso2TokenValidationResponse tokenValidationResponse = client.introspectToken( requestBody );\n    if( !Boolean.parseBoolean( tokenValidationResponse.getActive() ) ) {\n        throw new AuthenticationException(\n            &quot;Token not valid&quot;, HttpStatus.UNAUTHORIZED\n        );\n    }\n    DecodedJWT jwt = JWT.decode(token.getToken());\n    UserDetails details = new UserDetails();\n    details.setId( Long.parseLong(jwt.getClaim( OidcUserClaims.USER_ID ).asString()) );\n    details.setEmail( jwt.getClaim( OidcUserClaims.EMAIL ).asString() );\n    token.setDetails( details );\n    return token;\n}\n\n@Override\npublic boolean supports( Class&lt;?&gt; aClass ) {\n    return BearerTokenAuthenticationToken.class.equals( aClass );\n}\n</code></pre>\n<p>Security Config</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class CommonWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\n\nprivate final BearerTokenAuthenticationProvider bearerTokenProvider;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.headers().contentSecurityPolicy(&quot;script-src 'self'&quot;);\n    http\n            .csrf().disable()\n            .authorizeRequests(auth -&gt; auth\n                    .antMatchers(&quot;/public/**&quot;).not().hasAuthority(&quot;ROLE_ANONYMOUS&quot;)\n            )\n        .and()\n        .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n}\n\n@Override\nprotected void configure( AuthenticationManagerBuilder auth ) throws Exception {\n    auth.authenticationProvider( bearerTokenProvider );\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","web","servlets","native","graalvm"],"comments":[{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":2,"creation_date":1691647550,"post_id":76872852,"comment_id":135520202,"body_markdown":"Allowing arbitrary command execution is generally seen as dangerous. The reason is that is an attacker manages to be able to alter one of the possible commands or add one, they can later use that to gain more informations or privileges. You are already aware of that because you included 3 tests to try to mitigate the risk of being hacked that way... When it comes to security, the rule is to think that any defence line could be flawed, the reason why we always use a number of them. And best practices recommend to think twice about the possible outcome of any of them being broken...","body":"Allowing arbitrary command execution is generally seen as dangerous. The reason is that is an attacker manages to be able to alter one of the possible commands or add one, they can later use that to gain more informations or privileges. You are already aware of that because you included 3 tests to try to mitigate the risk of being hacked that way... When it comes to security, the rule is to think that any defence line could be flawed, the reason why we always use a number of them. And best practices recommend to think twice about the possible outcome of any of them being broken..."},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1691647840,"post_id":76872852,"comment_id":135520255,"body_markdown":"... Said differently you should balance the gain of that possible architecture against the risk. Only you know the exact context. If you are doing that to improve your skill on a dev machine in a protected network, it is probably fine. If you plan to install it on a production server, you should probably think twice about the increase of the attack surface.","body":"... Said differently you should balance the gain of that possible architecture against the risk. Only you know the exact context. If you are doing that to improve your skill on a dev machine in a protected network, it is probably fine. If you plan to install it on a production server, you should probably think twice about the increase of the attack surface."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691652131,"post_id":76872852,"comment_id":135520973,"body_markdown":"IMHO this is a step in the wrong direction. The overhead of a Java VM is such that you should put more functionality into each one, rather than spinning up new ones for everything. Sounds like a good way to burn up CPU and memory resources to me.","body":"IMHO this is a step in the wrong direction. The overhead of a Java VM is such that you should put more functionality into each one, rather than spinning up new ones for everything. Sounds like a good way to burn up CPU and memory resources to me."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1691660007,"post_id":76872852,"comment_id":135522556,"body_markdown":"@user207421 hello world is taking 0,02 seconds. I think there is hope for native. If it will work, all the complexity of web-application, will turn into a simple main function. (i tested it from java, not command prompt https://github.com/tugalsan/com.tugalsan.tst.os/blob/main/src/main/java/com/tugalsan/tst/os/Main.java)","body":"@user207421 hello world is taking 0,02 seconds. I think there is hope for native. If it will work, all the complexity of web-application, will turn into a simple main function. (i tested it from java, not command prompt <a href=\"https://github.com/tugalsan/com.tugalsan.tst.os/blob/main/src/main/java/com/tugalsan/tst/os/Main.java\" rel=\"nofollow noreferrer\">github.com/tugalsan/com.tugalsan.tst.os/blob/main/src/main/j&zwnj;&#8203;ava/&hellip;</a>)"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1691660565,"post_id":76872852,"comment_id":135522677,"body_markdown":"@user207421 And actually I fragmented one web app to 20+ ones. Although the memory consumption is not an issue for a 2023 server, but it is for a 2003 server. Making native will use less memory then a monolith","body":"@user207421 And actually I fragmented one web app to 20+ ones. Although the memory consumption is not an issue for a 2023 server, but it is for a 2003 server. Making native will use less memory then a monolith"},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1691674180,"post_id":76872852,"comment_id":135525411,"body_markdown":"I figured, multiple command can be run without the need of space on command prompt with &amp; char. like &quot;c:\\dir&amp;cls&quot; works. So I need to figure out a way to pass input params in more secure way, like base64 conversion or sth else. See &quot;https://techviral.net/run-multiple-commands-in-cmd/&quot;. At the same time it need to respect char count. https://stackoverflow.com/questions/3205027/maximum-length-of-command-line-string","body":"I figured, multiple command can be run without the need of space on command prompt with &amp; char. like &quot;c:\\dir&amp;cls&quot; works. So I need to figure out a way to pass input params in more secure way, like base64 conversion or sth else. See &quot;<a href=\"https://techviral.net/run-multiple-commands-in-cmd/\" rel=\"nofollow noreferrer\">techviral.net/run-multiple-commands-in-cmd</a>&quot;. At the same time it need to respect char count. <a href=\"https://stackoverflow.com/questions/3205027/maximum-length-of-command-line-string\" title=\"maximum length of command line string\">stackoverflow.com/questions/3205027/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691650040,"creation_date":1691650040,"answer_id":76873212,"question_id":76872852,"body_markdown":"There are some great remarks in the comments about why letting users execute arbitrary shell code is a bad idea. However, there are some ways you can make it at least a bit safer. For example, you could restrict the endpoint to a hardcoded set of commands, using an enum:\r\n\r\n```\r\npublic enum Command {\r\n    ONE(&quot;C:/nativeApplicationsFolder/one.exe&quot;),\r\n    TWO(&quot;C:/nativeApplicationsFolder/two.exe&quot;),\r\n    ;\r\n\r\n    private final String path;\r\n\r\n    Command(String path) {\r\n        this.path = path;\r\n    }\r\n\r\n    public String getPath() {\r\n        return path;\r\n    }\r\n}\r\n```\r\n\r\nThis way, you can easily check that the command is something you know is safe. Be careful, still: If you need the user to pass command line arguments, you now need to be careful again that the user doesn&#39;t access files or other applications you don&#39;t want them to.","title":"What are the security risks on making public the command java.lang.Runtime.exec(String command)","body":"<p>There are some great remarks in the comments about why letting users execute arbitrary shell code is a bad idea. However, there are some ways you can make it at least a bit safer. For example, you could restrict the endpoint to a hardcoded set of commands, using an enum:</p>\n<pre><code>public enum Command {\n    ONE(&quot;C:/nativeApplicationsFolder/one.exe&quot;),\n    TWO(&quot;C:/nativeApplicationsFolder/two.exe&quot;),\n    ;\n\n    private final String path;\n\n    Command(String path) {\n        this.path = path;\n    }\n\n    public String getPath() {\n        return path;\n    }\n}\n</code></pre>\n<p>This way, you can easily check that the command is something you know is safe. Be careful, still: If you need the user to pass command line arguments, you now need to be careful again that the user doesn't access files or other applications you don't want them to.</p>\n"},{"tags":[],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694596860,"creation_date":1691762225,"answer_id":76884213,"question_id":76872852,"body_markdown":"I am convinced that executing shell code with url is a bad idea. &lt;br&gt;\r\nThere is so many things that can go wrong. Please see [here][1].\r\n\r\nRather than dealing with all security checks for terminal execution, It is probably a better solution:\r\n - to input the url string to a database row, \r\n - then call the native exe with row id accordingly.\r\n\r\n~~~\r\nString command = nativeApplicationFile + &quot; &quot; + 1234;\r\n~~~\r\n\r\n\r\n~~~\r\n /**\r\n     * for example url = &quot;https://www.webpage.com/app-one/someNativeApplicationName?param1=value1&amp;param2=value2...&quot;;\r\n     * url params is ascii or base64\r\n     */\r\n    public String callNativeApplication(String url) {//\r\n        //CONSTRUCT nativeApplicationFile\r\n        String someNativeApplicationName = parseNativeApplicationNameFromUrl(url);\r\n        Path nativeApplicationsFolder = Path.of(&quot;C:\\\\nativeApplicationsFolder&quot;);\r\n        Path nativeApplicationFile = nativeApplicationsFolder.resolve(someNativeApplicationName);\r\n\r\n        //CHECK FOR DIR HACK\r\n        nativeApplicationFile = nativeApplicationFile.toAbsolutePath();\r\n        if(!nativeApplicationFile.startsWith(nativeApplicationsFolder)) {\r\n            throw new RuntimeException(&quot;ERROR: DIR HACK&quot;);\r\n        }\r\n\r\n        //CHECK IF FILE EXISTS\r\n        if(!isFileExists(nativeApplicationFile)) {\r\n            throw new RuntimeException(&quot;ERROR: FILE NOT FOUND&quot;);\r\n        }\r\n\r\n        //CONSTRUCT command\r\n        var rowId = pushUrlToDB(url);\r\n        String command = nativeApplicationFile + &quot; &quot; + rowId;\r\n\r\n        //EXECUTE\r\n        Process p = java.lang.Runtime.getRuntime().exec(command); \r\n        String reply = fetchReply(p);\r\n        return reply;\r\n    }\r\n~~~\r\n\r\n\r\n---------------- UPDATE -----------------&lt;br&gt;\r\nI tried to implement the project using JDK (com.sun.net.httpserver) on graalvm21 so that it runs even as native, [here][2]\r\n\r\n\r\n  [1]: https://techviral.net/run-multiple-commands-in-cmd/\r\n  [2]: https://github.com/tugalsan/com.tugalsan.gvm.cloud","title":"What are the security risks on making public the command java.lang.Runtime.exec(String command)","body":"<p>I am convinced that executing shell code with url is a bad idea. <br>\nThere is so many things that can go wrong. Please see <a href=\"https://techviral.net/run-multiple-commands-in-cmd/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Rather than dealing with all security checks for terminal execution, It is probably a better solution:</p>\n<ul>\n<li>to input the url string to a database row,</li>\n<li>then call the native exe with row id accordingly.</li>\n</ul>\n<pre><code>String command = nativeApplicationFile + &quot; &quot; + 1234;\n</code></pre>\n<pre><code> /**\n     * for example url = &quot;https://www.webpage.com/app-one/someNativeApplicationName?param1=value1&amp;param2=value2...&quot;;\n     * url params is ascii or base64\n     */\n    public String callNativeApplication(String url) {//\n        //CONSTRUCT nativeApplicationFile\n        String someNativeApplicationName = parseNativeApplicationNameFromUrl(url);\n        Path nativeApplicationsFolder = Path.of(&quot;C:\\\\nativeApplicationsFolder&quot;);\n        Path nativeApplicationFile = nativeApplicationsFolder.resolve(someNativeApplicationName);\n\n        //CHECK FOR DIR HACK\n        nativeApplicationFile = nativeApplicationFile.toAbsolutePath();\n        if(!nativeApplicationFile.startsWith(nativeApplicationsFolder)) {\n            throw new RuntimeException(&quot;ERROR: DIR HACK&quot;);\n        }\n\n        //CHECK IF FILE EXISTS\n        if(!isFileExists(nativeApplicationFile)) {\n            throw new RuntimeException(&quot;ERROR: FILE NOT FOUND&quot;);\n        }\n\n        //CONSTRUCT command\n        var rowId = pushUrlToDB(url);\n        String command = nativeApplicationFile + &quot; &quot; + rowId;\n\n        //EXECUTE\n        Process p = java.lang.Runtime.getRuntime().exec(command); \n        String reply = fetchReply(p);\n        return reply;\n    }\n</code></pre>\n<p>---------------- UPDATE -----------------<br>\nI tried to implement the project using JDK (com.sun.net.httpserver) on graalvm21 so that it runs even as native, <a href=\"https://github.com/tugalsan/com.tugalsan.gvm.cloud\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76884213,"answer_count":2,"score":-1,"last_activity_date":1694596860,"creation_date":1691645162,"question_id":76872852,"body_markdown":"I am trying to fragment my custom applications, while keeping the total design standard.&lt;br&gt;\r\nI have recently learned compiling java applications to native exe files on windows with graalvm.\r\n\r\nI am thinking of chaging the design from using many complex web-applications to\r\n- make only one simple web application to serve as a https site,\r\n- and having only one servlet having only one task &quot;to push the link to relative native exe files&quot;, as sth like below\r\n```\r\n     /**\r\n     * for example url = &quot;https://www.webpage.com/app-one/someNativeApplicationName?param1=value1&amp;param2=value2...&quot;;\r\n     * url params is ascii or base64\r\n     */\r\n    public String callNativeApplication(String url) {//\r\n        //CONSTRUCT nativeApplicationFile\r\n        String someNativeApplicationName = parseNativeApplicationNameFromUrl(url);\r\n        Path nativeApplicationsFolder = Path.of(&quot;C:\\\\nativeApplicationsFolder&quot;);\r\n        Path nativeApplicationFile = nativeApplicationsFolder.resolve(someNativeApplicationName);\r\n\r\n        //CHECK FOR DIR HACK\r\n        nativeApplicationFile = nativeApplicationFile.toAbsolutePath();\r\n        if(!nativeApplicationFile.startsWith(nativeApplicationsFolder)) {\r\n            throw new RuntimeException(&quot;ERROR: DIR HACK&quot;);\r\n        }\r\n\r\n        //CHECK HIDDEN COMMAND HACK\r\n        if (url.chars().filter(ch -&gt; ch == &#39; &#39;).count() != 0) {\r\n            throw new RuntimeException(&quot;ERROR: HIDDEN COMMAND HACK&quot;);\r\n        }\r\n\r\n        //CONSTRUCT command\r\n        String command = nativeApplicationFile + &quot; &quot; + url;\r\n\r\n        //CHECK HIDDEN CHAR HACK\r\n        if (!Charset.forName(&quot;US-ASCII&quot;).newEncoder().canEncode(command)){\r\n            throw new RuntimeException(&quot;ERROR: HIDDEN CHAR HACK&quot;);            \r\n        }\r\n\r\n        //EXECUTE\r\n        Process p = java.lang.Runtime.getRuntime().exec(command); \r\n        String reply = fetchReply(p);\r\n        return reply;\r\n    }\r\n```\r\nand return the outcome as reply.\r\n\r\nWill there be any security risk that i should additionally consider. Is it safe to give a go?\r\n\r\n ","title":"What are the security risks on making public the command java.lang.Runtime.exec(String command)","body":"<p>I am trying to fragment my custom applications, while keeping the total design standard.<br>\nI have recently learned compiling java applications to native exe files on windows with graalvm.</p>\n<p>I am thinking of chaging the design from using many complex web-applications to</p>\n<ul>\n<li>make only one simple web application to serve as a https site,</li>\n<li>and having only one servlet having only one task &quot;to push the link to relative native exe files&quot;, as sth like below</li>\n</ul>\n<pre><code>     /**\n     * for example url = &quot;https://www.webpage.com/app-one/someNativeApplicationName?param1=value1&amp;param2=value2...&quot;;\n     * url params is ascii or base64\n     */\n    public String callNativeApplication(String url) {//\n        //CONSTRUCT nativeApplicationFile\n        String someNativeApplicationName = parseNativeApplicationNameFromUrl(url);\n        Path nativeApplicationsFolder = Path.of(&quot;C:\\\\nativeApplicationsFolder&quot;);\n        Path nativeApplicationFile = nativeApplicationsFolder.resolve(someNativeApplicationName);\n\n        //CHECK FOR DIR HACK\n        nativeApplicationFile = nativeApplicationFile.toAbsolutePath();\n        if(!nativeApplicationFile.startsWith(nativeApplicationsFolder)) {\n            throw new RuntimeException(&quot;ERROR: DIR HACK&quot;);\n        }\n\n        //CHECK HIDDEN COMMAND HACK\n        if (url.chars().filter(ch -&gt; ch == ' ').count() != 0) {\n            throw new RuntimeException(&quot;ERROR: HIDDEN COMMAND HACK&quot;);\n        }\n\n        //CONSTRUCT command\n        String command = nativeApplicationFile + &quot; &quot; + url;\n\n        //CHECK HIDDEN CHAR HACK\n        if (!Charset.forName(&quot;US-ASCII&quot;).newEncoder().canEncode(command)){\n            throw new RuntimeException(&quot;ERROR: HIDDEN CHAR HACK&quot;);            \n        }\n\n        //EXECUTE\n        Process p = java.lang.Runtime.getRuntime().exec(command); \n        String reply = fetchReply(p);\n        return reply;\n    }\n</code></pre>\n<p>and return the outcome as reply.</p>\n<p>Will there be any security risk that i should additionally consider. Is it safe to give a go?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":8861919,"reputation":188,"user_id":6617967,"display_name":"Kanchan Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694593166,"creation_date":1694593166,"answer_id":77095274,"question_id":77095032,"body_markdown":"You need to use `StoryView.Builder(((StatusFragment)cx).getChildFragmentManager())`\r\n\r\nAs this is the manager responsible for handling transactions in fragment.","title":"How to get the SupportFragmentManager of a Fragment context in Android Studio","body":"<p>You need to use <code>StoryView.Builder(((StatusFragment)cx).getChildFragmentManager())</code></p>\n<p>As this is the manager responsible for handling transactions in fragment.</p>\n"},{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694593781,"creation_date":1694593781,"answer_id":77095355,"question_id":77095032,"body_markdown":"This error is occurring because you are trying to cast Context to StatusFragment, and you cannot directly cast a Context to a Fragment. To show the StoryView in a fragment, you should obtain the FragmentManager associated with the hosting activity of the fragment. \r\n\r\nTry this instead to solve the error.\r\n\r\n \r\n\r\n    // Use the getActivity() method to get the hosting activity, and then get its FragmentManager.\r\n        new StoryView.Builder(getActivity().getSupportFragmentManager()).setStoriesList(myStories)\r\n\r\n","title":"How to get the SupportFragmentManager of a Fragment context in Android Studio","body":"<p>This error is occurring because you are trying to cast Context to StatusFragment, and you cannot directly cast a Context to a Fragment. To show the StoryView in a fragment, you should obtain the FragmentManager associated with the hosting activity of the fragment.</p>\n<p>Try this instead to solve the error.</p>\n<pre><code>// Use the getActivity() method to get the hosting activity, and then get its FragmentManager.\n    new StoryView.Builder(getActivity().getSupportFragmentManager()).setStoriesList(myStories)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14883843,"reputation":193,"user_id":12280406,"display_name":"solitude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694595613,"creation_date":1694595613,"answer_id":77095591,"question_id":77095032,"body_markdown":"The error says:\r\n\r\n&gt;     Inconvertible types; cannot cast &#39;android.content.Context&#39; to &#39;com.joycse.chatty30.fragment.StatusFragment&#39;\r\n\r\nyou are trying to cast android.content.Context to your fragment class called StatusFragment. your cx variable (which is a context) cannot cast to your custom fragment directly.\r\n\r\n**Inside StatusFragment:**\r\n\r\n    $YourAdapter adapter = new $YourAdapter (this //pass your custom fragment here,);\r\n\r\n**Adapter constructor**\r\n\r\n    StatusFragment fragment\r\n    public $YourAdapter(StatusFragment fragment, ) {\r\n    this.fragment = fragment;\r\n    }\r\n\r\n**Then use it to your onBindHolder;**\r\n\r\n    new StoryView.Builder(fragment.getChildFragmentManager())\r\n\r\n","title":"How to get the SupportFragmentManager of a Fragment context in Android Studio","body":"<p>The error says:</p>\n<blockquote>\n<pre><code>Inconvertible types; cannot cast 'android.content.Context' to 'com.joycse.chatty30.fragment.StatusFragment'\n</code></pre>\n</blockquote>\n<p>you are trying to cast android.content.Context to your fragment class called StatusFragment. your cx variable (which is a context) cannot cast to your custom fragment directly.</p>\n<p><strong>Inside StatusFragment:</strong></p>\n<pre><code>$YourAdapter adapter = new $YourAdapter (this //pass your custom fragment here,);\n</code></pre>\n<p><strong>Adapter constructor</strong></p>\n<pre><code>StatusFragment fragment\npublic $YourAdapter(StatusFragment fragment, ) {\nthis.fragment = fragment;\n}\n</code></pre>\n<p><strong>Then use it to your onBindHolder;</strong></p>\n<pre><code>new StoryView.Builder(fragment.getChildFragmentManager())\n</code></pre>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77095591,"answer_count":3,"score":0,"last_activity_date":1694596797,"creation_date":1694591097,"question_id":77095032,"body_markdown":"I was using the StoryView for my Chat project. Link-\r\n[StoryView Github][1]\r\n\r\n\r\n  [1]: https://github.com/OMARIHAMZA/StoryView\r\n\r\nSince a recycler view is needed to show the stories, I also made a adapter. The fragment code of the storyview show-\r\n\r\n    public class StatusFragment extends Fragment {\r\n\r\n    FragmentStatusBinding binding;\r\n    FirebaseDatabase db;\r\n    public StatusFragment() {}\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = FragmentStatusBinding.inflate(inflater,container,false);\r\n\r\n        return binding.getRoot();\r\n    }}\r\n\r\n\r\nI want to show the stories in this fragment. The adapter code is-\r\n\r\n    public void onBindViewHolder(@NonNull TopStatusViewHolder holder, int position) {\r\n        UserStatus us = US.get(position);\r\n        Status lastStatus = us.getStatuses().get(us.getStatuses().size()-1); //showing the recent picture user uploaded\r\n\r\n        Glide.with(cx).load(lastStatus.getImageUrl()).placeholder(R.drawable.avatar).into(holder.binding.circleImageView);\r\n        holder.binding.circularStatusView.setPortionsCount(us.getStatuses().size()); //getting the number of pictures user uploaded\r\n        holder.binding.StatusName.setText(us.getName()); //showing the user&#39;s name\r\n\r\n        holder.binding.circularStatusView.setOnClickListener(view -&gt; {\r\n            ArrayList&lt;MyStory&gt; myStories = new ArrayList&lt;&gt;();\r\n            for(Status status: us.getStatuses()){\r\n                myStories.add(new MyStory(status.getImageUrl(), new Date(status.getTimestamp())));\r\n            }\r\n\r\n            new StoryView.Builder(((StatusFragment)cx).getChildFragmentManager()).setStoriesList(myStories)\r\n                    .setStoryDuration(4000).setTitleText(us.getName())\r\n                    .setSubtitleText(&quot;&quot;).setTitleLogoUrl(us.getProfileImage())\r\n                    .setStoryClickListeners(new StoryClickListeners() {\r\n                        @Override\r\n                        public void onDescriptionClickListener(int position) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onTitleIconClickListener(int position) {\r\n\r\n                        }\r\n                    }).build().show();\r\n        });\r\n    }\r\n\r\nI just showed the onBindViewHolder code portion because that&#39;s where the problem is. The problem is in this portion specifically-\r\n\r\n&gt; StoryView.Builder(((StatusFragment)cx).getChildFragmentManager())\r\n\r\nAs you can see here, the typecasting used the StatusFragment, because I want to show the storyview there. But there is an error and I don&#39;t know how to solve it. I have also used **getParentFragmentManager()** but same error. The error is-\r\n\r\n&gt; Inconvertible types; cannot cast &#39;android.content.Context&#39; to &#39;com.joycse.chatty30.fragment.StatusFragment&#39;\r\n\r\nNormally it should be like this (accordingly a video I saw)-\r\n\r\n&gt; new StoryView.Builder(((MainActivity)cx).getSupportFragmentManager())\r\n\r\nThere should be an activity and getSupportFragmentManager works perfectly there, because I guess it&#39;s a full activity, not a fragment. But I wanted to use it on a fragment, not on an activity. What should I use here to solve that error?\r\n\r\nThe full adapter class code below-\r\n\r\n    package com.joycse.chatty30.adapter;\r\n\r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import com.bumptech.glide.Glide;\r\n    import com.joycse.chatty30.R;\r\n    import com.joycse.chatty30.databinding.ItemStatusBinding;\r\n    import com.joycse.chatty30.fragment.StatusFragment;\r\n    import com.joycse.chatty30.model.Status;\r\n    import com.joycse.chatty30.model.UserStatus;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n\r\n    import omari.hamza.storyview.StoryView;\r\n    import omari.hamza.storyview.callback.StoryClickListeners;\r\n    import omari.hamza.storyview.model.MyStory;\r\n\r\n    public class TopStatusAdapter extends \r\n    RecyclerView.Adapter&lt;TopStatusAdapter.TopStatusViewHolder&gt; {\r\n    Context cx;\r\n    ArrayList&lt;UserStatus&gt; US; //*\r\n\r\n    public TopStatusAdapter(Context cx, ArrayList&lt;UserStatus&gt; US) {\r\n        this.cx = cx;\r\n        this.US = US;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TopStatusViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(cx).inflate(R.layout.item_status,parent,false);\r\n        return new TopStatusViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull TopStatusViewHolder holder, int position) {\r\n        UserStatus us = US.get(position);\r\n        Status lastStatus = us.getStatuses().get(us.getStatuses().size()-1); //showing the recent picture user uploaded\r\n\r\n        Glide.with(cx).load(lastStatus.getImageUrl()).placeholder(R.drawable.avatar).into(holder.binding.circleImageView);\r\n        holder.binding.circularStatusView.setPortionsCount(us.getStatuses().size()); //getting the number of pictures user uploaded\r\n        holder.binding.StatusName.setText(us.getName()); //showing the user&#39;s name\r\n\r\n        holder.binding.circularStatusView.setOnClickListener(view -&gt; {\r\n            ArrayList&lt;MyStory&gt; myStories = new ArrayList&lt;&gt;();\r\n            for(Status status: us.getStatuses()){\r\n                myStories.add(new MyStory(status.getImageUrl(), new Date(status.getTimestamp())));\r\n            }\r\n\r\n            new StoryView.Builder(getContext().getSupportFragmentManager()).setStoriesList(myStories)\r\n                    .setStoryDuration(4000).setTitleText(us.getName())\r\n                    .setSubtitleText(&quot;&quot;).setTitleLogoUrl(us.getProfileImage())\r\n                    .setStoryClickListeners(new StoryClickListeners() {\r\n                        @Override\r\n                        public void onDescriptionClickListener(int position) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onTitleIconClickListener(int position) {\r\n\r\n                        }\r\n                    }).build().show();\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {return US.size();}\r\n\r\n    public class TopStatusViewHolder extends RecyclerView.ViewHolder{\r\n        ItemStatusBinding binding;\r\n        public TopStatusViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            binding = ItemStatusBinding.bind(itemView);\r\n        }\r\n    }}","title":"How to get the SupportFragmentManager of a Fragment context in Android Studio","body":"<p>I was using the StoryView for my Chat project. Link-\n<a href=\"https://github.com/OMARIHAMZA/StoryView\" rel=\"nofollow noreferrer\">StoryView Github</a></p>\n<p>Since a recycler view is needed to show the stories, I also made a adapter. The fragment code of the storyview show-</p>\n<pre><code>public class StatusFragment extends Fragment {\n\nFragmentStatusBinding binding;\nFirebaseDatabase db;\npublic StatusFragment() {}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    binding = FragmentStatusBinding.inflate(inflater,container,false);\n\n    return binding.getRoot();\n}}\n</code></pre>\n<p>I want to show the stories in this fragment. The adapter code is-</p>\n<pre><code>public void onBindViewHolder(@NonNull TopStatusViewHolder holder, int position) {\n    UserStatus us = US.get(position);\n    Status lastStatus = us.getStatuses().get(us.getStatuses().size()-1); //showing the recent picture user uploaded\n\n    Glide.with(cx).load(lastStatus.getImageUrl()).placeholder(R.drawable.avatar).into(holder.binding.circleImageView);\n    holder.binding.circularStatusView.setPortionsCount(us.getStatuses().size()); //getting the number of pictures user uploaded\n    holder.binding.StatusName.setText(us.getName()); //showing the user's name\n\n    holder.binding.circularStatusView.setOnClickListener(view -&gt; {\n        ArrayList&lt;MyStory&gt; myStories = new ArrayList&lt;&gt;();\n        for(Status status: us.getStatuses()){\n            myStories.add(new MyStory(status.getImageUrl(), new Date(status.getTimestamp())));\n        }\n\n        new StoryView.Builder(((StatusFragment)cx).getChildFragmentManager()).setStoriesList(myStories)\n                .setStoryDuration(4000).setTitleText(us.getName())\n                .setSubtitleText(&quot;&quot;).setTitleLogoUrl(us.getProfileImage())\n                .setStoryClickListeners(new StoryClickListeners() {\n                    @Override\n                    public void onDescriptionClickListener(int position) {\n\n                    }\n\n                    @Override\n                    public void onTitleIconClickListener(int position) {\n\n                    }\n                }).build().show();\n    });\n}\n</code></pre>\n<p>I just showed the onBindViewHolder code portion because that's where the problem is. The problem is in this portion specifically-</p>\n<blockquote>\n<p>StoryView.Builder(((StatusFragment)cx).getChildFragmentManager())</p>\n</blockquote>\n<p>As you can see here, the typecasting used the StatusFragment, because I want to show the storyview there. But there is an error and I don't know how to solve it. I have also used <strong>getParentFragmentManager()</strong> but same error. The error is-</p>\n<blockquote>\n<p>Inconvertible types; cannot cast 'android.content.Context' to 'com.joycse.chatty30.fragment.StatusFragment'</p>\n</blockquote>\n<p>Normally it should be like this (accordingly a video I saw)-</p>\n<blockquote>\n<p>new StoryView.Builder(((MainActivity)cx).getSupportFragmentManager())</p>\n</blockquote>\n<p>There should be an activity and getSupportFragmentManager works perfectly there, because I guess it's a full activity, not a fragment. But I wanted to use it on a fragment, not on an activity. What should I use here to solve that error?</p>\n<p>The full adapter class code below-</p>\n<pre><code>package com.joycse.chatty30.adapter;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.joycse.chatty30.R;\nimport com.joycse.chatty30.databinding.ItemStatusBinding;\nimport com.joycse.chatty30.fragment.StatusFragment;\nimport com.joycse.chatty30.model.Status;\nimport com.joycse.chatty30.model.UserStatus;\n\nimport java.util.ArrayList;\nimport java.util.Date;\n\nimport omari.hamza.storyview.StoryView;\nimport omari.hamza.storyview.callback.StoryClickListeners;\nimport omari.hamza.storyview.model.MyStory;\n\npublic class TopStatusAdapter extends \nRecyclerView.Adapter&lt;TopStatusAdapter.TopStatusViewHolder&gt; {\nContext cx;\nArrayList&lt;UserStatus&gt; US; //*\n\npublic TopStatusAdapter(Context cx, ArrayList&lt;UserStatus&gt; US) {\n    this.cx = cx;\n    this.US = US;\n}\n\n@NonNull\n@Override\npublic TopStatusViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(cx).inflate(R.layout.item_status,parent,false);\n    return new TopStatusViewHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull TopStatusViewHolder holder, int position) {\n    UserStatus us = US.get(position);\n    Status lastStatus = us.getStatuses().get(us.getStatuses().size()-1); //showing the recent picture user uploaded\n\n    Glide.with(cx).load(lastStatus.getImageUrl()).placeholder(R.drawable.avatar).into(holder.binding.circleImageView);\n    holder.binding.circularStatusView.setPortionsCount(us.getStatuses().size()); //getting the number of pictures user uploaded\n    holder.binding.StatusName.setText(us.getName()); //showing the user's name\n\n    holder.binding.circularStatusView.setOnClickListener(view -&gt; {\n        ArrayList&lt;MyStory&gt; myStories = new ArrayList&lt;&gt;();\n        for(Status status: us.getStatuses()){\n            myStories.add(new MyStory(status.getImageUrl(), new Date(status.getTimestamp())));\n        }\n\n        new StoryView.Builder(getContext().getSupportFragmentManager()).setStoriesList(myStories)\n                .setStoryDuration(4000).setTitleText(us.getName())\n                .setSubtitleText(&quot;&quot;).setTitleLogoUrl(us.getProfileImage())\n                .setStoryClickListeners(new StoryClickListeners() {\n                    @Override\n                    public void onDescriptionClickListener(int position) {\n\n                    }\n\n                    @Override\n                    public void onTitleIconClickListener(int position) {\n\n                    }\n                }).build().show();\n    });\n}\n\n@Override\npublic int getItemCount() {return US.size();}\n\npublic class TopStatusViewHolder extends RecyclerView.ViewHolder{\n    ItemStatusBinding binding;\n    public TopStatusViewHolder(@NonNull View itemView) {\n        super(itemView);\n        binding = ItemStatusBinding.bind(itemView);\n    }\n}}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jdbc"],"answers":[{"tags":[],"owner":{"account_id":5028067,"reputation":511,"user_id":5462443,"display_name":"Mykhailo Hodovaniuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694596760,"creation_date":1694596760,"answer_id":77095748,"question_id":76416567,"body_markdown":"Probably this happens because there is code that instantiates some singleton bean that depends on JdbcLockRegistry and starts using it. \r\nThe problem is that `org.springframework.integration.jdbc.lock.DefaultLockRepository#afterSingletonsInstantiated` Invoked right at the end of the singleton pre-instantiation phase, with a guarantee that all regular singleton beans have been created already.\r\n\r\nFor example, the next code will cause a similar error:\r\n\r\n    @Bean\r\n    public LockRegistryLeaderInitiator leaderInitiator(LockRegistry lockRegistry) {\r\n      var lockRegistryLeaderInitiator = new LockRegistryLeaderInitiator(lockRegistry);\r\n      lockRegistryLeaderInitiator.start();\r\n      return lockRegistryLeaderInitiator;\r\n    }\r\nTo fix it we need to move `lockRegistryLeaderInitiator.start()` outside. One possible solution is to run it after the Spring context has been initialized:\r\n\r\n    @EventListener\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        lockRegistryLeaderInitiator.start();\r\n    }","title":"Getting error after upgrading to spring boot 3 using DefaultLockRepository","body":"<p>Probably this happens because there is code that instantiates some singleton bean that depends on JdbcLockRegistry and starts using it.\nThe problem is that <code>org.springframework.integration.jdbc.lock.DefaultLockRepository#afterSingletonsInstantiated</code> Invoked right at the end of the singleton pre-instantiation phase, with a guarantee that all regular singleton beans have been created already.</p>\n<p>For example, the next code will cause a similar error:</p>\n<pre><code>@Bean\npublic LockRegistryLeaderInitiator leaderInitiator(LockRegistry lockRegistry) {\n  var lockRegistryLeaderInitiator = new LockRegistryLeaderInitiator(lockRegistry);\n  lockRegistryLeaderInitiator.start();\n  return lockRegistryLeaderInitiator;\n}\n</code></pre>\n<p>To fix it we need to move <code>lockRegistryLeaderInitiator.start()</code> outside. One possible solution is to run it after the Spring context has been initialized:</p>\n<pre><code>@EventListener\npublic void onApplicationEvent(ContextRefreshedEvent event) {\n    lockRegistryLeaderInitiator.start();\n}\n</code></pre>\n"}],"owner":{"account_id":15843725,"reputation":121,"user_id":11431537,"display_name":"Wumba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694596760,"creation_date":1686068181,"question_id":76416567,"body_markdown":"I am currently upgrading legacy code from spring-boot v2.7.1 to spring-boot v3.1.0.\r\nUnfortunately, I never had direct contact with JDBC. I mostly use JPA.\r\n\r\nThe error I get is the following: \r\n```\r\norg.springframework.dao.CannotAcquireLockException: Failed to lock mutex at b02643f1-227e-4893-9260-cdbi18x6f377\r\n\r\n...\r\n\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.transaction.support.TransactionTemplate.execute(org.springframework.transaction.support.TransactionCallback)&quot; because &quot;this.serializableTransactionTemplate&quot; is null\r\n\tat org.springframework.integration.jdbc.lock.DefaultLockRepository.acquire(DefaultLockRepository.java:343)\r\n\tat org.springframework.integration.jdbc.lock.JdbcLockRegistry$JdbcLock.doLock(JdbcLockRegistry.java:272)\r\n\tat org.springframework.integration.jdbc.lock.JdbcLockRegistry$JdbcLock.tryLock(JdbcLockRegistry.java:253)\r\n\t... 73 more\r\n``` \r\n\r\nJDBC was used in the following way: \r\n\r\n```\r\n  private JdbcLockRegistry getJdbcLockRegistry() {\r\n        final var dataSource = getDatasource\r\n        final var defaultLockRepository = new DefaultLockRepository(dataSource);\r\n        defaultLockRepository.setPrefix(getSchema());\r\n        defaultLockRepository.afterPropertiesSet();\r\n        return new JdbcLockRegistry(defaultLockRepository);\r\n    }\r\n```\r\n\r\nNow, the DefaultLockRepository class changed because of the upgrade: \r\n * it is not annotated with `@Repository` any more\r\n * following fields have been added which have to be set per setter:\r\n    * `private ApplicationContext applicationContext;`\r\n    * `private PlatformTransactionManager transactionManager;`\r\n    * `private TransactionTemplate defaultTransactionTemplate;`\r\n    * `private TransactionTemplate readOnlyTransactionTemplate;`\r\n    * `private TransactionTemplate serializableTransactionTemplate;`\r\n\r\nAfter debugging, I concluded, that I have to use it the following way: \r\n\r\n```\r\n@Autowired\r\nApplicationContext context;\r\n\r\n    private JdbcLockRegistry getJdbcLockRegistry() {\r\n        final var dataSource = getDatasource();\r\n        final var defaultLockRepository = new DefaultLockRepository(dataSource);\r\n        defaultLockRepository.setApplicationContext(context);\r\n        defaultLockRepository.setPrefix(getSchema());\r\n        defaultLockRepository.afterSingletonsInstantiated();\r\n        defaultLockRepository.afterPropertiesSet();\r\n        return new JdbcLockRegistry(defaultLockRepository);\r\n    }\r\n```\r\n\r\nIs this valid? Why Do I have to autowire the ApplicationContext myself? Normally, Spring handles injection of Beans and therefore the ApplicationContext itself? \r\nI am fairly confused by the changes. The tests are running tough. ","title":"Getting error after upgrading to spring boot 3 using DefaultLockRepository","body":"<p>I am currently upgrading legacy code from spring-boot v2.7.1 to spring-boot v3.1.0.\nUnfortunately, I never had direct contact with JDBC. I mostly use JPA.</p>\n<p>The error I get is the following:</p>\n<pre><code>org.springframework.dao.CannotAcquireLockException: Failed to lock mutex at b02643f1-227e-4893-9260-cdbi18x6f377\n\n...\n\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.transaction.support.TransactionTemplate.execute(org.springframework.transaction.support.TransactionCallback)&quot; because &quot;this.serializableTransactionTemplate&quot; is null\n    at org.springframework.integration.jdbc.lock.DefaultLockRepository.acquire(DefaultLockRepository.java:343)\n    at org.springframework.integration.jdbc.lock.JdbcLockRegistry$JdbcLock.doLock(JdbcLockRegistry.java:272)\n    at org.springframework.integration.jdbc.lock.JdbcLockRegistry$JdbcLock.tryLock(JdbcLockRegistry.java:253)\n    ... 73 more\n</code></pre>\n<p>JDBC was used in the following way:</p>\n<pre><code>  private JdbcLockRegistry getJdbcLockRegistry() {\n        final var dataSource = getDatasource\n        final var defaultLockRepository = new DefaultLockRepository(dataSource);\n        defaultLockRepository.setPrefix(getSchema());\n        defaultLockRepository.afterPropertiesSet();\n        return new JdbcLockRegistry(defaultLockRepository);\n    }\n</code></pre>\n<p>Now, the DefaultLockRepository class changed because of the upgrade:</p>\n<ul>\n<li>it is not annotated with <code>@Repository</code> any more</li>\n<li>following fields have been added which have to be set per setter:\n<ul>\n<li><code>private ApplicationContext applicationContext;</code></li>\n<li><code>private PlatformTransactionManager transactionManager;</code></li>\n<li><code>private TransactionTemplate defaultTransactionTemplate;</code></li>\n<li><code>private TransactionTemplate readOnlyTransactionTemplate;</code></li>\n<li><code>private TransactionTemplate serializableTransactionTemplate;</code></li>\n</ul>\n</li>\n</ul>\n<p>After debugging, I concluded, that I have to use it the following way:</p>\n<pre><code>@Autowired\nApplicationContext context;\n\n    private JdbcLockRegistry getJdbcLockRegistry() {\n        final var dataSource = getDatasource();\n        final var defaultLockRepository = new DefaultLockRepository(dataSource);\n        defaultLockRepository.setApplicationContext(context);\n        defaultLockRepository.setPrefix(getSchema());\n        defaultLockRepository.afterSingletonsInstantiated();\n        defaultLockRepository.afterPropertiesSet();\n        return new JdbcLockRegistry(defaultLockRepository);\n    }\n</code></pre>\n<p>Is this valid? Why Do I have to autowire the ApplicationContext myself? Normally, Spring handles injection of Beans and therefore the ApplicationContext itself?\nI am fairly confused by the changes. The tests are running tough.</p>\n"},{"tags":["java","continuous-integration","sonarqube","out-of-memory","devops"],"owner":{"account_id":22497783,"reputation":1,"user_id":20814696,"display_name":"Hromis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694596538,"creation_date":1694596137,"question_id":77095664,"body_markdown":"I am runnig sonarQube from docker compose.\r\nI am getting java heap OutOfMemory exception. How can I adjust configuration or env variables to be able to process big project ??\r\n\r\n(https://i.stack.imgur.com/WEtUu.png)\r\n\r\nI am trying to specify these\r\nSONAR_JAVA_OPTS: &quot;-Xmx5g -Xms2g&quot;\r\nSONAR_CE_JAVA_OPTS: &quot;-Xmx5g -Xms2g&quot;\r\n,but when I check docker log I cannot see the right settings\r\n\r\n`sonarqube-sonarqube-1  | 2023.09.13 09:02:18 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[COMPUTE_ENGINE] from [/opt/sonarqube]: /opt/java/openjdk/bin/java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/sonarqube/temp -XX:-OmitStackTraceInFastThrow --add-opens=java.base/java.util=ALL-UNNAMED --add-exports=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Dcom.redhat.fips=false -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -Dhttp.nonProxyHosts=localhost|127.*|[::1] -cp ./lib/sonar-application-10.1.0.73491.jar:/opt/sonarqube/lib/jdbc/postgresql/postgresql-42.6.0.jar org.sonar.ce.app.CeServer /opt/sonarqube/temp/sq-process15823221518521224531properties`\r\n\r\n```\r\nversion: &quot;3&quot;\r\n\r\nservices:\r\n  sonarqube:\r\n    image: sonarqube:community\r\n    depends_on:\r\n      - db\r\n    environment:\r\n      SONAR_JDBC_URL: jdbc:postgresql://db:5432/sonar\r\n      SONAR_JDBC_USERNAME: sonar\r\n      SONAR_JDBC_PASSWORD: sonar\r\n      SONAR_JAVA_OPTS: &quot;-Xmx5g -Xms2g&quot;\r\n      SONAR_CE_JAVA_OPTS: &quot;-Xmx5g -Xms2g&quot;\r\n    restart: always\r\n    volumes:\r\n      - sonarqube_data:/opt/sonarqube/data\r\n      - sonarqube_extensions:/opt/sonarqube/extensions\r\n      - sonarqube_logs:/opt/sonarqube/logs\r\n    ports:\r\n      - &quot;9000:9000&quot;\r\n  db:\r\n    image: postgres:12\r\n    environment:\r\n      POSTGRES_USER: sonar\r\n      POSTGRES_PASSWORD: sonar\r\n    restart: always\r\n    volumes:\r\n      - postgresql:/var/lib/postgresql\r\n      - postgresql_data:/var/lib/postgresql/data\r\n\r\nvolumes:\r\n  sonarqube_data:\r\n  sonarqube_extensions:\r\n  sonarqube_logs:\r\n  postgresql:\r\n  postgresql_data:\r\n```\r\n\r\nI need to set 5g to compute engine to be able to process the analysis on sonars side","title":"SonarQube java heap OutOfMemory","body":"<p>I am runnig sonarQube from docker compose.\nI am getting java heap OutOfMemory exception. How can I adjust configuration or env variables to be able to process big project ??</p>\n<p>(<a href=\"https://i.stack.imgur.com/WEtUu.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/WEtUu.png</a>)</p>\n<p>I am trying to specify these\nSONAR_JAVA_OPTS: &quot;-Xmx5g -Xms2g&quot;\nSONAR_CE_JAVA_OPTS: &quot;-Xmx5g -Xms2g&quot;\n,but when I check docker log I cannot see the right settings</p>\n<p><code>sonarqube-sonarqube-1  | 2023.09.13 09:02:18 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[COMPUTE_ENGINE] from [/opt/sonarqube]: /opt/java/openjdk/bin/java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/sonarqube/temp -XX:-OmitStackTraceInFastThrow --add-opens=java.base/java.util=ALL-UNNAMED --add-exports=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED -Dcom.redhat.fips=false -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -Dhttp.nonProxyHosts=localhost|127.*|[::1] -cp ./lib/sonar-application-10.1.0.73491.jar:/opt/sonarqube/lib/jdbc/postgresql/postgresql-42.6.0.jar org.sonar.ce.app.CeServer /opt/sonarqube/temp/sq-process15823221518521224531properties</code></p>\n<pre><code>version: &quot;3&quot;\n\nservices:\n  sonarqube:\n    image: sonarqube:community\n    depends_on:\n      - db\n    environment:\n      SONAR_JDBC_URL: jdbc:postgresql://db:5432/sonar\n      SONAR_JDBC_USERNAME: sonar\n      SONAR_JDBC_PASSWORD: sonar\n      SONAR_JAVA_OPTS: &quot;-Xmx5g -Xms2g&quot;\n      SONAR_CE_JAVA_OPTS: &quot;-Xmx5g -Xms2g&quot;\n    restart: always\n    volumes:\n      - sonarqube_data:/opt/sonarqube/data\n      - sonarqube_extensions:/opt/sonarqube/extensions\n      - sonarqube_logs:/opt/sonarqube/logs\n    ports:\n      - &quot;9000:9000&quot;\n  db:\n    image: postgres:12\n    environment:\n      POSTGRES_USER: sonar\n      POSTGRES_PASSWORD: sonar\n    restart: always\n    volumes:\n      - postgresql:/var/lib/postgresql\n      - postgresql_data:/var/lib/postgresql/data\n\nvolumes:\n  sonarqube_data:\n  sonarqube_extensions:\n  sonarqube_logs:\n  postgresql:\n  postgresql_data:\n</code></pre>\n<p>I need to set 5g to compute engine to be able to process the analysis on sonars side</p>\n"},{"tags":["java","maven","impala"],"owner":{"account_id":14664471,"reputation":15,"user_id":10590695,"display_name":"Beuna S Aliyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694595682,"creation_date":1694595682,"question_id":77095603,"body_markdown":"I have added the below plugin and dependency in my pom.xml file\r\n\r\n \r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;install-external&lt;/id&gt;\r\n                            &lt;phase&gt;initialize&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;file&gt;${project.basedir}/../lib/ImpalaJDBC41.jar&lt;/file&gt;\r\n                                &lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\r\n                                &lt;groupId&gt;com.cloudera.impala.jdbc&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;ImpalaJDBC41&lt;/artifactId&gt;\r\n                                &lt;version&gt;2.6.4.1005&lt;/version&gt;\r\n                                &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                                &lt;generatePom&gt;true&lt;/generatePom&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;install-file&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n    \r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;com.cloudera.impala.jdbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ImpalaJDBC41&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.4.1005&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nbut pipeline job failed with error:\r\n\r\n    *[ERROR] Failed to execute goal on project data-management: Could not resolve dependencies for project net.core:data-management:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.cloudera.impala.jdbc:ImpalaJDBC41:jar:2.6.4.1005: Failed to read artifact descriptor for com.cloudera.impala.jdbc:ImpalaJDBC41:jar:2.6.4.1005: Could not transfer artifact com.cloudera.impala.jdbc:ImpalaJDBC41:pom:2.6.4.1005 from/to maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories: [jcenter (http://jcenter.bintray.com, default, releases+snapshots)] -&gt; [Help 1]*\r\n\r\nI have added ImpalaJDBC41:jar in lib folder and version is also same","title":"Failed to collect dependencies at com.cloudera.impala.jdbc:ImpalaJDBC41:jar:2.6.4.1005","body":"<p>I have added the below plugin and dependency in my pom.xml file</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install-external&lt;/id&gt;\n                        &lt;phase&gt;initialize&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;file&gt;${project.basedir}/../lib/ImpalaJDBC41.jar&lt;/file&gt;\n                            &lt;repositoryLayout&gt;default&lt;/repositoryLayout&gt;\n                            &lt;groupId&gt;com.cloudera.impala.jdbc&lt;/groupId&gt;\n                            &lt;artifactId&gt;ImpalaJDBC41&lt;/artifactId&gt;\n                            &lt;version&gt;2.6.4.1005&lt;/version&gt;\n                            &lt;packaging&gt;jar&lt;/packaging&gt;\n                            &lt;generatePom&gt;true&lt;/generatePom&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-file&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n\n  &lt;dependency&gt;\n            &lt;groupId&gt;com.cloudera.impala.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ImpalaJDBC41&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4.1005&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>but pipeline job failed with error:</p>\n<pre><code>*[ERROR] Failed to execute goal on project data-management: Could not resolve dependencies for project net.core:data-management:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.cloudera.impala.jdbc:ImpalaJDBC41:jar:2.6.4.1005: Failed to read artifact descriptor for com.cloudera.impala.jdbc:ImpalaJDBC41:jar:2.6.4.1005: Could not transfer artifact com.cloudera.impala.jdbc:ImpalaJDBC41:pom:2.6.4.1005 from/to maven-default-http-blocker (http://0.0.0.0/): Blocked mirror for repositories: [jcenter (http://jcenter.bintray.com, default, releases+snapshots)] -&gt; [Help 1]*\n</code></pre>\n<p>I have added ImpalaJDBC41:jar in lib folder and version is also same</p>\n"},{"tags":["java","android","permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694595902,"post_id":77095596,"comment_id":135910701,"body_markdown":"`How to write to app storage specific for other apps` Please change that to How to write to app storage specific for other apps on removable micro sd card. Or yet better: How to write on a removable micro sd card. As that is just the problem.","body":"<code>How to write to app storage specific for other apps</code> Please change that to How to write to app storage specific for other apps on removable micro sd card. Or yet better: How to write on a removable micro sd card. As that is just the problem."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694596024,"post_id":77095596,"comment_id":135910728,"body_markdown":"`File appAExternalStorage = getDownloadDirPath();` ??? Post code that every body can read. Your download path tells us nothing.","body":"<code>File appAExternalStorage = getDownloadDirPath();</code> ??? Post code that every body can read. Your download path tells us nothing."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1694596097,"post_id":77095596,"comment_id":135910744,"body_markdown":"And further you know already the answer: https://stackoverflow.com/questions/77087381/how-to-access-sdcard-storage-in-android","body":"And further you know already the answer: <a href=\"https://stackoverflow.com/questions/77087381/how-to-access-sdcard-storage-in-android\" title=\"how to access sdcard storage in android\">stackoverflow.com/questions/77087381/&hellip;</a>"},{"owner":{"account_id":2116673,"reputation":678,"user_id":1880811,"display_name":"Asthor"},"score":0,"creation_date":1694611650,"post_id":77095596,"comment_id":135913997,"body_markdown":"Does this answer your question? [How to access SDCard storage in android](https://stackoverflow.com/questions/77087381/how-to-access-sdcard-storage-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/77087381/how-to-access-sdcard-storage-in-android\">How to access SDCard storage in android</a>"}],"owner":{"display_name":"user22506935"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694595643,"creation_date":1694595643,"question_id":77095596,"body_markdown":"I want to access the storage of another app on Android 7. Assume the following: BundleId of app A: com.test.appA BundleId of app B: com.test.appB\r\n\r\nThe external storage path is as follows. /storage/0123-4567/Android/data/com.test.appA/files /storage/0123-4567/Android/data/com.test.appB/files\r\n(0123-4567 is my sdcard name.)\r\nThis path was obtained using getExternalFilesDirs().\r\n\r\nI want to move the files in app A&#39;s files/ to app B&#39;s files/. However, even if you request WRITE_EXTERNAL_STORAGE permission, app A does not have permission to write to app B&#39;s external storage, and you will get angry.\r\n\r\nWhile investigating, I found that File manager apps can access here. With file manager apps, in addition to the permission dialog that appears when you request permission with WRITE_EXTERNAL_STORAGE or READ_EXTERNAL_STORAGE immediately after startup, a dialog asking for permission to access the SD card appears when you access the SD card directory or attempt to operate it. It shows. What permission is this requesting? I investigated multiple file manager apps, but since they all have the same request wording, I suspect that the request was prepared by the system.\r\n\r\nmy sample code.\r\n\r\n```\r\nFile appAExternalStorage = getDownloadDirPath();\r\nString appAExternalStoragePath = appAExternalStorage.getAbsolutePath();\r\nappAExternalStorage.canWrite(); &lt;-- This result is true.\r\n\r\nString appBExternalStoragePath = appAEternalStoragePath.replace(&quot;com.test.appA&quot;, &quot;com.test.appB&quot;);\r\nFile appBExternalStorage = new File(appBExternalStoragePath);\r\n\r\nappBExternalStorage.canWrite(); &lt;-- This result is false.\r\n```\r\n\r\nI want the result of appBExternalStorage.canWrite() to be true.\r\n\r\nI would be happy if anyone could let me know if they have any information. thank you.","title":"How to write to app storage specific for other apps","body":"<p>I want to access the storage of another app on Android 7. Assume the following: BundleId of app A: com.test.appA BundleId of app B: com.test.appB</p>\n<p>The external storage path is as follows. /storage/0123-4567/Android/data/com.test.appA/files /storage/0123-4567/Android/data/com.test.appB/files\n(0123-4567 is my sdcard name.)\nThis path was obtained using getExternalFilesDirs().</p>\n<p>I want to move the files in app A's files/ to app B's files/. However, even if you request WRITE_EXTERNAL_STORAGE permission, app A does not have permission to write to app B's external storage, and you will get angry.</p>\n<p>While investigating, I found that File manager apps can access here. With file manager apps, in addition to the permission dialog that appears when you request permission with WRITE_EXTERNAL_STORAGE or READ_EXTERNAL_STORAGE immediately after startup, a dialog asking for permission to access the SD card appears when you access the SD card directory or attempt to operate it. It shows. What permission is this requesting? I investigated multiple file manager apps, but since they all have the same request wording, I suspect that the request was prepared by the system.</p>\n<p>my sample code.</p>\n<pre><code>File appAExternalStorage = getDownloadDirPath();\nString appAExternalStoragePath = appAExternalStorage.getAbsolutePath();\nappAExternalStorage.canWrite(); &lt;-- This result is true.\n\nString appBExternalStoragePath = appAEternalStoragePath.replace(&quot;com.test.appA&quot;, &quot;com.test.appB&quot;);\nFile appBExternalStorage = new File(appBExternalStoragePath);\n\nappBExternalStorage.canWrite(); &lt;-- This result is false.\n</code></pre>\n<p>I want the result of appBExternalStorage.canWrite() to be true.</p>\n<p>I would be happy if anyone could let me know if they have any information. thank you.</p>\n"},{"tags":["java","intellij-idea","junit","code-coverage"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1694594478,"post_id":77095255,"comment_id":135910376,"body_markdown":"Please share idea.log (&quot;Help | Show Log in...&quot;) after restarting IDE and reproducing the issue. Is coverage data shown in tool window?","body":"Please share idea.log (&quot;Help | Show Log in...&quot;) after restarting IDE and reproducing the issue. Is coverage data shown in tool window?"}],"owner":{"account_id":29237128,"reputation":1,"user_id":22399544,"display_name":"rendoteru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694595453,"creation_date":1694593029,"question_id":77095255,"body_markdown":"I want to generate a coverage report from IDEA/ I&#39;ve seen [this](https://www.jetbrains.com/help/idea/generating-code-coverage-report.html) instruction and a lot of other. But I simply don&#39;t have this button in the Coverage tool window or in any other places.\r\n[my coverage tool window](https://i.stack.imgur.com/1UCry.png)\r\n\r\nHas anyone been able to solve a similar problem?\r\n\r\n`idea.log` afret running with coverage:\r\n\r\n    2023-09-13 11:47:48,294 [11997474]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stdout]: Build process started. Classpath: /snap/intellij-idea-community/454/plugins/java/lib/jps-launcher.jar\r\n    \r\n    2023-09-13 11:47:54,014 [12003194]   WARN - #c.i.u.t.AsyncTreeModel - ignore duplicated child at 7: ru.projectname.ws.user.test\r\n    \r\n    2023-09-13 11:48:59,376 [12068556]   INFO - #c.i.o.a.i.FlushQueue - waitedInQueueNs(-2784) | executionDurationNs(2316375) is negative -&gt; unexpected state\r\n    \r\n    2023-09-13 11:49:25,644 [12094824]   INFO - #c.i.w.i.i.j.s.JpsGlobalModelSynchronizerImpl - Saving global entities to files\r\n    \r\n    2023-09-13 11:49:25,672 [12094852]   INFO - #c.i.c.i.CompileDriver - COMPILATION STARTED (BUILD PROCESS)\r\n    \r\n    2023-09-13 11:49:25,678 [12094858]   INFO - #c.i.c.s.BuildManager - Using preloaded build process to compile /home/victoria/Desktop/unit/ru.projectname.ws.user\r\n    \r\n    2023-09-13 11:49:25,690 [12094870]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader is closed\r\n    \r\n    2023-09-13 11:49:25,690 [12094870]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - KCRI storage is closed (didn&#39;t exist)\r\n    \r\n    2023-09-13 11:49:26,023 [12095203]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader is opened\r\n    \r\n    2023-09-13 11:49:26,025 [12095205]   WARN - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - kotlin-data-container is not found\r\n    \r\n    2023-09-13 11:49:26,138 [12095318]   INFO - #c.i.c.i.CompilerUtil -   COMPILATION FINISHED (BUILD PROCESS); Errors: 0; warnings: 0 took 671 ms: 0 min 0sec\r\n    \r\n    2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: An illegal reflective access operation has occurred\r\n    \r\n    2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: Illegal reflective access by com.intellij.openapi.diagnostic.JulLogger (file:/snap/intellij-idea-community/454/lib/util-8.jar) to field java.lang.ApplicationShutdownHooks.hooks\r\n    \r\n    2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: Please consider reporting this to the maintainers of com.intellij.openapi.diagnostic.JulLogger\r\n    \r\n    2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    \r\n    2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: All illegal access operations will be denied in a future release\r\n    \r\n    2023-09-13 11:49:26,478 [12095658]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stdout]: Build process started. Classpath: /snap/intellij-idea-community/454/plugins/java/lib/jps-launcher.jar\r\n    \r\n    2023-09-13 11:49:30,910 [12100090]   WARN - #c.i.u.t.AsyncTreeModel - ignore duplicated child at 7: ru.projectname.ws.user.test","title":"Can&#39;t generate coverage report in Intellij IDEA","body":"<p>I want to generate a coverage report from IDEA/ I've seen <a href=\"https://www.jetbrains.com/help/idea/generating-code-coverage-report.html\" rel=\"nofollow noreferrer\">this</a> instruction and a lot of other. But I simply don't have this button in the Coverage tool window or in any other places.\n<a href=\"https://i.stack.imgur.com/1UCry.png\" rel=\"nofollow noreferrer\">my coverage tool window</a></p>\n<p>Has anyone been able to solve a similar problem?</p>\n<p><code>idea.log</code> afret running with coverage:</p>\n<pre><code>2023-09-13 11:47:48,294 [11997474]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stdout]: Build process started. Classpath: /snap/intellij-idea-community/454/plugins/java/lib/jps-launcher.jar\n\n2023-09-13 11:47:54,014 [12003194]   WARN - #c.i.u.t.AsyncTreeModel - ignore duplicated child at 7: ru.projectname.ws.user.test\n\n2023-09-13 11:48:59,376 [12068556]   INFO - #c.i.o.a.i.FlushQueue - waitedInQueueNs(-2784) | executionDurationNs(2316375) is negative -&gt; unexpected state\n\n2023-09-13 11:49:25,644 [12094824]   INFO - #c.i.w.i.i.j.s.JpsGlobalModelSynchronizerImpl - Saving global entities to files\n\n2023-09-13 11:49:25,672 [12094852]   INFO - #c.i.c.i.CompileDriver - COMPILATION STARTED (BUILD PROCESS)\n\n2023-09-13 11:49:25,678 [12094858]   INFO - #c.i.c.s.BuildManager - Using preloaded build process to compile /home/victoria/Desktop/unit/ru.projectname.ws.user\n\n2023-09-13 11:49:25,690 [12094870]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader is closed\n\n2023-09-13 11:49:25,690 [12094870]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - KCRI storage is closed (didn't exist)\n\n2023-09-13 11:49:26,023 [12095203]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader is opened\n\n2023-09-13 11:49:26,025 [12095205]   WARN - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - kotlin-data-container is not found\n\n2023-09-13 11:49:26,138 [12095318]   INFO - #c.i.c.i.CompilerUtil -   COMPILATION FINISHED (BUILD PROCESS); Errors: 0; warnings: 0 took 671 ms: 0 min 0sec\n\n2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: An illegal reflective access operation has occurred\n\n2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: Illegal reflective access by com.intellij.openapi.diagnostic.JulLogger (file:/snap/intellij-idea-community/454/lib/util-8.jar) to field java.lang.ApplicationShutdownHooks.hooks\n\n2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: Please consider reporting this to the maintainers of com.intellij.openapi.diagnostic.JulLogger\n\n2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\n\n2023-09-13 11:49:26,394 [12095574]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stderr]: WARNING: All illegal access operations will be denied in a future release\n\n2023-09-13 11:49:26,478 [12095658]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stdout]: Build process started. Classpath: /snap/intellij-idea-community/454/plugins/java/lib/jps-launcher.jar\n\n2023-09-13 11:49:30,910 [12100090]   WARN - #c.i.u.t.AsyncTreeModel - ignore duplicated child at 7: ru.projectname.ws.user.test\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1694159006,"post_id":77064686,"comment_id":135857333,"body_markdown":"Does [this](https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects) help?","body":"Does <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">this</a> help?"}],"answers":[{"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694160564,"creation_date":1694160564,"answer_id":77065190,"question_id":77064686,"body_markdown":"There are three step in your project.\\\r\nFirst you have to download a extension named **Extension Pack for Java**.\\\r\nSecond you have to edit in settings.json of Java.The path is Settings/Users/Java.And add the configuration in it.\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n            {\r\n                name:&quot;JavaSE-1.8&quot;,\r\n                path:&quot;D:\\\\develop\\\\jdk\\\\corretto-1.8.0_362&quot;,\r\n                &quot;default&quot;: true\r\n            },\r\n            {\r\n                name:&quot;Javase-11&quot;,\r\n                path:&quot;D:\\\\develop\\\\jdk\\\\corretto-11.0.19&quot;\r\n            }\r\n        ]\r\n\r\nThen you must check the jdk version on your maven file or gradle file is the current version you wanted.\r\nThe follow is a picture of the operation.The java extension only occure when you installed the Extension Pack for Java\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yanmo.png","title":"In VS Code how to change the JRE for a project only","body":"<p>There are three step in your project.<br />\nFirst you have to download a extension named <strong>Extension Pack for Java</strong>.<br />\nSecond you have to edit in settings.json of Java.The path is Settings/Users/Java.And add the configuration in it.</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n        {\n            name:&quot;JavaSE-1.8&quot;,\n            path:&quot;D:\\\\develop\\\\jdk\\\\corretto-1.8.0_362&quot;,\n            &quot;default&quot;: true\n        },\n        {\n            name:&quot;Javase-11&quot;,\n            path:&quot;D:\\\\develop\\\\jdk\\\\corretto-11.0.19&quot;\n        }\n    ]\n</code></pre>\n<p>Then you must check the jdk version on your maven file or gradle file is the current version you wanted.\nThe follow is a picture of the operation.The java extension only occure when you installed the Extension Pack for Java</p>\n<p><a href=\"https://i.stack.imgur.com/Yanmo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yanmo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694595388,"creation_date":1694595388,"answer_id":77095554,"question_id":77064686,"body_markdown":" &gt; To see which JDKs are used for your projects, you can trigger the command **Java: Configure Java Runtime** in **Command Palette** (`Ctrl+Shift+P`). This command opens a view displaying the runtime information for your projects:\r\n &gt; \r\n &gt; [![enter image description here][1]][1]\r\n\r\n - https://code.visualstudio.com/docs/java/java-project#_change-jdk-for-unmanaged-folders\r\n\r\nThe **Java** extension requires a minimum version of **Java 17** to activate the java language server, use the following setting\r\n\r\n```json\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NS6Nf.png","title":"In VS Code how to change the JRE for a project only","body":"<blockquote>\n<p>To see which JDKs are used for your projects, you can trigger the command <strong>Java: Configure Java Runtime</strong> in <strong>Command Palette</strong> (<code>Ctrl+Shift+P</code>). This command opens a view displaying the runtime information for your projects:</p>\n<p><a href=\"https://i.stack.imgur.com/NS6Nf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NS6Nf.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs/java/java-project#_change-jdk-for-unmanaged-folders\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_change-jdk-for-unmanaged-folders</a></li>\n</ul>\n<p>The <strong>Java</strong> extension requires a minimum version of <strong>Java 17</strong> to activate the java language server, use the following setting</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;java.jdt.ls.java.home&quot;: &quot;E:\\\\Program Files\\\\Java\\\\jdk-17.0.5&quot;,\n</code></pre>\n"}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694595388,"creation_date":1694155365,"question_id":77064686,"body_markdown":"In VS Code I want to run a particular project with an older JRE (Java. 1.8) than the one VS Code and its language server uses (Java 17).\r\n\r\nHow can I change the JRE for a project to an older JRE? I tried righting click on the JRE in the Java Projects view:\r\n\r\n[![JRE in VS Code][1]][1]\r\n\r\nHowever, with this I could not get to a related setting.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eOAIS.png","title":"In VS Code how to change the JRE for a project only","body":"<p>In VS Code I want to run a particular project with an older JRE (Java. 1.8) than the one VS Code and its language server uses (Java 17).</p>\n<p>How can I change the JRE for a project to an older JRE? I tried righting click on the JRE in the Java Projects view:</p>\n<p><a href=\"https://i.stack.imgur.com/eOAIS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eOAIS.png\" alt=\"JRE in VS Code\" /></a></p>\n<p>However, with this I could not get to a related setting.</p>\n"},{"tags":["java","spring-boot","docker-compose","testcontainers-junit5"],"owner":{"account_id":16116853,"reputation":55,"user_id":11633731,"display_name":"Saverio Mirko Viola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694594677,"creation_date":1694594677,"question_id":77095477,"body_markdown":"I&#39;m writing some integration tests with Junit5 and Testcontainer for my spring-boot app.\r\nI&#39;m experiencing an issue due to random port exposition performed by testcontainer.\r\n\r\nHere is the abstract class I use for all my integration tests:\r\n```\r\n@Slf4j\r\npublic class AbstractContainerBaseTest {\r\n\r\n    static final ComposeContainer ORACLE_OPIOWNER_CONTANINER;\r\n    static final ComposeContainer ORACLE_FIRMAOWNER_CONTANINER;\r\n\r\n    static {\r\n        ORACLE_OPIOWNER_CONTANINER = new ComposeContainer(new File(&quot;src/test/resources/docker-compose1.yml&quot;))\r\n                .withExposedService(&quot;opiowner&quot;, 1521, Wait.forListeningPort())\r\n                .withLocalCompose(true);\r\n\r\n\r\n        ORACLE_FIRMAOWNER_CONTANINER = new ComposeContainer(new File(&quot;src/test/resources/docker-compose2.yml&quot;))\r\n                .withExposedService(&quot;firmaowner&quot;, 1523, Wait.forListeningPort())\r\n                .withLocalCompose(true);\r\n\r\n        Startables.deepStart(ORACLE_OPIOWNER_CONTANINER, ORACLE_FIRMAOWNER_CONTANINER).join();\r\n\r\n\r\n        System.setProperty(&quot;spring.datasource.driver-class-name&quot;, &quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n        System.setProperty(&quot;spring.datasource.url&quot;, &quot;jdbc:oracle:thin:&quot; + ORACLE_OPIOWNER_CONTANINER.getServiceHost(&quot;opiowner&quot;, 1521) + &quot;:&quot; + ORACLE_OPIOWNER_CONTANINER.getServicePort(&quot;opiowner&quot;, 1521));\r\n        System.setProperty(&quot;spring.datasource.username&quot;, &quot;OPIOWNER&quot;);\r\n        System.setProperty(&quot;spring.datasource.password&quot;, &quot;password&quot;);\r\n\r\n        System.setProperty(&quot;spring.second-datasource.url&quot;, &quot;jdbc:oracle:thin:&quot; + ORACLE_FIRMAOWNER_CONTANINER.getServiceHost(&quot;firmaowner&quot;, 1523) + &quot;:&quot; + ORACLE_FIRMAOWNER_CONTANINER.getServicePort(&quot;firmaowner&quot;, 1523));\r\n        System.setProperty(&quot;spring.second-datasource.username&quot;, &quot;FIRMAOWNER&quot;);\r\n        System.setProperty(&quot;spring.second-datasource.password&quot;, &quot;password&quot;);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI start 2 containers from docker-compose.yml files.\r\nHere are the docker compose files:\r\n```\r\nversion: &quot;3.8&quot;\r\nservices:\r\n  opiowner:\r\n    image: gvenzl/oracle-xe:21-slim\r\n    expose: \r\n      - &quot;1521&quot;\r\n    environment:\r\n      ORACLE_PASSWORD: password\r\n      ORACLE_DATABASE: opiowner\r\n      APP_USER: opiowner\r\n      APP_USER_PASSWORD: password\r\n\r\n    command: printenv\r\n\r\nand\r\n\r\nversion: &quot;3.8&quot;\r\nservices:\r\n  firmaowner:\r\n    image: gvenzl/oracle-xe:21-slim\r\n    expose:\r\n      - &quot;1523&quot;\r\n    environment:\r\n      ORACLE_PASSWORD: password\r\n      ORACLE_DATABASE: firmaowner\r\n      APP_USER: firmaowner\r\n      APP_USER_PASSWORD: password\r\n\r\n    command: printenv\r\n```\r\n\r\nI found this related question and aswer here on StackOverflow:\r\nhttps://stackoverflow.com/questions/56208301/timed-out-waiting-for-container-port-to-open-localhost-ports-32773-should-be, but although I have added &#39; expose: -&quot;1521(1523)&quot; &#39; in my docker files, I am still getting the same error.\r\n\r\nDoes anyone knows ho to fix this?\r\n\r\nThanks,\r\nSaverio","title":"Java org.testcontainers.containers.ContainerLaunchException: Timed out waiting for container port to open (localhost ports: [xxx] should be listening)","body":"<p>I'm writing some integration tests with Junit5 and Testcontainer for my spring-boot app.\nI'm experiencing an issue due to random port exposition performed by testcontainer.</p>\n<p>Here is the abstract class I use for all my integration tests:</p>\n<pre><code>@Slf4j\npublic class AbstractContainerBaseTest {\n\n    static final ComposeContainer ORACLE_OPIOWNER_CONTANINER;\n    static final ComposeContainer ORACLE_FIRMAOWNER_CONTANINER;\n\n    static {\n        ORACLE_OPIOWNER_CONTANINER = new ComposeContainer(new File(&quot;src/test/resources/docker-compose1.yml&quot;))\n                .withExposedService(&quot;opiowner&quot;, 1521, Wait.forListeningPort())\n                .withLocalCompose(true);\n\n\n        ORACLE_FIRMAOWNER_CONTANINER = new ComposeContainer(new File(&quot;src/test/resources/docker-compose2.yml&quot;))\n                .withExposedService(&quot;firmaowner&quot;, 1523, Wait.forListeningPort())\n                .withLocalCompose(true);\n\n        Startables.deepStart(ORACLE_OPIOWNER_CONTANINER, ORACLE_FIRMAOWNER_CONTANINER).join();\n\n\n        System.setProperty(&quot;spring.datasource.driver-class-name&quot;, &quot;oracle.jdbc.driver.OracleDriver&quot;);\n        System.setProperty(&quot;spring.datasource.url&quot;, &quot;jdbc:oracle:thin:&quot; + ORACLE_OPIOWNER_CONTANINER.getServiceHost(&quot;opiowner&quot;, 1521) + &quot;:&quot; + ORACLE_OPIOWNER_CONTANINER.getServicePort(&quot;opiowner&quot;, 1521));\n        System.setProperty(&quot;spring.datasource.username&quot;, &quot;OPIOWNER&quot;);\n        System.setProperty(&quot;spring.datasource.password&quot;, &quot;password&quot;);\n\n        System.setProperty(&quot;spring.second-datasource.url&quot;, &quot;jdbc:oracle:thin:&quot; + ORACLE_FIRMAOWNER_CONTANINER.getServiceHost(&quot;firmaowner&quot;, 1523) + &quot;:&quot; + ORACLE_FIRMAOWNER_CONTANINER.getServicePort(&quot;firmaowner&quot;, 1523));\n        System.setProperty(&quot;spring.second-datasource.username&quot;, &quot;FIRMAOWNER&quot;);\n        System.setProperty(&quot;spring.second-datasource.password&quot;, &quot;password&quot;);\n\n    }\n\n}\n</code></pre>\n<p>I start 2 containers from docker-compose.yml files.\nHere are the docker compose files:</p>\n<pre><code>version: &quot;3.8&quot;\nservices:\n  opiowner:\n    image: gvenzl/oracle-xe:21-slim\n    expose: \n      - &quot;1521&quot;\n    environment:\n      ORACLE_PASSWORD: password\n      ORACLE_DATABASE: opiowner\n      APP_USER: opiowner\n      APP_USER_PASSWORD: password\n\n    command: printenv\n\nand\n\nversion: &quot;3.8&quot;\nservices:\n  firmaowner:\n    image: gvenzl/oracle-xe:21-slim\n    expose:\n      - &quot;1523&quot;\n    environment:\n      ORACLE_PASSWORD: password\n      ORACLE_DATABASE: firmaowner\n      APP_USER: firmaowner\n      APP_USER_PASSWORD: password\n\n    command: printenv\n</code></pre>\n<p>I found this related question and aswer here on StackOverflow:\n<a href=\"https://stackoverflow.com/questions/56208301/timed-out-waiting-for-container-port-to-open-localhost-ports-32773-should-be\">Timed out waiting for container port to open (localhost ports: [32773] should be listening)</a>, but although I have added ' expose: -&quot;1521(1523)&quot; ' in my docker files, I am still getting the same error.</p>\n<p>Does anyone knows ho to fix this?</p>\n<p>Thanks,\nSaverio</p>\n"},{"tags":["java","android","permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694543117,"post_id":77087381,"comment_id":135904130,"body_markdown":"Please dont talk about SDCard as clearly the paths ar not on a removable micro sd card. You are talking about app private directories on external storage.","body":"Please dont talk about SDCard as clearly the paths ar not on a removable micro sd card. You are talking about app private directories on external storage."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694543421,"post_id":77087381,"comment_id":135904190,"body_markdown":"But what you say does not come true. Every app on an Android 7/N device can read and write the app specific files on external storage of other apps.","body":"But what you say does not come true. Every app on an Android 7/N device can read and write the app specific files on external storage of other apps."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694543560,"post_id":77087381,"comment_id":135904216,"body_markdown":"`The external storage path is as follows. /storage/sdcard/Android/data/com.test.appA/files` Sorry but i have never seen such a path. Nor i ever saw `/storage/sdcard`. Where did you get it from? There is though `/sdcard/...`.","body":"<code>The external storage path is as follows. &#47;storage&#47;sdcard&#47;Android&#47;data&#47;com.test.appA&#47;files</code> Sorry but i have never seen such a path. Nor i ever saw <code>&#47;storage&#47;sdcard</code>. Where did you get it from? There is though <code>&#47;sdcard&#47;...</code>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694543727,"post_id":77087381,"comment_id":135904245,"body_markdown":"You should use `getExternalFilesDir(null)` to determine app specific directory on external storage.","body":"You should use <code>getExternalFilesDir(null)</code> to determine app specific directory on external storage."},{"owner":{"display_name":"user22506935"},"score":0,"creation_date":1694575278,"post_id":77087381,"comment_id":135907824,"body_markdown":"The &#39;getExternalFilesDir(null)&#39; method only retrieves the path to your app&#39;s specific directory. What I want to do is access the specific directory of another app for data migration purposes. In my environment, I can obtain paths that start with &quot;/storage&quot;.","body":"The &#39;getExternalFilesDir(null)&#39; method only retrieves the path to your app&#39;s specific directory. What I want to do is access the specific directory of another app for data migration purposes. In my environment, I can obtain paths that start with &quot;/storage&quot;."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694581499,"post_id":77087381,"comment_id":135908315,"body_markdown":"You dont get it. The getExternalFilesDir() gives you app specific path that starts with /storage but not with /storage/sdcard. And further: to get the path for another app jucht change the package name in your app specific path.","body":"You dont get it. The getExternalFilesDir() gives you app specific path that starts with /storage but not with /storage/sdcard. And further: to get the path for another app jucht change the package name in your app specific path."},{"owner":{"display_name":"user22506935"},"score":0,"creation_date":1694591658,"post_id":77087381,"comment_id":135909815,"body_markdown":"I know that getExternalFilesDir() provides an app-specific path because I&#39;ve verified it.\nI also know that I can access it by changing the package name of the app-specific path obtained there and creating an instance of the File class based on it.\nHowever, when you call File.canWrite() on that File instance, false is returned, indicating that you do not have write permission. (File.canRead() returns true)\nI would like to know how to make File.canWrite() true and allow files to be moved.","body":"I know that getExternalFilesDir() provides an app-specific path because I&#39;ve verified it. I also know that I can access it by changing the package name of the app-specific path obtained there and creating an instance of the File class based on it. However, when you call File.canWrite() on that File instance, false is returned, indicating that you do not have write permission. (File.canRead() returns true) I would like to know how to make File.canWrite() true and allow files to be moved."},{"owner":{"display_name":"user22506935"},"score":0,"creation_date":1694591756,"post_id":77087381,"comment_id":135909839,"body_markdown":"The detailed discussion about paths is not the subject of this article, but the subject is that I want to move a file to the specific storage of another application, and I want to know what processing and permissions are necessary for that purpose.","body":"The detailed discussion about paths is not the subject of this article, but the subject is that I want to move a file to the specific storage of another application, and I want to know what processing and permissions are necessary for that purpose."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694592750,"post_id":77087381,"comment_id":135910014,"body_markdown":"You did not confirm that paths like /storage/sdcard do not exist. So it makes no sense to help you further.","body":"You did not confirm that paths like /storage/sdcard do not exist. So it makes no sense to help you further."},{"owner":{"display_name":"user22506935"},"score":0,"creation_date":1694593388,"post_id":77087381,"comment_id":135910120,"body_markdown":"The sdcard part is an example; it actually contains something like the sd card name (eg. 0123-4567).","body":"The sdcard part is an example; it actually contains something like the sd card name (eg. 0123-4567)."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694593555,"post_id":77087381,"comment_id":135910148,"body_markdown":"Dont post wrong paths and dont call wrong paths example paths. Please rewrite your post and its subject taking into account all comments you got.","body":"Dont post wrong paths and dont call wrong paths example paths. Please rewrite your post and its subject taking into account all comments you got."},{"owner":{"display_name":"user22506935"},"score":0,"creation_date":1694593763,"post_id":77087381,"comment_id":135910193,"body_markdown":"ok, thank you..","body":"ok, thank you.."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694594620,"creation_date":1694594620,"answer_id":77095467,"question_id":77087381,"body_markdown":"&gt;&gt;Every app on an Android 7/N device can read and write the app specific files on external storage of other apps. \r\n\r\nThat holds.\r\n\r\nBut as a removable micro sd card is read only -except for the app specific directory on it- you cannot write files outside app&#39;s specific directory in the classic way.\r\n\r\nBut your app can if it uses Storage Access Framework.","title":"How to access SDCard storage in android","body":"<blockquote>\n<blockquote>\n<p>Every app on an Android 7/N device can read and write the app specific files on external storage of other apps.</p>\n</blockquote>\n</blockquote>\n<p>That holds.</p>\n<p>But as a removable micro sd card is read only -except for the app specific directory on it- you cannot write files outside app's specific directory in the classic way.</p>\n<p>But your app can if it uses Storage Access Framework.</p>\n"}],"owner":{"display_name":"user22506935"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694594620,"creation_date":1694507920,"question_id":77087381,"body_markdown":"I want to access the storage of another app on Android 7.\r\nAssume the following:\r\nBundleId of app A: com.test.appA\r\nBundleId of app B: com.test.appB\r\n\r\nThe external storage path is as follows.\r\n/storage/sdcard/Android/data/com.test.appA/files\r\n/storage/sdcard/Android/data/com.test.appB/files\r\n\r\nI want to move the files in app A&#39;s files/ to app B&#39;s files/.\r\nHowever, even if you request WRITE_EXTERNAL_STORAGE permission, app A does not have permission to write to app B&#39;s external storage, and you will get angry.\r\n\r\nWhile investigating, I found that file manager apps can access here.\r\nWith file manager apps, in addition to the permission dialog that appears when you request permission with WRITE_EXTERNAL_STORAGE or READ_EXTERNAL_STORAGE immediately after startup, a dialog asking for permission to access the SD card appears when you access the SD card directory or attempt to operate it. It shows.\r\nWhat permission is this requesting?\r\nI investigated multiple file manager apps, but since they all have the same request wording, I suspect that the request was prepared by the system.\r\n\r\nI would be happy if anyone could let me know if they have any information.\r\nthank you.","title":"How to access SDCard storage in android","body":"<p>I want to access the storage of another app on Android 7.\nAssume the following:\nBundleId of app A: com.test.appA\nBundleId of app B: com.test.appB</p>\n<p>The external storage path is as follows.\n/storage/sdcard/Android/data/com.test.appA/files\n/storage/sdcard/Android/data/com.test.appB/files</p>\n<p>I want to move the files in app A's files/ to app B's files/.\nHowever, even if you request WRITE_EXTERNAL_STORAGE permission, app A does not have permission to write to app B's external storage, and you will get angry.</p>\n<p>While investigating, I found that file manager apps can access here.\nWith file manager apps, in addition to the permission dialog that appears when you request permission with WRITE_EXTERNAL_STORAGE or READ_EXTERNAL_STORAGE immediately after startup, a dialog asking for permission to access the SD card appears when you access the SD card directory or attempt to operate it. It shows.\nWhat permission is this requesting?\nI investigated multiple file manager apps, but since they all have the same request wording, I suspect that the request was prepared by the system.</p>\n<p>I would be happy if anyone could let me know if they have any information.\nthank you.</p>\n"},{"tags":["java","reactive-programming","quarkus","mutiny"],"answers":[{"tags":[],"owner":{"account_id":427958,"reputation":548,"user_id":809984,"display_name":"jponge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694594052,"creation_date":1694594052,"answer_id":77095384,"question_id":77092509,"body_markdown":"This is actually the correct way to do what you describe.\r\n\r\n`onFailure` is a group (not an operator) to define what to do upon failure, the Mutiny API was designed this way for readability purposes.","title":"How to chain several operators onFailure?","body":"<p>This is actually the correct way to do what you describe.</p>\n<p><code>onFailure</code> is a group (not an operator) to define what to do upon failure, the Mutiny API was designed this way for readability purposes.</p>\n"}],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77095384,"answer_count":1,"score":0,"last_activity_date":1694594052,"creation_date":1694550581,"question_id":77092509,"body_markdown":"I have a Mutiny reactive stream on an Uni where I want to implement the following behavior:\r\n\r\n- Log something if an error happens;\r\n- Retry five times; \r\n- If the retries exhaust, log another message and recover with an ok value. \r\n\r\nThis is what I got:\r\n\r\n```\r\nsomeUni\r\n  .onFailure().invoke(e -&gt; log.info(&quot;Error {}&quot;, e.getMessage()))\r\n  .onFailure().retry().withBackOff(Duration.ofMillis(100), Duration.ofSeconds(5)).atMost(5)\r\n  .onFailure()\r\n  .invoke(() -&gt; log.info(&quot;Retries exhausted, Im going to give up.&quot;))\r\n  .onFailure().recoverWithItem(Response.ok().build());\r\n```\r\n\r\nIt does not look very neat, I had to call `onFailure()` every time I needed to chain a new operator. That&#39;s because `onFailure()` returns `UniOnFailure&lt;T&gt;`, but once you chain something else you&#39;re back with the regular `Uni&lt;T&gt;`. Is there a cleaner way to do this?","title":"How to chain several operators onFailure?","body":"<p>I have a Mutiny reactive stream on an Uni where I want to implement the following behavior:</p>\n<ul>\n<li>Log something if an error happens;</li>\n<li>Retry five times;</li>\n<li>If the retries exhaust, log another message and recover with an ok value.</li>\n</ul>\n<p>This is what I got:</p>\n<pre><code>someUni\n  .onFailure().invoke(e -&gt; log.info(&quot;Error {}&quot;, e.getMessage()))\n  .onFailure().retry().withBackOff(Duration.ofMillis(100), Duration.ofSeconds(5)).atMost(5)\n  .onFailure()\n  .invoke(() -&gt; log.info(&quot;Retries exhausted, Im going to give up.&quot;))\n  .onFailure().recoverWithItem(Response.ok().build());\n</code></pre>\n<p>It does not look very neat, I had to call <code>onFailure()</code> every time I needed to chain a new operator. That's because <code>onFailure()</code> returns <code>UniOnFailure&lt;T&gt;</code>, but once you chain something else you're back with the regular <code>Uni&lt;T&gt;</code>. Is there a cleaner way to do this?</p>\n"},{"tags":["java","maven","intellij-idea","annotations","maven-central"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694594037,"post_id":77095345,"comment_id":135910269,"body_markdown":"Can you show the link to your central artifacts? Can you show your project pom/git repository ?","body":"Can you show the link to your central artifacts? Can you show your project pom/git repository ?"},{"owner":{"account_id":29429440,"reputation":9,"user_id":22549409,"display_name":"함승혁"},"score":0,"creation_date":1694594558,"post_id":77095345,"comment_id":135910390,"body_markdown":"here https://github.com/HshMaker/sooport","body":"here <a href=\"https://github.com/HshMaker/sooport\" rel=\"nofollow noreferrer\">github.com/HshMaker/sooport</a>"},{"owner":{"account_id":29429440,"reputation":9,"user_id":22549409,"display_name":"함승혁"},"score":0,"creation_date":1694594627,"post_id":77095345,"comment_id":135910404,"body_markdown":"Oh, there is a target file because I made a mistake in the commit. don&#39;t watch this","body":"Oh, there is a target file because I made a mistake in the commit. don&#39;t watch this"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694595440,"post_id":77095345,"comment_id":135910606,"body_markdown":"Can you explain about what kind of annotations you are talking about because the source does not contain annotations... also you have not configured IntellIJ to download source packages..","body":"Can you explain about what kind of annotations you are talking about because the source does not contain annotations... also you have not configured IntellIJ to download source packages.."},{"owner":{"account_id":29429440,"reputation":9,"user_id":22549409,"display_name":"함승혁"},"score":0,"creation_date":1694595803,"post_id":77095345,"comment_id":135910684,"body_markdown":"These are all java files in src file. All the comments there will disappear and the comment I mentioned earlier will remain at the top.","body":"These are all java files in src file. All the comments there will disappear and the comment I mentioned earlier will remain at the top."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1694600686,"post_id":77095345,"comment_id":135911645,"body_markdown":"Assuming that by &quot;annotations&quot; you mean &quot;comments&quot;: When you deploy by default, you are just deploying the .jar containing the compiled code. So when you try to get the code back, the only way they have to rebuild the source is to decompile the .classes you deployed (and the compiled bytecode has lost all the comments). If you want to preserve all this, you should deploy not only the target but also the sources and the javadoc. See how to do [here](https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-sources-javadoc.html)","body":"Assuming that by &quot;annotations&quot; you mean &quot;comments&quot;: When you deploy by default, you are just deploying the .jar containing the compiled code. So when you try to get the code back, the only way they have to rebuild the source is to decompile the .classes you deployed (and the compiled bytecode has lost all the comments). If you want to preserve all this, you should deploy not only the target but also the sources and the javadoc. See how to do <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/examples/deploying-sources-javadoc.html\" rel=\"nofollow noreferrer\">here</a>"}],"owner":{"account_id":29429440,"reputation":9,"user_id":22549409,"display_name":"함승혁"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694593749,"creation_date":1694593749,"question_id":77095345,"body_markdown":"Whenever I deploy my project to maven central all my annotations disappear.\r\n\r\nAnd this phrase remains:\r\n\r\n```\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n```\r\n\r\n\r\nWhen i use `maven clean install` All my annotations are still there.\r\n\r\nbut when i use `maven clean deploy` All my annotations disappear.\r\n\r\nIn my code, everything is written in Java.\r\n\r\nWhenever I import code stored in maven central, all comments disappear.\r\n\r\nplz help me","title":"Whenever I deploy my project to maven central all my annotations disappear","body":"<p>Whenever I deploy my project to maven central all my annotations disappear.</p>\n<p>And this phrase remains:</p>\n<pre><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n</code></pre>\n<p>When i use <code>maven clean install</code> All my annotations are still there.</p>\n<p>but when i use <code>maven clean deploy</code> All my annotations disappear.</p>\n<p>In my code, everything is written in Java.</p>\n<p>Whenever I import code stored in maven central, all comments disappear.</p>\n<p>plz help me</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":117977,"reputation":51311,"user_id":308661,"display_name":"In silico"},"score":2,"creation_date":1286410599,"post_id":3877832,"comment_id":4126952,"body_markdown":"For future reference, be sure to post the entire compiler error message in your question if present, to make it easier to pinpoint what&#39;s wrong.","body":"For future reference, be sure to post the entire compiler error message in your question if present, to make it easier to pinpoint what&#39;s wrong."}],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1286411159,"creation_date":1286410485,"answer_id":3877839,"question_id":3877832,"body_markdown":"`String` is capitalized in Java.  You cannot use lowercase `string`.  (That&#39;s C#)\r\n\r\n**Side question:**  \r\nHow is the following compiling at all?\r\n\r\n    template.composeFormLetter(Sean, Colbert, God);","title":"string cannot be resolved to a type","body":"<p><code>String</code> is capitalized in Java.  You cannot use lowercase <code>string</code>.  (That's C#)</p>\n\n<p><strong>Side question:</strong><br>\nHow is the following compiling at all?</p>\n\n<pre><code>template.composeFormLetter(Sean, Colbert, God);\n</code></pre>\n"}],"owner":{"account_id":656378,"reputation":23,"user_id":468590,"display_name":"chief"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14336,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3877839,"answer_count":1,"score":2,"last_activity_date":1694593591,"creation_date":1286410397,"question_id":3877832,"body_markdown":"I am getting a &quot;string cannot be resolved to a type&quot; error in my code.\r\n\r\n\r\n    public class Main {\r\n\r\n  \r\n     public static void main(String[] args) {\r\n      // TODO Auto-generated method stub\r\n      FormLetter template;\r\n      template = new FormLetter();\r\n      template.print();\r\n      template.composeFormLetter(Sean, Colbert, God);\r\n      template.print();\r\n       \r\n     }\r\n \r\n    }\r\n\r\n    class FormLetter\r\n     {\r\n      public void print(){\r\n        System.out.println(to + candidate + from);\r\n \r\n      }  \r\n   \r\n      public void composeFormLetter(string t, string c, string f){\r\n   \r\n       to = t;\r\n       candidate = c; \r\n       from = f;\r\n      } \r\n       private string to;\r\n       private string candidate;\r\n       private string from;\r\n\r\n      }\r\n  ","title":"string cannot be resolved to a type","body":"<p>I am getting a \"string cannot be resolved to a type\" error in my code.</p>\n\n<pre><code>public class Main {\n\n\n public static void main(String[] args) {\n  // TODO Auto-generated method stub\n  FormLetter template;\n  template = new FormLetter();\n  template.print();\n  template.composeFormLetter(Sean, Colbert, God);\n  template.print();\n\n }\n\n}\n\nclass FormLetter\n {\n  public void print(){\n    System.out.println(to + candidate + from);\n\n  }  \n\n  public void composeFormLetter(string t, string c, string f){\n\n   to = t;\n   candidate = c; \n   from = f;\n  } \n   private string to;\n   private string candidate;\n   private string from;\n\n  }\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","apache-kafka","aws-msk"],"answers":[{"tags":[],"owner":{"account_id":1415915,"reputation":2836,"user_id":1341599,"accept_rate":94,"display_name":"Dominik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694593314,"creation_date":1694593314,"answer_id":77095287,"question_id":77095044,"body_markdown":"Your `AWS_REGION` value in your configuration should be `us-east-1` instead of `usa-east-1` - that&#39;s why the `UnknownHostException` occurs in your screenshot. AWS does not have a region `usa-east-1`, hence the host you want to reach is unknown.","title":"Cannot able to access AWS Glue Schema Registery using Spring Boot","body":"<p>Your <code>AWS_REGION</code> value in your configuration should be <code>us-east-1</code> instead of <code>usa-east-1</code> - that's why the <code>UnknownHostException</code> occurs in your screenshot. AWS does not have a region <code>usa-east-1</code>, hence the host you want to reach is unknown.</p>\n"}],"owner":{"account_id":28272157,"reputation":15,"user_id":21615169,"display_name":"Aayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77095287,"answer_count":1,"score":0,"last_activity_date":1694593314,"creation_date":1694591230,"question_id":77095044,"body_markdown":"I have created a Schema Registry using the AWS CLI, but cannot able to access it using the SpringBoot. It is showing me an error that is &quot;Failed to get schemaVersionId by schema definition for schema name = hydra-testschema&quot;\r\n\r\nCreating Schema using the CLI\r\n\r\n[enter image description here](https://i.stack.imgur.com/paIUI.png)\r\n\r\nThen I am using SpringBoot Application to test the schema. Here is the schema structure and sample code.\r\n\r\nCustomer.avsc\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;namespace&quot;: &quot;ABC_Organization&quot;,\r\n  &quot;name&quot;: &quot;Employee&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Name&quot;,\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Age&quot;,\r\n      &quot;type&quot;: &quot;int&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;address&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;name&quot;: &quot;addressRecord&quot;,\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;street&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;zipcode&quot;,\r\n            &quot;type&quot;: &quot;int&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nSampleProducer.java\r\n\r\n```\r\n\r\n\r\n\r\n\r\npublic class SampleMskProducer{\r\n    private static final Properties properties = new Properties();\r\n    private final static Logger LOGGER = LoggerFactory.getLogger(org.apache.kafka.clients.producer.Producer.class.getName());\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        String username = &quot;BrokerUserName&quot;;\r\n        String password = &quot;Password&quot;;\r\n\r\n        String jaasTemplate = &quot;org.apache.kafka.common.security.scram.ScramLoginModule required username=\\&quot;%s\\&quot; password=\\&quot;%s\\&quot;;&quot;;\r\n        String jaasCfg = String.format(jaasTemplate, username, password);\r\n\r\n        System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;, &quot;software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService&quot;);\r\n\r\n        // Setting kafka properties\r\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;Broker&quot;);\r\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaSerializer.class.getName());\r\n        properties.put(AWSSchemaRegistryConstants.AWS_REGION, &quot;usa-east-1&quot;);\r\n        properties.put(AWSSchemaRegistryConstants.REGISTRY_NAME, &quot;sandbox&quot;);\r\n        properties.put(AWSSchemaRegistryConstants.SCHEMA_NAME, &quot;hydra-testschemaa&quot;);\r\n        properties.put(AWSSchemaRegistryConstants.DATA_FORMAT, &quot;AVRO&quot;);\r\n        properties.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\r\n        properties.put(SaslConfigs.SASL_MECHANISM, &quot;SCRAM-SHA-512&quot;);\r\n        properties.put(SaslConfigs.SASL_JAAS_CONFIG, jaasCfg);\r\n\r\n        SystemPropertiesCredentialsProvider systemPropertiesCredentialsProvider=new SystemPropertiesCredentialsProvider();\r\n\r\n//Passing the secrets\r\n        System.setProperty(&quot;aws.accessKeyId&quot;, &quot;A&quot;);\r\n        System.setProperty(&quot;aws.secretAccessKey&quot;, &quot;wC&quot;);\r\n\r\n// Your AWS SDK or AWS-related code here\r\n\r\n        // Declearing and parsing the Schema fields for generic record builder.\r\n        Schema schema_customer = null;\r\n        try {\r\n            schema_customer = new Parser().parse(new File(&quot;Customer.avsc&quot;));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n     \r\n        GenericRecord customer = new GenericData.Record(schema_customer);\r\n        GenericRecord addressRecord = new GenericData.Record(schema_customer.getField(&quot;address&quot;).schema());\r\n        LOGGER.info(&quot;Generic records phase completed...&quot;);\r\n\r\n        Random rand = new Random();\r\n        int zipcodeValue = 9999;\r\n        int ageMaxValue = 100;\r\n\r\n        // Initializing the Producer client, build records and publishing the message to the kafka broker\r\n        try (KafkaProducer&lt;String, GenericRecord&gt; producer = new KafkaProducer&lt;&gt;(properties)) {\r\n            final ProducerRecord&lt;String, GenericRecord&gt; record = new ProducerRecord&lt;String, GenericRecord&gt;(&quot;hydra.proxy.updates&quot;, customer);\r\n            LOGGER.info(&quot;Starting to send records...&quot;);\r\n            for (int i = 0; i &lt; 10000; i++) {\r\n                addressRecord.put(&quot;street&quot;, &quot;city-&quot; + i);\r\n                addressRecord.put(&quot;zipcode&quot;, rand.nextInt(zipcodeValue));\r\n                customer.put(&quot;Name&quot;,&quot;name-&quot;+ i);\r\n                customer.put(&quot;Age&quot;,rand.nextInt(ageMaxValue));\r\n                customer.put(&quot;address&quot;, addressRecord);\r\n                producer.send(record, new ProducerCallback());\r\n            }\r\n            producer.flush();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Defining method for retrieving secret from Secretmanager\r\n\r\n    // Callback class for producer client for logging.\r\n    private static class ProducerCallback implements Callback {\r\n        @Override\r\n        public void onCompletion(RecordMetadata recordMetaData, Exception e) {\r\n            if (e == null) {\r\n                LOGGER.info(&quot;Received new metadata. \\t&quot; +\r\n                &quot;Topic:&quot; + recordMetaData.topic() + &quot;\\t&quot; +\r\n                &quot;Partition: &quot; + recordMetaData.partition() + &quot;\\t&quot; +\r\n                &quot;Offset: &quot; + recordMetaData.offset() + &quot;\\t&quot; +\r\n                &quot;Timestamp: &quot; + recordMetaData.timestamp());\r\n            } else {\r\n                LOGGER.info(&quot;There&#39;s been an error from the Producer side&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI am getting the following error after executing:\r\n\r\n[enter image description here](https://i.stack.imgur.com/R15No.png)\r\n\r\nCan anyone please check ?","title":"Cannot able to access AWS Glue Schema Registery using Spring Boot","body":"<p>I have created a Schema Registry using the AWS CLI, but cannot able to access it using the SpringBoot. It is showing me an error that is &quot;Failed to get schemaVersionId by schema definition for schema name = hydra-testschema&quot;</p>\n<p>Creating Schema using the CLI</p>\n<p><a href=\"https://i.stack.imgur.com/paIUI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Then I am using SpringBoot Application to test the schema. Here is the schema structure and sample code.</p>\n<p>Customer.avsc</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;namespace&quot;: &quot;ABC_Organization&quot;,\n  &quot;name&quot;: &quot;Employee&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;Name&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;name&quot;: &quot;Age&quot;,\n      &quot;type&quot;: &quot;int&quot;\n    },\n    {\n      &quot;name&quot;: &quot;address&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;name&quot;: &quot;addressRecord&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;street&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          {\n            &quot;name&quot;: &quot;zipcode&quot;,\n            &quot;type&quot;: &quot;int&quot;\n          }\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>SampleProducer.java</p>\n<pre><code>\n\n\n\npublic class SampleMskProducer{\n    private static final Properties properties = new Properties();\n    private final static Logger LOGGER = LoggerFactory.getLogger(org.apache.kafka.clients.producer.Producer.class.getName());\n\n    public static void main(String[] args) throws Exception {\n\n        String username = &quot;BrokerUserName&quot;;\n        String password = &quot;Password&quot;;\n\n        String jaasTemplate = &quot;org.apache.kafka.common.security.scram.ScramLoginModule required username=\\&quot;%s\\&quot; password=\\&quot;%s\\&quot;;&quot;;\n        String jaasCfg = String.format(jaasTemplate, username, password);\n\n        System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;, &quot;software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService&quot;);\n\n        // Setting kafka properties\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;Broker&quot;);\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, GlueSchemaRegistryKafkaSerializer.class.getName());\n        properties.put(AWSSchemaRegistryConstants.AWS_REGION, &quot;usa-east-1&quot;);\n        properties.put(AWSSchemaRegistryConstants.REGISTRY_NAME, &quot;sandbox&quot;);\n        properties.put(AWSSchemaRegistryConstants.SCHEMA_NAME, &quot;hydra-testschemaa&quot;);\n        properties.put(AWSSchemaRegistryConstants.DATA_FORMAT, &quot;AVRO&quot;);\n        properties.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\n        properties.put(SaslConfigs.SASL_MECHANISM, &quot;SCRAM-SHA-512&quot;);\n        properties.put(SaslConfigs.SASL_JAAS_CONFIG, jaasCfg);\n\n        SystemPropertiesCredentialsProvider systemPropertiesCredentialsProvider=new SystemPropertiesCredentialsProvider();\n\n//Passing the secrets\n        System.setProperty(&quot;aws.accessKeyId&quot;, &quot;A&quot;);\n        System.setProperty(&quot;aws.secretAccessKey&quot;, &quot;wC&quot;);\n\n// Your AWS SDK or AWS-related code here\n\n        // Declearing and parsing the Schema fields for generic record builder.\n        Schema schema_customer = null;\n        try {\n            schema_customer = new Parser().parse(new File(&quot;Customer.avsc&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n     \n        GenericRecord customer = new GenericData.Record(schema_customer);\n        GenericRecord addressRecord = new GenericData.Record(schema_customer.getField(&quot;address&quot;).schema());\n        LOGGER.info(&quot;Generic records phase completed...&quot;);\n\n        Random rand = new Random();\n        int zipcodeValue = 9999;\n        int ageMaxValue = 100;\n\n        // Initializing the Producer client, build records and publishing the message to the kafka broker\n        try (KafkaProducer&lt;String, GenericRecord&gt; producer = new KafkaProducer&lt;&gt;(properties)) {\n            final ProducerRecord&lt;String, GenericRecord&gt; record = new ProducerRecord&lt;String, GenericRecord&gt;(&quot;hydra.proxy.updates&quot;, customer);\n            LOGGER.info(&quot;Starting to send records...&quot;);\n            for (int i = 0; i &lt; 10000; i++) {\n                addressRecord.put(&quot;street&quot;, &quot;city-&quot; + i);\n                addressRecord.put(&quot;zipcode&quot;, rand.nextInt(zipcodeValue));\n                customer.put(&quot;Name&quot;,&quot;name-&quot;+ i);\n                customer.put(&quot;Age&quot;,rand.nextInt(ageMaxValue));\n                customer.put(&quot;address&quot;, addressRecord);\n                producer.send(record, new ProducerCallback());\n            }\n            producer.flush();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    // Defining method for retrieving secret from Secretmanager\n\n    // Callback class for producer client for logging.\n    private static class ProducerCallback implements Callback {\n        @Override\n        public void onCompletion(RecordMetadata recordMetaData, Exception e) {\n            if (e == null) {\n                LOGGER.info(&quot;Received new metadata. \\t&quot; +\n                &quot;Topic:&quot; + recordMetaData.topic() + &quot;\\t&quot; +\n                &quot;Partition: &quot; + recordMetaData.partition() + &quot;\\t&quot; +\n                &quot;Offset: &quot; + recordMetaData.offset() + &quot;\\t&quot; +\n                &quot;Timestamp: &quot; + recordMetaData.timestamp());\n            } else {\n                LOGGER.info(&quot;There's been an error from the Producer side&quot;);\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am getting the following error after executing:</p>\n<p><a href=\"https://i.stack.imgur.com/R15No.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Can anyone please check ?</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":10,"creation_date":1345872861,"post_id":12119465,"comment_id":16204801,"body_markdown":"Noooooo!!!! Don&#39;t do it!!!!!!","body":"Noooooo!!!! Don&#39;t do it!!!!!!"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":4,"creation_date":1345872914,"post_id":12119465,"comment_id":16204813,"body_markdown":"It&#39;s just a jar file, so you can use the `u` option of the `jar` tool to update it. However, you should never, ever do this. Thinking that you should is a strong sign that you don&#39;t understand the platform.","body":"It&#39;s just a jar file, so you can use the <code>u</code> option of the <code>jar</code> tool to update it. However, you should never, ever do this. Thinking that you should is a strong sign that you don&#39;t understand the platform."}],"answers":[{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1345873013,"creation_date":1345873013,"answer_id":12119482,"question_id":12119465,"body_markdown":"Do not update it. Why do you want to update it?\r\n\r\n\r\nWell anyhow if you want to update it, I know one way, You can open jar file in winrar and paste updated .class files in archive. But your jar may get in inconsistent state. Do it at your own risk.","title":"How to update rt.jar file?","body":"<p>Do not update it. Why do you want to update it?</p>\n\n<p>Well anyhow if you want to update it, I know one way, You can open jar file in winrar and paste updated .class files in archive. But your jar may get in inconsistent state. Do it at your own risk.</p>\n"},{"tags":[],"owner":{"account_id":408253,"reputation":933,"user_id":778808,"accept_rate":64,"display_name":"Vinesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694593080,"creation_date":1345873283,"answer_id":12119507,"question_id":12119465,"body_markdown":"You can update a jar with this command:\r\n\r\n    jar uf jar-file input-file(s)\r\n\r\n\r\nRefer the link for details:\r\n\r\n[java.sun.com/docs/books/tutorial/deployment/jar/update.html][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/deployment/jar/update.html","title":"How to update rt.jar file?","body":"<p>You can update a jar with this command:</p>\n<pre><code>jar uf jar-file input-file(s)\n</code></pre>\n<p>Refer the link for details:</p>\n<p><a href=\"http://java.sun.com/docs/books/tutorial/deployment/jar/update.html\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/tutorial/deployment/jar/update.html</a></p>\n"},{"tags":[],"owner":{"account_id":16264,"reputation":8973,"user_id":35227,"accept_rate":97,"display_name":"anio"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1345873292,"creation_date":1345873292,"answer_id":12119510,"question_id":12119465,"body_markdown":"Your question indicates you have some misunderstanding of the java platform.\r\n\r\nFirst of all you need to know what the rt.jar is and what it does:\r\n\r\nrt.jar is the jar that contains all the classes necessary for the java runtime. Hence it&#39;s name **rt**.jar\r\n\r\nNow that you know that, you need to know how your java program runs:\r\n\r\nYour java program, all your jars and classes are executed by the java virtual machine.\r\n\r\nSo as you can see the code you write &amp; the rt.jar which is used by the java run time are completely separate and should remain so.\r\n\r\nIf you need some functionality you should add it to your jar.\r\n","title":"How to update rt.jar file?","body":"<p>Your question indicates you have some misunderstanding of the java platform.</p>\n\n<p>First of all you need to know what the rt.jar is and what it does:</p>\n\n<p>rt.jar is the jar that contains all the classes necessary for the java runtime. Hence it's name <strong>rt</strong>.jar</p>\n\n<p>Now that you know that, you need to know how your java program runs:</p>\n\n<p>Your java program, all your jars and classes are executed by the java virtual machine.</p>\n\n<p>So as you can see the code you write &amp; the rt.jar which is used by the java run time are completely separate and should remain so.</p>\n\n<p>If you need some functionality you should add it to your jar.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1345878374,"creation_date":1345878374,"answer_id":12119945,"question_id":12119465,"body_markdown":"The best way to update the `rt.jar` is to install a newer version for Java. ;)\r\n\r\nIf you want to add your own classes in new packages, you can add these to a jar which is in your class path. This is preferable to changing existing classes.\r\n\r\nIf the only option is to change existing classes, you can create a &quot;patch&quot; in a jar which you prepend to your boot class path, or you can add the jar to an `lib/endorsed` directory.  I wouldn&#39;t do this for production code, only for your own testing.","title":"How to update rt.jar file?","body":"<p>The best way to update the <code>rt.jar</code> is to install a newer version for Java. ;)</p>\n\n<p>If you want to add your own classes in new packages, you can add these to a jar which is in your class path. This is preferable to changing existing classes.</p>\n\n<p>If the only option is to change existing classes, you can create a \"patch\" in a jar which you prepend to your boot class path, or you can add the jar to an <code>lib/endorsed</code> directory.  I wouldn't do this for production code, only for your own testing.</p>\n"},{"tags":[],"owner":{"account_id":2861354,"reputation":41,"user_id":2456560,"display_name":"Garr Lystad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499822051,"creation_date":1499815935,"answer_id":45046041,"question_id":12119465,"body_markdown":"   I&#39;ve tried jar.exe with the u and 0 (i.e. zero) options and that gets the closest to looking like the original rt.jar file but if I&#39;ve updated the JDK&#39;s JRE&#39;s rt.jar I have problems with compiling and jarring after the update.  No idea why!  Simply running a program with the JRE seems to work.\r\n\r\n   I also tried -Xbootclasspath/p but couldn&#39;t get it to work.\r\n\r\n   Looking at https://stackoverflow.com/questions/33631419/replace-a-class-within-the-java-class-library-with-a-custom-version I see that there are legal problems with distributing an altered rt.jar to your customers, even if you could figure out how to do it correctly.  So I plan to take the advice in that page and create a java agent.  That&#39;s apparently legal and works.\r\n\r\n   One reason a person might want to modify rt.jar is to add debugging information after compiling the source that comes with the JDK with the -g option.  One may also want to patch something.  These would be for one&#39;s own use, of course.","title":"How to update rt.jar file?","body":"<p>I've tried jar.exe with the u and 0 (i.e. zero) options and that gets the closest to looking like the original rt.jar file but if I've updated the JDK's JRE's rt.jar I have problems with compiling and jarring after the update.  No idea why!  Simply running a program with the JRE seems to work.</p>\n\n<p>I also tried -Xbootclasspath/p but couldn't get it to work.</p>\n\n<p>Looking at <a href=\"https://stackoverflow.com/questions/33631419/replace-a-class-within-the-java-class-library-with-a-custom-version\">Replace a class within the Java class library with a custom version</a> I see that there are legal problems with distributing an altered rt.jar to your customers, even if you could figure out how to do it correctly.  So I plan to take the advice in that page and create a java agent.  That's apparently legal and works.</p>\n\n<p>One reason a person might want to modify rt.jar is to add debugging information after compiling the source that comes with the JDK with the -g option.  One may also want to patch something.  These would be for one's own use, of course.</p>\n"}],"owner":{"account_id":1781480,"reputation":86,"user_id":1624091,"display_name":"Samar Jyoti Nath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2568,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":5,"score":2,"last_activity_date":1694593080,"creation_date":1345872774,"question_id":12119465,"body_markdown":"I want to add some class files to `rt.jar`. How am I able to do that?","title":"How to update rt.jar file?","body":"<p>I want to add some class files to <code>rt.jar</code>. How am I able to do that?</p>\n"},{"tags":["java","kotlin","generics","lambda"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1694593413,"post_id":77095203,"comment_id":135910123,"body_markdown":"What exactly don&#39;t you understand? I don&#39;t really understand your confusion. I think generics has maybe nothing to do with it and you simply don&#39;t understand the notation of `(Class) -&gt; OtherClass` maybe?","body":"What exactly don&#39;t you understand? I don&#39;t really understand your confusion. I think generics has maybe nothing to do with it and you simply don&#39;t understand the notation of <code>(Class) -&gt; OtherClass</code> maybe?"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1694593536,"post_id":77095203,"comment_id":135910146,"body_markdown":"`(A) -&gt; T` is a function receiving `A` and returning `T`, so this is similar to Java: `Function&lt;A, T&gt;`. Does this answer your question?","body":"<code>(A) -&gt; T</code> is a function receiving <code>A</code> and returning <code>T</code>, so this is similar to Java: <code>Function&lt;A, T&gt;</code>. Does this answer your question?"},{"owner":{"account_id":8576272,"reputation":1308,"user_id":6425584,"accept_rate":43,"display_name":"Pritish"},"score":0,"creation_date":1694593569,"post_id":77095203,"comment_id":135910151,"body_markdown":"@Ivo specially this part creator: (A) -&gt; T like how are they passing this a s a param and then using it  lik eval created = creator!!(arg) and then in the code YourManager.getInstance(context).doSomething(). So how all of this is working underneath ?","body":"@Ivo specially this part creator: (A) -&gt; T like how are they passing this a s a param and then using it  lik eval created = creator!!(arg) and then in the code YourManager.getInstance(context).doSomething(). So how all of this is working underneath ?"},{"owner":{"account_id":8576272,"reputation":1308,"user_id":6425584,"accept_rate":43,"display_name":"Pritish"},"score":0,"creation_date":1694593706,"post_id":77095203,"comment_id":135910175,"body_markdown":"@broot but then how does it works in the code like val created = creator!!(arg) ? and then the actual call  YourManager.getInstance(context).doSomething( , can you please connect these and explain ?","body":"@broot but then how does it works in the code like val created = creator!!(arg) ? and then the actual call  YourManager.getInstance(context).doSomething( , can you please connect these and explain ?"},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1694593817,"post_id":77095203,"comment_id":135910209,"body_markdown":"`(A) -&gt; T` is the type of a function.  And it&#39;s stored in `creator`. `creator(arg)` simply calls it, but since the `creator` variable is nullable `!!` is added to indicate that you are sure it&#39;s not null","body":"<code>(A) -&gt; T</code> is the type of a function.  And it&#39;s stored in <code>creator</code>. <code>creator(arg)</code> simply calls it, but since the <code>creator</code> variable is nullable <code>!!</code> is added to indicate that you are sure it&#39;s not null"},{"owner":{"account_id":8576272,"reputation":1308,"user_id":6425584,"accept_rate":43,"display_name":"Pritish"},"score":0,"creation_date":1694594154,"post_id":77095203,"comment_id":135910305,"body_markdown":"@ivo but lets say I want to write a simple addition function like take a param in as A, and return it out as V with adding 1 to it, so can you please tell how the same thing will work here ? so there I need to do creator!!(arg + 1) ? or rather can you tell a code for simple addition in the above manner ?","body":"@ivo but lets say I want to write a simple addition function like take a param in as A, and return it out as V with adding 1 to it, so can you please tell how the same thing will work here ? so there I need to do creator!!(arg + 1) ? or rather can you tell a code for simple addition in the above manner ?"},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1694594719,"post_id":77095203,"comment_id":135910433,"body_markdown":"@Pritish if you want for example A as Int and B as Double and add 1 to the int before changing it to double you could create a `SingletonHolder` like this for example: `val mySingletonHolder = SingletonHolder { a : Int -&gt; (a + 1).toDouble() }`","body":"@Pritish if you want for example A as Int and B as Double and add 1 to the int before changing it to double you could create a <code>SingletonHolder</code> like this for example: <code>val mySingletonHolder = SingletonHolder { a : Int -&gt; (a + 1).toDouble() }</code>"},{"owner":{"account_id":8576272,"reputation":1308,"user_id":6425584,"accept_rate":43,"display_name":"Pritish"},"score":0,"creation_date":1694594981,"post_id":77095203,"comment_id":135910490,"body_markdown":"Cool thanks , let me try your code practically and try to understand.","body":"Cool thanks , let me try your code practically and try to understand."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1694595079,"post_id":77095203,"comment_id":135910520,"body_markdown":"BTW, if you don&#39;t need your singleton to be a separate subclass/`object` and you just need a singleton variable, then Kotlin already provides such util: `val singleton by lazy {  /* calculateValue */ }`.","body":"BTW, if you don&#39;t need your singleton to be a separate subclass/<code>object</code> and you just need a singleton variable, then Kotlin already provides such util: <code>val singleton by lazy {  &#47;* calculateValue *&#47; }</code>."},{"owner":{"account_id":8576272,"reputation":1308,"user_id":6425584,"accept_rate":43,"display_name":"Pritish"},"score":0,"creation_date":1694595250,"post_id":77095203,"comment_id":135910563,"body_markdown":"@broot yes I agree that is the part of actually writing the singleton , but since I stumbled upon this code and could not figure out why it is written this way, and how it is exactly working , like maybe I may need it somewhere else as well.","body":"@broot yes I agree that is the part of actually writing the singleton , but since I stumbled upon this code and could not figure out why it is written this way, and how it is exactly working , like maybe I may need it somewhere else as well."}],"owner":{"account_id":8576272,"reputation":1308,"user_id":6425584,"accept_rate":43,"display_name":"Pritish"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694592533,"creation_date":1694592533,"question_id":77095203,"body_markdown":"I was trying to understand how to create a thread safe singleton in kotlin,but while going through the answer I stumbled upon another query related to generics and lambdas.\r\n  Here is the mindorks code \r\n[Mindorks code][1]\r\n\r\n\r\n  [1]: https://blog.mindorks.com/how-to-create-a-singleton-class-in-kotlin/#:~:text=In%20lazy%20initialization%2C%20we%20use,synchronization%20and%20double%2Dchecked%20locking.\r\n\r\nThe code says \r\n\r\n    open class SingletonHolder&lt;out T: Any, in A&gt;(creator: (A) -&gt; T) {\r\n    private var creator: ((A) -&gt; T)? = creator\r\n    @Volatile private var instance: T? = null\r\n\r\n    fun getInstance(arg: A): T {\r\n        val checkInstance = instance\r\n        if (checkInstance != null) {\r\n            return checkInstance\r\n        }\r\n\r\n        return synchronized(this) {\r\n            val checkInstanceAgain = instance\r\n            if (checkInstanceAgain != null) {\r\n                checkInstanceAgain\r\n            } else {\r\n                val created = creator!!(arg)\r\n                instance = created\r\n                creator = null\r\n                created\r\n            }\r\n        }\r\n    }\r\n}\r\nSo I want to understand how this line is working `(creator: (A) -&gt; T)` as a param, and then again\r\n in the code under synchronized method `val created = creator!!(arg)`\r\nCan someone please help me to destruct this and help me understand, or maybe compare this with reference to a java code ? so that I understand it better.\r\n\r\nThanks,","title":"How to use generics as a parameter in kotlin?","body":"<p>I was trying to understand how to create a thread safe singleton in kotlin,but while going through the answer I stumbled upon another query related to generics and lambdas.\nHere is the mindorks code\n<a href=\"https://blog.mindorks.com/how-to-create-a-singleton-class-in-kotlin/#:%7E:text=In%20lazy%20initialization%2C%20we%20use,synchronization%20and%20double%2Dchecked%20locking.\" rel=\"nofollow noreferrer\">Mindorks code</a></p>\n<p>The code says</p>\n<pre><code>open class SingletonHolder&lt;out T: Any, in A&gt;(creator: (A) -&gt; T) {\nprivate var creator: ((A) -&gt; T)? = creator\n@Volatile private var instance: T? = null\n\nfun getInstance(arg: A): T {\n    val checkInstance = instance\n    if (checkInstance != null) {\n        return checkInstance\n    }\n\n    return synchronized(this) {\n        val checkInstanceAgain = instance\n        if (checkInstanceAgain != null) {\n            checkInstanceAgain\n        } else {\n            val created = creator!!(arg)\n            instance = created\n            creator = null\n            created\n        }\n    }\n}\n</code></pre>\n<p>}\nSo I want to understand how this line is working <code>(creator: (A) -&gt; T)</code> as a param, and then again\nin the code under synchronized method <code>val created = creator!!(arg)</code>\nCan someone please help me to destruct this and help me understand, or maybe compare this with reference to a java code ? so that I understand it better.</p>\n<p>Thanks,</p>\n"},{"tags":["java","okhttp"],"comments":[{"owner":{"account_id":2893956,"reputation":285,"user_id":2482137,"accept_rate":75,"display_name":"Hiren"},"score":0,"creation_date":1507106800,"post_id":43288236,"comment_id":80074844,"body_markdown":"have you found any solution for same?","body":"have you found any solution for same?"},{"owner":{"account_id":20634,"reputation":12774,"user_id":49505,"display_name":"joschi"},"score":0,"creation_date":1507107477,"post_id":43288236,"comment_id":80075224,"body_markdown":"@Hiren No, unfortunately not. Luckily I could resort to using `POST` requests instead of `GET` requests with body.","body":"@Hiren No, unfortunately not. Luckily I could resort to using <code>POST</code> requests instead of <code>GET</code> requests with body."},{"owner":{"account_id":2893956,"reputation":285,"user_id":2482137,"accept_rate":75,"display_name":"Hiren"},"score":0,"creation_date":1507286212,"post_id":43288236,"comment_id":80159215,"body_markdown":"Ok no problem same here","body":"Ok no problem same here"}],"answers":[{"tags":[],"owner":{"account_id":13732282,"reputation":392,"user_id":9909537,"display_name":"Mustafa Karcıoğlu"},"down_vote_count":7,"up_vote_count":13,"is_accepted":false,"score":6,"last_activity_date":1535094913,"creation_date":1535041900,"answer_id":51990436,"question_id":43288236,"body_markdown":"I found a solution for this problem after a few attempts. Maybe someone finds it useful.\r\n\r\nI made use of &quot;Httpurl.Builder.&quot;\r\n   \r\n    HttpUrl mySearchUrl = new HttpUrl.Builder()\r\n           .scheme(&quot;https&quot;)\r\n           .host(&quot;www.google.com&quot;)\r\n           .addPathSegment(&quot;search&quot;)\r\n           .addQueryParameter(&quot;q&quot;, &quot;polar bears&quot;)\r\n           .build();\r\n\r\nYour get request url will happen exactly this way: \r\n\r\n    https://www.google.com/search?q=polar%20bears\r\n\r\nAnd after building your url you have to build your request like this:\r\n\r\n    Request request = new Request.Builder()\r\n                            .url(mySearchUrl)\r\n                            .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n                            .method(&quot;GET&quot;, null)\r\n                            .build();\r\n\r\nHere is the source: https://square.github.io/okhttp/3.x/okhttp/okhttp3/HttpUrl.html","title":"GET request with request body in OkHttp","body":"<p>I found a solution for this problem after a few attempts. Maybe someone finds it useful.</p>\n\n<p>I made use of \"Httpurl.Builder.\"</p>\n\n<pre><code>HttpUrl mySearchUrl = new HttpUrl.Builder()\n       .scheme(\"https\")\n       .host(\"www.google.com\")\n       .addPathSegment(\"search\")\n       .addQueryParameter(\"q\", \"polar bears\")\n       .build();\n</code></pre>\n\n<p>Your get request url will happen exactly this way: </p>\n\n<pre><code>https://www.google.com/search?q=polar%20bears\n</code></pre>\n\n<p>And after building your url you have to build your request like this:</p>\n\n<pre><code>Request request = new Request.Builder()\n                        .url(mySearchUrl)\n                        .addHeader(\"Accept\", \"application/json\")\n                        .method(\"GET\", null)\n                        .build();\n</code></pre>\n\n<p>Here is the source: <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/HttpUrl.html\" rel=\"noreferrer\">https://square.github.io/okhttp/3.x/okhttp/okhttp3/HttpUrl.html</a></p>\n"},{"tags":[],"owner":{"account_id":915901,"reputation":561,"user_id":948706,"display_name":"Mikhail Aksenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548863285,"creation_date":1548863285,"answer_id":54444409,"question_id":43288236,"body_markdown":"I tried to achieve the same, but unfortunately, it cannot be done without dirty tricks I personally admire as an exercise but don&#39;t want to see in my production code.\r\n\r\nBasically, you can create POST method with a builder and set its method field to &quot;GET&quot; later using the reflection. This will do the trick.\r\n\r\nSomething like this:\r\n\r\n```java\r\nBuilder builder = new Request.Builder().url(mySearchUrl).method(&quot;POST&quot;, body).build();\r\nField field = Builder.class.getField(&quot;method&quot;);\r\nfield.setAccessible(true);\r\nfield.setValue(builder, &quot;GET&quot;);\r\n```","title":"GET request with request body in OkHttp","body":"<p>I tried to achieve the same, but unfortunately, it cannot be done without dirty tricks I personally admire as an exercise but don't want to see in my production code.</p>\n\n<p>Basically, you can create POST method with a builder and set its method field to \"GET\" later using the reflection. This will do the trick.</p>\n\n<p>Something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Builder builder = new Request.Builder().url(mySearchUrl).method(\"POST\", body).build();\nField field = Builder.class.getField(\"method\");\nfield.setAccessible(true);\nfield.setValue(builder, \"GET\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":119186,"reputation":47,"user_id":310709,"display_name":"YSJaitawat"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1604956391,"creation_date":1604956391,"answer_id":64759341,"question_id":43288236,"body_markdown":"If the base API allow query params, send all the body params as queryparams. It works like a charm. While OKHttp allow the query params but will not allow  body with Get calls to avoid cache inconsistencies. ","title":"GET request with request body in OkHttp","body":"<p>If the base API allow query params, send all the body params as queryparams. It works like a charm. While OKHttp allow the query params but will not allow  body with Get calls to avoid cache inconsistencies.</p>\n"},{"tags":[],"owner":{"account_id":429844,"reputation":155,"user_id":812953,"accept_rate":11,"display_name":"NILESH SALPE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615233422,"creation_date":1615233422,"answer_id":66536297,"question_id":43288236,"body_markdown":"Technically RFC https://www.rfc-editor.org/rfc/rfc2616#section-9.3 says you can use the body in the get request.\r\n\r\nWhat I tried before switching to another client library \r\n\r\n 1. I tried request rewriting using network interceptor \r\n 2. I tried reflection to change the method\r\n       \r\n            Field field = originalRequest.getClass().getDeclaredField(&quot;method&quot;);\r\n            field.setAccessible(true);\r\n            field.set(originalRequest, &quot;GET&quot;);\r\n\r\n**Conclusion**: \r\nYou will need to change the library, OKHttp doesn&#39;t have support for GET request with requests body,  need to use apache client or any other client which supports this.\r\n","title":"GET request with request body in OkHttp","body":"<p>Technically RFC <a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-9.3\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc2616#section-9.3</a> says you can use the body in the get request.</p>\n<p>What I tried before switching to another client library</p>\n<ol>\n<li><p>I tried request rewriting using network interceptor</p>\n</li>\n<li><p>I tried reflection to change the method</p>\n<pre><code>    Field field = originalRequest.getClass().getDeclaredField(&quot;method&quot;);\n    field.setAccessible(true);\n    field.set(originalRequest, &quot;GET&quot;);\n</code></pre>\n</li>\n</ol>\n<p><strong>Conclusion</strong>:\nYou will need to change the library, OKHttp doesn't have support for GET request with requests body,  need to use apache client or any other client which supports this.</p>\n"},{"tags":[],"owner":{"account_id":20734650,"reputation":1,"user_id":15225748,"display_name":"Guy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1616653249,"creation_date":1616653249,"answer_id":66794093,"question_id":43288236,"body_markdown":"do both.  (in order)\r\n\r\n    Request request = new Request.Builder()\r\n                      .url(&quot;http://example.com&quot;)\r\n                      .post(requestBody)\r\n                      .get()\r\n                      .build();\r\n\r\n","title":"GET request with request body in OkHttp","body":"<p>do both.  (in order)</p>\n<pre><code>Request request = new Request.Builder()\n                  .url(&quot;http://example.com&quot;)\n                  .post(requestBody)\n                  .get()\n                  .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3507519,"reputation":448,"user_id":2932714,"accept_rate":29,"display_name":"RekaB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628059412,"creation_date":1628059412,"answer_id":68646528,"question_id":43288236,"body_markdown":"Building on the answer from @nilesh-salpe:\r\n\r\n```\r\nstatic class GetBodyBuilder extends Request.Builder {\r\n    public Request.Builder get(RequestBody body) {\r\n        this.post(body);\r\n        try {\r\n            Field field = Request.Builder.class.getDeclaredField(&quot;method&quot;);\r\n            field.setAccessible(true);\r\n            field.set(this, &quot;GET&quot;);\r\n        } catch (IllegalAccessException | NoSuchFieldException e) {\r\n            throw new SliceException(&quot;Couldn&#39;t set dirty reflection&quot;, e);\r\n        }\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nThen, instead of doing \r\n\r\n```\r\nnew Request.Builder().get(getBody(input))\r\n```\r\n\r\nWe can do\r\n\r\n```\r\nnew GetBodyBuilder().get(getBody(input))\r\n```\r\n\r\nIt&#39;s not pretty, but it works","title":"GET request with request body in OkHttp","body":"<p>Building on the answer from @nilesh-salpe:</p>\n<pre><code>static class GetBodyBuilder extends Request.Builder {\n    public Request.Builder get(RequestBody body) {\n        this.post(body);\n        try {\n            Field field = Request.Builder.class.getDeclaredField(&quot;method&quot;);\n            field.setAccessible(true);\n            field.set(this, &quot;GET&quot;);\n        } catch (IllegalAccessException | NoSuchFieldException e) {\n            throw new SliceException(&quot;Couldn't set dirty reflection&quot;, e);\n        }\n        return this;\n    }\n}\n</code></pre>\n<p>Then, instead of doing</p>\n<pre><code>new Request.Builder().get(getBody(input))\n</code></pre>\n<p>We can do</p>\n<pre><code>new GetBodyBuilder().get(getBody(input))\n</code></pre>\n<p>It's not pretty, but it works</p>\n"},{"tags":[],"owner":{"account_id":9756479,"reputation":699,"user_id":7233049,"display_name":"Timchang Wuyep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634142847,"creation_date":1634142847,"answer_id":69559154,"question_id":43288236,"body_markdown":"    \r\n    val url = &quot;http://www.google.com/search&quot;.toHttpUrlOrNull()?.newBuilder()\r\n                ?.addQueryParameter(&quot;q&quot;, &quot;cat videos&quot;)\r\n                ?.build()\r\n\r\n    val okHttpClient = OkHttpClient().newBuilder()\r\n                .connectTimeout(30, TimeUnit.SECONDS)\r\n                .writeTimeout(30, TimeUnit.SECONDS)\r\n                .readTimeout(30, TimeUnit.SECONDS)\r\n                .build()\r\n\r\n        val request = url?.let {\r\n            okhttp3.Request.Builder()\r\n                .header(&quot;Authorization&quot;, &quot;Bearer ${HeaderBearerKey}&quot;)\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .url(it)\r\n                .build()\r\n        }\r\n\r\n        if (request != null) {\r\n            okHttpClient.newCall(request).enqueue(object : Callback {\r\n\r\n                override fun onFailure(call: Call, e: IOException) {\r\n\r\n                    Log.i(&quot;xxx Fail&quot;, e.localizedMessage)\r\n                }\r\n\r\n                override fun onResponse(call: Call, response: okhttp3.Response) {\r\n\r\n                    response.body?.let {\r\n\r\n                        val responseData = it.string()\r\n                        Log.i(&quot;xxx&quot;, responseData)\r\n\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }","title":"GET request with request body in OkHttp","body":"<pre><code>val url = &quot;http://www.google.com/search&quot;.toHttpUrlOrNull()?.newBuilder()\n            ?.addQueryParameter(&quot;q&quot;, &quot;cat videos&quot;)\n            ?.build()\n\nval okHttpClient = OkHttpClient().newBuilder()\n            .connectTimeout(30, TimeUnit.SECONDS)\n            .writeTimeout(30, TimeUnit.SECONDS)\n            .readTimeout(30, TimeUnit.SECONDS)\n            .build()\n\n    val request = url?.let {\n        okhttp3.Request.Builder()\n            .header(&quot;Authorization&quot;, &quot;Bearer ${HeaderBearerKey}&quot;)\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .url(it)\n            .build()\n    }\n\n    if (request != null) {\n        okHttpClient.newCall(request).enqueue(object : Callback {\n\n            override fun onFailure(call: Call, e: IOException) {\n\n                Log.i(&quot;xxx Fail&quot;, e.localizedMessage)\n            }\n\n            override fun onResponse(call: Call, response: okhttp3.Response) {\n\n                response.body?.let {\n\n                    val responseData = it.string()\n                    Log.i(&quot;xxx&quot;, responseData)\n\n                    }\n                }\n            }\n        })\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1810034,"reputation":1784,"user_id":1646298,"accept_rate":82,"display_name":"ZZ 5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679997891,"creation_date":1679997891,"answer_id":75864852,"question_id":43288236,"body_markdown":"None of this solution works right now. I&#39;ve used reflection to set the body for `GET` method, however then the request just failed with `socket closed` exception. They do not intend to fix this as describe in their [GitHub issue][1]\r\n\r\nI suggest to migrate to other HTTP client like Apache or Java 11 HTTP client\r\n\r\n  [1]: https://github.com/square/okhttp/issues/3154","title":"GET request with request body in OkHttp","body":"<p>None of this solution works right now. I've used reflection to set the body for <code>GET</code> method, however then the request just failed with <code>socket closed</code> exception. They do not intend to fix this as describe in their <a href=\"https://github.com/square/okhttp/issues/3154\" rel=\"nofollow noreferrer\">GitHub issue</a></p>\n<p>I suggest to migrate to other HTTP client like Apache or Java 11 HTTP client</p>\n"},{"tags":[],"owner":{"account_id":18440103,"reputation":21,"user_id":13432944,"display_name":"Kirill I."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693318320,"creation_date":1693318320,"answer_id":77000986,"question_id":43288236,"body_markdown":"If you wanna make get request with body, through OkHttp / Retrofit, use this working solution:\r\n\r\nInstead of `@GET(...) / @POST(...)`\r\n\r\nDo `@HTTP(method = &quot;get&quot;, path = &quot;/user/get&quot;, hasBody = true)` - use lowercase `get`!\r\n\r\nSo it&#39;s start look like:\r\n\r\n    @HTTP(method = &quot;get&quot;, path = &quot;/user/get&quot;, hasBody = true)\r\n    suspend fun transcripts(@Body request: TranscriptsRequest): TranscriptsResponse\r\n\r\n\r\nPerfectly works!\r\n","title":"GET request with request body in OkHttp","body":"<p>If you wanna make get request with body, through OkHttp / Retrofit, use this working solution:</p>\n<p>Instead of <code>@GET(...) / @POST(...)</code></p>\n<p>Do <code>@HTTP(method = &quot;get&quot;, path = &quot;/user/get&quot;, hasBody = true)</code> - use lowercase <code>get</code>!</p>\n<p>So it's start look like:</p>\n<pre><code>@HTTP(method = &quot;get&quot;, path = &quot;/user/get&quot;, hasBody = true)\nsuspend fun transcripts(@Body request: TranscriptsRequest): TranscriptsResponse\n</code></pre>\n<p>Perfectly works!</p>\n"}],"owner":{"account_id":20634,"reputation":12774,"user_id":49505,"display_name":"joschi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36499,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":9,"score":15,"last_activity_date":1694592471,"creation_date":1491606025,"question_id":43288236,"body_markdown":"I&#39;m trying to use OkHttp 3.6.0 with Elasticsearch and I&#39;m stuck with sending requests to the [Elasticsearch Multi GET API](https://www.elastic.co/guide/en/elasticsearch/reference/5.3/docs-multi-get.html).\r\n\r\nIt requires sending an HTTP GET request with a request body. Unfortunately OkHttp doesn&#39;t support this out of the box and throws an exception if I try to build the request myself.\r\n\r\n    RequestBody body = RequestBody.create(&quot;text/plain&quot;, &quot;test&quot;);\r\n    \r\n    // No RequestBody supported\r\n    Request request = new Request.Builder()\r\n                      .url(&quot;http://example.com&quot;)\r\n                      .get()\r\n                      .build();\r\n    \r\n    // Throws: java.lang.IllegalArgumentException: method GET must not have a request body.\r\n    Request request = new Request.Builder()\r\n                      .url(&quot;http://example.com&quot;)\r\n                      .method(&quot;GET&quot;, requestBody)\r\n                      .build();\r\n\r\nIs there any chance to build a GET request with request body in OkHttp?\r\n\r\n*Related questions:*\r\n\r\n* https://stackoverflow.com/questions/978061/http-get-with-request-body\r\n* https://stackoverflow.com/questions/35743516/how-to-make-okhttp-post-request-without-a-request-body\r\n* https://stackoverflow.com/questions/36939748/elasticsearch-get-request-with-request-body\r\n","title":"GET request with request body in OkHttp","body":"<p>I'm trying to use OkHttp 3.6.0 with Elasticsearch and I'm stuck with sending requests to the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/5.3/docs-multi-get.html\" rel=\"noreferrer\">Elasticsearch Multi GET API</a>.</p>\n\n<p>It requires sending an HTTP GET request with a request body. Unfortunately OkHttp doesn't support this out of the box and throws an exception if I try to build the request myself.</p>\n\n<pre><code>RequestBody body = RequestBody.create(\"text/plain\", \"test\");\n\n// No RequestBody supported\nRequest request = new Request.Builder()\n                  .url(\"http://example.com\")\n                  .get()\n                  .build();\n\n// Throws: java.lang.IllegalArgumentException: method GET must not have a request body.\nRequest request = new Request.Builder()\n                  .url(\"http://example.com\")\n                  .method(\"GET\", requestBody)\n                  .build();\n</code></pre>\n\n<p>Is there any chance to build a GET request with request body in OkHttp?</p>\n\n<p><em>Related questions:</em></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/978061/http-get-with-request-body\">HTTP GET with request body</a></li>\n<li><a href=\"https://stackoverflow.com/questions/35743516/how-to-make-okhttp-post-request-without-a-request-body\">How to make OKHTTP post request without a request body?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/36939748/elasticsearch-get-request-with-request-body\">Elasticsearch GET request with request body</a></li>\n</ul>\n"},{"tags":["java","arrays","compare","byte","mask"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":1,"creation_date":1401462609,"post_id":23957760,"comment_id":36907797,"body_markdown":"You don&#39;t need to copy it. Just write a manual function that iterates over the bytes and compares them. The copying process is what&#39;s slowing you down. `private static compareFirstNBytes(byte[] a, byte[] b, int n) {//}`","body":"You don&#39;t need to copy it. Just write a manual function that iterates over the bytes and compares them. The copying process is what&#39;s slowing you down. <code>private static compareFirstNBytes(byte[] a, byte[] b, int n) {&#47;&#47;}</code>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1401462650,"post_id":23957760,"comment_id":36907825,"body_markdown":"I&#39;m curious - how fast is your attempt, and how fast does it need to be? Because I would have guessed your attempt was quite fast already (although a simple loop would be faster)","body":"I&#39;m curious - how fast is your attempt, and how fast does it need to be? Because I would have guessed your attempt was quite fast already (although a simple loop would be faster)"},{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":0,"creation_date":1401462715,"post_id":23957760,"comment_id":36907863,"body_markdown":"This won&#39;t make a huge difference...","body":"This won&#39;t make a huge difference..."}],"answers":[{"tags":[],"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483030176,"creation_date":1401462620,"answer_id":23957809,"question_id":23957760,"body_markdown":"It would be faster just to iterate, as `copyOfRange` reallocates memory and creates a new array.\r\n\r\n\r\n    public boolean isEqual(byte[] a1, byte[] a2, int size) {\r\n        for(int i=0;i&lt;size;i++)\r\n            if (a1[i] != a2[i])\r\n                return false;\r\n        return true;\r\n    }","title":"Fast Way to compare subarray of bytes","body":"<p>It would be faster just to iterate, as <code>copyOfRange</code> reallocates memory and creates a new array.</p>\n\n<pre><code>public boolean isEqual(byte[] a1, byte[] a2, int size) {\n    for(int i=0;i&lt;size;i++)\n        if (a1[i] != a2[i])\n            return false;\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2049682,"reputation":7411,"user_id":1828937,"accept_rate":56,"display_name":"Dmitry Ginzburg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1401462650,"creation_date":1401462650,"answer_id":23957821,"question_id":23957760,"body_markdown":"You may write your helper method, it would be faster, than allocation of a new copy:\r\n\r\n    public boolean equalsInRange (byte[] arr1, int from1, int to1, byte[] arr2, int from2, int to2) {\r\n        if (to1 - from1 &lt; 0 || to1 - from1 != to2 - from2)\r\n            return false;\r\n        int i1 = from1, i2 = from2;\r\n        while (i1 &lt;= to1) {\r\n            if (arr1[i1] != arr2[i2])\r\n                return false;\r\n            ++i1;\r\n            ++i2;\r\n        }\r\n        return true;\r\n    }","title":"Fast Way to compare subarray of bytes","body":"<p>You may write your helper method, it would be faster, than allocation of a new copy:</p>\n\n<pre><code>public boolean equalsInRange (byte[] arr1, int from1, int to1, byte[] arr2, int from2, int to2) {\n    if (to1 - from1 &lt; 0 || to1 - from1 != to2 - from2)\n        return false;\n    int i1 = from1, i2 = from2;\n    while (i1 &lt;= to1) {\n        if (arr1[i1] != arr2[i2])\n            return false;\n        ++i1;\n        ++i2;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1579278667,"creation_date":1579278667,"answer_id":59791365,"question_id":23957760,"body_markdown":"Solution for Java 9+:\r\n\r\n    Arrays.equals(indicator, 0, 5, current, 0, 5);","title":"Fast Way to compare subarray of bytes","body":"<p>Solution for Java 9+:</p>\n\n<pre><code>Arrays.equals(indicator, 0, 5, current, 0, 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29429376,"reputation":1,"user_id":22549357,"display_name":"yofido2535"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694592336,"creation_date":1694591942,"answer_id":77095138,"question_id":23957760,"body_markdown":"What about:\r\n```\r\nByteBuffer.wrap(indicator).equals(ByteBuffer.wrap(current, 0, 5));\r\n```\r\n\r\n(should work in Java 6+, maybe even older)","title":"Fast Way to compare subarray of bytes","body":"<p>What about:</p>\n<pre><code>ByteBuffer.wrap(indicator).equals(ByteBuffer.wrap(current, 0, 5));\n</code></pre>\n<p>(should work in Java 6+, maybe even older)</p>\n"}],"owner":{"account_id":3829283,"reputation":191,"user_id":3175321,"accept_rate":0,"display_name":"pkran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3164,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1694592336,"creation_date":1401462453,"question_id":23957760,"body_markdown":"In the scope of a project that I&#39;m currently working, I use binary data stored in arrays of 10 bytes, and I&#39;m trying to find a fast way to compare them. I&#39;m mostly interested in the 5 most significant bytes, so I want to perform a comparison between sub-arrays of bytes.\r\nFor instance, I have these two parameters:\r\n\r\n    byte [] indicator = new byte[5];\r\n    byte [] current = new byte[10];\r\n\r\nI want to see of the 5 first bytes of the &#39;current&#39; is equal to the &#39;indicator&#39;. In order to do so, I&#39;m using the Arrays functions, so I&#39;m actually doing the following:\r\n\r\n    Arrays.equals(indicator, Arrays.copyOfRange(current, 0, 5))\r\n\r\nThis works fine of course, but not so fast as required. So I strongly believe that there must be a better way to perform such a byte comparison. Maybe by using `0xFF` masks???\r\n\r\nAny ideas?","title":"Fast Way to compare subarray of bytes","body":"<p>In the scope of a project that I'm currently working, I use binary data stored in arrays of 10 bytes, and I'm trying to find a fast way to compare them. I'm mostly interested in the 5 most significant bytes, so I want to perform a comparison between sub-arrays of bytes.\nFor instance, I have these two parameters:</p>\n\n<pre><code>byte [] indicator = new byte[5];\nbyte [] current = new byte[10];\n</code></pre>\n\n<p>I want to see of the 5 first bytes of the 'current' is equal to the 'indicator'. In order to do so, I'm using the Arrays functions, so I'm actually doing the following:</p>\n\n<pre><code>Arrays.equals(indicator, Arrays.copyOfRange(current, 0, 5))\n</code></pre>\n\n<p>This works fine of course, but not so fast as required. So I strongly believe that there must be a better way to perform such a byte comparison. Maybe by using <code>0xFF</code> masks???</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":23860190,"reputation":193,"user_id":17863242,"display_name":"Alraj"},"score":0,"creation_date":1694589861,"post_id":77094334,"comment_id":135909501,"body_markdown":"Are you asking on how to use observer to update RecyclerView? If yes edit the title saying &quot;How to update RecyclerView on LiveData changes?&quot;.\n\nCause your title is misleading, it means &quot;How do i add RecyclerView in Fragment&quot; which you did already in your layout and also set an adapter to it.","body":"Are you asking on how to use observer to update RecyclerView? If yes edit the title saying &quot;How to update RecyclerView on LiveData changes?&quot;.  Cause your title is misleading, it means &quot;How do i add RecyclerView in Fragment&quot; which you did already in your layout and also set an adapter to it."}],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694587344,"creation_date":1694587344,"answer_id":77094611,"question_id":77094334,"body_markdown":"Here&#39;s how I did it. Might be helpful for you!\r\n\r\nFirst I created sample layout for recyclerView\r\n\r\nsample_recyclerview.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;165dp&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            app:cardCornerRadius=&quot;5dp&quot;\r\n            app:cardElevation=&quot;5dp&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/foodImage&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;120dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:contentDescription=&quot;@string/todo&quot;\r\n                    android:scaleType=&quot;centerCrop&quot;\r\n                    app:srcCompat=&quot;@drawable/food0&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textFood&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_marginTop=&quot;0.5dp&quot;\r\n                    android:background=&quot;@color/pinkish&quot;\r\n                    android:fontFamily=&quot;@font/comfortaa&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;@string/food_over&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textSize=&quot;15sp&quot;\r\n                    tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nThe add this layout in the activity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/RecylerviewId&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:listitem=&quot;@layout/sample_recylerview&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nand then i created model class for the data i required to be in the sample layout.\r\n\r\nFoodModel.java\r\n\r\n    public class FoodModel {\r\n    \r\n        //I have provided images in the drawable that&#39;s why taking image as int \r\n        // otherwise we have to to with the String when we are taking images from\r\n        // database like firease\r\n        int image;\r\n        String foodText;\r\n    \r\n        //constructor\r\n        public FoodModel(int image, String foodText) {\r\n            this.image = image;\r\n            this.foodText = foodText;\r\n        }\r\n    \r\n        //getter and setter\r\n        public int getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(int image) {\r\n            this.image = image;\r\n        }\r\n    \r\n        public String getFoodText() {\r\n            return foodText;\r\n        }\r\n    \r\n        public void setFoodText(String foodText) {\r\n            this.foodText = foodText;\r\n        }\r\n    }\r\n\r\nNow before creating the Adapter class, we will create another class for clickeListeners for each item of the recyclerview. you can skip it if you don&#39;t need it now, but I think you will definitely need it in the future.\r\n\r\nRecyclerItemClickListener.java\r\n\r\n    public class RecyclerItemClickListener implements RecyclerView.OnItemTouchListener {\r\n        private OnItemClickListener nListener;\r\n    \r\n        public interface OnItemClickListener {\r\n            public void onItemClick(View view, int position);\r\n    \r\n            public void OnLongItemClick(View view, int position);\r\n    \r\n        }\r\n    \r\n        GestureDetector gestureDetector;\r\n        //constructor\r\n    \r\n        public RecyclerItemClickListener(Context context, final RecyclerView recyclerView, OnItemClickListener onItemClickListener){\r\n            nListener = onItemClickListener;\r\n    \r\n            gestureDetector = new GestureDetector(context, new GestureDetector.SimpleOnGestureListener(){\r\n    \r\n                @Override\r\n                public boolean onSingleTapUp(MotionEvent event){\r\n                    return true;\r\n                }\r\n    \r\n                public void onLongItemClick (MotionEvent event) {\r\n                    View child = recyclerView.findChildViewUnder(event.getX(), event.getY());\r\n    \r\n                    if(child != null &amp;&amp; nListener !=null){\r\n                        nListener.OnLongItemClick(child, recyclerView.getChildAdapterPosition(child));\r\n                    }\r\n    \r\n                }\r\n            });\r\n        }\r\n        @Override\r\n        public boolean onInterceptTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent e) {\r\n    \r\n            View childView = rv.findChildViewUnder(e.getX(), e.getY());\r\n    \r\n            if (childView != null &amp;&amp; nListener != null &amp;&amp; gestureDetector.onTouchEvent(e)){\r\n                nListener.onItemClick(childView, rv.getChildAdapterPosition(childView));\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public void onTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent e) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onRequestDisallowInterceptTouchEvent(boolean disallowIntercept) {\r\n    \r\n        }\r\n    }\r\n\r\nNow we will create an adapter class\r\n\r\nFoodAdapter.Java\r\n\r\n    public class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.ViewHolder&gt;{\r\n    \r\n        ArrayList&lt;FoodModel&gt; list;\r\n        Context context;\r\n    \r\n        //constructor\r\n        public FoodAdapter(ArrayList&lt;FoodModel&gt; list, Context context) {\r\n            this.list = list;\r\n            this.context = context;\r\n        }\r\n    \r\n        //we will inflate the layout in this method\r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            View view = LayoutInflater.from(context).inflate(R.layout.sample_recylerview, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n        // we will set the values of image and text here, in this method\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n    \r\n            FoodModel foodModel = list.get(position);\r\n    \r\n            //setting data\r\n            holder.fImage.setImageResource(foodModel.getImage());\r\n            holder.fText.setText(foodModel.getFoodText());\r\n    \r\n            //on item click Listener\r\n           switch (holder.getAdapterPosition()){\r\n    \r\n               // we can add separate on click listeners on each items(case) as well.\r\n               //but, here we have implemented same code on all items.\r\n               case 0:\r\n               case 1:\r\n               case 2:\r\n               case 3:\r\n               case 4:\r\n               case 5:\r\n               case 6:\r\n               case 7:\r\n               case 8:\r\n               case 9:\r\n    // This part we have done in MainActivity.java so I have commented it here. just \r\n      // to know how we can do it in adapter. \r\n    //               holder.fImage.setOnClickListener(new View.OnClickListener() {\r\n    //                   @Override\r\n    //                   public void onClick(View v) {\r\n    //                       Toast.makeText(context, &quot;Image &quot; +(holder.getAdapterPosition()+1)+&quot; is Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n    //                   }\r\n    //               });\r\n    //               holder.fText.setOnClickListener(new View.OnClickListener() {\r\n    //                   @Override\r\n    //                   public void onClick(View v) {\r\n    //                       Toast.makeText(context, &quot;Text &quot;+(holder.getAdapterPosition()+1)+&quot; is Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n    //                   }\r\n    //               });\r\n    \r\n                   //long clicked\r\n                   holder.fImage.setOnLongClickListener(new View.OnLongClickListener() {\r\n                       @Override\r\n                       public boolean onLongClick(View v) {\r\n                           if (v.isLongClickable()){\r\n                               Toast.makeText(context, &quot;Image &quot;+(holder.getAdapterPosition()+1)+&quot; Clicked Long&quot;, Toast.LENGTH_SHORT).show();\r\n                           }\r\n                           return false;\r\n                       }\r\n                   });\r\n    \r\n                   holder.fText.setOnLongClickListener(new View.OnLongClickListener() {\r\n                       @Override\r\n                       public boolean onLongClick(View v) {\r\n                           if (v.isLongClickable()){\r\n                               Toast.makeText(context, &quot;Text &quot;+(holder.getAdapterPosition()+1)+&quot; Clicked Long&quot;, Toast.LENGTH_SHORT).show();\r\n                           }\r\n                           return false;\r\n                       }\r\n                   });\r\n    \r\n    \r\n                   break;\r\n               default:\r\n    \r\n                   break;\r\n           }\r\n    \r\n        }\r\n    \r\n        // size of items or size of recyclerView\r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n    \r\n        //view holder class\r\n        public class ViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            ImageView fImage;\r\n            TextView fText;\r\n    \r\n            //constructor\r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                fImage = itemView.findViewById(R.id.foodImage);\r\n                fText = itemView.findViewById(R.id.textFood);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nHere&#39;s Main Activity\r\n\r\nMainActivity.java\r\n\r\n   \r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n        \r\n            RecyclerView recyclerView;\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n        \r\n                recyclerView = findViewById(R.id.RecylerviewId);\r\n        \r\n                //creating arraylist to store data to show the data\r\n        \r\n                ArrayList&lt;FoodModel&gt; fList = new ArrayList&lt;&gt;();\r\n        \r\n                //data insertion in recycelrView using model class\r\n                fList.add(new FoodModel(R.drawable.food0, &quot;Zinger Burger&quot;));\r\n                fList.add(new FoodModel(R.drawable.food1, &quot;Beef Burger Special&quot;));\r\n                fList.add(new FoodModel(R.drawable.food2, &quot;Chicken Karahi&quot;));\r\n                fList.add(new FoodModel(R.drawable.food3, &quot;Beef Pulao&quot;));\r\n                fList.add(new FoodModel(R.drawable.food4, &quot;Zinger Roll&quot;));\r\n                fList.add(new FoodModel(R.drawable.food5, &quot;Roll Paratha&quot;));\r\n                fList.add(new FoodModel(R.drawable.food6, &quot;Naan Khatai&quot;));\r\n                fList.add(new FoodModel(R.drawable.food7, &quot;Special Rogni Naan&quot;));\r\n                fList.add(new FoodModel(R.drawable.food8, &quot;Chicken Biryani&quot;));\r\n                fList.add(new FoodModel(R.drawable.food9, &quot;Cold Drinks&quot;));\r\n        \r\n                //setting adapter\r\n                FoodAdapter adapter = new FoodAdapter(fList, this);\r\n                recyclerView.setAdapter(adapter);\r\n        \r\n    //different layouts for you to try\r\n                //setting Linear Layout Manager (vertical)\r\n        //        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        //        recyclerView.setLayoutManager(linearLayoutManager);\r\n        \r\n                //setting Linear Layout Manager (Horizontal)\r\n                //here false is for sweeping items from right and true is for left.\r\n        //        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\r\n        //        recyclerView.setLayoutManager(linearLayoutManager);\r\n        \r\n                // setting grid layout Manager\r\n        //        GridLayoutManager gridLayoutManager = new GridLayoutManager(this, 2);\r\n        //        recyclerView.setLayoutManager(gridLayoutManager);\r\n        \r\n                // staggered layout Manager\r\n        \r\n                StaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, StaggeredGridLayoutManager.VERTICAL);\r\n                recyclerView.setLayoutManager(staggeredGridLayoutManager);\r\n        \r\n                // On Item Touch Listener on recyclerView\r\n        \r\n                recyclerView.addOnItemTouchListener(new RecyclerItemClickListener(\r\n                        this, recyclerView, new RecyclerItemClickListener.OnItemClickListener() {\r\n                    @Override\r\n                    public void onItemClick(View view, int position) {\r\n        \r\n                        switch (position){\r\n        \r\n                            case 0:\r\n    //created scroll activity to show here on click of the item \r\n                                Intent intent = new Intent(MainActivity.this, ScrollingActivityFood.class);\r\n                                startActivity(intent);\r\n                                break;\r\n                            case 1:\r\n                                Toast.makeText(MainActivity.this, &quot;Second Item is Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                                break;\r\n                            case 2:\r\n                                Toast.makeText(MainActivity.this, &quot;Third Item is Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                                break;\r\n                            default:\r\n        \r\n                                break;\r\n                        }\r\n                    }\r\n        \r\n                    // long item is not working, but, item Long Clicked set in Adapter is working fine.\r\n                    @Override\r\n                    public void OnLongItemClick(View view, int position) {\r\n        \r\n                        switch (position){\r\n        \r\n                            case 0:\r\n                                Toast.makeText(MainActivity.this, &quot;Item is Clicked Long&quot;, Toast.LENGTH_SHORT).show();\r\n                                break;\r\n        \r\n                            default:\r\n        \r\n                        }\r\n        \r\n                    }\r\n                }\r\n                ));\r\n        \r\n            }\r\n        }\r\n\r\n","title":"How to set properly a recycler view in a fragment","body":"<p>Here's how I did it. Might be helpful for you!</p>\n<p>First I created sample layout for recyclerView</p>\n<p>sample_recyclerview.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;165dp&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_margin=&quot;5dp&quot;\n        app:cardCornerRadius=&quot;5dp&quot;\n        app:cardElevation=&quot;5dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/foodImage&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;120dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:contentDescription=&quot;@string/todo&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                app:srcCompat=&quot;@drawable/food0&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textFood&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginTop=&quot;0.5dp&quot;\n                android:background=&quot;@color/pinkish&quot;\n                android:fontFamily=&quot;@font/comfortaa&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/food_over&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;15sp&quot;\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>The add this layout in the activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/RecylerviewId&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:listitem=&quot;@layout/sample_recylerview&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>and then i created model class for the data i required to be in the sample layout.</p>\n<p>FoodModel.java</p>\n<pre><code>public class FoodModel {\n\n    //I have provided images in the drawable that's why taking image as int \n    // otherwise we have to to with the String when we are taking images from\n    // database like firease\n    int image;\n    String foodText;\n\n    //constructor\n    public FoodModel(int image, String foodText) {\n        this.image = image;\n        this.foodText = foodText;\n    }\n\n    //getter and setter\n    public int getImage() {\n        return image;\n    }\n\n    public void setImage(int image) {\n        this.image = image;\n    }\n\n    public String getFoodText() {\n        return foodText;\n    }\n\n    public void setFoodText(String foodText) {\n        this.foodText = foodText;\n    }\n}\n</code></pre>\n<p>Now before creating the Adapter class, we will create another class for clickeListeners for each item of the recyclerview. you can skip it if you don't need it now, but I think you will definitely need it in the future.</p>\n<p>RecyclerItemClickListener.java</p>\n<pre><code>public class RecyclerItemClickListener implements RecyclerView.OnItemTouchListener {\n    private OnItemClickListener nListener;\n\n    public interface OnItemClickListener {\n        public void onItemClick(View view, int position);\n\n        public void OnLongItemClick(View view, int position);\n\n    }\n\n    GestureDetector gestureDetector;\n    //constructor\n\n    public RecyclerItemClickListener(Context context, final RecyclerView recyclerView, OnItemClickListener onItemClickListener){\n        nListener = onItemClickListener;\n\n        gestureDetector = new GestureDetector(context, new GestureDetector.SimpleOnGestureListener(){\n\n            @Override\n            public boolean onSingleTapUp(MotionEvent event){\n                return true;\n            }\n\n            public void onLongItemClick (MotionEvent event) {\n                View child = recyclerView.findChildViewUnder(event.getX(), event.getY());\n\n                if(child != null &amp;&amp; nListener !=null){\n                    nListener.OnLongItemClick(child, recyclerView.getChildAdapterPosition(child));\n                }\n\n            }\n        });\n    }\n    @Override\n    public boolean onInterceptTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent e) {\n\n        View childView = rv.findChildViewUnder(e.getX(), e.getY());\n\n        if (childView != null &amp;&amp; nListener != null &amp;&amp; gestureDetector.onTouchEvent(e)){\n            nListener.onItemClick(childView, rv.getChildAdapterPosition(childView));\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    public void onTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent e) {\n\n    }\n\n    @Override\n    public void onRequestDisallowInterceptTouchEvent(boolean disallowIntercept) {\n\n    }\n}\n</code></pre>\n<p>Now we will create an adapter class</p>\n<p>FoodAdapter.Java</p>\n<pre><code>public class FoodAdapter extends RecyclerView.Adapter&lt;FoodAdapter.ViewHolder&gt;{\n\n    ArrayList&lt;FoodModel&gt; list;\n    Context context;\n\n    //constructor\n    public FoodAdapter(ArrayList&lt;FoodModel&gt; list, Context context) {\n        this.list = list;\n        this.context = context;\n    }\n\n    //we will inflate the layout in this method\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(context).inflate(R.layout.sample_recylerview, parent, false);\n        return new ViewHolder(view);\n    }\n\n    // we will set the values of image and text here, in this method\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n\n        FoodModel foodModel = list.get(position);\n\n        //setting data\n        holder.fImage.setImageResource(foodModel.getImage());\n        holder.fText.setText(foodModel.getFoodText());\n\n        //on item click Listener\n       switch (holder.getAdapterPosition()){\n\n           // we can add separate on click listeners on each items(case) as well.\n           //but, here we have implemented same code on all items.\n           case 0:\n           case 1:\n           case 2:\n           case 3:\n           case 4:\n           case 5:\n           case 6:\n           case 7:\n           case 8:\n           case 9:\n// This part we have done in MainActivity.java so I have commented it here. just \n  // to know how we can do it in adapter. \n//               holder.fImage.setOnClickListener(new View.OnClickListener() {\n//                   @Override\n//                   public void onClick(View v) {\n//                       Toast.makeText(context, &quot;Image &quot; +(holder.getAdapterPosition()+1)+&quot; is Clicked&quot;, Toast.LENGTH_SHORT).show();\n//                   }\n//               });\n//               holder.fText.setOnClickListener(new View.OnClickListener() {\n//                   @Override\n//                   public void onClick(View v) {\n//                       Toast.makeText(context, &quot;Text &quot;+(holder.getAdapterPosition()+1)+&quot; is Clicked&quot;, Toast.LENGTH_SHORT).show();\n//                   }\n//               });\n\n               //long clicked\n               holder.fImage.setOnLongClickListener(new View.OnLongClickListener() {\n                   @Override\n                   public boolean onLongClick(View v) {\n                       if (v.isLongClickable()){\n                           Toast.makeText(context, &quot;Image &quot;+(holder.getAdapterPosition()+1)+&quot; Clicked Long&quot;, Toast.LENGTH_SHORT).show();\n                       }\n                       return false;\n                   }\n               });\n\n               holder.fText.setOnLongClickListener(new View.OnLongClickListener() {\n                   @Override\n                   public boolean onLongClick(View v) {\n                       if (v.isLongClickable()){\n                           Toast.makeText(context, &quot;Text &quot;+(holder.getAdapterPosition()+1)+&quot; Clicked Long&quot;, Toast.LENGTH_SHORT).show();\n                       }\n                       return false;\n                   }\n               });\n\n\n               break;\n           default:\n\n               break;\n       }\n\n    }\n\n    // size of items or size of recyclerView\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    //view holder class\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        ImageView fImage;\n        TextView fText;\n\n        //constructor\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            fImage = itemView.findViewById(R.id.foodImage);\n            fText = itemView.findViewById(R.id.textFood);\n\n        }\n    }\n}\n</code></pre>\n<p>Here's Main Activity</p>\n<p>MainActivity.java</p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n    \n        RecyclerView recyclerView;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            recyclerView = findViewById(R.id.RecylerviewId);\n    \n            //creating arraylist to store data to show the data\n    \n            ArrayList&lt;FoodModel&gt; fList = new ArrayList&lt;&gt;();\n    \n            //data insertion in recycelrView using model class\n            fList.add(new FoodModel(R.drawable.food0, &quot;Zinger Burger&quot;));\n            fList.add(new FoodModel(R.drawable.food1, &quot;Beef Burger Special&quot;));\n            fList.add(new FoodModel(R.drawable.food2, &quot;Chicken Karahi&quot;));\n            fList.add(new FoodModel(R.drawable.food3, &quot;Beef Pulao&quot;));\n            fList.add(new FoodModel(R.drawable.food4, &quot;Zinger Roll&quot;));\n            fList.add(new FoodModel(R.drawable.food5, &quot;Roll Paratha&quot;));\n            fList.add(new FoodModel(R.drawable.food6, &quot;Naan Khatai&quot;));\n            fList.add(new FoodModel(R.drawable.food7, &quot;Special Rogni Naan&quot;));\n            fList.add(new FoodModel(R.drawable.food8, &quot;Chicken Biryani&quot;));\n            fList.add(new FoodModel(R.drawable.food9, &quot;Cold Drinks&quot;));\n    \n            //setting adapter\n            FoodAdapter adapter = new FoodAdapter(fList, this);\n            recyclerView.setAdapter(adapter);\n    \n//different layouts for you to try\n            //setting Linear Layout Manager (vertical)\n    //        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n    //        recyclerView.setLayoutManager(linearLayoutManager);\n    \n            //setting Linear Layout Manager (Horizontal)\n            //here false is for sweeping items from right and true is for left.\n    //        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);\n    //        recyclerView.setLayoutManager(linearLayoutManager);\n    \n            // setting grid layout Manager\n    //        GridLayoutManager gridLayoutManager = new GridLayoutManager(this, 2);\n    //        recyclerView.setLayoutManager(gridLayoutManager);\n    \n            // staggered layout Manager\n    \n            StaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, StaggeredGridLayoutManager.VERTICAL);\n            recyclerView.setLayoutManager(staggeredGridLayoutManager);\n    \n            // On Item Touch Listener on recyclerView\n    \n            recyclerView.addOnItemTouchListener(new RecyclerItemClickListener(\n                    this, recyclerView, new RecyclerItemClickListener.OnItemClickListener() {\n                @Override\n                public void onItemClick(View view, int position) {\n    \n                    switch (position){\n    \n                        case 0:\n//created scroll activity to show here on click of the item \n                            Intent intent = new Intent(MainActivity.this, ScrollingActivityFood.class);\n                            startActivity(intent);\n                            break;\n                        case 1:\n                            Toast.makeText(MainActivity.this, &quot;Second Item is Clicked&quot;, Toast.LENGTH_SHORT).show();\n                            break;\n                        case 2:\n                            Toast.makeText(MainActivity.this, &quot;Third Item is Clicked&quot;, Toast.LENGTH_SHORT).show();\n                            break;\n                        default:\n    \n                            break;\n                    }\n                }\n    \n                // long item is not working, but, item Long Clicked set in Adapter is working fine.\n                @Override\n                public void OnLongItemClick(View view, int position) {\n    \n                    switch (position){\n    \n                        case 0:\n                            Toast.makeText(MainActivity.this, &quot;Item is Clicked Long&quot;, Toast.LENGTH_SHORT).show();\n                            break;\n    \n                        default:\n    \n                    }\n    \n                }\n            }\n            ));\n    \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23860190,"reputation":193,"user_id":17863242,"display_name":"Alraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694590646,"creation_date":1694590646,"answer_id":77094977,"question_id":77094334,"body_markdown":"You can update the RecyclerView data using the adapter inside the `LiveData.observe()` function.\r\n\r\n```java\r\npublic View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n    DashboardViewModel dashboardViewModel =\r\n                new ViewModelProvider(this).get(DashboardViewModel.class);\r\n\r\n    binding = FragmentDashboardBinding.inflate(inflater, container, false);\r\n    View root = binding.getRoot();\r\n\r\n    final TextView textView = binding.textDashboard;\r\n    dashboardViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n\r\n    RecyclerView recyclerView = binding.recyclerView;\r\n    DummyDatas dummyDatas = new DummyDatas();\r\n    final ProductAdapter productAdapter = new ProductAdapter(dummyDatas.getProducts());\r\n    recyclerView.setAdapter(productAdapter);\r\n\r\n    // observe products and update data using adapter&#39;s data functions\r\n    // either replace the whole list, or use DiffUtil\r\n    dashboardViewModel.getProducts().observe(getViewLifecycleOwner(), products -&gt; {\r\n        productAdapter.setProducts(products);\r\n        productAdapter.notifyDataSetChanged();\r\n    });\r\n    return root;\r\n}\r\n```","title":"How to set properly a recycler view in a fragment","body":"<p>You can update the RecyclerView data using the adapter inside the <code>LiveData.observe()</code> function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n    DashboardViewModel dashboardViewModel =\n                new ViewModelProvider(this).get(DashboardViewModel.class);\n\n    binding = FragmentDashboardBinding.inflate(inflater, container, false);\n    View root = binding.getRoot();\n\n    final TextView textView = binding.textDashboard;\n    dashboardViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n\n    RecyclerView recyclerView = binding.recyclerView;\n    DummyDatas dummyDatas = new DummyDatas();\n    final ProductAdapter productAdapter = new ProductAdapter(dummyDatas.getProducts());\n    recyclerView.setAdapter(productAdapter);\n\n    // observe products and update data using adapter's data functions\n    // either replace the whole list, or use DiffUtil\n    dashboardViewModel.getProducts().observe(getViewLifecycleOwner(), products -&gt; {\n        productAdapter.setProducts(products);\n        productAdapter.notifyDataSetChanged();\n    });\n    return root;\n}\n</code></pre>\n"}],"owner":{"account_id":1324107,"reputation":854,"user_id":1269325,"accept_rate":68,"display_name":"Fred37b"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694592310,"creation_date":1694583771,"question_id":77094334,"body_markdown":"I wonder how am I supposed to set properly my Recycler View in my fragment, the dashboardViewModel &quot;observe&quot; the text field but I have not find how to observe the Recycler View, so I just binded it and set an Adapter, but I think I am in the wrong way.\r\n\r\n```java\r\n// My Dashboard fragment :\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        DashboardViewModel dashboardViewModel =\r\n                new ViewModelProvider(this).get(DashboardViewModel.class);\r\n\r\n        binding = FragmentDashboardBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        final TextView textView = binding.textDashboard;\r\n        dashboardViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n\r\n        RecyclerView recyclerView = binding.recyclerView;\r\n        DummyDatas dummyDatas = new DummyDatas();\r\n        ProductAdapter productAdapter = new ProductAdapter(dummyDatas.getProducts());\r\n        recyclerView.setAdapter(productAdapter);\r\n\r\n        return root;\r\n\r\n// My Dash board view Model\r\n\r\n    public DashboardViewModel() {\r\n        mText = new MutableLiveData&lt;&gt;();\r\n        mProducts = new MutableLiveData&lt;&gt;();\r\n\r\n        DummyDatas dummyDatas = new DummyDatas();\r\n        List&lt;Product&gt; products = dummyDatas.getProducts();\r\n\r\n        double totalBasketPrice = 0.0;\r\n\r\n        for (Product product : products){\r\n            System.out.println(product.getPriceAtUnit());\r\n            totalBasketPrice = totalBasketPrice + product.getPriceAtUnit();\r\n        }\r\n\r\n        mProducts.setValue(products);\r\n\r\n        mText.setValue(&quot;Price :&quot; + totalBasketPrice);\r\n    }\r\n\r\n    public LiveData&lt;String&gt; getText() {\r\n        return mText;\r\n    }\r\n\r\n    public LiveData&lt;List&lt;Product&gt;&gt; getProducts() {\r\n        return mProducts;\r\n    }\r\n    }\r\n\r\n\r\n```","title":"How to set properly a recycler view in a fragment","body":"<p>I wonder how am I supposed to set properly my Recycler View in my fragment, the dashboardViewModel &quot;observe&quot; the text field but I have not find how to observe the Recycler View, so I just binded it and set an Adapter, but I think I am in the wrong way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// My Dashboard fragment :\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        DashboardViewModel dashboardViewModel =\n                new ViewModelProvider(this).get(DashboardViewModel.class);\n\n        binding = FragmentDashboardBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textDashboard;\n        dashboardViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n\n        RecyclerView recyclerView = binding.recyclerView;\n        DummyDatas dummyDatas = new DummyDatas();\n        ProductAdapter productAdapter = new ProductAdapter(dummyDatas.getProducts());\n        recyclerView.setAdapter(productAdapter);\n\n        return root;\n\n// My Dash board view Model\n\n    public DashboardViewModel() {\n        mText = new MutableLiveData&lt;&gt;();\n        mProducts = new MutableLiveData&lt;&gt;();\n\n        DummyDatas dummyDatas = new DummyDatas();\n        List&lt;Product&gt; products = dummyDatas.getProducts();\n\n        double totalBasketPrice = 0.0;\n\n        for (Product product : products){\n            System.out.println(product.getPriceAtUnit());\n            totalBasketPrice = totalBasketPrice + product.getPriceAtUnit();\n        }\n\n        mProducts.setValue(products);\n\n        mText.setValue(&quot;Price :&quot; + totalBasketPrice);\n    }\n\n    public LiveData&lt;String&gt; getText() {\n        return mText;\n    }\n\n    public LiveData&lt;List&lt;Product&gt;&gt; getProducts() {\n        return mProducts;\n    }\n    }\n\n\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":17860775,"reputation":23,"user_id":12974346,"display_name":"kikeee95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588712200,"creation_date":1588712200,"answer_id":61622903,"question_id":61622431,"body_markdown":"You should have a look at this: https://stackoverflow.com/questions/16040601/why-is-nextline-returning-an-empty-string\r\n\r\nThis would work:\r\n\r\n    else if(steps &lt; 10000) {\r\n                    scan.nextLine();\r\n                    String home;\r\n                    while (!(home = scan.nextLine()).isEmpty()) {\r\n                        if (home.equals(&quot;Going home&quot;)) {\r\n                            int extraSteps = scan.nextInt();\r\n                            totalSteps = totalSteps + steps + extraSteps;\r\n                            System.out.println(10000 - totalSteps + &quot; more to reach goal.&quot;);\r\n                        }\r\n                    }\r\n                }","title":"How do I input a string after integers in a while loop?","body":"<p>You should have a look at this: <a href=\"https://stackoverflow.com/questions/16040601/why-is-nextline-returning-an-empty-string\">Why is nextLine() returning an empty string?</a></p>\n\n<p>This would work:</p>\n\n<pre><code>else if(steps &lt; 10000) {\n                scan.nextLine();\n                String home;\n                while (!(home = scan.nextLine()).isEmpty()) {\n                    if (home.equals(\"Going home\")) {\n                        int extraSteps = scan.nextInt();\n                        totalSteps = totalSteps + steps + extraSteps;\n                        System.out.println(10000 - totalSteps + \" more to reach goal.\");\n                    }\n                }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16658342,"reputation":75,"user_id":12039029,"display_name":"Matt Gallant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588712501,"creation_date":1588712501,"answer_id":61622973,"question_id":61622431,"body_markdown":"This seems to be a problem with reading a newline. A simple (yet possible not the best) solution is as follows:\r\n\r\n```\r\n        Scanner scan = new Scanner(System.in);\r\n        scan.useDelimiter(&quot;\\n&quot;);\r\n        int totalSteps = 0;\r\n\r\n        while(true)\r\n        {\r\n            int steps = Integer.parseInt(scan.nextLine());\r\n            totalSteps = totalSteps + steps;\r\n            if(totalSteps &gt;= 10000) {\r\n                System.out.println(&quot;Goal reached! Good job!&quot;);\r\n                break;\r\n            }\r\n            else if(steps &lt; 10000)\r\n            {\r\n                String home = scan.nextLine();\r\n                if(home.equals(&quot;Going home&quot;))\r\n                {\r\n                    int extraSteps = Integer.parseInt(scan.nextLine());\r\n                    totalSteps = totalSteps + steps + extraSteps;\r\n                    System.out.println(10000 - totalSteps + &quot; more to reach goal.&quot;);\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\nFor more details on this problem, you could check out the discussion to a very similar problem here: https://www.daniweb.com/programming/software-development/threads/232053/nextline-after-nextint-or-nextdouble-gives-trouble","title":"How do I input a string after integers in a while loop?","body":"<p>This seems to be a problem with reading a newline. A simple (yet possible not the best) solution is as follows:</p>\n\n<pre><code>        Scanner scan = new Scanner(System.in);\n        scan.useDelimiter(\"\\n\");\n        int totalSteps = 0;\n\n        while(true)\n        {\n            int steps = Integer.parseInt(scan.nextLine());\n            totalSteps = totalSteps + steps;\n            if(totalSteps &gt;= 10000) {\n                System.out.println(\"Goal reached! Good job!\");\n                break;\n            }\n            else if(steps &lt; 10000)\n            {\n                String home = scan.nextLine();\n                if(home.equals(\"Going home\"))\n                {\n                    int extraSteps = Integer.parseInt(scan.nextLine());\n                    totalSteps = totalSteps + steps + extraSteps;\n                    System.out.println(10000 - totalSteps + \" more to reach goal.\");\n                }\n            }\n        }\n</code></pre>\n\n<p>For more details on this problem, you could check out the discussion to a very similar problem here: <a href=\"https://www.daniweb.com/programming/software-development/threads/232053/nextline-after-nextint-or-nextdouble-gives-trouble\" rel=\"nofollow noreferrer\">https://www.daniweb.com/programming/software-development/threads/232053/nextline-after-nextint-or-nextdouble-gives-trouble</a></p>\n"},{"tags":[],"owner":{"account_id":29429334,"reputation":1,"user_id":22549322,"display_name":"Raj P Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694591967,"creation_date":1694591967,"answer_id":77095140,"question_id":61622431,"body_markdown":"if total score is 100,i will enter &quot;hit&quot; word in input then 10+ add on 100 and answer came in 110 and if i will enter &quot;miss&quot; word then 20-100 output came 80 but i enter 5 time &quot;hit&quot; or &quot;&quot;miss&quot; after 5 times enter answer should be all hit and miss value and total in output how much hit and miss value entered\r\n  ","title":"How do I input a string after integers in a while loop?","body":"<p>if total score is 100,i will enter &quot;hit&quot; word in input then 10+ add on 100 and answer came in 110 and if i will enter &quot;miss&quot; word then 20-100 output came 80 but i enter 5 time &quot;hit&quot; or &quot;&quot;miss&quot; after 5 times enter answer should be all hit and miss value and total in output how much hit and miss value entered</p>\n"}],"owner":{"account_id":18019180,"reputation":259,"user_id":13096893,"display_name":"MickeyMoise"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694591967,"creation_date":1588710355,"question_id":61622431,"body_markdown":"I&#39;m trying to make a program that counts the number of steps someone made (the program should stop if the number is bigger or equal to 10000), but I can&#39;t seem to find a way to type &quot;Going home&quot; and then input the amount of steps that are necessary to get home.\r\n\r\n    \r\n\r\n\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n            int totalSteps = 0;\r\n    \r\n            while(true)\r\n            {\r\n                int steps = scan.nextInt();\r\n                totalSteps = totalSteps + steps;\r\n                if(totalSteps &gt;= 10000) {\r\n                    System.out.println(&quot;Goal reached! Good job!&quot;);\r\n                    break;\r\n                }\r\n               else if(steps &lt; 10000)\r\n                {\r\n                    String home = scan.nextLine();\r\n                    if(home.equals(&quot;Going home&quot;))\r\n                    {\r\n                        int extraSteps = scan.nextInt();\r\n                        totalSteps = totalSteps + steps + extraSteps;\r\n                        System.out.println(10000 - totalSteps + &quot; more to reach goal.&quot;);\r\n                    }\r\n                }\r\n            }\r\n\r\n","title":"How do I input a string after integers in a while loop?","body":"<p>I'm trying to make a program that counts the number of steps someone made (the program should stop if the number is bigger or equal to 10000), but I can't seem to find a way to type \"Going home\" and then input the amount of steps that are necessary to get home.</p>\n\n<pre><code>Scanner scan = new Scanner(System.in);\n        int totalSteps = 0;\n\n        while(true)\n        {\n            int steps = scan.nextInt();\n            totalSteps = totalSteps + steps;\n            if(totalSteps &gt;= 10000) {\n                System.out.println(\"Goal reached! Good job!\");\n                break;\n            }\n           else if(steps &lt; 10000)\n            {\n                String home = scan.nextLine();\n                if(home.equals(\"Going home\"))\n                {\n                    int extraSteps = scan.nextInt();\n                    totalSteps = totalSteps + steps + extraSteps;\n                    System.out.println(10000 - totalSteps + \" more to reach goal.\");\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","java-melody"],"answers":[{"tags":[],"owner":{"account_id":41096,"reputation":1723,"user_id":119366,"display_name":"evernat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525257402,"creation_date":1525257402,"answer_id":50132596,"question_id":48439493,"body_markdown":"The IP address of your computer, as seen by the server, does not match the regexp in `allowed-addr-pattern`.\r\n\r\nSo either you have miswritten the regexp in `allowed-addr-pattern` or you have something like a Apache http proxy which is masking the IP addresses seen by your server.\r\n\r\nYou may want to use the `authorized-users` parameter to have basic authentication instead of using `allowed-addr-pattern`.","title":"JavaMelody - access statistic only for allowed address IP","body":"<p>The IP address of your computer, as seen by the server, does not match the regexp in <code>allowed-addr-pattern</code>.</p>\n\n<p>So either you have miswritten the regexp in <code>allowed-addr-pattern</code> or you have something like a Apache http proxy which is masking the IP addresses seen by your server.</p>\n\n<p>You may want to use the <code>authorized-users</code> parameter to have basic authentication instead of using <code>allowed-addr-pattern</code>.</p>\n"}],"owner":{"account_id":6306216,"reputation":199,"user_id":4899224,"accept_rate":45,"display_name":"LLL RRR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694591569,"creation_date":1516872418,"question_id":48439493,"body_markdown":"I am using the [`JavaMelody library`](https://github.com/javamelody/javamelody) and I would like to restrict access to the context / monitoring.\r\n\r\nCurrently, I have added an entry in `web.xml`:\r\n\r\n```xml\r\n&lt;init-param&gt;\r\n    &lt;param-name&gt;allowed-addr-pattern&lt;/param-name&gt;\r\n    &lt;param-value&gt;(first_ip)|(second_ip)&lt;/param-value&gt;\r\n&lt;/init-param&gt;\r\n```\r\n\r\nBut when I call up the resource / monitoring, it receives `&quot;Forbidden access&quot;`\r\n\r\nIs it possible to restrict access only for specific `IP addresses`?","title":"JavaMelody - access statistic only for allowed address IP","body":"<p>I am using the <a href=\"https://github.com/javamelody/javamelody\" rel=\"nofollow noreferrer\"><code>JavaMelody library</code></a> and I would like to restrict access to the context / monitoring.</p>\n<p>Currently, I have added an entry in <code>web.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;init-param&gt;\n    &lt;param-name&gt;allowed-addr-pattern&lt;/param-name&gt;\n    &lt;param-value&gt;(first_ip)|(second_ip)&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n<p>But when I call up the resource / monitoring, it receives <code>&quot;Forbidden access&quot;</code></p>\n<p>Is it possible to restrict access only for specific <code>IP addresses</code>?</p>\n"},{"tags":["java","web-services","soap","wsdl"],"answers":[{"tags":[],"owner":{"account_id":2260035,"reputation":2448,"user_id":1990359,"display_name":"Sangram Jadhav"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1465747269,"creation_date":1465747269,"answer_id":37776294,"question_id":37776171,"body_markdown":"Use -Xnocompile flag\r\n\r\n    wsimport -keep -Xnocompile http://www.webservicex.net/geoipservice.asmx?WSDL","title":"How to get only source files from WSDL file using wsimport","body":"<p>Use -Xnocompile flag</p>\n\n<pre><code>wsimport -keep -Xnocompile http://www.webservicex.net/geoipservice.asmx?WSDL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2537381,"reputation":121,"user_id":2204107,"display_name":"user2204107"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694591553,"creation_date":1694591553,"answer_id":77095082,"question_id":37776171,"body_markdown":"it is in help output of `wsimport -h`, in Extensions part.\r\n\r\n&gt; Extensions: \\\r\n&gt; ...... \\\r\n&gt; `-Xnocompile                     do not compile generated Java files`\r\n\r\n","title":"How to get only source files from WSDL file using wsimport","body":"<p>it is in help output of <code>wsimport -h</code>, in Extensions part.</p>\n<blockquote>\n<p>Extensions: <br />\n...... <br />\n<code>-Xnocompile                     do not compile generated Java files</code></p>\n</blockquote>\n"}],"owner":{"account_id":6860372,"reputation":144,"user_id":5274601,"display_name":"mohamed abdallah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6653,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":37776294,"answer_count":2,"score":3,"last_activity_date":1694591553,"creation_date":1465746491,"question_id":37776171,"body_markdown":"When i tried to use `wsimport http://www.webservicex.net/geoipservice.asmx?WSDL` the command generate .class files only.&lt;/br&gt;\r\n\r\nand when i tried to use `wsimport -keep -s directory http://www.webservicex.net/geoipservice.asmx?WSDL` the command generate .class files and .java files.&lt;/br&gt;\r\nis there any parameter to generate .java files only .\r\n\r\n\r\n","title":"How to get only source files from WSDL file using wsimport","body":"<p>When i tried to use <code>wsimport http://www.webservicex.net/geoipservice.asmx?WSDL</code> the command generate .class files only.</p>\n\n<p>and when i tried to use <code>wsimport -keep -s directory http://www.webservicex.net/geoipservice.asmx?WSDL</code> the command generate .class files and .java files.\nis there any parameter to generate .java files only .</p>\n"},{"tags":["java","spring","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694591504,"creation_date":1694591504,"answer_id":77095076,"question_id":76516286,"body_markdown":"In my experience, you could handle errors returning lists if you change your `@BatchMapping` return type to `Mono&lt;List&lt;Optional&lt;LegalEntity&gt;&gt;&gt;`, that is:\r\n\r\n    @BatchMapping(typeName = &quot;Client&quot;)\r\n    public Mono&lt;List&lt;Optional&lt;LegalEntity&gt;&gt;&gt; legalEntity(List&lt;Client&gt; clients) {\r\n        throw new UnsupportedOperationException(&quot;Not implemented yet&quot;);\r\n    }\r\n\r\nHope it helps!","title":"Can&#39;t throw exception in the graphql @BatchMapping","body":"<p>In my experience, you could handle errors returning lists if you change your <code>@BatchMapping</code> return type to <code>Mono&lt;List&lt;Optional&lt;LegalEntity&gt;&gt;&gt;</code>, that is:</p>\n<pre><code>@BatchMapping(typeName = &quot;Client&quot;)\npublic Mono&lt;List&lt;Optional&lt;LegalEntity&gt;&gt;&gt; legalEntity(List&lt;Client&gt; clients) {\n    throw new UnsupportedOperationException(&quot;Not implemented yet&quot;);\n}\n</code></pre>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":15221962,"reputation":542,"user_id":10983605,"display_name":"Stanislau Listratsenka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694591504,"creation_date":1687274862,"question_id":76516286,"body_markdown":"I&#39;m using `Spring` with `graphql` and have the following code:\r\n  \r\n    @QueryMapping\r\n    public Client clientById(Long id) {\r\n        return dao.findById(id).orElse(null);\r\n    }\r\n\r\n    @BatchMapping(typeName = &quot;Client&quot;)\r\n    public List&lt;Optional&lt;LegalEntity&gt;&gt; legalEntity(List&lt;Client&gt; clients) {\r\n        throw new UnsupportedOperationException(&quot;Not implemented yet&quot;);\r\n    }\r\n\r\nI got an error:\r\n\r\n    java.lang.IllegalStateException: Unexpected return value: MonoError\r\n\tat org.springframework.graphql.data.method.annotation.support.BatchLoaderHandlerMethod.toFlux(BatchLoaderHandlerMethod.java:196) ~[spring-graphql-1.2.0.jar:1.2.0]\r\n\tat org.springframework.graphql.data.method.annotation.support.BatchLoaderHandlerMethod.invokeForIterable(BatchLoaderHandlerMethod.java:102) ~[spring-graphql-1.2.0.jar:1.2.0]\r\n\t....\r\n\r\nSeems like library wraps the exceptions into `Mono.error(..)`, returns it and than can&#39;t resolve that type. As a result, my exception handlers don&#39;t work and there&#39;s no way I can intercept original error. If I change return type to `Flux&lt;Optional&lt;LegalEntity&gt;&gt;` and return `Flux.error` it works. But is it possible to handle errors returning lists?","title":"Can&#39;t throw exception in the graphql @BatchMapping","body":"<p>I'm using <code>Spring</code> with <code>graphql</code> and have the following code:</p>\n<pre><code>@QueryMapping\npublic Client clientById(Long id) {\n    return dao.findById(id).orElse(null);\n}\n\n@BatchMapping(typeName = &quot;Client&quot;)\npublic List&lt;Optional&lt;LegalEntity&gt;&gt; legalEntity(List&lt;Client&gt; clients) {\n    throw new UnsupportedOperationException(&quot;Not implemented yet&quot;);\n}\n</code></pre>\n<p>I got an error:</p>\n<pre><code>java.lang.IllegalStateException: Unexpected return value: MonoError\nat org.springframework.graphql.data.method.annotation.support.BatchLoaderHandlerMethod.toFlux(BatchLoaderHandlerMethod.java:196) ~[spring-graphql-1.2.0.jar:1.2.0]\nat org.springframework.graphql.data.method.annotation.support.BatchLoaderHandlerMethod.invokeForIterable(BatchLoaderHandlerMethod.java:102) ~[spring-graphql-1.2.0.jar:1.2.0]\n....\n</code></pre>\n<p>Seems like library wraps the exceptions into <code>Mono.error(..)</code>, returns it and than can't resolve that type. As a result, my exception handlers don't work and there's no way I can intercept original error. If I change return type to <code>Flux&lt;Optional&lt;LegalEntity&gt;&gt;</code> and return <code>Flux.error</code> it works. But is it possible to handle errors returning lists?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"score":0,"creation_date":1694572354,"post_id":77093673,"comment_id":135907626,"body_markdown":"Your main issue is speed?","body":"Your main issue is speed?"},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694575129,"post_id":77093673,"comment_id":135907816,"body_markdown":"When I use `mvn spring-boot:run`, it compiles the code and puts the result in the target folder, but it doesn&#39;t create a jar. When I run using the IDE, it does mostly the same.","body":"When I use <code>mvn spring-boot:run</code>, it compiles the code and puts the result in the target folder, but it doesn&#39;t create a jar. When I run using the IDE, it does mostly the same."},{"owner":{"account_id":14746282,"reputation":1132,"user_id":10649529,"display_name":"mikenlanggio"},"score":0,"creation_date":1694579379,"post_id":77093673,"comment_id":135908135,"body_markdown":"@cela: yes, everytimes I edit code, it need to compile again, it took time.  \nscrhartley: not even close when compare run by IDE","body":"@cela: yes, everytimes I edit code, it need to compile again, it took time.   scrhartley: not even close when compare run by IDE"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694591434,"post_id":77093673,"comment_id":135909771,"body_markdown":"Compile it once, then use `java -jar &lt;your-spring-boot&gt;.jar`","body":"Compile it once, then use <code>java -jar &lt;your-spring-boot&gt;.jar</code>"}],"answers":[{"tags":[],"owner":{"account_id":1515381,"reputation":958,"user_id":1416490,"accept_rate":72,"display_name":"zt9788"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694583908,"creation_date":1694577346,"answer_id":77093954,"question_id":77093673,"body_markdown":"use java to run \r\n\r\nif use maven to package you can unzip the jar and run:\r\n\r\nYou need to ensure that the META-INF information is correct\r\n```\r\njava  -classpath /your-classpath:/your-classpath/lib/* org.springframework.boot.loader.JarLauncher\r\n```\r\n\r\nif you not use the maven, you can use the run it:\r\n\r\n```\r\n$ java -classpath ./target/classes/:./lib/* com.xxxx.YourApplicationMain\r\n\r\n```\r\nthe lib is all of your import the jar\r\n\r\nlike:\r\n\r\n```\r\n./lib* = ./lib/path/spring-boot-starter-web-3.1.2.jar:./lib/path/tomcat-embed-websocket-10.1.11.jar ....\r\n```\r\n\r\nIf you use IDEA, a simple way is to directly copy and execute commands on the first line of IDE console","title":"Is there anyway to run Spring Boot via Cmd commands without building Jar?","body":"<p>use java to run</p>\n<p>if use maven to package you can unzip the jar and run:</p>\n<p>You need to ensure that the META-INF information is correct</p>\n<pre><code>java  -classpath /your-classpath:/your-classpath/lib/* org.springframework.boot.loader.JarLauncher\n</code></pre>\n<p>if you not use the maven, you can use the run it:</p>\n<pre><code>$ java -classpath ./target/classes/:./lib/* com.xxxx.YourApplicationMain\n\n</code></pre>\n<p>the lib is all of your import the jar</p>\n<p>like:</p>\n<pre><code>./lib* = ./lib/path/spring-boot-starter-web-3.1.2.jar:./lib/path/tomcat-embed-websocket-10.1.11.jar ....\n</code></pre>\n<p>If you use IDEA, a simple way is to directly copy and execute commands on the first line of IDE console</p>\n"}],"owner":{"account_id":14746282,"reputation":1132,"user_id":10649529,"display_name":"mikenlanggio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694591462,"creation_date":1694571918,"question_id":77093673,"body_markdown":"I&#39;ve searched but got no answer. &#160;\r\n\r\nI&#39;ve tried to run like this: &#160;\r\n\r\n```bash\r\nmvn spring-boot:run\r\n```\r\n\r\nBut it still compiles `jar` before running.\r\n\r\nI just want to quickly run a Spring Boot project via CMD like I run through an IDE (like Intelij) &#160;\r\n\r\nAny idea for that?","title":"Is there anyway to run Spring Boot via Cmd commands without building Jar?","body":"<p>I've searched but got no answer.  </p>\n<p>I've tried to run like this:  </p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run\n</code></pre>\n<p>But it still compiles <code>jar</code> before running.</p>\n<p>I just want to quickly run a Spring Boot project via CMD like I run through an IDE (like Intelij)  </p>\n<p>Any idea for that?</p>\n"},{"tags":["java","spring-boot","redis"],"answers":[{"tags":[],"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694591278,"creation_date":1694591278,"answer_id":77095050,"question_id":77092660,"body_markdown":"According to me you don&#39;t need Redis for this requirement.    \r\n\r\nRedis is a cache used for quicker access to certain data.   \r\nfor eg :- select queries from DB.   \r\n\r\nFor your requirement I can think of an approach:-\r\n\r\nSince it&#39;s an API call you can handle response-timeouts by using Retry Logic wherein you keep retrying 2-3 times if you get 404 in a interval of 5min(Configurable as per your needs) and even after 10 min if there is no data you just send the receipt without digital signature.  \r\n\r\nEg :- In Spring Boot we have RestTemplate to invoke any GET/POST API and has Retry Logic functions.    \r\n\r\n","title":"Using Redis just for blocking and call back functionality or springboot","body":"<p>According to me you don't need Redis for this requirement.</p>\n<p>Redis is a cache used for quicker access to certain data.<br />\nfor eg :- select queries from DB.</p>\n<p>For your requirement I can think of an approach:-</p>\n<p>Since it's an API call you can handle response-timeouts by using Retry Logic wherein you keep retrying 2-3 times if you get 404 in a interval of 5min(Configurable as per your needs) and even after 10 min if there is no data you just send the receipt without digital signature.</p>\n<p>Eg :- In Spring Boot we have RestTemplate to invoke any GET/POST API and has Retry Logic functions.</p>\n"}],"owner":{"account_id":27435244,"reputation":1,"user_id":20931234,"display_name":"Sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694591278,"creation_date":1694552474,"question_id":77092660,"body_markdown":"This is what I am trying to do and wondering if I should use Redis or there is a springboot equivalent that I could use for what I am trying to achieve.\r\n\r\nI am trying to send a receipt of a transaction to a merchant. I need to attach digital signature for that transaction in the receipt. **That would be a call to a separate API to get the digital signature which could return me a 200 or 404 not found**. At this point there could be a scenario that digital signature is not available, in that case, I need to wait for a specific amount of time for the signature to become available and if it times out then need to send the receipt without the digital signature.\r\n\r\nI am using Java and SpringBoot. \r\n\r\nWhat would be the best way to implement something like this. I read that redis has a timeout, callback functionality which can be leveraged for this. \r\n\r\n1. Is there any springboot equivalent to do something like this or redis is a good choice for this.\r\n2. If redis would be a good choice for this, how can I leverage redis just for this purpose. I have access to a container running redis and I can configure my application to access this redis. However I have no clue of how I can go about using redis for this purpose. ","title":"Using Redis just for blocking and call back functionality or springboot","body":"<p>This is what I am trying to do and wondering if I should use Redis or there is a springboot equivalent that I could use for what I am trying to achieve.</p>\n<p>I am trying to send a receipt of a transaction to a merchant. I need to attach digital signature for that transaction in the receipt. <strong>That would be a call to a separate API to get the digital signature which could return me a 200 or 404 not found</strong>. At this point there could be a scenario that digital signature is not available, in that case, I need to wait for a specific amount of time for the signature to become available and if it times out then need to send the receipt without the digital signature.</p>\n<p>I am using Java and SpringBoot.</p>\n<p>What would be the best way to implement something like this. I read that redis has a timeout, callback functionality which can be leveraged for this.</p>\n<ol>\n<li>Is there any springboot equivalent to do something like this or redis is a good choice for this.</li>\n<li>If redis would be a good choice for this, how can I leverage redis just for this purpose. I have access to a container running redis and I can configure my application to access this redis. However I have no clue of how I can go about using redis for this purpose.</li>\n</ol>\n"},{"tags":["java","image","opencv","djl"],"answers":[{"tags":[],"owner":{"account_id":17252527,"reputation":76,"user_id":19734845,"display_name":"Kamran Gasimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694024759,"creation_date":1694024759,"answer_id":77054419,"question_id":77051497,"body_markdown":"If your goal is to narrow down the conditions for detection (such as specific area), you don&#39;t even need to crop it: check out the [supervision][1], it does exactly what you need.\r\n\r\n\r\n  [1]: https://supervision.roboflow.com/quickstart/detections/","title":"Crop image by polygon area or mask","body":"<p>If your goal is to narrow down the conditions for detection (such as specific area), you don't even need to crop it: check out the <a href=\"https://supervision.roboflow.com/quickstart/detections/\" rel=\"nofollow noreferrer\">supervision</a>, it does exactly what you need.</p>\n"},{"tags":[],"owner":{"account_id":14036278,"reputation":1,"user_id":10138887,"display_name":"stacksys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694590824,"creation_date":1694590824,"answer_id":77095002,"question_id":77051497,"body_markdown":"I found the answer to my question, the following code allows you to cut out a polygon from an image:\r\n[Cropped image][1]\r\n\r\n    // create polygon with coordinates for mask\r\n    MatOfPoint points = new MatOfPoint(\r\n          new Point(100, 400),\r\n          new Point(500, 350),\r\n          new Point(700, 300),\r\n          new Point(1000, 500),\r\n          new Point(1000, 800),\r\n          new Point(700, 800),\r\n          new Point(500, 800),\r\n          new Point(100, 400)\r\n    );\r\n    \r\n    // draw shape with size of frame from original video and black fill\r\n    final Scalar colorBlack = new Scalar(0, 0, 0);\r\n    Mat mask = new Mat(frame.rows(), frame.cols(), CvType.CV_8UC3, colorBlack);\r\n    \r\n    // fill polygon of white color on the black fill\r\n    final Scalar colorWhite = new Scalar(255, 255, 255);\r\n    Imgproc.fillPoly(mask, Collections.singletonList(points), colorWhite, Imgproc.LINE_8);\r\n    \r\n    // compute the bitwise_and of the frame and mask\r\n    Mat result = new Mat();\r\n    Core.bitwise_and(frame, mask, result);\r\n    \r\n    Image croppedImage = ImageFactory.getInstance().fromImage(result);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zwyuP.jpg\r\n\r\nFull code: https://github.com/akuzyagin/video-detection-example/","title":"Crop image by polygon area or mask","body":"<p>I found the answer to my question, the following code allows you to cut out a polygon from an image:\n<a href=\"https://i.stack.imgur.com/zwyuP.jpg\" rel=\"nofollow noreferrer\">Cropped image</a></p>\n<pre><code>// create polygon with coordinates for mask\nMatOfPoint points = new MatOfPoint(\n      new Point(100, 400),\n      new Point(500, 350),\n      new Point(700, 300),\n      new Point(1000, 500),\n      new Point(1000, 800),\n      new Point(700, 800),\n      new Point(500, 800),\n      new Point(100, 400)\n);\n\n// draw shape with size of frame from original video and black fill\nfinal Scalar colorBlack = new Scalar(0, 0, 0);\nMat mask = new Mat(frame.rows(), frame.cols(), CvType.CV_8UC3, colorBlack);\n\n// fill polygon of white color on the black fill\nfinal Scalar colorWhite = new Scalar(255, 255, 255);\nImgproc.fillPoly(mask, Collections.singletonList(points), colorWhite, Imgproc.LINE_8);\n\n// compute the bitwise_and of the frame and mask\nMat result = new Mat();\nCore.bitwise_and(frame, mask, result);\n\nImage croppedImage = ImageFactory.getInstance().fromImage(result);\n</code></pre>\n<p>Full code: <a href=\"https://github.com/akuzyagin/video-detection-example/\" rel=\"nofollow noreferrer\">https://github.com/akuzyagin/video-detection-example/</a></p>\n"}],"owner":{"account_id":14036278,"reputation":1,"user_id":10138887,"display_name":"stacksys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77095002,"answer_count":2,"score":0,"last_activity_date":1694590824,"creation_date":1693999976,"question_id":77051497,"body_markdown":"How can I crop an image using a Polygon or Mask? Needed in order to detect an object only in a specific area in the image.\r\n\r\n[Example red area][1]\r\n\r\neg, I think here to crop the image https://github.com/akuzyagin/video-detection-example/blob/2a92fe0a17c8c499f348fb1db8ace465c4d1e3b2/src/main/java/DetectionService.java#L45C1-L47C72:\r\n```\r\nImage image = ImageFactory.getInstance().fromImage(frame);\r\n//TODO crop image by polygon before detect objects\r\nDetectedObjects predict = predictor.predict(image);\r\n```\r\n\r\nFull code:\r\nhttps://github.com/akuzyagin/video-detection-example/\r\n\r\nI tried to use the `ai.djl.modality.cv.Image.getMask` method passing an array of coordinates, but I didn&#39;t quite understand how this image cropping method works. I also tried various methods from `ai.djl.modality.cv.util.NDImageUtils`, but nothing seems to fit from the implemented methods.\r\n\r\nAlso tried converting to BufferedImage https://github.com/deepjavalibrary/djl/issues/1432 and further cropping the image https://stackoverflow.com/questions/43541086/crop-image-by-polygon-area-in-java , but in the logs there are errors by:\r\n\r\n`BufferedImage bufferedImage = (BufferedImage) result.getWrappedImage();`\r\n\r\nStacktrace:\r\n```\r\n2023-09-06 14:30:40,104 ERROR [io.qua.run.Application] (main) Failed to start application (with profile [prod]): java.lang.ClassCastException: class org.opencv.core.Mat cannot be cast to class java.awt.image.BufferedImage (org.opencv.core.Mat is in unnamed module of loader io.quarkus.bootstrap.runner.RunnerClassLoader @45283ce2; java.awt.image.BufferedImage is in module java.desktop of loader &#39;bootstrap&#39;)\r\n\tat DetectionService.detect(DetectionService.java:82)\r\n\tat DetectionService_Bean.create(Unknown Source)\r\n\tat DetectionService_Bean.create(Unknown Source)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:113)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:37)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:34)\r\n\tat io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\n\tat io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:34)\r\n\tat DetectionService_Bean.get(Unknown Source)\r\n\tat DetectionService_Bean.get(Unknown Source)\r\n\tat io.quarkus.arc.impl.ArcContainerImpl.beanInstanceHandle(ArcContainerImpl.java:476)\r\n\tat io.quarkus.arc.impl.ArcContainerImpl.beanInstanceHandle(ArcContainerImpl.java:489)\r\n\tat io.quarkus.arc.impl.ArcContainerImpl.instance(ArcContainerImpl.java:287)\r\n\tat DetectionService_Observer_Synthetic_ebc203dc60d4841a41795405dc16fe346fbb52eb.notify(Unknown Source)\r\n\tat io.quarkus.arc.impl.EventImpl$Notifier.notifyObservers(EventImpl.java:328)\r\n\tat io.quarkus.arc.impl.EventImpl$Notifier.notify(EventImpl.java:310)\r\n\tat io.quarkus.arc.impl.EventImpl.fire(EventImpl.java:78)\r\n\tat io.quarkus.arc.runtime.ArcRecorder.fireLifecycleEvent(ArcRecorder.java:131)\r\n\tat io.quarkus.arc.runtime.ArcRecorder.handleLifecycleEvents(ArcRecorder.java:100)\r\n\tat io.quarkus.deployment.steps.LifecycleEventsBuildStep$startupEvent1144526294.deploy_0(Unknown Source)\r\n\tat io.quarkus.deployment.steps.LifecycleEventsBuildStep$startupEvent1144526294.deploy(Unknown Source)\r\n\tat io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\r\n\tat io.quarkus.runtime.Application.start(Application.java:101)\r\n\tat io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:108)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:71)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:44)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:124)\r\n\tat ApplicationMain.main(ApplicationMain.java:10)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:61)\r\n\tat io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7PWrb.jpg","title":"Crop image by polygon area or mask","body":"<p>How can I crop an image using a Polygon or Mask? Needed in order to detect an object only in a specific area in the image.</p>\n<p><a href=\"https://i.stack.imgur.com/7PWrb.jpg\" rel=\"nofollow noreferrer\">Example red area</a></p>\n<p>eg, I think here to crop the image <a href=\"https://github.com/akuzyagin/video-detection-example/blob/2a92fe0a17c8c499f348fb1db8ace465c4d1e3b2/src/main/java/DetectionService.java#L45C1-L47C72\" rel=\"nofollow noreferrer\">https://github.com/akuzyagin/video-detection-example/blob/2a92fe0a17c8c499f348fb1db8ace465c4d1e3b2/src/main/java/DetectionService.java#L45C1-L47C72</a>:</p>\n<pre><code>Image image = ImageFactory.getInstance().fromImage(frame);\n//TODO crop image by polygon before detect objects\nDetectedObjects predict = predictor.predict(image);\n</code></pre>\n<p>Full code:\n<a href=\"https://github.com/akuzyagin/video-detection-example/\" rel=\"nofollow noreferrer\">https://github.com/akuzyagin/video-detection-example/</a></p>\n<p>I tried to use the <code>ai.djl.modality.cv.Image.getMask</code> method passing an array of coordinates, but I didn't quite understand how this image cropping method works. I also tried various methods from <code>ai.djl.modality.cv.util.NDImageUtils</code>, but nothing seems to fit from the implemented methods.</p>\n<p>Also tried converting to BufferedImage <a href=\"https://github.com/deepjavalibrary/djl/issues/1432\" rel=\"nofollow noreferrer\">https://github.com/deepjavalibrary/djl/issues/1432</a> and further cropping the image <a href=\"https://stackoverflow.com/questions/43541086/crop-image-by-polygon-area-in-java\">Crop image by polygon area in Java</a> , but in the logs there are errors by:</p>\n<p><code>BufferedImage bufferedImage = (BufferedImage) result.getWrappedImage();</code></p>\n<p>Stacktrace:</p>\n<pre><code>2023-09-06 14:30:40,104 ERROR [io.qua.run.Application] (main) Failed to start application (with profile [prod]): java.lang.ClassCastException: class org.opencv.core.Mat cannot be cast to class java.awt.image.BufferedImage (org.opencv.core.Mat is in unnamed module of loader io.quarkus.bootstrap.runner.RunnerClassLoader @45283ce2; java.awt.image.BufferedImage is in module java.desktop of loader 'bootstrap')\n    at DetectionService.detect(DetectionService.java:82)\n    at DetectionService_Bean.create(Unknown Source)\n    at DetectionService_Bean.create(Unknown Source)\n    at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:113)\n    at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:37)\n    at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:34)\n    at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\n    at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n    at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:34)\n    at DetectionService_Bean.get(Unknown Source)\n    at DetectionService_Bean.get(Unknown Source)\n    at io.quarkus.arc.impl.ArcContainerImpl.beanInstanceHandle(ArcContainerImpl.java:476)\n    at io.quarkus.arc.impl.ArcContainerImpl.beanInstanceHandle(ArcContainerImpl.java:489)\n    at io.quarkus.arc.impl.ArcContainerImpl.instance(ArcContainerImpl.java:287)\n    at DetectionService_Observer_Synthetic_ebc203dc60d4841a41795405dc16fe346fbb52eb.notify(Unknown Source)\n    at io.quarkus.arc.impl.EventImpl$Notifier.notifyObservers(EventImpl.java:328)\n    at io.quarkus.arc.impl.EventImpl$Notifier.notify(EventImpl.java:310)\n    at io.quarkus.arc.impl.EventImpl.fire(EventImpl.java:78)\n    at io.quarkus.arc.runtime.ArcRecorder.fireLifecycleEvent(ArcRecorder.java:131)\n    at io.quarkus.arc.runtime.ArcRecorder.handleLifecycleEvents(ArcRecorder.java:100)\n    at io.quarkus.deployment.steps.LifecycleEventsBuildStep$startupEvent1144526294.deploy_0(Unknown Source)\n    at io.quarkus.deployment.steps.LifecycleEventsBuildStep$startupEvent1144526294.deploy(Unknown Source)\n    at io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\n    at io.quarkus.runtime.Application.start(Application.java:101)\n    at io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:108)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:71)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:44)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:124)\n    at ApplicationMain.main(ApplicationMain.java:10)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:61)\n    at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:32)\n\n</code></pre>\n"},{"tags":["java","quarkus","quarkus-panache","quarkus-reactive","quarkus-testing"],"answers":[{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694590239,"creation_date":1694590239,"answer_id":77094930,"question_id":76865249,"body_markdown":"Found out you need to write your tests slightly different and let Quarkus inject an UniAsserter object, allowing you to do async assertions.\r\n\r\n\r\n\r\n\r\n```\r\n@QuarkusTest\r\nclass MyServiceTest {\r\n\r\n    @InjectSpy\r\n    MyService myService;\r\n\r\n\r\n    @Test\r\n    @RunOnVertxContext\r\n    void testDatabaseOperation(UniAsserter a) {\r\n        final var asserter = new TransactionalUniAsserterInterceptor(a);\r\n\r\n        asserter.assertNotNull(() -&gt; myService.doSomeDatabaseOperation());\r\n    }\r\n\r\n}\r\n```\r\n\r\nAdditional wrapper that opens transactions\r\n```\r\npublic class TransactionalUniAsserterInterceptor extends UniAsserterInterceptor {\r\n\r\n    public TransactionalUniAsserterInterceptor(UniAsserter asserter) {\r\n        super(asserter);\r\n    }\r\n\r\n    /**\r\n     * Assert/execute methods are invoked within a database transaction\r\n     */\r\n    @Override\r\n    protected &lt;T&gt; Supplier&lt;Uni&lt;T&gt;&gt; transformUni(Supplier&lt;Uni&lt;T&gt;&gt; uniSupplier) {\r\n        return () -&gt; Panache.withTransaction(uniSupplier);\r\n    }\r\n}\r\n\r\n```","title":"Quarkus Reactive testing with database operation leading to java.lang.IllegalStateException: No current Vertx context found","body":"<p>Found out you need to write your tests slightly different and let Quarkus inject an UniAsserter object, allowing you to do async assertions.</p>\n<pre><code>@QuarkusTest\nclass MyServiceTest {\n\n    @InjectSpy\n    MyService myService;\n\n\n    @Test\n    @RunOnVertxContext\n    void testDatabaseOperation(UniAsserter a) {\n        final var asserter = new TransactionalUniAsserterInterceptor(a);\n\n        asserter.assertNotNull(() -&gt; myService.doSomeDatabaseOperation());\n    }\n\n}\n</code></pre>\n<p>Additional wrapper that opens transactions</p>\n<pre><code>public class TransactionalUniAsserterInterceptor extends UniAsserterInterceptor {\n\n    public TransactionalUniAsserterInterceptor(UniAsserter asserter) {\n        super(asserter);\n    }\n\n    /**\n     * Assert/execute methods are invoked within a database transaction\n     */\n    @Override\n    protected &lt;T&gt; Supplier&lt;Uni&lt;T&gt;&gt; transformUni(Supplier&lt;Uni&lt;T&gt;&gt; uniSupplier) {\n        return () -&gt; Panache.withTransaction(uniSupplier);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694590250,"creation_date":1691563807,"question_id":76865249,"body_markdown":"I&#39;m trying to test a part of my code that does a database transaction.\r\n\r\n    @QuarkusTest\r\n    class MyServiceTest {\r\n    \r\n        @InjectSpy\r\n        MyService myService;\r\n    \r\n        @Test\r\n        void testDatabaseOperation() {\r\n            myService.doSomeDatabaseOperation()\r\n                    .invoke(i -&gt; Assertions.assertEquals(0, i.size()))\r\n                    .subscribe().withSubscriber(UniAssertSubscriber.create())\r\n                    .assertCompleted();\r\n        }\r\n    \r\n\r\nBut I&#39;m getting this exception when trying to call .find() of my repository\r\n    \r\n&gt; java.lang.IllegalStateException: No current Vertx context found\r\n    \r\n    \r\n**Why is there no session created automatically and how would I tell Quarkus to do so?**\r\n\r\n","title":"Quarkus Reactive testing with database operation leading to java.lang.IllegalStateException: No current Vertx context found","body":"<p>I'm trying to test a part of my code that does a database transaction.</p>\n<pre><code>@QuarkusTest\nclass MyServiceTest {\n\n    @InjectSpy\n    MyService myService;\n\n    @Test\n    void testDatabaseOperation() {\n        myService.doSomeDatabaseOperation()\n                .invoke(i -&gt; Assertions.assertEquals(0, i.size()))\n                .subscribe().withSubscriber(UniAssertSubscriber.create())\n                .assertCompleted();\n    }\n</code></pre>\n<p>But I'm getting this exception when trying to call .find() of my repository</p>\n<blockquote>\n<p>java.lang.IllegalStateException: No current Vertx context found</p>\n</blockquote>\n<p><strong>Why is there no session created automatically and how would I tell Quarkus to do so?</strong></p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691969283,"creation_date":1689113200,"answer_id":76666073,"question_id":76610083,"body_markdown":"Maybe you can use the type-safe API to define the sort expressions as described [here][1].\r\n\r\nFor example, in your case:\r\n\r\n```java\r\nTypedSort&lt;UserFlight&gt; userFlightSort = Sort.sort(UserFlight.class);\r\nSort sort = userFlightSort.by(UserFlight::getMessageSequenceID)\r\nPageable pageable = PageRequest.of(req.getPage(), req.getLimit(), sort);\r\n\r\nUserFlight userFlight = new UserFlight();\r\nuserFlight.setStatus(req.getSearch());\r\nExample&lt;UserFlight&gt; example = Example.of(userFlight, SEARCH_CONDITIONS_MATCH_ANY);\r\n\r\nvar flightData = flightRepository.findAll(example, pageable);\r\n```\r\n\r\nI am not sure why the `Sort.by(String... properties)` cannot resolve the property name. It might have to do with the [Property expressions][2], because it is stated that the resolution algorithm checks for the property with that name (uncapitalized):\r\n\r\n&gt; The resolution algorithm starts by interpreting the entire part (AddressZipCode) as the property and checks the domain class for a property name as uncapitalized\r\n\r\nBut again, I am not sure that this logic applies to `Sort.by`.\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.paging-and-sorting\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\r\n","title":"Unable to locate Attribute with the given name [XXX] on this ManagedType [XXX] at PageRequest.of() properties","body":"<p>Maybe you can use the type-safe API to define the sort expressions as described <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.paging-and-sorting\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For example, in your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypedSort&lt;UserFlight&gt; userFlightSort = Sort.sort(UserFlight.class);\nSort sort = userFlightSort.by(UserFlight::getMessageSequenceID)\nPageable pageable = PageRequest.of(req.getPage(), req.getLimit(), sort);\n\nUserFlight userFlight = new UserFlight();\nuserFlight.setStatus(req.getSearch());\nExample&lt;UserFlight&gt; example = Example.of(userFlight, SEARCH_CONDITIONS_MATCH_ANY);\n\nvar flightData = flightRepository.findAll(example, pageable);\n</code></pre>\n<p>I am not sure why the <code>Sort.by(String... properties)</code> cannot resolve the property name. It might have to do with the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\" rel=\"nofollow noreferrer\">Property expressions</a>, because it is stated that the resolution algorithm checks for the property with that name (uncapitalized):</p>\n<blockquote>\n<p>The resolution algorithm starts by interpreting the entire part (AddressZipCode) as the property and checks the domain class for a property name as uncapitalized</p>\n</blockquote>\n<p>But again, I am not sure that this logic applies to <code>Sort.by</code>.</p>\n"},{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691969333,"creation_date":1690156341,"answer_id":76750724,"question_id":76610083,"body_markdown":"The resolution algorithm checks the domain class for a property with that name, but **uncapitalized**, so it searches for `messageSequenceID` instead of `MessageSequenceID`.\r\n\r\nFollow the naming convention in Java and use variables that start with lowercase letters to avoid problems.\r\n\r\nUse `messageSequenceID` instead of `MessageSequenceID` in your domain model.\r\n","title":"Unable to locate Attribute with the given name [XXX] on this ManagedType [XXX] at PageRequest.of() properties","body":"<p>The resolution algorithm checks the domain class for a property with that name, but <strong>uncapitalized</strong>, so it searches for <code>messageSequenceID</code> instead of <code>MessageSequenceID</code>.</p>\n<p>Follow the naming convention in Java and use variables that start with lowercase letters to avoid problems.</p>\n<p>Use <code>messageSequenceID</code> instead of <code>MessageSequenceID</code> in your domain model.</p>\n"}],"owner":{"account_id":28946116,"reputation":1,"user_id":22171659,"display_name":"Famz Testa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694588650,"creation_date":1688454275,"question_id":76610083,"body_markdown":"I&#39;m using [camel case][1] on an entity class, but why does the pageable function always auto convert into [lower camel case][1]?\r\n\r\nBecause of that, I&#39;m meet the error\r\n\r\n&gt; Unable to locate Attribute with the given name [messageSequenceID] on this ManagedType [com.loader.batch.IF.entity.UserFlight]\r\n\r\nHere is my code:\r\n\r\nIn the UserFlight entity class is like this\r\n\r\n```\r\npackage com.loader.batch.IF.entity;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\n@Entity\r\n@Table(name = &quot;data_flight&quot;)\r\npublic class UserFlight {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n    @Column(name = &quot;MessageSequenceID&quot;, nullable = false)\r\n    private Long MessageSequenceID;\r\n\r\n    @Column(name = &quot;MessageType&quot;, length = 30)\r\n    private String MessageType;\r\n\r\n    @Column(name = &quot;ServiceType&quot;, length = 30)\r\n    private String ServiceType;\r\n\r\n    @Column(name = &quot;OperationMode&quot;, length = 30)\r\n    private String OperationMode;\r\n\r\n    @Column(name = &quot;SendDateTime&quot;, length = 30)\r\n    private String SendDateTime;\r\n\r\n    @Column(name = &quot;CreateDateTime&quot;, length = 30)\r\n    private String CreateDateTime;\r\n\r\n    public UserFlight(\r\n            Long MessageSequenceID,\r\n            String MessageType,\r\n            String ServiceType,\r\n            String OperationMode, String SendDateTime, String CreateDateTime) {\r\n        this.MessageSequenceID = MessageSequenceID;\r\n        this.MessageType = MessageType;\r\n        this.ServiceType = ServiceType;\r\n        this.OperationMode = OperationMode;\r\n        this.SendDateTime = SendDateTime;\r\n        this.CreateDateTime = CreateDateTime;\r\n    }\r\n\r\n    public Long getMessageSequenceID() {\r\n        return MessageSequenceID;\r\n    }\r\n\r\n    public void setMessageSequenceID(Long messageSequenceID) {\r\n        MessageSequenceID = messageSequenceID;\r\n    }\r\n\r\n    public String getMessageType() {\r\n        return MessageType;\r\n    }\r\n\r\n    public void setMessageType(String messageType) {\r\n        MessageType = messageType;\r\n    }\r\n\r\n    public String getServiceType() {\r\n        return ServiceType;\r\n    }\r\n\r\n    public void setServiceType(String serviceType) {\r\n        ServiceType = serviceType;\r\n    }\r\n\r\n    public String getOperationMode() {\r\n        return OperationMode;\r\n    }\r\n\r\n    public void setOperationMode(String operationMode) {\r\n        OperationMode = operationMode;\r\n    }\r\n\r\n    public String getSendDateTime() {\r\n        return SendDateTime;\r\n    }\r\n\r\n    public void setSendDateTime(String sendDateTime) {\r\n        SendDateTime = sendDateTime;\r\n    }\r\n\r\n    public String getCreateDateTime() {\r\n        return CreateDateTime;\r\n    }\r\n\r\n    public void setCreateDateTime(String createDateTime) {\r\n        CreateDateTime = createDateTime;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the service class is like this:\r\n\r\n```\r\nPageable pageable = PageRequest.of(req.getPage(), req.getLimit(), Sort.by(&quot;MessageSequenceID&quot;));\r\n\r\nUserFlight userFlight = new UserFlight();\r\nuserFlight.setStatus(req.getSearch());\r\nExample&lt;UserFlight&gt; example = Example.of(userFlight, SEARCH_CONDITIONS_MATCH_ANY);\r\n\r\nvar flightData = flightRepository.findAll(example, pageable);\r\n```\r\n\r\nAnd exception appear because of pageable object doesn&#39;t find the attribute messageSequenceID:\r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Unable to locate Attribute with the given name [messageSequenceID] on this ManagedType [com.loader.batch.IF.entity.UserFlight]\r\n```\r\n\r\nI&#39;m already tried to add `spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl` on the application.properties, and change the Sort.by() parameter into messageSequenceID.\r\n\r\nIt doesn&#39;t work. It&#39;s still using messageSequenceID, not MessageSequenceID.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Camel_case\r\n\r\n\r\n\r\n","title":"Unable to locate Attribute with the given name [XXX] on this ManagedType [XXX] at PageRequest.of() properties","body":"<p>I'm using <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">camel case</a> on an entity class, but why does the pageable function always auto convert into <a href=\"https://en.wikipedia.org/wiki/Camel_case\" rel=\"nofollow noreferrer\">lower camel case</a>?</p>\n<p>Because of that, I'm meet the error</p>\n<blockquote>\n<p>Unable to locate Attribute with the given name [messageSequenceID] on this ManagedType [com.loader.batch.IF.entity.UserFlight]</p>\n</blockquote>\n<p>Here is my code:</p>\n<p>In the UserFlight entity class is like this</p>\n<pre><code>package com.loader.batch.IF.entity;\n\nimport jakarta.persistence.*;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\n@Entity\n@Table(name = &quot;data_flight&quot;)\npublic class UserFlight {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n    @Column(name = &quot;MessageSequenceID&quot;, nullable = false)\n    private Long MessageSequenceID;\n\n    @Column(name = &quot;MessageType&quot;, length = 30)\n    private String MessageType;\n\n    @Column(name = &quot;ServiceType&quot;, length = 30)\n    private String ServiceType;\n\n    @Column(name = &quot;OperationMode&quot;, length = 30)\n    private String OperationMode;\n\n    @Column(name = &quot;SendDateTime&quot;, length = 30)\n    private String SendDateTime;\n\n    @Column(name = &quot;CreateDateTime&quot;, length = 30)\n    private String CreateDateTime;\n\n    public UserFlight(\n            Long MessageSequenceID,\n            String MessageType,\n            String ServiceType,\n            String OperationMode, String SendDateTime, String CreateDateTime) {\n        this.MessageSequenceID = MessageSequenceID;\n        this.MessageType = MessageType;\n        this.ServiceType = ServiceType;\n        this.OperationMode = OperationMode;\n        this.SendDateTime = SendDateTime;\n        this.CreateDateTime = CreateDateTime;\n    }\n\n    public Long getMessageSequenceID() {\n        return MessageSequenceID;\n    }\n\n    public void setMessageSequenceID(Long messageSequenceID) {\n        MessageSequenceID = messageSequenceID;\n    }\n\n    public String getMessageType() {\n        return MessageType;\n    }\n\n    public void setMessageType(String messageType) {\n        MessageType = messageType;\n    }\n\n    public String getServiceType() {\n        return ServiceType;\n    }\n\n    public void setServiceType(String serviceType) {\n        ServiceType = serviceType;\n    }\n\n    public String getOperationMode() {\n        return OperationMode;\n    }\n\n    public void setOperationMode(String operationMode) {\n        OperationMode = operationMode;\n    }\n\n    public String getSendDateTime() {\n        return SendDateTime;\n    }\n\n    public void setSendDateTime(String sendDateTime) {\n        SendDateTime = sendDateTime;\n    }\n\n    public String getCreateDateTime() {\n        return CreateDateTime;\n    }\n\n    public void setCreateDateTime(String createDateTime) {\n        CreateDateTime = createDateTime;\n    }\n\n}\n</code></pre>\n<p>And the service class is like this:</p>\n<pre><code>Pageable pageable = PageRequest.of(req.getPage(), req.getLimit(), Sort.by(&quot;MessageSequenceID&quot;));\n\nUserFlight userFlight = new UserFlight();\nuserFlight.setStatus(req.getSearch());\nExample&lt;UserFlight&gt; example = Example.of(userFlight, SEARCH_CONDITIONS_MATCH_ANY);\n\nvar flightData = flightRepository.findAll(example, pageable);\n</code></pre>\n<p>And exception appear because of pageable object doesn't find the attribute messageSequenceID:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Unable to locate Attribute with the given name [messageSequenceID] on this ManagedType [com.loader.batch.IF.entity.UserFlight]\n</code></pre>\n<p>I'm already tried to add <code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl</code> on the application.properties, and change the Sort.by() parameter into messageSequenceID.</p>\n<p>It doesn't work. It's still using messageSequenceID, not MessageSequenceID.</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":6723645,"reputation":21,"user_id":5182586,"display_name":"Mohamed Abd ELMohsen"},"score":0,"creation_date":1438513407,"post_id":31771198,"comment_id":51473201,"body_markdown":"with the following Error Code 17004 and SQL Stat 99999","body":"with the following Error Code 17004 and SQL Stat 99999"},{"owner":{"account_id":318361,"reputation":5787,"user_id":635549,"accept_rate":100,"display_name":"galath"},"score":0,"creation_date":1438513894,"post_id":31771198,"comment_id":51473319,"body_markdown":"please add it to the question, not in a comment. Thanks.","body":"please add it to the question, not in a comment. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438521576,"creation_date":1438521576,"answer_id":31772289,"question_id":31771198,"body_markdown":"You are not trying to read a `BLOB` value.  You actually have a `LONG RAW` value in the database and you are trying to read that as if it were a `BLOB`.\r\n\r\nI would recommend that you read the &lt;a href=&quot;http://docs.oracle.com/cd/B28359_01/java.111/b31224/jstreams.htm#i1014085&quot;&gt;Oracle documentation for reading data from `LONG` and `LONG RAW` values in JDBC&lt;/a&gt;.  Oracle even provides example code to help you out.\r\n\r\n","title":"Message Invalid column type: getBLOB not implemented for class oracle.jdbc.driver.T4CLongRawAccessor","body":"<p>You are not trying to read a <code>BLOB</code> value.  You actually have a <code>LONG RAW</code> value in the database and you are trying to read that as if it were a <code>BLOB</code>.</p>\n\n<p>I would recommend that you read the <a href=\"http://docs.oracle.com/cd/B28359_01/java.111/b31224/jstreams.htm#i1014085\" rel=\"nofollow\">Oracle documentation for reading data from <code>LONG</code> and <code>LONG RAW</code> values in JDBC</a>.  Oracle even provides example code to help you out.</p>\n"},{"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438594251,"creation_date":1438594251,"answer_id":31783899,"question_id":31771198,"body_markdown":"If your column is really a BLOB, then you need to make sure that in your Java code that you are not defining the column as a LONG_RAW (search for calls to defineColumnType) as this will make the server send the data as a LONG_RAW instead of a BLOB.","title":"Message Invalid column type: getBLOB not implemented for class oracle.jdbc.driver.T4CLongRawAccessor","body":"<p>If your column is really a BLOB, then you need to make sure that in your Java code that you are not defining the column as a LONG_RAW (search for calls to defineColumnType) as this will make the server send the data as a LONG_RAW instead of a BLOB.</p>\n"},{"tags":[],"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637079357,"creation_date":1637079027,"answer_id":69992536,"question_id":31771198,"body_markdown":"in some cases solvable on an SQL level if the content is not too big for your use case:\r\n\r\n    select dbms_lob.substr( some_blob, 4000 ) as some_blob\r\n    from some_tab\r\n\r\ndepending on your Oracle db you can choose a higher value for `4000`, but for older versions this should work almost everywhere.\r\n**sometimes `3500` is safer** because of unicode conversion of some chars to multiple 8-bit characters.\r\n\r\n(the above shortens the blob content to 4000 characters, if necessary and converts the blob to some more suitable datatype)","title":"Message Invalid column type: getBLOB not implemented for class oracle.jdbc.driver.T4CLongRawAccessor","body":"<p>in some cases solvable on an SQL level if the content is not too big for your use case:</p>\n<pre><code>select dbms_lob.substr( some_blob, 4000 ) as some_blob\nfrom some_tab\n</code></pre>\n<p>depending on your Oracle db you can choose a higher value for <code>4000</code>, but for older versions this should work almost everywhere.\n<strong>sometimes <code>3500</code> is safer</strong> because of unicode conversion of some chars to multiple 8-bit characters.</p>\n<p>(the above shortens the blob content to 4000 characters, if necessary and converts the blob to some more suitable datatype)</p>\n"}],"owner":{"account_id":6723645,"reputation":21,"user_id":5182586,"display_name":"Mohamed Abd ELMohsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19268,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694588650,"creation_date":1438513358,"question_id":31771198,"body_markdown":"I have a problem when trying to read blob from Oracle DB \r\nby using this \r\n\r\n    rs.getBlob(&quot;ARCHIVE_REQ_FILE_BLOB&quot;)\r\n\r\nI also tried this\r\n\r\n    oracle.sql.BLOB blob= (oracle.sql.BLOB) ((OracleResultSet) rs).getBlob(&quot;ARCHIVE_REQ_FILE_BLOB&quot;);\r\n\r\nThe following error appears\r\n\r\n&gt; SQL Message Invalid column type: getBLOB not implemented for class oracle.jdbc.driver.T4CLongRawAccessor\r\n\r\nI use IBM WebSphere application server 8.5.5, open connection using WebSphere datasource using oracle oracle 11.2.0.2\r\n\r\n\r\n","title":"Message Invalid column type: getBLOB not implemented for class oracle.jdbc.driver.T4CLongRawAccessor","body":"<p>I have a problem when trying to read blob from Oracle DB\nby using this</p>\n<pre><code>rs.getBlob(&quot;ARCHIVE_REQ_FILE_BLOB&quot;)\n</code></pre>\n<p>I also tried this</p>\n<pre><code>oracle.sql.BLOB blob= (oracle.sql.BLOB) ((OracleResultSet) rs).getBlob(&quot;ARCHIVE_REQ_FILE_BLOB&quot;);\n</code></pre>\n<p>The following error appears</p>\n<blockquote>\n<p>SQL Message Invalid column type: getBLOB not implemented for class oracle.jdbc.driver.T4CLongRawAccessor</p>\n</blockquote>\n<p>I use IBM WebSphere application server 8.5.5, open connection using WebSphere datasource using oracle oracle 11.2.0.2</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1681614590,"post_id":76025515,"comment_id":134083986,"body_markdown":"AFAIK, that library&#39;s basically abandoned and isn&#39;t directly published anywhere anymore, so you&#39;ll have to go through JitPack. Keep the `maven { … }` entry, and then make sure you have the current, correct dependency, as shown on [the relevant page on their site](https://jitpack.io/#smarteist/Android-Image-Slider/1.4.0).","body":"AFAIK, that library&#39;s basically abandoned and isn&#39;t directly published anywhere anymore, so you&#39;ll have to go through JitPack. Keep the <code>maven { … }</code> entry, and then make sure you have the current, correct dependency, as shown on <a href=\"https://jitpack.io/#smarteist/Android-Image-Slider/1.4.0\" rel=\"nofollow noreferrer\">the relevant page on their site</a>."},{"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"score":1,"creation_date":1681628429,"post_id":76025515,"comment_id":134084898,"body_markdown":"Can you please attach the project level build.gradle and setting.gradle  screenshot if possible??","body":"Can you please attach the project level build.gradle and setting.gradle  screenshot if possible??"},{"owner":{"account_id":16073762,"reputation":118,"user_id":11601491,"display_name":"Abdalla Tawfik"},"score":0,"creation_date":1681635278,"post_id":76025515,"comment_id":134085576,"body_markdown":"`buildscript {\n...\n    repositories {\n        google()\n        mavenCentral()\n        maven { url &#39;https://dl.bintray.com/kotlin/kotlin-eap&#39; }\n        maven { url &#39;http://repo1.maven.org/maven2&#39; }\n    }\n    dependencies {\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\n        classpath &#39;com.android.tools.build:gradle:4.2.2&#39;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        maven { url &quot;https://oss.jfrog.org/libs-snapshot&quot; }\n    }\n}`","body":"<code>buildscript { ...     repositories {         google()         mavenCentral()         maven { url &#39;https:&#47;&#47;dl.bintray.com&#47;kotlin&#47;kotlin-eap&#39; }         maven { url &#39;http:&#47;&#47;repo1.maven.org&#47;maven2&#39; }     }     dependencies {         classpath &#39;com.google.gms:google-services:4.3.15&#39;         classpath &#39;com.android.tools.build:gradle:4.2.2&#39;         classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;     } }  allprojects {     repositories {         google()         mavenCentral()         maven { url &quot;https:&#47;&#47;oss.jfrog.org&#47;libs-snapshot&quot; }     } }</code>"},{"owner":{"account_id":16073762,"reputation":118,"user_id":11601491,"display_name":"Abdalla Tawfik"},"score":0,"creation_date":1681635339,"post_id":76025515,"comment_id":134085581,"body_markdown":"settings.gradle \n\n`include &#39;:app&#39;\nrootProject.name = &quot;Ngo&quot;\n`","body":"settings.gradle   <code>include &#39;:app&#39; rootProject.name = &quot;Ngo&quot; </code>"},{"owner":{"account_id":1974004,"reputation":5392,"user_id":1772220,"display_name":"ugexe"},"score":0,"creation_date":1681669987,"post_id":76025515,"comment_id":134090252,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551/1772220)","body":"<a href=\"//meta.stackoverflow.com/q/285551/1772220\">Please do not upload images of code/data/errors.</a>"}],"answers":[{"tags":[],"owner":{"account_id":15882942,"reputation":215,"user_id":11460211,"display_name":"Nilesh Singh Dahiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694588529,"creation_date":1694588529,"answer_id":77094744,"question_id":76025515,"body_markdown":"since **jcenter** has been ***shutdown***, officially they provided solution for this in their **github** based on new structure of Updated Android Studio versions.\r\n\r\nsimple, put following line in **settings.gradle** file-\r\n\r\n\r\n    maven {\r\n    url &quot;https://jcenter.bintray.com&quot;\r\n    }\r\nfind more at [**Github | smarteist/Android-Image-Slider**][1]\r\n\r\n\r\n  [1]: https://github.com/smarteist/Android-Image-Slider/issues/251\r\n\r\nplease mark this one is as answer if it is helpful so others can do same. thank you.","title":"Could not resolve com.github.smarteist:autoimageslider:1.4.0","body":"<p>since <strong>jcenter</strong> has been <em><strong>shutdown</strong></em>, officially they provided solution for this in their <strong>github</strong> based on new structure of Updated Android Studio versions.</p>\n<p>simple, put following line in <strong>settings.gradle</strong> file-</p>\n<pre><code>maven {\nurl &quot;https://jcenter.bintray.com&quot;\n}\n</code></pre>\n<p>find more at <a href=\"https://github.com/smarteist/Android-Image-Slider/issues/251\" rel=\"nofollow noreferrer\"><strong>Github | smarteist/Android-Image-Slider</strong></a></p>\n<p>please mark this one is as answer if it is helpful so others can do same. thank you.</p>\n"}],"owner":{"account_id":16073762,"reputation":118,"user_id":11601491,"display_name":"Abdalla Tawfik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694588529,"creation_date":1681608330,"question_id":76025515,"body_markdown":"Getting these errors when trying to run Android Java project \r\n`\r\nCaused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve com.github.smarteist:autoimageslider:1.4.0.`\r\n`Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.`\r\n\r\n`Caused by: org.gradle.internal.resource.transport.http.HttpErrorStatusCodeException: Could not HEAD &#39;https://jitpack.io/com/github/smarteist/autoimageslider/1.4.0/autoimageslider-1.4.0.pom&#39;. Received status code 401 from server: Unauthorized`\r\n\r\n[![[![enter image description here](https://i.stack.imgur.com/oMB3E.png)](https://i.stack.imgur.com/oMB3E.png)](https://i.stack.imgur.com/052tW.png)](https://i.stack.imgur.com/052tW.png)\r\n\r\n`    implementation &#39;com.github.smarteist:autoimageslider:1.4.0&#39;`\r\n\r\ni tried toggle offline mode \r\n\r\ni tried invalidate caches \r\ni tried deleting `.gradle` caches \r\ni tried updating android studio, gradle version \r\ni tried a VPN, switching network\r\ni tried Gradle Jdk 19, 1.8, 11\r\ni tried adding `maven { url &quot;https://jitpack.io&quot; }` and `jcenter()`\r\ni need help working this out ","title":"Could not resolve com.github.smarteist:autoimageslider:1.4.0","body":"<p>Getting these errors when trying to run Android Java project\n<code> Caused by: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve com.github.smarteist:autoimageslider:1.4.0.</code>\n<code>Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugRuntimeClasspath'.</code></p>\n<p><code>Caused by: org.gradle.internal.resource.transport.http.HttpErrorStatusCodeException: Could not HEAD 'https://jitpack.io/com/github/smarteist/autoimageslider/1.4.0/autoimageslider-1.4.0.pom'. Received status code 401 from server: Unauthorized</code></p>\n<p><a href=\"https://i.stack.imgur.com/052tW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/052tW.png\" alt=\"enter image description here\" /></a></p>\n<p><code>    implementation 'com.github.smarteist:autoimageslider:1.4.0'</code></p>\n<p>i tried toggle offline mode</p>\n<p>i tried invalidate caches\ni tried deleting <code>.gradle</code> caches\ni tried updating android studio, gradle version\ni tried a VPN, switching network\ni tried Gradle Jdk 19, 1.8, 11\ni tried adding <code>maven { url &quot;https://jitpack.io&quot; }</code> and <code>jcenter()</code>\ni need help working this out</p>\n"},{"tags":["java","eclipse","jboss","wildfly"],"comments":[{"owner":{"account_id":10618487,"reputation":1037,"user_id":7820277,"display_name":"Shubham"},"score":0,"creation_date":1541674709,"post_id":53205655,"comment_id":93300673,"body_markdown":"have you checked the server.log? is there any error in the log? if so can you post","body":"have you checked the server.log? is there any error in the log? if so can you post"},{"owner":{"account_id":14521479,"reputation":41,"user_id":10489032,"display_name":"Alik Zeholo"},"score":0,"creation_date":1541674986,"post_id":53205655,"comment_id":93300823,"body_markdown":"@Shubham that&#39;s the thing. There is no errors everything looks fine in the logs but when I go to the server tab it says &#39;Starting&#39; not Started like the logs. What it may be?","body":"@Shubham that&#39;s the thing. There is no errors everything looks fine in the logs but when I go to the server tab it says &#39;Starting&#39; not Started like the logs. What it may be?"},{"owner":{"account_id":10618487,"reputation":1037,"user_id":7820277,"display_name":"Shubham"},"score":0,"creation_date":1541675233,"post_id":53205655,"comment_id":93300929,"body_markdown":"from where i understand its not a JBoss issue but some compatibility issue, did you try installing the same JBoss on some other machine?","body":"from where i understand its not a JBoss issue but some compatibility issue, did you try installing the same JBoss on some other machine?"},{"owner":{"account_id":14521479,"reputation":41,"user_id":10489032,"display_name":"Alik Zeholo"},"score":0,"creation_date":1541675407,"post_id":53205655,"comment_id":93301007,"body_markdown":"@Shubham Yes it works perfectly fine on other machines. It also worked fine on mine until a few days ago.","body":"@Shubham Yes it works perfectly fine on other machines. It also worked fine on mine until a few days ago."},{"owner":{"account_id":10618487,"reputation":1037,"user_id":7820277,"display_name":"Shubham"},"score":0,"creation_date":1541675572,"post_id":53205655,"comment_id":93301083,"body_markdown":"well you have the answer to the problem i guess","body":"well you have the answer to the problem i guess"},{"owner":{"account_id":14521479,"reputation":41,"user_id":10489032,"display_name":"Alik Zeholo"},"score":0,"creation_date":1541676732,"post_id":53205655,"comment_id":93301727,"body_markdown":"@Shubham I think there is a problem because even tho it says started in the log after the timeout of 400 secs the server terminate itself.","body":"@Shubham I think there is a problem because even tho it says started in the log after the timeout of 400 secs the server terminate itself."},{"owner":{"account_id":10618487,"reputation":1037,"user_id":7820277,"display_name":"Shubham"},"score":0,"creation_date":1541676952,"post_id":53205655,"comment_id":93301862,"body_markdown":"can you try changing the port , i think you have installed something which is blocking your port and wildfly is unable to access that port which is why its still trying to connect and still waiting and connection times out or can you check the firewall?","body":"can you try changing the port , i think you have installed something which is blocking your port and wildfly is unable to access that port which is why its still trying to connect and still waiting and connection times out or can you check the firewall?"},{"owner":{"account_id":14521479,"reputation":41,"user_id":10489032,"display_name":"Alik Zeholo"},"score":0,"creation_date":1541677792,"post_id":53205655,"comment_id":93302312,"body_markdown":"@Shubham I&#39;ve also tried this. Tried on 8080,8081,8082,8088.. Also added offsets and nothing changed.","body":"@Shubham I&#39;ve also tried this. Tried on 8080,8081,8082,8088.. Also added offsets and nothing changed."}],"answers":[{"tags":[],"owner":{"account_id":8238623,"reputation":127,"user_id":6196913,"display_name":"mav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541675305,"creation_date":1541675305,"answer_id":53206527,"question_id":53205655,"body_markdown":"&gt; the only option I have is to terminate it rather than restarting it\r\n\r\nThis feature was removed from Jboss Tools at version 4.5 when the direct toolbar buttons were removed. See https://issues.jboss.org/browse/JBIDE-24528  \r\nYou can try to downgrade Jboss Tools\r\n\r\n&gt; It also don&#39;t update my WEB content directly and I have to restart the\r\n&gt; server every single time when I make a slight change\r\n\r\nCheck you have added the resources on the server. Right click on server -&gt; Add and remove...  \r\nOnce a resource is added wildfly should update automatically your changes, also you can right click on the resource and do a manual incremental or full publish.\r\n\r\nHope it helps.","title":"Wildfly stuck at starting mode","body":"<blockquote>\n  <p>the only option I have is to terminate it rather than restarting it</p>\n</blockquote>\n\n<p>This feature was removed from Jboss Tools at version 4.5 when the direct toolbar buttons were removed. See <a href=\"https://issues.jboss.org/browse/JBIDE-24528\" rel=\"nofollow noreferrer\">https://issues.jboss.org/browse/JBIDE-24528</a><br>\nYou can try to downgrade Jboss Tools</p>\n\n<blockquote>\n  <p>It also don't update my WEB content directly and I have to restart the\n  server every single time when I make a slight change</p>\n</blockquote>\n\n<p>Check you have added the resources on the server. Right click on server -> Add and remove...<br>\nOnce a resource is added wildfly should update automatically your changes, also you can right click on the resource and do a manual incremental or full publish.</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":11595379,"reputation":70,"user_id":8494302,"display_name":"Sascha B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601293567,"creation_date":1601293567,"answer_id":64101565,"question_id":53205655,"body_markdown":"After fixing &quot;Port Offset&quot; it works. Instead of offset 0 the field had the port number 8080. I had to recreate the server configuration in the server view (New / Server).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xozaj.png","title":"Wildfly stuck at starting mode","body":"<p>After fixing &quot;Port Offset&quot; it works. Instead of offset 0 the field had the port number 8080. I had to recreate the server configuration in the server view (New / Server).</p>\n<p><a href=\"https://i.stack.imgur.com/xozaj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xozaj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":29428791,"reputation":1,"user_id":22548881,"display_name":"Nithin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694587025,"creation_date":1694587025,"answer_id":77094579,"question_id":53205655,"body_markdown":"I Recently got the same issue and mine got solved with the steps.give a try\r\n\r\n1.Double Click on the configured Wildfly server \r\n\r\n2.Go to Server Behhaviour section &gt;\r\n\r\n3.Disable this checkbox &quot;Server Lifecycle is externally managed.&quot; ","title":"Wildfly stuck at starting mode","body":"<p>I Recently got the same issue and mine got solved with the steps.give a try</p>\n<p>1.Double Click on the configured Wildfly server</p>\n<p>2.Go to Server Behhaviour section &gt;</p>\n<p>3.Disable this checkbox &quot;Server Lifecycle is externally managed.&quot;</p>\n"}],"owner":{"account_id":14521479,"reputation":41,"user_id":10489032,"display_name":"Alik Zeholo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2184,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1694587025,"creation_date":1541672298,"question_id":53205655,"body_markdown":"Recently I&#39;ve got a strange Wildfly bug where I can&#39;t start my server properly.\r\nWhen I start the server empty I&#39;ve got:\r\n\r\n     [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full\r\n     14.0.0.Final (WildFly Core 6.0.1.Final) started in 3430ms - Started 306 of 527 \r\n     services (321 services are lazy, passive or on-demand)\r\n\r\nWhich is pretty standard but even tho it says `started in 3430ms` when I go on my servers tab the server says `[Starting, Synchronized]` and the only option I have is to terminate it rather than restarting it. It also don&#39;t update my `WEB` content directly and I have to restart the server every single time when I make a slight change which is extremely time-consuming. I&#39;ve tried so far:\r\n\r\ndeleted .eclipse, deleted eclipse-workplace, install new eclipse ide, install new `JBoss tool (4.9 final)`, using `new/different` Wildfly.\r\nAnd none of these solved the problem.","title":"Wildfly stuck at starting mode","body":"<p>Recently I've got a strange Wildfly bug where I can't start my server properly.\nWhen I start the server empty I've got:</p>\n\n<pre><code> [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full\n 14.0.0.Final (WildFly Core 6.0.1.Final) started in 3430ms - Started 306 of 527 \n services (321 services are lazy, passive or on-demand)\n</code></pre>\n\n<p>Which is pretty standard but even tho it says <code>started in 3430ms</code> when I go on my servers tab the server says <code>[Starting, Synchronized]</code> and the only option I have is to terminate it rather than restarting it. It also don't update my <code>WEB</code> content directly and I have to restart the server every single time when I make a slight change which is extremely time-consuming. I've tried so far:</p>\n\n<p>deleted .eclipse, deleted eclipse-workplace, install new eclipse ide, install new <code>JBoss tool (4.9 final)</code>, using <code>new/different</code> Wildfly.\nAnd none of these solved the problem.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","keycloak"],"answers":[{"tags":[],"owner":{"account_id":10211330,"reputation":46,"user_id":7538343,"display_name":"JimmyK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642846095,"creation_date":1642834963,"answer_id":70810706,"question_id":70616231,"body_markdown":"Add this property :\r\n```\r\nkeycloak.credentials.provider=secret\r\n```","title":"Keycloak cannot identify clientAuthenticator from the configuration","body":"<p>Add this property :</p>\n<pre><code>keycloak.credentials.provider=secret\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17763146,"reputation":352,"user_id":12898692,"display_name":"Akhilesh Magdum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694586728,"creation_date":1694586728,"answer_id":77094557,"question_id":70616231,"body_markdown":"If you&#39;re using the `AuthzClient` object and your client credentials have changed, you&#39;ll need to update your code accordingly. Here&#39;s how you can do it:\r\n\r\n```java\r\nMap&lt;String, Object&gt; clientCredentials = new HashMap&lt;&gt;();\r\nclientCredentials.put(&quot;secret&quot;, clientSecret);\r\nclientCredentials.put(&quot;provider&quot;, &quot;secret&quot;);\r\n```\r\n\r\n","title":"Keycloak cannot identify clientAuthenticator from the configuration","body":"<p>If you're using the <code>AuthzClient</code> object and your client credentials have changed, you'll need to update your code accordingly. Here's how you can do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; clientCredentials = new HashMap&lt;&gt;();\nclientCredentials.put(&quot;secret&quot;, clientSecret);\nclientCredentials.put(&quot;provider&quot;, &quot;secret&quot;);\n</code></pre>\n"}],"owner":{"account_id":20135971,"reputation":11,"user_id":14766957,"display_name":"Dương Minh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694586728,"creation_date":1641525715,"question_id":70616231,"body_markdown":"I am trying to connect keycloak client to spring boot project but I do not known how to solve this issue although I daily search the solution for handling this error. Can anyone help me? \r\n\r\n**Application property**\r\n\r\n    keycloak.enabled=true\r\n    keycloak.realm=master\r\n    keycloak.auth-server-url= http://localhost:8090/auth/\r\n    keycloak.resource=admin-cli\r\n    keycloak.confidential-port=0\r\n    keycloak.public-client=true\r\n    keycloak.verify-token-audience=true\r\n    keycloak.principal-attribute=preferred_username\r\n    keycloak.credentials.secret=ceK01wMKEQ6WoeBAy61PvTLzbt5iAebt\r\n    keycloak.credentials.username=root\r\n    keycloak.credentials.password=admin\r\n    keycloak.ssl-required=external\r\n    keycloak.use-resource-role-mappings=true\r\n    keycloak.bearer-only               =true\r\n\r\n**Keycloak Configuration**\r\n\r\n    @Value(&quot;${keycloak.credentials.secret}}&quot;)\r\n        private String secretKey;\r\n    \r\n        @Value(&quot;${keycloak.resource}&quot;)\r\n        private String clientId;\r\n    \r\n        @Value(&quot;${keycloak.auth-server-url}&quot;)\r\n        private String authUrl;\r\n    \r\n        @Value(&quot;${keycloak.realm}&quot;)\r\n        private String realm;\r\n    \r\n        @Value(&quot;${keycloak.credentials.username}&quot;)\r\n        private String username;\r\n    \r\n        @Value(&quot;${keycloak.credentials.password}&quot;)\r\n        private String password;\r\n    \r\n        @Bean\r\n        public Keycloak initKeycloak(){\r\n            return KeycloakBuilder.builder()\r\n                    .serverUrl(authUrl)\r\n                    .realm(realm)\r\n                    .username(username)\r\n                    .password(password)\r\n                    .clientId(clientId)\r\n                    .clientSecret(secretKey)\r\n                    .build();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            http.csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/admin*&quot;)\r\n                    .hasRole(&quot;admin&quot;)\r\n                    .anyRequest()\r\n                    .permitAll();\r\n        }\r\n    \r\n        public SimpleAuthorityMapper grantedAuthority(){\r\n            SimpleAuthorityMapper mapper = new SimpleAuthorityMapper();\r\n            mapper.setConvertToUpperCase(true);\r\n            return mapper;\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n            keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthority());\r\n            auth.authenticationProvider(keycloakAuthenticationProvider);\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n            return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n        }\r\n    \r\n        @Bean\r\n        public KeycloakConfigResolver keycloakConfigResolver(){\r\n            return new KeycloakSpringBootConfigResolver();\r\n        }\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean&lt;KeycloakAuthenticationProcessingFilter&gt; keycloakAuthenticationProcessingFilterRegistrationBean(\r\n                KeycloakAuthenticationProcessingFilter filter) {\r\n            FilterRegistrationBean&lt;KeycloakAuthenticationProcessingFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;(filter);\r\n            registrationBean.setEnabled(false);\r\n            return registrationBean;\r\n        }\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean&lt;KeycloakPreAuthActionsFilter&gt; keycloakPreAuthActionsFilterRegistrationBean(\r\n                KeycloakPreAuthActionsFilter filter) {\r\n            FilterRegistrationBean&lt;KeycloakPreAuthActionsFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;(filter);\r\n            registrationBean.setEnabled(false);\r\n            return registrationBean;\r\n        }\r\n\r\n**Localhost Error**\r\n\r\n*When I access localhost:8080, it shows below*\r\n\r\n&gt; Type Exception Report\r\n&gt; \r\n&gt; Message Can&#39;t identify clientAuthenticator from the configuration of\r\n&gt; client &#39;admin-cli&#39; . Check your adapter configurations\r\n&gt; \r\n&gt; Description The server encountered an unexpected condition that\r\n&gt; prevented it from fulfilling the request.\r\n&gt; \r\n&gt; Exception\r\n&gt; \r\n&gt; java.lang.RuntimeException: Can&#39;t identify clientAuthenticator from\r\n&gt; the configuration of client &#39;admin-cli&#39; . Check your adapter\r\n&gt; configurations\r\n&gt; \torg.keycloak.adapters.authentication.ClientCredentialsProviderUtils.bootstrapClientAuthenticator(ClientCredentialsProviderUtils.java:54)\r\n&gt; \torg.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:99)\r\n&gt; \torg.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)\r\n&gt; \torg.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)\r\n&gt; \torg.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)\r\n&gt; \torg.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)\r\n&gt; \torg.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)\r\n&gt; \torg.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)\r\n&gt; \torg.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)\r\n&gt; \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n&gt; \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n&gt; \torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n&gt; \torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n&gt; \torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n&gt; \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n&gt; \torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n&gt; \torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n&gt; \torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n&gt; \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; \tjava.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; Note The full stack trace of the root cause is available in the server\r\n&gt; logs.\r\n\r\n**Keycloak**\r\n\r\n*My keycloak url: localhost:8090/auth*\r\n\r\n[Keycloak image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cMLew.png","title":"Keycloak cannot identify clientAuthenticator from the configuration","body":"<p>I am trying to connect keycloak client to spring boot project but I do not known how to solve this issue although I daily search the solution for handling this error. Can anyone help me?</p>\n<p><strong>Application property</strong></p>\n<pre><code>keycloak.enabled=true\nkeycloak.realm=master\nkeycloak.auth-server-url= http://localhost:8090/auth/\nkeycloak.resource=admin-cli\nkeycloak.confidential-port=0\nkeycloak.public-client=true\nkeycloak.verify-token-audience=true\nkeycloak.principal-attribute=preferred_username\nkeycloak.credentials.secret=ceK01wMKEQ6WoeBAy61PvTLzbt5iAebt\nkeycloak.credentials.username=root\nkeycloak.credentials.password=admin\nkeycloak.ssl-required=external\nkeycloak.use-resource-role-mappings=true\nkeycloak.bearer-only               =true\n</code></pre>\n<p><strong>Keycloak Configuration</strong></p>\n<pre><code>@Value(&quot;${keycloak.credentials.secret}}&quot;)\n    private String secretKey;\n\n    @Value(&quot;${keycloak.resource}&quot;)\n    private String clientId;\n\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\n    private String authUrl;\n\n    @Value(&quot;${keycloak.realm}&quot;)\n    private String realm;\n\n    @Value(&quot;${keycloak.credentials.username}&quot;)\n    private String username;\n\n    @Value(&quot;${keycloak.credentials.password}&quot;)\n    private String password;\n\n    @Bean\n    public Keycloak initKeycloak(){\n        return KeycloakBuilder.builder()\n                .serverUrl(authUrl)\n                .realm(realm)\n                .username(username)\n                .password(password)\n                .clientId(clientId)\n                .clientSecret(secretKey)\n                .build();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/admin*&quot;)\n                .hasRole(&quot;admin&quot;)\n                .anyRequest()\n                .permitAll();\n    }\n\n    public SimpleAuthorityMapper grantedAuthority(){\n        SimpleAuthorityMapper mapper = new SimpleAuthorityMapper();\n        mapper.setConvertToUpperCase(true);\n        return mapper;\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthority());\n        auth.authenticationProvider(keycloakAuthenticationProvider);\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n    @Bean\n    public KeycloakConfigResolver keycloakConfigResolver(){\n        return new KeycloakSpringBootConfigResolver();\n    }\n\n    @Bean\n    public FilterRegistrationBean&lt;KeycloakAuthenticationProcessingFilter&gt; keycloakAuthenticationProcessingFilterRegistrationBean(\n            KeycloakAuthenticationProcessingFilter filter) {\n        FilterRegistrationBean&lt;KeycloakAuthenticationProcessingFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;(filter);\n        registrationBean.setEnabled(false);\n        return registrationBean;\n    }\n\n    @Bean\n    public FilterRegistrationBean&lt;KeycloakPreAuthActionsFilter&gt; keycloakPreAuthActionsFilterRegistrationBean(\n            KeycloakPreAuthActionsFilter filter) {\n        FilterRegistrationBean&lt;KeycloakPreAuthActionsFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;(filter);\n        registrationBean.setEnabled(false);\n        return registrationBean;\n    }\n</code></pre>\n<p><strong>Localhost Error</strong></p>\n<p><em>When I access localhost:8080, it shows below</em></p>\n<blockquote>\n<p>Type Exception Report</p>\n<p>Message Can't identify clientAuthenticator from the configuration of\nclient 'admin-cli' . Check your adapter configurations</p>\n<p>Description The server encountered an unexpected condition that\nprevented it from fulfilling the request.</p>\n<p>Exception</p>\n<p>java.lang.RuntimeException: Can't identify clientAuthenticator from\nthe configuration of client 'admin-cli' . Check your adapter\nconfigurations\norg.keycloak.adapters.authentication.ClientCredentialsProviderUtils.bootstrapClientAuthenticator(ClientCredentialsProviderUtils.java:54)\norg.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:99)\norg.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202)\norg.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:41)\norg.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40)\norg.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89)\norg.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100)\norg.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75)\norg.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>Note The full stack trace of the root cause is available in the server\nlogs.</p>\n</blockquote>\n<p><strong>Keycloak</strong></p>\n<p><em>My keycloak url: localhost:8090/auth</em></p>\n<p><a href=\"https://i.stack.imgur.com/cMLew.png\" rel=\"nofollow noreferrer\">Keycloak image</a></p>\n"},{"tags":["java","android","reactjs","react-native","expo"],"comments":[{"owner":{"account_id":7808373,"reputation":3182,"user_id":5905466,"display_name":"Michael Bahl"},"score":0,"creation_date":1694593926,"post_id":77094471,"comment_id":135910236,"body_markdown":"Is it a bare or an managed app? What react-native and expo version are you using?","body":"Is it a bare or an managed app? What react-native and expo version are you using?"},{"owner":{"account_id":26563695,"reputation":75,"user_id":20191135,"display_name":"emile kaba"},"score":0,"creation_date":1698334661,"post_id":77094471,"comment_id":136395128,"body_markdown":"expo version 47 and it is a  managed app","body":"expo version 47 and it is a  managed app"},{"owner":{"account_id":7808373,"reputation":3182,"user_id":5905466,"display_name":"Michael Bahl"},"score":0,"creation_date":1698392736,"post_id":77094471,"comment_id":136402168,"body_markdown":"The problem seems to be related to https://github.com/expo/expo/issues/19259 but this post is about bare projects.","body":"The problem seems to be related to <a href=\"https://github.com/expo/expo/issues/19259\" rel=\"nofollow noreferrer\">github.com/expo/expo/issues/19259</a> but this post is about bare projects."}],"owner":{"account_id":26563695,"reputation":75,"user_id":20191135,"display_name":"emile kaba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694585857,"creation_date":1694585857,"question_id":77094471,"body_markdown":"After the pre-launch test report on Android, Android detect one error : \r\n```\r\nException java.util.concurrent.TimeoutException: expo.modules.kotlin.jni.JavaCallback.finalize() timed out after 10 seconds\r\n  at com.facebook.jni.HybridData$Destructor.deleteNative\r\n  at com.facebook.jni.HybridData$Destructor.destruct (HybridData.java:81)\r\n  at com.facebook.jni.HybridData.resetNative (HybridData.java:48)\r\n  at expo.modules.kotlin.jni.JavaCallback.finalize (JavaCallback.kt:41)\r\n  at java.lang.Daemons$FinalizerDaemon.doFinalize (Daemons.java:291)\r\n  at java.lang.Daemons$FinalizerDaemon.runInternal (Daemons.java:278)\r\n  at java.lang.Daemons$Daemon.run (Daemons.java:139)\r\n  at java.lang.Thread.run (Thread.java:920)\r\n```\r\n\r\nI don&#39;t know how to reproduce this and why i have this error ? Any ideas ? \r\nThanks in advance","title":"Error on android detected when i deployed my app with expo","body":"<p>After the pre-launch test report on Android, Android detect one error :</p>\n<pre><code>Exception java.util.concurrent.TimeoutException: expo.modules.kotlin.jni.JavaCallback.finalize() timed out after 10 seconds\n  at com.facebook.jni.HybridData$Destructor.deleteNative\n  at com.facebook.jni.HybridData$Destructor.destruct (HybridData.java:81)\n  at com.facebook.jni.HybridData.resetNative (HybridData.java:48)\n  at expo.modules.kotlin.jni.JavaCallback.finalize (JavaCallback.kt:41)\n  at java.lang.Daemons$FinalizerDaemon.doFinalize (Daemons.java:291)\n  at java.lang.Daemons$FinalizerDaemon.runInternal (Daemons.java:278)\n  at java.lang.Daemons$Daemon.run (Daemons.java:139)\n  at java.lang.Thread.run (Thread.java:920)\n</code></pre>\n<p>I don't know how to reproduce this and why i have this error ? Any ideas ?\nThanks in advance</p>\n"},{"tags":["java","junit","junit5","junit5-extension-model"],"answers":[{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691163338,"creation_date":1691163338,"answer_id":76837363,"question_id":76829216,"body_markdown":"If you are able to extract your actual outer setup and teardown methods, you can introduce a second `@Nested` class for the outer tests and use `@BeforeAll` and `@AfterAll` to invoke the outer setup/teardown once:\r\n\r\n```java\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Nested;\r\nimport org.junit.jupiter.api.RepeatedTest;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.TestInstance;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.ValueSource;\r\n\r\nclass OuterTest {\r\n\r\n\tvoid actualOuterSetUp() {\r\n\t\tSystem.out.println(&quot;outerSetUp&quot;);\r\n\t}\r\n\r\n\tvoid actualOuterTearDown() {\r\n\t\tSystem.out.println(&quot;outerTearDown&quot;);\r\n\t}\r\n\r\n\t@Nested\r\n\tclass InnerTestA {\r\n\r\n\t\t@BeforeEach\r\n\t\tvoid outerSetUp() {\r\n\t\t\tactualOuterSetUp();\r\n\t\t}\r\n\r\n\r\n\t\t@AfterEach\r\n\t\tvoid outerTearDown() {\r\n\t\t\tactualOuterTearDown();\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tvoid outerTest1() {\r\n\t\t\tSystem.out.println(&quot; outerTest1&quot;);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tvoid outerTest2() {\r\n\t\t\tSystem.out.println(&quot; outerTest2&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Nested\r\n\t@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n\tclass InnerTestB {\r\n\r\n\t\t@BeforeAll\r\n\t\tvoid outerSetUp() {\r\n\t\t\tactualOuterSetUp();\r\n\t\t}\r\n\r\n\t\t@AfterAll\r\n\t\tvoid outerTearDown() {\r\n\t\t\tactualOuterTearDown();\r\n\t\t}\r\n\r\n\t\t@BeforeEach\r\n\t\tvoid innerSetUp() {\r\n\t\t\tSystem.out.println(&quot; innerSetUp&quot;);\r\n\t\t}\r\n\r\n\r\n\t\t@AfterEach\r\n\t\tvoid innerTearDown() {\r\n\t\t\tSystem.out.println(&quot; innerTearDown&quot;);\r\n\t\t}\r\n\r\n\r\n\t\t@Test\r\n\t\tvoid innerTest1() {\r\n\t\t\tSystem.out.println(&quot;  innerTest1&quot;);\r\n\t\t}\r\n\r\n\r\n\t\t@Test\r\n\t\tvoid innerTest2() {\r\n\t\t\tSystem.out.println(&quot;  innerTest2&quot;);\r\n\t\t}\r\n\r\n\t\t@RepeatedTest(3)\r\n\t\tvoid innerRepeatedTest() {\r\n\t\t\tSystem.out.println(&quot;  innerRepeatedTest&quot;);\r\n\t\t}\r\n\r\n\t\t@ParameterizedTest\r\n\t\t@ValueSource(strings = {&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;})\r\n\t\tvoid innerParameterizedTest(final String input) {\r\n\t\t\tSystem.out.println(&quot;  innerParameterizedTest - &quot; + input);\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nOutput (order of the nested class may vary on your system):\r\n\r\n```text\r\nouterSetUp\r\n outerTest1\r\nouterTearDown\r\nouterSetUp\r\n outerTest2\r\nouterTearDown\r\nouterSetUp\r\n innerSetUp\r\n  innerRepeatedTest\r\n innerTearDown\r\n innerSetUp\r\n  innerRepeatedTest\r\n innerTearDown\r\n innerSetUp\r\n  innerRepeatedTest\r\n innerTearDown\r\n innerSetUp\r\n  innerParameterizedTest - foo\r\n innerTearDown\r\n innerSetUp\r\n  innerParameterizedTest - bar\r\n innerTearDown\r\n innerSetUp\r\n  innerParameterizedTest - baz\r\n innerTearDown\r\n innerSetUp\r\n  innerTest1\r\n innerTearDown\r\n innerSetUp\r\n  innerTest2\r\n innerTearDown\r\nouterTearDown\r\n```\r\n\r\nIf you are on Java 16+, you can also omit `@TestInstance(TestInstance.Lifecycle.PER_CLASS)` and use `static` instead.","title":"How to suppress execution of @BeforeEach and @AfterEach methods of outer class between tests of inner (nested) class","body":"<p>If you are able to extract your actual outer setup and teardown methods, you can introduce a second <code>@Nested</code> class for the outer tests and use <code>@BeforeAll</code> and <code>@AfterAll</code> to invoke the outer setup/teardown once:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Nested;\nimport org.junit.jupiter.api.RepeatedTest;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestInstance;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\n\nclass OuterTest {\n\n    void actualOuterSetUp() {\n        System.out.println(&quot;outerSetUp&quot;);\n    }\n\n    void actualOuterTearDown() {\n        System.out.println(&quot;outerTearDown&quot;);\n    }\n\n    @Nested\n    class InnerTestA {\n\n        @BeforeEach\n        void outerSetUp() {\n            actualOuterSetUp();\n        }\n\n\n        @AfterEach\n        void outerTearDown() {\n            actualOuterTearDown();\n        }\n\n        @Test\n        void outerTest1() {\n            System.out.println(&quot; outerTest1&quot;);\n        }\n\n        @Test\n        void outerTest2() {\n            System.out.println(&quot; outerTest2&quot;);\n        }\n\n    }\n\n    @Nested\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\n    class InnerTestB {\n\n        @BeforeAll\n        void outerSetUp() {\n            actualOuterSetUp();\n        }\n\n        @AfterAll\n        void outerTearDown() {\n            actualOuterTearDown();\n        }\n\n        @BeforeEach\n        void innerSetUp() {\n            System.out.println(&quot; innerSetUp&quot;);\n        }\n\n\n        @AfterEach\n        void innerTearDown() {\n            System.out.println(&quot; innerTearDown&quot;);\n        }\n\n\n        @Test\n        void innerTest1() {\n            System.out.println(&quot;  innerTest1&quot;);\n        }\n\n\n        @Test\n        void innerTest2() {\n            System.out.println(&quot;  innerTest2&quot;);\n        }\n\n        @RepeatedTest(3)\n        void innerRepeatedTest() {\n            System.out.println(&quot;  innerRepeatedTest&quot;);\n        }\n\n        @ParameterizedTest\n        @ValueSource(strings = {&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;})\n        void innerParameterizedTest(final String input) {\n            System.out.println(&quot;  innerParameterizedTest - &quot; + input);\n        }\n\n    }\n\n}\n</code></pre>\n<p>Output (order of the nested class may vary on your system):</p>\n<pre><code>outerSetUp\n outerTest1\nouterTearDown\nouterSetUp\n outerTest2\nouterTearDown\nouterSetUp\n innerSetUp\n  innerRepeatedTest\n innerTearDown\n innerSetUp\n  innerRepeatedTest\n innerTearDown\n innerSetUp\n  innerRepeatedTest\n innerTearDown\n innerSetUp\n  innerParameterizedTest - foo\n innerTearDown\n innerSetUp\n  innerParameterizedTest - bar\n innerTearDown\n innerSetUp\n  innerParameterizedTest - baz\n innerTearDown\n innerSetUp\n  innerTest1\n innerTearDown\n innerSetUp\n  innerTest2\n innerTearDown\nouterTearDown\n</code></pre>\n<p>If you are on Java 16+, you can also omit <code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)</code> and use <code>static</code> instead.</p>\n"}],"owner":{"account_id":1650699,"reputation":293,"user_id":1521372,"accept_rate":25,"display_name":"0x5F3759DF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694585838,"creation_date":1691074077,"question_id":76829216,"body_markdown":"The following sample test generates the output as printed below.\r\n\r\nSample test:\r\n```\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Nested;\r\nimport org.junit.jupiter.api.RepeatedTest;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.ValueSource;\r\n\r\npublic class OuterTest extends ParentTest implements TestInterface1, TestInterface2\r\n{\r\n   @BeforeEach\r\n   void outerSetup()\r\n   {\r\n      System.out.println( &quot; outerSetup&quot; );\r\n   }\r\n\r\n\r\n   @AfterEach\r\n   void outerTearDown()\r\n   {\r\n      System.out.println( &quot; outerTearDown&quot; );\r\n   }\r\n\r\n\r\n   @Test\r\n   void outerTest1()\r\n   {\r\n      System.out.println( &quot;  outerTest1&quot; );\r\n   }\r\n\r\n\r\n   @Test\r\n   void outerTest2()\r\n   {\r\n      System.out.println( &quot;  outerTest2&quot; );\r\n   }\r\n\r\n   @Nested\r\n   class InnerTest\r\n   {\r\n      @BeforeEach\r\n      void innerSetup()\r\n      {\r\n         System.out.println( &quot;  innerSetup&quot; );\r\n      }\r\n\r\n\r\n      @AfterEach\r\n      void innerTearDown()\r\n      {\r\n         System.out.println( &quot;  innerTearDown&quot; );\r\n      }\r\n\r\n\r\n      @Test\r\n      void innerTest1()\r\n      {\r\n         System.out.println( &quot;   innerTest1&quot; );\r\n      }\r\n\r\n\r\n      @Test\r\n      void innerTest2()\r\n      {\r\n         System.out.println( &quot;   innerTest2&quot; );\r\n      }\r\n\r\n\r\n      @RepeatedTest(3)\r\n      void innerRepeatedTest()\r\n      {\r\n         System.out.println( &quot;   innerRepeatedTest&quot; );\r\n      }\r\n\r\n\r\n      @ParameterizedTest\r\n      @ValueSource(strings = { &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot; })\r\n      void innerParameterizedTest( final String input )\r\n      {\r\n         System.out.println( &quot;   innerParameterizedTest - &quot; + input );\r\n      }\r\n   }\r\n}\r\n```\r\n```\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\n\r\npublic class ParentTest\r\n{\r\n   @BeforeEach\r\n   void parentSetup()\r\n   {\r\n      System.out.println( &quot;parentSetup&quot; );\r\n   }\r\n\r\n\r\n   @AfterEach\r\n   void parentTearDown()\r\n   {\r\n      System.out.println( &quot;parentTearDown&quot; );\r\n   }\r\n\r\n}\r\n```\r\n```\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\n\r\npublic interface TestInterface1\r\n{\r\n   @BeforeEach\r\n   default void interface1Setup()\r\n   {\r\n      System.out.println( &quot;interface1Setup&quot; );\r\n   }\r\n\r\n\r\n   @AfterEach\r\n   default void interface1TearDown()\r\n   {\r\n      System.out.println( &quot;interface1TearDown&quot; );\r\n   }\r\n}\r\n```\r\n```\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\n\r\npublic interface TestInterface2\r\n{\r\n   @BeforeEach\r\n   default void interface2Setup()\r\n   {\r\n      System.out.println( &quot;interface2Setup&quot; );\r\n   }\r\n\r\n\r\n   @AfterEach\r\n   default void interface2TearDown()\r\n   {\r\n      System.out.println( &quot;interface2TearDown&quot; );\r\n   }\r\n}\r\n```\r\n\r\n\r\nOutput:\r\n```\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  outerTest1\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  outerTest2\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  innerSetup\r\n   innerRepeatedTest\r\n  innerTearDown\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  innerSetup\r\n   innerRepeatedTest\r\n  innerTearDown\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  innerSetup\r\n   innerRepeatedTest\r\n  innerTearDown\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  innerSetup\r\n   innerParameterizedTest - foo\r\n  innerTearDown\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  innerSetup\r\n   innerParameterizedTest - bar\r\n  innerTearDown\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  innerSetup\r\n   innerParameterizedTest - baz\r\n  innerTearDown\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  innerSetup\r\n   innerTest1\r\n  innerTearDown\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  innerSetup\r\n   innerTest2\r\n  innerTearDown\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\n```\r\n\r\nFor our use case we want to achieve, that the `@BeforeEach`/`@AfterEach` methods are only called before/after each test in class `OuterTest` and **before the first** resp. **after the last** test in class `InnerTest`, **but not between** the tests of the inner class.\r\n\r\nSo the desired output is the following:\r\n```\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  outerTest1\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  outerTest2\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\nparentSetup\r\ninterface1Setup\r\ninterface2Setup\r\n outerSetup\r\n  innerSetup\r\n   innerRepeatedTest\r\n  innerTearDown\r\n  innerSetup\r\n   innerRepeatedTest\r\n  innerTearDown\r\n  innerSetup\r\n   innerRepeatedTest\r\n  innerTearDown\r\n  innerSetup\r\n   innerParameterizedTest - foo\r\n  innerTearDown\r\n  innerSetup\r\n   innerParameterizedTest - bar\r\n  innerTearDown\r\n  innerSetup\r\n   innerParameterizedTest - baz\r\n  innerTearDown\r\n  innerSetup\r\n   innerTest1\r\n  innerTearDown\r\n  innerSetup\r\n   innerTest2\r\n  innerTearDown\r\n outerTearDown\r\ninterface1TearDown\r\ninterface2TearDown\r\nparentTearDown\r\n```\r\n\r\nI tried to change the behavior of the `@BeforeEach`/`@AfterEach` methods by implementing an extension, which implements an `InvocationInterceptor`, but I failed to find out if a test class is the last test in the inner class, which would enable to decide, if the `@BeforeEach`/`@AfterEach` methods of the outer class should be called or not.\r\n\r\nDoes anyone know how to achieve this?\r\n\r\nThanks in advance!","title":"How to suppress execution of @BeforeEach and @AfterEach methods of outer class between tests of inner (nested) class","body":"<p>The following sample test generates the output as printed below.</p>\n<p>Sample test:</p>\n<pre><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Nested;\nimport org.junit.jupiter.api.RepeatedTest;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\n\npublic class OuterTest extends ParentTest implements TestInterface1, TestInterface2\n{\n   @BeforeEach\n   void outerSetup()\n   {\n      System.out.println( &quot; outerSetup&quot; );\n   }\n\n\n   @AfterEach\n   void outerTearDown()\n   {\n      System.out.println( &quot; outerTearDown&quot; );\n   }\n\n\n   @Test\n   void outerTest1()\n   {\n      System.out.println( &quot;  outerTest1&quot; );\n   }\n\n\n   @Test\n   void outerTest2()\n   {\n      System.out.println( &quot;  outerTest2&quot; );\n   }\n\n   @Nested\n   class InnerTest\n   {\n      @BeforeEach\n      void innerSetup()\n      {\n         System.out.println( &quot;  innerSetup&quot; );\n      }\n\n\n      @AfterEach\n      void innerTearDown()\n      {\n         System.out.println( &quot;  innerTearDown&quot; );\n      }\n\n\n      @Test\n      void innerTest1()\n      {\n         System.out.println( &quot;   innerTest1&quot; );\n      }\n\n\n      @Test\n      void innerTest2()\n      {\n         System.out.println( &quot;   innerTest2&quot; );\n      }\n\n\n      @RepeatedTest(3)\n      void innerRepeatedTest()\n      {\n         System.out.println( &quot;   innerRepeatedTest&quot; );\n      }\n\n\n      @ParameterizedTest\n      @ValueSource(strings = { &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot; })\n      void innerParameterizedTest( final String input )\n      {\n         System.out.println( &quot;   innerParameterizedTest - &quot; + input );\n      }\n   }\n}\n</code></pre>\n<pre><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\n\npublic class ParentTest\n{\n   @BeforeEach\n   void parentSetup()\n   {\n      System.out.println( &quot;parentSetup&quot; );\n   }\n\n\n   @AfterEach\n   void parentTearDown()\n   {\n      System.out.println( &quot;parentTearDown&quot; );\n   }\n\n}\n</code></pre>\n<pre><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\n\npublic interface TestInterface1\n{\n   @BeforeEach\n   default void interface1Setup()\n   {\n      System.out.println( &quot;interface1Setup&quot; );\n   }\n\n\n   @AfterEach\n   default void interface1TearDown()\n   {\n      System.out.println( &quot;interface1TearDown&quot; );\n   }\n}\n</code></pre>\n<pre><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\n\npublic interface TestInterface2\n{\n   @BeforeEach\n   default void interface2Setup()\n   {\n      System.out.println( &quot;interface2Setup&quot; );\n   }\n\n\n   @AfterEach\n   default void interface2TearDown()\n   {\n      System.out.println( &quot;interface2TearDown&quot; );\n   }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>parentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  outerTest1\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  outerTest2\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  innerSetup\n   innerRepeatedTest\n  innerTearDown\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  innerSetup\n   innerRepeatedTest\n  innerTearDown\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  innerSetup\n   innerRepeatedTest\n  innerTearDown\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  innerSetup\n   innerParameterizedTest - foo\n  innerTearDown\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  innerSetup\n   innerParameterizedTest - bar\n  innerTearDown\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  innerSetup\n   innerParameterizedTest - baz\n  innerTearDown\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  innerSetup\n   innerTest1\n  innerTearDown\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  innerSetup\n   innerTest2\n  innerTearDown\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\n</code></pre>\n<p>For our use case we want to achieve, that the <code>@BeforeEach</code>/<code>@AfterEach</code> methods are only called before/after each test in class <code>OuterTest</code> and <strong>before the first</strong> resp. <strong>after the last</strong> test in class <code>InnerTest</code>, <strong>but not between</strong> the tests of the inner class.</p>\n<p>So the desired output is the following:</p>\n<pre><code>parentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  outerTest1\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  outerTest2\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\nparentSetup\ninterface1Setup\ninterface2Setup\n outerSetup\n  innerSetup\n   innerRepeatedTest\n  innerTearDown\n  innerSetup\n   innerRepeatedTest\n  innerTearDown\n  innerSetup\n   innerRepeatedTest\n  innerTearDown\n  innerSetup\n   innerParameterizedTest - foo\n  innerTearDown\n  innerSetup\n   innerParameterizedTest - bar\n  innerTearDown\n  innerSetup\n   innerParameterizedTest - baz\n  innerTearDown\n  innerSetup\n   innerTest1\n  innerTearDown\n  innerSetup\n   innerTest2\n  innerTearDown\n outerTearDown\ninterface1TearDown\ninterface2TearDown\nparentTearDown\n</code></pre>\n<p>I tried to change the behavior of the <code>@BeforeEach</code>/<code>@AfterEach</code> methods by implementing an extension, which implements an <code>InvocationInterceptor</code>, but I failed to find out if a test class is the last test in the inner class, which would enable to decide, if the <code>@BeforeEach</code>/<code>@AfterEach</code> methods of the outer class should be called or not.</p>\n<p>Does anyone know how to achieve this?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1713257,"reputation":1760,"user_id":1570872,"accept_rate":100,"display_name":"sundar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344669939,"creation_date":1344669939,"answer_id":11912868,"question_id":11912805,"body_markdown":"Based on my understanding of your question, I assume the following snippet only you are looking for.\r\n\r\n    String[] parsedData = new String[2];\r\n    for (int i = 0; i &lt; jArray3.length(); i++) {\r\n        news_id = Integer.parseInt((json_data.getString(&quot;news_id&quot;)));\r\n    news_title = json_data.getString(&quot;news_title&quot;);\r\n    }\r\n    \r\n    parsedData[0] = news_id;\r\n    parsedData[1] = news_title;\r\n    \r\n    DifferentCls diffCls = new DifferentCls(data);\r\n    System.out.println(diffCls.toString());\r\n\r\nDifferentCls.java\r\n\r\n    private String[] data = null;\r\n    \r\n    public DifferentCls(String[] data) {\r\n     this.data = data;\r\n    }\r\n    \r\n    public String toString() {\r\n     return data[1];\r\n    }\r\n\r\n\r\n\r\n","title":"how to store string value to array string and can call that array in another class to Print as string in single line","body":"<p>Based on my understanding of your question, I assume the following snippet only you are looking for.</p>\n\n<pre><code>String[] parsedData = new String[2];\nfor (int i = 0; i &lt; jArray3.length(); i++) {\n    news_id = Integer.parseInt((json_data.getString(\"news_id\")));\nnews_title = json_data.getString(\"news_title\");\n}\n\nparsedData[0] = news_id;\nparsedData[1] = news_title;\n\nDifferentCls diffCls = new DifferentCls(data);\nSystem.out.println(diffCls.toString());\n</code></pre>\n\n<p>DifferentCls.java</p>\n\n<pre><code>private String[] data = null;\n\npublic DifferentCls(String[] data) {\n this.data = data;\n}\n\npublic String toString() {\n return data[1];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1636158,"reputation":4134,"user_id":1509578,"accept_rate":50,"display_name":"Mohammod Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344676425,"creation_date":1344676425,"answer_id":11913419,"question_id":11912805,"body_markdown":"   \r\n\r\n     news_title = json_data.getString(&quot;news_title&quot;);\r\n\r\n     Add line after the above line to add parse value  int0 string array\r\n    \r\n String[] newRow = new String[] {news_id ,news_title};\r\n\r\n**//Convert array to String**\r\n        \r\n      String asString = Arrays.toString(newRow ) ","title":"how to store string value to array string and can call that array in another class to Print as string in single line","body":"<pre><code> news_title = json_data.getString(\"news_title\");\n\n Add line after the above line to add parse value  int0 string array\n</code></pre>\n\n<p>String[] newRow = new String[] {news_id ,news_title};</p>\n\n<p><strong>//Convert array to String</strong></p>\n\n<pre><code>  String asString = Arrays.toString(newRow ) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344679546,"creation_date":1344679546,"answer_id":11913738,"question_id":11912805,"body_markdown":"**1.** I am assuming that you have **more than one title to be stored.**\r\n\r\nI am using `ArrayList&lt;String&gt;` which is **more flexible than** `Array`.\r\n\r\nCreating an ArrayList&lt;String&gt; and Storing all the title values:\r\n\r\n    ArrayList&lt;String&gt; titleArr = new ArrayList&lt;String&gt;();\r\n    \r\n    for (int i = 0; i &lt; jArray3.length(); i++) {\r\n        news_id = Integer.parseInt((json_data.getString(&quot;news_id&quot;)));\r\n        news_title = json_data.getString(&quot;news_title&quot;);\r\n        \r\n        titleArr.add(news_title);\r\n    }\r\n\r\n\r\n**2.** Now **sending it to** `another class`, where you need to Show all the titles in Single Line.\r\n\r\n \r\n\r\n    new AnotherClass().alistToString(titleArr);  \r\n                      \r\n    \r\n    // This line should be after the for-loop\r\n    // alistToString() is a method in another class          \r\n                          \r\n \r\n**3.** Another class structure.\r\n\r\n   \r\n\r\n     public class AnotherClass{\r\n    \r\n          //.................. Your code...........\r\n    \r\n    \r\n           StringBuilder sb = new StringBuilder();\r\n           String titleStr = new String();\r\n    \r\n        public void alistToString(ArrayList&lt;String&gt; arr){\r\n            \r\n        for (String s : arr){\r\n                 \r\n         sb.append(s+&quot;\\n&quot;);   // Appending each value to StrinBuilder with a space.\r\n     \r\n              }\r\n    \r\n        titleStr = sb.toString();  // Now here you have the TITLE STRING....ENJOY !!\r\n    \r\n          }\r\n    \r\n        //.................. Your code.............\r\n    \r\n       }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to store string value to array string and can call that array in another class to Print as string in single line","body":"<p><strong>1.</strong> I am assuming that you have <strong>more than one title to be stored.</strong></p>\n\n<p>I am using <code>ArrayList&lt;String&gt;</code> which is <strong>more flexible than</strong> <code>Array</code>.</p>\n\n<p>Creating an ArrayList and Storing all the title values:</p>\n\n<pre><code>ArrayList&lt;String&gt; titleArr = new ArrayList&lt;String&gt;();\n\nfor (int i = 0; i &lt; jArray3.length(); i++) {\n    news_id = Integer.parseInt((json_data.getString(\"news_id\")));\n    news_title = json_data.getString(\"news_title\");\n\n    titleArr.add(news_title);\n}\n</code></pre>\n\n<p><strong>2.</strong> Now <strong>sending it to</strong> <code>another class</code>, where you need to Show all the titles in Single Line.</p>\n\n<pre><code>new AnotherClass().alistToString(titleArr);  \n\n\n// This line should be after the for-loop\n// alistToString() is a method in another class          \n</code></pre>\n\n<p><strong>3.</strong> Another class structure.</p>\n\n<pre><code> public class AnotherClass{\n\n      //.................. Your code...........\n\n\n       StringBuilder sb = new StringBuilder();\n       String titleStr = new String();\n\n    public void alistToString(ArrayList&lt;String&gt; arr){\n\n    for (String s : arr){\n\n     sb.append(s+\"\\n\");   // Appending each value to StrinBuilder with a space.\n\n          }\n\n    titleStr = sb.toString();  // Now here you have the TITLE STRING....ENJOY !!\n\n      }\n\n    //.................. Your code.............\n\n   }\n</code></pre>\n"}],"owner":{"account_id":1663282,"reputation":63,"user_id":1531170,"accept_rate":56,"display_name":"user1531170"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694584845,"creation_date":1344669306,"question_id":11912805,"body_markdown":"I&#39;m trying to do some work on Mobile apps.\r\nI have parser in `class: A`\r\n\r\n\r\n    for (int i = 0; i &lt; jArray3.length(); i++) {\r\n    \tnews_id = Integer.parseInt((json_data.getString(&quot;news_id&quot;)));\r\n        news_title = json_data.getString(&quot;news_title&quot;);\r\n    }\r\n\r\n\r\nI have to parse and get value of id and title. Now I want to store this title in array and call another class. In that class we have to convert that array into `String` so that i can print that title value in single line.\r\n\r\nHow can I implement this can u post some code for me?","title":"how to store string value to array string and can call that array in another class to Print as string in single line","body":"<p>I'm trying to do some work on Mobile apps.\nI have parser in <code>class: A</code></p>\n\n<pre><code>for (int i = 0; i &lt; jArray3.length(); i++) {\n    news_id = Integer.parseInt((json_data.getString(\"news_id\")));\n    news_title = json_data.getString(\"news_title\");\n}\n</code></pre>\n\n<p>I have to parse and get value of id and title. Now I want to store this title in array and call another class. In that class we have to convert that array into <code>String</code> so that i can print that title value in single line.</p>\n\n<p>How can I implement this can u post some code for me?</p>\n"},{"tags":["java","intellij-idea","build"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645435664,"post_id":71203856,"comment_id":125861991,"body_markdown":"Check if this helps: https://stackoverflow.com/questions/64336525/how-do-i-fix-an-error-in-intellij-that-prevents-me-from-running-my-projects","body":"Check if this helps: <a href=\"https://stackoverflow.com/questions/64336525/how-do-i-fix-an-error-in-intellij-that-prevents-me-from-running-my-projects\" title=\"how do i fix an error in intellij that prevents me from running my projects\">stackoverflow.com/questions/64336525/&hellip;</a>"},{"owner":{"account_id":18312201,"reputation":340,"user_id":13334778,"display_name":"abhinit21"},"score":0,"creation_date":1645435879,"post_id":71203856,"comment_id":125862077,"body_markdown":"@pringi I saw that thread. Noting working for him too. He replied wait for the next update . . .","body":"@pringi I saw that thread. Noting working for him too. He replied wait for the next update . . ."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645436466,"post_id":71203856,"comment_id":125862289,"body_markdown":"What version of Intellij, what version of java? Try also to run from command line and check the errors you obtain. I think the problem will be related with Java modules. See this: https://stackoverflow.com/questions/67782975/how-to-fix-the-module-java-base-does-not-opens-java-io-to-unnamed-module","body":"What version of Intellij, what version of java? Try also to run from command line and check the errors you obtain. I think the problem will be related with Java modules. See this: <a href=\"https://stackoverflow.com/questions/67782975/how-to-fix-the-module-java-base-does-not-opens-java-io-to-unnamed-module\" title=\"how to fix the module java base does not opens java io to unnamed module\">stackoverflow.com/questions/67782975/&hellip;</a>"},{"owner":{"account_id":9173385,"reputation":113,"user_id":6819984,"accept_rate":80,"display_name":"Siddiqui"},"score":1,"creation_date":1645440554,"post_id":71203856,"comment_id":125863756,"body_markdown":"Have you tried creating a new project with just your source code to see if that builds? Or reinstalling IntelliJ?","body":"Have you tried creating a new project with just your source code to see if that builds? Or reinstalling IntelliJ?"},{"owner":{"account_id":18312201,"reputation":340,"user_id":13334778,"display_name":"abhinit21"},"score":0,"creation_date":1645468434,"post_id":71203856,"comment_id":125874624,"body_markdown":"not i have not tried to re-install yet . . . I want to understand the error too. I will do if nothing works.","body":"not i have not tried to re-install yet . . . I want to understand the error too. I will do if nothing works."},{"owner":{"account_id":7862958,"reputation":823,"user_id":5942721,"display_name":"Mr.O"},"score":1,"creation_date":1664025225,"post_id":71203856,"comment_id":130379631,"body_markdown":"@abhinit21 did you manage to find out what the issue was or how to fix it? Same thing happened to me, was working fine and suddenly this without any changes.","body":"@abhinit21 did you manage to find out what the issue was or how to fix it? Same thing happened to me, was working fine and suddenly this without any changes."},{"owner":{"account_id":18312201,"reputation":340,"user_id":13334778,"display_name":"abhinit21"},"score":1,"creation_date":1664115320,"post_id":71203856,"comment_id":130392652,"body_markdown":"@Mr.O in my case I have deleted the build output folder &quot;target&quot; and then re-build the project solved the issue\n\nI have got help from -&gt; intellj https://youtrack.jetbrains.com/issue/IDEA-289413/Build-Failed-While-saving-caches-Java-11","body":"@Mr.O in my case I have deleted the build output folder &quot;target&quot; and then re-build the project solved the issue  I have got help from -&gt; intellj <a href=\"https://youtrack.jetbrains.com/issue/IDEA-289413/Build-Failed-While-saving-caches-Java-11\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-289413/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25761000,"reputation":31,"user_id":19511939,"display_name":"Wong Mars"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694584811,"creation_date":1694532839,"answer_id":77090626,"question_id":71203856,"body_markdown":"I have this problem recently. My solution is that find out the most possible file produce this error, such as the most recent edit file (such as xxx.java). The files have to be guessed. Copy a backup of the code and delete that file. Then try to compile again, (of course cancel or comment the other linkages to that file) until the project can be compiled. Then re-new the java files with same name and same code just deleted before. The project will be as same as before. Finally, it compiles normally.","title":"Intellij Idea java Build Failed production: java.lang.ClassCastException","body":"<p>I have this problem recently. My solution is that find out the most possible file produce this error, such as the most recent edit file (such as xxx.java). The files have to be guessed. Copy a backup of the code and delete that file. Then try to compile again, (of course cancel or comment the other linkages to that file) until the project can be compiled. Then re-new the java files with same name and same code just deleted before. The project will be as same as before. Finally, it compiles normally.</p>\n"}],"owner":{"account_id":18312201,"reputation":340,"user_id":13334778,"display_name":"abhinit21"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1768,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694584811,"creation_date":1645435425,"question_id":71203856,"body_markdown":"When I tried to **Run** a `.java` file during the **build** I got the following ***Error***\r\n\r\n&gt; *Module &#39;JAVA-Workspace&#39; production: java.lang.ClassCastException: class org.jetbrains.jps.builders.java.dependencyView.TypeRepr$PrimitiveType cannot be cast to class org.jetbrains.jps.builders.java.dependencyView.TypeRepr$ClassType (org.jetbrains.jps.builders.java.dependencyView.TypeRepr$PrimitiveType and org.jetbrains.jps.builders.java.dependencyView.TypeRepr$ClassType are in unnamed module of loader java.net.URLClassLoader @490d6c15)*\r\n\r\n&#39;JAVA-Workspace&#39; is my project directory.\r\nIt was fine a few minutes ago I was debugging the same file.\r\nI did not install any new plugins at the time.\r\n**Java 11** | [![Intellj Version][1]][1]\r\n\r\nI tried : \r\n\r\n - Remove caches and indexes by `Invalidate and Restart` **&lt;** `Invalidate Caches` **&lt;** `File`.\r\n - Delete `.idea` in root directory of the project.\r\n\r\nThank You\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xwwfi.png","title":"Intellij Idea java Build Failed production: java.lang.ClassCastException","body":"<p>When I tried to <strong>Run</strong> a <code>.java</code> file during the <strong>build</strong> I got the following <em><strong>Error</strong></em></p>\n<blockquote>\n<p><em>Module 'JAVA-Workspace' production: java.lang.ClassCastException: class org.jetbrains.jps.builders.java.dependencyView.TypeRepr$PrimitiveType cannot be cast to class org.jetbrains.jps.builders.java.dependencyView.TypeRepr$ClassType (org.jetbrains.jps.builders.java.dependencyView.TypeRepr$PrimitiveType and org.jetbrains.jps.builders.java.dependencyView.TypeRepr$ClassType are in unnamed module of loader java.net.URLClassLoader @490d6c15)</em></p>\n</blockquote>\n<p>'JAVA-Workspace' is my project directory.\nIt was fine a few minutes ago I was debugging the same file.\nI did not install any new plugins at the time.\n<strong>Java 11</strong> | <a href=\"https://i.stack.imgur.com/Xwwfi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xwwfi.png\" alt=\"Intellj Version\" /></a></p>\n<p>I tried :</p>\n<ul>\n<li>Remove caches and indexes by <code>Invalidate and Restart</code> <strong>&lt;</strong> <code>Invalidate Caches</code> <strong>&lt;</strong> <code>File</code>.</li>\n<li>Delete <code>.idea</code> in root directory of the project.</li>\n</ul>\n<p>Thank You</p>\n"},{"tags":["java","spring-boot","rest","microservices","grpc"],"answers":[{"tags":[],"owner":{"account_id":13694291,"reputation":1731,"user_id":9881381,"display_name":"JTinkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694337734,"creation_date":1694337734,"answer_id":77075486,"question_id":77075144,"body_markdown":"**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;your-service&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- gRPC dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.42.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.42.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.42.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- REST dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n**application.properties**\r\n\r\n    # gRPC server port\r\n    grpc.server.port=9000\r\n\r\n    # REST server port\r\n    server.port=8080\r\n","title":"How can i use REST and gRPC in same spring boot project?","body":"<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;your-service&lt;/artifactId&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- gRPC dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n        &lt;version&gt;1.42.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n        &lt;version&gt;1.42.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n        &lt;version&gt;1.42.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- REST dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n<pre><code># gRPC server port\ngrpc.server.port=9000\n\n# REST server port\nserver.port=8080\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14037957,"reputation":23,"user_id":10140186,"display_name":"Divyanshu Supehia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694584640,"creation_date":1694584640,"answer_id":77094386,"question_id":77075144,"body_markdown":"You can use *grpc-gateway* to bind them. You would find the link below and regarding your same port issue if you are going to use gRPC in microservice you can use the **grpc-spring-boot-starters**. You will the link to both below:\r\n\r\nhttps://github.com/grpc-ecosystem/grpc-gateway\r\n\r\nhttps://github.com/yidongnan/grpc-spring-boot-starter/","title":"How can i use REST and gRPC in same spring boot project?","body":"<p>You can use <em>grpc-gateway</em> to bind them. You would find the link below and regarding your same port issue if you are going to use gRPC in microservice you can use the <strong>grpc-spring-boot-starters</strong>. You will the link to both below:</p>\n<p><a href=\"https://github.com/grpc-ecosystem/grpc-gateway\" rel=\"nofollow noreferrer\">https://github.com/grpc-ecosystem/grpc-gateway</a></p>\n<p><a href=\"https://github.com/yidongnan/grpc-spring-boot-starter/\" rel=\"nofollow noreferrer\">https://github.com/yidongnan/grpc-spring-boot-starter/</a></p>\n"}],"owner":{"account_id":13272268,"reputation":315,"user_id":9582882,"display_name":"Kakarot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694584640,"creation_date":1694330501,"question_id":77075144,"body_markdown":"I am creating a service that will have gRPC endpoints for inter-service communications\r\nand REST endpoint for the client browser.\r\n\r\nwhat will the pom.xml be for it?\r\n\r\nsince the gRPC server runs on 9000 and REST runs on 8080, how will this work?","title":"How can i use REST and gRPC in same spring boot project?","body":"<p>I am creating a service that will have gRPC endpoints for inter-service communications\nand REST endpoint for the client browser.</p>\n<p>what will the pom.xml be for it?</p>\n<p>since the gRPC server runs on 9000 and REST runs on 8080, how will this work?</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694584479,"creation_date":1694584479,"answer_id":77094378,"question_id":77093701,"body_markdown":"Try this:  \r\n\r\n \r\n\r\n     public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            final Data data = getItem(position);\r\n        \r\n            // Set the selection state for itemView\r\n            holder.itemView.setSelected(data.isSelected());\r\n        \r\n            // Set the selection state for ivLike (if you want it to behave differently)\r\n            holder.ivLike.setSelected(isLikeItem(data.getFormIdx()));\r\n        }\r\n\r\n\r\nAnd \r\n\r\n    void initClickListeners(ViewHolder holder) {\r\n        holder.itemView.setOnClickListener(v -&gt; {\r\n            Data data = getItem(holder.getAdapterPosition());\r\n            \r\n            // Toggle the isSelected state of the Data object\r\n            data.setSelected(!data.isSelected());\r\n    \r\n            // Update the itemView&#39;s selection state\r\n            holder.itemView.setSelected(data.isSelected());\r\n    \r\n            // Notify the adapter that the item has changed\r\n            notifyItemChanged(holder.getAdapterPosition());\r\n        });\r\n    \r\n        holder.ivLike.setOnClickListener(v -&gt; {\r\n            Data data = getItem(holder.getAdapterPosition());\r\n            \r\n            // Modify the isSelected state of the Data object based on your logic\r\n            // For example, toggle it or set it to a specific value\r\n            data.setSelected(!data.isSelected());\r\n    \r\n            // Update the itemView&#39;s selection state\r\n            holder.itemView.setSelected(data.isSelected());\r\n    \r\n            // Notify the adapter that the item has changed\r\n            notifyItemChanged(holder.getAdapterPosition());\r\n        });\r\n    }\r\n\r\n\r\n","title":"What is the function of holder.itemView.setSelected in onBindViewHolder","body":"<p>Try this:</p>\n<pre><code> public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        final Data data = getItem(position);\n    \n        // Set the selection state for itemView\n        holder.itemView.setSelected(data.isSelected());\n    \n        // Set the selection state for ivLike (if you want it to behave differently)\n        holder.ivLike.setSelected(isLikeItem(data.getFormIdx()));\n    }\n</code></pre>\n<p>And</p>\n<pre><code>void initClickListeners(ViewHolder holder) {\n    holder.itemView.setOnClickListener(v -&gt; {\n        Data data = getItem(holder.getAdapterPosition());\n        \n        // Toggle the isSelected state of the Data object\n        data.setSelected(!data.isSelected());\n\n        // Update the itemView's selection state\n        holder.itemView.setSelected(data.isSelected());\n\n        // Notify the adapter that the item has changed\n        notifyItemChanged(holder.getAdapterPosition());\n    });\n\n    holder.ivLike.setOnClickListener(v -&gt; {\n        Data data = getItem(holder.getAdapterPosition());\n        \n        // Modify the isSelected state of the Data object based on your logic\n        // For example, toggle it or set it to a specific value\n        data.setSelected(!data.isSelected());\n\n        // Update the itemView's selection state\n        holder.itemView.setSelected(data.isSelected());\n\n        // Notify the adapter that the item has changed\n        notifyItemChanged(holder.getAdapterPosition());\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":28960416,"reputation":1,"user_id":22183010,"display_name":"osj0524"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694584479,"creation_date":1694572495,"question_id":77093701,"body_markdown":"I created inintClickListners function and that is called onCreateViewHolder.\r\nBelow is the code I created\r\n\r\n```\r\ninitClickListeners(ViewHolder holder){\r\n\r\nholder.itemView.setOnclickListener( v -&gt; {\r\nData data = getItem(holder.getAdapterPostition());\r\ndata.setSelected(!holder.itemView.isSelected());\r\nnotifyItemChanged(holder.getAdapterPosition());\r\n});\r\n\r\nholder.ivLike.setOnClickListener(v -&gt; {\r\n                Data data = getItem(holder.getAdapterPosition());\r\n                        selectedAdpater.notifyFormDataChange(holder.getAdapterPosition());\r\n                        String idx = data .getFormIdx();\r\n                        notifyItemChanged(holder.getAdapterPosition());\r\n                    }\r\n                });\r\n            });\r\n}\r\n\r\n```\r\nFirstly, the itemView is the ConstrainLayout of ivLike.and ivLike is ImageView What I want is for the selectorDrawable to act differently when ivLike is pressed compared to when the itemView is pressed. While it applies separately when ivLike is pressed, it applies to the entire area when the itemView is pressed. \r\nand I have defined holder.itemView.setSelected and holder.ivLike.setSelected in OnBindViewHolder\r\n\r\n```\r\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            final Data data= (Data) getItem(position);\r\n\r\n            holder.ivLike.setSelected(isLikeItem(data.getFormIdx()));\r\n            holder.itemView.setSelected(data.isSelected());\r\n        }\r\n```\r\n\r\n\r\n\r\n&quot;To modify the code, I created holder.itemView.setSelected(!holder.itemView.isSelected()); within the initClickListeners function. While the selector worked as expected separately, what I really want is for itemView.setSelected to maintain its state based on a value within the Data. However, it doesn&#39;t retain its state, and I&#39;m having a hard time figuring it out. Please help.&quot;","title":"What is the function of holder.itemView.setSelected in onBindViewHolder","body":"<p>I created inintClickListners function and that is called onCreateViewHolder.\nBelow is the code I created</p>\n<pre><code>initClickListeners(ViewHolder holder){\n\nholder.itemView.setOnclickListener( v -&gt; {\nData data = getItem(holder.getAdapterPostition());\ndata.setSelected(!holder.itemView.isSelected());\nnotifyItemChanged(holder.getAdapterPosition());\n});\n\nholder.ivLike.setOnClickListener(v -&gt; {\n                Data data = getItem(holder.getAdapterPosition());\n                        selectedAdpater.notifyFormDataChange(holder.getAdapterPosition());\n                        String idx = data .getFormIdx();\n                        notifyItemChanged(holder.getAdapterPosition());\n                    }\n                });\n            });\n}\n\n</code></pre>\n<p>Firstly, the itemView is the ConstrainLayout of ivLike.and ivLike is ImageView What I want is for the selectorDrawable to act differently when ivLike is pressed compared to when the itemView is pressed. While it applies separately when ivLike is pressed, it applies to the entire area when the itemView is pressed.\nand I have defined holder.itemView.setSelected and holder.ivLike.setSelected in OnBindViewHolder</p>\n<pre><code>public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n            final Data data= (Data) getItem(position);\n\n            holder.ivLike.setSelected(isLikeItem(data.getFormIdx()));\n            holder.itemView.setSelected(data.isSelected());\n        }\n</code></pre>\n<p>&quot;To modify the code, I created holder.itemView.setSelected(!holder.itemView.isSelected()); within the initClickListeners function. While the selector worked as expected separately, what I really want is for itemView.setSelected to maintain its state based on a value within the Data. However, it doesn't retain its state, and I'm having a hard time figuring it out. Please help.&quot;</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":1,"creation_date":1374855766,"post_id":17886255,"comment_id":26120773,"body_markdown":"a simple *.java file? how about copy/paste?","body":"a simple *.java file? how about copy/paste?"}],"answers":[{"tags":[],"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"down_vote_count":3,"up_vote_count":10,"is_accepted":true,"score":7,"last_activity_date":1374855456,"creation_date":1374855456,"answer_id":17886279,"question_id":17886255,"body_markdown":"you can not import into the same folder bcz no OS allow to create multiple folder of the same name in same parent. instead, you put the folder being imported somewhere else, and while importing it to workspace, check the option to &quot;copy into workspace&quot;","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>you can not import into the same folder bcz no OS allow to create multiple folder of the same name in same parent. instead, you put the folder being imported somewhere else, and while importing it to workspace, check the option to \"copy into workspace\"</p>\n"},{"tags":[],"owner":{"account_id":3054362,"reputation":1039,"user_id":2588329,"display_name":"Buzz Killington"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1458115685,"creation_date":1374855908,"answer_id":17886414,"question_id":17886255,"body_markdown":"If you added (outside of Eclipse) a file to a source directory for your project, you should be able to get the file to show up in Eclipse by right-clicking your source folder in the Eclipse Package Explorer and selecting &quot;Refresh&quot; .","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>If you added (outside of Eclipse) a file to a source directory for your project, you should be able to get the file to show up in Eclipse by right-clicking your source folder in the Eclipse Package Explorer and selecting \"Refresh\" .</p>\n"},{"tags":[],"owner":{"account_id":5668897,"reputation":31,"user_id":4484232,"display_name":"gillian bc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466265270,"creation_date":1466265270,"answer_id":37898890,"question_id":17886255,"body_markdown":"You&#39;ve set up your Eclipse workspace and source code to be in the same folder i.e. the folder where your Eclipse .metadata resides is the same place as all your folders of code.  Ideally, the folder for Eclipse&#39;s metadata should be somewhere else.  (I did the same thing myself and then ran into all sorts of problems).","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>You've set up your Eclipse workspace and source code to be in the same folder i.e. the folder where your Eclipse .metadata resides is the same place as all your folders of code.  Ideally, the folder for Eclipse's metadata should be somewhere else.  (I did the same thing myself and then ran into all sorts of problems).</p>\n"},{"tags":[],"owner":{"account_id":4674010,"reputation":1029,"user_id":3785010,"display_name":"user3785010"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1507995779,"creation_date":1507995779,"answer_id":46746327,"question_id":17886255,"body_markdown":"As of October 2017, using Eclipse Oxygen 2017.1, I found that to accomplish what the OP wanted to do is not to what your natural instincts tell you to do.\r\n\r\nIn my case, I originally developed the code on Computer A in directory c:\\projects\\abc\\ and copied the directory to computer B in directory c:\\projects\\abc\\ outside of Eclipse.\r\n\r\nInstead of\r\n \r\nImport / General / File System /\r\n\r\nwhich gives the error the OP mentioned, you instead need to:\r\n\r\nImport / General / Projects from Folder or Archive /\r\n\r\nWhen the dialog opens, point the &quot;Import source:&quot; to your already-present-where-it-needs-to-be directory (example: c:\\projects\\abc\\).\r\n\r\nI left everything else to the defaults.\r\n\r\nClick Finish.\r\n\r\nWhen I return to Project Explorer, I did NOT need to Refresh the window.  The project automatically showed up.","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>As of October 2017, using Eclipse Oxygen 2017.1, I found that to accomplish what the OP wanted to do is not to what your natural instincts tell you to do.</p>\n\n<p>In my case, I originally developed the code on Computer A in directory c:\\projects\\abc\\ and copied the directory to computer B in directory c:\\projects\\abc\\ outside of Eclipse.</p>\n\n<p>Instead of</p>\n\n<p>Import / General / File System /</p>\n\n<p>which gives the error the OP mentioned, you instead need to:</p>\n\n<p>Import / General / Projects from Folder or Archive /</p>\n\n<p>When the dialog opens, point the \"Import source:\" to your already-present-where-it-needs-to-be directory (example: c:\\projects\\abc).</p>\n\n<p>I left everything else to the defaults.</p>\n\n<p>Click Finish.</p>\n\n<p>When I return to Project Explorer, I did NOT need to Refresh the window.  The project automatically showed up.</p>\n"},{"tags":[],"owner":{"account_id":1108020,"reputation":1799,"user_id":1099007,"display_name":"Quantium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631790539,"creation_date":1631790539,"answer_id":69207349,"question_id":17886255,"body_markdown":"To expand on @user3785010 answer, I found that using `Import &gt; General &gt; Existing Projects into Workspace` worked for me with Eclipse Platform Version: 2021-09 (4.21). \r\n\r\nWhen I tried `Import &gt; General &gt; Projects from Folder or Archive`, I pressed Finish and nothing happened.","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>To expand on @user3785010 answer, I found that using <code>Import &gt; General &gt; Existing Projects into Workspace</code> worked for me with Eclipse Platform Version: 2021-09 (4.21).</p>\n<p>When I tried <code>Import &gt; General &gt; Projects from Folder or Archive</code>, I pressed Finish and nothing happened.</p>\n"},{"tags":[],"owner":{"account_id":6821334,"reputation":1175,"user_id":5248400,"accept_rate":50,"display_name":"MikeZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694583759,"creation_date":1694575846,"answer_id":77093874,"question_id":17886255,"body_markdown":"Here&#39;s what worked for me:\r\n\r\n1. File -&gt; Import the file from File System into the project folder\r\n2. Add it to the Build Path\r\n\r\nIt was added with the relative path in the project.\r\n\r\nIt shows Ok in Java Build Path and in .classpath, though [*] the project folder in Eclipse does not show the imported file.\r\n","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>Here's what worked for me:</p>\n<ol>\n<li>File -&gt; Import the file from File System into the project folder</li>\n<li>Add it to the Build Path</li>\n</ol>\n<p>It was added with the relative path in the project.</p>\n<p>It shows Ok in Java Build Path and in .classpath, though [*] the project folder in Eclipse does not show the imported file.</p>\n"}],"owner":{"account_id":1482932,"reputation":3238,"user_id":1391850,"accept_rate":80,"display_name":"turtlesoup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39124,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":17886279,"answer_count":6,"score":15,"last_activity_date":1694583759,"creation_date":1374855377,"question_id":17886255,"body_markdown":"I wanted to import a file which was originally not imported into the source folder in Eclipse \r\n\r\nWhat I did was: \r\n\r\n 1. I tried placing the file directory into a source file folder, which obviously did not work.\r\n\r\n 2. Then I right-clicked on `folder-&gt;import-&gt;File System` and tried to import that file, but eclipse then complains `Source is in the hierarchy of destination`. &lt;br&gt;\r\nWhat I did in the end was move the source file out of that folder, then import it back in from a different path, which I find really redundant. \r\n\r\nWhat&#39;s the best way to include a file like that? Thanks in advance. ","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>I wanted to import a file which was originally not imported into the source folder in Eclipse </p>\n\n<p>What I did was: </p>\n\n<ol>\n<li><p>I tried placing the file directory into a source file folder, which obviously did not work.</p></li>\n<li><p>Then I right-clicked on <code>folder-&gt;import-&gt;File System</code> and tried to import that file, but eclipse then complains <code>Source is in the hierarchy of destination</code>. <br>\nWhat I did in the end was move the source file out of that folder, then import it back in from a different path, which I find really redundant. </p></li>\n</ol>\n\n<p>What's the best way to include a file like that? Thanks in advance. </p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1692875775,"post_id":76967863,"comment_id":135684800,"body_markdown":"What value is in `selectedAffectedTupleIds` in the test? And related, what about the variable `affectedIds`? Should that be used on the request?","body":"What value is in <code>selectedAffectedTupleIds</code> in the test? And related, what about the variable <code>affectedIds</code>? Should that be used on the request?"},{"owner":{"account_id":19678234,"reputation":1,"user_id":14405866,"display_name":"shikhar saxena"},"score":0,"creation_date":1692892700,"post_id":76967863,"comment_id":135688910,"body_markdown":"I have changed the code..the place where `selectedAffectedTupleIds` has been changed to `affectedIds`.  The `affectedIds` contains a `List&lt;List&lt;Long&gt;&gt;` as it is clear from the code block. Also, it is further used in the service so it is used in request.","body":"I have changed the code..the place where <code>selectedAffectedTupleIds</code> has been changed to <code>affectedIds</code>.  The <code>affectedIds</code> contains a <code>List&lt;List&lt;Long&gt;&gt;</code> as it is clear from the code block. Also, it is further used in the service so it is used in request."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692943309,"post_id":76967863,"comment_id":135695785,"body_markdown":"Do _not_ mix `@SpringBootTest` and `@Mock`/`@InjectMocks`. It&#39;s really time for a canonical question about this, there are far too many questions with this misconception","body":"Do <i>not</i> mix <code>@SpringBootTest</code> and <code>@Mock</code>/<code>@InjectMocks</code>. It&#39;s really time for a canonical question about this, there are far too many questions with this misconception"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693474221,"post_id":76967863,"comment_id":135766922,"body_markdown":"How should Spring know that `content(…).content(…).content(…)` maps to the three request parts? You never specify a name. You cannot chain them, each invocation overwrites the value of the previous call.","body":"How should Spring know that <code>content(…).content(…).content(…)</code> maps to the three request parts? You never specify a name. You cannot chain them, each invocation overwrites the value of the previous call."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693474315,"post_id":76967863,"comment_id":135766941,"body_markdown":"And since you are annotating your inputs with `@RequestPart` (&quot;Annotation that can be used to associate the part of a &quot;multipart/form-data&quot; request with a method argument.&quot;), why do you then make a request with `application/json` as content type (`contentType(MediaType.APPLICATION_JSON_UTF8)`)?","body":"And since you are annotating your inputs with <code>@RequestPart</code> (&quot;Annotation that can be used to associate the part of a &quot;multipart/form-data&quot; request with a method argument.&quot;), why do you then make a request with <code>application&#47;json</code> as content type (<code>contentType(MediaType.APPLICATION_JSON_UTF8)</code>)?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693486160,"post_id":76967863,"comment_id":135769387,"body_markdown":"cont&#39;d I assume `procId` and `procedureId` should be the same variable in your test (otherwise, the test does not compile). Gven they are, you are only sending the JSON body `11` to your endpoint (the number 11)","body":"cont&#39;d I assume <code>procId</code> and <code>procedureId</code> should be the same variable in your test (otherwise, the test does not compile). Gven they are, you are only sending the JSON body <code>11</code> to your endpoint (the number 11)"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693486700,"post_id":76967863,"comment_id":135769511,"body_markdown":"It would be very helpful to include how you expect your endpoint to be called. With a JSON payload or with a multipart/form-data payload? Perhaps include a working `curl` call for your running application, then it is possible to help/suggest a working test setup.","body":"It would be very helpful to include how you expect your endpoint to be called. With a JSON payload or with a multipart/form-data payload? Perhaps include a working <code>curl</code> call for your running application, then it is possible to help/suggest a working test setup."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693567954,"creation_date":1692943436,"answer_id":76974608,"question_id":76967863,"body_markdown":"You must _not_ mix `@SpringBootTest` and `@InjectMocks`/`@Mock` annotations. If you do, Spring (and thus MockMvc) will be unable to find and use use the correct beans. Also, you don&#39;t need to extend with `SpringExtension`, `@SpringBootTest` already takes care of that.\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\nclass MyControllerTest {\r\n\r\n    @Autowired    // &lt;- wire from application context\r\n    private MyController myController;\r\n\r\n    @MockBean     // &lt;- register mock bean in application context\r\n    private MyService myService;\r\n\r\n    @Autowired(required=true)\r\n    private MockMvc mockMvc;\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nOther issues with the given code:\r\n\r\n* `.content(s)` overwrites any content previously set. Multiple calls are _not_ additive. Your controller only receives the payload `11` (without quotes; the quotes are part of Java&#39;s syntax).\r\n* `@RequestPart` is for `multipart/form-data` requests only, but in your test you set content-type to `application/json`.","title":"Mocking of a nested list as @RequestPart in JUnit","body":"<p>You must <em>not</em> mix <code>@SpringBootTest</code> and <code>@InjectMocks</code>/<code>@Mock</code> annotations. If you do, Spring (and thus MockMvc) will be unable to find and use use the correct beans. Also, you don't need to extend with <code>SpringExtension</code>, <code>@SpringBootTest</code> already takes care of that.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\nclass MyControllerTest {\n\n    @Autowired    // &lt;- wire from application context\n    private MyController myController;\n\n    @MockBean     // &lt;- register mock bean in application context\n    private MyService myService;\n\n    @Autowired(required=true)\n    private MockMvc mockMvc;\n\n    // ...\n}\n</code></pre>\n<p>Other issues with the given code:</p>\n<ul>\n<li><code>.content(s)</code> overwrites any content previously set. Multiple calls are <em>not</em> additive. Your controller only receives the payload <code>11</code> (without quotes; the quotes are part of Java's syntax).</li>\n<li><code>@RequestPart</code> is for <code>multipart/form-data</code> requests only, but in your test you set content-type to <code>application/json</code>.</li>\n</ul>\n"}],"owner":{"account_id":19678234,"reputation":1,"user_id":14405866,"display_name":"shikhar saxena"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694583728,"creation_date":1692868508,"question_id":76967863,"body_markdown":"I have a Rest Controller for which I need to write JUnit in a Springboot application. Below is the code for the same\r\n```\r\n@PutMapping(&quot;/update/{id}&quot;)\r\npublic void update(\r\n        @PathVariable(name = &quot;id&quot;) Long id,\r\n        @RequestPart List&lt;List&lt;Long&gt;&gt; affectedIds,\r\n        @RequestPart String compatibility,\r\n        @RequestPart(name = &quot;procId&quot;) String procId,\r\n        @RequestHeader(value = &quot;timeZone&quot;) String timeZone) {\r\n\r\n    TimeZone userTimeZone = TimeZone.getTimeZone(timeZone);\r\n    myService.update(\r\n            id, affectedIds, compatibility, Long.parseLong(procId), userTimeZone);\r\n}\r\n```\r\n\r\n\r\nI tried writing the JUnit for which below is the code\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\nclass MyControllerTest {\r\n\r\n    @InjectMocks\r\n    private MyController myController;\r\n\r\n    @Mock\r\n    private MyService myService;\r\n\r\n    @Autowired(required=true)\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    void update() throws Exception {\r\n\r\n        Long id = 123L;\r\n        List&lt;List&lt;Long&gt;&gt; affectedIds = List.of(\r\n                List.of(1L, 2L),\r\n                List.of(3L, 4L)\r\n        );\r\n        String compatibility = &quot;oncecompatible&quot;;\r\n        String procId = &quot;11&quot;;\r\n        String timeZone = &quot;UTC&quot;;\r\n\r\n        TimeZone userTimeZone = TimeZone.getTimeZone(timeZone);\r\n\r\n        doNothing().when(myService).update(id, affectedIds, compatibility,\r\n                Long.parseLong(procId), userTimeZone);\r\n\r\n        ObjectMapper mapper = createObjectMapper();\r\n        String s = mapper.writeValueAsString(affectedIds);\r\n\r\n        ResultActions response = mockMvc.perform(MockMvcRequestBuilders.put\r\n                (&quot;/api/proc/check/update/{id}&quot;, id)\r\n                .content(s)\r\n                .content(compatibility)\r\n                .content(procId)\r\n                .header(&quot;timeZone&quot;, timeZone)\r\n                .contentType(MediaType.APPLICATION_JSON_UTF8)\r\n                .accept(MediaType.APPLICATION_JSON_UTF8));\r\n\r\n        response.andExpect(status().isOk());\r\n\r\n    }\r\n\r\n    private static ObjectMapper createObjectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n        mapper.registerModule(new JavaTimeModule());\r\n        return mapper;\r\n    }\r\n\r\n}\r\n```\r\nThe thing is that when I run this test case I am getting this error:\r\n\r\n```\r\norg.springframework.web.multipart.support.MissingServletRequestPartException: Required request part &#39;affectedIds&#39; is not present.\r\n```\r\nI have tried different other ways but not a success. I am not able to get how to send the **affectedIds** parameter in the mock request.\r\n\r\n&gt; P.S. - I have used the createObjectMapper() as per the suggestion from one of the articles of stackoverflow.\r\n","title":"Mocking of a nested list as @RequestPart in JUnit","body":"<p>I have a Rest Controller for which I need to write JUnit in a Springboot application. Below is the code for the same</p>\n<pre><code>@PutMapping(&quot;/update/{id}&quot;)\npublic void update(\n        @PathVariable(name = &quot;id&quot;) Long id,\n        @RequestPart List&lt;List&lt;Long&gt;&gt; affectedIds,\n        @RequestPart String compatibility,\n        @RequestPart(name = &quot;procId&quot;) String procId,\n        @RequestHeader(value = &quot;timeZone&quot;) String timeZone) {\n\n    TimeZone userTimeZone = TimeZone.getTimeZone(timeZone);\n    myService.update(\n            id, affectedIds, compatibility, Long.parseLong(procId), userTimeZone);\n}\n</code></pre>\n<p>I tried writing the JUnit for which below is the code</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@AutoConfigureMockMvc\nclass MyControllerTest {\n\n    @InjectMocks\n    private MyController myController;\n\n    @Mock\n    private MyService myService;\n\n    @Autowired(required=true)\n    private MockMvc mockMvc;\n\n    @Test\n    void update() throws Exception {\n\n        Long id = 123L;\n        List&lt;List&lt;Long&gt;&gt; affectedIds = List.of(\n                List.of(1L, 2L),\n                List.of(3L, 4L)\n        );\n        String compatibility = &quot;oncecompatible&quot;;\n        String procId = &quot;11&quot;;\n        String timeZone = &quot;UTC&quot;;\n\n        TimeZone userTimeZone = TimeZone.getTimeZone(timeZone);\n\n        doNothing().when(myService).update(id, affectedIds, compatibility,\n                Long.parseLong(procId), userTimeZone);\n\n        ObjectMapper mapper = createObjectMapper();\n        String s = mapper.writeValueAsString(affectedIds);\n\n        ResultActions response = mockMvc.perform(MockMvcRequestBuilders.put\n                (&quot;/api/proc/check/update/{id}&quot;, id)\n                .content(s)\n                .content(compatibility)\n                .content(procId)\n                .header(&quot;timeZone&quot;, timeZone)\n                .contentType(MediaType.APPLICATION_JSON_UTF8)\n                .accept(MediaType.APPLICATION_JSON_UTF8));\n\n        response.andExpect(status().isOk());\n\n    }\n\n    private static ObjectMapper createObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n        mapper.registerModule(new JavaTimeModule());\n        return mapper;\n    }\n\n}\n</code></pre>\n<p>The thing is that when I run this test case I am getting this error:</p>\n<pre><code>org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'affectedIds' is not present.\n</code></pre>\n<p>I have tried different other ways but not a success. I am not able to get how to send the <strong>affectedIds</strong> parameter in the mock request.</p>\n<blockquote>\n<p>P.S. - I have used the createObjectMapper() as per the suggestion from one of the articles of stackoverflow.</p>\n</blockquote>\n"},{"tags":["java"],"owner":{"account_id":29428323,"reputation":1,"user_id":22548491,"display_name":"Manju KV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694582883,"creation_date":1694582883,"question_id":77094275,"body_markdown":"I ran a load test in j-meter am getting same respose time in both 95% &amp; 99% whats the issues?\r\n\r\nAfter load test in j-meter 95% and 99% colum should give different response time is there any issues in ramp-up time or any payload issues.","title":"J-Meter Aggregate Report","body":"<p>I ran a load test in j-meter am getting same respose time in both 95% &amp; 99% whats the issues?</p>\n<p>After load test in j-meter 95% and 99% colum should give different response time is there any issues in ramp-up time or any payload issues.</p>\n"},{"tags":["java","spring","javax-validation"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694518348,"post_id":77088418,"comment_id":135898500,"body_markdown":"Why do you need to call this validator explicitly? The entire purpose of the bean validation framework is that you annotate your classes with constraint annotations (`MyAnnotation`), then let instances be validated. Validation automagically occurs in WebMVC methods if the request body argument is annotated with `@Valid` (other bean methods perhaps as well, not sure). And you can always autowire a `Validator` and call that directly.","body":"Why do you need to call this validator explicitly? The entire purpose of the bean validation framework is that you annotate your classes with constraint annotations (<code>MyAnnotation</code>), then let instances be validated. Validation automagically occurs in WebMVC methods if the request body argument is annotated with <code>@Valid</code> (other bean methods perhaps as well, not sure). And you can always autowire a <code>Validator</code> and call that directly."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694519129,"post_id":77088418,"comment_id":135898675,"body_markdown":"@RobSpoor long story short: the validator is the object that has the task to know the list of valid elements, which is a configuration determined at runtime; so I&#39;m using such list to customize the property enum in the autogenerated swagger.","body":"@RobSpoor long story short: the validator is the object that has the task to know the list of valid elements, which is a configuration determined at runtime; so I&#39;m using such list to customize the property enum in the autogenerated swagger."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694522736,"post_id":77088418,"comment_id":135899527,"body_markdown":"For Spring to know what to do with the validator it needs to be a bean. Either through added it to xml, java config as abean or by annotating it with `@Component`.","body":"For Spring to know what to do with the validator it needs to be a bean. Either through added it to xml, java config as abean or by annotating it with <code>@Component</code>."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694525487,"post_id":77088418,"comment_id":135900226,"body_markdown":"@M.Deinum not completely correct, I added a reproducible example.","body":"@M.Deinum not completely correct, I added a reproducible example."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694525658,"post_id":77088418,"comment_id":135900268,"body_markdown":"You are right. I keep forgetting that with newer Spring (or actual javax/jakarta validation) it is possible to inject a container through which validators pass (the same holds for JPA for instance). So yes this will work, but no they aren&#39;t beans they are still managed by the validation API and not Spring. If you want to access them through Spring you need to make them beans.","body":"You are right. I keep forgetting that with newer Spring (or actual javax/jakarta validation) it is possible to inject a container through which validators pass (the same holds for JPA for instance). So yes this will work, but no they aren&#39;t beans they are still managed by the validation API and not Spring. If you want to access them through Spring you need to make them beans."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694526039,"post_id":77088418,"comment_id":135900369,"body_markdown":"@M.Deinum this is exactly what I&#39;m asking :) Spring knows how to handle the validators and the same validator instance is used for different requests; so such &quot;bean-like&quot; instance must be somewhere; possible that there is no api to retrieve them, without making the validator a fully-fledged bean?","body":"@M.Deinum this is exactly what I&#39;m asking :) Spring knows how to handle the validators and the same validator instance is used for different requests; so such &quot;bean-like&quot; instance must be somewhere; possible that there is no api to retrieve them, without making the validator a fully-fledged bean?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694526045,"post_id":77088418,"comment_id":135900372,"body_markdown":"To make them beans you have various options, xml, javaconfig or you could use component scanning. You could add an include filter that for each class implementing `ConstraintValidator` a bean needs to be created. That way you wouldn&#39;t need to change your vallidators.","body":"To make them beans you have various options, xml, javaconfig or you could use component scanning. You could add an include filter that for each class implementing <code>ConstraintValidator</code> a bean needs to be created. That way you wouldn&#39;t need to change your vallidators."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694526231,"post_id":77088418,"comment_id":135900418,"body_markdown":"They are not beans. They are created on the fly and injected as such. This is done through the `SpringWebConstraintValidatorFactory`. So there is no bean instance or whatsoever available.","body":"They are not beans. They are created on the fly and injected as such. This is done through the <code>SpringWebConstraintValidatorFactory</code>. So there is no bean instance or whatsoever available."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694526593,"post_id":77088418,"comment_id":135900526,"body_markdown":"@M.Deinum I would say that SpringWebConstraintValidatorFactory is exactly the class I was searching... and now that I read it, it might be a better idea to annotate them as components! If you have the time to post a summary answer I will accept it.","body":"@M.Deinum I would say that SpringWebConstraintValidatorFactory is exactly the class I was searching... and now that I read it, it might be a better idea to annotate them as components! If you have the time to post a summary answer I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694527004,"creation_date":1694527004,"answer_id":77089822,"question_id":77088418,"body_markdown":"The Validation API has support to have dependencies injected into the `ConstraintValidator` based on the annotation metadata. This has nothing to do with Spring but is supported by the Validation API. \r\n\r\nTo support the injection there is the `[javax.jakarta].validation.ConstraintValidatorFactory` interface. Spring has 2 implementations for this, but commonly used is the `SpringWebConstraintValidatorFactory`.\r\n\r\nWhat happens is that when validation is requested based on the annotations present the Validation API will call `ConstraintValidatorFactory.create` to get an instance of the needed validator(s). \r\n\r\nSpring will construct an instance on the fly and if there are `@Autowired` or `@Inject` fields (or constructors), Spring will happily inject the dependencies. \r\n\r\nThe created validators are NOT Spring Managed beans. The lifecycle of those validators is totally in control of the Validation API and not Spring. As such they are also not retrievable from the `ApplicationContext`, unless you explictly make them beans. \r\n\r\nTo make them beans you can do 1 of several things. \r\n\r\n1. Annotate them with `@Component`. \r\n2. Create an `@Configuration` class with `@Bean` methods\r\n3. Create an XML file to register them as beans\r\n4. Add an `@ComponentScan(includeFilter = @Filter(type=ASSIGNABLE_TYPE, classes = ConstraintValidator.class)`.\r\n\r\nEither will (or can) result in your validators being Spring managed. ","title":"How to retrieve the javax ConstraintValidator handled by Spring?","body":"<p>The Validation API has support to have dependencies injected into the <code>ConstraintValidator</code> based on the annotation metadata. This has nothing to do with Spring but is supported by the Validation API.</p>\n<p>To support the injection there is the <code>[javax.jakarta].validation.ConstraintValidatorFactory</code> interface. Spring has 2 implementations for this, but commonly used is the <code>SpringWebConstraintValidatorFactory</code>.</p>\n<p>What happens is that when validation is requested based on the annotations present the Validation API will call <code>ConstraintValidatorFactory.create</code> to get an instance of the needed validator(s).</p>\n<p>Spring will construct an instance on the fly and if there are <code>@Autowired</code> or <code>@Inject</code> fields (or constructors), Spring will happily inject the dependencies.</p>\n<p>The created validators are NOT Spring Managed beans. The lifecycle of those validators is totally in control of the Validation API and not Spring. As such they are also not retrievable from the <code>ApplicationContext</code>, unless you explictly make them beans.</p>\n<p>To make them beans you can do 1 of several things.</p>\n<ol>\n<li>Annotate them with <code>@Component</code>.</li>\n<li>Create an <code>@Configuration</code> class with <code>@Bean</code> methods</li>\n<li>Create an XML file to register them as beans</li>\n<li>Add an <code>@ComponentScan(includeFilter = @Filter(type=ASSIGNABLE_TYPE, classes = ConstraintValidator.class)</code>.</li>\n</ol>\n<p>Either will (or can) result in your validators being Spring managed.</p>\n"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77089822,"answer_count":1,"score":-2,"last_activity_date":1694582172,"creation_date":1694515763,"question_id":77088418,"body_markdown":"As seen in this [Baeldung example](https://www.baeldung.com/spring-mvc-custom-validator), it is possible to write plain old `javax.validation` objects and Spring is able to manage them. For example, it is possible to perform field injection in a validator without annotating it as a component:\r\n\r\n    public class MyValidator implements ConstraintValidator&lt;MyAnnotation, String&gt; {\r\n    \r\n        @Autowired\r\n        private MyBean bean;\r\n    \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n           return bean.getValidElements().contains(value);\r\n        }\r\n\r\n    }\r\n\r\nYet, `MyValidator` is not a Spring bean: a `beanFactory.getBean(MyValidator.class)` (or an `applicationContext.getBean(MyValidator.class)`) will throw\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;my.package.MyValidator&#39; available\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\r\nThis can be fixed adding a `@Component` annotation on `MyValidator`, but maybe it is cleaner to not annotate them as components: I have several validators that extends a common abstract class, so I&#39;m planning to annotate that class [in this way](https://stackoverflow.com/questions/43195970/inherit-component-in-spring), but I feel it would be more maintenable to just have a `beanFactory.getBean(MyValidator.class)` of sorts and keep each validator as plain as possible.\r\n\r\nIs there a way to retrieve the validators without annotating them as components, as Spring already manage them somehow? A minimal example can be found [here](https://github.com/dcolazin/reprexes/tree/main/SO_77088418).","title":"How to retrieve the javax ConstraintValidator handled by Spring?","body":"<p>As seen in this <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">Baeldung example</a>, it is possible to write plain old <code>javax.validation</code> objects and Spring is able to manage them. For example, it is possible to perform field injection in a validator without annotating it as a component:</p>\n<pre><code>public class MyValidator implements ConstraintValidator&lt;MyAnnotation, String&gt; {\n\n    @Autowired\n    private MyBean bean;\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n       return bean.getValidElements().contains(value);\n    }\n\n}\n</code></pre>\n<p>Yet, <code>MyValidator</code> is not a Spring bean: a <code>beanFactory.getBean(MyValidator.class)</code> (or an <code>applicationContext.getBean(MyValidator.class)</code>) will throw</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'my.package.MyValidator' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n</code></pre>\n<p>This can be fixed adding a <code>@Component</code> annotation on <code>MyValidator</code>, but maybe it is cleaner to not annotate them as components: I have several validators that extends a common abstract class, so I'm planning to annotate that class <a href=\"https://stackoverflow.com/questions/43195970/inherit-component-in-spring\">in this way</a>, but I feel it would be more maintenable to just have a <code>beanFactory.getBean(MyValidator.class)</code> of sorts and keep each validator as plain as possible.</p>\n<p>Is there a way to retrieve the validators without annotating them as components, as Spring already manage them somehow? A minimal example can be found <a href=\"https://github.com/dcolazin/reprexes/tree/main/SO_77088418\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","algorithmic-trading","moving-average","technical-indicator"],"answers":[{"tags":[],"owner":{"account_id":15051456,"reputation":11,"user_id":10863070,"display_name":"Guillermo Nunez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694582069,"creation_date":1694582069,"answer_id":77094221,"question_id":72875826,"body_markdown":"I made a library to calculate the wma, I share it with you\r\n\r\n    package com.personal.tools;\r\n\r\n\r\n    public class WMA {\r\n    private int period;\r\n\r\n    public WMA(int period) {\r\n        this.period = period;\r\n    }\r\n\r\n    public double[] calculate(final double[] prizes) {\r\n        double[] results = new double[prizes.length - period + 1];\r\n        double wma;\r\n        int j = 0;\r\n        for (int i = period - 1; i &lt; prizes.length; i++) {\r\n            double[] prizesAux = new double[period];\r\n            System.arraycopy(prizes, i - period + 1, prizesAux, 0, period);\r\n            wma = calculateWMA(prizesAux);\r\n            results[j++] = wma;\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    private double calculateWMA(final double[] prizes){\r\n        double wma=0.0;\r\n        int total = 0;\r\n\r\n        for (int i = 0; i &lt; prizes.length; i++) {\r\n            wma += prizes[i]*(i+1);\r\n            total+= i+1;\r\n        }\r\n        wma= wma/(double)total;\r\n\r\n        return wma;\r\n    }\r\n\r\n    }\r\n\r\nI also share how you would use it:\r\n\r\n    package com.personal.pruebas;\r\n\r\n    import com.personal.tools.WMA;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class PruebaWMA {\r\n    public PruebaWMA() {\r\n        double[] precios = {32.52,35.19,48.63,45.54,31.17,41.77,25.07,-1.67,25.60,8.42,4.07,10.05,11.60,12.80,9.24,-1.95,5.30,15.70};\r\n        WMA wma =new WMA(10);\r\n        double[] wmaTable = wma.calculate(precios);\r\n        Arrays.stream(wmaTable).forEach(System.out::println);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new PruebaWMA();\r\n    }\r\n    }\r\n\r\nI hope it is helpful","title":"Calculate hull moving average using Java","body":"<p>I made a library to calculate the wma, I share it with you</p>\n<pre><code>package com.personal.tools;\n\n\npublic class WMA {\nprivate int period;\n\npublic WMA(int period) {\n    this.period = period;\n}\n\npublic double[] calculate(final double[] prizes) {\n    double[] results = new double[prizes.length - period + 1];\n    double wma;\n    int j = 0;\n    for (int i = period - 1; i &lt; prizes.length; i++) {\n        double[] prizesAux = new double[period];\n        System.arraycopy(prizes, i - period + 1, prizesAux, 0, period);\n        wma = calculateWMA(prizesAux);\n        results[j++] = wma;\n    }\n\n    return results;\n}\n\nprivate double calculateWMA(final double[] prizes){\n    double wma=0.0;\n    int total = 0;\n\n    for (int i = 0; i &lt; prizes.length; i++) {\n        wma += prizes[i]*(i+1);\n        total+= i+1;\n    }\n    wma= wma/(double)total;\n\n    return wma;\n}\n\n}\n</code></pre>\n<p>I also share how you would use it:</p>\n<pre><code>package com.personal.pruebas;\n\nimport com.personal.tools.WMA;\n\nimport java.util.Arrays;\n\npublic class PruebaWMA {\npublic PruebaWMA() {\n    double[] precios = {32.52,35.19,48.63,45.54,31.17,41.77,25.07,-1.67,25.60,8.42,4.07,10.05,11.60,12.80,9.24,-1.95,5.30,15.70};\n    WMA wma =new WMA(10);\n    double[] wmaTable = wma.calculate(precios);\n    Arrays.stream(wmaTable).forEach(System.out::println);\n}\n\npublic static void main(String[] args) {\n    new PruebaWMA();\n}\n}\n</code></pre>\n<p>I hope it is helpful</p>\n"}],"owner":{"account_id":25735221,"reputation":11,"user_id":19490102,"display_name":"AroenvR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694582069,"creation_date":1657057058,"question_id":72875826,"body_markdown":"First question on StackOverflow so I apologize if I&#39;m not being clear with my question.\r\n\r\nI&#39;m trying to create a Hull Moving Average using Java, but clearly I am stuck on something.\r\n\r\nThe only formula I can find all over the internet is as follows (n == period in days):  \r\nHMA = **WMA(2 * WMA(n/2) − WMA(n)), sqrt(n))**\r\n\r\nOn TradingView&#39;s PineScript editor I have a working HMA, although I do not personally understand how it works:\r\n```typescript\r\nf_hma(_src, _length)=&gt;\r\n    //HMA = WMA(2*WMA(n/2) − WMA(n)),sqrt(n))\r\n    _return = wma((2 * wma(_src, _length / 2)) - wma(_src, _length), round(sqrt(_length)))\r\n\r\nsrc = input(close)\r\nlength = input(250)\r\n\r\nhma = f_hma(src, length)\r\n\r\nplot(series=hma, title=&#39;250 HMA&#39;, color=#F39C12)\r\n```\r\n\r\nOkay so somehow I&#39;ve gotten this far.  \r\nNow I&#39;m trying to create it in Java, and that&#39;s where every thing goes south.  \r\nHow do you calculate a WMA with an input of 1 and length the square root of a period?\r\n\r\nFor example:\r\n```java\r\npublic double hma(String crypto, int period) {\r\n        // Fetching data from JPA\r\n        Pageable paging = PageRequest.of(0, period, Sort.by(&quot;dateTime&quot;).descending());\r\n        Page&lt;CryptoData&gt; dataPage = cryptoRepo.findCryptoDataByName(crypto, paging);\r\n        List&lt;Double&gt; prices = new ArrayList&lt;&gt;();\r\n        \r\n        // Sorting data\r\n        for (int i = dataPage.getSize(); i &gt; 0; i--) {\r\n            prices.add(dataPage.getContent().get(i - 1).getClose());\r\n        }\r\n        \r\n        // hma calculations start here:\r\n        double wma1 = 2 * wma(prices, (int)Math.round(period / 2.0));\r\n        double wma2 = wma(prices, period);\r\n\r\n        // According to the internet formula, this should be the &#39;smoothing wma&#39;, but it makes no sense to me.\r\n        return wma(List.of(wma1 - wma2), (int)Math.round(sqrt(period)));\r\n    }\r\n```\r\n\r\nThe helping wma function I&#39;ve currently created:\r\n```java\r\npublic double wma(List&lt;Double&gt; prices, int period) {\r\n        List&lt;Double&gt; updatedList = new ArrayList&lt;&gt;();\r\n\r\n        // For wma1, only use the last half of the prices list\r\n        if (period == prices.size() / 2) {\r\n            for (int i = 0; i &lt; prices.size(); i++) {\r\n                if (i &gt;= period) {\r\n                    updatedList.add(prices.get(i));\r\n                }\r\n            }\r\n        }\r\n        // For the hma&#39;s returning wma value\r\n        else if (period &gt; prices.size()) {\r\n            // I have no idea what to do here.\r\n            // prices.size() == 1 so there&#39;s nothing to calculate the wma with.\r\n        }\r\n        // For wma2, use the whole prices list\r\n        else {\r\n            updatedList = prices;\r\n        }\r\n\r\n        // WMA calculations, this part is a-okay.\r\n        double totalWeight = ((double)period * (period + 1)) / 2;\r\n\r\n        double pricePoint = 0;\r\n        double weightCounter = 1;\r\n        for (Double value: updatedList) {\r\n            // https://blog.earn2trade.com/weighted-moving-average/\r\n            double wma = value * (weightCounter / totalWeight);\r\n            pricePoint += wma;\r\n\r\n            weightCounter++;\r\n        }\r\n        return pricePoint;\r\n    }\r\n```\r\n  \r\nWhat am I misunderstanding?","title":"Calculate hull moving average using Java","body":"<p>First question on StackOverflow so I apologize if I'm not being clear with my question.</p>\n<p>I'm trying to create a Hull Moving Average using Java, but clearly I am stuck on something.</p>\n<p>The only formula I can find all over the internet is as follows (n == period in days):<br />\nHMA = <strong>WMA(2 * WMA(n/2) − WMA(n)), sqrt(n))</strong></p>\n<p>On TradingView's PineScript editor I have a working HMA, although I do not personally understand how it works:</p>\n<pre class=\"lang-js prettyprint-override\"><code>f_hma(_src, _length)=&gt;\n    //HMA = WMA(2*WMA(n/2) − WMA(n)),sqrt(n))\n    _return = wma((2 * wma(_src, _length / 2)) - wma(_src, _length), round(sqrt(_length)))\n\nsrc = input(close)\nlength = input(250)\n\nhma = f_hma(src, length)\n\nplot(series=hma, title='250 HMA', color=#F39C12)\n</code></pre>\n<p>Okay so somehow I've gotten this far.<br />\nNow I'm trying to create it in Java, and that's where every thing goes south.<br />\nHow do you calculate a WMA with an input of 1 and length the square root of a period?</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double hma(String crypto, int period) {\n        // Fetching data from JPA\n        Pageable paging = PageRequest.of(0, period, Sort.by(&quot;dateTime&quot;).descending());\n        Page&lt;CryptoData&gt; dataPage = cryptoRepo.findCryptoDataByName(crypto, paging);\n        List&lt;Double&gt; prices = new ArrayList&lt;&gt;();\n        \n        // Sorting data\n        for (int i = dataPage.getSize(); i &gt; 0; i--) {\n            prices.add(dataPage.getContent().get(i - 1).getClose());\n        }\n        \n        // hma calculations start here:\n        double wma1 = 2 * wma(prices, (int)Math.round(period / 2.0));\n        double wma2 = wma(prices, period);\n\n        // According to the internet formula, this should be the 'smoothing wma', but it makes no sense to me.\n        return wma(List.of(wma1 - wma2), (int)Math.round(sqrt(period)));\n    }\n</code></pre>\n<p>The helping wma function I've currently created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double wma(List&lt;Double&gt; prices, int period) {\n        List&lt;Double&gt; updatedList = new ArrayList&lt;&gt;();\n\n        // For wma1, only use the last half of the prices list\n        if (period == prices.size() / 2) {\n            for (int i = 0; i &lt; prices.size(); i++) {\n                if (i &gt;= period) {\n                    updatedList.add(prices.get(i));\n                }\n            }\n        }\n        // For the hma's returning wma value\n        else if (period &gt; prices.size()) {\n            // I have no idea what to do here.\n            // prices.size() == 1 so there's nothing to calculate the wma with.\n        }\n        // For wma2, use the whole prices list\n        else {\n            updatedList = prices;\n        }\n\n        // WMA calculations, this part is a-okay.\n        double totalWeight = ((double)period * (period + 1)) / 2;\n\n        double pricePoint = 0;\n        double weightCounter = 1;\n        for (Double value: updatedList) {\n            // https://blog.earn2trade.com/weighted-moving-average/\n            double wma = value * (weightCounter / totalWeight);\n            pricePoint += wma;\n\n            weightCounter++;\n        }\n        return pricePoint;\n    }\n</code></pre>\n<p>What am I misunderstanding?</p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":2450090,"reputation":4212,"user_id":2136603,"accept_rate":45,"display_name":"Mubin"},"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1620541860,"creation_date":1371666079,"answer_id":17198527,"question_id":17198337,"body_markdown":"Anyone looking for a solution in iText7, please use the solution from @BadLeo, which is to use `document.add(new AreaBreak());`\r\n\r\n***Below answer is applicable for versions prior to 7.***\r\n\r\nCalling `document.newPage()` tells iText to place subsequent objects on a new page. The new page will only actually get created when you place the next object. Also, `newPage()` only creates a new page if the current page is not blank; otherwise, it&#39;s ignored; you can use `setPageBlank(false)` to overcome that.\r\n\r\nRefer below link for an example: \r\nhttp://itextpdf.com/examples/iia.php?id=99 (Edit: dead 404)\r\n\r\nSince the above link is dead, adding example code for anyone who is till using version prior to iText7.\r\n\r\n    /**\r\n     * Creates from the given Collection of images an pdf file.\r\n     *\r\n     * @param result\r\n     *            the output stream from the pdf file where the images shell be written.\r\n     * @param images\r\n     *            the BufferedImage collection to be written in the pdf file.\r\n     * @throws DocumentException\r\n     *             is thrown if an error occurs when trying to get an instance of {@link PdfWriter}.\r\n     * @throws IOException\r\n     *             Signals that an I/O exception has occurred.\r\n     */\r\n    public static void createPdf(final OutputStream result, final List&lt;BufferedImage&gt; images)\r\n      throws DocumentException, IOException\r\n    {\r\n      final Document document = new Document();\r\n      PdfWriter.getInstance(document, result);\r\n      for (final BufferedImage image : images)\r\n      {\r\n        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ImageIO.write(image, &quot;png&quot;, baos);\r\n        final Image img = Image.getInstance(baos.toByteArray());\r\n        document.setPageSize(img);\r\n        document.setPageBlank(false);\r\n        document.newPage();\r\n        img.setAbsolutePosition(0, 0);\r\n        document.add(img);\r\n      }\r\n      document.close();\r\n    }","title":"how can I make a page break using itext","body":"<p>Anyone looking for a solution in iText7, please use the solution from @BadLeo, which is to use <code>document.add(new AreaBreak());</code></p>\n<p><em><strong>Below answer is applicable for versions prior to 7.</strong></em></p>\n<p>Calling <code>document.newPage()</code> tells iText to place subsequent objects on a new page. The new page will only actually get created when you place the next object. Also, <code>newPage()</code> only creates a new page if the current page is not blank; otherwise, it's ignored; you can use <code>setPageBlank(false)</code> to overcome that.</p>\n<p>Refer below link for an example:\n<a href=\"http://itextpdf.com/examples/iia.php?id=99\" rel=\"noreferrer\">http://itextpdf.com/examples/iia.php?id=99</a> (Edit: dead 404)</p>\n<p>Since the above link is dead, adding example code for anyone who is till using version prior to iText7.</p>\n<pre><code>/**\n * Creates from the given Collection of images an pdf file.\n *\n * @param result\n *            the output stream from the pdf file where the images shell be written.\n * @param images\n *            the BufferedImage collection to be written in the pdf file.\n * @throws DocumentException\n *             is thrown if an error occurs when trying to get an instance of {@link PdfWriter}.\n * @throws IOException\n *             Signals that an I/O exception has occurred.\n */\npublic static void createPdf(final OutputStream result, final List&lt;BufferedImage&gt; images)\n  throws DocumentException, IOException\n{\n  final Document document = new Document();\n  PdfWriter.getInstance(document, result);\n  for (final BufferedImage image : images)\n  {\n    final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ImageIO.write(image, &quot;png&quot;, baos);\n    final Image img = Image.getInstance(baos.toByteArray());\n    document.setPageSize(img);\n    document.setPageBlank(false);\n    document.newPage();\n    img.setAbsolutePosition(0, 0);\n    document.add(img);\n  }\n  document.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4164117,"reputation":435,"user_id":3413473,"display_name":"BadLeo"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1478870027,"creation_date":1478855391,"answer_id":40544535,"question_id":17198337,"body_markdown":"For iText7 try:\r\n\r\n    document.add(new AreaBreak());\r\n\r\nSource: http://itextsupport.com/apidocs/itext7/7.0.0/com/itextpdf/layout/element/AreaBreak.html","title":"how can I make a page break using itext","body":"<p>For iText7 try:</p>\n\n<pre><code>document.add(new AreaBreak());\n</code></pre>\n\n<p>Source: <a href=\"http://itextsupport.com/apidocs/itext7/7.0.0/com/itextpdf/layout/element/AreaBreak.html\" rel=\"noreferrer\">http://itextsupport.com/apidocs/itext7/7.0.0/com/itextpdf/layout/element/AreaBreak.html</a></p>\n"},{"tags":[],"owner":{"account_id":27418205,"reputation":21,"user_id":20917066,"display_name":"Dương Phạm Th&#225;i"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694581742,"creation_date":1694581676,"answer_id":77094203,"question_id":17198337,"body_markdown":"in itext 7, try:\r\n\r\noutside loop:\r\n\r\n    pdfDocument.addNewPage();\r\n\r\ninside loop:\r\n\r\n    document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n\r\n\r\n","title":"how can I make a page break using itext","body":"<p>in itext 7, try:</p>\n<p>outside loop:</p>\n<pre><code>pdfDocument.addNewPage();\n</code></pre>\n<p>inside loop:</p>\n<pre><code>document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n</code></pre>\n"}],"owner":{"account_id":555200,"reputation":2154,"user_id":2107987,"accept_rate":91,"display_name":"meyquel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58287,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":17198527,"answer_count":3,"score":32,"last_activity_date":1694581742,"creation_date":1371665492,"question_id":17198337,"body_markdown":"I want to generate a pdf using itext. I would at some point while the content was added to make a page break. I need to insert several separate conenidos dependence origin so I ask the user to do so on separate pages. Any ideas???","title":"how can I make a page break using itext","body":"<p>I want to generate a pdf using itext. I would at some point while the content was added to make a page break. I need to insert several separate conenidos dependence origin so I ask the user to do so on separate pages. Any ideas???</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1694580990,"post_id":77094115,"comment_id":135908269,"body_markdown":"Please include your performance test in the question.","body":"Please include your performance test in the question."},{"owner":{"account_id":3120239,"reputation":11,"user_id":2640162,"display_name":"fooshy"},"score":0,"creation_date":1694581538,"post_id":77094115,"comment_id":135908321,"body_markdown":"Apologies. Threw it in just now.","body":"Apologies. Threw it in just now."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1694582968,"post_id":77094115,"comment_id":135908464,"body_markdown":"I cannot reproduce the results with JMH. They take approximately the same amount of time. Can you do the same tests with [JMH](https://github.com/openjdk/jmh)?","body":"I cannot reproduce the results with JMH. They take approximately the same amount of time. Can you do the same tests with <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a>?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1694583005,"post_id":77094115,"comment_id":135908471,"body_markdown":"See also https://stackoverflow.com/q/504103/5133585","body":"See also <a href=\"https://stackoverflow.com/q/504103/5133585\">stackoverflow.com/q/504103/5133585</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694584146,"post_id":77094115,"comment_id":135908593,"body_markdown":"This is almost certainly a flaw in your measurement technique, not a reflection of the real behavior.","body":"This is almost certainly a flaw in your measurement technique, not a reflection of the real behavior."},{"owner":{"account_id":3120239,"reputation":11,"user_id":2640162,"display_name":"fooshy"},"score":0,"creation_date":1694585641,"post_id":77094115,"comment_id":135908823,"body_markdown":"I accept that argument @LouisWasserman and knew it was probably the case. A lot of my confusion stemmed from being able to switch around the methods, and the anyMatch method would still appear slower. I just ran through JMH as suggested by Sweeper and can see they are in fact extremely similar, which still confuses me to be honest.","body":"I accept that argument @LouisWasserman and knew it was probably the case. A lot of my confusion stemmed from being able to switch around the methods, and the anyMatch method would still appear slower. I just ran through JMH as suggested by Sweeper and can see they are in fact extremely similar, which still confuses me to be honest."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694590404,"post_id":77094115,"comment_id":135909594,"body_markdown":"Why would that be surprising?  They&#39;re computing the same result, you&#39;d hope they optimize to the same thing.","body":"Why would that be surprising?  They&#39;re computing the same result, you&#39;d hope they optimize to the same thing."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1694590650,"post_id":77094115,"comment_id":135909632,"body_markdown":"In tests in the post you are missing `start = System.nanoTime();` before you start the `anyMatch` tests (except before the very first test)","body":"In tests in the post you are missing <code>start = System.nanoTime();</code> before you start the <code>anyMatch</code> tests (except before the very first test)"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694594173,"post_id":77094115,"comment_id":135910309,"body_markdown":"Unless you really need the first occurrence, I would use `findAny` over `findFirst`. For sequential streams they probably do the same, but for parallel streams an order is imposed, which may lead to unnecessary blocking.","body":"Unless you really need the first occurrence, I would use <code>findAny</code> over <code>findFirst</code>. For sequential streams they probably do the same, but for parallel streams an order is imposed, which may lead to unnecessary blocking."}],"owner":{"account_id":3120239,"reputation":11,"user_id":2640162,"display_name":"fooshy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694581521,"creation_date":1694580372,"question_id":77094115,"body_markdown":"This question is probably going to be silly, but I have been thinking about it for a few days now and haven&#39;t been able to find an answer.\r\n\r\nI was writing a function recently and IntelliJ gave me a highlight hint suggesting I change a line which finds if an element exists in a collection with a particular parameter present. I streamed a Set as the collection, and my line was something like:\r\n\r\n```\r\nboolean result1 = numbers.stream().filter(n -&gt; {\r\n            return n.number == 5;\r\n        }).findFirst().isPresent();\r\n```\r\n\r\nThe suggested change from IntelliJ was to use the ```anyMatch``` method as follows:\r\n\r\n```\r\nboolean result2 = numbers.stream().anyMatch(n -&gt; {\r\n            return n.number == 5;\r\n        });\r\n```\r\n\r\nThe suggestion from IntelliJ is technically correct - ```anyMatch``` returns the exact value I am expecting, but for some reason I wanted to test it against the original method used which returns Optional&lt;T&gt; and see just how much faster it was - but for some reason it wasn&#39;t. The tests kept showing that the original was almost always twice (or more) times faster than ```anyMatch```.\r\n\r\nIs this a hardware/software/environment issue? Am I looking at this too simplistically? I can&#39;t put my finger on what is possibly going on here.\r\n\r\nThe performance test I was running was as follows:\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        class TestObject {\r\n            int number;\r\n\r\n            TestObject(int num) {\r\n                this.number = num;\r\n            }\r\n        }\r\n\r\n        Set&lt;TestObject&gt; numbers = new HashSet&lt;&gt;();\r\n        Set&lt;TestObject&gt; numbers1 = new HashSet&lt;&gt;();\r\n        Set&lt;TestObject&gt; numbers2 = new HashSet&lt;&gt;();\r\n\r\n        for(int i = 0; i &lt; 1000; i++) {\r\n            numbers.add(new TestObject(i));\r\n        }\r\n\r\n        for(int i = 0; i &lt; 10000; i++) {\r\n            numbers1.add(new TestObject(i));\r\n        }\r\n\r\n        for(int i = 0; i &lt; 100000; i++) {\r\n            numbers2.add(new TestObject(i));\r\n        }\r\n\r\n        Long start = System.nanoTime();\r\n\r\n        boolean result = numbers.stream().anyMatch(n -&gt; {\r\n            return n.number == 500;\r\n        });\r\n        System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\r\n\r\n        start = System.nanoTime();\r\n        result = numbers.stream().filter(n -&gt; {;\r\n            return n.number == 500;\r\n        }).findFirst().isPresent();\r\n        System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\r\n\r\n        result = numbers.stream().anyMatch(n -&gt; {\r\n            return n.number == 5000;\r\n        });\r\n        System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\r\n\r\n        start = System.nanoTime();\r\n        result = numbers.stream().filter(n -&gt; {\r\n            return n.number == 5000;\r\n        }).findFirst().isPresent();\r\n        System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\r\n\r\n        result = numbers.stream().anyMatch(n -&gt; {\r\n            return n.number == 50000;\r\n        });\r\n        System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\r\n\r\n        start = System.nanoTime();\r\n        result = numbers.stream().filter(n -&gt; {\r\n            return n.number == 50000;\r\n        }).findFirst().isPresent();\r\n        System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\r\n        }\r\n    }","title":"Why (from Stream) is filter + findFirst + isPresent faster than filter + anyMatch?","body":"<p>This question is probably going to be silly, but I have been thinking about it for a few days now and haven't been able to find an answer.</p>\n<p>I was writing a function recently and IntelliJ gave me a highlight hint suggesting I change a line which finds if an element exists in a collection with a particular parameter present. I streamed a Set as the collection, and my line was something like:</p>\n<pre><code>boolean result1 = numbers.stream().filter(n -&gt; {\n            return n.number == 5;\n        }).findFirst().isPresent();\n</code></pre>\n<p>The suggested change from IntelliJ was to use the <code>anyMatch</code> method as follows:</p>\n<pre><code>boolean result2 = numbers.stream().anyMatch(n -&gt; {\n            return n.number == 5;\n        });\n</code></pre>\n<p>The suggestion from IntelliJ is technically correct - <code>anyMatch</code> returns the exact value I am expecting, but for some reason I wanted to test it against the original method used which returns Optional and see just how much faster it was - but for some reason it wasn't. The tests kept showing that the original was almost always twice (or more) times faster than <code>anyMatch</code>.</p>\n<p>Is this a hardware/software/environment issue? Am I looking at this too simplistically? I can't put my finger on what is possibly going on here.</p>\n<p>The performance test I was running was as follows:</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    class TestObject {\n        int number;\n\n        TestObject(int num) {\n            this.number = num;\n        }\n    }\n\n    Set&lt;TestObject&gt; numbers = new HashSet&lt;&gt;();\n    Set&lt;TestObject&gt; numbers1 = new HashSet&lt;&gt;();\n    Set&lt;TestObject&gt; numbers2 = new HashSet&lt;&gt;();\n\n    for(int i = 0; i &lt; 1000; i++) {\n        numbers.add(new TestObject(i));\n    }\n\n    for(int i = 0; i &lt; 10000; i++) {\n        numbers1.add(new TestObject(i));\n    }\n\n    for(int i = 0; i &lt; 100000; i++) {\n        numbers2.add(new TestObject(i));\n    }\n\n    Long start = System.nanoTime();\n\n    boolean result = numbers.stream().anyMatch(n -&gt; {\n        return n.number == 500;\n    });\n    System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\n\n    start = System.nanoTime();\n    result = numbers.stream().filter(n -&gt; {;\n        return n.number == 500;\n    }).findFirst().isPresent();\n    System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\n\n    result = numbers.stream().anyMatch(n -&gt; {\n        return n.number == 5000;\n    });\n    System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\n\n    start = System.nanoTime();\n    result = numbers.stream().filter(n -&gt; {\n        return n.number == 5000;\n    }).findFirst().isPresent();\n    System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\n\n    result = numbers.stream().anyMatch(n -&gt; {\n        return n.number == 50000;\n    });\n    System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\n\n    start = System.nanoTime();\n    result = numbers.stream().filter(n -&gt; {\n        return n.number == 50000;\n    }).findFirst().isPresent();\n    System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1500622915,"post_id":45225075,"comment_id":77429258,"body_markdown":"Why are you changing the conventions of directories? this is the first thing you have to learn to keep the conventions until you fully understand their intention and the consequences if you change them. Usually there is no need to do that. And you shouldn&#39;t do it unless you have very good reasons. Apart from that the build-number-maven-plugin extracts the revision/git sha1 as a build-number can be injected into MANIFEST.MF file for better identification of artifacts.So in consequence you need to give correct SCM entries to get build-number-maven-plugin working...dummy does not makes sense...","body":"Why are you changing the conventions of directories? this is the first thing you have to learn to keep the conventions until you fully understand their intention and the consequences if you change them. Usually there is no need to do that. And you shouldn&#39;t do it unless you have very good reasons. Apart from that the build-number-maven-plugin extracts the revision/git sha1 as a build-number can be injected into MANIFEST.MF file for better identification of artifacts.So in consequence you need to give correct SCM entries to get build-number-maven-plugin working...dummy does not makes sense..."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676685594,"creation_date":1676685594,"answer_id":75490723,"question_id":45225075,"body_markdown":"According to the `buildnumber:create` [docs](https://www.mojohaus.org/buildnumber-maven-plugin/create-mojo.html) this plugin is especially created to work with SCM:\r\n\r\n&gt; The build number is based on the revision number **retrieved from SCM**. It is known to work with Subversion, GIT, and Mercurial.\r\n\r\nSo to accomplish your intention you should NOT use this plugin and need to use a different approach instead.\r\n\r\n### Method 1. Build timestamp\r\n\r\nDefault maven installation offers [some special variables](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#available-variables), among them a variable named `maven.build.timestamp`, which gives you a timestamp. You can control the format with\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyyMMdd-HHmm&lt;/maven.build.timestamp.format&gt;\r\n    &lt;/properties&gt;\r\n\r\nwhich follows the `SimpleDateFormat` rules. You can use `${maven.build.timestamp}` to get a formatted timestamp for your build number.\r\n\r\n\r\n### Method 2. CI Integration\r\n\r\nConfigure default value for local builds:\r\n\r\n    &lt;properties&gt;\r\n        &lt;buildNumber&gt;0&lt;/buildNumber&gt;\r\n    &lt;properties&gt;\r\n\r\nIn CI explicitly provide this value through command line:\r\n\r\n    ./mvnw clean deploy -DbuildNumber=...","title":"maven buildnumber plugin error The scm url cannot be null","body":"<p>According to the <code>buildnumber:create</code> <a href=\"https://www.mojohaus.org/buildnumber-maven-plugin/create-mojo.html\" rel=\"nofollow noreferrer\">docs</a> this plugin is especially created to work with SCM:</p>\n<blockquote>\n<p>The build number is based on the revision number <strong>retrieved from SCM</strong>. It is known to work with Subversion, GIT, and Mercurial.</p>\n</blockquote>\n<p>So to accomplish your intention you should NOT use this plugin and need to use a different approach instead.</p>\n<h3>Method 1. Build timestamp</h3>\n<p>Default maven installation offers <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#available-variables\" rel=\"nofollow noreferrer\">some special variables</a>, among them a variable named <code>maven.build.timestamp</code>, which gives you a timestamp. You can control the format with</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.build.timestamp.format&gt;yyyyMMdd-HHmm&lt;/maven.build.timestamp.format&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>which follows the <code>SimpleDateFormat</code> rules. You can use <code>${maven.build.timestamp}</code> to get a formatted timestamp for your build number.</p>\n<h3>Method 2. CI Integration</h3>\n<p>Configure default value for local builds:</p>\n<pre><code>&lt;properties&gt;\n    &lt;buildNumber&gt;0&lt;/buildNumber&gt;\n&lt;properties&gt;\n</code></pre>\n<p>In CI explicitly provide this value through command line:</p>\n<pre><code>./mvnw clean deploy -DbuildNumber=...\n</code></pre>\n"}],"owner":{"account_id":116098,"reputation":1940,"user_id":304582,"accept_rate":32,"display_name":"user304582"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8326,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1694581230,"creation_date":1500584385,"question_id":45225075,"body_markdown":"I am a new user of Maven, and am having difficulty getting the buildnumber-maven-plugin to do what I expect. Essentially, I want maven to build my project and create a JAR file of the result, and to set a build number in the manifest.mf file. I&#39;ll include most of my pom.xml file below. I&#39;ve posted a related question already, but this question is about a different problem!\r\n\r\nWhen I run mvn clean compile package I see the following error:\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.4:create (buildnumber) on project xcase: Execution buildnumber of goal org.codehaus.mojo:buildnumber-maven-plugin:1.4:create failed: The scm url cannot be null. -&gt; [Help 1]\r\n\r\nI have set both doCheck and doUpdate to false, so don&#39;t know why the SCM is involved. My workaround has been to add some dummy SCM configuration, but this feels clunky. Is there a better way?\r\n\r\n      &lt;scm&gt;\r\n        &lt;connection&gt;scm:svn:http://127.0.0.1/dummy&lt;/connection&gt;\r\n        &lt;developerConnection&gt;scm:svn:https://127.0.0.1/dummy&lt;/developerConnection&gt;\r\n        &lt;tag&gt;HEAD&lt;/tag&gt;\r\n        &lt;url&gt;http://127.0.0.1/dummy&lt;/url&gt;\r\n      &lt;/scm&gt;\r\n\r\nHere is the build section of my pom.xml file:\r\n\r\n      &lt;build&gt;\r\n        &lt;outputDirectory&gt;build&lt;/outputDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;buildNumberPropertyName&gt;buildNumber&lt;/buildNumberPropertyName&gt;\r\n              &lt;doCheck&gt;false&lt;/doCheck&gt;\r\n              &lt;doUpdate&gt;false&lt;/doUpdate&gt;\r\n              &lt;format&gt;{0,number,integer}&lt;/format&gt;\r\n              &lt;items&gt;\r\n                &lt;item&gt;buildNumber&lt;/item&gt;\r\n              &lt;/items&gt;\r\n              &lt;revisionOnScmFailure&gt;true&lt;/revisionOnScmFailure&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;create&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;id&gt;buildnumber&lt;/id&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;copy-resources&lt;/id&gt;\r\n                &lt;phase&gt;validate&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;outputDirectory&gt;${basedir}/build&lt;/outputDirectory&gt;\r\n                  &lt;resources&gt;          \r\n                    &lt;resource&gt;\r\n                      &lt;directory&gt;${basedir}&lt;/directory&gt;\r\n                      &lt;filtering&gt;true&lt;/filtering&gt;\r\n                      &lt;excludes&gt;\r\n                        &lt;exclude&gt;*local*.properties&lt;/exclude&gt;\r\n                      &lt;/excludes&gt;\r\n                      &lt;includes&gt;\r\n                        &lt;include&gt;*.properties&lt;/include&gt;\r\n                      &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                    &lt;resource&gt;\r\n                      &lt;directory&gt;${basedir}/src/java&lt;/directory&gt;\r\n                      &lt;filtering&gt;true&lt;/filtering&gt;\r\n                      &lt;includes&gt;\r\n                        &lt;include&gt;log4j2.xml&lt;/include&gt;\r\n                      &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                  &lt;/resources&gt;              \r\n                &lt;/configuration&gt;            \r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                &lt;/manifest&gt;\r\n                &lt;manifestEntries&gt;\r\n                  &lt;Implementation-Build&gt;${buildNumber}&lt;/Implementation-Build&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;sourceDirectory&gt;src/java&lt;/sourceDirectory&gt;\r\n      &lt;/build&gt;","title":"maven buildnumber plugin error The scm url cannot be null","body":"<p>I am a new user of Maven, and am having difficulty getting the buildnumber-maven-plugin to do what I expect. Essentially, I want maven to build my project and create a JAR file of the result, and to set a build number in the manifest.mf file. I'll include most of my pom.xml file below. I've posted a related question already, but this question is about a different problem!</p>\n\n<p>When I run mvn clean compile package I see the following error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.4:create (buildnumber) on project xcase: Execution buildnumber of goal org.codehaus.mojo:buildnumber-maven-plugin:1.4:create failed: The scm url cannot be null. -&gt; [Help 1]\n</code></pre>\n\n<p>I have set both doCheck and doUpdate to false, so don't know why the SCM is involved. My workaround has been to add some dummy SCM configuration, but this feels clunky. Is there a better way?</p>\n\n<pre><code>  &lt;scm&gt;\n    &lt;connection&gt;scm:svn:http://127.0.0.1/dummy&lt;/connection&gt;\n    &lt;developerConnection&gt;scm:svn:https://127.0.0.1/dummy&lt;/developerConnection&gt;\n    &lt;tag&gt;HEAD&lt;/tag&gt;\n    &lt;url&gt;http://127.0.0.1/dummy&lt;/url&gt;\n  &lt;/scm&gt;\n</code></pre>\n\n<p>Here is the build section of my pom.xml file:</p>\n\n<pre><code>  &lt;build&gt;\n    &lt;outputDirectory&gt;build&lt;/outputDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;buildNumberPropertyName&gt;buildNumber&lt;/buildNumberPropertyName&gt;\n          &lt;doCheck&gt;false&lt;/doCheck&gt;\n          &lt;doUpdate&gt;false&lt;/doUpdate&gt;\n          &lt;format&gt;{0,number,integer}&lt;/format&gt;\n          &lt;items&gt;\n            &lt;item&gt;buildNumber&lt;/item&gt;\n          &lt;/items&gt;\n          &lt;revisionOnScmFailure&gt;true&lt;/revisionOnScmFailure&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;create&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;id&gt;buildnumber&lt;/id&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-resources&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${basedir}/build&lt;/outputDirectory&gt;\n              &lt;resources&gt;          \n                &lt;resource&gt;\n                  &lt;directory&gt;${basedir}&lt;/directory&gt;\n                  &lt;filtering&gt;true&lt;/filtering&gt;\n                  &lt;excludes&gt;\n                    &lt;exclude&gt;*local*.properties&lt;/exclude&gt;\n                  &lt;/excludes&gt;\n                  &lt;includes&gt;\n                    &lt;include&gt;*.properties&lt;/include&gt;\n                  &lt;/includes&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;directory&gt;${basedir}/src/java&lt;/directory&gt;\n                  &lt;filtering&gt;true&lt;/filtering&gt;\n                  &lt;includes&gt;\n                    &lt;include&gt;log4j2.xml&lt;/include&gt;\n                  &lt;/includes&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;              \n            &lt;/configuration&gt;            \n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n              &lt;Implementation-Build&gt;${buildNumber}&lt;/Implementation-Build&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;sourceDirectory&gt;src/java&lt;/sourceDirectory&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","protobuf-net"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1414384496,"post_id":26581201,"comment_id":41779024,"body_markdown":"No, not in the current version.","body":"No, not in the current version."},{"owner":{"account_id":2933453,"reputation":81,"user_id":2512997,"display_name":"user2512997"},"score":0,"creation_date":1414393923,"post_id":26581201,"comment_id":41781360,"body_markdown":"Thanks for the version. Idea on when it will be available?","body":"Thanks for the version. Idea on when it will be available?"}],"answers":[{"tags":[],"owner":{"account_id":279913,"reputation":7622,"user_id":575338,"accept_rate":59,"display_name":"mavarazy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414388394,"creation_date":1414388394,"answer_id":26581728,"question_id":26581201,"body_markdown":"There is an issue, regarding this in google https://code.google.com/p/protobuf/issues/detail?id=299\r\n\r\nThe last message from *October 9, 2014*\r\n\r\n&gt; Project Member #4 xiaof...@google.com A new syntax for map fields will\r\n&gt; be introduced to protobuf: message TestMessage {   map&lt;int32, string&gt;\r\n&gt; a_map_field = 1; }\r\n&gt; \r\n&gt; We are currently working on its implementation and it&#39;s supposed to be\r\n&gt; included in the next major release.\r\n\r\nSo either wait for new release, or implement your own tuples, with appropriate key and value structures.\r\n\r\nLook at similar question\r\nhttps://stackoverflow.com/questions/1102900/how-would-you-encode-a-mapstring-object-using-protocol-buffers","title":"Java HashMap in protocol buffer","body":"<p>There is an issue, regarding this in google <a href=\"https://code.google.com/p/protobuf/issues/detail?id=299\" rel=\"nofollow noreferrer\">https://code.google.com/p/protobuf/issues/detail?id=299</a></p>\n\n<p>The last message from <em>October 9, 2014</em></p>\n\n<blockquote>\n  <p>Project Member #4 xiaof...@google.com A new syntax for map fields will\n  be introduced to protobuf: message TestMessage {   map\n  a_map_field = 1; }</p>\n  \n  <p>We are currently working on its implementation and it's supposed to be\n  included in the next major release.</p>\n</blockquote>\n\n<p>So either wait for new release, or implement your own tuples, with appropriate key and value structures.</p>\n\n<p>Look at similar question\n<a href=\"https://stackoverflow.com/questions/1102900/how-would-you-encode-a-mapstring-object-using-protocol-buffers\">How would you encode a Map&lt;String, Object&gt; using Protocol Buffers?</a></p>\n"},{"tags":[],"owner":{"account_id":11679511,"reputation":1329,"user_id":8551764,"display_name":"Mostafa Arian Nejad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694325010,"creation_date":1694325010,"answer_id":77074954,"question_id":26581201,"body_markdown":"To folks visiting this page looking on how to add `Map` into protocol buffers. In proto version 3, [`map`][1] has been added and you can use it as demonstrated below:\r\n\r\n**The `Koltin` class:**\r\n\r\n    data class Person(\r\n        val name : String,\r\n        val badges : Map&lt;String, String&gt;\r\n    )\r\n\r\n**The `.proto` file:**\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    message Person {\r\n      string name = 1;\r\n      map&lt;string, string&gt; badges = 2;\r\n    }\r\n\r\n\r\n  [1]: https://protobuf.dev/programming-guides/proto3/#maps","title":"Java HashMap in protocol buffer","body":"<p>To folks visiting this page looking on how to add <code>Map</code> into protocol buffers. In proto version 3, <a href=\"https://protobuf.dev/programming-guides/proto3/#maps\" rel=\"nofollow noreferrer\"><code>map</code></a> has been added and you can use it as demonstrated below:</p>\n<p><strong>The <code>Koltin</code> class:</strong></p>\n<pre><code>data class Person(\n    val name : String,\n    val badges : Map&lt;String, String&gt;\n)\n</code></pre>\n<p><strong>The <code>.proto</code> file:</strong></p>\n<pre><code>syntax = &quot;proto3&quot;;\n\nmessage Person {\n  string name = 1;\n  map&lt;string, string&gt; badges = 2;\n}\n</code></pre>\n"}],"owner":{"account_id":2933453,"reputation":81,"user_id":2512997,"display_name":"user2512997"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694580947,"creation_date":1414384120,"question_id":26581201,"body_markdown":"I am new to the Google protocol buffer. The intention is to use proto files to generate Java classes that can be sent over the network. Is there a way to have Java Maps in the generated classes? Any example code for it will be extremely useful. The generated Java class should contain a member variable of type `Map` of keys and values.\r\n","title":"Java HashMap in protocol buffer","body":"<p>I am new to the Google protocol buffer. The intention is to use proto files to generate Java classes that can be sent over the network. Is there a way to have Java Maps in the generated classes? Any example code for it will be extremely useful. The generated Java class should contain a member variable of type <code>Map</code> of keys and values.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"score":0,"creation_date":1694586228,"post_id":77094137,"comment_id":135908907,"body_markdown":"I found solution -&gt; mapper.disable(MapperFeature.USE_ANNOTATIONS);","body":"I found solution -&gt; mapper.disable(MapperFeature.USE_ANNOTATIONS);"}],"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694580781,"creation_date":1694580781,"question_id":77094137,"body_markdown":"I&#39;m new in Jackson framework.\r\n\r\nI have two classes First and Second, they don&#39;t have common superclass.\r\n\r\nIn method convertOneToAnother first argument is &quot;first&quot; object, and second argument is Second class, this class object we have return from this method.\r\n\r\n```\r\npublic static Object convertOneToAnother(Object one, Class resultClassObject) throws IOException {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    StringWriter writer = new StringWriter();\r\n    mapper.writeValue(writer, one);\r\n\r\n    String json = writer.toString();\r\n\r\n    return mapper.readValue(json, resultClassObject);\r\n}\r\n```\r\n\r\nThis two classes have the same variables:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,  property=&quot;className&quot;)\r\n@JsonSubTypes(@JsonSubTypes.Type(value=First.class,  name=&quot;first&quot;))\r\npublic static class First {\r\n    public int i;\r\n    public String name;\r\n}\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,  property=&quot;className&quot;)\r\n@JsonSubTypes(@JsonSubTypes.Type(value=Second.class, name=&quot;second&quot;))\r\npublic static class Second {\r\n    public int i;\r\n    public String name;\r\n}\r\n```\r\n\r\nWhen I comment json adnotations above classes declarations it&#39;s working but if not I have exception:\r\n\r\nException in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;first&#39; as a subtype of \\`com.codegym.task.task33.task3304.Solution$Second\\`: known type ids = \\[second\\]\r\n\r\nHow I can handle this problem in  convertOneToAnother method? Maybe is some way to tell compiler &quot;I know what I&#39;m doing, ignore that names is invalid&quot; or &quot;change the name=&quot;first&quot; to name=&quot;second&quot;?","title":"How to get the same variables from two different classes and write ones to another by json, changing class?","body":"<p>I'm new in Jackson framework.</p>\n<p>I have two classes First and Second, they don't have common superclass.</p>\n<p>In method convertOneToAnother first argument is &quot;first&quot; object, and second argument is Second class, this class object we have return from this method.</p>\n<pre><code>public static Object convertOneToAnother(Object one, Class resultClassObject) throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    StringWriter writer = new StringWriter();\n    mapper.writeValue(writer, one);\n\n    String json = writer.toString();\n\n    return mapper.readValue(json, resultClassObject);\n}\n</code></pre>\n<p>This two classes have the same variables:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,  property=&quot;className&quot;)\n@JsonSubTypes(@JsonSubTypes.Type(value=First.class,  name=&quot;first&quot;))\npublic static class First {\n    public int i;\n    public String name;\n}\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,  property=&quot;className&quot;)\n@JsonSubTypes(@JsonSubTypes.Type(value=Second.class, name=&quot;second&quot;))\npublic static class Second {\n    public int i;\n    public String name;\n}\n</code></pre>\n<p>When I comment json adnotations above classes declarations it's working but if not I have exception:</p>\n<p>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id 'first' as a subtype of `com.codegym.task.task33.task3304.Solution$Second`: known type ids = [second]</p>\n<p>How I can handle this problem in  convertOneToAnother method? Maybe is some way to tell compiler &quot;I know what I'm doing, ignore that names is invalid&quot; or &quot;change the name=&quot;first&quot; to name=&quot;second&quot;?</p>\n"},{"tags":["java","threadpool"],"owner":{"account_id":21326178,"reputation":73,"user_id":15698505,"display_name":"Ahmet Hakan YILDIZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694580013,"creation_date":1694528664,"question_id":77090057,"body_markdown":"In my Spring project, I am using ExecutorService. Before submission of executor, I save an entity but cannot reach it in runnable task. Here is my code:\r\n\r\n    @Slf4j\r\n    @Service\r\n    @Transactional\r\n    @RequiredArgsConstructor\r\n    public class MyService {\r\n        ...\r\n        public void myMethod(){\r\n              MyEntity myEntity = new MyEntity();\r\n              ... //set values\r\n              myRepository.save(myEntity);\r\n              ExecutorService myExecutorService = Executors.newFixedThreadPool(1);\r\n              myExecutorService.submit(() -&gt; {\r\n                  ...\r\n                  MyEntity myEntity2 = myRepository.findByName(name);\r\n                  ...\r\n              });\r\n        }\r\n    }\r\n\r\nin &#39;MyEntity myEntity2 = myRepository.findByName(name);&#39; line, does not throw any error, does not return null and does not execute after this line. I think JPA considers that they are in different session and becuase of that, their state is different. Is there a way to fix that?\r\n\r\nEDIT: In development environment, I use H2 database. This problem does not happen when H2 is used.","title":"Cannot access last state of db in fixed thread pool","body":"<p>In my Spring project, I am using ExecutorService. Before submission of executor, I save an entity but cannot reach it in runnable task. Here is my code:</p>\n<pre><code>@Slf4j\n@Service\n@Transactional\n@RequiredArgsConstructor\npublic class MyService {\n    ...\n    public void myMethod(){\n          MyEntity myEntity = new MyEntity();\n          ... //set values\n          myRepository.save(myEntity);\n          ExecutorService myExecutorService = Executors.newFixedThreadPool(1);\n          myExecutorService.submit(() -&gt; {\n              ...\n              MyEntity myEntity2 = myRepository.findByName(name);\n              ...\n          });\n    }\n}\n</code></pre>\n<p>in 'MyEntity myEntity2 = myRepository.findByName(name);' line, does not throw any error, does not return null and does not execute after this line. I think JPA considers that they are in different session and becuase of that, their state is different. Is there a way to fix that?</p>\n<p>EDIT: In development environment, I use H2 database. This problem does not happen when H2 is used.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1694579293,"post_id":77093924,"comment_id":135908127,"body_markdown":"This unimplemented proposal to add declaration-site variance to Java gives a good overview https://openjdk.org/jeps/300","body":"This unimplemented proposal to add declaration-site variance to Java gives a good overview <a href=\"https://openjdk.org/jeps/300\" rel=\"nofollow noreferrer\">openjdk.org/jeps/300</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1694579390,"post_id":77093924,"comment_id":135908136,"body_markdown":"What the example in the question shows is not declaring variance, but a [bounded type parameter](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html)","body":"What the example in the question shows is not declaring variance, but a <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">bounded type parameter</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694579650,"post_id":77093924,"comment_id":135908158,"body_markdown":"And none of this has anything to do with the [tag:variance] tag, which is about statistical variance.","body":"And none of this has anything to do with the <a href=\"https://stackoverflow.com/questions/tagged/variance\">variance</a> tag, which is about statistical variance."}],"owner":{"account_id":3657942,"reputation":551,"user_id":3048443,"accept_rate":70,"display_name":"Akhil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694578705,"answer_count":0,"score":0,"last_activity_date":1694579606,"creation_date":1694576658,"question_id":77093924,"body_markdown":"All the articles (Medium/ChatGPT/StackOverflow) that I have read say &quot;Java does not have declaration-site variance like some other programming languages such as Kotlin or Scala&quot;. But when I try it, I am able to create a class where I declare variance in class signature rather than at time of usage\r\n\r\n```\r\nstatic class FruitCrate&lt;T extends Fruit&gt; {\r\n        private final List&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n\r\n        public T produce() {\r\n            return items.get(0);\r\n        }\r\n\r\n        public void consume(T item) {\r\n            items.set(1, item);\r\n        }\r\n\r\n        public int size() {\r\n            return items.size();\r\n        }\r\n}\r\n```\r\nAm I missing something here?\r\n","title":"Declaration Site Variance in Java","body":"<p>All the articles (Medium/ChatGPT/StackOverflow) that I have read say &quot;Java does not have declaration-site variance like some other programming languages such as Kotlin or Scala&quot;. But when I try it, I am able to create a class where I declare variance in class signature rather than at time of usage</p>\n<pre><code>static class FruitCrate&lt;T extends Fruit&gt; {\n        private final List&lt;T&gt; items = new ArrayList&lt;&gt;();\n\n        public T produce() {\n            return items.get(0);\n        }\n\n        public void consume(T item) {\n            items.set(1, item);\n        }\n\n        public int size() {\n            return items.size();\n        }\n}\n</code></pre>\n<p>Am I missing something here?</p>\n"},{"tags":["java","android","kotlin","unit-testing","mockito"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1694526400,"post_id":77089627,"comment_id":135900463,"body_markdown":"Is `JSONObject::class.java` legal Kotlin code? In Java it would simply be `JSONObject.class`.","body":"Is <code>JSONObject::class.java</code> legal Kotlin code? In Java it would simply be <code>JSONObject.class</code>."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1694527113,"post_id":77089627,"comment_id":135900667,"body_markdown":"@DavidConrad Yes, that&#39;s the way to do it in Kotlin (`JSONObject::class` to get a KClass, then `.java` to resolve it to a Java `Class`)","body":"@DavidConrad Yes, that&#39;s the way to do it in Kotlin (<code>JSONObject::class</code> to get a KClass, then <code>.java</code> to resolve it to a Java <code>Class</code>)"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1694527187,"post_id":77089627,"comment_id":135900693,"body_markdown":"Can you show how you&#39;re setting up the `socketDataSource` mock? It looks like your `when` call is calling the actual method implementation with the return value of `any` (which is always `null`).","body":"Can you show how you&#39;re setting up the <code>socketDataSource</code> mock? It looks like your <code>when</code> call is calling the actual method implementation with the return value of <code>any</code> (which is always <code>null</code>)."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1694529429,"post_id":77089627,"comment_id":135901230,"body_markdown":"It needs to be a mock, and that mock needs to be injected into repository. How are you creating the mock, and what do you do to inject the dependency?","body":"It needs to be a mock, and that mock needs to be injected into repository. How are you creating the mock, and what do you do to inject the dependency?"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1694530598,"post_id":77089627,"comment_id":135901538,"body_markdown":"Are you using mockito-kotlin ?","body":"Are you using mockito-kotlin ?"},{"owner":{"account_id":21456851,"reputation":21,"user_id":15808334,"display_name":"Jay Patel"},"score":0,"creation_date":1694578467,"post_id":77089627,"comment_id":135908054,"body_markdown":"@marcinj yes i am doing in kotlin","body":"@marcinj yes i am doing in kotlin"},{"owner":{"account_id":21456851,"reputation":21,"user_id":15808334,"display_name":"Jay Patel"},"score":0,"creation_date":1694578567,"post_id":77089627,"comment_id":135908072,"body_markdown":"@Jorn let me update socket data source in question","body":"@Jorn let me update socket data source in question"},{"owner":{"account_id":21456851,"reputation":21,"user_id":15808334,"display_name":"Jay Patel"},"score":0,"creation_date":1694581026,"post_id":77089627,"comment_id":135908271,"body_markdown":"Ok guys i understood what was the problem , i was using the argument matchers any for json , but instead of that we can just do org.mockito.kotlin.any (or org.mockito.Mockito.any if not using Kotlin extensions) for argument matching.","body":"Ok guys i understood what was the problem , i was using the argument matchers any for json , but instead of that we can just do org.mockito.kotlin.any (or org.mockito.Mockito.any if not using Kotlin extensions) for argument matching."}],"owner":{"account_id":21456851,"reputation":21,"user_id":15808334,"display_name":"Jay Patel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694578802,"creation_date":1694525634,"question_id":77089627,"body_markdown":"i am testing emitChatMessage function :\r\n\r\n```\r\nfun emitChatMessage(chatId: String, sender: String, content: String, messageType: String) {\r\n    val message = JSONObject().apply {\r\n        put(&quot;chatId&quot;, chatId)\r\n        put(&quot;sender&quot;, sender)\r\n        put(&quot;content&quot;, content)\r\n        put(&quot;messageType&quot;, messageType)\r\n    }\r\n\r\n    socketDataSource.emit(CommonFunctionAndVariables.CHAT_KEYS.NEW_MESSAGE, message)\r\n}\r\n```\r\n\r\ncan&#39;t understood do i wrote test right or wron here but getting any(JSONObject::class.java) error here...\r\n\r\n```\r\n@Test\r\nfun `test Emit Chat Message`() {\r\n    val chatId = &quot;64393f76ca21bdf658d19bd2&quot;\r\n    val sender = &quot;John&quot;\r\n    val content = &quot;Hello&quot;\r\n    val messageType = &quot;text&quot;\r\n\r\n    val capturedMessage = mutableListOf&lt;JSONObject&gt;()\r\n    `when`(socketDataSource.emit(anyString(), any(JSONObject::class.java))).thenAnswer {\r\n        val message = it.arguments[1] as JSONObject\r\n        capturedMessage.add(message)\r\n    }\r\n\r\n    repository.emitChatMessage(chatId, sender, content, messageType)\r\n}\r\n```\r\n\r\nthis is the error:\r\n\r\n```\r\nany(JSONObject::class.java) must not be null\r\njava.lang.NullPointerException: any(JSONObject::class.java) must not be null\r\n\tat cc.mekanism.chatconcept.feature_send_message.domain.repository.SocketRepositoryTest.test Emit Chat Message(SocketRepositoryTest.kt:37)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:40)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:60)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n```\r\n\r\nwhen anyone try to emit from socketDataSource like with any string or any json object that should capture the message so i can verify it.\r\n\r\nSocketDataSource as you guys asked in comments :\r\n\r\n    package cc.mekanism.chatconcept.feature_send_message.data.remote\r\n    \r\n        import org.json.JSONObject\r\n        \r\n        interface SocketDataSource {\r\n            fun connect(userId: String, authToken: String)\r\n            fun emit(event: String, data: JSONObject)\r\n            fun on(event: String, listener: (data: JSONObject) -&gt; Unit)\r\n            fun disconnect()\r\n        }\r\n\r\nSocket Repository Code For Emit Chat Messages:\r\n\r\n    fun emitChatMessage(chatId: String, sender: String, content: String, messageType: String) {\r\n            val message = JSONObject().apply {\r\n                put(&quot;chatId&quot;, chatId)\r\n                put(&quot;sender&quot;, sender)\r\n                put(&quot;content&quot;, content)\r\n                put(&quot;messageType&quot;, messageType)\r\n            }\r\n    \r\n            socketDataSource.emit(CommonFunctionAndVariables.CHAT_KEYS.NEW_MESSAGE, message)\r\n        }","title":"What i am doing wrong here?? why any(JSONObject::class.java) showing null","body":"<p>i am testing emitChatMessage function :</p>\n<pre><code>fun emitChatMessage(chatId: String, sender: String, content: String, messageType: String) {\n    val message = JSONObject().apply {\n        put(&quot;chatId&quot;, chatId)\n        put(&quot;sender&quot;, sender)\n        put(&quot;content&quot;, content)\n        put(&quot;messageType&quot;, messageType)\n    }\n\n    socketDataSource.emit(CommonFunctionAndVariables.CHAT_KEYS.NEW_MESSAGE, message)\n}\n</code></pre>\n<p>can't understood do i wrote test right or wron here but getting any(JSONObject::class.java) error here...</p>\n<pre><code>@Test\nfun `test Emit Chat Message`() {\n    val chatId = &quot;64393f76ca21bdf658d19bd2&quot;\n    val sender = &quot;John&quot;\n    val content = &quot;Hello&quot;\n    val messageType = &quot;text&quot;\n\n    val capturedMessage = mutableListOf&lt;JSONObject&gt;()\n    `when`(socketDataSource.emit(anyString(), any(JSONObject::class.java))).thenAnswer {\n        val message = it.arguments[1] as JSONObject\n        capturedMessage.add(message)\n    }\n\n    repository.emitChatMessage(chatId, sender, content, messageType)\n}\n</code></pre>\n<p>this is the error:</p>\n<pre><code>any(JSONObject::class.java) must not be null\njava.lang.NullPointerException: any(JSONObject::class.java) must not be null\n    at cc.mekanism.chatconcept.feature_send_message.domain.repository.SocketRepositoryTest.test Emit Chat Message(SocketRepositoryTest.kt:37)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:40)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:60)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n<p>when anyone try to emit from socketDataSource like with any string or any json object that should capture the message so i can verify it.</p>\n<p>SocketDataSource as you guys asked in comments :</p>\n<pre><code>package cc.mekanism.chatconcept.feature_send_message.data.remote\n\n    import org.json.JSONObject\n    \n    interface SocketDataSource {\n        fun connect(userId: String, authToken: String)\n        fun emit(event: String, data: JSONObject)\n        fun on(event: String, listener: (data: JSONObject) -&gt; Unit)\n        fun disconnect()\n    }\n</code></pre>\n<p>Socket Repository Code For Emit Chat Messages:</p>\n<pre><code>fun emitChatMessage(chatId: String, sender: String, content: String, messageType: String) {\n        val message = JSONObject().apply {\n            put(&quot;chatId&quot;, chatId)\n            put(&quot;sender&quot;, sender)\n            put(&quot;content&quot;, content)\n            put(&quot;messageType&quot;, messageType)\n        }\n\n        socketDataSource.emit(CommonFunctionAndVariables.CHAT_KEYS.NEW_MESSAGE, message)\n    }\n</code></pre>\n"},{"tags":["java","tomcat","tomcat8","tomcat9"],"owner":{"account_id":13635165,"reputation":31,"user_id":9836375,"display_name":"Debottam Rakshit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694578784,"creation_date":1532587144,"question_id":51532480,"body_markdown":"Parameter &quot;socketBuffer&quot; was present in connector configuration up-till Tomcat 8([Configuration][1]). Can you please tell me equivalent parameter in Tomcat 8.5.\r\n\r\n\r\n \r\n\r\n- Tomcat 8 Configuration Link: [https://tomcat.apache.org/tomcat-8.0-doc/config/http.html][2]\r\n\r\n- Tomcat 8.5 Configuration Link: [https://tomcat.apache.org/tomcat-8.5-doc/config/http.html][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/co2IM.png\r\n  [2]: https://tomcat.apache.org/tomcat-8.0-doc/config/http.html\r\n  [3]: https://tomcat.apache.org/tomcat-8.5-doc/config/http.html","title":"Parameter socketBuffer not present in Tomcat 8.5 Connector configuration","body":"<p>Parameter \"socketBuffer\" was present in connector configuration up-till Tomcat 8(<a href=\"https://i.stack.imgur.com/co2IM.png\" rel=\"nofollow noreferrer\">Configuration</a>). Can you please tell me equivalent parameter in Tomcat 8.5.</p>\n\n<ul>\n<li><p>Tomcat 8 Configuration Link: <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/http.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/config/http.html</a></p></li>\n<li><p>Tomcat 8.5 Configuration Link: <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/http.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/config/http.html</a></p></li>\n</ul>\n"},{"tags":["java","synchronization"],"comments":[{"owner":{"account_id":1405869,"reputation":10755,"user_id":1333610,"accept_rate":86,"display_name":"arun"},"score":4,"creation_date":1412191765,"post_id":659915,"comment_id":40990426,"body_markdown":"This &quot;duplicate&quot; question and Eddie&#39;s answer below are better than the &quot;original&quot; question!","body":"This &quot;duplicate&quot; question and Eddie&#39;s answer below are better than the &quot;original&quot; question!"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1420574340,"post_id":659915,"comment_id":44021431,"body_markdown":"See also http://stackoverflow.com/questions/6616141/java-threads-locking-on-a-specific-object specifically http://stackoverflow.com/a/27806218/32453","body":"See also <a href=\"http://stackoverflow.com/questions/6616141/java-threads-locking-on-a-specific-object\" title=\"java threads locking on a specific object\">stackoverflow.com/questions/6616141/&hellip;</a> specifically <a href=\"http://stackoverflow.com/a/27806218/32453\">stackoverflow.com/a/27806218/32453</a>"},{"owner":{"account_id":1308970,"reputation":1059,"user_id":1257384,"accept_rate":50,"display_name":"GregT"},"score":0,"creation_date":1515068053,"post_id":659915,"comment_id":83164714,"body_markdown":"What about using [AtomicInteger](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html)?","body":"What about using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1546321028,"post_id":659915,"comment_id":94824209,"body_markdown":"FYI, Brian Goetz mentions that one should never lock on `Integer` in his Devoxx 2018 talk, [at 54:49](https://youtu.be/4r2Wg-TY7gU?t=3289).","body":"FYI, Brian Goetz mentions that one should never lock on <code>Integer</code> in his Devoxx 2018 talk, <a href=\"https://youtu.be/4r2Wg-TY7gU?t=3289\" rel=\"nofollow noreferrer\">at 54:49</a>."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1237407645,"creation_date":1237407645,"answer_id":659935,"question_id":659915,"body_markdown":"`Integer.valueOf()` only returns cached instances for a limited range. You haven&#39;t specified your range, but in general, this won&#39;t work.\r\n\r\nHowever, I would strongly recommend you not take this approach, even if your values are in the correct range. Since these cached `Integer` instances are available to any code, you can&#39;t fully control the synchronization, which could lead to a deadlock. This is the same problem people have trying to lock on the result of `String.intern()`.\r\n\r\nThe best lock is a private variable. Since only your code can reference it, you can guarantee that no deadlocks will occur.\r\n\r\nBy the way, using a `WeakHashMap` won&#39;t work either. If the instance serving as the key is unreferenced, it will be garbage collected. And if it is strongly referenced, you could use it directly.","title":"Synchronizing on an Integer value","body":"<p><code>Integer.valueOf()</code> only returns cached instances for a limited range. You haven't specified your range, but in general, this won't work.</p>\n\n<p>However, I would strongly recommend you not take this approach, even if your values are in the correct range. Since these cached <code>Integer</code> instances are available to any code, you can't fully control the synchronization, which could lead to a deadlock. This is the same problem people have trying to lock on the result of <code>String.intern()</code>.</p>\n\n<p>The best lock is a private variable. Since only your code can reference it, you can guarantee that no deadlocks will occur.</p>\n\n<p>By the way, using a <code>WeakHashMap</code> won't work either. If the instance serving as the key is unreferenced, it will be garbage collected. And if it is strongly referenced, you could use it directly.</p>\n"},{"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1237475476,"creation_date":1237407753,"answer_id":659939,"question_id":659915,"body_markdown":"You really don&#39;t want to synchronize on an `Integer`, since you don&#39;t have control over what instances are the same and what instances are different.  Java just doesn&#39;t provide such a facility (unless you&#39;re using Integers in a small range) that is dependable across different JVMs. If you really must synchronize on an Integer, then you need to keep a Map or Set of Integer so you can guarantee that you&#39;re getting the exact instance you want.\r\n\r\nBetter would be to create a new object, perhaps stored in a `HashMap` that is keyed by the `Integer`, to synchronize on. Something like this:\r\n\r\n    public Page getPage(Integer id) {\r\n      Page p = cache.get(id);\r\n      if (p == null) {\r\n        synchronized (getCacheSyncObject(id)) {\r\n          p = getFromDataBase(id);\r\n          cache.store(p);\r\n        }\r\n      }\r\n    }\r\n\r\n    private ConcurrentMap&lt;Integer, Integer&gt; locks = new ConcurrentHashMap&lt;Integer, Integer&gt;();\r\n\r\n    private Object getCacheSyncObject(final Integer id) {\r\n      locks.putIfAbsent(id, id);\r\n      return locks.get(id);\r\n    }\r\n\r\nTo explain this code, it uses `ConcurrentMap`, which allows use of `putIfAbsent`.  You could do this:\r\n\r\n      locks.putIfAbsent(id, new Object());\r\n\r\nbut then you incur the (small) cost of creating an Object for each access.  To avoid that, I just save the Integer itself in the `Map`.  What does this achieve?  Why is this any different from just using the Integer itself?\r\n\r\nWhen you do a `get()` from a `Map`, the keys are compared with `equals()` (or at least the method used is the equivalent of using `equals()`).  Two different Integer instances of the same value will be equal to each other.  Thus, you can pass any number of different Integer instances of &quot;`new Integer(5)`&quot; as the parameter to `getCacheSyncObject` and you will always get back only the very first instance that was passed in that contained that value.\r\n\r\nThere are reasons why you may not want to synchronize on `Integer` ... you can get into deadlocks if multiple threads are synchronizing on `Integer` objects and are thus unwittingly using the same locks when they want to use different locks.  You can fix this risk by using the\r\n\r\n      locks.putIfAbsent(id, new Object());\r\n\r\nversion and thus incurring a (very) small cost to each access to the cache.  Doing this, you guarantee that this class will be doing its synchronization on an object that no other class will be synchronizing on.  Always a Good Thing.\r\n","title":"Synchronizing on an Integer value","body":"<p>You really don't want to synchronize on an <code>Integer</code>, since you don't have control over what instances are the same and what instances are different.  Java just doesn't provide such a facility (unless you're using Integers in a small range) that is dependable across different JVMs. If you really must synchronize on an Integer, then you need to keep a Map or Set of Integer so you can guarantee that you're getting the exact instance you want.</p>\n\n<p>Better would be to create a new object, perhaps stored in a <code>HashMap</code> that is keyed by the <code>Integer</code>, to synchronize on. Something like this:</p>\n\n<pre><code>public Page getPage(Integer id) {\n  Page p = cache.get(id);\n  if (p == null) {\n    synchronized (getCacheSyncObject(id)) {\n      p = getFromDataBase(id);\n      cache.store(p);\n    }\n  }\n}\n\nprivate ConcurrentMap&lt;Integer, Integer&gt; locks = new ConcurrentHashMap&lt;Integer, Integer&gt;();\n\nprivate Object getCacheSyncObject(final Integer id) {\n  locks.putIfAbsent(id, id);\n  return locks.get(id);\n}\n</code></pre>\n\n<p>To explain this code, it uses <code>ConcurrentMap</code>, which allows use of <code>putIfAbsent</code>.  You could do this:</p>\n\n<pre><code>  locks.putIfAbsent(id, new Object());\n</code></pre>\n\n<p>but then you incur the (small) cost of creating an Object for each access.  To avoid that, I just save the Integer itself in the <code>Map</code>.  What does this achieve?  Why is this any different from just using the Integer itself?</p>\n\n<p>When you do a <code>get()</code> from a <code>Map</code>, the keys are compared with <code>equals()</code> (or at least the method used is the equivalent of using <code>equals()</code>).  Two different Integer instances of the same value will be equal to each other.  Thus, you can pass any number of different Integer instances of \"<code>new Integer(5)</code>\" as the parameter to <code>getCacheSyncObject</code> and you will always get back only the very first instance that was passed in that contained that value.</p>\n\n<p>There are reasons why you may not want to synchronize on <code>Integer</code> ... you can get into deadlocks if multiple threads are synchronizing on <code>Integer</code> objects and are thus unwittingly using the same locks when they want to use different locks.  You can fix this risk by using the</p>\n\n<pre><code>  locks.putIfAbsent(id, new Object());\n</code></pre>\n\n<p>version and thus incurring a (very) small cost to each access to the cache.  Doing this, you guarantee that this class will be doing its synchronization on an object that no other class will be synchronizing on.  Always a Good Thing.</p>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237407981,"creation_date":1237407981,"answer_id":659955,"question_id":659915,"body_markdown":"How about a ConcurrentHashMap with the Integer objects as keys?","title":"Synchronizing on an Integer value","body":"<p>How about a ConcurrentHashMap with the Integer objects as keys?</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237408255,"creation_date":1237408255,"answer_id":659973,"question_id":659915,"body_markdown":"You could have a look at [this code][1] for creating a mutex from an ID. The code was written for String IDs, but could easily be edited for Integer objects.\r\n\r\n\r\n  [1]: http://illegalargumentexception.blogspot.com/2008/04/java-synchronizing-on-transient-id.html","title":"Synchronizing on an Integer value","body":"<p>You could have a look at <a href=\"http://illegalargumentexception.blogspot.com/2008/04/java-synchronizing-on-transient-id.html\" rel=\"nofollow noreferrer\">this code</a> for creating a mutex from an ID. The code was written for String IDs, but could easily be edited for Integer objects.</p>\n"},{"tags":[],"owner":{"account_id":26104,"reputation":2426,"user_id":67637,"display_name":"Antonio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1237409099,"creation_date":1237408765,"answer_id":660002,"question_id":659915,"body_markdown":"Using synchronized on an Integer sounds really wrong by design.\r\n\r\nIf you need to synchronize each item individually only during retrieve/store you can create a Set and store there the currently locked items. In another words, \r\n\r\n    // this contains only those IDs that are currently locked, that is, this\r\n    // will contain only very few IDs most of the time\r\n    Set&lt;Integer&gt; activeIds = ...\r\n    \r\n    Object retrieve(Integer id) {\r\n    \t// acquire &quot;lock&quot; on item #id\r\n        synchronized(activeIds) {\r\n    \t\twhile(activeIds.contains(id)) {\r\n    \t\t\ttry { \r\n    \t\t\t\tactiveIds.wait();\t\r\n    \t\t\t} catch(InterruptedExcption e){...}\r\n    \t\t}\r\n    \t\tactiveIds.add(id);\r\n        }\r\n    \ttry {\r\n    \t\r\n    \t\t// do the retrieve here...\r\n    \t\t\r\n    \t\treturn value;\r\n    \t\t\r\n    \t} finally {\r\n    \t\t// release lock on item #id\r\n       \t\tsynchronized(activeIds) { \r\n    \t\t\tactiveIds.remove(id); \r\n    \t\t\tactiveIds.notifyAll(); \r\n    \t\t}\t\r\n    \t}\t\r\n    }\r\n\r\nThe same goes to the store. \r\n\r\nThe bottom line is: there is no single line of code that solves this problem exactly the way you need.\r\n","title":"Synchronizing on an Integer value","body":"<p>Using synchronized on an Integer sounds really wrong by design.</p>\n\n<p>If you need to synchronize each item individually only during retrieve/store you can create a Set and store there the currently locked items. In another words, </p>\n\n<pre><code>// this contains only those IDs that are currently locked, that is, this\n// will contain only very few IDs most of the time\nSet&lt;Integer&gt; activeIds = ...\n\nObject retrieve(Integer id) {\n    // acquire \"lock\" on item #id\n    synchronized(activeIds) {\n        while(activeIds.contains(id)) {\n            try { \n                activeIds.wait();   \n            } catch(InterruptedExcption e){...}\n        }\n        activeIds.add(id);\n    }\n    try {\n\n        // do the retrieve here...\n\n        return value;\n\n    } finally {\n        // release lock on item #id\n        synchronized(activeIds) { \n            activeIds.remove(id); \n            activeIds.notifyAll(); \n        }   \n    }   \n}\n</code></pre>\n\n<p>The same goes to the store. </p>\n\n<p>The bottom line is: there is no single line of code that solves this problem exactly the way you need.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1500620898,"creation_date":1237408818,"answer_id":660006,"question_id":659915,"body_markdown":"Use a thread-safe map, such as `ConcurrentHashMap`. This will allow you to manipulate a map safely, but use a different lock to do the real computation. In this way you can have multiple computations running simultaneous with a single map.\r\n\r\nUse `ConcurrentMap.putIfAbsent`, but instead of placing the actual value, use a `Future` with computationally-light construction instead. Possibly the `FutureTask` implementation.  Run the computation and then `get` the result, which will thread-safely block until done.","title":"Synchronizing on an Integer value","body":"<p>Use a thread-safe map, such as <code>ConcurrentHashMap</code>. This will allow you to manipulate a map safely, but use a different lock to do the real computation. In this way you can have multiple computations running simultaneous with a single map.</p>\n\n<p>Use <code>ConcurrentMap.putIfAbsent</code>, but instead of placing the actual value, use a <code>Future</code> with computationally-light construction instead. Possibly the <code>FutureTask</code> implementation.  Run the computation and then <code>get</code> the result, which will thread-safely block until done.</p>\n"},{"tags":[],"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1551945625,"creation_date":1237409741,"answer_id":660063,"question_id":659915,"body_markdown":"See section 5.6 in [Java Concurrency in Practice][1]: &quot;Building an efficient, scalable, result cache&quot;. It deals with the exact issue you are trying to solve. In particular, check out the memoizer pattern.\r\n\r\n\r\n\r\n[![alt text][2]][2]  \n&lt;sub&gt;(source: [umd.edu](http://www.cs.umd.edu/class/fall2008/cmsc433/jcipMed.jpg))&lt;/sub&gt;  \r\n\r\n\r\n  [1]: http://jcip.net/\r\n  [2]: https://i.stack.imgur.com/QxJbq.jpg","title":"Synchronizing on an Integer value","body":"<p>See section 5.6 in <a href=\"http://jcip.net/\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a>: \"Building an efficient, scalable, result cache\". It deals with the exact issue you are trying to solve. In particular, check out the memoizer pattern.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QxJbq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxJbq.jpg\" alt=\"alt text\"></a><br>\n<sub>(source: <a href=\"http://www.cs.umd.edu/class/fall2008/cmsc433/jcipMed.jpg\" rel=\"nofollow noreferrer\">umd.edu</a>)</sub>  </p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237422264,"creation_date":1237422264,"answer_id":660612,"question_id":659915,"body_markdown":"As you can see from the variety of answers, there are various ways to skin this cat:\r\n\r\n- Goetz et al&#39;s approach of keeping a cache of FutureTasks works quite well in situations like this where you&#39;re &quot;caching something anyway&quot; so don&#39;t mind building up a map of FutureTask objects (and if you did mind the map growing, at least it&#39;s easy to make pruning it concurrent)\r\n- As a general answer to &quot;how to lock on ID&quot;, the approach outlined by Antonio has the advantage that it&#39;s obvious when the map of locks is added to/removed from.\r\n\r\nYou may need to watch out for a potential issue with Antonio&#39;s *implementation*, namely that the notifyAll() will wake up threads waiting on *all* IDs when *one* of them becomes available, which may not scale very well under high contention. In principle, I think you can fix that by having a Condition object for each currently locked ID, which is then the thing that you await/signal. Of course, if in practice there&#39;s rarely more than one ID being waited on at any given time, then this isn&#39;t an issue.","title":"Synchronizing on an Integer value","body":"<p>As you can see from the variety of answers, there are various ways to skin this cat:</p>\n\n<ul>\n<li>Goetz et al's approach of keeping a cache of FutureTasks works quite well in situations like this where you're \"caching something anyway\" so don't mind building up a map of FutureTask objects (and if you did mind the map growing, at least it's easy to make pruning it concurrent)</li>\n<li>As a general answer to \"how to lock on ID\", the approach outlined by Antonio has the advantage that it's obvious when the map of locks is added to/removed from.</li>\n</ul>\n\n<p>You may need to watch out for a potential issue with Antonio's <em>implementation</em>, namely that the notifyAll() will wake up threads waiting on <em>all</em> IDs when <em>one</em> of them becomes available, which may not scale very well under high contention. In principle, I think you can fix that by having a Condition object for each currently locked ID, which is then the thing that you await/signal. Of course, if in practice there's rarely more than one ID being waited on at any given time, then this isn't an issue.</p>\n"},{"tags":[],"owner":{"account_id":10628,"reputation":5791,"user_id":20161,"accept_rate":50,"display_name":"Pat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237434498,"creation_date":1237434498,"answer_id":661004,"question_id":659915,"body_markdown":"Steve, \r\n\r\nyour proposed code has a bunch of problems with synchronization. (Antonio&#39;s does as well).\r\n\r\nTo summarize:\r\n\r\n 1. You need to cache an expensive\r\n    object.\r\n 2. You need to make sure that while one thread is doing the retrieval, another thread does not also attempt to retrieve the same object.\r\n 3. That for n-threads all attempting to get the object only 1 object is ever retrieved and returned.\r\n 4. That for threads requesting different objects that they do not contend with each other.\r\n\r\npseudo code to make this happen (using a ConcurrentHashMap as the cache):\r\n\r\n    ConcurrentMap&lt;Integer, java.util.concurrent.Future&lt;Page&gt;&gt; cache = new ConcurrentHashMap&lt;Integer, java.util.concurrent.Future&lt;Page&gt;&gt;;\r\n    \r\n    public Page getPage(Integer id) {\r\n        Future&lt;Page&gt; myFuture = new Future&lt;Page&gt;();\r\n        cache.putIfAbsent(id, myFuture);\r\n        Future&lt;Page&gt; actualFuture = cache.get(id);\r\n        if ( actualFuture == myFuture ) {\r\n            // I am the first w00t!\r\n            Page page = getFromDataBase(id);\r\n            myFuture.set(page);\r\n        }\r\n        return actualFuture.get();\r\n    }\r\n\r\nNote: \r\n\r\n 1. java.util.concurrent.Future is an interface\r\n 2. java.util.concurrent.Future does not actually have a set() but look at the existing classes that implement Future to understand how to implement your own Future (Or use FutureTask)\r\n 3. Pushing the actual retrieval to a worker thread will almost certainly be a good idea.\r\n\r\n","title":"Synchronizing on an Integer value","body":"<p>Steve, </p>\n\n<p>your proposed code has a bunch of problems with synchronization. (Antonio's does as well).</p>\n\n<p>To summarize:</p>\n\n<ol>\n<li>You need to cache an expensive\nobject.</li>\n<li>You need to make sure that while one thread is doing the retrieval, another thread does not also attempt to retrieve the same object.</li>\n<li>That for n-threads all attempting to get the object only 1 object is ever retrieved and returned.</li>\n<li>That for threads requesting different objects that they do not contend with each other.</li>\n</ol>\n\n<p>pseudo code to make this happen (using a ConcurrentHashMap as the cache):</p>\n\n<pre><code>ConcurrentMap&lt;Integer, java.util.concurrent.Future&lt;Page&gt;&gt; cache = new ConcurrentHashMap&lt;Integer, java.util.concurrent.Future&lt;Page&gt;&gt;;\n\npublic Page getPage(Integer id) {\n    Future&lt;Page&gt; myFuture = new Future&lt;Page&gt;();\n    cache.putIfAbsent(id, myFuture);\n    Future&lt;Page&gt; actualFuture = cache.get(id);\n    if ( actualFuture == myFuture ) {\n        // I am the first w00t!\n        Page page = getFromDataBase(id);\n        myFuture.set(page);\n    }\n    return actualFuture.get();\n}\n</code></pre>\n\n<p>Note: </p>\n\n<ol>\n<li>java.util.concurrent.Future is an interface</li>\n<li>java.util.concurrent.Future does not actually have a set() but look at the existing classes that implement Future to understand how to implement your own Future (Or use FutureTask)</li>\n<li>Pushing the actual retrieval to a worker thread will almost certainly be a good idea.</li>\n</ol>\n"}],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55884,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":659939,"answer_count":9,"score":38,"last_activity_date":1694577740,"creation_date":1237407347,"question_id":659915,"body_markdown":"Suppose I want to lock based on an integer id value. In this case, there&#39;s a function that pulls a value from a cache and does a fairly expensive retrieve/store into the cache if the value isn&#39;t there.\r\n\r\nThe existing code isn&#39;t synchronized and could potentially trigger multiple retrieve/store operations:  \r\n\r\n    //psuedocode\r\n    public Page getPage (Integer id){\r\n       Page p = cache.get(id);\r\n       if (p==null)\r\n       {\r\n          p=getFromDataBase(id);\r\n          cache.store(p);\r\n       }\r\n    }\r\n\r\nWhat I&#39;d like to do is synchronize the retrieve on the id, e.g. \r\n\r\n       if (p==null)\r\n       {\r\n           synchronized (id)\r\n           {\r\n            ..retrieve, store\r\n           }\r\n       }\r\n\r\nUnfortunately this won&#39;t work because 2 separate calls can have the same Integer id value but a different Integer object, so they won&#39;t share the lock, and no synchronization will happen. \r\n\r\nIs there a simple way of insuring that you have the same Integer instance? For example, will this work:\r\n\r\n     syncrhonized (Integer.valueOf(id.intValue())){\r\n\r\nThe javadoc for Integer.valueOf() seems to imply that you&#39;re likely to get the same instance, but that doesn&#39;t look like a guarantee:\r\n\r\n&gt; Returns a Integer instance\r\n&gt; representing the specified int value.\r\n&gt; If a new Integer instance is not\r\n&gt; required, this method should generally\r\n&gt; be used in preference to the\r\n&gt; constructor Integer(int), as this\r\n&gt; method is likely to yield\r\n&gt; significantly better space and time\r\n&gt; performance by caching frequently\r\n&gt; requested values.\r\n\r\nSo, any suggestions on how to get an Integer instance that&#39;s guaranteed to be the same, other than the more elaborate solutions like keeping a WeakHashMap of Lock objects keyed to the int? (nothing wrong with that, it just seems like there must be an obvious one-liner than I&#39;m missing).\r\n\r\n","title":"Synchronizing on an Integer value","body":"<p>Suppose I want to lock based on an integer id value. In this case, there's a function that pulls a value from a cache and does a fairly expensive retrieve/store into the cache if the value isn't there.</p>\n<p>The existing code isn't synchronized and could potentially trigger multiple retrieve/store operations:</p>\n<pre><code>//psuedocode\npublic Page getPage (Integer id){\n   Page p = cache.get(id);\n   if (p==null)\n   {\n      p=getFromDataBase(id);\n      cache.store(p);\n   }\n}\n</code></pre>\n<p>What I'd like to do is synchronize the retrieve on the id, e.g.</p>\n<pre><code>   if (p==null)\n   {\n       synchronized (id)\n       {\n        ..retrieve, store\n       }\n   }\n</code></pre>\n<p>Unfortunately this won't work because 2 separate calls can have the same Integer id value but a different Integer object, so they won't share the lock, and no synchronization will happen.</p>\n<p>Is there a simple way of insuring that you have the same Integer instance? For example, will this work:</p>\n<pre><code> syncrhonized (Integer.valueOf(id.intValue())){\n</code></pre>\n<p>The javadoc for Integer.valueOf() seems to imply that you're likely to get the same instance, but that doesn't look like a guarantee:</p>\n<blockquote>\n<p>Returns a Integer instance\nrepresenting the specified int value.\nIf a new Integer instance is not\nrequired, this method should generally\nbe used in preference to the\nconstructor Integer(int), as this\nmethod is likely to yield\nsignificantly better space and time\nperformance by caching frequently\nrequested values.</p>\n</blockquote>\n<p>So, any suggestions on how to get an Integer instance that's guaranteed to be the same, other than the more elaborate solutions like keeping a WeakHashMap of Lock objects keyed to the int? (nothing wrong with that, it just seems like there must be an obvious one-liner than I'm missing).</p>\n"},{"tags":["java","asynchronous","async-await","gwt","gxt"],"comments":[{"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"score":3,"creation_date":1694609696,"post_id":77093928,"comment_id":135913550,"body_markdown":"GWT is single threaded on client side. So you call FunctionB first and the rest of the code ist called directly. It will not wait for onfailure or onSuccess to complete. This happens asynchronously at some point of time. Because you don&#39;t know what happens on server side. Maybe the network is slow and what ever you can imagine. If you have a dependency between the B and A und have to call A in the onSuccess of B.","body":"GWT is single threaded on client side. So you call FunctionB first and the rest of the code ist called directly. It will not wait for onfailure or onSuccess to complete. This happens asynchronously at some point of time. Because you don&#39;t know what happens on server side. Maybe the network is slow and what ever you can imagine. If you have a dependency between the B and A und have to call A in the onSuccess of B."}],"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694576732,"creation_date":1694576732,"question_id":77093928,"body_markdown":"Fairly new to GWT and Asynchronous Programming.\r\n\r\nReading through the [GWT documentation on RPC][1] and based on that, I have 2 Asynchronous functions that I&#39;ve implemented in my Java file.\r\n\r\nThere is a slight dependency between the 2. The idea is that Function A has the capability to use the data generated by Function B, but will still work regardless. This will allow Function A to be a bit flexible in running.\r\nTo that extend, I made an ```if-else``` statement to check whether Function A will use the data from Function B or otherwise.\r\n\r\nFrom what I&#39;ve seen however, they will both run in parallel with each other, so Function A will process regardless whether Function B is done, resulting in a problematic output. Function B, which does abit more processing, will usually complete only after Function A is completed.\r\n\r\nHow do I make it so that Function A will not run until Function B is completed, especially if the condition to use the results from Function B is fulfilled?\r\n\r\n    ExportData export = new ExportData();\r\n    final List&lt;?&gt; theResult = new ArrayList&lt;Object&gt;();\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tCommonService.Util.getInstance().FunctionB(&lt;inputData&gt;, new AsyncCallback&lt;List&lt;?&gt;&gt;() {\r\n\t\t\t\t\t    public void onFailure(Throwable caught) {\r\n\t\t\t\t\t        // TODO: Do something with errors.\r\n\t\t\t\t\t    \tcaught.fillInStackTrace();\r\n\t\t\t\t\t      }\r\n\t\t\t\t\t      public void onSuccess(List&lt;?&gt; result){\r\n\t\t\t\t\t        for (Object model : result) { \r\n\t\t\t\t\t        \t((ExportData) theResult).addData((BaseModel)model);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t      }\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} catch (ApplicationException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (&lt;inputData&gt; != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (Object model : theResult) {\r\n\t\t\t\t\t\texport.addData((BaseModel)model);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tfor (BaseModel model : &lt;alternateResults&gt;) {\r\n\t\t\t\t\t\texport.addData(model);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t\tCommonService.Util.getInstance().FunctionA(export, WidgetUtils.FILE_DOWNLOAD_CALLBACK);\r\n\r\n\r\n  [1]: https://www.gwtproject.org/doc/latest/tutorial/RPC.html","title":"GWT Asynchronous Wait for Callback","body":"<p>Fairly new to GWT and Asynchronous Programming.</p>\n<p>Reading through the <a href=\"https://www.gwtproject.org/doc/latest/tutorial/RPC.html\" rel=\"nofollow noreferrer\">GWT documentation on RPC</a> and based on that, I have 2 Asynchronous functions that I've implemented in my Java file.</p>\n<p>There is a slight dependency between the 2. The idea is that Function A has the capability to use the data generated by Function B, but will still work regardless. This will allow Function A to be a bit flexible in running.\nTo that extend, I made an <code>if-else</code> statement to check whether Function A will use the data from Function B or otherwise.</p>\n<p>From what I've seen however, they will both run in parallel with each other, so Function A will process regardless whether Function B is done, resulting in a problematic output. Function B, which does abit more processing, will usually complete only after Function A is completed.</p>\n<p>How do I make it so that Function A will not run until Function B is completed, especially if the condition to use the results from Function B is fulfilled?</p>\n<pre><code>ExportData export = new ExportData();\nfinal List&lt;?&gt; theResult = new ArrayList&lt;Object&gt;();\n\n            try {\n                CommonService.Util.getInstance().FunctionB(&lt;inputData&gt;, new AsyncCallback&lt;List&lt;?&gt;&gt;() {\n                    public void onFailure(Throwable caught) {\n                        // TODO: Do something with errors.\n                        caught.fillInStackTrace();\n                      }\n                      public void onSuccess(List&lt;?&gt; result){\n                        for (Object model : result) { \n                            ((ExportData) theResult).addData((BaseModel)model);\n                        }\n                      }\n                    }\n                );\n\n            } catch (ApplicationException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n\n            if (&lt;inputData&gt; != null)\n            {\n                for (Object model : theResult) {\n                    export.addData((BaseModel)model);\n                }\n            }\n            else{\n                for (BaseModel model : &lt;alternateResults&gt;) {\n                    export.addData(model);\n                }\n            }\n            \n\n            CommonService.Util.getInstance().FunctionA(export, WidgetUtils.FILE_DOWNLOAD_CALLBACK);\n</code></pre>\n"},{"tags":["java","treemap"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1694569668,"post_id":77093575,"comment_id":135907433,"body_markdown":"it works if you use equals() instead","body":"it works if you use equals() instead"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1694577133,"post_id":77093575,"comment_id":135907949,"body_markdown":"In Java, the `==` operator tests for reference equality (i.e., are the two references pointing to the exact same object in memory). You likely don&#39;t want that, and instead want to test for logical equality. In that case, use the `Object#equals(Object)` method. But that assumes the class of whichever object `equals` was called on has overridden the method to give a sensible implementation (by default, the method behaves the same as `==`).","body":"In Java, the <code>==</code> operator tests for reference equality (i.e., are the two references pointing to the exact same object in memory). You likely don&#39;t want that, and instead want to test for logical equality. In that case, use the <code>Object#equals(Object)</code> method. But that assumes the class of whichever object <code>equals</code> was called on has overridden the method to give a sensible implementation (by default, the method behaves the same as <code>==</code>)."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694576526,"creation_date":1694576526,"answer_id":77093913,"question_id":77093575,"body_markdown":"As stated in the comments, you have to compare them by using `equals` \r\n(`e.equals(map.firstEntry())`).\r\n\r\nIt is because it wraps the map entry in a new `AbstractMap.SimpleImmutableEntry` for each of the two calls. Hence the two references of the `Map.Entry` (`e` and `map.firstEntry()` in your code) are different, but they are *equal*. \r\n\r\nHere&#39;s the source code of `TreeMap`&#39;s `higherEntry` and `firstEntry`.\r\n\r\n```\r\npublic Map.Entry&lt;K,V&gt; higherEntry(K key) {\r\n    return exportEntry(getHigherEntry(key));\r\n}\r\n\r\npublic Map.Entry&lt;K,V&gt; firstEntry() {\r\n    return exportEntry(getFirstEntry());\r\n}\r\n```\r\nThe `exportEntry` static method wraps the `TreeMap.Entry` in a new `SimpleImmutableEntry` object.\r\n\r\n```\r\nstatic &lt;K,V&gt; Map.Entry&lt;K,V&gt; exportEntry(TreeMap.Entry&lt;K,V&gt; e) {\r\n    return (e == null) ? null :\r\n        new AbstractMap.SimpleImmutableEntry&lt;&gt;(e);\r\n}\r\n````","title":"Why firstEntry() is not the first entry of a map?","body":"<p>As stated in the comments, you have to compare them by using <code>equals</code>\n(<code>e.equals(map.firstEntry())</code>).</p>\n<p>It is because it wraps the map entry in a new <code>AbstractMap.SimpleImmutableEntry</code> for each of the two calls. Hence the two references of the <code>Map.Entry</code> (<code>e</code> and <code>map.firstEntry()</code> in your code) are different, but they are <em>equal</em>.</p>\n<p>Here's the source code of <code>TreeMap</code>'s <code>higherEntry</code> and <code>firstEntry</code>.</p>\n<pre><code>public Map.Entry&lt;K,V&gt; higherEntry(K key) {\n    return exportEntry(getHigherEntry(key));\n}\n\npublic Map.Entry&lt;K,V&gt; firstEntry() {\n    return exportEntry(getFirstEntry());\n}\n</code></pre>\n<p>The <code>exportEntry</code> static method wraps the <code>TreeMap.Entry</code> in a new <code>SimpleImmutableEntry</code> object.</p>\n<pre><code>static &lt;K,V&gt; Map.Entry&lt;K,V&gt; exportEntry(TreeMap.Entry&lt;K,V&gt; e) {\n    return (e == null) ? null :\n        new AbstractMap.SimpleImmutableEntry&lt;&gt;(e);\n}\n</code></pre>\n"}],"owner":{"account_id":29427293,"reputation":11,"user_id":22547672,"display_name":"tasty0tomato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77093913,"answer_count":1,"score":0,"last_activity_date":1694576526,"creation_date":1694569309,"question_id":77093575,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n    TreeMap&lt;Integer,Integer&gt;map=new TreeMap&lt;&gt;();\r\n    map.put(1,2);\r\n    Map.Entry&lt;Integer, Integer&gt; e = map.higherEntry(0);\r\n    System.out.println(e==map.firstEntry());\r\n}\r\n```\r\n\r\nThe entry of *e* and *map.firstEntry()* is both *(1,2)*, but they are not the same since the *System.out.println()* function will print *false*. I am really confused.\r\n\r\n\r\nI want to get a *true*.","title":"Why firstEntry() is not the first entry of a map?","body":"<pre><code>public static void main(String[] args) {\n    TreeMap&lt;Integer,Integer&gt;map=new TreeMap&lt;&gt;();\n    map.put(1,2);\n    Map.Entry&lt;Integer, Integer&gt; e = map.higherEntry(0);\n    System.out.println(e==map.firstEntry());\n}\n</code></pre>\n<p>The entry of <em>e</em> and <em>map.firstEntry()</em> is both <em>(1,2)</em>, but they are not the same since the <em>System.out.println()</em> function will print <em>false</em>. I am really confused.</p>\n<p>I want to get a <em>true</em>.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":8873267,"reputation":422,"user_id":6626365,"display_name":"Sridhar Karuppusamy"},"score":0,"creation_date":1591470375,"post_id":62236487,"comment_id":110070705,"body_markdown":"Please confirm my understanding is correct or not, if you create three separate model for this implementation then call based model only need to call like if call SupportStaff that only model you need right?","body":"Please confirm my understanding is correct or not, if you create three separate model for this implementation then call based model only need to call like if call SupportStaff that only model you need right?"},{"owner":{"account_id":8873267,"reputation":422,"user_id":6626365,"display_name":"Sridhar Karuppusamy"},"score":0,"creation_date":1591470480,"post_id":62236487,"comment_id":110070755,"body_markdown":"If it’s your requirement means use fetchtype LAZY in your model creation it’s only fetch the data at getter method call","body":"If it’s your requirement means use fetchtype LAZY in your model creation it’s only fetch the data at getter method call"},{"owner":{"account_id":18781199,"reputation":43,"user_id":13695823,"display_name":"Shershah"},"score":0,"creation_date":1591472134,"post_id":62236487,"comment_id":110071350,"body_markdown":"At a time , I will fetch the records only from 1 child table","body":"At a time , I will fetch the records only from 1 child table"},{"owner":{"account_id":8873267,"reputation":422,"user_id":6626365,"display_name":"Sridhar Karuppusamy"},"score":0,"creation_date":1591504645,"post_id":62236487,"comment_id":110078166,"body_markdown":"Then you use JoinColumn with fetchType Lazy","body":"Then you use JoinColumn with fetchType Lazy"}],"answers":[{"tags":[],"owner":{"account_id":6196386,"reputation":652,"user_id":4827548,"accept_rate":0,"display_name":"codeogeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591499862,"creation_date":1591470554,"answer_id":62236753,"question_id":62236487,"body_markdown":"From what I have understood you should add mapping annotations as per your use case\r\n\r\n`@OneToMany` / `@ManyToMany` / and others to the columns you want as foreign keys\r\n\r\nwhile fetching, you will need JOIN queries to fetch the data\r\n\r\nrefer to [JPA join column](https://www.baeldung.com/jpa-join-column) \r\nand [JPQL inner join](https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/jpql-inner-join.html).\r\n\r\n","title":"Springboot JPA Same foreign key in Three different similar tables","body":"<p>From what I have understood you should add mapping annotations as per your use case</p>\n\n<p><code>@OneToMany</code> / <code>@ManyToMany</code> / and others to the columns you want as foreign keys</p>\n\n<p>while fetching, you will need JOIN queries to fetch the data</p>\n\n<p>refer to <a href=\"https://www.baeldung.com/jpa-join-column\" rel=\"nofollow noreferrer\">JPA join column</a> \nand <a href=\"https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/jpql-inner-join.html\" rel=\"nofollow noreferrer\">JPQL inner join</a>.</p>\n"}],"owner":{"account_id":18781199,"reputation":43,"user_id":13695823,"display_name":"Shershah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694575076,"creation_date":1591469277,"question_id":62236487,"body_markdown":"I have 4 tables. One table is mapped to 3 similar tables. The first table has a composite primary key which I want to map to three tables as a foreign key. All the fields are the same in the three child tables.\r\n\r\n    class Company{\r\n        @Id\r\n        private String companyId;\r\n        @Id\r\n        private String stateId;\r\n        private String company Name;\r\n    }\r\n\r\n    class Managers{\r\n        @Id\r\n        private String id;\r\n        //foreign key\r\n        private String companyId;\r\n        //foreign key\r\n        private String stateId;\r\n        private Int salary;\r\n    }\r\n    \r\n    class SupportStaff{\r\n        @Id\r\n        private String id;\r\n        //foreign key\r\n        private String companyId;\r\n        //foreign key\r\n        private String stateId;\r\n        private Int salary;\r\n    }\r\n\r\nThe data is huge since I am retrieving the value one at a time and on different rules. I have to keep them separate. Is it possible to map it and get it based on rest? If I want a list of managers, I want to retrieve from the managers table and from SupportStaff table if I want support staff details.\r\n\r\n\r\n","title":"Springboot JPA Same foreign key in Three different similar tables","body":"<p>I have 4 tables. One table is mapped to 3 similar tables. The first table has a composite primary key which I want to map to three tables as a foreign key. All the fields are the same in the three child tables.</p>\n<pre><code>class Company{\n    @Id\n    private String companyId;\n    @Id\n    private String stateId;\n    private String company Name;\n}\n\nclass Managers{\n    @Id\n    private String id;\n    //foreign key\n    private String companyId;\n    //foreign key\n    private String stateId;\n    private Int salary;\n}\n\nclass SupportStaff{\n    @Id\n    private String id;\n    //foreign key\n    private String companyId;\n    //foreign key\n    private String stateId;\n    private Int salary;\n}\n</code></pre>\n<p>The data is huge since I am retrieving the value one at a time and on different rules. I have to keep them separate. Is it possible to map it and get it based on rest? If I want a list of managers, I want to retrieve from the managers table and from SupportStaff table if I want support staff details.</p>\n"},{"tags":["java","eclipse","ubuntu","terminal","ubuntu-16.04"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1694497773,"post_id":77085999,"comment_id":135894678,"body_markdown":"That is an extremely old version of Eclipse and won&#39;t run with Java 17. Install the current version directly from the official site https://www.eclipse.org/downloads/","body":"That is an extremely old version of Eclipse and won&#39;t run with Java 17. Install the current version directly from the official site <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">eclipse.org/downloads</a>"},{"owner":{"account_id":10306569,"reputation":1,"user_id":7603627,"display_name":"Miriam Samson"},"score":0,"creation_date":1694517185,"post_id":77085999,"comment_id":135898260,"body_markdown":"Thank you for your response. Will do it and get back.","body":"Thank you for your response. Will do it and get back."},{"owner":{"account_id":10306569,"reputation":1,"user_id":7603627,"display_name":"Miriam Samson"},"score":0,"creation_date":1694541148,"post_id":77085999,"comment_id":135903760,"body_markdown":"I tried it. Now it shows JVM terminated. Exit code = 127","body":"I tried it. Now it shows JVM terminated. Exit code = 127"},{"owner":{"account_id":10306569,"reputation":1,"user_id":7603627,"display_name":"Miriam Samson"},"score":0,"creation_date":1694574600,"post_id":77085999,"comment_id":135907786,"body_markdown":"https://i.stack.imgur.com/MGTr1.png","body":"<a href=\"https://i.stack.imgur.com/MGTr1.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/MGTr1.png</a>"}],"owner":{"account_id":10306569,"reputation":1,"user_id":7603627,"display_name":"Miriam Samson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694574566,"creation_date":1694490826,"question_id":77085999,"body_markdown":"I installed Eclipse through the Ubuntu Software Center of Ubuntu 16.04 LTS and got the below error on opening. \r\nMy jdk version is 17:\r\nopenjdk 17-ea 2021-09-14\r\nOpenJDK Runtime Environment (build 17-ea+11-Ubuntu-116.042)\r\nOpenJDK 64-Bit Server VM (build 17-ea+11-Ubuntu-116.042, mixed mode, sharing)\r\n\r\nCan anyone please help me solve it?\r\n\r\n[Screenshot of the error](https://i.stack.imgur.com/SOEnM.png)\r\n```\r\nJVM terminated. Exit code=1\r\n    /usr/bin/java\r\n    -Xms40m\r\n    -Xmx384m\r\n    -Dorg.eclipse.equinox.p2.reconciler.dropins.directory=/usr/share/eclipse/dropins\r\n    -XX:MaxPermSize=256m\r\n    -jar /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\r\n    -os linux\r\n    -ws gtk\r\n    -arch x86_64\r\n    -showsplash /usr/lib/eclipse//plugins/org.eclipse.platform_3.8.1.dist/splash.bmp\r\n    -launcher /usr/lib/eclipse/eclipse\r\n    -name Eclipse\r\n    --launcher.library     \r\n  /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.200.dist/eclipse_1503.so\r\n    -startup /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\r\n    --launcher.overrideVmargs\r\n    -exitdata 2b8011\r\n    -vm /usr/bin/java\r\n    -vmargs\r\n    -Xms40m\r\n    -Xmx384m\r\n    -Dorg.eclipse.equinox.p2.reconciler.dropins.directory=/usr/share/eclipse/dropins\r\n   -XX:MaxPermSize=256m\r\n   -jar /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\r\n\r\n```\r\n\r\n\r\n**EDIT 2**\r\n[SCREENSHOT2][1]\r\n  [1]: https://i.stack.imgur.com/MGTr1.png","title":"Error while launching Eclipse installed via Ubuntu Software Center","body":"<p>I installed Eclipse through the Ubuntu Software Center of Ubuntu 16.04 LTS and got the below error on opening.\nMy jdk version is 17:\nopenjdk 17-ea 2021-09-14\nOpenJDK Runtime Environment (build 17-ea+11-Ubuntu-116.042)\nOpenJDK 64-Bit Server VM (build 17-ea+11-Ubuntu-116.042, mixed mode, sharing)</p>\n<p>Can anyone please help me solve it?</p>\n<p><a href=\"https://i.stack.imgur.com/SOEnM.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a></p>\n<pre><code>JVM terminated. Exit code=1\n    /usr/bin/java\n    -Xms40m\n    -Xmx384m\n    -Dorg.eclipse.equinox.p2.reconciler.dropins.directory=/usr/share/eclipse/dropins\n    -XX:MaxPermSize=256m\n    -jar /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\n    -os linux\n    -ws gtk\n    -arch x86_64\n    -showsplash /usr/lib/eclipse//plugins/org.eclipse.platform_3.8.1.dist/splash.bmp\n    -launcher /usr/lib/eclipse/eclipse\n    -name Eclipse\n    --launcher.library     \n  /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.200.dist/eclipse_1503.so\n    -startup /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\n    --launcher.overrideVmargs\n    -exitdata 2b8011\n    -vm /usr/bin/java\n    -vmargs\n    -Xms40m\n    -Xmx384m\n    -Dorg.eclipse.equinox.p2.reconciler.dropins.directory=/usr/share/eclipse/dropins\n   -XX:MaxPermSize=256m\n   -jar /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\n\n</code></pre>\n<p><strong>EDIT 2</strong>\n[SCREENSHOT2][1]\n[1]: https://i.stack.imgur.com/MGTr1.png</p>\n"},{"tags":["java","file-io","utf-8","character-encoding","windows-1252"],"answers":[{"tags":[],"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"down_vote_count":2,"up_vote_count":37,"is_accepted":true,"score":35,"last_activity_date":1393312268,"creation_date":1345743002,"answer_id":12097102,"question_id":12096844,"body_markdown":"So, first, as a heads up, do realize that `fileName.getBytes()` as you have there gets the bytes of the filename, not the file itself.\r\n\r\nSecond, reading inside the docs of [FileReader][1]:\r\n\r\n&gt; The constructors of this class assume that the default character\r\n&gt; encoding and the default byte-buffer size are appropriate. To specify\r\n&gt; these values yourself, construct an InputStreamReader on a\r\n&gt; FileInputStream.\r\n\r\nSo, sounds like FileReader actually isn&#39;t the way to go. If we take the advice in the docs, then you should just change your code to have:\r\n\r\n    String fileName = getFileNameToReadFromUserInput();\r\n    FileInputStream is = new FileInputStream(fileName);\r\n    InputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\r\n    BufferedReader buffReader = new BufferedReader(isr);\r\n\r\nand not try to make a FileReader at all.\r\n\r\n  [1]:http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileReader.html","title":"How to read a file in Java with specific character encoding?","body":"<p>So, first, as a heads up, do realize that <code>fileName.getBytes()</code> as you have there gets the bytes of the filename, not the file itself.</p>\n\n<p>Second, reading inside the docs of <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileReader.html\" rel=\"noreferrer\">FileReader</a>:</p>\n\n<blockquote>\n  <p>The constructors of this class assume that the default character\n  encoding and the default byte-buffer size are appropriate. To specify\n  these values yourself, construct an InputStreamReader on a\n  FileInputStream.</p>\n</blockquote>\n\n<p>So, sounds like FileReader actually isn't the way to go. If we take the advice in the docs, then you should just change your code to have:</p>\n\n<pre><code>String fileName = getFileNameToReadFromUserInput();\nFileInputStream is = new FileInputStream(fileName);\nInputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\nBufferedReader buffReader = new BufferedReader(isr);\n</code></pre>\n\n<p>and not try to make a FileReader at all.</p>\n"},{"tags":[],"owner":{"account_id":172592,"reputation":1372,"user_id":400717,"accept_rate":91,"display_name":"shadowmatter"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1436920803,"creation_date":1436920803,"answer_id":31419652,"question_id":12096844,"body_markdown":"Note that if you are using [Google Guava](https://code.google.com/p/guava-libraries/), you can use [`Files.newReader`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html#newReader(java.io.File,%20java.nio.charset.Charset)):\r\n\r\n    final BufferedReader reader =\r\n            Files.newReader(new File(filename), getCorrectCharsetToApply());","title":"How to read a file in Java with specific character encoding?","body":"<p>Note that if you are using <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Google Guava</a>, you can use <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html#newReader(java.io.File,%20java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.newReader</code></a>:</p>\n\n<pre><code>final BufferedReader reader =\n        Files.newReader(new File(filename), getCorrectCharsetToApply());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8123741,"reputation":1271,"user_id":7037546,"display_name":"dlauzon"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1508965547,"creation_date":1508965547,"answer_id":46942059,"question_id":12096844,"body_markdown":"With Java 7+, you can create the Reader in one line:\r\n\r\n`BufferedReader buffReader = Files.newBufferedReader(Paths.get(fileName), getCorrectCharsetToApply());`","title":"How to read a file in Java with specific character encoding?","body":"<p>With Java 7+, you can create the Reader in one line:</p>\n\n<p><code>BufferedReader buffReader = Files.newBufferedReader(Paths.get(fileName), getCorrectCharsetToApply());</code></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694574510,"creation_date":1694574510,"answer_id":77093801,"question_id":12096844,"body_markdown":"Java does not die if you pick the wrong charset. The code is perfectly fine like this, but you may want to read the file content instead of the file name:\r\n\r\n    String fileName = getFileNameToReadFromUserInput();\r\n    InputStream is = new ByteArrayInputStream(fileName.getBytes());\r\n    InputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\r\n    BufferedReader buffReader = new BufferedReader(isr);\r\n\r\nJust consider what exactly will happen if you pick the wrong encoding: Java will throw an Exception. All you need to do is handle this situation, then you can iterate over all the charsets Java knows about:\r\n\r\n    void processFile(String fileName, Charset charset) {\r\n        try (\r\n            InputStream is = new FileInputStream(fileName);\r\n            InputStreamReader isr = new InputStreamReader(is, charset);\r\n            BufferedReader buffReader = new BufferedReader(isr);\r\n        ) {\r\n            ... (do whatever you have to do here by reading buffReader)\r\n        }\r\n    }\r\n\r\n    void main(String[]) {\r\n        String fileName = getFileNameToReadFromUserInput();\r\n\r\n        // try all the known charsets\r\n        for (Charset charset: Charset.availableCharsets().values()) {\r\n            try {\r\n                processFile(fileName, charset);\r\n                // still here? then it was successful\r\n                return;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Reading &quot; + fileName + &quot; with &quot; + charset + &quot; resulted in&quot;);\r\n                e.printStackTrace();\r\n                System.out.println(&quot;Trying next...&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe try-with-resources block inside processFile ensures all files/streams/buffers get closed when they are no longer needed.\r\nThe try/catch block in the main method ensures the program does not die in case we picked the wrong charset.","title":"How to read a file in Java with specific character encoding?","body":"<p>Java does not die if you pick the wrong charset. The code is perfectly fine like this, but you may want to read the file content instead of the file name:</p>\n<pre><code>String fileName = getFileNameToReadFromUserInput();\nInputStream is = new ByteArrayInputStream(fileName.getBytes());\nInputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\nBufferedReader buffReader = new BufferedReader(isr);\n</code></pre>\n<p>Just consider what exactly will happen if you pick the wrong encoding: Java will throw an Exception. All you need to do is handle this situation, then you can iterate over all the charsets Java knows about:</p>\n<pre><code>void processFile(String fileName, Charset charset) {\n    try (\n        InputStream is = new FileInputStream(fileName);\n        InputStreamReader isr = new InputStreamReader(is, charset);\n        BufferedReader buffReader = new BufferedReader(isr);\n    ) {\n        ... (do whatever you have to do here by reading buffReader)\n    }\n}\n\nvoid main(String[]) {\n    String fileName = getFileNameToReadFromUserInput();\n\n    // try all the known charsets\n    for (Charset charset: Charset.availableCharsets().values()) {\n        try {\n            processFile(fileName, charset);\n            // still here? then it was successful\n            return;\n        } catch (Exception e) {\n            System.out.println(&quot;Reading &quot; + fileName + &quot; with &quot; + charset + &quot; resulted in&quot;);\n            e.printStackTrace();\n            System.out.println(&quot;Trying next...&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The try-with-resources block inside processFile ensures all files/streams/buffers get closed when they are no longer needed.\nThe try/catch block in the main method ensures the program does not die in case we picked the wrong charset.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70027,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":12097102,"answer_count":4,"score":29,"last_activity_date":1694574510,"creation_date":1345741967,"question_id":12096844,"body_markdown":"I am trying to read a file in as either UTF-8 or Windows-1252 depending on the output of this method:\r\n\r\n    public Charset getCorrectCharsetToApply() {\r\n        // Returns a Charset for either UTF-8 or Windows-1252.\r\n    }\r\n\r\nSo far, I have:\r\n\r\n    String fileName = getFileNameToReadFromUserInput();\r\n    InputStream is = new ByteArrayInputStream(fileName.getBytes());\r\n    InputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\r\n    BufferedReader buffReader = new BufferedReader(isr);\r\n\r\nThe problem I&#39;m having is converting the `BufferedReader` instance to a `FileReader`.\r\n\r\nFurthermore:\r\n\r\n* The name of the file itself (`fileName`) cannot be trusted to be a particular `Charset`; sometime the file name will contain UTF-8 characters, and sometimes Windows-1252. Same goes for the file&#39;s content (however if file name and file content will *always* have matching charsets).\r\n* Only the logic inside `getCorrectCharsetToApply()` can select the charset to apply, so attempting to read a file by its name *prior* to calling this method could very well result with, Java trying to read the file name with the wrong encoding...which causes it to die!\r\n\r\nThanks in advance!","title":"How to read a file in Java with specific character encoding?","body":"<p>I am trying to read a file in as either UTF-8 or Windows-1252 depending on the output of this method:</p>\n\n<pre><code>public Charset getCorrectCharsetToApply() {\n    // Returns a Charset for either UTF-8 or Windows-1252.\n}\n</code></pre>\n\n<p>So far, I have:</p>\n\n<pre><code>String fileName = getFileNameToReadFromUserInput();\nInputStream is = new ByteArrayInputStream(fileName.getBytes());\nInputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\nBufferedReader buffReader = new BufferedReader(isr);\n</code></pre>\n\n<p>The problem I'm having is converting the <code>BufferedReader</code> instance to a <code>FileReader</code>.</p>\n\n<p>Furthermore:</p>\n\n<ul>\n<li>The name of the file itself (<code>fileName</code>) cannot be trusted to be a particular <code>Charset</code>; sometime the file name will contain UTF-8 characters, and sometimes Windows-1252. Same goes for the file's content (however if file name and file content will <em>always</em> have matching charsets).</li>\n<li>Only the logic inside <code>getCorrectCharsetToApply()</code> can select the charset to apply, so attempting to read a file by its name <em>prior</em> to calling this method could very well result with, Java trying to read the file name with the wrong encoding...which causes it to die!</li>\n</ul>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1488877706,"creation_date":1488877706,"answer_id":42644145,"question_id":42643963,"body_markdown":"`classpath:` isn&#39;t a protocol.  Protocol is usually `http://` or `ftp://` (and lots of others).","title":"MalformedUrlException unknown protocol classpath in Java","body":"<p><code>classpath:</code> isn't a protocol.  Protocol is usually <code>http://</code> or <code>ftp://</code> (and lots of others).</p>\n"},{"tags":[],"owner":{"account_id":980385,"reputation":11895,"user_id":1000254,"accept_rate":92,"display_name":"shizhz"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1488878019,"creation_date":1488878019,"answer_id":42644234,"question_id":42643963,"body_markdown":"You already got the answer from the exception message:\r\n\r\n&gt; unknown protocol: classpath\r\n\r\nTry to use `file://` protocol or `getClass().getClassLoader().getResource()` to load resource directory. Otherwise you need to implement and register `URL handler` for your `protocol` if you have to do it this way.\r\n\r\nPlease refer to [this SO thread][1] for more info.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/861500/url-to-load-resources-from-the-classpath-in-java","title":"MalformedUrlException unknown protocol classpath in Java","body":"<p>You already got the answer from the exception message:</p>\n\n<blockquote>\n  <p>unknown protocol: classpath</p>\n</blockquote>\n\n<p>Try to use <code>file://</code> protocol or <code>getClass().getClassLoader().getResource()</code> to load resource directory. Otherwise you need to implement and register <code>URL handler</code> for your <code>protocol</code> if you have to do it this way.</p>\n\n<p>Please refer to <a href=\"https://stackoverflow.com/questions/861500/url-to-load-resources-from-the-classpath-in-java\">this SO thread</a> for more info.</p>\n"}],"owner":{"account_id":6812667,"reputation":3184,"user_id":15206072,"display_name":"Sumanth Jois"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15469,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694574475,"creation_date":1488877090,"question_id":42643963,"body_markdown":"I am trying set the value of a URL instance variable as the classpath but I am getting the below error:\r\n \r\n\r\n    Exception in thread &quot;main&quot; java.net.MalformedURLException: unknown protocol: classpath\r\n    \tat java.net.URL.&lt;init&gt;(URL.java:600)\r\n    \tat java.net.URL.&lt;init&gt;(URL.java:490)\r\n    \tat java.net.URL.&lt;init&gt;(URL.java:439)\r\n    \tat com.foodprocessor.App.main(App.java:18)\r\n    C:\\Users\\admin\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\n\r\n\r\nThis is my code:\r\n\r\n  \r\n\r\n        public class App {\r\n        public static void main(String[] args) throws MalformedURLException{\r\n            MyEnvironmentA env = new MyEnvironmentA(new URL(&quot;classpath:&quot;+System.getProperty(&quot;java.class.path&quot;)));\r\n            env.run(&quot;ChocolateMilk&quot;);\r\n         }\r\n       }\r\n\r\nWhere am I going wrong?\r\n","title":"MalformedUrlException unknown protocol classpath in Java","body":"<p>I am trying set the value of a URL instance variable as the classpath but I am getting the below error:</p>\n\n<pre><code>Exception in thread \"main\" java.net.MalformedURLException: unknown protocol: classpath\n    at java.net.URL.&lt;init&gt;(URL.java:600)\n    at java.net.URL.&lt;init&gt;(URL.java:490)\n    at java.net.URL.&lt;init&gt;(URL.java:439)\n    at com.foodprocessor.App.main(App.java:18)\nC:\\Users\\admin\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>    public class App {\n    public static void main(String[] args) throws MalformedURLException{\n        MyEnvironmentA env = new MyEnvironmentA(new URL(\"classpath:\"+System.getProperty(\"java.class.path\")));\n        env.run(\"ChocolateMilk\");\n     }\n   }\n</code></pre>\n\n<p>Where am I going wrong?</p>\n"},{"tags":["java","css","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":25351110,"reputation":132,"user_id":19167964,"display_name":"theaminuldev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694573404,"creation_date":1694573404,"answer_id":77093747,"question_id":77092964,"body_markdown":"**PDF Conversion Settings**: Check the settings and options of the tool or library you are using to convert your Thymeleaf template to PDF. Some PDF conversion libraries may have specific configuration options related to CSS processing. Ensure that CSS processing is enabled and configured correctly.\r\n\r\n**Fallback Values:** If the PDF rendering engine doesn&#39;t support CSS variables, you may need to provide fallback values directly in your CSS rules for properties that use variables. This way, even if the variable is not supported, the PDF will still render with the specified styles.\r\n\r\n    /* Fallback value in case the variable is not supported */\r\n    element {\r\n      property: var(--my-variable, #ff0000);\r\n    }\r\n\r\n","title":"CSS var() function does not work in Thymeleaf template to PDF","body":"<p><strong>PDF Conversion Settings</strong>: Check the settings and options of the tool or library you are using to convert your Thymeleaf template to PDF. Some PDF conversion libraries may have specific configuration options related to CSS processing. Ensure that CSS processing is enabled and configured correctly.</p>\n<p><strong>Fallback Values:</strong> If the PDF rendering engine doesn't support CSS variables, you may need to provide fallback values directly in your CSS rules for properties that use variables. This way, even if the variable is not supported, the PDF will still render with the specified styles.</p>\n<pre><code>/* Fallback value in case the variable is not supported */\nelement {\n  property: var(--my-variable, #ff0000);\n}\n</code></pre>\n"}],"owner":{"account_id":17925663,"reputation":190,"user_id":13024985,"display_name":"Lynxian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694573404,"creation_date":1694556531,"question_id":77092964,"body_markdown":"I&#39;m currently trying to create a report in PDF and am currently trying to use Thymeleaf to create an HTML template which I then try to convert to a PDF using flyingsaucer. It&#39;s working fairly well except, for some reason, I can declare all the CSS variables I like, the stylesheet won&#39;t actually use the colors stored in the variables when using the CSS `var()` function. A little example:\r\n\r\n**pom.xml**\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\r\n  &lt;version&gt;9.1.22&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**template.html**\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n    &lt;link th:href=&quot;@{/css/report.css}&quot; rel=&quot;stylesheet&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div class=&quot;document-titles&quot;&gt;\r\n        &lt;h1 class=&quot;document-title&quot;&gt;Baking report&lt;/h1&gt;&lt;br /&gt;\r\n        &lt;h2 class=&quot;document-date&quot;&gt;September 2023&lt;/h2&gt;&lt;br /&gt;\r\n        &lt;h3 class=&quot;document-project-name&quot;&gt;Project name: cake&lt;/h3&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;h1&gt;Test h1&lt;/h1&gt;\r\n    &lt;h1&gt;Test h1b (should be on next page (and it is!))&lt;/h1&gt;\r\n    &lt;ul&gt;\r\n        &lt;li&gt;A&lt;/li&gt;\r\n        &lt;li&gt;B&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n    &lt;ol&gt;\r\n        &lt;li&gt;Cake&lt;/li&gt;\r\n        &lt;li&gt;Pie&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Name&lt;/th&gt;\r\n            &lt;th&gt;Amount&lt;/th&gt;\r\n            &lt;th&gt;Price&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;Eggs&lt;/td&gt;\r\n            &lt;td&gt;4&lt;/td&gt;\r\n            &lt;td&gt;€4&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;Flour&lt;/td&gt;\r\n            &lt;td&gt;300 gr&lt;/td&gt;\r\n            &lt;td&gt;€1&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**report.css**\r\n```css\r\n:root {\r\n    /* Colors */\r\n    --blue: #00a8dc;\r\n    --grey: #9badbf;\r\n    --text-black: #212529;\r\n    --white: #fff;\r\n}\r\n\r\n@page {\r\n    size: a4;\r\n    orientation: portrait;\r\n}\r\n\r\n@page:first {\r\n    margin: 0;\r\n    background-image: url(&quot;../images/report-cover.jpg&quot;);\r\n    background-size: cover;\r\n}\r\n\r\nh1 {\r\n    page-break-before: always;\r\n    color: var(--blue); /* THIS IS COMPLETELY IGNORED; H1 REMAINS DEFAULT BLACK */\r\n}\r\n\r\nh1.document-title, h2.document-date, h3.document-project-name {\r\n    page-break-before: avoid;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n```\r\n\r\n**PdfProofOfConcept.java**\r\n```java\r\npackage com.acme.reports;\r\n\r\nimport org.thymeleaf.TemplateEngine;\r\nimport org.thymeleaf.context.Context;\r\nimport org.thymeleaf.context.IExpressionContext;\r\nimport org.thymeleaf.linkbuilder.StandardLinkBuilder;\r\nimport org.thymeleaf.templatemode.TemplateMode;\r\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\r\nimport org.xhtmlrenderer.pdf.ITextRenderer;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.util.Map;\r\n\r\npublic class PdfProofOfConcept {\r\n\r\n    // https://www.baeldung.com/thymeleaf-generate-pdf\r\n    public static void main(String... args) throws IOException {\r\n        String template = parseThymeleafTemplate();\r\n        generatePdfFromHtml(template);\r\n    }\r\n\r\n    private static void generatePdfFromHtml(String html) throws IOException {\r\n        String outputFolder = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;thymeleaf_report.pdf&quot;;\r\n        OutputStream outputStream = new FileOutputStream(outputFolder);\r\n\r\n        ITextRenderer renderer = new ITextRenderer();\r\n        renderer.setDocumentFromString(html);\r\n        renderer.layout();\r\n        renderer.createPDF(outputStream);\r\n\r\n        outputStream.close();\r\n    }\r\n\r\n    private static String parseThymeleafTemplate() {\r\n        ClassLoaderTemplateResolver htmlTemplateResolver = new ClassLoaderTemplateResolver();\r\n        htmlTemplateResolver.setSuffix(&quot;.html&quot;);\r\n        htmlTemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n\r\n        TemplateEngine templateEngine = new TemplateEngine();\r\n        templateEngine.setTemplateResolver(htmlTemplateResolver);\r\n        templateEngine.setLinkBuilder(new CustomLinkBuilder());\r\n\r\n        Context context = new Context();\r\n        context.setVariable(&quot;secretIngredient&quot;, &quot;Chocolate chips&quot;);\r\n\r\n        return templateEngine.process(&quot;templates/report/thymeleaf_report&quot;, context);\r\n    }\r\n\r\n}\r\n\r\n// Needed for using relative links in an offline setting (e.g. without a webserver)\r\n// https://stackoverflow.com/a/74511450\r\nclass CustomLinkBuilder extends StandardLinkBuilder {\r\n    @Override\r\n    protected String computeContextPath(IExpressionContext context, String base, Map&lt;String, Object&gt; parameters) {\r\n        return &quot;./src/main/resources/static&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs the final bit of code shows, I ran into an issue where loading the stylesheet in the HTML didn&#39;t work because Thymeleaf expected it to be served from a `HttpServletRequest` whereas there is not webserver running in my case, so resources referenced and consumed (such as stylesheet, javascript and images) need to have a custom link built as it&#39;s not served from a webserver. (Hence the `CustomLinkBuilder`.) I&#39;m thinking maybe something similar here is happening for the css `var()` function where normally the necessary CSS preprocessing happens in a browser or on a server. Am I correct and if so, how do I build my own preprocessor? (At least for the `var()` function.) Or is there another explanation as to why native CSS functions do not work with Thymeleaf?","title":"CSS var() function does not work in Thymeleaf template to PDF","body":"<p>I'm currently trying to create a report in PDF and am currently trying to use Thymeleaf to create an HTML template which I then try to convert to a PDF using flyingsaucer. It's working fairly well except, for some reason, I can declare all the CSS variables I like, the stylesheet won't actually use the colors stored in the variables when using the CSS <code>var()</code> function. A little example:</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n  &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n  &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\n  &lt;version&gt;9.1.22&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>template.html</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot; /&gt;\n    &lt;link th:href=&quot;@{/css/report.css}&quot; rel=&quot;stylesheet&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;document-titles&quot;&gt;\n        &lt;h1 class=&quot;document-title&quot;&gt;Baking report&lt;/h1&gt;&lt;br /&gt;\n        &lt;h2 class=&quot;document-date&quot;&gt;September 2023&lt;/h2&gt;&lt;br /&gt;\n        &lt;h3 class=&quot;document-project-name&quot;&gt;Project name: cake&lt;/h3&gt;\n    &lt;/div&gt;\n\n    &lt;h1&gt;Test h1&lt;/h1&gt;\n    &lt;h1&gt;Test h1b (should be on next page (and it is!))&lt;/h1&gt;\n    &lt;ul&gt;\n        &lt;li&gt;A&lt;/li&gt;\n        &lt;li&gt;B&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;ol&gt;\n        &lt;li&gt;Cake&lt;/li&gt;\n        &lt;li&gt;Pie&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Amount&lt;/th&gt;\n            &lt;th&gt;Price&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Eggs&lt;/td&gt;\n            &lt;td&gt;4&lt;/td&gt;\n            &lt;td&gt;€4&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Flour&lt;/td&gt;\n            &lt;td&gt;300 gr&lt;/td&gt;\n            &lt;td&gt;€1&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>report.css</strong></p>\n<pre class=\"lang-css prettyprint-override\"><code>:root {\n    /* Colors */\n    --blue: #00a8dc;\n    --grey: #9badbf;\n    --text-black: #212529;\n    --white: #fff;\n}\n\n@page {\n    size: a4;\n    orientation: portrait;\n}\n\n@page:first {\n    margin: 0;\n    background-image: url(&quot;../images/report-cover.jpg&quot;);\n    background-size: cover;\n}\n\nh1 {\n    page-break-before: always;\n    color: var(--blue); /* THIS IS COMPLETELY IGNORED; H1 REMAINS DEFAULT BLACK */\n}\n\nh1.document-title, h2.document-date, h3.document-project-name {\n    page-break-before: avoid;\n    margin: 0;\n    padding: 0;\n}\n</code></pre>\n<p><strong>PdfProofOfConcept.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.acme.reports;\n\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.Context;\nimport org.thymeleaf.context.IExpressionContext;\nimport org.thymeleaf.linkbuilder.StandardLinkBuilder;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\nimport org.xhtmlrenderer.pdf.ITextRenderer;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.Map;\n\npublic class PdfProofOfConcept {\n\n    // https://www.baeldung.com/thymeleaf-generate-pdf\n    public static void main(String... args) throws IOException {\n        String template = parseThymeleafTemplate();\n        generatePdfFromHtml(template);\n    }\n\n    private static void generatePdfFromHtml(String html) throws IOException {\n        String outputFolder = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;thymeleaf_report.pdf&quot;;\n        OutputStream outputStream = new FileOutputStream(outputFolder);\n\n        ITextRenderer renderer = new ITextRenderer();\n        renderer.setDocumentFromString(html);\n        renderer.layout();\n        renderer.createPDF(outputStream);\n\n        outputStream.close();\n    }\n\n    private static String parseThymeleafTemplate() {\n        ClassLoaderTemplateResolver htmlTemplateResolver = new ClassLoaderTemplateResolver();\n        htmlTemplateResolver.setSuffix(&quot;.html&quot;);\n        htmlTemplateResolver.setTemplateMode(TemplateMode.HTML);\n\n        TemplateEngine templateEngine = new TemplateEngine();\n        templateEngine.setTemplateResolver(htmlTemplateResolver);\n        templateEngine.setLinkBuilder(new CustomLinkBuilder());\n\n        Context context = new Context();\n        context.setVariable(&quot;secretIngredient&quot;, &quot;Chocolate chips&quot;);\n\n        return templateEngine.process(&quot;templates/report/thymeleaf_report&quot;, context);\n    }\n\n}\n\n// Needed for using relative links in an offline setting (e.g. without a webserver)\n// https://stackoverflow.com/a/74511450\nclass CustomLinkBuilder extends StandardLinkBuilder {\n    @Override\n    protected String computeContextPath(IExpressionContext context, String base, Map&lt;String, Object&gt; parameters) {\n        return &quot;./src/main/resources/static&quot;;\n    }\n}\n\n</code></pre>\n<p>As the final bit of code shows, I ran into an issue where loading the stylesheet in the HTML didn't work because Thymeleaf expected it to be served from a <code>HttpServletRequest</code> whereas there is not webserver running in my case, so resources referenced and consumed (such as stylesheet, javascript and images) need to have a custom link built as it's not served from a webserver. (Hence the <code>CustomLinkBuilder</code>.) I'm thinking maybe something similar here is happening for the css <code>var()</code> function where normally the necessary CSS preprocessing happens in a browser or on a server. Am I correct and if so, how do I build my own preprocessor? (At least for the <code>var()</code> function.) Or is there another explanation as to why native CSS functions do not work with Thymeleaf?</p>\n"},{"tags":["java","python","mysql","sqlalchemy","tornado"],"comments":[{"owner":{"account_id":137505,"reputation":19738,"user_id":341730,"display_name":"univerio"},"score":1,"creation_date":1497463178,"post_id":44550898,"comment_id":76093886,"body_markdown":"`session.query(OrderInfo).all()` is a list of `OrderInfo` objects.","body":"<code>session.query(OrderInfo).all()</code> is a list of <code>OrderInfo</code> objects."},{"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"score":0,"creation_date":1497496740,"post_id":44550898,"comment_id":76105837,"body_markdown":"_decl_class_registry\n_sa_class_manager\n_sa_instance_state\nmetadata\nquery\nid\nname\nage\ncreate_time\nupdate_time\nversion","body":"_decl_class_registry _sa_class_manager _sa_instance_state metadata query id name age create_time update_time version"},{"owner":{"account_id":137505,"reputation":19738,"user_id":341730,"display_name":"univerio"},"score":0,"creation_date":1497497450,"post_id":44550898,"comment_id":76106008,"body_markdown":"You want a list of `OrderInfo` objects but you are surprised that each one has attributes that are on `OrderInfo` objects?? If this were Java, would you be surprised that your `OrderInfo` objects have `toString` on them?","body":"You want a list of <code>OrderInfo</code> objects but you are surprised that each one has attributes that are on <code>OrderInfo</code> objects?? If this were Java, would you be surprised that your <code>OrderInfo</code> objects have <code>toString</code> on them?"},{"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"score":0,"creation_date":1497498655,"post_id":44550898,"comment_id":76106276,"body_markdown":"@univerio, In fact,   i want to get OrderInfo object that from query result,  but  the result of query which includes  many excess columns (_decl_class_registry,       \n_sa_class_manager,      \n_sa_instance_state,    \nmetadata,       \nquery)  for me, i only want to (id,name,age,create_time,update_time,version ) which include a property of query,  The other what do not i want to get.","body":"@univerio, In fact,   i want to get OrderInfo object that from query result,  but  the result of query which includes  many excess columns (_decl_class_registry,        _sa_class_manager,       _sa_instance_state,     metadata,        query)  for me, i only want to (id,name,age,create_time,update_time,version ) which include a property of query,  The other what do not i want to get."},{"owner":{"account_id":137505,"reputation":19738,"user_id":341730,"display_name":"univerio"},"score":0,"creation_date":1497502419,"post_id":44550898,"comment_id":76107258,"body_markdown":"I&#39;m afraid you&#39;re gonna have to fix your English. You are asking something different in your title (a `List&lt;OrderInfo&gt;` in Java terms) compared to your comments (a `List&lt;Dictionary&lt;String, Object&gt;&gt;`). Please edit your question if you want to clarify it; do not leave comments as answers.","body":"I&#39;m afraid you&#39;re gonna have to fix your English. You are asking something different in your title (a <code>List&lt;OrderInfo&gt;</code> in Java terms) compared to your comments (a <code>List&lt;Dictionary&lt;String, Object&gt;&gt;</code>). Please edit your question if you want to clarify it; do not leave comments as answers."},{"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"score":0,"creation_date":1497503809,"post_id":44550898,"comment_id":76107716,"body_markdown":"i understand what you mean, i think about myself first,  my english is poor,  i do not express clearly.","body":"i understand what you mean, i think about myself first,  my english is poor,  i do not express clearly."}],"answers":[{"tags":[],"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694572292,"creation_date":1497507837,"answer_id":44560073,"question_id":44550898,"body_markdown":"\r\ni find the answer which i want to get:\r\n\r\n       def find_all(self):\r\n            result_list = []\r\n            orderDao = DaoUtil.DaoGeneric()\r\n            session = orderDao.getSession()\r\n            try:\r\n                for row in session.query(OrderInfo).all():\r\n                    result_list.append(DictUtil.object_as_dict(row))\r\n                session.commit()\r\n            except Exception, e:\r\n                print e\r\n                session.rollback()\r\n            return result_list\r\n    \r\n    \r\n    def object_as_dict(obj):\r\n        result = {instance.key: getattr(obj, instance.key)  for instance in inspect(obj).mapper.column_attrs}\r\n        print result\r\n        return result\r\n\r\noutput :\r\n\r\n    [\r\n    {&#39;updateTime&#39;: datetime.datetime(2017, 6, 15, 13, 56, 16), &#39;bankName&#39;: u&#39;ICBC&#39;, &#39;bankNo&#39;: u&#39;6228480666622220011&#39;, &#39;createTime&#39;: datetime.datetime(2017, 6, 15, 13, 56, 16), u&#39;version&#39;: 0, u&#39;id&#39;: 1}, \r\n    {&#39;updateTime&#39;: datetime.datetime(2017, 6, 15, 13, 57, 40), &#39;bankName&#39;: u&#39;ICBC&#39;, &#39;bankNo&#39;: u&#39;6228480666622220011&#39;, &#39;createTime&#39;: datetime.datetime(2017, 6, 15, 13, 57, 40), u&#39;version&#39;: 0, u&#39;id&#39;: 2}, \r\n    {&#39;updateTime&#39;: datetime.datetime(2017, 6, 15, 13, 58), &#39;bankName&#39;: u&#39;ICBC&#39;, &#39;bankNo&#39;: u&#39;6228480666622220011&#39;, &#39;createTime&#39;: datetime.datetime(2017, 6, 15, 13, 58), u&#39;version&#39;: 0, u&#39;id&#39;: 3}\r\n    ]\r\n\r\n","title":"How to return a list contains Object in sqlalchemy in python, is similar to List&lt;OrderInfo&gt; in java","body":"<p>i find the answer which i want to get:</p>\n<pre><code>   def find_all(self):\n        result_list = []\n        orderDao = DaoUtil.DaoGeneric()\n        session = orderDao.getSession()\n        try:\n            for row in session.query(OrderInfo).all():\n                result_list.append(DictUtil.object_as_dict(row))\n            session.commit()\n        except Exception, e:\n            print e\n            session.rollback()\n        return result_list\n\n\ndef object_as_dict(obj):\n    result = {instance.key: getattr(obj, instance.key)  for instance in inspect(obj).mapper.column_attrs}\n    print result\n    return result\n</code></pre>\n<p>output :</p>\n<pre><code>[\n{'updateTime': datetime.datetime(2017, 6, 15, 13, 56, 16), 'bankName': u'ICBC', 'bankNo': u'6228480666622220011', 'createTime': datetime.datetime(2017, 6, 15, 13, 56, 16), u'version': 0, u'id': 1}, \n{'updateTime': datetime.datetime(2017, 6, 15, 13, 57, 40), 'bankName': u'ICBC', 'bankNo': u'6228480666622220011', 'createTime': datetime.datetime(2017, 6, 15, 13, 57, 40), u'version': 0, u'id': 2}, \n{'updateTime': datetime.datetime(2017, 6, 15, 13, 58), 'bankName': u'ICBC', 'bankNo': u'6228480666622220011', 'createTime': datetime.datetime(2017, 6, 15, 13, 58), u'version': 0, u'id': 3}\n]\n</code></pre>\n"}],"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44560073,"answer_count":1,"score":0,"last_activity_date":1694572292,"creation_date":1497460401,"question_id":44550898,"body_markdown":"i want to get a list which contains entire OrderInfo Object, for example, if i do this, it is result which the result i want to.\r\n    \r\n    def find_all(self):\r\n        result_list = []\r\n        orderDao = DaoUtil.DaoGeneric()\r\n        session = orderDao.getSession()\r\n        try:\r\n            for row in session.query(OrderInfo).all():\r\n                result_list.append({\r\n                    &#39;id&#39;:row.id,\r\n                    &#39;name&#39;: row.name,\r\n                    &#39;age&#39;: row.age,\r\n                     &#39;create_time&#39;: row.create_time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;),\r\n                     &#39;update_time&#39;: row.update_time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;),\r\n                        &#39;version&#39;: row.version\r\n                    })\r\n                session.commit()\r\n        except Exception, e:\r\n             print e\r\n             session.rollback()\r\n        return  result_list\r\n    \r\n    \r\nbut i want to a list which contains OrderInfo object from the query, because the result which the query return have other columns (the simple list of all DeclarativeBase&#39;s instances.) except OrderInfo{id,name,age,create_time,update_time,version}, the query do not return OrderInfo object directly. the following which i want to:\r\n    \r\n    \r\n    def find_all(self):\r\n        result_list = []\r\n        orderDao = DaoUtil.DaoGeneric()\r\n        session = orderDao.getSession()\r\n            try:\r\n                for row in session.query(OrderInfo).all():\r\n                    result_list.append(row.orderInfo) // if the row has a property for orderInfo Object, because the result which java can achieve , the example  for java is :   List&lt;OrderInfo&gt; orderList = session.query(); please help to achieve it\r\n    \r\n    \r\n                session.commit()\r\n        except Exception, e:\r\n            print e\r\n            session.rollback()\r\n        return  result_list\r\n\r\n       \r\n    \r\nbeacause i use sqlalchemy in python just now,  i am not very sure. How to get a list which contains OrderInfo Object from query in sqlalchemy\r\n\r\n\r\n\r\n","title":"How to return a list contains Object in sqlalchemy in python, is similar to List&lt;OrderInfo&gt; in java","body":"<p>i want to get a list which contains entire OrderInfo Object, for example, if i do this, it is result which the result i want to.</p>\n\n<pre><code>def find_all(self):\n    result_list = []\n    orderDao = DaoUtil.DaoGeneric()\n    session = orderDao.getSession()\n    try:\n        for row in session.query(OrderInfo).all():\n            result_list.append({\n                'id':row.id,\n                'name': row.name,\n                'age': row.age,\n                 'create_time': row.create_time.strftime(\"%Y-%m-%d %H:%M:%S\"),\n                 'update_time': row.update_time.strftime(\"%Y-%m-%d %H:%M:%S\"),\n                    'version': row.version\n                })\n            session.commit()\n    except Exception, e:\n         print e\n         session.rollback()\n    return  result_list\n</code></pre>\n\n<p>but i want to a list which contains OrderInfo object from the query, because the result which the query return have other columns (the simple list of all DeclarativeBase's instances.) except OrderInfo{id,name,age,create_time,update_time,version}, the query do not return OrderInfo object directly. the following which i want to:</p>\n\n<pre><code>def find_all(self):\n    result_list = []\n    orderDao = DaoUtil.DaoGeneric()\n    session = orderDao.getSession()\n        try:\n            for row in session.query(OrderInfo).all():\n                result_list.append(row.orderInfo) // if the row has a property for orderInfo Object, because the result which java can achieve , the example  for java is :   List&lt;OrderInfo&gt; orderList = session.query(); please help to achieve it\n\n\n            session.commit()\n    except Exception, e:\n        print e\n        session.rollback()\n    return  result_list\n</code></pre>\n\n<p>beacause i use sqlalchemy in python just now,  i am not very sure. How to get a list which contains OrderInfo Object from query in sqlalchemy</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":3622573,"reputation":1784,"user_id":5077433,"display_name":"Robert Winkler"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1583390023,"creation_date":1583390023,"answer_id":60539421,"question_id":60528426,"body_markdown":"Dynamically registering CircuitBreakers for the HealthIndicator endpoint doesn&#39;t work at the moment.\r\nUnfortunately you have to configure them:\r\n\r\n```\r\nresilience4j.circuitbreaker:\r\n    configs:\r\n        default:\r\n            registerHealthIndicator: true\r\n    instances:\r\n        myCB:\r\n            baseConfig: default\r\n```\r\n\r\nYou could say it&#39;s a bug.\r\n\r\nhttps://github.com/resilience4j/resilience4j/blob/master/resilience4j-spring-boot2/src/main/java/io/github/resilience4j/circuitbreaker/monitoring/health/CircuitBreakersHealthIndicator.java#L99-L102","title":"spring boot actuator health endpoint + dynamic resilience4j circuit breakers","body":"<p>Dynamically registering CircuitBreakers for the HealthIndicator endpoint doesn't work at the moment.\nUnfortunately you have to configure them:</p>\n\n<pre><code>resilience4j.circuitbreaker:\n    configs:\n        default:\n            registerHealthIndicator: true\n    instances:\n        myCB:\n            baseConfig: default\n</code></pre>\n\n<p>You could say it's a bug.</p>\n\n<p><a href=\"https://github.com/resilience4j/resilience4j/blob/master/resilience4j-spring-boot2/src/main/java/io/github/resilience4j/circuitbreaker/monitoring/health/CircuitBreakersHealthIndicator.java#L99-L102\" rel=\"noreferrer\">https://github.com/resilience4j/resilience4j/blob/master/resilience4j-spring-boot2/src/main/java/io/github/resilience4j/circuitbreaker/monitoring/health/CircuitBreakersHealthIndicator.java#L99-L102</a></p>\n"},{"tags":[],"owner":{"account_id":19589013,"reputation":47,"user_id":16129883,"display_name":"mateo cunha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694572066,"creation_date":1694117849,"answer_id":77062620,"question_id":60528426,"body_markdown":"Late but sure.\r\nWith HTTP you need an extra configuration.\r\n\r\n    management:\r\n      security:\r\n        enabled:false\r\n      health:\r\n        circuitbreakers:\r\n          enabled: true\r\n      endpoint:\r\n        health:\r\n          show-details: &quot;ALWAYS&quot;\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: &quot;*&quot;\r\n\r\n    resilience4j.circuitbreaker:\r\n        configs:\r\n            default:\r\n               registerHealthIndicator: true\r\n\r\n\r\n","title":"spring boot actuator health endpoint + dynamic resilience4j circuit breakers","body":"<p>Late but sure.\nWith HTTP you need an extra configuration.</p>\n<pre><code>management:\n  security:\n    enabled:false\n  health:\n    circuitbreakers:\n      enabled: true\n  endpoint:\n    health:\n      show-details: &quot;ALWAYS&quot;\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n\nresilience4j.circuitbreaker:\n    configs:\n        default:\n           registerHealthIndicator: true\n</code></pre>\n"}],"owner":{"account_id":1358957,"reputation":2419,"user_id":1296709,"accept_rate":63,"display_name":"derabbink"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7642,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60539421,"answer_count":2,"score":6,"last_activity_date":1694572066,"creation_date":1583332437,"question_id":60528426,"body_markdown":"I have a spring boot app, which uses [resilience4j][resilience4j] AOP-based [`@CircuitBreaker`][resilience4j-aop-circuitbreaker]s.\n\nNow I would like to make the circuit breakers&#39; information available in the `/actuator/health` endpoint, but I&#39;m not seeing the `details.circuitBtreakers` objects [described in the docs][resilience4j-actuator-health] in the JSON output.\n\n### What am I doing wrong?\n\n---\n\nBy comparison, getting dynamic cache information to appear in the `/actuator/metrics` endpoint required a small amount of custom wiring, but this is [well documented][cache-actuator]. I wonder if there is a similar trick that I can apply for dynamically defined `@CircuitBreaker`s to be registerd with the `/actuator/health` endpoint.\n\n**`MyService.java`:**\n```java\n@Service\npublic class MyService {\n    @Autowired\n    private CacheManager cacheManager;\n    @Autowired\n    private CacheMetricsRegistrar cacheMetricsRegistrar;\n\n    @PostConstruct\n    public void postConstruct() {\n        // On-the-fly defined (annotation-based) caches are not auto-registered with micrometer metrics.\n        final Cache cache = cacheManager.getCache(&quot;myCache&quot;);\n        cacheMetricsRegistrar.bindCacheToRegistry(cache);\n    }\n\n    @CircuitBreaker(name = &quot;myCB&quot;, fallbackMethod = &quot;fallbackCallAnApi&quot;)\n    public String callAnApi() throws RestClientException {\n        // ...\n    }\n\n    @Cacheable(&quot;myCache&quot;)\n    public String getSomethingCacheable() {\n        // ...\n    }\n}\n```\n\n**`application.properties`:**\n```properties\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\nmanagement.endpoints.web.expose=health,metrics\nmanagement.endpoints.web.exposure.include=health,metrics\nmanagement.endpoint.health.enabled=true\nmanagement.endpoint.metrics.enabled=true\nmanagement.metrics.enable.resilience4j.circuitbreaker.calls=true\nmanagement.health.circuitbreakers.enabled=true\n```\n\n[resilience4j]: https://github.com/resilience4j/resilience4j\n[resilience4j-aop-circuitbreaker]: https://resilience4j.readme.io/docs/getting-started-3#section-annotations\n[resilience4j-actuator-health]: https://resilience4j.readme.io/docs/getting-started-3#section-health-endpoint\n[cache-actuator]: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-cache","title":"spring boot actuator health endpoint + dynamic resilience4j circuit breakers","body":"<p>I have a spring boot app, which uses <a href=\"https://github.com/resilience4j/resilience4j\" rel=\"nofollow noreferrer\">resilience4j</a> AOP-based <a href=\"https://resilience4j.readme.io/docs/getting-started-3#section-annotations\" rel=\"nofollow noreferrer\"><code>@CircuitBreaker</code></a>s.</p>\n<p>Now I would like to make the circuit breakers' information available in the <code>/actuator/health</code> endpoint, but I'm not seeing the <code>details.circuitBtreakers</code> objects <a href=\"https://resilience4j.readme.io/docs/getting-started-3#section-health-endpoint\" rel=\"nofollow noreferrer\">described in the docs</a> in the JSON output.</p>\n<h3>What am I doing wrong?</h3>\n<hr />\n<p>By comparison, getting dynamic cache information to appear in the <code>/actuator/metrics</code> endpoint required a small amount of custom wiring, but this is <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-cache\" rel=\"nofollow noreferrer\">well documented</a>. I wonder if there is a similar trick that I can apply for dynamically defined <code>@CircuitBreaker</code>s to be registerd with the <code>/actuator/health</code> endpoint.</p>\n<p><strong><code>MyService.java</code>:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n    @Autowired\n    private CacheManager cacheManager;\n    @Autowired\n    private CacheMetricsRegistrar cacheMetricsRegistrar;\n\n    @PostConstruct\n    public void postConstruct() {\n        // On-the-fly defined (annotation-based) caches are not auto-registered with micrometer metrics.\n        final Cache cache = cacheManager.getCache(&quot;myCache&quot;);\n        cacheMetricsRegistrar.bindCacheToRegistry(cache);\n    }\n\n    @CircuitBreaker(name = &quot;myCB&quot;, fallbackMethod = &quot;fallbackCallAnApi&quot;)\n    public String callAnApi() throws RestClientException {\n        // ...\n    }\n\n    @Cacheable(&quot;myCache&quot;)\n    public String getSomethingCacheable() {\n        // ...\n    }\n}\n</code></pre>\n<p><strong><code>application.properties</code>:</strong></p>\n<pre><code>resilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\nmanagement.endpoints.web.expose=health,metrics\nmanagement.endpoints.web.exposure.include=health,metrics\nmanagement.endpoint.health.enabled=true\nmanagement.endpoint.metrics.enabled=true\nmanagement.metrics.enable.resilience4j.circuitbreaker.calls=true\nmanagement.health.circuitbreakers.enabled=true\n</code></pre>\n"},{"tags":["java","jar","compilation","recompile","jd-gui"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1412929961,"post_id":26295087,"comment_id":41259697,"body_markdown":"And which answers have you found?","body":"And which answers have you found?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1412930288,"post_id":26295087,"comment_id":41259874,"body_markdown":"Compile it with `javac` and use `jar` to make a jar from the compiled class.","body":"Compile it with <code>javac</code> and use <code>jar</code> to make a jar from the compiled class."},{"owner":{"account_id":2277620,"reputation":1614,"user_id":2270995,"accept_rate":40,"display_name":"Pawan"},"score":0,"creation_date":1412930901,"post_id":26295087,"comment_id":41260215,"body_markdown":"i tried to compile the .java filed using `javac` but i get errors in various .java files -- error: package android.os does not exist, error: cannot file symbol .etc . how do i resolve these errors.","body":"i tried to compile the .java filed using <code>javac</code> but i get errors in various .java files -- error: package android.os does not exist, error: cannot file symbol .etc . how do i resolve these errors."}],"answers":[{"tags":[],"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412930391,"creation_date":1412930391,"answer_id":26295233,"question_id":26295087,"body_markdown":"As mentioned in your question, you have decompiled the class files to java files and have done necessary modifications. \r\n\r\nHope you have imported that as a project in eclipse. Export the same as jar. point to be noted is that you should know the dependencies for building the project","title":"Recompile the java files which is decompiled by JD-GUI from a jar","body":"<p>As mentioned in your question, you have decompiled the class files to java files and have done necessary modifications. </p>\n\n<p>Hope you have imported that as a project in eclipse. Export the same as jar. point to be noted is that you should know the dependencies for building the project</p>\n"}],"owner":{"account_id":2277620,"reputation":1614,"user_id":2270995,"accept_rate":40,"display_name":"Pawan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12174,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1694570820,"creation_date":1412929877,"question_id":26295087,"body_markdown":"I have a MyFile.jar file. I use JD-GUI to decompile it and used its &quot;Save All Sources&quot; options to save the files to a .zip file. Now extracted the .zip file and edited a .java file.\r\n\r\nthe folder structure after extracting .zip file is like this\r\n \r\n\r\n                           _____ META-INF(folder)\r\n    source(folder) -------|     \r\n                          ------com(folder)--&gt;example---&gt;App---&gt; all .java files   \r\n\r\nnow how do i recompile it back to .jar file ??     \r\n  ","title":"Recompile the java files which is decompiled by JD-GUI from a jar","body":"<p>I have a MyFile.jar file. I use JD-GUI to decompile it and used its \"Save All Sources\" options to save the files to a .zip file. Now extracted the .zip file and edited a .java file.</p>\n\n<p>the folder structure after extracting .zip file is like this</p>\n\n<pre><code>                       _____ META-INF(folder)\nsource(folder) -------|     \n                      ------com(folder)--&gt;example---&gt;App---&gt; all .java files   \n</code></pre>\n\n<p>now how do i recompile it back to .jar file ??     </p>\n"},{"tags":["java","design-patterns","asynchronous","callback","nested"],"comments":[{"owner":{"account_id":1060787,"reputation":5657,"user_id":1062461,"display_name":"Rob I"},"score":0,"creation_date":1337655385,"post_id":10695152,"comment_id":13883766,"body_markdown":"I know you said non-blocking was a necessity, but is there any way to reconsider that?  Could you make a second thread that blocks on each request, for example?  I could see that code being very clear with care.","body":"I know you said non-blocking was a necessity, but is there any way to reconsider that?  Could you make a second thread that blocks on each request, for example?  I could see that code being very clear with care."},{"owner":{"account_id":194756,"reputation":6085,"user_id":437282,"display_name":"Pavel Veller"},"score":1,"creation_date":1337656208,"post_id":10695152,"comment_id":13883915,"body_markdown":"self-contained operations will still be in some form of classes, anonymous or not, but still physically present. will have to wait for the project lambda to have more natural constructs for things like you&#39;re doing. I would also assume you need all this within &quot;plain java&quot; paradigms? Doesn&#39;t sound like you would like an external orchestration framework","body":"self-contained operations will still be in some form of classes, anonymous or not, but still physically present. will have to wait for the project lambda to have more natural constructs for things like you&#39;re doing. I would also assume you need all this within &quot;plain java&quot; paradigms? Doesn&#39;t sound like you would like an external orchestration framework"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337656495,"post_id":10695152,"comment_id":13883970,"body_markdown":"@Rob I: sadly, non-blocking is a must-have.","body":"@Rob I: sadly, non-blocking is a must-have."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337656734,"post_id":10695152,"comment_id":13883997,"body_markdown":"@Pavel Veller: &quot;plain Java&quot; is preferable, but if there&#39;s something out there that helps code this neatly, I&#39;ll consider it. Which part of Project Lambda (http://openjdk.java.net/projects/lambda/) did you see as being useful here?","body":"@Pavel Veller: &quot;plain Java&quot; is preferable, but if there&#39;s something out there that helps code this neatly, I&#39;ll consider it. Which part of Project Lambda (<a href=\"http://openjdk.java.net/projects/lambda/\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/lambda</a>) did you see as being useful here?"},{"owner":{"account_id":1060787,"reputation":5657,"user_id":1062461,"display_name":"Rob I"},"score":3,"creation_date":1337657006,"post_id":10695152,"comment_id":13884030,"body_markdown":"@AndrewSwan then since the implementation (not only the interface) must not block, I like your list idea - set up a list of &quot;operations&quot; (perhaps `Future`s?), for which the setup should be pretty clear.  Then upon receiving each response, the next operation should be invoked.  With a little imagination, this sounds like the [chain of responsibility](http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern).","body":"@AndrewSwan then since the implementation (not only the interface) must not block, I like your list idea - set up a list of &quot;operations&quot; (perhaps <code>Future</code>s?), for which the setup should be pretty clear.  Then upon receiving each response, the next operation should be invoked.  With a little imagination, this sounds like the <a href=\"http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\" rel=\"nofollow noreferrer\">chain of responsibility</a>."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337673166,"post_id":10695152,"comment_id":13887748,"body_markdown":"I&#39;ve looked at commons-chain, but unfortunately it only seems to support synchronous execution, because it blocks between each execution of Command#execute(). I&#39;ll see what I can whip up from scratch.","body":"I&#39;ve looked at commons-chain, but unfortunately it only seems to support synchronous execution, because it blocks between each execution of Command#execute(). I&#39;ll see what I can whip up from scratch."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337816145,"post_id":10695152,"comment_id":13937478,"body_markdown":"@Rob I, if you could make your CoR idea an answer, I can upvote it.","body":"@Rob I, if you could make your CoR idea an answer, I can upvote it."},{"owner":{"account_id":336344,"reputation":4289,"user_id":663948,"accept_rate":48,"display_name":"fifth"},"score":1,"creation_date":1409665879,"post_id":10695152,"comment_id":40034445,"body_markdown":"Would the [RxJava](https://github.com/ReactiveX/RxJava/wiki/Getting-Started) help?","body":"Would the <a href=\"https://github.com/ReactiveX/RxJava/wiki/Getting-Started\" rel=\"nofollow noreferrer\">RxJava</a> help?"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1409705687,"post_id":10695152,"comment_id":40052174,"body_markdown":"It might, from the quick look I just had. If you&#39;d like to add that as an answer, I&#39;ll upvote it.","body":"It might, from the quick look I just had. If you&#39;d like to add that as an answer, I&#39;ll upvote it."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1469768267,"post_id":10695152,"comment_id":64683519,"body_markdown":"SO doesn&#39;t want me to answer my own question, so I&#39;ll just note here that Spring 5 seems to offer some assistance when writing fully async applications: https://spring.io/blog/2016/07/28/reactive-programming-with-spring-5-0-m1","body":"SO doesn&#39;t want me to answer my own question, so I&#39;ll just note here that Spring 5 seems to offer some assistance when writing fully async applications: <a href=\"https://spring.io/blog/2016/07/28/reactive-programming-with-spring-5-0-m1\" rel=\"nofollow noreferrer\">spring.io/blog/2016/07/28/&hellip;</a>"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1471234319,"post_id":10695152,"comment_id":65253264,"body_markdown":"It&#39;s also not answering my own question, but Kotlin is adding coroutines to avoid &quot;callback hell&quot;: https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md","body":"It&#39;s also not answering my own question, but Kotlin is adding coroutines to avoid &quot;callback hell&quot;: <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlin-coroutines/blob/master/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337700514,"creation_date":1337662803,"answer_id":10695933,"question_id":10695152,"body_markdown":"You can use actor computing model. In your case, the client, services, and callbacks [B-D] all can be represented as actors.\r\n\r\nThere are many actor libraries for java. Most of them, however, are heavyweight, so I wrote a  compact and extendable one: [df4j][1]. It considers actor model as a specific case of more general dataflow computing model and, as a result, allows user to create new types of actors, to optimally fit user&#39;s requirements.\r\n\r\n  [1]: https://github.com/rfqu/df4j &quot;df4j&quot;","title":"Java pattern for nested callbacks?","body":"<p>You can use actor computing model. In your case, the client, services, and callbacks [B-D] all can be represented as actors.</p>\n\n<p>There are many actor libraries for java. Most of them, however, are heavyweight, so I wrote a  compact and extendable one: <a href=\"https://github.com/rfqu/df4j\" rel=\"nofollow\" title=\"df4j\">df4j</a>. It considers actor model as a specific case of more general dataflow computing model and, as a result, allows user to create new types of actors, to optimally fit user's requirements.</p>\n"},{"tags":[],"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1694568895,"creation_date":1337669775,"answer_id":10697203,"question_id":10695152,"body_markdown":"In my opinion, the most natural way to model this kind of problem is with [`Future&lt;V&gt;`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html).\r\n\r\nSo instead of using a callback, just return a &quot;thunk&quot;: a `Future&lt;Response&gt;` that represents the response that will be available at some point in the future.\r\n\r\nThen you can either model subsequent steps as things like `Future&lt;ResponseB&gt; step2(Future&lt;ResponseA&gt;)`, or use [`ListenableFuture&lt;V&gt;`][7] from Guava.  Then you can use [`Futures.transform()`][8] or one of its overloads to chain your functions in a natural way while still preserving the asynchronous nature.\r\n\r\nIf used in this way, `Future&lt;V&gt;` behaves like a monad (in fact, I think it may qualify as one, although I&#39;m not sure off the top of my head), and so the whole process feels a bit like IO in Haskell as performed via the IO monad.\r\n\r\n[7]: https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/ListenableFuture.html\r\n\r\n[8]: https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/Futures.html#transform(com.google.common.util.concurrent.ListenableFuture,com.google.common.base.Function,java.util.concurrent.Executor)","title":"Java pattern for nested callbacks?","body":"<p>In my opinion, the most natural way to model this kind of problem is with <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future&lt;V&gt;</code></a>.</p>\n<p>So instead of using a callback, just return a &quot;thunk&quot;: a <code>Future&lt;Response&gt;</code> that represents the response that will be available at some point in the future.</p>\n<p>Then you can either model subsequent steps as things like <code>Future&lt;ResponseB&gt; step2(Future&lt;ResponseA&gt;)</code>, or use <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/ListenableFuture.html\" rel=\"nofollow noreferrer\"><code>ListenableFuture&lt;V&gt;</code></a> from Guava.  Then you can use <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/Futures.html#transform(com.google.common.util.concurrent.ListenableFuture,com.google.common.base.Function,java.util.concurrent.Executor)\" rel=\"nofollow noreferrer\"><code>Futures.transform()</code></a> or one of its overloads to chain your functions in a natural way while still preserving the asynchronous nature.</p>\n<p>If used in this way, <code>Future&lt;V&gt;</code> behaves like a monad (in fact, I think it may qualify as one, although I'm not sure off the top of my head), and so the whole process feels a bit like IO in Haskell as performed via the IO monad.</p>\n"},{"tags":[],"owner":{"account_id":1503465,"reputation":1125,"user_id":1407398,"display_name":"ejb_guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337671952,"creation_date":1337671952,"answer_id":10697655,"question_id":10695152,"body_markdown":"I am not sure if I get you question correctly. If you want to invoke a service and on its completion result need to be passed to other object which can continue processing using result. You can look at using Composite and Observer to achive this. ","title":"Java pattern for nested callbacks?","body":"<p>I am not sure if I get you question correctly. If you want to invoke a service and on its completion result need to be passed to other object which can continue processing using result. You can look at using Composite and Observer to achive this. </p>\n"},{"tags":[],"owner":{"account_id":1060787,"reputation":5657,"user_id":1062461,"display_name":"Rob I"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1337863543,"creation_date":1337838997,"answer_id":10731913,"question_id":10695152,"body_markdown":"Since the implementation (not only the interface) must not block, I like your list idea.\r\n\r\nSet up a list of &quot;operations&quot; (perhaps `Future`s?), for which the setup should be pretty clear and readable. Then upon receiving each response, the next operation should be invoked. \r\n\r\nWith a little imagination, this sounds like the [chain of responsibility](http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern).  Here&#39;s some pseudocode for what I&#39;m imagining:\r\n\r\n    public void setup() {\r\n        this.operations.add(new Operation(new RequestA(), new CallbackA()));\r\n        this.operations.add(new Operation(new RequestB(), new CallbackB()));\r\n        this.operations.add(new Operation(new RequestC(), new CallbackC()));\r\n        this.operations.add(new Operation(new RequestD(), new CallbackD()));\r\n        startNextOperation();\r\n    }\r\n    private void startNextOperation() {\r\n        if ( this.operations.isEmpty() ) { reportAllOperationsComplete(); }\r\n        Operation op = this.operations.remove(0);\r\n        op.request.go( op.callback );\r\n    }\r\n    private class CallbackA implements Callback&lt;Boolean&gt; {\r\n        public void onSuccess(Boolean response) {\r\n            // store response? etc?\r\n            startNextOperation();\r\n        }\r\n    }\r\n    ...\r\n\r\n","title":"Java pattern for nested callbacks?","body":"<p>Since the implementation (not only the interface) must not block, I like your list idea.</p>\n\n<p>Set up a list of \"operations\" (perhaps <code>Future</code>s?), for which the setup should be pretty clear and readable. Then upon receiving each response, the next operation should be invoked. </p>\n\n<p>With a little imagination, this sounds like the <a href=\"http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\">chain of responsibility</a>.  Here's some pseudocode for what I'm imagining:</p>\n\n<pre><code>public void setup() {\n    this.operations.add(new Operation(new RequestA(), new CallbackA()));\n    this.operations.add(new Operation(new RequestB(), new CallbackB()));\n    this.operations.add(new Operation(new RequestC(), new CallbackC()));\n    this.operations.add(new Operation(new RequestD(), new CallbackD()));\n    startNextOperation();\n}\nprivate void startNextOperation() {\n    if ( this.operations.isEmpty() ) { reportAllOperationsComplete(); }\n    Operation op = this.operations.remove(0);\n    op.request.go( op.callback );\n}\nprivate class CallbackA implements Callback&lt;Boolean&gt; {\n    public void onSuccess(Boolean response) {\n        // store response? etc?\n        startNextOperation();\n    }\n}\n...\n</code></pre>\n"}],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9109,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":10731913,"answer_count":4,"score":44,"last_activity_date":1694568895,"creation_date":1337655018,"question_id":10695152,"body_markdown":"I&#39;m looking for a Java pattern for making a nested sequence of non-blocking method calls. In my case, some client code needs to asynchronously invoke a service to perform some use case, and each step of that use case must itself be performed asynchronously (for reasons outside the scope of this question). Imagine I have existing interfaces as follows:\r\n\r\n    public interface Request {} \r\n\r\n    public interface Response {} \r\n\r\n    public interface Callback&lt;R extends Response&gt; {\r\n        void onSuccess(R response);\r\n        void onError(Exception e);\r\n    }\r\n\r\nThere are various paired implementations of the &lt;code&gt;Request&lt;/code&gt; and &lt;code&gt;Response&lt;/code&gt; interfaces, namely &lt;code&gt;RequestA&lt;/code&gt; + &lt;code&gt;ResponseA&lt;/code&gt; (given by the client), &lt;code&gt;RequestB&lt;/code&gt; + &lt;code&gt;ResponseB&lt;/code&gt; (used internally by the service), etc.\r\n\r\nThe processing flow looks like this:\r\n\r\n![Sequence diagram showing nested callbacks.][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/egQJX.png\r\n\r\nIn between the receipt of each response and the sending of the next request, some additional processing needs to happen (e.g. based on values in any of the previous requests or responses).\r\n\r\nSo far I&#39;ve tried two approaches to coding this in Java:\r\n\r\n* anonymous classes: gets ugly quickly because of the required nesting\r\n* inner classes: neater than the above, but still hard for another developer to comprehend the flow of execution\r\n\r\nIs there some pattern to make this code more readable? For example, could I express the service method as a list of self-contained operations that are executed in sequence by some framework class that takes care of the nesting?","title":"Java pattern for nested callbacks?","body":"<p>I'm looking for a Java pattern for making a nested sequence of non-blocking method calls. In my case, some client code needs to asynchronously invoke a service to perform some use case, and each step of that use case must itself be performed asynchronously (for reasons outside the scope of this question). Imagine I have existing interfaces as follows:</p>\n\n<pre><code>public interface Request {} \n\npublic interface Response {} \n\npublic interface Callback&lt;R extends Response&gt; {\n    void onSuccess(R response);\n    void onError(Exception e);\n}\n</code></pre>\n\n<p>There are various paired implementations of the <code>Request</code> and <code>Response</code> interfaces, namely <code>RequestA</code> + <code>ResponseA</code> (given by the client), <code>RequestB</code> + <code>ResponseB</code> (used internally by the service), etc.</p>\n\n<p>The processing flow looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/egQJX.png\" alt=\"Sequence diagram showing nested callbacks.\"></p>\n\n<p>In between the receipt of each response and the sending of the next request, some additional processing needs to happen (e.g. based on values in any of the previous requests or responses).</p>\n\n<p>So far I've tried two approaches to coding this in Java:</p>\n\n<ul>\n<li>anonymous classes: gets ugly quickly because of the required nesting</li>\n<li>inner classes: neater than the above, but still hard for another developer to comprehend the flow of execution</li>\n</ul>\n\n<p>Is there some pattern to make this code more readable? For example, could I express the service method as a list of self-contained operations that are executed in sequence by some framework class that takes care of the nesting?</p>\n"},{"tags":["java","windows","apache-spark"],"comments":[{"owner":{"account_id":1269867,"reputation":2029,"user_id":1226436,"accept_rate":95,"display_name":"Miguel"},"score":0,"creation_date":1567695818,"post_id":57808230,"comment_id":102048188,"body_markdown":"have you tried C:\\\\hive\\\\orders\\\\ double slashes?","body":"have you tried C:\\\\hive\\\\orders\\\\ double slashes?"},{"owner":{"account_id":3115875,"reputation":149,"user_id":2636642,"accept_rate":83,"display_name":"Prakash Raj"},"score":0,"creation_date":1567696386,"post_id":57808230,"comment_id":102048497,"body_markdown":"@Miguel tried with C://hive//Orders_[0-9]*.csv, still same error.","body":"@Miguel tried with C://hive//Orders_[0-9]*.csv, still same error."},{"owner":{"account_id":8355372,"reputation":2575,"user_id":6275871,"display_name":"SMaZ"},"score":0,"creation_date":1567699542,"post_id":57808230,"comment_id":102050165,"body_markdown":"Check if you have `%HADOOP_HOME%/bin` in `PATH`. It should be set in environment variable or set in your java as `System property`","body":"Check if you have <code>%HADOOP_HOME%&#47;bin</code> in <code>PATH</code>. It should be set in environment variable or set in your java as <code>System property</code>"}],"answers":[{"tags":[],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694566952,"creation_date":1590555742,"answer_id":62035814,"question_id":57808230,"body_markdown":"Here is a possible solution\r\n\r\n1. Download Hadoop on its own (if coming from Spark)\r\n1. Download **matching** Hadoop version files for Windows from https://github.com/cdarlint/winutils\r\n2. Extract the files (e.g. C:\\hadoop). Make sure the directory structure is similar to this `C:\\hadoop\\bin\\winutils.exe`\r\n3. Set environment variable `HADOOP_HOME` to `C:\\hadoop`\r\n4. Add Hadoop to Path env variable: `%HADOOP_HOME%\\bin`\r\n5. Copy `hadoop.dll` to `Windows\\System32` (may not be necessary)\r\n6. Restart system\r\n7. Java application specific: \r\nAdd this to the main method: `System.setProperty (&quot;hadoop.home.dir&quot;, &quot;C:/hadoop/&quot; );`  `System.load (&quot;C:/hadoop/bin/hadoop.dll&quot;);`\r\n\r\nReferences:\r\n\r\n 1. https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems\r\n 2. https://sparkbyexamples.com/spark/spark-hadoop-exception-in-thread-main-java-lang-unsatisfiedlinkerror-org-apache-hadoop-io-nativeio-nativeiowindows-access0ljava-lang-stringiz/\r\n 3. https://blog.csdn.net/weixin_30802273/article/details/96528359\r\n\r\n","title":"Spark on Windows - java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0","body":"<p>Here is a possible solution</p>\n<ol>\n<li>Download Hadoop on its own (if coming from Spark)</li>\n<li>Download <strong>matching</strong> Hadoop version files for Windows from <a href=\"https://github.com/cdarlint/winutils\" rel=\"nofollow noreferrer\">https://github.com/cdarlint/winutils</a></li>\n<li>Extract the files (e.g. C:\\hadoop). Make sure the directory structure is similar to this <code>C:\\hadoop\\bin\\winutils.exe</code></li>\n<li>Set environment variable <code>HADOOP_HOME</code> to <code>C:\\hadoop</code></li>\n<li>Add Hadoop to Path env variable: <code>%HADOOP_HOME%\\bin</code></li>\n<li>Copy <code>hadoop.dll</code> to <code>Windows\\System32</code> (may not be necessary)</li>\n<li>Restart system</li>\n<li>Java application specific:\nAdd this to the main method: <code>System.setProperty (&quot;hadoop.home.dir&quot;, &quot;C:/hadoop/&quot; );</code>  <code>System.load (&quot;C:/hadoop/bin/hadoop.dll&quot;);</code></li>\n</ol>\n<p>References:</p>\n<ol>\n<li><a href=\"https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems</a></li>\n<li><a href=\"https://sparkbyexamples.com/spark/spark-hadoop-exception-in-thread-main-java-lang-unsatisfiedlinkerror-org-apache-hadoop-io-nativeio-nativeiowindows-access0ljava-lang-stringiz/\" rel=\"nofollow noreferrer\">https://sparkbyexamples.com/spark/spark-hadoop-exception-in-thread-main-java-lang-unsatisfiedlinkerror-org-apache-hadoop-io-nativeio-nativeiowindows-access0ljava-lang-stringiz/</a></li>\n<li><a href=\"https://blog.csdn.net/weixin_30802273/article/details/96528359\" rel=\"nofollow noreferrer\">https://blog.csdn.net/weixin_30802273/article/details/96528359</a></li>\n</ol>\n"}],"owner":{"account_id":3115875,"reputation":149,"user_id":2636642,"accept_rate":83,"display_name":"Prakash Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3552,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62035814,"answer_count":1,"score":2,"last_activity_date":1694566952,"creation_date":1567695621,"question_id":57808230,"body_markdown":"In Win10, in IntelliJ this path(&quot;C:/hive/Orders_[0-9]*.csv&quot;) works good when run as stand alone java spark job. But not working as Spring Boot spark job.\r\nSeems the spring boot not detecting native Filesystem. Not sure how to resolve this.  \r\n\r\n````\r\nDataset&lt;Row&gt; DF1 = spark\r\n                .read().format(&quot;csv&quot;)\r\n                .option(&quot;header&quot;, &quot;true&quot;)\r\n                .option(&quot;delimiter&quot;, &quot;\\t&quot;)\r\n                .load(&quot;C:/hive/Orders_[0-9]*.csv&quot;);\r\n\r\n````\r\n\r\nError:\r\n````\r\nError starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n2019-09-04 21:59:27.701 ERROR [omni-ods-migration,,,] 8216 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;odsMigrationService&#39;: Invocation of init method failed; nested exception is java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)\r\n\tat com.jcpenney.ods.OdsMigration.main(OdsMigration.java:20)\r\nCaused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:645)\r\n\tat org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1230)\r\n\tat org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1435)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:493)\r\n\tat org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1868)\r\n\tat org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1910)\r\n\tat org.apache.hadoop.fs.ChecksumFileSystem.listStatus(ChecksumFileSystem.java:678)\r\n\tat org.apache.hadoop.fs.Globber.listStatus(Globber.java:77)\r\n\tat org.apache.hadoop.fs.Globber.doGlob(Globber.java:235)\r\n\tat org.apache.hadoop.fs.Globber.glob(Globber.java:149)\r\n\tat org.apache.hadoop.fs.FileSystem.globStatus(FileSystem.java:2016)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil.globPath(SparkHadoopUtil.scala:241)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil.globPathIfNecessary(SparkHadoopUtil.scala:247)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource$$anonfun$12.apply(DataSource.scala:383)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource$$anonfun$12.apply(DataSource.scala:379)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\r\n\tat scala.collection.immutable.List.foreach(List.scala:392)\r\n\tat scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:241)\r\n\tat scala.collection.immutable.List.flatMap(List.scala:355)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:379)\r\n\tat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:149)\r\n\tat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:132)\r\n\tat com.jcpenney.ods.service.OdsMigrationService.readHfsFile(OdsMigrationService.java:588)\r\n\tat com.jcpenney.ods.service.OdsMigrationService.processOrders(OdsMigrationService.java:334)\r\n\tat com.jcpenney.ods.service.OdsMigrationService.run(OdsMigrationService.java:129)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134)\r\n\t... 16 common frames omitted\r\n\r\n````\r\n\r\nbelow code works good in spring boot as well when the path is given with exact file name.\r\n\r\n````\r\nDataset&lt;Row&gt; DF1 = spark\r\n                .read().format(&quot;csv&quot;)\r\n                .option(&quot;header&quot;, &quot;true&quot;)\r\n                .option(&quot;delimiter&quot;, &quot;\\t&quot;)\r\n                .load(&quot;C:/hive/Orders_000001.csv&quot;);\r\n\r\n````\r\nhow to fix this?","title":"Spark on Windows - java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0","body":"<p>In Win10, in IntelliJ this path(\"C:/hive/Orders_[0-9]*.csv\") works good when run as stand alone java spark job. But not working as Spring Boot spark job.\nSeems the spring boot not detecting native Filesystem. Not sure how to resolve this.  </p>\n\n<pre><code>Dataset&lt;Row&gt; DF1 = spark\n                .read().format(\"csv\")\n                .option(\"header\", \"true\")\n                .option(\"delimiter\", \"\\t\")\n                .load(\"C:/hive/Orders_[0-9]*.csv\");\n\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2019-09-04 21:59:27.701 ERROR [omni-ods-migration,,,] 8216 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'odsMigrationService': Invocation of init method failed; nested exception is java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)\n    at com.jcpenney.ods.OdsMigration.main(OdsMigration.java:20)\nCaused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:645)\n    at org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1230)\n    at org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1435)\n    at org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:493)\n    at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1868)\n    at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1910)\n    at org.apache.hadoop.fs.ChecksumFileSystem.listStatus(ChecksumFileSystem.java:678)\n    at org.apache.hadoop.fs.Globber.listStatus(Globber.java:77)\n    at org.apache.hadoop.fs.Globber.doGlob(Globber.java:235)\n    at org.apache.hadoop.fs.Globber.glob(Globber.java:149)\n    at org.apache.hadoop.fs.FileSystem.globStatus(FileSystem.java:2016)\n    at org.apache.spark.deploy.SparkHadoopUtil.globPath(SparkHadoopUtil.scala:241)\n    at org.apache.spark.deploy.SparkHadoopUtil.globPathIfNecessary(SparkHadoopUtil.scala:247)\n    at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$12.apply(DataSource.scala:383)\n    at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$12.apply(DataSource.scala:379)\n    at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\n    at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\n    at scala.collection.immutable.List.foreach(List.scala:392)\n    at scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:241)\n    at scala.collection.immutable.List.flatMap(List.scala:355)\n    at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:379)\n    at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:149)\n    at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:132)\n    at com.jcpenney.ods.service.OdsMigrationService.readHfsFile(OdsMigrationService.java:588)\n    at com.jcpenney.ods.service.OdsMigrationService.processOrders(OdsMigrationService.java:334)\n    at com.jcpenney.ods.service.OdsMigrationService.run(OdsMigrationService.java:129)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134)\n    ... 16 common frames omitted\n\n</code></pre>\n\n<p>below code works good in spring boot as well when the path is given with exact file name.</p>\n\n<pre><code>Dataset&lt;Row&gt; DF1 = spark\n                .read().format(\"csv\")\n                .option(\"header\", \"true\")\n                .option(\"delimiter\", \"\\t\")\n                .load(\"C:/hive/Orders_000001.csv\");\n\n</code></pre>\n\n<p>how to fix this?</p>\n"},{"tags":["java","java-7","java-6"],"comments":[{"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"score":0,"creation_date":1388380022,"post_id":20833602,"comment_id":31245965,"body_markdown":"Why can&#39;t you run the application with Java 7?","body":"Why can&#39;t you run the application with Java 7?"},{"owner":{"account_id":1289950,"reputation":2661,"user_id":1242236,"display_name":"Rugal"},"score":0,"creation_date":1388380336,"post_id":20833602,"comment_id":31246056,"body_markdown":"still can not understand your meaning","body":"still can not understand your meaning"},{"owner":{"account_id":3617416,"reputation":265,"user_id":3016945,"accept_rate":0,"display_name":"user3016945"},"score":0,"creation_date":1388382836,"post_id":20833602,"comment_id":31246771,"body_markdown":"I am automating adn=min tool which supports to java 6.and also basic requirement to test this application using java 6","body":"I am automating adn=min tool which supports to java 6.and also basic requirement to test this application using java 6"}],"answers":[{"tags":[],"owner":{"account_id":1888099,"reputation":167,"user_id":1706901,"accept_rate":75,"display_name":"Aroon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388383173,"creation_date":1388383173,"answer_id":20834182,"question_id":20833602,"body_markdown":"Go to the Java Control Panel-&gt;in Java tab click on View-&gt;from there you can enable or disable the specific JRE.\r\nYou can check here.\r\n&lt;http://download.java.net/jdk8/docs/technotes/guides/jweb/otherFeatures/version.html&gt;","title":"how to set java version path to firefox in runtime","body":"<p>Go to the Java Control Panel->in Java tab click on View->from there you can enable or disable the specific JRE.\nYou can check here.\n<a href=\"http://download.java.net/jdk8/docs/technotes/guides/jweb/otherFeatures/version.html\" rel=\"nofollow\">http://download.java.net/jdk8/docs/technotes/guides/jweb/otherFeatures/version.html</a></p>\n"},{"tags":[],"owner":{"account_id":319016,"reputation":441,"user_id":636542,"display_name":"DejanR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420820593,"creation_date":1420820593,"answer_id":27864873,"question_id":20833602,"body_markdown":"In Windows registry  set the plugin version You want to be used:\r\n\r\n - Windows(32bit):\r\n&lt;code&gt;\r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\MozillaPlugins\\@java.com/JavaPlugin,version=xx.xx.xx \r\n&lt;/code&gt;\r\n - Windows (64bit):\r\n&lt;code&gt;\r\n    HKEY_LOCAL_MACHINE\\Software\\Wow6432Node\\MozillaPlugins\\@java.com/JavaPlugin,version=xx.xx.xx\r\n&lt;/code&gt;\r\n ![Registry example][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/QpRGi.jpg","title":"how to set java version path to firefox in runtime","body":"<p>In Windows registry  set the plugin version You want to be used:</p>\n\n<ul>\n<li>Windows(32bit):\n<code>\nHKEY_LOCAL_MACHINE\\SOFTWARE\\MozillaPlugins\\@java.com/JavaPlugin,version=xx.xx.xx \n</code></li>\n<li>Windows (64bit):\n<code>\nHKEY_LOCAL_MACHINE\\Software\\Wow6432Node\\MozillaPlugins\\@java.com/JavaPlugin,version=xx.xx.xx\n</code>\n<img src=\"https://i.stack.imgur.com/QpRGi.jpg\" alt=\"Registry example\"></li>\n</ul>\n"}],"owner":{"account_id":3617416,"reputation":265,"user_id":3016945,"accept_rate":0,"display_name":"user3016945"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9072,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":2,"score":8,"last_activity_date":1694566880,"creation_date":1388379706,"question_id":20833602,"body_markdown":"Please anyone help me to set java version path in Runtime.\r\n\r\ni installed two java versions in different directories.but i need to use java 7 compile code to execute appliction using java6 version.\r\n\r\nI need to set java 6 path for firefox browser could any one help me\r\n\r\nThanks in advance","title":"how to set java version path to firefox in runtime","body":"<p>Please anyone help me to set java version path in Runtime.</p>\n\n<p>i installed two java versions in different directories.but i need to use java 7 compile code to execute appliction using java6 version.</p>\n\n<p>I need to set java 6 path for firefox browser could any one help me</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6607062,"reputation":2118,"user_id":5103577,"display_name":"Luke B"},"score":2,"creation_date":1694563033,"post_id":77093286,"comment_id":135906869,"body_markdown":"You forgot the `break`","body":"You forgot the <code>break</code>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1694564455,"post_id":77093286,"comment_id":135907016,"body_markdown":"There is one very obvious difference between the working operators and the nonworking one...","body":"There is one very obvious difference between the working operators and the nonworking one..."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694566720,"post_id":77093286,"comment_id":135907208,"body_markdown":"By the way, you may want to research Shunting Yard algorithm.","body":"By the way, you may want to research Shunting Yard algorithm."}],"answers":[{"tags":[],"owner":{"account_id":12439965,"reputation":136,"user_id":9058664,"display_name":"Edd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694563114,"creation_date":1694563114,"answer_id":77093296,"question_id":77093286,"body_markdown":"You&#39;re missing a `break;` after your &#39;-&#39; line.\r\n\r\nAdd it in here: \r\n\r\n    case &quot;-&quot;:\r\n        res = (double)a-(double)b; //not working at the moment\r\n        break; //here","title":"&quot;-&quot; not working while trying to simulate a calculator","body":"<p>You're missing a <code>break;</code> after your '-' line.</p>\n<p>Add it in here:</p>\n<pre><code>case &quot;-&quot;:\n    res = (double)a-(double)b; //not working at the moment\n    break; //here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694565943,"creation_date":1694565230,"answer_id":77093407,"question_id":77093286,"body_markdown":"&gt; _&quot;... When I enter the numbers and the operator and I chose &quot;/&quot;, &quot;%&quot;, &quot;*&quot; or &quot;+&quot;, it works perfectly. But when I chose &quot;-&quot;, it prints for example &quot;6 - 2 = 0.0&quot;, which is the default value of res. Why is that and how to fix it please ? ...&quot;_\r\n\r\nYou&#39;re missing a _break_ keyword.\r\n\r\n```java\r\ncase &quot;-&quot;:\r\n    res = (double)a-(double)b;\r\n    break;\r\n```\r\n\r\nUse the newer _[switch](https://docs.oracle.com/en/java/javase/20/language/switch-expressions.html)_ syntax, which infers a _break_ keyword.\r\n\r\nAdditionally, use the _[Scanner#nextDouble](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextDouble())_ method over the _nextInt_, considering you are casting to a _double_ later on.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nString operator;\r\ndouble a, b, res;\r\nboolean invalid_operator = false;\r\nSystem.out.println(&quot;Enter first number&quot;);\r\na = scanner.nextDouble();\r\nSystem.out.println(&quot;Enter operator&quot;);\r\noperator = scanner.next();\r\nSystem.out.println(&quot;Enter second number&quot;);\r\nb = scanner.nextDouble();\r\nscanner.close();\r\nres = switch (operator) {\r\n    case &quot;/&quot; -&gt; a / b;\r\n    case &quot;*&quot; -&gt; a * b;\r\n    case &quot;+&quot; -&gt; a + b;\r\n    case &quot;-&quot; -&gt; a - b;\r\n    case &quot;%&quot; -&gt; a % b;\r\n    default -&gt; {\r\n        System.out.println(&quot;Invalid operator&quot;);\r\n        invalid_operator = true;\r\n        yield 0;\r\n    }\r\n};\r\nif(!invalid_operator){\r\n    System.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\r\n}\r\n```\r\n\r\nFinally, you should check _operator_ during its assignment, rather than during the calculation.  \r\nThis will remove the need for _invalid_operator_.\r\n\r\n```java\r\n...\r\nSystem.out.println(&quot;Enter operator&quot;);\r\nwhile (!(operator = scanner.next()).matches(&quot;[/*+%-]&quot;)) {\r\n    System.out.println(&quot;Invalid operator&quot;);\r\n    System.out.println(&quot;Enter operator&quot;);\r\n}\r\n...\r\nres = switch (operator) {\r\n    case &quot;/&quot; -&gt; a / b;\r\n    case &quot;*&quot; -&gt; a * b;\r\n    case &quot;+&quot; -&gt; a + b;\r\n    case &quot;-&quot; -&gt; a - b;\r\n    case &quot;%&quot; -&gt; a % b;\r\n    default -&gt; 0;\r\n};\r\nSystem.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\r\n```","title":"&quot;-&quot; not working while trying to simulate a calculator","body":"<blockquote>\n<p><em>&quot;... When I enter the numbers and the operator and I chose &quot;/&quot;, &quot;%&quot;, &quot;*&quot; or &quot;+&quot;, it works perfectly. But when I chose &quot;-&quot;, it prints for example &quot;6 - 2 = 0.0&quot;, which is the default value of res. Why is that and how to fix it please ? ...&quot;</em></p>\n</blockquote>\n<p>You're missing a <em>break</em> keyword.</p>\n<pre class=\"lang-java prettyprint-override\"><code>case &quot;-&quot;:\n    res = (double)a-(double)b;\n    break;\n</code></pre>\n<p>Use the newer <em><a href=\"https://docs.oracle.com/en/java/javase/20/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch</a></em> syntax, which infers a <em>break</em> keyword.</p>\n<p>Additionally, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextDouble()\" rel=\"nofollow noreferrer\">Scanner#nextDouble</a></em> method over the <em>nextInt</em>, considering you are casting to a <em>double</em> later on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString operator;\ndouble a, b, res;\nboolean invalid_operator = false;\nSystem.out.println(&quot;Enter first number&quot;);\na = scanner.nextDouble();\nSystem.out.println(&quot;Enter operator&quot;);\noperator = scanner.next();\nSystem.out.println(&quot;Enter second number&quot;);\nb = scanner.nextDouble();\nscanner.close();\nres = switch (operator) {\n    case &quot;/&quot; -&gt; a / b;\n    case &quot;*&quot; -&gt; a * b;\n    case &quot;+&quot; -&gt; a + b;\n    case &quot;-&quot; -&gt; a - b;\n    case &quot;%&quot; -&gt; a % b;\n    default -&gt; {\n        System.out.println(&quot;Invalid operator&quot;);\n        invalid_operator = true;\n        yield 0;\n    }\n};\nif(!invalid_operator){\n    System.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\n}\n</code></pre>\n<p>Finally, you should check <em>operator</em> during its assignment, rather than during the calculation.<br />\nThis will remove the need for <em>invalid_operator</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nSystem.out.println(&quot;Enter operator&quot;);\nwhile (!(operator = scanner.next()).matches(&quot;[/*+%-]&quot;)) {\n    System.out.println(&quot;Invalid operator&quot;);\n    System.out.println(&quot;Enter operator&quot;);\n}\n...\nres = switch (operator) {\n    case &quot;/&quot; -&gt; a / b;\n    case &quot;*&quot; -&gt; a * b;\n    case &quot;+&quot; -&gt; a + b;\n    case &quot;-&quot; -&gt; a - b;\n    case &quot;%&quot; -&gt; a % b;\n    default -&gt; 0;\n};\nSystem.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\n</code></pre>\n"}],"owner":{"account_id":22924054,"reputation":9,"user_id":17059438,"display_name":"MaaaaathiiiiiiiiiiEU"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1694565943,"creation_date":1694562899,"question_id":77093286,"body_markdown":"I have to (it&#39;s homework) simulate the behavior of a calculator in Java with a switch-case. When I enter the numbers and the operator and I chose &quot;/&quot;, &quot;%&quot;, &quot;*&quot; or &quot;+&quot;, it works perfectly. But when I chose &quot;-&quot;, it prints for example &quot;6 - 2 = 0.0&quot;, which is the default value of res. Why is that and how to fix it please ?\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tint a, b;\r\n\t\tString operator;\r\n\t\tdouble res = 0.0;\r\n\t\tboolean invalid_operator = false;\r\n\t\tSystem.out.println(&quot;Enter first number&quot;);\r\n\t\ta = scanner.nextInt();\r\n\t\tSystem.out.println(&quot;Enter operator&quot;);\r\n\t\toperator = scanner.next();\r\n\t\tSystem.out.println(&quot;Enter second number&quot;);\r\n\t\tb = scanner.nextInt();\r\n\t\tscanner.close();\r\n\t\t\r\n\t\tswitch(operator) {\r\n\t\t  case &quot;/&quot;:\r\n\t\t    res = (double)a/(double)b;\r\n\t\t    break;\r\n\t\t  case &quot;*&quot;:\r\n\t\t    res = (double)a*(double)b;\r\n\t\t    break;\r\n\t\t  case &quot;+&quot;:\r\n\t\t    res = (double)a+(double)b;\r\n\t\t    break;\r\n\t\t  case &quot;-&quot;:\r\n\t\t    res = (double)a-(double)b; //not working at the moment\r\n\t\t  case &quot;%&quot;:\r\n\t\t    res = (double)a%(double)b;\r\n\t\t    break;\r\n\t\t  default:\r\n\t\t    System.out.println(&quot;Invalid operator&quot;);\r\n\t\t    invalid_operator = true;\r\n\t\t}\r\n\t\tif(!invalid_operator){\r\n\t\t\tSystem.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI tried 6 and 2 for every operation. I expect it to calculate correctly.","title":"&quot;-&quot; not working while trying to simulate a calculator","body":"<p>I have to (it's homework) simulate the behavior of a calculator in Java with a switch-case. When I enter the numbers and the operator and I chose &quot;/&quot;, &quot;%&quot;, &quot;*&quot; or &quot;+&quot;, it works perfectly. But when I chose &quot;-&quot;, it prints for example &quot;6 - 2 = 0.0&quot;, which is the default value of res. Why is that and how to fix it please ?</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int a, b;\n        String operator;\n        double res = 0.0;\n        boolean invalid_operator = false;\n        System.out.println(&quot;Enter first number&quot;);\n        a = scanner.nextInt();\n        System.out.println(&quot;Enter operator&quot;);\n        operator = scanner.next();\n        System.out.println(&quot;Enter second number&quot;);\n        b = scanner.nextInt();\n        scanner.close();\n        \n        switch(operator) {\n          case &quot;/&quot;:\n            res = (double)a/(double)b;\n            break;\n          case &quot;*&quot;:\n            res = (double)a*(double)b;\n            break;\n          case &quot;+&quot;:\n            res = (double)a+(double)b;\n            break;\n          case &quot;-&quot;:\n            res = (double)a-(double)b; //not working at the moment\n          case &quot;%&quot;:\n            res = (double)a%(double)b;\n            break;\n          default:\n            System.out.println(&quot;Invalid operator&quot;);\n            invalid_operator = true;\n        }\n        if(!invalid_operator){\n            System.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\n        }\n    }\n}\n</code></pre>\n<p>I tried 6 and 2 for every operation. I expect it to calculate correctly.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1694541121,"post_id":77091541,"comment_id":135903755,"body_markdown":"Use two builders, that&#39;s where you&#39;re keeping the lambda state.","body":"Use two builders, that&#39;s where you&#39;re keeping the lambda state."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694565717,"creation_date":1694541770,"answer_id":77091627,"question_id":77091541,"body_markdown":"Like [@Kayaman][1] said:\r\n\r\n&gt; Use two builders, that&#39;s where you&#39;re keeping the lambda state.\r\n\r\nSo the solution will be this way:\r\n```java\r\nBuilder builderBy3 = new Builder();\r\nBuilder builderBy6 = new Builder();\r\n\r\nCallable multiplierBy3 = builderBy3.multiplyBy(3).build();\r\nCallable multiplierBy6 = builderBy6.multiplyBy(6).build();\r\n\r\nSystem.out.println(multiplierBy3.multiply(10)); // Returns 30\r\nSystem.out.println(multiplierBy6.multiply(10)); // Returns 60\r\n```\r\n\r\nBut you can also do it modifying the `Builder`:\r\n```java\r\nclass Builder {\r\n\tprivate Integer multiplier;\r\n\r\n\tpublic Builder multiplyBy(Integer multiplier) {\r\n\t\tthis.multiplier = multiplier;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Callable build() {\r\n\t\tint currentMultiplier = this.multiplier; // Current multiplier value\r\n\t\treturn (value) -&gt; value * currentMultiplier; // Use it in the lambda\r\n\t}\r\n}\r\n```\r\n\r\nThen you can do:\r\n```java\r\nBuilder builder = new Builder();\r\n\r\nCallable multiplierBy3 = builder.multiplyBy(3).build();\r\nCallable multiplierBy6 = builder.multiplyBy(6).build();\r\n\r\nSystem.out.println(multiplierBy3.multiply(10)); // Returns 30\r\nSystem.out.println(multiplierBy6.multiply(10)); // Returns 60\r\n```\r\n\r\n  [1]: https://stackoverflow.com/users/2541560/kayaman","title":"How to &quot;bake&quot; value in lambda","body":"<p>Like <a href=\"https://stackoverflow.com/users/2541560/kayaman\">@Kayaman</a> said:</p>\n<blockquote>\n<p>Use two builders, that's where you're keeping the lambda state.</p>\n</blockquote>\n<p>So the solution will be this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Builder builderBy3 = new Builder();\nBuilder builderBy6 = new Builder();\n\nCallable multiplierBy3 = builderBy3.multiplyBy(3).build();\nCallable multiplierBy6 = builderBy6.multiplyBy(6).build();\n\nSystem.out.println(multiplierBy3.multiply(10)); // Returns 30\nSystem.out.println(multiplierBy6.multiply(10)); // Returns 60\n</code></pre>\n<p>But you can also do it modifying the <code>Builder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Builder {\n    private Integer multiplier;\n\n    public Builder multiplyBy(Integer multiplier) {\n        this.multiplier = multiplier;\n        return this;\n    }\n\n    public Callable build() {\n        int currentMultiplier = this.multiplier; // Current multiplier value\n        return (value) -&gt; value * currentMultiplier; // Use it in the lambda\n    }\n}\n</code></pre>\n<p>Then you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Builder builder = new Builder();\n\nCallable multiplierBy3 = builder.multiplyBy(3).build();\nCallable multiplierBy6 = builder.multiplyBy(6).build();\n\nSystem.out.println(multiplierBy3.multiply(10)); // Returns 30\nSystem.out.println(multiplierBy6.multiply(10)); // Returns 60\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694559079,"creation_date":1694541779,"answer_id":77091631,"question_id":77091541,"body_markdown":"It&#39;s called a closure.   When a value goes out of scope, the lambda still retains access to it. Using `Functional interfaces` or methods to convert `f(x,y)` to `f(x)(y)` is known as [currying](https://en.wikipedia.org/wiki/Currying). Note that you can use existing interfaces.\r\n\r\n```\r\nFunction&lt;Integer, UnaryOperator&lt;Integer&gt;&gt; \r\n     createMultiplier = (operand1 -&gt; operand2 -&gt; operand1\r\n         * operand2);\r\n \r\n Function&lt;Integer, Integer&gt; multiplyBy3 = createMultiplier.apply(3);\r\n Function&lt;Integer, Integer&gt; multiplyBy6 = createMultiplier.apply(6);\r\n \r\n int result1 = multiplyBy3.apply(10);\r\n int result2 = multiplyBy6.apply(20);\r\n \r\n System.out.println(result1);\r\n System.out.println(result2);\r\n```\r\nprints\r\n```\r\n30\r\n120\r\n```\r\nHere is one I created some time ago for my own use. It allows the creation of a `log function` for any base.  I created an interface to give more appropriate names to the methods.\r\n```\r\ninterface Log {   \r\n    double of(double value);\r\n    \r\n    static Log forBase(double base) {\r\n            // compute logBase once for given base\r\n            final double logBase = Math.log(base);\r\n            return value -&gt; Math.log(value) / logBase;\r\n    }\r\n}\r\nLog log2 = Log.forBase(2);\r\nSystem.out.println(log2.of(32));\r\n```\r\nOr if you just need to get the log once.\r\n```\r\n System.out.println(Log.forBase(2).of(32));\r\n```\r\nBoth print\r\n```\r\n5.0\r\n```\r\n","title":"How to &quot;bake&quot; value in lambda","body":"<p>It's called a closure.   When a value goes out of scope, the lambda still retains access to it. Using <code>Functional interfaces</code> or methods to convert <code>f(x,y)</code> to <code>f(x)(y)</code> is known as <a href=\"https://en.wikipedia.org/wiki/Currying\" rel=\"nofollow noreferrer\">currying</a>. Note that you can use existing interfaces.</p>\n<pre><code>Function&lt;Integer, UnaryOperator&lt;Integer&gt;&gt; \n     createMultiplier = (operand1 -&gt; operand2 -&gt; operand1\n         * operand2);\n \n Function&lt;Integer, Integer&gt; multiplyBy3 = createMultiplier.apply(3);\n Function&lt;Integer, Integer&gt; multiplyBy6 = createMultiplier.apply(6);\n \n int result1 = multiplyBy3.apply(10);\n int result2 = multiplyBy6.apply(20);\n \n System.out.println(result1);\n System.out.println(result2);\n</code></pre>\n<p>prints</p>\n<pre><code>30\n120\n</code></pre>\n<p>Here is one I created some time ago for my own use. It allows the creation of a <code>log function</code> for any base.  I created an interface to give more appropriate names to the methods.</p>\n<pre><code>interface Log {   \n    double of(double value);\n    \n    static Log forBase(double base) {\n            // compute logBase once for given base\n            final double logBase = Math.log(base);\n            return value -&gt; Math.log(value) / logBase;\n    }\n}\nLog log2 = Log.forBase(2);\nSystem.out.println(log2.of(32));\n</code></pre>\n<p>Or if you just need to get the log once.</p>\n<pre><code> System.out.println(Log.forBase(2).of(32));\n</code></pre>\n<p>Both print</p>\n<pre><code>5.0\n</code></pre>\n"}],"owner":{"account_id":8773814,"reputation":315,"user_id":6559689,"display_name":"colorgreen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":77091627,"answer_count":2,"score":3,"last_activity_date":1694565717,"creation_date":1694540946,"question_id":77091541,"body_markdown":"Let&#39;s say I have code like this\r\n\r\n```java\r\n\r\n@FunctionalInterface\r\ninterface Callable {\r\n    Integer multiply(Integer by);\r\n}\r\n\r\nclass Builder {\r\n    private Integer multiplier;\r\n\r\n    public Builder multiplyBy(Integer multiplier) {\r\n        this.multiplier= multiplier;\r\n        return this;\r\n    }\r\n\r\n    public Callable build() {\r\n        return (value) -&gt; value * multiplier; //how to &quot;bake&quot; hever value\r\n    }\r\n}\r\n\r\n// calling\r\n\r\nBuilder builder;\r\nCallable multiplierBy3 = builder.multiplyBy(3);\r\nCallable multiplierBy6 = builder.multiply(6);\r\n\r\nmultiplierBy3.multiply(10); //should return 30, returns 60\r\nmultiplierBy6.multiply(10); // return 60, ok, propably because of new multipier value\r\n```\r\nBehavior happens because calling second time `multiplyBy` sets new `value` in builder.\r\nHow I can manage to create each lambda own multiplier function?","title":"How to &quot;bake&quot; value in lambda","body":"<p>Let's say I have code like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@FunctionalInterface\ninterface Callable {\n    Integer multiply(Integer by);\n}\n\nclass Builder {\n    private Integer multiplier;\n\n    public Builder multiplyBy(Integer multiplier) {\n        this.multiplier= multiplier;\n        return this;\n    }\n\n    public Callable build() {\n        return (value) -&gt; value * multiplier; //how to &quot;bake&quot; hever value\n    }\n}\n\n// calling\n\nBuilder builder;\nCallable multiplierBy3 = builder.multiplyBy(3);\nCallable multiplierBy6 = builder.multiply(6);\n\nmultiplierBy3.multiply(10); //should return 30, returns 60\nmultiplierBy6.multiply(10); // return 60, ok, propably because of new multipier value\n</code></pre>\n<p>Behavior happens because calling second time <code>multiplyBy</code> sets new <code>value</code> in builder.\nHow I can manage to create each lambda own multiplier function?</p>\n"},{"tags":["java","docker","apache-kafka","prometheus"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694564370,"post_id":77092618,"comment_id":135907006,"body_markdown":"Ideally, you do use the agent jar in the kafka container itself... Note: Strimzi can do this for you in Kubernetes, rather than Docker Compose","body":"Ideally, you do use the agent jar in the kafka container itself... Note: Strimzi can do this for you in Kubernetes, rather than Docker Compose"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694564655,"creation_date":1694564655,"answer_id":77093378,"question_id":77092618,"body_markdown":"Nowhere in your values have you configured anything to read from `kafka:9991`, which is the JMX server that you want to read metrics from and parse into Prometheus format. \r\n\r\nOnly the prometheus scrape configs should use `jmx-kafka:5556`, as that&#39;s the HTTP server where metrics would be exposed. ","title":"How can I grab metrics from a clusterized instance of Kafka with Prometheus with JMX Exporter?","body":"<p>Nowhere in your values have you configured anything to read from <code>kafka:9991</code>, which is the JMX server that you want to read metrics from and parse into Prometheus format.</p>\n<p>Only the prometheus scrape configs should use <code>jmx-kafka:5556</code>, as that's the HTTP server where metrics would be exposed.</p>\n"}],"owner":{"account_id":29426104,"reputation":3,"user_id":22546783,"display_name":"Allen Hui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694564655,"creation_date":1694551897,"question_id":77092618,"body_markdown":"Here is the current configurations.\r\nDocker-compose.yaml \r\n\r\n```yml\r\nversion: &quot;3&quot;\r\n\r\nservices:\r\n  prometheus:\r\n    image: &quot;prom/prometheus:latest&quot;\r\n    ports:\r\n      - &quot;9090:9090&quot;\r\n    volumes:\r\n      - ./prometheus.yml:/prometheus.yml\r\n    command: &quot;--config.file=/prometheus.yml&quot;\r\n    container_name: prometheus\r\n\r\n  jmx-kafka:\r\n    image: &quot;sscaling/jmx-prometheus-exporter&quot;\r\n    ports:\r\n    - &quot;5556:5556&quot;\r\n    environment:\r\n      CONFIG_YML : &quot;./config.yml&quot;\r\n    volumes:\r\n    - ./config.yml:/config.yml\r\n    container_name: jmx_kafka\r\n    depends_on:\r\n    - kafka\r\n\r\n  zookeeper:\r\n    image: &#39;bitnami/zookeeper:latest&#39;\r\n    ports:\r\n      - &#39;2181:2181&#39;\r\n    environment:\r\n      - ALLOW_ANONYMOUS_LOGIN=yes`\r\n\r\n  kafka:\r\n    image: bitnami/kafka:latest\r\n    container_name: &quot;kafka&quot;\r\n    ports:\r\n      - &#39;9092:9092&#39;\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_LISTENERS: PLAINTEXT://:9092\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://127.0.0.1:9092\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n      ALLOW_PLAINTEXT_LISTENER: yes\r\n      KAFKA_JMX_PORT: 9991\r\n    depends_on:\r\n      - zookeeper\r\n    volumes:\r\n      - ./kafka-jmx.properties:/opt/bitnami/kafka/conf/kafka-jmx.properties\r\n```\r\n\r\nprometheus.yml\r\n```yml\r\nglobal:\r\n  scrape_interval: 30s\r\n\r\nscrape_configs:\r\n  - job_name: &#39;prometheus&#39;\r\n    static_configs:\r\n      - targets: [&#39;localhost:9090&#39;]\r\n\r\n  - job_name: &#39;jmx-kafka&#39;\r\n    static_configs:\r\n      - targets: [&#39;jmx-kafka:5556&#39;]\r\n```\r\n\r\nand \r\nconfig.yml\r\n```yml\r\nhostPort: jmx-kafka:5556\r\nrules:\r\n- pattern: &quot;kafka.*&quot;\r\n```\r\n\r\nI am using the jmx httpserver, not the agentjar. What is wrong with my configuration? I am not able to get any metrics from the jmx exporter. No data in docker&#39;s logs or prometheus. Prometheus does not show the port being up.\r\n\r\nI have tried different configurations. I tried changing the following config.yml configuration.\r\n```yml\r\n lowercaseOutputName: true\r\n rules:\r\n   - pattern: &#39;kafka.*&#39;\r\n     name: &#39;kafka-metrics&#39;\r\n     value:  &#39;ValueToCollect&#39;\r\n     type: GAUGE\r\n```\r\nThis allows me to access metrics on prometheus, but it did not scrape any metrics from my Kafka app.\r\n","title":"How can I grab metrics from a clusterized instance of Kafka with Prometheus with JMX Exporter?","body":"<p>Here is the current configurations.\nDocker-compose.yaml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3&quot;\n\nservices:\n  prometheus:\n    image: &quot;prom/prometheus:latest&quot;\n    ports:\n      - &quot;9090:9090&quot;\n    volumes:\n      - ./prometheus.yml:/prometheus.yml\n    command: &quot;--config.file=/prometheus.yml&quot;\n    container_name: prometheus\n\n  jmx-kafka:\n    image: &quot;sscaling/jmx-prometheus-exporter&quot;\n    ports:\n    - &quot;5556:5556&quot;\n    environment:\n      CONFIG_YML : &quot;./config.yml&quot;\n    volumes:\n    - ./config.yml:/config.yml\n    container_name: jmx_kafka\n    depends_on:\n    - kafka\n\n  zookeeper:\n    image: 'bitnami/zookeeper:latest'\n    ports:\n      - '2181:2181'\n    environment:\n      - ALLOW_ANONYMOUS_LOGIN=yes`\n\n  kafka:\n    image: bitnami/kafka:latest\n    container_name: &quot;kafka&quot;\n    ports:\n      - '9092:9092'\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_LISTENERS: PLAINTEXT://:9092\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://127.0.0.1:9092\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      ALLOW_PLAINTEXT_LISTENER: yes\n      KAFKA_JMX_PORT: 9991\n    depends_on:\n      - zookeeper\n    volumes:\n      - ./kafka-jmx.properties:/opt/bitnami/kafka/conf/kafka-jmx.properties\n</code></pre>\n<p>prometheus.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>global:\n  scrape_interval: 30s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n\n  - job_name: 'jmx-kafka'\n    static_configs:\n      - targets: ['jmx-kafka:5556']\n</code></pre>\n<p>and\nconfig.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>hostPort: jmx-kafka:5556\nrules:\n- pattern: &quot;kafka.*&quot;\n</code></pre>\n<p>I am using the jmx httpserver, not the agentjar. What is wrong with my configuration? I am not able to get any metrics from the jmx exporter. No data in docker's logs or prometheus. Prometheus does not show the port being up.</p>\n<p>I have tried different configurations. I tried changing the following config.yml configuration.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code> lowercaseOutputName: true\n rules:\n   - pattern: 'kafka.*'\n     name: 'kafka-metrics'\n     value:  'ValueToCollect'\n     type: GAUGE\n</code></pre>\n<p>This allows me to access metrics on prometheus, but it did not scrape any metrics from my Kafka app.</p>\n"},{"tags":["java","postgresql","jooq","jooq-codegen"],"comments":[{"owner":{"account_id":1991619,"reputation":664,"user_id":1785520,"accept_rate":50,"display_name":"Arsen"},"score":0,"creation_date":1667832162,"post_id":72600484,"comment_id":131255312,"body_markdown":"Hi! Did you manage to solve it somehow?","body":"Hi! Did you manage to solve it somehow?"},{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1667850118,"post_id":72600484,"comment_id":131261806,"body_markdown":"@Arsen Somehow, yes, though I hate to say I didn&#39;t write down the resolution, at the time. Let me try to sum up our current setup... (1) group &quot;org.jooq&quot; as a dependency is excluded from the spring boot jooq starter, with jooq being its own dependency, (2) the build script workaround mentioned in Lukas&#39; answer is in place, (3) the workaround from https://github.com/etiennestuder/gradle-jooq-plugin/issues/183 is in place, and I think one of those - or maybe the combination of all - may have had the desired effect. Sorry I cannot be of more help. :( Write the answer down, when you find out.","body":"@Arsen Somehow, yes, though I hate to say I didn&#39;t write down the resolution, at the time. Let me try to sum up our current setup... (1) group &quot;org.jooq&quot; as a dependency is excluded from the spring boot jooq starter, with jooq being its own dependency, (2) the build script workaround mentioned in Lukas&#39; answer is in place, (3) the workaround from <a href=\"https://github.com/etiennestuder/gradle-jooq-plugin/issues/183\" rel=\"nofollow noreferrer\">github.com/etiennestuder/gradle-jooq-plugin/issues/183</a> is in place, and I think one of those - or maybe the combination of all - may have had the desired effect. Sorry I cannot be of more help. :( Write the answer down, when you find out."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655113125,"creation_date":1655113125,"answer_id":72600708,"question_id":72600484,"body_markdown":"The third party code generation plugin you&#39;re using seems to be wired towards an older XSD version for your configuration objects. This can have various reasons, not sure why you&#39;re running into this, but as per the documentation here:\r\nhttps://github.com/etiennestuder/gradle-jooq-plugin#enforcing-the-jooq-configuration-xml-schema-version\r\n\r\nYou can enforce an XSD version like this:\r\n\r\n```groovy\r\nbuildscript {\r\n    configurations[&#39;classpath&#39;].resolutionStrategy.eachDependency {\r\n        if (requested.group == &#39;org.jooq&#39;) {\r\n            useVersion &#39;3.16.6&#39;\r\n        }\r\n    }\r\n}\r\n```","title":"jOOQ codegen fails because of &quot;Invalid content&quot; `visibilityModifier` and `includeExcludePackageRoutines`","body":"<p>The third party code generation plugin you're using seems to be wired towards an older XSD version for your configuration objects. This can have various reasons, not sure why you're running into this, but as per the documentation here:\n<a href=\"https://github.com/etiennestuder/gradle-jooq-plugin#enforcing-the-jooq-configuration-xml-schema-version\" rel=\"nofollow noreferrer\">https://github.com/etiennestuder/gradle-jooq-plugin#enforcing-the-jooq-configuration-xml-schema-version</a></p>\n<p>You can enforce an XSD version like this:</p>\n<pre><code>buildscript {\n    configurations['classpath'].resolutionStrategy.eachDependency {\n        if (requested.group == 'org.jooq') {\n            useVersion '3.16.6'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28478351,"reputation":1,"user_id":22547428,"display_name":"coinselector23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694564112,"creation_date":1694564112,"answer_id":77093351,"question_id":72600484,"body_markdown":"I think you need to update:\r\n\r\n    generateSchemaSourceOnCompilation = false","title":"jOOQ codegen fails because of &quot;Invalid content&quot; `visibilityModifier` and `includeExcludePackageRoutines`","body":"<p>I think you need to update:</p>\n<pre><code>generateSchemaSourceOnCompilation = false\n</code></pre>\n"}],"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":987,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1694564112,"creation_date":1655112132,"question_id":72600484,"body_markdown":"I have a `postgres:13.5-alpine` database running and set up jOOQ like so:\r\n\r\nversions\r\n```\r\nplugin_jooq=7.1.1\r\nlib_jooq=3.16.6\r\n```\r\n\r\ngradle\r\n```\r\nplugins {\r\n    id &#39;nu.studer.jooq&#39; version &quot;${plugin_jooq}&quot;\r\n}\r\n\r\ndependencies {\r\n    api &quot;org.postgresql:postgresql&quot;\r\n\r\n    implementation &quot;org.jooq:jooq:${lib_jooq}&quot;\r\n    implementation &quot;org.jooq:jooq-meta:${lib_jooq}&quot;\r\n    implementation &quot;org.jooq:jooq-codegen:${lib_jooq}&quot;\r\n}\r\n\r\njooq {\r\n    version = &quot;${lib_jooq}&quot;\r\n    edition = nu.studer.gradle.jooq.JooqEdition.OSS\r\n\r\n    configurations {\r\n        mydb {\r\n            generateSchemaSourceOnCompilation = true\r\n\r\n            generationTool {\r\n                logging = org.jooq.meta.jaxb.Logging.WARN\r\n                jdbc {\r\n                    driver = &#39;org.postgresql.Driver&#39;\r\n                    url = &#39;jdbc:postgresql://localhost:5432/mydb&#39;\r\n                    user = &#39;&lt;username&gt;&#39;\r\n                    password = &#39;&lt;password&gt;&#39;\r\n                    properties {\r\n                        property {\r\n                            key = &#39;PAGE_SIZE&#39;\r\n                            value = 2048\r\n                        }\r\n                    }\r\n                }\r\n                generator {\r\n                    name = &#39;org.jooq.codegen.DefaultGenerator&#39;\r\n                    database {\r\n                        name = &#39;org.jooq.meta.postgres.PostgresDatabase&#39;\r\n                        inputSchema = &#39;public&#39;\r\n                        includes = &#39;.*&#39;\r\n                        excludes = &#39;&#39;\r\n                    }\r\n                    target {\r\n                        directory = &#39;build/generated/sources/&#39;\r\n                        packageName = &#39;my.app.jooq&#39;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nbuild.dependsOn generateMydbJooq\r\n```\r\n\r\nwhen I run codegen, I get\r\n\r\n```\r\norg.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 927; cvc-complex-type.2.4.a:\r\nInvalid content was found starting with element\r\n&#39;{&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeExcludePackageRoutines}&#39;.\r\n\r\nOne of &#39;{\r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:properties, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:regexFlags, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeTables, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeEmbeddables, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeRoutines, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeTriggerRoutines, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackages, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageRoutines, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageUDTs, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageConstants, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeUDTs, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeDomains, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSequences, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeIndexes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePrimaryKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeUniqueKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeForeignKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeCheckConstraints, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSystemIndexes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSystemCheckConstraints, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeInvisibleColumns, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:recordVersionFields, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:recordTimestampFields, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticObjects, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticIdentities, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticPrimaryKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:overridePrimaryKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:dateAsTimestamp, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:ignoreProcedureReturnValues, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:unsignedTypes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:integerDisplayWidths, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:inputCatalog, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputCatalog, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputCatalogToDefault, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:inputSchema, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputSchema, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputSchemaToDefault, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:catalogs, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:schemata, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:schemaVersionProvider, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:catalogVersionProvider, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:orderProvider, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddables, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddablePrimaryKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddableUniqueKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddableDomains, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:customTypes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:enumTypes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:forcedTypes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:forceIntegerTypesOnZeroScaleDecimals, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:tableValuedFunctions, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:logSlowQueriesAfterSeconds, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:logSlowResultsAfterSeconds\r\n}&#39; is expected.\r\n```\r\n\r\n```\r\norg.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 3351; cvc-complex-type.2.4.a: Invalid content was found starting with element\r\n&#39;{&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:visibilityModifier}&#39;.\r\n\r\nOne of &#39;{...}&#39; is expected.\r\n```\r\n\r\nHow do I resolve this?\r\n\r\n**UPDATE**\r\n\r\nTrying to apply @LukasEder&#39;s suggestion. Added the buildscript but error persists. Spun up some dependency tree, and these are the only dependencies mentioning jooq:\r\n\r\n```\r\n+--- project :my-app\r\n|    +--- org.jooq:jooq:3.16.6 -&gt; 3.14.15\r\n|    |    +--- org.reactivestreams:reactive-streams:1.0.2 -&gt; 1.0.3\r\n|    |    \\--- javax.xml.bind:jaxb-api:2.3.1\r\n|    |         \\--- javax.activation:javax.activation-api:1.2.0\r\n\r\n|    +--- org.jooq:jooq-meta:3.16.6 -&gt; 3.14.15\r\n|    |    \\--- org.jooq:jooq:3.14.15 (*)\r\n|    \\--- org.jooq:jooq-codegen:3.16.6 -&gt; 3.14.15\r\n|         +--- org.jooq:jooq:3.14.15 (*)\r\n|         \\--- org.jooq:jooq-meta:3.14.15 (*)\r\n\r\n```\r\n\r\n**UPDATE**\r\n\r\nDowngrade to 3.14.15 did not resolve this.","title":"jOOQ codegen fails because of &quot;Invalid content&quot; `visibilityModifier` and `includeExcludePackageRoutines`","body":"<p>I have a <code>postgres:13.5-alpine</code> database running and set up jOOQ like so:</p>\n<p>versions</p>\n<pre><code>plugin_jooq=7.1.1\nlib_jooq=3.16.6\n</code></pre>\n<p>gradle</p>\n<pre><code>plugins {\n    id 'nu.studer.jooq' version &quot;${plugin_jooq}&quot;\n}\n\ndependencies {\n    api &quot;org.postgresql:postgresql&quot;\n\n    implementation &quot;org.jooq:jooq:${lib_jooq}&quot;\n    implementation &quot;org.jooq:jooq-meta:${lib_jooq}&quot;\n    implementation &quot;org.jooq:jooq-codegen:${lib_jooq}&quot;\n}\n\njooq {\n    version = &quot;${lib_jooq}&quot;\n    edition = nu.studer.gradle.jooq.JooqEdition.OSS\n\n    configurations {\n        mydb {\n            generateSchemaSourceOnCompilation = true\n\n            generationTool {\n                logging = org.jooq.meta.jaxb.Logging.WARN\n                jdbc {\n                    driver = 'org.postgresql.Driver'\n                    url = 'jdbc:postgresql://localhost:5432/mydb'\n                    user = '&lt;username&gt;'\n                    password = '&lt;password&gt;'\n                    properties {\n                        property {\n                            key = 'PAGE_SIZE'\n                            value = 2048\n                        }\n                    }\n                }\n                generator {\n                    name = 'org.jooq.codegen.DefaultGenerator'\n                    database {\n                        name = 'org.jooq.meta.postgres.PostgresDatabase'\n                        inputSchema = 'public'\n                        includes = '.*'\n                        excludes = ''\n                    }\n                    target {\n                        directory = 'build/generated/sources/'\n                        packageName = 'my.app.jooq'\n                    }\n                }\n            }\n        }\n    }\n}\n\nbuild.dependsOn generateMydbJooq\n</code></pre>\n<p>when I run codegen, I get</p>\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 927; cvc-complex-type.2.4.a:\nInvalid content was found starting with element\n'{&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeExcludePackageRoutines}'.\n\nOne of '{\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:properties, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:regexFlags, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeTables, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeEmbeddables, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeRoutines, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeTriggerRoutines, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackages, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageRoutines, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageUDTs, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageConstants, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeUDTs, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeDomains, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSequences, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeIndexes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePrimaryKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeUniqueKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeForeignKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeCheckConstraints, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSystemIndexes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSystemCheckConstraints, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeInvisibleColumns, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:recordVersionFields, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:recordTimestampFields, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticObjects, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticIdentities, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticPrimaryKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:overridePrimaryKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:dateAsTimestamp, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:ignoreProcedureReturnValues, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:unsignedTypes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:integerDisplayWidths, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:inputCatalog, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputCatalog, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputCatalogToDefault, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:inputSchema, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputSchema, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputSchemaToDefault, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:catalogs, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:schemata, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:schemaVersionProvider, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:catalogVersionProvider, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:orderProvider, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddables, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddablePrimaryKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddableUniqueKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddableDomains, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:customTypes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:enumTypes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:forcedTypes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:forceIntegerTypesOnZeroScaleDecimals, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:tableValuedFunctions, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:logSlowQueriesAfterSeconds, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:logSlowResultsAfterSeconds\n}' is expected.\n</code></pre>\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 3351; cvc-complex-type.2.4.a: Invalid content was found starting with element\n'{&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:visibilityModifier}'.\n\nOne of '{...}' is expected.\n</code></pre>\n<p>How do I resolve this?</p>\n<p><strong>UPDATE</strong></p>\n<p>Trying to apply @LukasEder's suggestion. Added the buildscript but error persists. Spun up some dependency tree, and these are the only dependencies mentioning jooq:</p>\n<pre><code>+--- project :my-app\n|    +--- org.jooq:jooq:3.16.6 -&gt; 3.14.15\n|    |    +--- org.reactivestreams:reactive-streams:1.0.2 -&gt; 1.0.3\n|    |    \\--- javax.xml.bind:jaxb-api:2.3.1\n|    |         \\--- javax.activation:javax.activation-api:1.2.0\n\n|    +--- org.jooq:jooq-meta:3.16.6 -&gt; 3.14.15\n|    |    \\--- org.jooq:jooq:3.14.15 (*)\n|    \\--- org.jooq:jooq-codegen:3.16.6 -&gt; 3.14.15\n|         +--- org.jooq:jooq:3.14.15 (*)\n|         \\--- org.jooq:jooq-meta:3.14.15 (*)\n\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Downgrade to 3.14.15 did not resolve this.</p>\n"},{"tags":["java","arrays","json","sorting"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1694564380,"post_id":77093347,"comment_id":135907008,"body_markdown":"Does your vscode have maven support? Or does it recognize the pom in any way?","body":"Does your vscode have maven support? Or does it recognize the pom in any way?"},{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1694607854,"post_id":77093347,"comment_id":135913139,"body_markdown":"The error occurs because the json-simple JAR file is not in the classpath when you&#39;re running your code, hence the JVM is unable to load the class files from the JAR file, such as the JSONArray class. This leads to a NoClassDefFoundError. To fix it you need to ensure that the json-simple JAR file is present in your classpath when you run your app.","body":"The error occurs because the json-simple JAR file is not in the classpath when you&#39;re running your code, hence the JVM is unable to load the class files from the JAR file, such as the JSONArray class. This leads to a NoClassDefFoundError. To fix it you need to ensure that the json-simple JAR file is present in your classpath when you run your app."}],"owner":{"account_id":29426923,"reputation":1,"user_id":22547387,"display_name":"Sid P."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694564043,"creation_date":1694564043,"question_id":77093347,"body_markdown":"Here is the code (java), and I am using VSCode : \r\n```\r\npackage com.sort;\r\n\r\nimport org.json.simple.*;\r\n\r\npublic class BubbleSort {\r\n\r\n  private static int count = 0;\r\n\r\n  public static void main(String[] args) {\r\n    String fileName =\r\n      &quot;C:/Users/Sid/Desktop/code/cis055/cupcake/src/main/java/com/sort/cupcake_3906.json&quot;;\r\n    \r\n    // read cupcake names\r\n    JSONArray cupcakeArray = JSONFile.readArray(fileName);\r\n    String[] cupcakeNameArray = nameArray(cupcakeArray);\r\n    System.out.println(cupcakeNameArray);\r\n\r\n    // print unsorted list\r\n    System.out.println(&quot;----- Unsorted array -----&quot;);\r\n    print(cupcakeNameArray);\r\n\r\n    // sort\r\n    bubbleSort(cupcakeNameArray);\r\n\r\n    // print sorted list\r\n    System.out.println(&quot;----- Sorted array----- &quot;);\r\n    print(cupcakeNameArray);\r\n\r\n    // print statistics\r\n    System.out.println(&quot;----- Statistics -----&quot;);\r\n    System.out.printf(&quot;Size of array = %d\\n&quot;, cupcakeNameArray.length);\r\n    System.out.printf(&quot;Count = %d\\n&quot;, count);\r\n  }\r\n\r\n  // print cupcake array\r\n  public static void print(String[] cupcakeNameArray) {\r\n    System.out.printf(&quot;Number\\tName\\n&quot;);\r\n    System.out.printf(&quot;------\\t---------------\\n&quot;);\r\n    for (int i = 0; i &lt; cupcakeNameArray.length; i++) {\r\n      System.out.printf(&quot;%04d\\t%s\\n&quot;, i, cupcakeNameArray[i]);\r\n    }\r\n  }\r\n\r\n  // get array of cupcake names\r\n  public static String[] nameArray(JSONArray cupcakeArray) {\r\n    String[] arr = new String[cupcakeArray.size()];\r\n\r\n    // get names from json object\r\n    for (int i = 0; i &lt; cupcakeArray.size(); i++) {\r\n      JSONObject o = (JSONObject) cupcakeArray.get(i);\r\n      String name = (String) o.get(&quot;name&quot;);\r\n      arr[i] = name;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  // bubble sort array, O(n^2), unoptimized brute force solution\r\n  public static void bubbleSort(String[] arr) {\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n      for (int j = 0; j &lt; arr.length; j++) {\r\n        if (j + 1 &lt; arr.length) {\r\n          if (arr[j].compareTo(arr[j + 1]) &gt; 0) {\r\n            swap(arr, j, j + 1);\r\n          }\r\n        }\r\n        // increase count\r\n        count++;\r\n      }\r\n    }\r\n  }\r\n\r\n  // swap\r\n  public static void swap(String[] arr, int a, int b) {\r\n    String temp;\r\n    temp = arr[a];\r\n    arr[a] = arr[b];\r\n    arr[b] = temp;\r\n  }\r\n}\r\n```\r\n\r\n\r\nWhenever I run my code, I keep receiving this error:\r\n\r\nError: Unable to initialize main class com.sort.BubbleSort\r\nCaused by: java.lang.NoClassDefFoundError: JSONArray\r\n\r\n\r\nTo be clear, I have added the proper dependencies in my pom.xml file, and I cannot figure out why this error is happening. Please help!!\r\n[screenshot of my pom.xml file](https://i.stack.imgur.com/TFGjV.png)","title":"JSONError: Error: Unable to initialize main class com.sort.BubbleSort Caused by: java.lang.NoClassDefFoundError: JSONArray","body":"<p>Here is the code (java), and I am using VSCode :</p>\n<pre><code>package com.sort;\n\nimport org.json.simple.*;\n\npublic class BubbleSort {\n\n  private static int count = 0;\n\n  public static void main(String[] args) {\n    String fileName =\n      &quot;C:/Users/Sid/Desktop/code/cis055/cupcake/src/main/java/com/sort/cupcake_3906.json&quot;;\n    \n    // read cupcake names\n    JSONArray cupcakeArray = JSONFile.readArray(fileName);\n    String[] cupcakeNameArray = nameArray(cupcakeArray);\n    System.out.println(cupcakeNameArray);\n\n    // print unsorted list\n    System.out.println(&quot;----- Unsorted array -----&quot;);\n    print(cupcakeNameArray);\n\n    // sort\n    bubbleSort(cupcakeNameArray);\n\n    // print sorted list\n    System.out.println(&quot;----- Sorted array----- &quot;);\n    print(cupcakeNameArray);\n\n    // print statistics\n    System.out.println(&quot;----- Statistics -----&quot;);\n    System.out.printf(&quot;Size of array = %d\\n&quot;, cupcakeNameArray.length);\n    System.out.printf(&quot;Count = %d\\n&quot;, count);\n  }\n\n  // print cupcake array\n  public static void print(String[] cupcakeNameArray) {\n    System.out.printf(&quot;Number\\tName\\n&quot;);\n    System.out.printf(&quot;------\\t---------------\\n&quot;);\n    for (int i = 0; i &lt; cupcakeNameArray.length; i++) {\n      System.out.printf(&quot;%04d\\t%s\\n&quot;, i, cupcakeNameArray[i]);\n    }\n  }\n\n  // get array of cupcake names\n  public static String[] nameArray(JSONArray cupcakeArray) {\n    String[] arr = new String[cupcakeArray.size()];\n\n    // get names from json object\n    for (int i = 0; i &lt; cupcakeArray.size(); i++) {\n      JSONObject o = (JSONObject) cupcakeArray.get(i);\n      String name = (String) o.get(&quot;name&quot;);\n      arr[i] = name;\n    }\n    return arr;\n  }\n\n  // bubble sort array, O(n^2), unoptimized brute force solution\n  public static void bubbleSort(String[] arr) {\n    for (int i = 0; i &lt; arr.length; i++) {\n      for (int j = 0; j &lt; arr.length; j++) {\n        if (j + 1 &lt; arr.length) {\n          if (arr[j].compareTo(arr[j + 1]) &gt; 0) {\n            swap(arr, j, j + 1);\n          }\n        }\n        // increase count\n        count++;\n      }\n    }\n  }\n\n  // swap\n  public static void swap(String[] arr, int a, int b) {\n    String temp;\n    temp = arr[a];\n    arr[a] = arr[b];\n    arr[b] = temp;\n  }\n}\n</code></pre>\n<p>Whenever I run my code, I keep receiving this error:</p>\n<p>Error: Unable to initialize main class com.sort.BubbleSort\nCaused by: java.lang.NoClassDefFoundError: JSONArray</p>\n<p>To be clear, I have added the proper dependencies in my pom.xml file, and I cannot figure out why this error is happening. Please help!!\n<a href=\"https://i.stack.imgur.com/TFGjV.png\" rel=\"nofollow noreferrer\">screenshot of my pom.xml file</a></p>\n"},{"tags":["java","parsing","antlr","antlr4","antlr3"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1434968023,"post_id":30976962,"comment_id":49985122,"body_markdown":"@BartKiers Do you have any idea how to solve this problem?","body":"@BartKiers Do you have any idea how to solve this problem?"},{"owner":{"account_id":6098038,"reputation":193,"user_id":4758234,"display_name":"Sud"},"score":0,"creation_date":1434976712,"post_id":30976962,"comment_id":49990613,"body_markdown":"@BartKiers You&#39;re right. `GT | GE | LT | LE | EQ` all have the same precedence and they should be evaluated before `AND | OR`. The parsing should be based on the brackets `( )`. What I&#39;m looking for is help on how to parse the String in Java using the ParseTree shown in the code above.","body":"@BartKiers You&#39;re right. <code>GT | GE | LT | LE | EQ</code> all have the same precedence and they should be evaluated before <code>AND | OR</code>. The parsing should be based on the brackets <code>( )</code>. What I&#39;m looking for is help on how to parse the String in Java using the ParseTree shown in the code above."},{"owner":{"account_id":6098038,"reputation":193,"user_id":4758234,"display_name":"Sud"},"score":0,"creation_date":1434983983,"post_id":30976962,"comment_id":49995822,"body_markdown":"In our case, whenever there is `AND` between two components, it would always be inside brackets `( )`.","body":"In our case, whenever there is <code>AND</code> between two components, it would always be inside brackets <code>( )</code>."},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1434988012,"post_id":30976962,"comment_id":49998712,"body_markdown":"In your example, `(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))`, the first `AND` is not inside parens. Will `A = a OR B = b OR C = c` be evaluated first, or will `C = c AND ((D = d AND E = e) OR (F = f AND G = g))` first be evaluated?","body":"In your example, <code>(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))</code>, the first <code>AND</code> is not inside parens. Will <code>A = a OR B = b OR C = c</code> be evaluated first, or will <code>C = c AND ((D = d AND E = e) OR (F = f AND G = g))</code> first be evaluated?"}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1435035035,"creation_date":1434997396,"answer_id":30987142,"question_id":30976962,"body_markdown":"I&#39;d just wrap all the expressions into a single `expression` rule. Be sure to define the `comparator` expressions alternative *before* your `binary` expression alternative to make sure `comparator` operators bind more tightly than `OR` and `AND`:\r\n\r\n&lt;!-- language: lang-antlr --&gt;\r\n\r\n    grammar SimpleBoolean;\r\n    \r\n    parse\r\n     : expression EOF\r\n     ;\r\n    \r\n    expression\r\n     : LPAREN expression RPAREN                       #parenExpression\r\n     | NOT expression                                 #notExpression\r\n     | left=expression op=comparator right=expression #comparatorExpression\r\n     | left=expression op=binary right=expression     #binaryExpression\r\n     | bool                                           #boolExpression\r\n     | IDENTIFIER                                     #identifierExpression\r\n     | DECIMAL                                        #decimalExpression\r\n     ;\r\n    \r\n    comparator\r\n     : GT | GE | LT | LE | EQ\r\n     ;\r\n    \r\n    binary\r\n     : AND | OR\r\n     ;\r\n    \r\n    bool\r\n     : TRUE | FALSE\r\n     ;\r\n    \r\n    AND        : &#39;AND&#39; ;\r\n    OR         : &#39;OR&#39; ;\r\n    NOT        : &#39;NOT&#39;;\r\n    TRUE       : &#39;TRUE&#39; ;\r\n    FALSE      : &#39;FALSE&#39; ;\r\n    GT         : &#39;&gt;&#39; ;\r\n    GE         : &#39;&gt;=&#39; ;\r\n    LT         : &#39;&lt;&#39; ;\r\n    LE         : &#39;&lt;=&#39; ;\r\n    EQ         : &#39;=&#39; ;\r\n    LPAREN     : &#39;(&#39; ;\r\n    RPAREN     : &#39;)&#39; ;\r\n    DECIMAL    : &#39;-&#39;? [0-9]+ ( &#39;.&#39; [0-9]+ )? ;\r\n    IDENTIFIER : [a-zA-Z_] [a-zA-Z_0-9]* ;\r\n    WS         : [ \\r\\t\\u000C\\n]+ -&gt; skip;\r\n\r\nTo test the grammar above, use the following quick-and-dirty test classes:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Main {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        Map&lt;String, Object&gt; variables = new HashMap&lt;String, Object&gt;() {{\r\n          put(&quot;A&quot;, true);\r\n          put(&quot;a&quot;, true);\r\n          put(&quot;B&quot;, false);\r\n          put(&quot;b&quot;, false);\r\n          put(&quot;C&quot;, 42.0);\r\n          put(&quot;c&quot;, 42.0);\r\n          put(&quot;D&quot;, -999.0);\r\n          put(&quot;d&quot;, -1999.0);\r\n          put(&quot;E&quot;, 42.001);\r\n          put(&quot;e&quot;, 142.001);\r\n          put(&quot;F&quot;, 42.001);\r\n          put(&quot;f&quot;, 42.001);\r\n          put(&quot;G&quot;, -1.0);\r\n          put(&quot;g&quot;, -1.0);\r\n        }};\r\n    \r\n        String[] expressions = {\r\n            &quot;1 &gt; 2&quot;,\r\n            &quot;1 &gt;= 1.0&quot;,\r\n            &quot;TRUE = FALSE&quot;,\r\n            &quot;FALSE = FALSE&quot;,\r\n            &quot;A OR B&quot;,\r\n            &quot;B&quot;,\r\n            &quot;A = B&quot;,\r\n            &quot;c = C&quot;,\r\n            &quot;E &gt; D&quot;,\r\n            &quot;B OR (c = B OR (A = A AND c = C AND E &gt; D))&quot;,\r\n            &quot;(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))&quot;\r\n        };\r\n    \r\n        for (String expression : expressions) {\r\n          SimpleBooleanLexer lexer = new SimpleBooleanLexer(new ANTLRInputStream(expression));\r\n          SimpleBooleanParser parser = new SimpleBooleanParser(new CommonTokenStream(lexer));\r\n          Object result = new EvalVisitor(variables).visit(parser.parse());\r\n          System.out.printf(&quot;%-70s -&gt; %s\\n&quot;, expression, result);\r\n        }\r\n      }\r\n    }\r\n    \r\n    class EvalVisitor extends SimpleBooleanBaseVisitor&lt;Object&gt; {\r\n    \r\n      private final Map&lt;String, Object&gt; variables;\r\n    \r\n      public EvalVisitor(Map&lt;String, Object&gt; variables) {\r\n        this.variables = variables;\r\n      }\r\n    \r\n      @Override\r\n      public Object visitParse(SimpleBooleanParser.ParseContext ctx) {\r\n        return super.visit(ctx.expression());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitDecimalExpression(SimpleBooleanParser.DecimalExpressionContext ctx) {\r\n        return Double.valueOf(ctx.DECIMAL().getText());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitIdentifierExpression(SimpleBooleanParser.IdentifierExpressionContext ctx) {\r\n        return variables.get(ctx.IDENTIFIER().getText());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitNotExpression(SimpleBooleanParser.NotExpressionContext ctx) {\r\n        return !((Boolean)this.visit(ctx.expression()));\r\n      }\r\n    \r\n      @Override\r\n      public Object visitParenExpression(SimpleBooleanParser.ParenExpressionContext ctx) {\r\n        return super.visit(ctx.expression());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitComparatorExpression(SimpleBooleanParser.ComparatorExpressionContext ctx) {\r\n        if (ctx.op.EQ() != null) {\r\n          return this.visit(ctx.left).equals(this.visit(ctx.right));\r\n        }\r\n        else if (ctx.op.LE() != null) {\r\n          return asDouble(ctx.left) &lt;= asDouble(ctx.right);\r\n        }\r\n        else if (ctx.op.GE() != null) {\r\n          return asDouble(ctx.left) &gt;= asDouble(ctx.right);\r\n        }\r\n        else if (ctx.op.LT() != null) {\r\n          return asDouble(ctx.left) &lt; asDouble(ctx.right);\r\n        }\r\n        else if (ctx.op.GT() != null) {\r\n          return asDouble(ctx.left) &gt; asDouble(ctx.right);\r\n        }\r\n        throw new RuntimeException(&quot;not implemented: comparator operator &quot; + ctx.op.getText());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitBinaryExpression(SimpleBooleanParser.BinaryExpressionContext ctx) {\r\n        if (ctx.op.AND() != null) {\r\n          return asBoolean(ctx.left) &amp;&amp; asBoolean(ctx.right);\r\n        }\r\n        else if (ctx.op.OR() != null) {\r\n          return asBoolean(ctx.left) || asBoolean(ctx.right);\r\n        }\r\n        throw new RuntimeException(&quot;not implemented: binary operator &quot; + ctx.op.getText());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitBoolExpression(SimpleBooleanParser.BoolExpressionContext ctx) {\r\n        return Boolean.valueOf(ctx.getText());\r\n      }\r\n    \r\n      private boolean asBoolean(SimpleBooleanParser.ExpressionContext ctx) {\r\n        return (boolean)visit(ctx);\r\n      }\r\n    \r\n      private double asDouble(SimpleBooleanParser.ExpressionContext ctx) {\r\n        return (double)visit(ctx);\r\n      }\r\n    }\r\n\r\nRunning the `Main` class will result in the following output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    1 &gt; 2                                                                  -&gt; false\r\n    1 &gt;= 1.0                                                               -&gt; true\r\n    TRUE = FALSE                                                           -&gt; false\r\n    FALSE = FALSE                                                          -&gt; true\r\n    A OR B                                                                 -&gt; true\r\n    B                                                                      -&gt; false\r\n    A = B                                                                  -&gt; false\r\n    c = C                                                                  -&gt; true\r\n    E &gt; D                                                                  -&gt; true\r\n    B OR (c = B OR (A = A AND c = C AND E &gt; D))                            -&gt; true\r\n    (A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g))) -&gt; true","title":"Nested Boolean Expression Parser using ANTLR","body":"<p>I'd just wrap all the expressions into a single <code>expression</code> rule. Be sure to define the <code>comparator</code> expressions alternative <em>before</em> your <code>binary</code> expression alternative to make sure <code>comparator</code> operators bind more tightly than <code>OR</code> and <code>AND</code>:</p>\n\n<pre class=\"lang-antlr prettyprint-override\"><code>grammar SimpleBoolean;\n\nparse\n : expression EOF\n ;\n\nexpression\n : LPAREN expression RPAREN                       #parenExpression\n | NOT expression                                 #notExpression\n | left=expression op=comparator right=expression #comparatorExpression\n | left=expression op=binary right=expression     #binaryExpression\n | bool                                           #boolExpression\n | IDENTIFIER                                     #identifierExpression\n | DECIMAL                                        #decimalExpression\n ;\n\ncomparator\n : GT | GE | LT | LE | EQ\n ;\n\nbinary\n : AND | OR\n ;\n\nbool\n : TRUE | FALSE\n ;\n\nAND        : 'AND' ;\nOR         : 'OR' ;\nNOT        : 'NOT';\nTRUE       : 'TRUE' ;\nFALSE      : 'FALSE' ;\nGT         : '&gt;' ;\nGE         : '&gt;=' ;\nLT         : '&lt;' ;\nLE         : '&lt;=' ;\nEQ         : '=' ;\nLPAREN     : '(' ;\nRPAREN     : ')' ;\nDECIMAL    : '-'? [0-9]+ ( '.' [0-9]+ )? ;\nIDENTIFIER : [a-zA-Z_] [a-zA-Z_0-9]* ;\nWS         : [ \\r\\t\\u000C\\n]+ -&gt; skip;\n</code></pre>\n\n<p>To test the grammar above, use the following quick-and-dirty test classes:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n  public static void main(String[] args) throws Exception {\n\n    Map&lt;String, Object&gt; variables = new HashMap&lt;String, Object&gt;() {{\n      put(\"A\", true);\n      put(\"a\", true);\n      put(\"B\", false);\n      put(\"b\", false);\n      put(\"C\", 42.0);\n      put(\"c\", 42.0);\n      put(\"D\", -999.0);\n      put(\"d\", -1999.0);\n      put(\"E\", 42.001);\n      put(\"e\", 142.001);\n      put(\"F\", 42.001);\n      put(\"f\", 42.001);\n      put(\"G\", -1.0);\n      put(\"g\", -1.0);\n    }};\n\n    String[] expressions = {\n        \"1 &gt; 2\",\n        \"1 &gt;= 1.0\",\n        \"TRUE = FALSE\",\n        \"FALSE = FALSE\",\n        \"A OR B\",\n        \"B\",\n        \"A = B\",\n        \"c = C\",\n        \"E &gt; D\",\n        \"B OR (c = B OR (A = A AND c = C AND E &gt; D))\",\n        \"(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))\"\n    };\n\n    for (String expression : expressions) {\n      SimpleBooleanLexer lexer = new SimpleBooleanLexer(new ANTLRInputStream(expression));\n      SimpleBooleanParser parser = new SimpleBooleanParser(new CommonTokenStream(lexer));\n      Object result = new EvalVisitor(variables).visit(parser.parse());\n      System.out.printf(\"%-70s -&gt; %s\\n\", expression, result);\n    }\n  }\n}\n\nclass EvalVisitor extends SimpleBooleanBaseVisitor&lt;Object&gt; {\n\n  private final Map&lt;String, Object&gt; variables;\n\n  public EvalVisitor(Map&lt;String, Object&gt; variables) {\n    this.variables = variables;\n  }\n\n  @Override\n  public Object visitParse(SimpleBooleanParser.ParseContext ctx) {\n    return super.visit(ctx.expression());\n  }\n\n  @Override\n  public Object visitDecimalExpression(SimpleBooleanParser.DecimalExpressionContext ctx) {\n    return Double.valueOf(ctx.DECIMAL().getText());\n  }\n\n  @Override\n  public Object visitIdentifierExpression(SimpleBooleanParser.IdentifierExpressionContext ctx) {\n    return variables.get(ctx.IDENTIFIER().getText());\n  }\n\n  @Override\n  public Object visitNotExpression(SimpleBooleanParser.NotExpressionContext ctx) {\n    return !((Boolean)this.visit(ctx.expression()));\n  }\n\n  @Override\n  public Object visitParenExpression(SimpleBooleanParser.ParenExpressionContext ctx) {\n    return super.visit(ctx.expression());\n  }\n\n  @Override\n  public Object visitComparatorExpression(SimpleBooleanParser.ComparatorExpressionContext ctx) {\n    if (ctx.op.EQ() != null) {\n      return this.visit(ctx.left).equals(this.visit(ctx.right));\n    }\n    else if (ctx.op.LE() != null) {\n      return asDouble(ctx.left) &lt;= asDouble(ctx.right);\n    }\n    else if (ctx.op.GE() != null) {\n      return asDouble(ctx.left) &gt;= asDouble(ctx.right);\n    }\n    else if (ctx.op.LT() != null) {\n      return asDouble(ctx.left) &lt; asDouble(ctx.right);\n    }\n    else if (ctx.op.GT() != null) {\n      return asDouble(ctx.left) &gt; asDouble(ctx.right);\n    }\n    throw new RuntimeException(\"not implemented: comparator operator \" + ctx.op.getText());\n  }\n\n  @Override\n  public Object visitBinaryExpression(SimpleBooleanParser.BinaryExpressionContext ctx) {\n    if (ctx.op.AND() != null) {\n      return asBoolean(ctx.left) &amp;&amp; asBoolean(ctx.right);\n    }\n    else if (ctx.op.OR() != null) {\n      return asBoolean(ctx.left) || asBoolean(ctx.right);\n    }\n    throw new RuntimeException(\"not implemented: binary operator \" + ctx.op.getText());\n  }\n\n  @Override\n  public Object visitBoolExpression(SimpleBooleanParser.BoolExpressionContext ctx) {\n    return Boolean.valueOf(ctx.getText());\n  }\n\n  private boolean asBoolean(SimpleBooleanParser.ExpressionContext ctx) {\n    return (boolean)visit(ctx);\n  }\n\n  private double asDouble(SimpleBooleanParser.ExpressionContext ctx) {\n    return (double)visit(ctx);\n  }\n}\n</code></pre>\n\n<p>Running the <code>Main</code> class will result in the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1 &gt; 2                                                                  -&gt; false\n1 &gt;= 1.0                                                               -&gt; true\nTRUE = FALSE                                                           -&gt; false\nFALSE = FALSE                                                          -&gt; true\nA OR B                                                                 -&gt; true\nB                                                                      -&gt; false\nA = B                                                                  -&gt; false\nc = C                                                                  -&gt; true\nE &gt; D                                                                  -&gt; true\nB OR (c = B OR (A = A AND c = C AND E &gt; D))                            -&gt; true\n(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g))) -&gt; true\n</code></pre>\n"}],"owner":{"account_id":6098038,"reputation":193,"user_id":4758234,"display_name":"Sud"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15629,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":30987142,"answer_count":1,"score":19,"last_activity_date":1694563816,"creation_date":1434966828,"question_id":30976962,"body_markdown":"I&#39;m trying to parse a Nested Boolean Expression and get the individual conditions within the expression separately. For e.g., if the input string is:\r\n\r\n(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))\r\n\r\nI would like to get the conditions with the correct order. i.e.,\r\n\r\nD =d AND E = e\r\nOR\r\nF = f AND G = g\r\nAND\r\nA = a OR B = b OR C = c\r\n\r\nI&#39;m using ANTLR 4 to parse the input text and here&#39;s my grammar:\r\n\r\n    grammar SimpleBoolean;\r\n\r\n    rule_set : nestedCondition* EOF;\r\n   \r\n    AND : &#39;AND&#39; ;\r\n    OR  : &#39;OR&#39; ;\r\n    NOT : &#39;NOT&#39;;\r\n   \r\n    TRUE  : &#39;TRUE&#39; ;\r\n    FALSE : &#39;FALSE&#39; ;\r\n   \r\n    GT : &#39;&gt;&#39; ;\r\n    GE : &#39;&gt;=&#39; ;\r\n    LT : &#39;&lt;&#39; ;\r\n    LE : &#39;&lt;=&#39; ;\r\n    EQ : &#39;=&#39; ;\r\n   \r\n    LPAREN : &#39;(&#39; ;\r\n    RPAREN : &#39;)&#39; ;\r\n   \r\n    DECIMAL : &#39;-&#39;?[0-9]+(&#39;.&#39;[0-9]+)? ;\r\n   \r\n    IDENTIFIER : [a-zA-Z_][a-zA-Z_0-9]* ;\r\n   \r\n    WS : [ \\r\\t\\u000C\\n]+ -&gt; skip;\r\n   \r\n    nestedCondition : LPAREN condition+ RPAREN (binary nestedCondition)*;\r\n    condition: predicate (binary predicate)*\r\n    \t\t\t| predicate (binary component)*;\r\n    component: predicate | multiAttrComp;\r\n    multiAttrComp : LPAREN predicate (and predicate)+ RPAREN;\r\n    predicate : IDENTIFIER comparator IDENTIFIER;\r\n    comparator : GT | GE | LT | LE | EQ ;\r\n    binary: AND | OR ;\r\n    unary: NOT;\r\n    and: AND;\r\n    \r\n   \r\nAnd here&#39;s the Java Code that I&#39;m using to parse it:\r\n\r\n    ANTLRInputStream inputStr = new ANTLRInputStream(input);\r\n\tSimpleBooleanLexer lexer = new SimpleBooleanLexer(inputStr);\r\n\tTokenStream tokens = new CommonTokenStream(lexer);\r\n\tSimpleBooleanParser parser = new SimpleBooleanParser(tokens);\r\n    parser.getBuildParseTree();\r\n    ParseTree tree = parser.rule_set();\r\n    System.out.println(tree.toStringTree(parser));\r\n\r\nThe output is:\r\n\r\n    (rule_set (nestedCondition ( (condition (predicate A (comparator =) a) (binary OR) (component (predicate B (comparator =) b)) (binary OR) (component (predicate C (comparator =) c)) (binary AND) (component (multiAttrComp ( (predicate ( D (comparator =) d) (and AND) (predicate E (comparator =) e) ))) (binary OR) (component (multiAttrComp ( (predicate F (comparator =) f) (and AND) (predicate G (comparator =) g) )))) ) )) &lt;EOF&gt;)\r\n\r\nI&#39;m looking for help on how to parse this tree to get the conditions in the correct order? In ANTLR 3, we could specify ^ and ! to decide how the tree is built(refer this [thread][1]), but I learnt that this is not supported in ANTLR 4. \r\n\r\nCan someone suggest how I can parse the String in the correct order in Java using the ParseTree created by ANTLR?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4931346/how-to-output-the-ast-built-using-antlr","title":"Nested Boolean Expression Parser using ANTLR","body":"<p>I'm trying to parse a Nested Boolean Expression and get the individual conditions within the expression separately. For e.g., if the input string is:</p>\n\n<p>(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))</p>\n\n<p>I would like to get the conditions with the correct order. i.e.,</p>\n\n<p>D =d AND E = e\nOR\nF = f AND G = g\nAND\nA = a OR B = b OR C = c</p>\n\n<p>I'm using ANTLR 4 to parse the input text and here's my grammar:</p>\n\n<pre><code>grammar SimpleBoolean;\n\nrule_set : nestedCondition* EOF;\n\nAND : 'AND' ;\nOR  : 'OR' ;\nNOT : 'NOT';\n\nTRUE  : 'TRUE' ;\nFALSE : 'FALSE' ;\n\nGT : '&gt;' ;\nGE : '&gt;=' ;\nLT : '&lt;' ;\nLE : '&lt;=' ;\nEQ : '=' ;\n\nLPAREN : '(' ;\nRPAREN : ')' ;\n\nDECIMAL : '-'?[0-9]+('.'[0-9]+)? ;\n\nIDENTIFIER : [a-zA-Z_][a-zA-Z_0-9]* ;\n\nWS : [ \\r\\t\\u000C\\n]+ -&gt; skip;\n\nnestedCondition : LPAREN condition+ RPAREN (binary nestedCondition)*;\ncondition: predicate (binary predicate)*\n            | predicate (binary component)*;\ncomponent: predicate | multiAttrComp;\nmultiAttrComp : LPAREN predicate (and predicate)+ RPAREN;\npredicate : IDENTIFIER comparator IDENTIFIER;\ncomparator : GT | GE | LT | LE | EQ ;\nbinary: AND | OR ;\nunary: NOT;\nand: AND;\n</code></pre>\n\n<p>And here's the Java Code that I'm using to parse it:</p>\n\n<pre><code>ANTLRInputStream inputStr = new ANTLRInputStream(input);\nSimpleBooleanLexer lexer = new SimpleBooleanLexer(inputStr);\nTokenStream tokens = new CommonTokenStream(lexer);\nSimpleBooleanParser parser = new SimpleBooleanParser(tokens);\nparser.getBuildParseTree();\nParseTree tree = parser.rule_set();\nSystem.out.println(tree.toStringTree(parser));\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>(rule_set (nestedCondition ( (condition (predicate A (comparator =) a) (binary OR) (component (predicate B (comparator =) b)) (binary OR) (component (predicate C (comparator =) c)) (binary AND) (component (multiAttrComp ( (predicate ( D (comparator =) d) (and AND) (predicate E (comparator =) e) ))) (binary OR) (component (multiAttrComp ( (predicate F (comparator =) f) (and AND) (predicate G (comparator =) g) )))) ) )) &lt;EOF&gt;)\n</code></pre>\n\n<p>I'm looking for help on how to parse this tree to get the conditions in the correct order? In ANTLR 3, we could specify ^ and ! to decide how the tree is built(refer this <a href=\"https://stackoverflow.com/questions/4931346/how-to-output-the-ast-built-using-antlr\">thread</a>), but I learnt that this is not supported in ANTLR 4. </p>\n\n<p>Can someone suggest how I can parse the String in the correct order in Java using the ParseTree created by ANTLR?</p>\n"},{"tags":["java","jar","auto-update","file-access"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1694507349,"post_id":77085119,"comment_id":135896202,"body_markdown":"Does this answer your question? [How do I launch a completely independent process from a Java program?](https://stackoverflow.com/questions/931536/how-do-i-launch-a-completely-independent-process-from-a-java-program)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/931536/how-do-i-launch-a-completely-independent-process-from-a-java-program\">How do I launch a completely independent process from a Java program?</a>"},{"owner":{"account_id":10482040,"reputation":118,"user_id":7726772,"display_name":"Fraŋkini"},"score":0,"creation_date":1694554803,"post_id":77085119,"comment_id":135906056,"body_markdown":"I&#39;ve ended up reworking the entire post...","body":"I&#39;ve ended up reworking the entire post..."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1694555024,"post_id":77085119,"comment_id":135906087,"body_markdown":"Can you maybe try reducing your project to a [mre] (and I mean minimal, only include what&#39;s necessary for reproducing it) where the issue happens?","body":"Can you maybe try reducing your project to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (and I mean minimal, only include what&#39;s necessary for reproducing it) where the issue happens?"},{"owner":{"account_id":10482040,"reputation":118,"user_id":7726772,"display_name":"Fraŋkini"},"score":0,"creation_date":1694555171,"post_id":77085119,"comment_id":135906105,"body_markdown":"I suppose I&#39;ll have to try to do a duplicate of the project and then start taking stuff away one bit at the timee to see when it starts working... this way I might find the culprit but i&#39;s going to take some time","body":"I suppose I&#39;ll have to try to do a duplicate of the project and then start taking stuff away one bit at the timee to see when it starts working... this way I might find the culprit but i&#39;s going to take some time"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1694555521,"post_id":77085119,"comment_id":135906137,"body_markdown":"Also, it could happen that A is actually not stopped when Bis changing A&#39;s JAR. `System.exit` doesn&#39;t immediately dtop the program.","body":"Also, it could happen that A is actually not stopped when Bis changing A&#39;s JAR. <code>System.exit</code> doesn&#39;t immediately dtop the program."}],"answers":[{"tags":[],"owner":{"account_id":10482040,"reputation":118,"user_id":7726772,"display_name":"Fraŋkini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694563482,"creation_date":1694563072,"answer_id":77093294,"question_id":77085119,"body_markdown":"OK, this was a weird one...\r\n\r\nI cloned the app project and started to remove one bit at the time untill I was left with this:\r\n\r\n    public class Main implements Runnable {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Main());\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tString dir = new File(&quot;.&quot;).getAbsoluteFile().getParentFile().getAbsolutePath() + File.separator;\r\n\t\t\ttry {\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + dir + &quot;Update&quot; + File.separator + &quot;Updater.jar\\&quot;&quot;);\r\n\t\t\t} catch (IOException ex) { }\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\r\nat this point there was not a shadow of a doubt that it wasn&#39;t the app the problem, but the updater itself... so I proceeded to made a clone of that project as well and started to reverse-engineer it until I finally figured out what the problem was.\r\n\r\n**This is what happened:**\r\n\r\nmy basic file structure is as follows:\r\n\r\n    App Folder\r\n    ├─ App.jar\r\n    ├─ Update\r\n    │  ├─ Updater.jar\r\n    │  ├─ Data\r\n    │  │  ├─ NewApp.jar\r\n\r\n`App.jar` launches `Updater.jar` and exites.\r\n\r\nThe `Updater.jar` tries to figure out it&#39;s own location path to then be able to find the path to the parent `App Folder` and the path to the child `Data` folder.\r\n\r\nTo find the `.jar` current directory I obtain it by doing `new File(&quot;.&quot;).getAbsoluteFile().getParentFile();`. this will make a &#39;.&#39; File object in the same directory as the `.jar` file of the running application. By gettin this object&#39;s parent, I basically have the directory path to the current Application. **This is what breaks!**\r\n\r\nIf I open the `Updater.jar` manually, the path is correct and there is no issue.\r\n\r\nBut if it&#39;s the `App.jar` that opens the `Updater.jar`, then for some reason the `new File(&quot;.&quot;)` called by the Updater app will no longer be created in the `Updater.jar` directory, but in the `App.jar` directory where the Updater was executed from.\r\n\r\nTo fix it I momentarily replaced the faulty code with `new File(context.getProtectionDomain().getCodeSource().getLocation().toURI())` to get the current App Directory and it&#39;s working alright, but I&#39;ll have to find a &quot;proper&quot; way and really look into it better, as I&#39;m starting to grow suspicious of this solution as well!\r\n\r\nThis to me makes no sense to be honest, and I feels like it&#39;s more of a bug rather than a feature... but none the less, I finally got to the bottom of it and it&#39;s now all working as expected!","title":"SOLVED - Issue while using `new File(&quot;.&quot;)` when executing a new jar programmatically","body":"<p>OK, this was a weird one...</p>\n<p>I cloned the app project and started to remove one bit at the time untill I was left with this:</p>\n<pre><code>public class Main implements Runnable {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Main());\n    }\n    @Override\n    public void run() {\n        String dir = new File(&quot;.&quot;).getAbsoluteFile().getParentFile().getAbsolutePath() + File.separator;\n        try {\n            Runtime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + dir + &quot;Update&quot; + File.separator + &quot;Updater.jar\\&quot;&quot;);\n        } catch (IOException ex) { }\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>at this point there was not a shadow of a doubt that it wasn't the app the problem, but the updater itself... so I proceeded to made a clone of that project as well and started to reverse-engineer it until I finally figured out what the problem was.</p>\n<p><strong>This is what happened:</strong></p>\n<p>my basic file structure is as follows:</p>\n<pre><code>App Folder\n├─ App.jar\n├─ Update\n│  ├─ Updater.jar\n│  ├─ Data\n│  │  ├─ NewApp.jar\n</code></pre>\n<p><code>App.jar</code> launches <code>Updater.jar</code> and exites.</p>\n<p>The <code>Updater.jar</code> tries to figure out it's own location path to then be able to find the path to the parent <code>App Folder</code> and the path to the child <code>Data</code> folder.</p>\n<p>To find the <code>.jar</code> current directory I obtain it by doing <code>new File(&quot;.&quot;).getAbsoluteFile().getParentFile();</code>. this will make a '.' File object in the same directory as the <code>.jar</code> file of the running application. By gettin this object's parent, I basically have the directory path to the current Application. <strong>This is what breaks!</strong></p>\n<p>If I open the <code>Updater.jar</code> manually, the path is correct and there is no issue.</p>\n<p>But if it's the <code>App.jar</code> that opens the <code>Updater.jar</code>, then for some reason the <code>new File(&quot;.&quot;)</code> called by the Updater app will no longer be created in the <code>Updater.jar</code> directory, but in the <code>App.jar</code> directory where the Updater was executed from.</p>\n<p>To fix it I momentarily replaced the faulty code with <code>new File(context.getProtectionDomain().getCodeSource().getLocation().toURI())</code> to get the current App Directory and it's working alright, but I'll have to find a &quot;proper&quot; way and really look into it better, as I'm starting to grow suspicious of this solution as well!</p>\n<p>This to me makes no sense to be honest, and I feels like it's more of a bug rather than a feature... but none the less, I finally got to the bottom of it and it's now all working as expected!</p>\n"}],"owner":{"account_id":10482040,"reputation":118,"user_id":7726772,"display_name":"Fraŋkini"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77093294,"answer_count":1,"score":0,"last_activity_date":1694563736,"creation_date":1694471829,"question_id":77085119,"body_markdown":"**UPDATE:**\r\n\r\n**MY SITUATION:**\r\n\r\nUsing Java 17.0.8\r\n\r\nI have an app A.jar that on startup checks for updates, downloads the update and then runs B.jar to replace the app files with the freshly downloaded ones.\r\n\r\n**THE PROBLEM:**\r\n\r\nFrom A, when I run the B app and then `exit(0)`, the A app should release the lock on the A.jar file after the JVM closes, so the B app can then replace the files with the new updated version.\r\nInstead, the A.jar file remains locked and the B app can&#39;t overwrite the A files with the update.\r\n\r\nInstead, if the A app exits, and then I manually launch the B app, it works as espected.\r\nI&#39;ve also tried to run the B app launcingh it with the `cmd /c` nohup but it still doesn&#39;t release the lock on A files...\r\n\r\n**DEBUG:**\r\n\r\nmaking a fresh project and compiling this code three times, once for A.jar, once for B.jar and the last one for A2.jar, then running the A.jar, then it updates to A2.jar version successfully as expected.\r\n\r\n    public class Main implements Runnable {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tSwingUtilities.invokeLater(new Main());\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tString x = &quot;A&quot;; //&quot;A&quot; for A.jar, &quot;B&quot; for B.jar and &quot;A2&quot; for A2.jar\r\n\r\n\t\t\tFile dir = new File(&quot;.&quot;).getAbsoluteFile().getParentFile();\r\n\t\t\tFile A = new File(dir.getAbsolutePath() + File.separator + &quot;A.jar&quot;);\r\n\t\t\tFile B = new File(dir.getAbsolutePath() + File.separator + &quot;B.jar&quot;);\r\n\t\t\tFile A2 = new File(dir.getAbsolutePath() + File.separator + &quot;A2.jar&quot;);\r\n\t\t\tswitch (x) {\r\n\t\t\t\tcase &quot;A&quot; -&gt; {\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Lancio Aggiornamento!&quot;);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tRuntime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + B.getAbsolutePath() + &quot;\\&quot;&quot;);\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Aggiornamento Fallito!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcase &quot;B&quot; -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Sto Aggiornando!&quot;);\r\n\t\t\t\t\t\tFiles.copy(A2.toPath(), A.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n\t\t\t\t\t\tA2.delete();\r\n\t\t\t\t\t\tRuntime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + A.getAbsolutePath() + &quot;\\&quot;&quot;);\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Aggiornamento Fallito!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcase &quot;A2&quot; -&gt; {\r\n\t\t\t\t\tB.delete();\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Sono Aggiornamento!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tdefault -&gt; { }\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\nSo I imagine it&#39;s an issue with my project. The problem is that there is too much code and libraries to trying and find the culprit...\r\n\r\n**THE QUESTION:**\r\n\r\nWhat could be keeping the main .jar file loked after I exit the JVM and it fully closes, even disappearing from task manager? Shouldn&#39;t it release any remaining lock on the .jar files?\r\n\r\nI know if I don&#39;t close a file stream properly then it might not fully release the lock, but I&#39;m not directly doing anything to the jar file itself...","title":"SOLVED - Issue while using `new File(&quot;.&quot;)` when executing a new jar programmatically","body":"<p><strong>UPDATE:</strong></p>\n<p><strong>MY SITUATION:</strong></p>\n<p>Using Java 17.0.8</p>\n<p>I have an app A.jar that on startup checks for updates, downloads the update and then runs B.jar to replace the app files with the freshly downloaded ones.</p>\n<p><strong>THE PROBLEM:</strong></p>\n<p>From A, when I run the B app and then <code>exit(0)</code>, the A app should release the lock on the A.jar file after the JVM closes, so the B app can then replace the files with the new updated version.\nInstead, the A.jar file remains locked and the B app can't overwrite the A files with the update.</p>\n<p>Instead, if the A app exits, and then I manually launch the B app, it works as espected.\nI've also tried to run the B app launcingh it with the <code>cmd /c</code> nohup but it still doesn't release the lock on A files...</p>\n<p><strong>DEBUG:</strong></p>\n<p>making a fresh project and compiling this code three times, once for A.jar, once for B.jar and the last one for A2.jar, then running the A.jar, then it updates to A2.jar version successfully as expected.</p>\n<pre><code>public class Main implements Runnable {\n\n    public static void main(String[] args) {\n\n        SwingUtilities.invokeLater(new Main());\n    }\n\n    @Override\n    public void run() {\n        String x = &quot;A&quot;; //&quot;A&quot; for A.jar, &quot;B&quot; for B.jar and &quot;A2&quot; for A2.jar\n\n        File dir = new File(&quot;.&quot;).getAbsoluteFile().getParentFile();\n        File A = new File(dir.getAbsolutePath() + File.separator + &quot;A.jar&quot;);\n        File B = new File(dir.getAbsolutePath() + File.separator + &quot;B.jar&quot;);\n        File A2 = new File(dir.getAbsolutePath() + File.separator + &quot;A2.jar&quot;);\n        switch (x) {\n            case &quot;A&quot; -&gt; {\n                JOptionPane.showMessageDialog(null, x + &quot;: Lancio Aggiornamento!&quot;);\n                try {\n                    Runtime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + B.getAbsolutePath() + &quot;\\&quot;&quot;);\n                    System.exit(0);\n                } catch (IOException ex) {\n                    JOptionPane.showMessageDialog(null, x + &quot;: Aggiornamento Fallito!&quot;);\n                }\n            }\n            case &quot;B&quot; -&gt; {\n                try {\n                    JOptionPane.showMessageDialog(null, x + &quot;: Sto Aggiornando!&quot;);\n                    Files.copy(A2.toPath(), A.toPath(), StandardCopyOption.REPLACE_EXISTING);\n                    A2.delete();\n                    Runtime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + A.getAbsolutePath() + &quot;\\&quot;&quot;);\n                    System.exit(0);\n                } catch (IOException ex) {\n                    JOptionPane.showMessageDialog(null, x + &quot;: Aggiornamento Fallito!&quot;);\n                }\n            }\n            case &quot;A2&quot; -&gt; {\n                B.delete();\n                JOptionPane.showMessageDialog(null, x + &quot;: Sono Aggiornamento!&quot;);\n            }\n            default -&gt; { }\n        }\n    }\n\n}\n</code></pre>\n<p>So I imagine it's an issue with my project. The problem is that there is too much code and libraries to trying and find the culprit...</p>\n<p><strong>THE QUESTION:</strong></p>\n<p>What could be keeping the main .jar file loked after I exit the JVM and it fully closes, even disappearing from task manager? Shouldn't it release any remaining lock on the .jar files?</p>\n<p>I know if I don't close a file stream properly then it might not fully release the lock, but I'm not directly doing anything to the jar file itself...</p>\n"},{"tags":["java","android","kotlin","android-gradle-plugin","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":7921523,"reputation":173,"user_id":5982350,"display_name":"Ahmed Sa&#39;eed"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1599742002,"creation_date":1599742002,"answer_id":63830006,"question_id":55332209,"body_markdown":"In `gradle.properties` you can set \r\n`android.useNewApkCreator=true`, This will fix first warning.","title":"WARNING: The option setting is experimental and unsupported","body":"<p>In <code>gradle.properties</code> you can set\n<code>android.useNewApkCreator=true</code>, This will fix first warning.</p>\n"}],"owner":{"account_id":8325678,"reputation":1471,"user_id":6255841,"display_name":"Nabin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20971,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1694563515,"creation_date":1553494810,"question_id":55332209,"body_markdown":"I have updated **Android Studio** to **3.3.2**, and found gradle sync warning.\r\n\r\nWARNING: The option setting **&#39;android.databinding.enableV2=false&#39;** is *experimental and unsupported*.\r\nThe current default is **&#39;true&#39;.**\r\n\r\nWARNING: The option setting **&#39;android.enableExperimentalFeatureDatabinding=true&#39;** is *experimental and unsupported*.\r\nThe current default is **&#39;false&#39;.**","title":"WARNING: The option setting is experimental and unsupported","body":"<p>I have updated <strong>Android Studio</strong> to <strong>3.3.2</strong>, and found gradle sync warning.</p>\n\n<p>WARNING: The option setting <strong>'android.databinding.enableV2=false'</strong> is <em>experimental and unsupported</em>.\nThe current default is <strong>'true'.</strong></p>\n\n<p>WARNING: The option setting <strong>'android.enableExperimentalFeatureDatabinding=true'</strong> is <em>experimental and unsupported</em>.\nThe current default is <strong>'false'.</strong></p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":3685403,"reputation":9772,"user_id":3069254,"display_name":"Jorge_B"},"score":0,"creation_date":1449737756,"post_id":34197341,"comment_id":56140330,"body_markdown":"With Maven, I would try to &quot;Import existing Maven projects&quot;, which would create appropriate &quot;views&quot; of every subproject adjacent to the parent project.  This way, Eclipse would show you the flat multiproject structure it likes, offering you proper java projects based on each Maven module configuration.  I don&#39;t know if this is feasible with Gradle, however :(","body":"With Maven, I would try to &quot;Import existing Maven projects&quot;, which would create appropriate &quot;views&quot; of every subproject adjacent to the parent project.  This way, Eclipse would show you the flat multiproject structure it likes, offering you proper java projects based on each Maven module configuration.  I don&#39;t know if this is feasible with Gradle, however :("},{"owner":{"account_id":7447336,"reputation":103,"user_id":5663106,"display_name":"demavend"},"score":0,"creation_date":1450419997,"post_id":34197341,"comment_id":56440904,"body_markdown":"A few days ago, I have found a solution.","body":"A few days ago, I have found a solution."},{"owner":{"account_id":2918605,"reputation":578,"user_id":2501328,"display_name":"Shineed Basheer"},"score":0,"creation_date":1539755995,"post_id":34197341,"comment_id":92612064,"body_markdown":"@demavend Whats the solution you found ?","body":"@demavend Whats the solution you found ?"}],"answers":[{"tags":[],"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1449738024,"creation_date":1449738024,"answer_id":34197507,"question_id":34197341,"body_markdown":"You can try to install Gradle plugin for eclipse from here:\r\n\r\n&quot;https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md&quot;\r\n\r\nInstallation steps are given here: \r\n&quot;https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md#installation-instructions&quot;.\r\n\r\n\r\n\r\nYou can view the following post for further information:\r\n\r\n&quot;https://stackoverflow.com/questions/6442619/launching-gradle-builds-from-eclipse&quot;.","title":"How to configure Eclipse with Gradle in multi project?","body":"<p>You can try to install Gradle plugin for eclipse from here:</p>\n\n<p>\"<a href=\"https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md</a>\"</p>\n\n<p>Installation steps are given here: \n\"<a href=\"https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md#installation-instructions\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md#installation-instructions</a>\".</p>\n\n<p>You can view the following post for further information:</p>\n\n<p>\"<a href=\"https://stackoverflow.com/questions/6442619/launching-gradle-builds-from-eclipse\">Launching Gradle builds from Eclipse</a>\".</p>\n"}],"owner":{"account_id":7447336,"reputation":103,"user_id":5663106,"display_name":"demavend"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12809,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1694563515,"creation_date":1449737495,"question_id":34197341,"body_markdown":"I&#39;m using Eclipse Mars, Buildship plugin, JDK 1.8 and Gradle 2.9 on OS X\r\n\r\nI need below structure in Eclipse. How to configure and create?\r\n\r\n    my-examples/\r\n        settings.gradle\r\n        01_example/\r\n            build.gradle\r\n            src/main/java\r\n            src/main/resources\r\n            src/test/java\r\n            src/test/resources\r\n        02_example/\r\n            build.gradle\r\n            src/main/java\r\n            src/main/resources\r\n            src/test/java\r\n            src/test/resources\r\n        03_example/\r\n            build.gradle\r\n            src/main/java\r\n            src/main/resources\r\n            src/test/java\r\n            src/test/resources\r\n\r\nThe root directory `my-examples` is just wraps sub directories(`01_example`, `02_example`, `03_example`). \r\n\r\n\r\n----------\r\n\r\nHere is `build.gradle` in root directory I tried to configure:\r\n\r\n    subprojects {\r\n       apply plugin: &#39;java&#39;\r\n       sourceCompatibility = 1.8\r\n       targetCompatibility = 1.8\r\n       repositories {\r\n           jcenter()\r\n       }\r\n       task initSourceFolders {\r\n           sourceSets*.java.srcDirs*.each { it.mkdirs() }\r\n           sourceSets*.resources.srcDirs*.each { it.mkdirs() }\r\n       }\r\n    }\r\n\r\n\r\n----------\r\nEdited\r\n\r\nFirst, I created a directory and created `build.gradle` and `settings.gradle` with `include exam1`, `include exam2`, and `include exam3`.\r\nNow I imported the project from Gradle Project. The sub directories has been created that I needed.\r\n\r\n**But** problem is that I can&#39;t create another sub directory in Eclipse and it&#39;s same in shell `mkdir exam4` and `gradle build`. Always It has been created normal folder.\r\n\r\n[Project workspace in Eclipse][1]\r\n\r\n  [1]: https://i.stack.imgur.com/NR74b.png","title":"How to configure Eclipse with Gradle in multi project?","body":"<p>I'm using Eclipse Mars, Buildship plugin, JDK 1.8 and Gradle 2.9 on OS X</p>\n\n<p>I need below structure in Eclipse. How to configure and create?</p>\n\n<pre><code>my-examples/\n    settings.gradle\n    01_example/\n        build.gradle\n        src/main/java\n        src/main/resources\n        src/test/java\n        src/test/resources\n    02_example/\n        build.gradle\n        src/main/java\n        src/main/resources\n        src/test/java\n        src/test/resources\n    03_example/\n        build.gradle\n        src/main/java\n        src/main/resources\n        src/test/java\n        src/test/resources\n</code></pre>\n\n<p>The root directory <code>my-examples</code> is just wraps sub directories(<code>01_example</code>, <code>02_example</code>, <code>03_example</code>). </p>\n\n<hr>\n\n<p>Here is <code>build.gradle</code> in root directory I tried to configure:</p>\n\n<pre><code>subprojects {\n   apply plugin: 'java'\n   sourceCompatibility = 1.8\n   targetCompatibility = 1.8\n   repositories {\n       jcenter()\n   }\n   task initSourceFolders {\n       sourceSets*.java.srcDirs*.each { it.mkdirs() }\n       sourceSets*.resources.srcDirs*.each { it.mkdirs() }\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>Edited</p>\n\n<p>First, I created a directory and created <code>build.gradle</code> and <code>settings.gradle</code> with <code>include exam1</code>, <code>include exam2</code>, and <code>include exam3</code>.\nNow I imported the project from Gradle Project. The sub directories has been created that I needed.</p>\n\n<p><strong>But</strong> problem is that I can't create another sub directory in Eclipse and it's same in shell <code>mkdir exam4</code> and <code>gradle build</code>. Always It has been created normal folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NR74b.png\" rel=\"noreferrer\">Project workspace in Eclipse</a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4088645,"reputation":131,"user_id":3357279,"display_name":"Dummy Code"},"score":0,"creation_date":1396412801,"post_id":22801530,"comment_id":34770330,"body_markdown":"You want us to proof your code?","body":"You want us to proof your code?"},{"owner":{"account_id":4084463,"reputation":109,"user_id":3354072,"accept_rate":60,"display_name":"user3354072"},"score":0,"creation_date":1396412891,"post_id":22801530,"comment_id":34770357,"body_markdown":"My initial questions and yes if you could.  That&#39;s up to you though! @DummyCode","body":"My initial questions and yes if you could.  That&#39;s up to you though! @DummyCode"}],"answers":[{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396412833,"creation_date":1396412833,"answer_id":22801560,"question_id":22801530,"body_markdown":"You have an array of size `9`. Instead it should be of size `10`. So, Change the initialization to\r\n\r\n    int[] a=new int[10];\r\n\r\nUse modulo operator `%` or remainder operator in Java to find out even or odd numbers. \r\n        \r\n        int evenSum = 0;\r\n        for(int j=0;j&lt;a.length;j++){\r\n        if(a[j]%2 == 0){\r\n           //even numbers\r\n           evenSum = evenSum + a[j];\r\n        }else{\r\n           //odd numbers\r\n          }\r\n        }\r\n        return evenSum;","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<p>You have an array of size <code>9</code>. Instead it should be of size <code>10</code>. So, Change the initialization to</p>\n\n<pre><code>int[] a=new int[10];\n</code></pre>\n\n<p>Use modulo operator <code>%</code> or remainder operator in Java to find out even or odd numbers. </p>\n\n<pre><code>    int evenSum = 0;\n    for(int j=0;j&lt;a.length;j++){\n    if(a[j]%2 == 0){\n       //even numbers\n       evenSum = evenSum + a[j];\n    }else{\n       //odd numbers\n      }\n    }\n    return evenSum;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3653631,"reputation":3350,"user_id":3045192,"display_name":"Sky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396412850,"creation_date":1396412850,"answer_id":22801562,"question_id":22801530,"body_markdown":"  \r\n\r\n      int[] a=new int[9];\r\n        Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Please enter numbers...&quot;);\r\n            for(int j=0;j==9;j++)\r\n            a[j]=sc.nextInt();\r\n    \r\n    }\r\n\r\nThere&#39;s something wrong with your loop, it should be \r\n\r\n    for (int j = 0; j &lt; 9; j++)\r\n\r\nWith this fix it should correctly prompt the users for 9 numbers. Change to 10 for the array and the loop it would takes in 10 number.\r\n","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<pre><code>  int[] a=new int[9];\n    Scanner sc=new Scanner(System.in);\n        System.out.println(\"Please enter numbers...\");\n        for(int j=0;j==9;j++)\n        a[j]=sc.nextInt();\n\n}\n</code></pre>\n\n<p>There's something wrong with your loop, it should be </p>\n\n<pre><code>for (int j = 0; j &lt; 9; j++)\n</code></pre>\n\n<p>With this fix it should correctly prompt the users for 9 numbers. Change to 10 for the array and the loop it would takes in 10 number.</p>\n"},{"tags":[],"owner":{"account_id":4088645,"reputation":131,"user_id":3357279,"display_name":"Dummy Code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396413283,"creation_date":1396412903,"answer_id":22801571,"question_id":22801530,"body_markdown":"**Sum of evens**\r\n\r\n    static int sumOfEvens(int array[]) {\r\n    \tint sum = 0;\r\n    \tfor(int i = 0; i &lt; array.length; i++&gt;) {\r\n    \t\tif(array[i] % 2 == 0)\r\n    \t\t\tsum += array[i];\r\n    \t}\r\n    \treturn sum;\r\n    }\r\n\r\n**Input**\r\n\r\n    for(int j = 0; j &lt; a.length; j++)\r\n    \ta[j] = sc.nextInt();","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<p><strong>Sum of evens</strong></p>\n\n<pre><code>static int sumOfEvens(int array[]) {\n    int sum = 0;\n    for(int i = 0; i &lt; array.length; i++&gt;) {\n        if(array[i] % 2 == 0)\n            sum += array[i];\n    }\n    return sum;\n}\n</code></pre>\n\n<p><strong>Input</strong></p>\n\n<pre><code>for(int j = 0; j &lt; a.length; j++)\n    a[j] = sc.nextInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189528,"reputation":3611,"user_id":428904,"accept_rate":82,"display_name":"Hirak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396413340,"creation_date":1396413340,"answer_id":22801654,"question_id":22801530,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class MyMain1 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// until you do user input, you should test your methods using &quot;test&quot; as\r\n    \t\t// the input.\r\n    \t\tint[] luckyNumbers = { 7, 13, 18 };\r\n    \r\n    \t\tint[] a = new int[10];\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Please enter numbers...&quot;);\r\n    \t\tfor (int j = 0; j &lt;= 9; j++) {\r\n    \t\t\ta[j] = sc.nextInt();\r\n    \t\t}\r\n    \t\tsc.close();\r\n    \r\n    \t\tboolean sumAll = false;\r\n    \r\n    \t\tfor (int i : a) {\r\n    \t\t\tfor (int j : luckyNumbers) {\r\n    \t\t\t\tif (i == j) {\r\n    \t\t\t\t\tsumAll = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif(sumAll) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (sumAll) {\r\n    \t\t\tSystem.out.println(&quot;Summing all : &quot; + sumAll(a));\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Summing Only Even : &quot; + sumEven(a));\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic static int sumAll(int[] value) {\r\n    \t\tint total = 0;\r\n    \t\tfor (int j : value) {\r\n    \t\t\ttotal = total + j;\r\n    \t\t}\r\n    \t\treturn total;\r\n    \t}\r\n    \r\n    \tpublic static int sumEven(int[] value) {\r\n    \r\n    \t\tint total = 0;\r\n    \t\tfor (int j : value) {\r\n    \t\t\tif (j % 2 == 0) {\r\n    \t\t\t\ttotal = total + j;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn total;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<pre><code>import java.util.Scanner;\n\npublic class MyMain1 {\n\n    public static void main(String[] args) {\n        // until you do user input, you should test your methods using \"test\" as\n        // the input.\n        int[] luckyNumbers = { 7, 13, 18 };\n\n        int[] a = new int[10];\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"Please enter numbers...\");\n        for (int j = 0; j &lt;= 9; j++) {\n            a[j] = sc.nextInt();\n        }\n        sc.close();\n\n        boolean sumAll = false;\n\n        for (int i : a) {\n            for (int j : luckyNumbers) {\n                if (i == j) {\n                    sumAll = true;\n                    break;\n                }\n            }\n            if(sumAll) {\n                break;\n            }\n        }\n\n        if (sumAll) {\n            System.out.println(\"Summing all : \" + sumAll(a));\n        } else {\n            System.out.println(\"Summing Only Even : \" + sumEven(a));\n        }\n\n    }\n\n    public static int sumAll(int[] value) {\n        int total = 0;\n        for (int j : value) {\n            total = total + j;\n        }\n        return total;\n    }\n\n    public static int sumEven(int[] value) {\n\n        int total = 0;\n        for (int j : value) {\n            if (j % 2 == 0) {\n                total = total + j;\n            }\n        }\n        return total;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4084463,"reputation":109,"user_id":3354072,"accept_rate":60,"display_name":"user3354072"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1694563515,"creation_date":1396412655,"question_id":22801530,"body_markdown":"This program asks for the user to input 10 numbers and is converted into an `int` array. If the array is lucky (contains the numbers 7, 13, or 18) then it prints out the sum of all the numbers in the array.  If it does not contain those then it is false and it only prints the sum of all the even numbers. \r\n\r\nHow do I correctly ask for this input?  How do I get the sum of the even numbers in the array?  Is any of the other code incorrect?  \r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class FunArrays {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// until you do user input, you should test your methods using &quot;test&quot; as the input.\r\n\t\tint[] test = {1,2,3,4,5,6,7}; \r\n\t\tluckyNumber1 = {7};\r\n\t\tluckyNumber2 = {13};\r\n\t\tluckyNumber3 = {18};\r\n\t\t\r\n\t\t\r\n\t\tint[] a=new int[9];\r\n        Scanner sc=new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;Please enter numbers...&quot;);\r\n\t\t\tfor(int j=0;j==9;j++)\r\n\t\t\ta[j]=sc.nextInt();\r\n\r\n\t}\r\n\t\r\n\tpublic static int sum(int [ ] value) {\r\n          int i, total = 0;\r\n          for(i=0; i&lt;10; i++)\r\n          {\r\n              total = total + value[ i ];\r\n          }\r\n\r\n          return (total);\r\n     }\r\n\tpublic static int sumOfEvens (\r\n\tpublic static boolean isLucky (int[] array) {\r\n\t\r\n\t\tif ( (int == luckyNumber1) || (int == luckyNumber2) || (int == luckyNumber3 )\r\n\t\t\treturn true; \r\n\t\t\t\r\n\t\telse\r\n\t\t\treturn false\r\n\t}\r\n\t\r\n\t// write the static methods isLucky, sum, and sumOfEvens\r\n\r\n    }\r\n","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<p>This program asks for the user to input 10 numbers and is converted into an <code>int</code> array. If the array is lucky (contains the numbers 7, 13, or 18) then it prints out the sum of all the numbers in the array.  If it does not contain those then it is false and it only prints the sum of all the even numbers. </p>\n\n<p>How do I correctly ask for this input?  How do I get the sum of the even numbers in the array?  Is any of the other code incorrect?  </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class FunArrays {\n\npublic static void main(String[] args) {\n    // until you do user input, you should test your methods using \"test\" as the input.\n    int[] test = {1,2,3,4,5,6,7}; \n    luckyNumber1 = {7};\n    luckyNumber2 = {13};\n    luckyNumber3 = {18};\n\n\n    int[] a=new int[9];\n    Scanner sc=new Scanner(System.in);\n        System.out.println(\"Please enter numbers...\");\n        for(int j=0;j==9;j++)\n        a[j]=sc.nextInt();\n\n}\n\npublic static int sum(int [ ] value) {\n      int i, total = 0;\n      for(i=0; i&lt;10; i++)\n      {\n          total = total + value[ i ];\n      }\n\n      return (total);\n }\npublic static int sumOfEvens (\npublic static boolean isLucky (int[] array) {\n\n    if ( (int == luckyNumber1) || (int == luckyNumber2) || (int == luckyNumber3 )\n        return true; \n\n    else\n        return false\n}\n\n// write the static methods isLucky, sum, and sumOfEvens\n\n}\n</code></pre>\n"},{"tags":["java","mysql","image","blob"],"comments":[{"owner":{"account_id":1688737,"reputation":125,"user_id":1551519,"display_name":"macken88"},"score":0,"creation_date":1348489598,"post_id":12564745,"comment_id":16925920,"body_markdown":"have you tried to clear the column before writing to it?","body":"have you tried to clear the column before writing to it?"}],"answers":[{"tags":[],"owner":{"account_id":12259,"reputation":5042,"user_id":611084,"accept_rate":43,"display_name":"bang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348490586,"creation_date":1348490195,"answer_id":12565166,"question_id":12564745,"body_markdown":"I don&#39;t know how to do it in your Java library, but you should use SQL queries with parameters (probably setBinaryStream or setBlob) instead of concating a SQL string. That might solve your problem...\r\n\r\nFound this that might help you :\r\n\r\nhttps://stackoverflow.com/questions/9558952/preparedstatement-on-java-and-probability-to-set-parameters\r\n\r\nhttp://www.herongyang.com/JDBC/MySQL-PreparedStatement-Parameters.html\r\n\r\nand this:\r\n\r\nhttp://www.jdbc-tutorial.com/jdbc-prepared-statements.htm","title":"Updating image saved in mysql blob format","body":"<p>I don't know how to do it in your Java library, but you should use SQL queries with parameters (probably setBinaryStream or setBlob) instead of concating a SQL string. That might solve your problem...</p>\n\n<p>Found this that might help you :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9558952/preparedstatement-on-java-and-probability-to-set-parameters\">PreparedStatement on Java and probability to set parameters</a></p>\n\n<p><a href=\"http://www.herongyang.com/JDBC/MySQL-PreparedStatement-Parameters.html\" rel=\"nofollow noreferrer\">http://www.herongyang.com/JDBC/MySQL-PreparedStatement-Parameters.html</a></p>\n\n<p>and this:</p>\n\n<p><a href=\"http://www.jdbc-tutorial.com/jdbc-prepared-statements.htm\" rel=\"nofollow noreferrer\">http://www.jdbc-tutorial.com/jdbc-prepared-statements.htm</a></p>\n"},{"tags":[],"owner":{"account_id":1688737,"reputation":125,"user_id":1551519,"display_name":"macken88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348491066,"creation_date":1348491066,"answer_id":12565390,"question_id":12564745,"body_markdown":"    PreparedStatement stmt = con.preparestatement(&quot;update menu set Menu_Image= ? where Menu_Code= ?&quot;);\r\n    stmt.setString(1, menu_image_new);\r\n    stmt.setBlob(2, FoodMenu_FOA.clicked);\r\n\r\nThis will create a prepared statement, note entirely sure if it will solve your problem though","title":"Updating image saved in mysql blob format","body":"<pre><code>PreparedStatement stmt = con.preparestatement(\"update menu set Menu_Image= ? where Menu_Code= ?\");\nstmt.setString(1, menu_image_new);\nstmt.setBlob(2, FoodMenu_FOA.clicked);\n</code></pre>\n\n<p>This will create a prepared statement, note entirely sure if it will solve your problem though</p>\n"},{"tags":[],"owner":{"account_id":9828112,"reputation":1,"user_id":7280715,"display_name":"rex realingo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1491287891,"creation_date":1491284526,"answer_id":43199105,"question_id":12564745,"body_markdown":"You can try: \r\n\r\n    try {\r\n        String update = &quot;update menu set IMAGE=? where Menu_Code=&#39;&quot; + \r\n            edit_idnumber.getText() + &quot;&#39;&quot;;\r\n        pst = conn.prepareStatement(update);\r\n        pst.setBytes(1, menu_image_new);\r\n        pst.execute();  \r\n    } catch (Exception e) {\r\n        JOptionPane.showMessageDialog(null, e);\r\n    }","title":"Updating image saved in mysql blob format","body":"<p>You can try: </p>\n\n<pre><code>try {\n    String update = \"update menu set IMAGE=? where Menu_Code='\" + \n        edit_idnumber.getText() + \"'\";\n    pst = conn.prepareStatement(update);\n    pst.setBytes(1, menu_image_new);\n    pst.execute();  \n} catch (Exception e) {\n    JOptionPane.showMessageDialog(null, e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4306620,"reputation":107,"user_id":3518835,"accept_rate":62,"display_name":"user3518835"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495551511,"creation_date":1495551511,"answer_id":44138395,"question_id":12564745,"body_markdown":"I had the same issue , You need first of all clear blob format in column.\r\nby setting Menu_Image to null\r\n \r\n\r\n      \r\n    // Save button click event where the update query run\r\n\r\n         private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\r\n       PreparedStatement st;\r\n     try {\r\n        Connection con = DB_Con.getConnection();\r\n     String sql = &quot;update menu set Menu_Image= null where Menu_Code=&#39;&quot; + \r\n       FoodMenu_FOA.clicked + &quot;&#39;&quot;;\r\n        st = (PreparedStatement) con.prepareStatement(sql);\r\n        st.executeUpdate();\r\n        } catch (Exception e) {\r\n          JOptionPane.showMessageDialog(null, e);\r\n       } \r\n\r\n     // As your are using prepare statement set \r\n\r\n        try {\r\n          Connection con = DB_Con.getConnection();\r\n            String sql = &quot;update menu set Menu_Image= ? where Menu_Code=&#39;&quot; + \r\n          FoodMenu_FOA.clicked + &quot;&#39;&quot;;\r\n            st = (PreparedStatement) con.prepareStatement(sql);\r\n          st.executeUpdate();\r\n          JOptionPane.showMessageDialog(null, &quot;Image Updated Successfully&quot;);\r\n        } catch (Exception e) {\r\n          JOptionPane.showMessageDialog(null, e);\r\n           }\r\n     }","title":"Updating image saved in mysql blob format","body":"<p>I had the same issue , You need first of all clear blob format in column.\nby setting Menu_Image to null</p>\n\n<pre><code>// Save button click event where the update query run\n\n     private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\n   PreparedStatement st;\n try {\n    Connection con = DB_Con.getConnection();\n String sql = \"update menu set Menu_Image= null where Menu_Code='\" + \n   FoodMenu_FOA.clicked + \"'\";\n    st = (PreparedStatement) con.prepareStatement(sql);\n    st.executeUpdate();\n    } catch (Exception e) {\n      JOptionPane.showMessageDialog(null, e);\n   } \n\n // As your are using prepare statement set \n\n    try {\n      Connection con = DB_Con.getConnection();\n        String sql = \"update menu set Menu_Image= ? where Menu_Code='\" + \n      FoodMenu_FOA.clicked + \"'\";\n        st = (PreparedStatement) con.prepareStatement(sql);\n      st.executeUpdate();\n      JOptionPane.showMessageDialog(null, \"Image Updated Successfully\");\n    } catch (Exception e) {\n      JOptionPane.showMessageDialog(null, e);\n       }\n }\n</code></pre>\n"}],"owner":{"account_id":1650552,"reputation":33,"user_id":1521251,"accept_rate":20,"display_name":"Ashan Perera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9012,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1694563515,"creation_date":1348488324,"question_id":12564745,"body_markdown":"In my programs the user can save an image in mysql via java program.And it will be displayed in a Jlabel. The image inserting part works fine.The image gets inserted and is displayed properly.But when the user try to update it the image is not updated properly.After the update, when I go and check in Mysql, the image is not there. Some garbage value is there. Can anyone help me ?\r\n\r\n    //Method to get the image from the file chooser\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\r\n        JFileChooser chooser = new JFileChooser();\r\n        chooser.showOpenDialog(null);\r\n        File f = chooser.getSelectedFile();\r\n        filename = f.getAbsolutePath();\r\n        jTextField1.setText(filename);\r\n\r\n        try {\r\n            File image = new File(filename);\r\n            FileInputStream fis = new FileInputStream(image);\r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            byte buf[] = new byte[1024];\r\n\r\n            for (int readNum; (readNum = fis.read(buf)) != -1;) {\r\n                bos.write(buf, 0, readNum);\r\n            }\r\n            menu_image_new = bos.toByteArray();\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, e);\r\n        }\r\n    } \r\n\r\n    // Save button click event where the update query run\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\r\n        try {\r\n            Connection con = DB_Con.getConnection();\r\n            String sql = &quot;update menu set Menu_Image=&#39;&quot; + menu_image_new + &quot;&#39; where Menu_Code=&#39;&quot; + FoodMenu_FOA.clicked + &quot;&#39;&quot;;\r\n            PreparedStatement st = (PreparedStatement) con.prepareStatement(sql);\r\n            st.executeUpdate();\r\n            JOptionPane.showMessageDialog(null, &quot;Image Updated Successfully&quot;);\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, e);\r\n        }\r\n    } \r\n\r\n    //Method to display image in Jlabel\r\n    public void set_Icon_menu() {\r\n        try {\r\n            int row = menu_table.getSelectedRow();\r\n            Connection con = DB_Con.getConnection();\r\n            ResultSet rs;\r\n            String menu_id = menu_table.getModel().getValueAt(row, 0).toString();\r\n            String sql = &quot;select Menu_Image from menu where Menu_Code=&#39;&quot; + menu_id + &quot;&#39;&quot;;\r\n            PreparedStatement st = (PreparedStatement) con.prepareStatement(sql);\r\n            rs = st.executeQuery();\r\n            if (rs.next()) {\r\n                byte[] imagedata = rs.getBytes(&quot;Menu_Image&quot;);\r\n                format = new ImageIcon(imagedata);\r\n                menu_label.setIcon(format);\r\n\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n\r\n  ","title":"Updating image saved in mysql blob format","body":"<p>In my programs the user can save an image in mysql via java program.And it will be displayed in a Jlabel. The image inserting part works fine.The image gets inserted and is displayed properly.But when the user try to update it the image is not updated properly.After the update, when I go and check in Mysql, the image is not there. Some garbage value is there. Can anyone help me ?</p>\n\n<pre><code>//Method to get the image from the file chooser\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\n    JFileChooser chooser = new JFileChooser();\n    chooser.showOpenDialog(null);\n    File f = chooser.getSelectedFile();\n    filename = f.getAbsolutePath();\n    jTextField1.setText(filename);\n\n    try {\n        File image = new File(filename);\n        FileInputStream fis = new FileInputStream(image);\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        byte buf[] = new byte[1024];\n\n        for (int readNum; (readNum = fis.read(buf)) != -1;) {\n            bos.write(buf, 0, readNum);\n        }\n        menu_image_new = bos.toByteArray();\n    } catch (Exception e) {\n        JOptionPane.showMessageDialog(null, e);\n    }\n} \n\n// Save button click event where the update query run\nprivate void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\n    try {\n        Connection con = DB_Con.getConnection();\n        String sql = \"update menu set Menu_Image='\" + menu_image_new + \"' where Menu_Code='\" + FoodMenu_FOA.clicked + \"'\";\n        PreparedStatement st = (PreparedStatement) con.prepareStatement(sql);\n        st.executeUpdate();\n        JOptionPane.showMessageDialog(null, \"Image Updated Successfully\");\n    } catch (Exception e) {\n        JOptionPane.showMessageDialog(null, e);\n    }\n} \n\n//Method to display image in Jlabel\npublic void set_Icon_menu() {\n    try {\n        int row = menu_table.getSelectedRow();\n        Connection con = DB_Con.getConnection();\n        ResultSet rs;\n        String menu_id = menu_table.getModel().getValueAt(row, 0).toString();\n        String sql = \"select Menu_Image from menu where Menu_Code='\" + menu_id + \"'\";\n        PreparedStatement st = (PreparedStatement) con.prepareStatement(sql);\n        rs = st.executeQuery();\n        if (rs.next()) {\n            byte[] imagedata = rs.getBytes(\"Menu_Image\");\n            format = new ImageIcon(imagedata);\n            menu_label.setIcon(format);\n\n        }\n    } catch (Exception e) {\n    }\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":16607523,"reputation":1,"user_id":12001525,"display_name":"jdrpepper79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694562821,"creation_date":1694562821,"question_id":77093279,"body_markdown":"I apologize if this is a noob question but I am trying to disable all DHE ciphers, for example, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 and TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 by editing them out of the java.security file. \r\n\r\n    # Example:\r\n    #   jdk.tls.disabledAlgorithms=MD5, SSLv3, DSA, RSA keySize &lt; 2048\r\n        jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 2048, \\\r\n        EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n        TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, \\\r\n        TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n\r\nAfter adding it to this section, I restart the service but Nmap still picks them on the scan. \r\n\r\nAm I missing something obvious? Am I not able to simply edit the java.security file to disable these ciphers?\r\n\r\n\r\nTried editing the java.security file","title":"Cannot seem to be able to disable TLS ciphers in JRE java.security file","body":"<p>I apologize if this is a noob question but I am trying to disable all DHE ciphers, for example, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 and TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 by editing them out of the java.security file.</p>\n<pre><code># Example:\n#   jdk.tls.disabledAlgorithms=MD5, SSLv3, DSA, RSA keySize &lt; 2048\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 2048, \\\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, \\\n    TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n</code></pre>\n<p>After adding it to this section, I restart the service but Nmap still picks them on the scan.</p>\n<p>Am I missing something obvious? Am I not able to simply edit the java.security file to disable these ciphers?</p>\n<p>Tried editing the java.security file</p>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694561920,"creation_date":1694561920,"answer_id":77093234,"question_id":77092799,"body_markdown":"Have to set Fabric which is the only boolean parameter in here:\r\n\r\n       public static class Builder { \r\n      \r\n         @Nullable String mComponentName; \r\n         @Nullable Bundle mLaunchOptions; \r\n         @Nullable Boolean mFabricEnabled; \r\n      \r\n         public Builder() { \r\n           mComponentName = null; \r\n           mLaunchOptions = null; \r\n           mFabricEnabled = null; \r\n         } \r\n\r\nYour call should include setFabricEnabled:\r\n\r\n    Fragment reactNativeFragment = new ReactFragment.Builder()\r\n                        .setComponentName(&quot;ReactNativeProject&quot;)\r\n                        .setLaunchOptions(getLaunchOptions(&quot;test message&quot;))\r\n                        .setFabricEnabled(true)\r\n                        .build();","title":"Attempt to invoke virtual method on a null object reference using ReactFragment","body":"<p>Have to set Fabric which is the only boolean parameter in here:</p>\n<pre><code>   public static class Builder { \n  \n     @Nullable String mComponentName; \n     @Nullable Bundle mLaunchOptions; \n     @Nullable Boolean mFabricEnabled; \n  \n     public Builder() { \n       mComponentName = null; \n       mLaunchOptions = null; \n       mFabricEnabled = null; \n     } \n</code></pre>\n<p>Your call should include setFabricEnabled:</p>\n<pre><code>Fragment reactNativeFragment = new ReactFragment.Builder()\n                    .setComponentName(&quot;ReactNativeProject&quot;)\n                    .setLaunchOptions(getLaunchOptions(&quot;test message&quot;))\n                    .setFabricEnabled(true)\n                    .build();\n</code></pre>\n"}],"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77093234,"answer_count":1,"score":0,"last_activity_date":1694561920,"creation_date":1694554315,"question_id":77092799,"body_markdown":"I am attempting to connect my current android application to a React Native component when clicking . I have the following code failing:\r\n\r\nFragment.java\r\n\r\n    reactNativeBtn.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                \r\n                Fragment reactNativeFragment = new ReactFragment.Builder()\r\n                        .setComponentName(&quot;ReactNativeProject&quot;)\r\n                        .build(); //Failing in here line 138\r\n                \r\n                getActivity().getSupportFragmentManager()\r\n                        .beginTransaction()\r\n                        .add(R.id.loading_view, reactNativeFragment,&quot;tag&quot;)\r\n                        .commit();\r\n    \r\n            }\r\n\r\nI understand that the component set under `setComponentName` is the name of the project included in index.js:\r\n\r\n    import {AppRegistry} from &#39;react-native&#39;;\r\n    import App from &#39;./App&#39;;\r\n    import {name as appName} from &#39;./app.json&#39;;\r\n    \r\n    AppRegistry.registerComponent(appName, () =&gt; App);\r\n\r\nwhich in my case is located under app.json:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;ReactNativeProject&quot;,\r\n      &quot;displayName&quot;: &quot;ReactNativeProject&quot;\r\n    }\r\n\r\nThe error is the following:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.Boolean.booleanValue()&#39; on a null object reference\r\n    at com.facebook.react.ReactFragment.newInstance(ReactFragment.java:54)\r\n    at com.facebook.react.ReactFragment.-$$Nest$smnewInstance(Unknown Source:0)\r\n    at com.facebook.react.ReactFragment$Builder.build(ReactFragment.java:214)\r\n    at com.example.reactnative.Fragment$1.onClick(Fragment.java:138)\r\n    at android.view.View.performClick(View.java:7506)\r\n    at android.view.View.performClickInternal(View.java:7483)\r\n    at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n    at android.view.View$PerformClick.run(View.java:29334)\r\n    at android.os.Handler.handleCallback(Handler.java:942)\r\n    at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    at android.os.Looper.loopOnce(Looper.java:201)\r\n    at android.os.Looper.loop(Looper.java:288)\r\n    at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n\r\nWould you know what could be the issue when invoking build() in ReactFragment?\r\n\r\nThanks","title":"Attempt to invoke virtual method on a null object reference using ReactFragment","body":"<p>I am attempting to connect my current android application to a React Native component when clicking . I have the following code failing:</p>\n<p>Fragment.java</p>\n<pre><code>reactNativeBtn.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            \n            Fragment reactNativeFragment = new ReactFragment.Builder()\n                    .setComponentName(&quot;ReactNativeProject&quot;)\n                    .build(); //Failing in here line 138\n            \n            getActivity().getSupportFragmentManager()\n                    .beginTransaction()\n                    .add(R.id.loading_view, reactNativeFragment,&quot;tag&quot;)\n                    .commit();\n\n        }\n</code></pre>\n<p>I understand that the component set under <code>setComponentName</code> is the name of the project included in index.js:</p>\n<pre><code>import {AppRegistry} from 'react-native';\nimport App from './App';\nimport {name as appName} from './app.json';\n\nAppRegistry.registerComponent(appName, () =&gt; App);\n</code></pre>\n<p>which in my case is located under app.json:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;ReactNativeProject&quot;,\n  &quot;displayName&quot;: &quot;ReactNativeProject&quot;\n}\n</code></pre>\n<p>The error is the following:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.Boolean.booleanValue()' on a null object reference\nat com.facebook.react.ReactFragment.newInstance(ReactFragment.java:54)\nat com.facebook.react.ReactFragment.-$$Nest$smnewInstance(Unknown Source:0)\nat com.facebook.react.ReactFragment$Builder.build(ReactFragment.java:214)\nat com.example.reactnative.Fragment$1.onClick(Fragment.java:138)\nat android.view.View.performClick(View.java:7506)\nat android.view.View.performClickInternal(View.java:7483)\nat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\nat android.view.View$PerformClick.run(View.java:29334)\nat android.os.Handler.handleCallback(Handler.java:942)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7872)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p>Would you know what could be the issue when invoking build() in ReactFragment?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","jacoco"],"answers":[{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1580737558,"creation_date":1580737558,"answer_id":60040545,"question_id":60037013,"body_markdown":"By default Spring Boot Maven plugin creates a fork and the agent configuration has to be explicitly specified. It can be done through setting `&lt;agents&gt;&lt;agent&gt;...&lt;/agent&gt;&lt;/agents&gt;` configuration property in Spring Boot Maven plugin BUT it does not work with Jacoco since there is no idiomatic way to find out what&#39;s the exact path to the agent jar file.\r\n\r\nInstead you can pass `argLine` variable set by Jacoco to Spring Boot Maven plugin JVM arguments:\r\n\r\n&lt;!-- xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;jvmArguments&gt;${argLine}&lt;/jvmArguments&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;start-spring-boot&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;start&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;stop&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nSince quite a few Maven plugins have to be configured to make it work, just to avoid any confusion here&#39;s the complete `pom.xml` file:\r\n\r\n&lt;!-- xml --&gt;\r\n\r\n    \t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jacoco-spring-boot-maven&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;jacoco-spring-boot-maven&lt;/name&gt;\r\n\t\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;jvmArguments&gt;${argLine}&lt;/jvmArguments&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;start-spring-boot&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;start&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;stop&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;0.8.5&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;default-report&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\nWith this, once you execute `mvn clean verify` you can find Jacoco reports in `target/site/jacoco/index.html`.\r\n\r\nYou can find complete sample project at [jacoco-spring-boot-maven-plugin-sample](https://github.com/maciejwalkowiak/jacoco-spring-boot-maven-plugin-sample.git)","title":"Generate Code Coverage with JaCoCo and spring-boot-maven-plugin","body":"<p>By default Spring Boot Maven plugin creates a fork and the agent configuration has to be explicitly specified. It can be done through setting <code>&lt;agents&gt;&lt;agent&gt;...&lt;/agent&gt;&lt;/agents&gt;</code> configuration property in Spring Boot Maven plugin BUT it does not work with Jacoco since there is no idiomatic way to find out what's the exact path to the agent jar file.</p>\n\n<p>Instead you can pass <code>argLine</code> variable set by Jacoco to Spring Boot Maven plugin JVM arguments:</p>\n\n\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;jvmArguments&gt;${argLine}&lt;/jvmArguments&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;start-spring-boot&lt;/id&gt;\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;start&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;stop-spring-boot&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;stop&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Since quite a few Maven plugins have to be configured to make it work, just to avoid any confusion here's the complete <code>pom.xml</code> file:</p>\n\n\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-spring-boot-maven&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;jacoco-spring-boot-maven&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;${argLine}&lt;/jvmArguments&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;start-spring-boot&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;start&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;stop-spring-boot&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;stop&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>With this, once you execute <code>mvn clean verify</code> you can find Jacoco reports in <code>target/site/jacoco/index.html</code>.</p>\n\n<p>You can find complete sample project at <a href=\"https://github.com/maciejwalkowiak/jacoco-spring-boot-maven-plugin-sample.git\" rel=\"noreferrer\">jacoco-spring-boot-maven-plugin-sample</a></p>\n"}],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30863,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":60040545,"answer_count":1,"score":7,"last_activity_date":1694561866,"creation_date":1580724522,"question_id":60037013,"body_markdown":"During integration tests I use spring-boot-maven-plugin to start my spring application:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n             &lt;execution&gt;\r\n                 &lt;id&gt;start-spring-boot&lt;/id&gt;\r\n                 &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;start&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n             &lt;/execution&gt;\r\n             &lt;execution&gt;\r\n                 &lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n                 &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;stop&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n             &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nNow I would like to add JaCoCo agent to the exection but adding it to the configuration as agent or jvmarguments didn&#39;t work. When starting I always see:\r\n\r\n    [INFO] --- spring-boot-maven-plugin:2.2.4.RELEASE:start (start-spring-boot) @ tosca-ui ---\r\n    [INFO] Attaching agents: []\r\n\r\nHow can I use JaCoCo with spring-boot-maven-plugin?","title":"Generate Code Coverage with JaCoCo and spring-boot-maven-plugin","body":"<p>During integration tests I use spring-boot-maven-plugin to start my spring application:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n         &lt;execution&gt;\n             &lt;id&gt;start-spring-boot&lt;/id&gt;\n             &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n             &lt;goals&gt;\n                 &lt;goal&gt;start&lt;/goal&gt;\n             &lt;/goals&gt;\n         &lt;/execution&gt;\n         &lt;execution&gt;\n             &lt;id&gt;stop-spring-boot&lt;/id&gt;\n             &lt;phase&gt;post-integration-test&lt;/phase&gt;\n             &lt;goals&gt;\n                 &lt;goal&gt;stop&lt;/goal&gt;\n             &lt;/goals&gt;\n         &lt;/execution&gt;\n     &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Now I would like to add JaCoCo agent to the exection but adding it to the configuration as agent or jvmarguments didn't work. When starting I always see:</p>\n\n<pre><code>[INFO] --- spring-boot-maven-plugin:2.2.4.RELEASE:start (start-spring-boot) @ tosca-ui ---\n[INFO] Attaching agents: []\n</code></pre>\n\n<p>How can I use JaCoCo with spring-boot-maven-plugin?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":2,"creation_date":1557147316,"post_id":55999480,"comment_id":98656814,"body_markdown":"They are both order 0 which means it&#39;s random. Did you set an order and it isn&#39;t reflected? What version are you using?","body":"They are both order 0 which means it&#39;s random. Did you set an order and it isn&#39;t reflected? What version are you using?"},{"owner":{"account_id":347923,"reputation":2221,"user_id":682324,"accept_rate":54,"display_name":"Andreas"},"score":0,"creation_date":1557148063,"post_id":55999480,"comment_id":98657230,"body_markdown":"Hi Spencer, i tried setting the first one to order 50 and the second to 0 - then it does not find any route for `/yambas/rest/apps/bla/models/ms`","body":"Hi Spencer, i tried setting the first one to order 50 and the second to 0 - then it does not find any route for <code>&#47;yambas&#47;rest&#47;apps&#47;bla&#47;models&#47;ms</code>"}],"answers":[{"tags":[],"owner":{"account_id":347923,"reputation":2221,"user_id":682324,"accept_rate":54,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1557238959,"creation_date":1557238959,"answer_id":56024760,"question_id":55999480,"body_markdown":"It seems that we set the order the wrong way - setting the lower priority route to order 1 and the higher to 0 makes it work.\r\n\r\n@spencergibb that would be definitely worth to be mentioned in the documentation.","title":"Route order in Spring Cloud Gateway","body":"<p>It seems that we set the order the wrong way - setting the lower priority route to order 1 and the higher to 0 makes it work.</p>\n\n<p>@spencergibb that would be definitely worth to be mentioned in the documentation.</p>\n"},{"tags":[],"owner":{"account_id":13678404,"reputation":444,"user_id":9869329,"display_name":"Purushotham CK"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1669137682,"creation_date":1624052474,"answer_id":68041723,"question_id":55999480,"body_markdown":"The more specific routes should appear first in the routing configuration, generic ones at the end.\r\n\r\nFor example:  `http://gateway-url/v1/accounts/**` always matches with the `route-id-1` while `http://gateway-url/v1/**` matches with `route-id-2`\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: route-id-1\r\n        uri: http://www.someurl.com\r\n        order: 0\r\n        predicates:\r\n        - Path=/v1/accounts/** #&lt;--\r\n        filters:\r\n        - RewritePath=/v1/accounts/(?&lt;segment&gt;.*), /$\\{segment}\r\n      - id: route-id-2\r\n        uri: http://www.someurl1.com\r\n        order: 1\r\n        predicates:\r\n        - Path=/v1/** #&lt;--\r\n        filters:\r\n        - RewritePath=/v1/(?&lt;segment&gt;.*), /$\\{segment}\r\n```       \r\n\r\n","title":"Route order in Spring Cloud Gateway","body":"<p>The more specific routes should appear first in the routing configuration, generic ones at the end.</p>\n<p>For example:  <code>http://gateway-url/v1/accounts/**</code> always matches with the <code>route-id-1</code> while <code>http://gateway-url/v1/**</code> matches with <code>route-id-2</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: route-id-1\n        uri: http://www.someurl.com\n        order: 0\n        predicates:\n        - Path=/v1/accounts/** #&lt;--\n        filters:\n        - RewritePath=/v1/accounts/(?&lt;segment&gt;.*), /$\\{segment}\n      - id: route-id-2\n        uri: http://www.someurl1.com\n        order: 1\n        predicates:\n        - Path=/v1/** #&lt;--\n        filters:\n        - RewritePath=/v1/(?&lt;segment&gt;.*), /$\\{segment}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16387299,"reputation":1,"user_id":11836961,"display_name":"Eduardo Cabral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694559512,"creation_date":1694559491,"answer_id":77093108,"question_id":55999480,"body_markdown":"About the route order, it was answered at [Is there a recommended order range for Filters in Spring Cloud Gateway?](https://stackoverflow.com/a/70654321/11836961).\r\n\r\nTL;DR  \r\nThe order is based on `org.springframework.core.Ordered` interface, which lower values have higher precedence, as also mentioned by @andreas.","title":"Route order in Spring Cloud Gateway","body":"<p>About the route order, it was answered at <a href=\"https://stackoverflow.com/a/70654321/11836961\">Is there a recommended order range for Filters in Spring Cloud Gateway?</a>.</p>\n<p>TL;DR<br />\nThe order is based on <code>org.springframework.core.Ordered</code> interface, which lower values have higher precedence, as also mentioned by @andreas.</p>\n"}],"owner":{"account_id":347923,"reputation":2221,"user_id":682324,"accept_rate":54,"display_name":"Andreas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6996,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56024760,"answer_count":3,"score":5,"last_activity_date":1694559512,"creation_date":1557122019,"question_id":55999480,"body_markdown":"We are implementing routes programmatically using a implementation of `RouteDefinitionLocator`. We have two services which should register at the same route path, where one of them is meant as a fallback if the other one does not exist. The preferred route with the specific path is:\r\n\r\n    RouteDefinition{id=&#39;CompositeDiscoveryClient_ms-1400133464&#39;, predicates=[PredicateDefinition{name=&#39;Path&#39;, args={pattern=/yambas/rest/apps/*/models/ms/**}}], filters=[FilterDefinition{name=&#39;RewritePath&#39;, args={regexp=/yambas/rest/apps/(?&lt;remaining&gt;.*), replacement=/ms/apps/${remaining}}}], uri=lb://ms, order=0}\r\n\r\nAnd the more general one, which should only fire if other route was found:\r\n\r\n    RouteDefinition{id=&#39;CompositeDiscoveryClient_yambas-1171178634&#39;, predicates=[PredicateDefinition{name=&#39;Path&#39;, args={pattern=/yambas/rest/**}}], filters=[], uri=lb://yambas, order=0}\r\n    \r\n\r\nThus, when calling `/yambas/rest/apps/bla/models/ms`, the first route should be used, and when calling `/yambas/rest/apps/bla/models/otherms/*`, the second (fallback ) should be used. \r\n\r\nProblem is, that even the *order* attribute at the route seems not to solve this; currently we find no possibility to set up this order / priority of routes. Is this intendet?","title":"Route order in Spring Cloud Gateway","body":"<p>We are implementing routes programmatically using a implementation of <code>RouteDefinitionLocator</code>. We have two services which should register at the same route path, where one of them is meant as a fallback if the other one does not exist. The preferred route with the specific path is:</p>\n\n<pre><code>RouteDefinition{id='CompositeDiscoveryClient_ms-1400133464', predicates=[PredicateDefinition{name='Path', args={pattern=/yambas/rest/apps/*/models/ms/**}}], filters=[FilterDefinition{name='RewritePath', args={regexp=/yambas/rest/apps/(?&lt;remaining&gt;.*), replacement=/ms/apps/${remaining}}}], uri=lb://ms, order=0}\n</code></pre>\n\n<p>And the more general one, which should only fire if other route was found:</p>\n\n<pre><code>RouteDefinition{id='CompositeDiscoveryClient_yambas-1171178634', predicates=[PredicateDefinition{name='Path', args={pattern=/yambas/rest/**}}], filters=[], uri=lb://yambas, order=0}\n</code></pre>\n\n<p>Thus, when calling <code>/yambas/rest/apps/bla/models/ms</code>, the first route should be used, and when calling <code>/yambas/rest/apps/bla/models/otherms/*</code>, the second (fallback ) should be used. </p>\n\n<p>Problem is, that even the <em>order</em> attribute at the route seems not to solve this; currently we find no possibility to set up this order / priority of routes. Is this intendet?</p>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694477974,"post_id":77085315,"comment_id":135893214,"body_markdown":"if a web page is the source of this problem, please provide a link to that page.","body":"if a web page is the source of this problem, please provide a link to that page."}],"answers":[{"tags":[],"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694480082,"creation_date":1694480082,"answer_id":77085514,"question_id":77085315,"body_markdown":"Parse your array once, finding the max and min of all elements that are not zero, but that are adjacent to a zero.\r\n\r\nThe ideal answer is (max + min) / 2, rounding either way.\r\n\r\nIf this is bigger than m, choose m, otherwise choose this.","title":"Find min of max in less time complexity","body":"<p>Parse your array once, finding the max and min of all elements that are not zero, but that are adjacent to a zero.</p>\n<p>The ideal answer is (max + min) / 2, rounding either way.</p>\n<p>If this is bigger than m, choose m, otherwise choose this.</p>\n"},{"tags":[],"owner":{"account_id":6078170,"reputation":11,"user_id":4744794,"display_name":"Steven Owens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694558614,"creation_date":1694482973,"answer_id":77085635,"question_id":77085315,"body_markdown":"I have two ideas one I am sure will work but doesn&#39;t improve your time complexity much and one that may need testing to make sure it does what you want.\r\n\r\nmethod 1 (the faster but may not do what you want): On the first run (when i is zero and zeroes are not replaced) take the differences as normal (I will refer to the max difference of this run as MaxNoReplace) but record the least number neighboring a zero (LeastZeroNeighbor) and the max difference between non-zero items (MaxDiffNonZeroNeighbors). if the max difference between non-zero neighboring items equals the max difference overall then return max difference between non-zero items (the max difference isn&#39;t going to get any lowest since it doesn&#39;t depend on what you replace zero with) else return the min of the max of difference the least number neighboring a zero and m and the max difference between non-zero neighboring item and MaxNoReplace or min(max(m-LeastZeroNeighbor, MaxDiffNonZeroNeighbors),MaxNoReplace)     \r\n\r\nmethod 2 (slower but I am sure (surer) it will work): On the first run (when i is zero and zeroes are not replaced) take the differences as normal but note where the zeros are and keep the max difference between non-zero items. On all other runs only compute the difference the now replaced zeros and it neighbors, if none of those are greater than the max difference between non-zero items that return that as the max instead. Take the min of max as normal.   ","title":"Find min of max in less time complexity","body":"<p>I have two ideas one I am sure will work but doesn't improve your time complexity much and one that may need testing to make sure it does what you want.</p>\n<p>method 1 (the faster but may not do what you want): On the first run (when i is zero and zeroes are not replaced) take the differences as normal (I will refer to the max difference of this run as MaxNoReplace) but record the least number neighboring a zero (LeastZeroNeighbor) and the max difference between non-zero items (MaxDiffNonZeroNeighbors). if the max difference between non-zero neighboring items equals the max difference overall then return max difference between non-zero items (the max difference isn't going to get any lowest since it doesn't depend on what you replace zero with) else return the min of the max of difference the least number neighboring a zero and m and the max difference between non-zero neighboring item and MaxNoReplace or min(max(m-LeastZeroNeighbor, MaxDiffNonZeroNeighbors),MaxNoReplace)</p>\n<p>method 2 (slower but I am sure (surer) it will work): On the first run (when i is zero and zeroes are not replaced) take the differences as normal but note where the zeros are and keep the max difference between non-zero items. On all other runs only compute the difference the now replaced zeros and it neighbors, if none of those are greater than the max difference between non-zero items that return that as the max instead. Take the min of max as normal.</p>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77085514,"answer_count":2,"score":1,"last_activity_date":1694558614,"creation_date":1694475543,"question_id":77085315,"body_markdown":"I am looking at this code challenge:\r\n\r\n&gt; Given an `array` of integers and another integer `m`. \r\n&gt; \r\n&gt; Choose an integer between `0` and `m`, and replace occurrences of `0` in input array of integers with this integer, then check the absolute difference between adjacent array items.\r\n&gt; \r\n&gt; Find the maximum absolute difference in each case. Then **finally** find the `minimum` of all those maximums.\r\n&gt; \r\n&gt; **Example 1:**\r\n&gt; \r\n&gt;     array = [4,0,3,2]\r\n&gt;     m = 2;\r\n&gt; \r\n&gt; **Expected output:**\r\n&gt; \r\n&gt;     2\r\n&gt; \r\n&gt; **Explanation:**\r\n&gt; \r\n&gt; * select i=0, replace all occurrences of 0 in the array with the value of i that is 0 in this case: [4,0,3,2]. Find the absolute difference between adjacent elements [4-0, 3-0, 3-2] = [4,3,2]. Maximum among these absolutes is 4.\r\n&gt; * select i=1, replace all occurrences of 0 in the array with the value of i that is 1 in this case: [4,1,3,2]. Find the absolute difference between adjacent elements [4-1, 3-1, 3-2] = [3,2,1]. Maximum among these absolutes is 3.\r\n&gt; * select i=2, replace all occurrences of 0 in the array with the value of i that is 2 in this case: [4,2,3,2]. Find the absolute difference between adjacent elements [4-2, 3-2, 3-2] = [2,1,1]. Maximum among these absolutes is 2.\r\n&gt; * Finally, the minimum of all maxima is min(4,3,2) = 2, which is the answer.\r\n&gt; \r\n&gt; **constraints:**\r\n&gt; \r\n&gt; * `array` has 1 to 10&lt;sup&gt;5&lt;/sup&gt; items\r\n&gt; * `array[i]` ranges from 0 to 10&lt;sup&gt;9&lt;/sup&gt;\r\n&gt; * `m` ranges from 0 to 10&lt;sup&gt;9&lt;/sup&gt;\r\n\r\nThis is my code:\r\n\r\n    static int solve(List&lt;Integer&gt; list, int m) {\r\n    \tint response = Integer.MAX_VALUE;\r\n    \tint n = list.size();\r\n    \tfor(int i=0; i&lt;=m ;i++) {\r\n    \t\tint j = list.get(0);\r\n    \t\tint max = 0;\r\n    \t\tif(j==0) j = i;\r\n    \t\tfor(int k=1; k&lt;n; k++) {\r\n    \t\t\tint e = list.get(k);\r\n    \t\t\tif(e==0) e = i;\r\n    \t\t\tint abs = Math.abs(e-j);\r\n    \t\t\tmax = Math.max(max, abs);\r\n    \t\t\tj = e;\r\n    \t\t}\r\n    \t\tresponse = Math.min(response, max);\r\n    \t}\r\n    \treturn response;\r\n    }\r\n\r\nTime complexity of this code is `O(m*n)`. \r\n\r\nWhat is the correct approach to solve this problem to reduce the time complexity?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Find min of max in less time complexity","body":"<p>I am looking at this code challenge:</p>\n<blockquote>\n<p>Given an <code>array</code> of integers and another integer <code>m</code>.</p>\n<p>Choose an integer between <code>0</code> and <code>m</code>, and replace occurrences of <code>0</code> in input array of integers with this integer, then check the absolute difference between adjacent array items.</p>\n<p>Find the maximum absolute difference in each case. Then <strong>finally</strong> find the <code>minimum</code> of all those maximums.</p>\n<p><strong>Example 1:</strong></p>\n<pre><code>array = [4,0,3,2]\nm = 2;\n</code></pre>\n<p><strong>Expected output:</strong></p>\n<pre><code>2\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<ul>\n<li>select i=0, replace all occurrences of 0 in the array with the value of i that is 0 in this case: [4,0,3,2]. Find the absolute difference between adjacent elements [4-0, 3-0, 3-2] = [4,3,2]. Maximum among these absolutes is 4.</li>\n<li>select i=1, replace all occurrences of 0 in the array with the value of i that is 1 in this case: [4,1,3,2]. Find the absolute difference between adjacent elements [4-1, 3-1, 3-2] = [3,2,1]. Maximum among these absolutes is 3.</li>\n<li>select i=2, replace all occurrences of 0 in the array with the value of i that is 2 in this case: [4,2,3,2]. Find the absolute difference between adjacent elements [4-2, 3-2, 3-2] = [2,1,1]. Maximum among these absolutes is 2.</li>\n<li>Finally, the minimum of all maxima is min(4,3,2) = 2, which is the answer.</li>\n</ul>\n<p><strong>constraints:</strong></p>\n<ul>\n<li><code>array</code> has 1 to 10<sup>5</sup> items</li>\n<li><code>array[i]</code> ranges from 0 to 10<sup>9</sup></li>\n<li><code>m</code> ranges from 0 to 10<sup>9</sup></li>\n</ul>\n</blockquote>\n<p>This is my code:</p>\n<pre><code>static int solve(List&lt;Integer&gt; list, int m) {\n    int response = Integer.MAX_VALUE;\n    int n = list.size();\n    for(int i=0; i&lt;=m ;i++) {\n        int j = list.get(0);\n        int max = 0;\n        if(j==0) j = i;\n        for(int k=1; k&lt;n; k++) {\n            int e = list.get(k);\n            if(e==0) e = i;\n            int abs = Math.abs(e-j);\n            max = Math.max(max, abs);\n            j = e;\n        }\n        response = Math.min(response, max);\n    }\n    return response;\n}\n</code></pre>\n<p>Time complexity of this code is <code>O(m*n)</code>.</p>\n<p>What is the correct approach to solve this problem to reduce the time complexity?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694261871,"post_id":77072077,"comment_id":135870028,"body_markdown":"[Questions seeking debugging help (*&quot;why isn&#39;t this code working?&quot;*) must include the desired behavior, **a specific** problem or **error** and the **shortest code necessary to reproduce it** in the question itself. Questions without a clear problem statement are not useful to other readers.](https://stackoverflow.com/help/on-topic) See: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"<a href=\"https://stackoverflow.com/help/on-topic\">Questions seeking debugging help (<i>&quot;why isn&#39;t this code working?&quot;</i>) must include the desired behavior, <b>a specific</b> problem or <b>error</b> and the <b>shortest code necessary to reproduce it</b> in the question itself. Questions without a clear problem statement are not useful to other readers.</a> See: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>."},{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1694571665,"post_id":77072077,"comment_id":135907575,"body_markdown":"Try a valid version of your artifact, like one from the list here https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper","body":"Try a valid version of your artifact, like one from the list here <a href=\"https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.tomcat.embed/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694266755,"creation_date":1694266755,"answer_id":77072513,"question_id":77072077,"body_markdown":"I checked maven central for your dependency . version 10.1.3 is not found .\r\nhttps://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper","title":"Spring boot POM file add dependency","body":"<p>I checked maven central for your dependency . version 10.1.3 is not found .\n<a href=\"https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper</a></p>\n"}],"owner":{"account_id":27998154,"reputation":1,"user_id":21382946,"display_name":"Vivek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694572973,"answer_count":1,"score":0,"last_activity_date":1694556774,"creation_date":1694260217,"question_id":77072077,"body_markdown":"I am trying to add dependency in my pom.xml file\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tomcat.embed.jasper&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;version&gt;10.1.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nBut getting an error Missing artifact org.apache.tomcat.embed:tomcat.embed.jasper:jar:10.1.3\r\n\r\nTried to make changes but still getting same error","title":"Spring boot POM file add dependency","body":"<p>I am trying to add dependency in my pom.xml file</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat.embed.jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;version&gt;10.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But getting an error Missing artifact org.apache.tomcat.embed:tomcat.embed.jasper:jar:10.1.3</p>\n<p>Tried to make changes but still getting same error</p>\n"},{"tags":["java","spring","spring-boot","authentication","security"],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684746242,"creation_date":1684745769,"answer_id":76304487,"question_id":76300703,"body_markdown":"Kindly check my recent Spring Boot 3 project:\r\nhttps://github.com/thevarga04/ucimsa/blob/main/src/main/java/ucimsa/config/WebSecurityConfig.java\r\n\r\nAnd in this post I elaborated on a few topics:\r\nhttps://stackoverflow.com/questions/75618616/auto-login-after-registration-spring-boot-3-spring-security-6/76017750#76017750","title":"Problem with authenticationManager in securityFilterChain SpringBoot 3","body":"<p>Kindly check my recent Spring Boot 3 project:\n<a href=\"https://github.com/thevarga04/ucimsa/blob/main/src/main/java/ucimsa/config/WebSecurityConfig.java\" rel=\"nofollow noreferrer\">https://github.com/thevarga04/ucimsa/blob/main/src/main/java/ucimsa/config/WebSecurityConfig.java</a></p>\n<p>And in this post I elaborated on a few topics:\n<a href=\"https://stackoverflow.com/questions/75618616/auto-login-after-registration-spring-boot-3-spring-security-6/76017750#76017750\">Auto login after registration Spring Boot 3/Spring security 6</a></p>\n"}],"owner":{"account_id":28648278,"reputation":1,"user_id":21935789,"display_name":"Ace Thoughtless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694556690,"creation_date":1684684004,"question_id":76300703,"body_markdown":"As you can see in this photo im trying to add an authenticationManager in my .addFilter(new JwtUsernameAndPasswordAuthenticationFilter()) but springboot doesnt let because im using the securityFilterChain method.\r\n\r\n#############################################################################################\r\n```\r\n  @Configuration\r\n  @EnableWebSecurity\r\n   @EnableMethodSecurity\r\n\r\n   public class ApplicationSecurityConfig {\r\n\r\n     private final PasswordEncoder passwordEncoder;\r\n    private final ApplicationUserService applicationUserService;\r\n    @Autowired\r\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder,\r\n                                     ApplicationUserService applicationUserService) {\r\n        this.passwordEncoder=passwordEncoder;\r\n        this.applicationUserService = applicationUserService;\r\n    }\r\n\r\n    @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n\r\n                .csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager()))\r\n                .authorizeRequests()\r\n                .requestMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n                .requestMatchers(&quot;/api/**&quot;).hasRole(ApplicationUserRole.STUDENT.name())\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .build();\r\n    }\r\n\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(daoAuthenticationProvider());\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(passwordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n############################################################################################\r\n\r\nmy class JwtUsernameAndPasswordAuthenticationFilter is this ,\r\n\r\n```\r\npublic class JwtUsernameAndPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    public JwtUsernameAndPasswordAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request,\r\n                                                HttpServletResponse response) throws AuthenticationException {\r\n\r\n        try {\r\n            UsernameAndPasswordAuthenticationRequest authenticationRequest = new ObjectMapper()\r\n                    .readValue(request.getInputStream(), UsernameAndPasswordAuthenticationRequest.class);\r\n\r\n            Authentication authentication = new UsernamePasswordAuthenticationToken(\r\n                authenticationRequest.getUsername(),\r\n                authenticationRequest.getPassword()\r\n            );\r\n            Authentication authenticate = authenticationManager.authenticate(authentication);\r\n            return authenticate;\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request,\r\n                                            HttpServletResponse response,\r\n                                            FilterChain chain,\r\n                                            Authentication authResult) throws IOException, ServletException {\r\n\r\n        String key = &quot;securesecuresecuresecuresecuresecuresecuresecuresecuresecure&quot;;\r\n        String token = Jwts.builder()\r\n                .setSubject(authResult.getName())\r\n                .claim(&quot;authorities&quot;,authResult.getAuthorities())\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusWeeks(2)))\r\n                .signWith(Keys.hmacShaKeyFor(key.getBytes()))\r\n                .compact();\r\n\r\n        response.addHeader(&quot;Authorization&quot;,&quot;bearer &quot; + token);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nCan anyone help me?? What should i do in order make it work in the new version of springboot??\r\n\r\nThanks anyway.\r\n\r\nIm trying to pass the obstacle that was created due to different version of springboot and im believe that someone can help me to find a solution. ","title":"Problem with authenticationManager in securityFilterChain SpringBoot 3","body":"<p>As you can see in this photo im trying to add an authenticationManager in my .addFilter(new JwtUsernameAndPasswordAuthenticationFilter()) but springboot doesnt let because im using the securityFilterChain method.</p>\n<p>#############################################################################################</p>\n<pre><code>  @Configuration\n  @EnableWebSecurity\n   @EnableMethodSecurity\n\n   public class ApplicationSecurityConfig {\n\n     private final PasswordEncoder passwordEncoder;\n    private final ApplicationUserService applicationUserService;\n    @Autowired\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder,\n                                     ApplicationUserService applicationUserService) {\n        this.passwordEncoder=passwordEncoder;\n        this.applicationUserService = applicationUserService;\n    }\n\n    @Bean\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager()))\n                .authorizeRequests()\n                .requestMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n                .requestMatchers(&quot;/api/**&quot;).hasRole(ApplicationUserRole.STUDENT.name())\n                .anyRequest()\n                .authenticated()\n                .and()\n                .build();\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p>############################################################################################</p>\n<p>my class JwtUsernameAndPasswordAuthenticationFilter is this ,</p>\n<pre><code>public class JwtUsernameAndPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    private final AuthenticationManager authenticationManager;\n\n    public JwtUsernameAndPasswordAuthenticationFilter(AuthenticationManager authenticationManager) {\n        this.authenticationManager = authenticationManager;\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request,\n                                                HttpServletResponse response) throws AuthenticationException {\n\n        try {\n            UsernameAndPasswordAuthenticationRequest authenticationRequest = new ObjectMapper()\n                    .readValue(request.getInputStream(), UsernameAndPasswordAuthenticationRequest.class);\n\n            Authentication authentication = new UsernamePasswordAuthenticationToken(\n                authenticationRequest.getUsername(),\n                authenticationRequest.getPassword()\n            );\n            Authentication authenticate = authenticationManager.authenticate(authentication);\n            return authenticate;\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request,\n                                            HttpServletResponse response,\n                                            FilterChain chain,\n                                            Authentication authResult) throws IOException, ServletException {\n\n        String key = &quot;securesecuresecuresecuresecuresecuresecuresecuresecuresecure&quot;;\n        String token = Jwts.builder()\n                .setSubject(authResult.getName())\n                .claim(&quot;authorities&quot;,authResult.getAuthorities())\n                .setIssuedAt(new Date())\n                .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusWeeks(2)))\n                .signWith(Keys.hmacShaKeyFor(key.getBytes()))\n                .compact();\n\n        response.addHeader(&quot;Authorization&quot;,&quot;bearer &quot; + token);\n    }\n\n}\n</code></pre>\n<p>Can anyone help me?? What should i do in order make it work in the new version of springboot??</p>\n<p>Thanks anyway.</p>\n<p>Im trying to pass the obstacle that was created due to different version of springboot and im believe that someone can help me to find a solution.</p>\n"},{"tags":["java","angularjs","spring","hibernate"],"comments":[{"owner":{"account_id":8975093,"reputation":2272,"user_id":6692256,"display_name":"Alex Ciocan"},"score":0,"creation_date":1482420918,"post_id":41285274,"comment_id":69775278,"body_markdown":"See if this helps you http://stackoverflow.com/questions/5724976/hibernate-jsr303-validation-and-incorrectly-generated-propertypath","body":"See if this helps you <a href=\"http://stackoverflow.com/questions/5724976/hibernate-jsr303-validation-and-incorrectly-generated-propertypath\" title=\"hibernate jsr303 validation and incorrectly generated propertypath\">stackoverflow.com/questions/5724976/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":336191,"reputation":1069,"user_id":1458562,"display_name":"Patrice Blanchardie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482423004,"creation_date":1482423004,"answer_id":41287349,"question_id":41285274,"body_markdown":"On AngularJS side, ngInit is not recommended. Try to set the value in the controller and only use ngModel. Display it with {{}} to be sure, and inspect the request to double check when saving.\r\nOn java side, run in debug mode to see if something is received and why nothing is populated in workflow. Obviously, it&#39;s null according to the validation error.","title":"javax.validation.ConstraintViolationException, ConstraintViolationImpl{interpolatedMessage=&#39;may not be null&#39;, propertyPath=","body":"<p>On AngularJS side, ngInit is not recommended. Try to set the value in the controller and only use ngModel. Display it with {{}} to be sure, and inspect the request to double check when saving.\nOn java side, run in debug mode to see if something is received and why nothing is populated in workflow. Obviously, it's null according to the validation error.</p>\n"}],"owner":{"account_id":8051624,"reputation":41,"user_id":6069953,"accept_rate":0,"display_name":"Alexey A."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694556150,"creation_date":1482416482,"question_id":41285274,"body_markdown":"I try to save the object of class DocumentType by using Hibernate.\r\n\r\nOn the client-side (using Angular js) i pass field **workflow** like that (i can pass only id of **workflow** object):\r\n\r\n     &lt;input type=&quot;hidden&quot; data-ng-model=&quot;refRecord.workflow.id&quot; value=&quot;2&quot; data-ng-init=&quot;refRecord.workflow.id=2&quot;/&gt;\r\n\r\nWhile saving an object i get:\r\n\r\n     javax.validation.ConstraintViolationException, ConstraintViolationImpl{interpolatedMessage=&#39;may not be null&#39;, propertyPath=workflow\r\n\r\nClass DocumentType:\r\n\r\n    @Entity\r\n    @Table(name = &quot;${subsystem.table.prefix}_ref_document_type&quot;)\r\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @JsonIgnoreProperties({&quot;new&quot;, &quot;workflow&quot;, &quot;docClass&quot;, &quot;parentTypes&quot;, &quot;cacheNames&quot;})\r\n    @AttributeOverride(\r\n            name = &quot;rowId&quot;,\r\n            column = @Column(name = &quot;uniqueid&quot;, insertable = false, updatable = false)\r\n    )\r\n    public class DocumentType extends AbstractPeriodCodeReference&lt;String&gt; {\r\n    \r\n        public static final String CACHE_NAME = &quot;documentTypes&quot;;\r\n    \r\n        @Override\r\n        public String[] getCacheNames() {\r\n            return new String[]{CACHE_NAME};\r\n        }\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotBlank\r\n        @Column(nullable = false, length = 512)\r\n        private String name;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotBlank\r\n        @Column(nullable = false)\r\n        private String shortName;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotNull\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;subtype_id&quot;, nullable = false)\r\n        private DocumentSubtype subtype;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotNull\r\n        @Type(\r\n                type = HibernateIntegerEnumType.CLASS_NAME,\r\n                parameters = @Parameter(name = HibernateIntegerEnumType.PARAMETER_NAME, value = TypeDocumentEnum.ENUM_CLASS)\r\n        )\r\n        @Column(nullable = false, name = &quot;in_out&quot;, columnDefinition = &quot;number(1,0)&quot;)\r\n        private TypeDocumentEnum inout;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotNull\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;workflow_id&quot;, nullable = false)\r\n        private Workflow workflow;\r\n    \r\n        @Getter\r\n        @Setter\r\n        @Column(nullable = false)\r\n        private boolean docflowable;\r\n    \r\n        @Getter\r\n        @Column(nullable = false)\r\n        private boolean creatable;\r\n    \r\n        @Getter\r\n        @ManyToOne(optional = true, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;docflow_code&quot;, nullable = true)\r\n        private DocflowType docflowType;\r\n    \r\n        @Getter\r\n        @OneToMany(mappedBy = &quot;type&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;TypeParentDocument&gt; parentTypes = Sets.newHashSet();\r\n    \r\n        @Getter\r\n        @Formula(&quot;&#39;(&#39; || code || &#39;) &#39; || name&quot;)\r\n        private String fullName;\r\n    \r\n        @Getter\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n                name = &quot;core_ref_doc_signer_type&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;doc_code&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;type_id&quot;)\r\n        )\r\n        private Set&lt;SignerType&gt; signerTypes = Sets.newHashSet();\r\n    \r\n        @Getter\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n                name = &quot;core_ref_subsystem_doc_type&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;doc_code&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;subsystem_id&quot;)\r\n        )\r\n        private Set&lt;Subsystem&gt; subsystems = Sets.newHashSet();\r\n    \r\n        public DocumentType(String code) {\r\n            Validate.notBlank(code);\r\n            this.setCode(code);\r\n        }\r\n    }\r\n\r\nClass Workflow:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;core_workflow&quot;)\r\n    @Immutable\r\n    @Getter\r\n    public class Workflow extends AbstractSortableEntity&lt;Integer&gt; {\r\n       \r\n        @NotBlank\r\n        @Column(nullable = false)\r\n        private String name;\r\n    \r\n    \r\n        @NotEmpty\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n                name = &quot;${subsystem.table.prefix}_initial_workflow_status&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;workflow_id&quot;, nullable = false),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;status_id&quot;, nullable = false)\r\n        )\r\n        private Set&lt;Status&gt; initialStatuses;\r\n    \r\n    \r\n        @OneToMany(mappedBy = &quot;pk.workflow&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;WorkflowTransition&gt; transitions;\r\n    }\r\n\r\n\r\nWhat am I doing wrong?  \r\n\r\n","title":"javax.validation.ConstraintViolationException, ConstraintViolationImpl{interpolatedMessage=&#39;may not be null&#39;, propertyPath=","body":"<p>I try to save the object of class DocumentType by using Hibernate.</p>\n\n<p>On the client-side (using Angular js) i pass field <strong>workflow</strong> like that (i can pass only id of <strong>workflow</strong> object):</p>\n\n<pre><code> &lt;input type=\"hidden\" data-ng-model=\"refRecord.workflow.id\" value=\"2\" data-ng-init=\"refRecord.workflow.id=2\"/&gt;\n</code></pre>\n\n<p>While saving an object i get:</p>\n\n<pre><code> javax.validation.ConstraintViolationException, ConstraintViolationImpl{interpolatedMessage='may not be null', propertyPath=workflow\n</code></pre>\n\n<p>Class DocumentType:</p>\n\n<pre><code>@Entity\n@Table(name = \"${subsystem.table.prefix}_ref_document_type\")\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@JsonIgnoreProperties({\"new\", \"workflow\", \"docClass\", \"parentTypes\", \"cacheNames\"})\n@AttributeOverride(\n        name = \"rowId\",\n        column = @Column(name = \"uniqueid\", insertable = false, updatable = false)\n)\npublic class DocumentType extends AbstractPeriodCodeReference&lt;String&gt; {\n\n    public static final String CACHE_NAME = \"documentTypes\";\n\n    @Override\n    public String[] getCacheNames() {\n        return new String[]{CACHE_NAME};\n    }\n\n\n    @Getter\n    @Setter\n    @NotBlank\n    @Column(nullable = false, length = 512)\n    private String name;\n\n\n    @Getter\n    @Setter\n    @NotBlank\n    @Column(nullable = false)\n    private String shortName;\n\n\n    @Getter\n    @Setter\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = \"subtype_id\", nullable = false)\n    private DocumentSubtype subtype;\n\n\n    @Getter\n    @Setter\n    @NotNull\n    @Type(\n            type = HibernateIntegerEnumType.CLASS_NAME,\n            parameters = @Parameter(name = HibernateIntegerEnumType.PARAMETER_NAME, value = TypeDocumentEnum.ENUM_CLASS)\n    )\n    @Column(nullable = false, name = \"in_out\", columnDefinition = \"number(1,0)\")\n    private TypeDocumentEnum inout;\n\n\n    @Getter\n    @Setter\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = \"workflow_id\", nullable = false)\n    private Workflow workflow;\n\n    @Getter\n    @Setter\n    @Column(nullable = false)\n    private boolean docflowable;\n\n    @Getter\n    @Column(nullable = false)\n    private boolean creatable;\n\n    @Getter\n    @ManyToOne(optional = true, cascade = CascadeType.ALL)\n    @JoinColumn(name = \"docflow_code\", nullable = true)\n    private DocflowType docflowType;\n\n    @Getter\n    @OneToMany(mappedBy = \"type\", fetch = FetchType.LAZY)\n    private Set&lt;TypeParentDocument&gt; parentTypes = Sets.newHashSet();\n\n    @Getter\n    @Formula(\"'(' || code || ') ' || name\")\n    private String fullName;\n\n    @Getter\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"core_ref_doc_signer_type\",\n            joinColumns = @JoinColumn(name = \"doc_code\"),\n            inverseJoinColumns = @JoinColumn(name = \"type_id\")\n    )\n    private Set&lt;SignerType&gt; signerTypes = Sets.newHashSet();\n\n    @Getter\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"core_ref_subsystem_doc_type\",\n            joinColumns = @JoinColumn(name = \"doc_code\"),\n            inverseJoinColumns = @JoinColumn(name = \"subsystem_id\")\n    )\n    private Set&lt;Subsystem&gt; subsystems = Sets.newHashSet();\n\n    public DocumentType(String code) {\n        Validate.notBlank(code);\n        this.setCode(code);\n    }\n}\n</code></pre>\n\n<p>Class Workflow:</p>\n\n<pre><code>@Entity\n@Table(name = \"core_workflow\")\n@Immutable\n@Getter\npublic class Workflow extends AbstractSortableEntity&lt;Integer&gt; {\n\n    @NotBlank\n    @Column(nullable = false)\n    private String name;\n\n\n    @NotEmpty\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"${subsystem.table.prefix}_initial_workflow_status\",\n            joinColumns = @JoinColumn(name = \"workflow_id\", nullable = false),\n            inverseJoinColumns = @JoinColumn(name = \"status_id\", nullable = false)\n    )\n    private Set&lt;Status&gt; initialStatuses;\n\n\n    @OneToMany(mappedBy = \"pk.workflow\", fetch = FetchType.LAZY)\n    private Set&lt;WorkflowTransition&gt; transitions;\n}\n</code></pre>\n\n<p>What am I doing wrong?  </p>\n"},{"tags":["java","exception","user-input"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1694550151,"post_id":77092430,"comment_id":135905339,"body_markdown":"The problem is not the exception itself, but on the way you&#39;re looking for your product inside the productInventory. Your research looks pretty strange. What kind of collection is productInventory? Why not using a Map&lt;String, Product&gt; instead and simply looking for the key (which is faster and way easier)?","body":"The problem is not the exception itself, but on the way you&#39;re looking for your product inside the productInventory. Your research looks pretty strange. What kind of collection is productInventory? Why not using a Map&lt;String, Product&gt; instead and simply looking for the key (which is faster and way easier)?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694551570,"post_id":77092430,"comment_id":135905592,"body_markdown":"Debugging is a useful skill. If you want to become a professional software developer, or otherwise regularly develop software, it will be a necessary skill. Run this program in a debugger. Set a breakpoint at Iterator&lt;Product&gt; itr = productAvailable.iterator(); then run the program one-step-at-a-time monitoring the values of variables.","body":"Debugging is a useful skill. If you want to become a professional software developer, or otherwise regularly develop software, it will be a necessary skill. Run this program in a debugger. Set a breakpoint at Iterator&lt;Product&gt; itr = productAvailable.iterator(); then run the program one-step-at-a-time monitoring the values of variables."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694552350,"post_id":77092430,"comment_id":135905715,"body_markdown":"Looks like we need to see more code to figure out what is wrong. Consider providing a [complete but minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Looks like we need to see more code to figure out what is wrong. Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">complete but minimal reproducible example</a>"},{"owner":{"account_id":28037250,"reputation":3,"user_id":21415416,"display_name":"Kenny"},"score":0,"creation_date":1694553032,"post_id":77092430,"comment_id":135905807,"body_markdown":"hello @Matteo Thanks for answering. I used a set because I ddidn&#39;t want duplicate product to be update inside the collection. I didn&#39;t use a map beacause I wasn&#39;t familliar with it but I might try if I can&#39;t find out how to do it","body":"hello @Matteo Thanks for answering. I used a set because I ddidn&#39;t want duplicate product to be update inside the collection. I didn&#39;t use a map beacause I wasn&#39;t familliar with it but I might try if I can&#39;t find out how to do it"},{"owner":{"account_id":28037250,"reputation":3,"user_id":21415416,"display_name":"Kenny"},"score":0,"creation_date":1694553318,"post_id":77092430,"comment_id":135905846,"body_markdown":"@Old Dog Programmer I tried with debbuging like you asked. The value I put in is &quot;Apple&quot; and it becomes : &quot;&quot;. I do not know what that means. How I do I put more of what I coded ? Should I answer my own question or should I edit ?","body":"@Old Dog Programmer I tried with debbuging like you asked. The value I put in is &quot;Apple&quot; and it becomes : &quot;&quot;. I do not know what that means. How I do I put more of what I coded ? Should I answer my own question or should I edit ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694553522,"post_id":77092430,"comment_id":135905873,"body_markdown":"You should edit your question to include more code. We should be able to copy your code, paste it into our IDE, and then run it.","body":"You should edit your question to include more code. We should be able to copy your code, paste it into our IDE, and then run it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694555629,"post_id":77092430,"comment_id":135906142,"body_markdown":"The `name` (or whatever it is called) field in the `apple` instance of your `Product` is an empty String? That suggests a fault in the constructor, so we should see the code for the constructors. I think we should also see the code for `equals` and `hashCode` in your `Product` class.","body":"The <code>name</code> (or whatever it is called) field in the <code>apple</code> instance of your <code>Product</code> is an empty String? That suggests a fault in the constructor, so we should see the code for the constructors. I think we should also see the code for <code>equals</code> and <code>hashCode</code> in your <code>Product</code> class."}],"answers":[{"tags":[],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694550127,"creation_date":1694550127,"answer_id":77092470,"question_id":77092430,"body_markdown":"The code I see looks ok.  Calling\r\n```\r\n            throw new InvalidInputException(&quot;...&quot;);\r\n```\r\nwill definitely cause the exception, so that code must not be called.\r\nA simple test would be to change the if statements logic to:\r\n```\r\n        if(productIsNotThere || true) {\r\n            throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\r\n        }\r\n```\r\nMy guess is that something else in the logic is incorrect `productIsNotThere == false`.\r\n\r\n","title":"Why does my created Exception not work in Java?","body":"<p>The code I see looks ok.  Calling</p>\n<pre><code>            throw new InvalidInputException(&quot;...&quot;);\n</code></pre>\n<p>will definitely cause the exception, so that code must not be called.\nA simple test would be to change the if statements logic to:</p>\n<pre><code>        if(productIsNotThere || true) {\n            throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\n        }\n</code></pre>\n<p>My guess is that something else in the logic is incorrect <code>productIsNotThere == false</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694555748,"creation_date":1694555231,"answer_id":77092866,"question_id":77092430,"body_markdown":"&gt; _&quot;... Even If I write the right input it throws an exception which is caught. Here &quot;Apple&quot; should be equal to the product name in the list and not throw an exception. ...&quot;_\r\n\r\nYour code seems to work correctly.  \r\nHere is an adaptation.\r\n\r\n```java\r\nstatic List&lt;Product&gt; productAvailable = new ArrayList&lt;&gt;() {{\r\n    add(new Product(&quot;Apple&quot;));\r\n}};\r\n\r\npublic static void searchProduct(String name) throws InvalidInputException{\r\n    Iterator&lt;Product&gt; itr = productAvailable.iterator();\r\n    boolean productIsNotThere = true;\r\n    while (itr.hasNext()) {\r\n        if (itr.next().getProductName().equals(name)) {\r\n            productIsNotThere = false;\r\n        }\r\n    }\r\n    if(productIsNotThere) {\r\n        throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\r\n    }\r\n}\r\n\r\nstatic class InvalidInputException extends Exception {\r\n    InvalidInputException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n\r\nstatic class Product {\r\n    String productName;\r\n\r\n    public Product(String productName) {\r\n        this.productName = productName;\r\n    }\r\n\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n}\r\n```\r\n\r\nIf I search for _&quot;abc&quot;_, the exception is thrown, and if I search for _&quot;Apple&quot;_ no exception is thrown.\r\n\r\n```none\r\nException in thread &quot;main&quot; Example$InvalidInputException: The product you are looking for is no longer in stock or this is not the right product name\r\n\tat Example.searchProduct ...\r\n\tat Example.main ...\r\n```\r\n\r\nIf the _[Exception](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Exception.html)_ is not functioning as intended, I suggest reviewing the _Java_ documentation.  \r\n_[Lesson: Exceptions (The Java&amp;trade; Tutorials &amp;gt; Essential Java Classes)](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html)_.\r\n\r\nAnd, as a recommendation, you can simplify your current _searchProduct_ code with a _[Stream#noneMatch](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#noneMatch(java.util.function.Predicate))_ call.\r\n\r\n```java\r\npublic static void searchProduct(String name) throws InvalidInputException{\r\n    if (productAvailable.stream().noneMatch(x -&gt; x.getProductName().equals(name)))\r\n        throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\r\n}\r\n```","title":"Why does my created Exception not work in Java?","body":"<blockquote>\n<p><em>&quot;... Even If I write the right input it throws an exception which is caught. Here &quot;Apple&quot; should be equal to the product name in the list and not throw an exception. ...&quot;</em></p>\n</blockquote>\n<p>Your code seems to work correctly.<br />\nHere is an adaptation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Product&gt; productAvailable = new ArrayList&lt;&gt;() {{\n    add(new Product(&quot;Apple&quot;));\n}};\n\npublic static void searchProduct(String name) throws InvalidInputException{\n    Iterator&lt;Product&gt; itr = productAvailable.iterator();\n    boolean productIsNotThere = true;\n    while (itr.hasNext()) {\n        if (itr.next().getProductName().equals(name)) {\n            productIsNotThere = false;\n        }\n    }\n    if(productIsNotThere) {\n        throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\n    }\n}\n\nstatic class InvalidInputException extends Exception {\n    InvalidInputException(String message) {\n        super(message);\n    }\n}\n\nstatic class Product {\n    String productName;\n\n    public Product(String productName) {\n        this.productName = productName;\n    }\n\n    public String getProductName() {\n        return productName;\n    }\n}\n</code></pre>\n<p>If I search for <em>&quot;abc&quot;</em>, the exception is thrown, and if I search for <em>&quot;Apple&quot;</em> no exception is thrown.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; Example$InvalidInputException: The product you are looking for is no longer in stock or this is not the right product name\n    at Example.searchProduct ...\n    at Example.main ...\n</code></pre>\n<p>If the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Exception.html\" rel=\"nofollow noreferrer\">Exception</a></em> is not functioning as intended, I suggest reviewing the <em>Java</em> documentation.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">Lesson: Exceptions (The Java™ Tutorials &gt; Essential Java Classes)</a></em>.</p>\n<p>And, as a recommendation, you can simplify your current <em>searchProduct</em> code with a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#noneMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">Stream#noneMatch</a></em> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void searchProduct(String name) throws InvalidInputException{\n    if (productAvailable.stream().noneMatch(x -&gt; x.getProductName().equals(name)))\n        throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":28037250,"reputation":3,"user_id":21415416,"display_name":"Kenny"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77092866,"answer_count":2,"score":0,"last_activity_date":1694555748,"creation_date":1694549697,"question_id":77092430,"body_markdown":"I created an Exception that doesn&#39;t work : Here I create a product object with a productName string variable as parameter. I put the product in a list named productAvailable. I ask the user which product they want to update and tell them to write the name of the product. I then use a method(searchProduct) to search wether there is a product of that name. This program use a iterator to search wether there is a product with the productName and is supposed to throw an Exception if not. A boolean is used to find out wethere the product is there or not. Yet it works all the time.\r\nEven If I write the right input it throws an exception which is caught. Here &quot;Apple&quot; should be equal to the product name in the list and not throw an exception. I do not understand why it does that. Please help. Thanks in advance. \r\n\r\n\r\nI wanted the Exception to work only when I put the wrong Input.\r\n\r\n\r\n\r\n```\r\npublic static void searchProduct(String name) throws InvalidInputException{\r\n        Iterator&lt;Product&gt; itr = productAvailable.iterator();\r\n        boolean productIsNotThere = true;\r\n        while (itr.hasNext()) {\r\n            if (itr.next().getProductName().equals(name)) {\r\n                productIsNotThere = false;\r\n            }\r\n        }\r\n        if(productIsNotThere) {\r\n            throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\r\n        }\r\n    }\r\n\r\n//if the product is there it should send a message, if not throw an exception with a message)\r\n```\r\n\r\n\r\n```\r\n        Product apple = new Product(&quot;111111&quot;, &quot;Apple&quot;, 1, 100); \r\n        //contructor : Product( productID, ProductName, price, quantity)\r\n\r\n        Collections.addAll(Inventory_Management.getProductAvailable(), apple, kiwi, banana);\r\n```\r\n\r\n\r\n```\r\n System.out.println(&quot;Give me the product name of the product you want to update&quot;);\r\n               \r\n                String name = &quot;Apple&quot;;\r\n\r\n                try {\r\n                    Inventory_Management.searchProduct(name);\r\n                } catch(InvalidInputException e) {\r\n                    e.printStackTrace();\r\n                }```\r\n","title":"Why does my created Exception not work in Java?","body":"<p>I created an Exception that doesn't work : Here I create a product object with a productName string variable as parameter. I put the product in a list named productAvailable. I ask the user which product they want to update and tell them to write the name of the product. I then use a method(searchProduct) to search wether there is a product of that name. This program use a iterator to search wether there is a product with the productName and is supposed to throw an Exception if not. A boolean is used to find out wethere the product is there or not. Yet it works all the time.\nEven If I write the right input it throws an exception which is caught. Here &quot;Apple&quot; should be equal to the product name in the list and not throw an exception. I do not understand why it does that. Please help. Thanks in advance.</p>\n<p>I wanted the Exception to work only when I put the wrong Input.</p>\n<pre><code>public static void searchProduct(String name) throws InvalidInputException{\n        Iterator&lt;Product&gt; itr = productAvailable.iterator();\n        boolean productIsNotThere = true;\n        while (itr.hasNext()) {\n            if (itr.next().getProductName().equals(name)) {\n                productIsNotThere = false;\n            }\n        }\n        if(productIsNotThere) {\n            throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\n        }\n    }\n\n//if the product is there it should send a message, if not throw an exception with a message)\n</code></pre>\n<pre><code>        Product apple = new Product(&quot;111111&quot;, &quot;Apple&quot;, 1, 100); \n        //contructor : Product( productID, ProductName, price, quantity)\n\n        Collections.addAll(Inventory_Management.getProductAvailable(), apple, kiwi, banana);\n</code></pre>\n<pre><code> System.out.println(&quot;Give me the product name of the product you want to update&quot;);\n               \n                String name = &quot;Apple&quot;;\n\n                try {\n                    Inventory_Management.searchProduct(name);\n                } catch(InvalidInputException e) {\n                    e.printStackTrace();\n                }```\n</code></pre>\n"},{"tags":["java","lambda","jersey","jax-rs","jersey-client"],"comments":[{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":0,"creation_date":1506374945,"post_id":46414342,"comment_id":79786810,"body_markdown":"I&#39;m voting to close this question as off-topic because the code is working.  Questions about how to improve code belong on the [Code Review](https://codereview.stackexchange.com/) Stack Exchange,","body":"I&#39;m voting to close this question as off-topic because the code is working.  Questions about how to improve code belong on the <a href=\"https://codereview.stackexchange.com/\">Code Review</a> Stack Exchange,"},{"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1694555417,"post_id":46414342,"comment_id":135906126,"body_markdown":"For `String` there is `StringUtils.defaultString` from Apache Lang 3.","body":"For <code>String</code> there is <code>StringUtils.defaultString</code> from Apache Lang 3."}],"answers":[{"tags":[],"owner":{"account_id":11708738,"reputation":505,"user_id":8571403,"display_name":"jwils"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506374897,"creation_date":1506374897,"answer_id":46414446,"question_id":46414342,"body_markdown":"You can use the ternary operator which lets you put an if/else on one line:\r\n\r\n    int status = (response == null) ? Response.Status.INTERNAL_SERVER_ERROR.getStatusCode() : response.getStatus();","title":"Get default value if the object is null in Java","body":"<p>You can use the ternary operator which lets you put an if/else on one line:</p>\n\n<pre><code>int status = (response == null) ? Response.Status.INTERNAL_SERVER_ERROR.getStatusCode() : response.getStatus();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1834650,"reputation":1996,"user_id":1665266,"display_name":"rachit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506375030,"creation_date":1506375030,"answer_id":46414478,"question_id":46414342,"body_markdown":"Using ternary operator, maybe?\r\n\r\n    return (response == null) ? Response.Status.INTERNAL_SERVER_ERROR.getStatusCode() : response.getStatus();","title":"Get default value if the object is null in Java","body":"<p>Using ternary operator, maybe?</p>\n\n<pre><code>return (response == null) ? Response.Status.INTERNAL_SERVER_ERROR.getStatusCode() : response.getStatus();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10979463,"reputation":1,"user_id":8067083,"display_name":"tyan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1506377567,"creation_date":1506375120,"answer_id":46414488,"question_id":46414342,"body_markdown":"    int status = response==null?Response.Status.INTERNAL_SERVER_ERROR.getStatusCode():response.getStatus();","title":"Get default value if the object is null in Java","body":"<pre><code>int status = response==null?Response.Status.INTERNAL_SERVER_ERROR.getStatusCode():response.getStatus();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44859,"reputation":11344,"user_id":131889,"accept_rate":67,"display_name":"Sbodd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506375958,"creation_date":1506375958,"answer_id":46414668,"question_id":46414342,"body_markdown":"The slightly cleaner lambda version is:\r\n       \r\n    Optional.ofNullable(response).map(Response::getStatus).orElse(Response.Status.INTERNAL_SERVER_ERROR.getStatusCode())\r\n\r\nThough honestly, I think the ternary operator here is cleaner.","title":"Get default value if the object is null in Java","body":"<p>The slightly cleaner lambda version is:</p>\n\n<pre><code>Optional.ofNullable(response).map(Response::getStatus).orElse(Response.Status.INTERNAL_SERVER_ERROR.getStatusCode())\n</code></pre>\n\n<p>Though honestly, I think the ternary operator here is cleaner.</p>\n"},{"tags":[],"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638806761,"creation_date":1506435646,"answer_id":46429006,"question_id":46414342,"body_markdown":"I would prefer your first version, as using lambda sounds much like overkill.\r\n\r\nYou could also use the ternary operator, as others have already pointed out:\r\n\r\n```java\r\nprivate static int getDefaultStatusCodeIfNull(final Response response) {\r\n    return response != null ? response.getStatus() : Response.Status.INTERNAL_SERVER_ERROR.getStatusCode();\r\n}\r\n```","title":"Get default value if the object is null in Java","body":"<p>I would prefer your first version, as using lambda sounds much like overkill.</p>\n<p>You could also use the ternary operator, as others have already pointed out:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static int getDefaultStatusCodeIfNull(final Response response) {\n    return response != null ? response.getStatus() : Response.Status.INTERNAL_SERVER_ERROR.getStatusCode();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694555473,"creation_date":1694555473,"answer_id":77092887,"question_id":46414342,"body_markdown":"In Java 9: `Objects.requireNonNullElse(T obj, T defaultObj)`.\r\n","title":"Get default value if the object is null in Java","body":"<p>In Java 9: <code>Objects.requireNonNullElse(T obj, T defaultObj)</code>.</p>\n"}],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46414478,"answer_count":6,"score":0,"last_activity_date":1694555473,"creation_date":1506374311,"question_id":46414342,"body_markdown":"I am curious to know how I can write a shorter version of the following code in Java.\r\n\r\nI have the following Java class (belongs to JAX-RS):\r\n\r\n - [javax.ws.rs.core.Response][1]\r\n\r\nI need back the int value of the responseStatus if that&#39;s possible (response is not null) otherwise default int status value needs to be returned.\r\n\r\nI do not want to add any library dependency to my project just for this small piece of code.\r\n\r\n**This is the code that came up in my mind first:**\r\n```java\r\n    private static int getDefaultStatusCodeIfNull(final Response response) {\r\n        if (Objects.isNull(response)) {\r\n            return Response.Status.INTERNAL_SERVER_ERROR.getStatusCode();\r\n        }\r\n\r\n        return response.getStatus();\r\n    }\r\n```\r\n**The following code is maybe shorter with lambda but it is so long and hard to read:**\r\n```java\r\n    int status = Optional.ofNullable(response)\r\n          .orElse(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()).getStatus();\r\n```\r\nIs there any shorter one-line way to get this int value?\r\n\r\nDo you think the 2nd one is a better solution than the 1st?\r\n\r\n  [1]: https://github.com/neo4j/jsr311-api/blob/master/src/javax/ws/rs/core/Response.java\r\n","title":"Get default value if the object is null in Java","body":"<p>I am curious to know how I can write a shorter version of the following code in Java.</p>\n<p>I have the following Java class (belongs to JAX-RS):</p>\n<ul>\n<li><a href=\"https://github.com/neo4j/jsr311-api/blob/master/src/javax/ws/rs/core/Response.java\" rel=\"nofollow noreferrer\">javax.ws.rs.core.Response</a></li>\n</ul>\n<p>I need back the int value of the responseStatus if that's possible (response is not null) otherwise default int status value needs to be returned.</p>\n<p>I do not want to add any library dependency to my project just for this small piece of code.</p>\n<p><strong>This is the code that came up in my mind first:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static int getDefaultStatusCodeIfNull(final Response response) {\n        if (Objects.isNull(response)) {\n            return Response.Status.INTERNAL_SERVER_ERROR.getStatusCode();\n        }\n\n        return response.getStatus();\n    }\n</code></pre>\n<p><strong>The following code is maybe shorter with lambda but it is so long and hard to read:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    int status = Optional.ofNullable(response)\n          .orElse(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()).getStatus();\n</code></pre>\n<p>Is there any shorter one-line way to get this int value?</p>\n<p>Do you think the 2nd one is a better solution than the 1st?</p>\n"},{"tags":["java","amazon-web-services","scheduling","aws-fargate","aws-batch"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":2,"creation_date":1690298576,"post_id":76764010,"comment_id":135332323,"body_markdown":"Are you using AWS Batch already? Do you need the features of AWS Batch? Both of your solutions use the same scheduler (EventBridge) and the same compute environment (Fargate), one just has the extra features of AWS Batch, while the other uses regular ECS.","body":"Are you using AWS Batch already? Do you need the features of AWS Batch? Both of your solutions use the same scheduler (EventBridge) and the same compute environment (Fargate), one just has the extra features of AWS Batch, while the other uses regular ECS."},{"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"score":0,"creation_date":1690299668,"post_id":76764010,"comment_id":135332584,"body_markdown":"Hey Mark B, currently we are doing some poc to check whether which one is fit for requirment.  Our simple scheduler doesnt need any complex tracking.  Based on your input, i beleive the cost for running the scheduler is same ryt","body":"Hey Mark B, currently we are doing some poc to check whether which one is fit for requirment.  Our simple scheduler doesnt need any complex tracking.  Based on your input, i beleive the cost for running the scheduler is same ryt"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1690300381,"post_id":76764010,"comment_id":135332753,"body_markdown":"The price would be exactly the same either way, since they are both running on Fargate.","body":"The price would be exactly the same either way, since they are both running on Fargate."},{"owner":{"account_id":20325,"reputation":258,"user_id":48472,"display_name":"Angel Pizarro"},"score":1,"creation_date":1691174499,"post_id":76764010,"comment_id":135461462,"body_markdown":"I tend to agree that if your needs are simple then just use EB + Fargate. If you are finding that tasks do need retry capability, then look to Batch. Another case would be when you need to balance a limited set of resources across a few different types of jobs, then Batch&#39;s fair share scheduling may be good to look at.","body":"I tend to agree that if your needs are simple then just use EB + Fargate. If you are finding that tasks do need retry capability, then look to Batch. Another case would be when you need to balance a limited set of resources across a few different types of jobs, then Batch&#39;s fair share scheduling may be good to look at."}],"answers":[{"tags":[],"owner":{"account_id":4918303,"reputation":38,"user_id":3961623,"display_name":"Jordi Tanta Diaz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690304820,"creation_date":1690304820,"answer_id":76765033,"question_id":76764010,"body_markdown":"AWS batch vs AWS ECS (Fargate)\r\nTo decide about wich one you will use, schedule mechanism is not an important feature.\r\n\r\nhttps://stackshare.io/stackups/aws-batch-vs-aws-fargate#:~:text=With%20AWS%20Fargate%2C%20you%20no,%22Containers%20as%20a%20Service%22.","title":"Choosing between AWS Batch(Fargate Compute Environment) with EventBridge Scheduler and AWS Fargate with Scheduler for a Java Task Scheduler","body":"<p>AWS batch vs AWS ECS (Fargate)\nTo decide about wich one you will use, schedule mechanism is not an important feature.</p>\n<p><a href=\"https://stackshare.io/stackups/aws-batch-vs-aws-fargate#:%7E:text=With%20AWS%20Fargate%2C%20you%20no,%22Containers%20as%20a%20Service%22\" rel=\"nofollow noreferrer\">https://stackshare.io/stackups/aws-batch-vs-aws-fargate#:~:text=With%20AWS%20Fargate%2C%20you%20no,%22Containers%20as%20a%20Service%22</a>.</p>\n"},{"tags":[],"owner":{"account_id":29231591,"reputation":1,"user_id":22395173,"display_name":"Alexandre Peixoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694554389,"creation_date":1694554389,"answer_id":77092804,"question_id":76764010,"body_markdown":"I created an Aws batch fargate  with EventBridge Scheduler to schedule a lot of tasks, like as Report sending, export data, insert data, and works fine, but we had a problems between EventBridge and Aws batch. Imagine you create a schedules in EventBridge with a Batch Job Definition number 1, after that you created a new version from Job definition for instance version 2, with a bugfix. All EventBridge created before, it&#39;ll run with job definition version 1, in other words with a bug ","title":"Choosing between AWS Batch(Fargate Compute Environment) with EventBridge Scheduler and AWS Fargate with Scheduler for a Java Task Scheduler","body":"<p>I created an Aws batch fargate  with EventBridge Scheduler to schedule a lot of tasks, like as Report sending, export data, insert data, and works fine, but we had a problems between EventBridge and Aws batch. Imagine you create a schedules in EventBridge with a Batch Job Definition number 1, after that you created a new version from Job definition for instance version 2, with a bugfix. All EventBridge created before, it'll run with job definition version 1, in other words with a bug</p>\n"}],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694554389,"creation_date":1690297262,"question_id":76764010,"body_markdown":"I have a Java task scheduler that runs approximately 6 hours per day on AWS. I&#39;m considering two deployment options and seeking advice on which one is more suitable for my use case:\r\n\r\n**Option 1: AWS Batch(Fargate Compute Environment) with EventBridge Scheduler**\r\n\r\n**Option 2: AWS Fargate with Scheduler**\r\n\r\n\r\nI would like to know the pros and cons of each option to make an informed decision. Any insights or recommendations are greatly appreciated. Thank you!\r\n\r\n","title":"Choosing between AWS Batch(Fargate Compute Environment) with EventBridge Scheduler and AWS Fargate with Scheduler for a Java Task Scheduler","body":"<p>I have a Java task scheduler that runs approximately 6 hours per day on AWS. I'm considering two deployment options and seeking advice on which one is more suitable for my use case:</p>\n<p><strong>Option 1: AWS Batch(Fargate Compute Environment) with EventBridge Scheduler</strong></p>\n<p><strong>Option 2: AWS Fargate with Scheduler</strong></p>\n<p>I would like to know the pros and cons of each option to make an informed decision. Any insights or recommendations are greatly appreciated. Thank you!</p>\n"},{"tags":["java","solr","solr9","solr-9.3.0"],"comments":[{"owner":{"account_id":3848616,"reputation":451,"user_id":3189310,"display_name":"Brajesh"},"score":1,"creation_date":1692726375,"post_id":76955522,"comment_id":135662841,"body_markdown":"I tried the same command with Solr 9.1.1 and got no issue at all. Is this error only related to 9.3.0? Anyone faced similar issue?","body":"I tried the same command with Solr 9.1.1 and got no issue at all. Is this error only related to 9.3.0? Anyone faced similar issue?"},{"owner":{"account_id":8209505,"reputation":182,"user_id":7457718,"display_name":"Kyrylo Romantsov"},"score":0,"creation_date":1692886897,"post_id":76955522,"comment_id":135687478,"body_markdown":"What&#39;s the link to the file that you downloaded?","body":"What&#39;s the link to the file that you downloaded?"}],"answers":[{"tags":[],"owner":{"account_id":8209505,"reputation":182,"user_id":7457718,"display_name":"Kyrylo Romantsov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692886619,"creation_date":1692886619,"answer_id":76970227,"question_id":76955522,"body_markdown":"Make sure you downloaded the correct version on Solr (**Binary**) - https://www.apache.org/dyn/closer.lua/solr/solr/9.3.0/solr-9.3.0.tgz?action=download\r\n\r\nThere is a chance that you downloaded a **Source** release.\r\n","title":"Solr: SimplePostTool not found error using quick start guide","body":"<p>Make sure you downloaded the correct version on Solr (<strong>Binary</strong>) - <a href=\"https://www.apache.org/dyn/closer.lua/solr/solr/9.3.0/solr-9.3.0.tgz?action=download\" rel=\"nofollow noreferrer\">https://www.apache.org/dyn/closer.lua/solr/solr/9.3.0/solr-9.3.0.tgz?action=download</a></p>\n<p>There is a chance that you downloaded a <strong>Source</strong> release.</p>\n"},{"tags":[],"owner":{"account_id":21191510,"reputation":1,"user_id":18842320,"display_name":"Calvin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693283479,"creation_date":1693283479,"answer_id":76997312,"question_id":76955522,"body_markdown":"I met the same problem.\r\n\r\nThere are &#39;SimplePostToolxxx.class&#39; files in 9.2.1.\r\nexample\\exampledocs\\post\\org\\apache\\solr\\util\r\n\r\nBut there is no such .class files in 9.3.0. Maybe this is the reason.\r\n\r\nWe may use SimplePostTool in 9.2.1 temporarily.","title":"Solr: SimplePostTool not found error using quick start guide","body":"<p>I met the same problem.</p>\n<p>There are 'SimplePostToolxxx.class' files in 9.2.1.\nexample\\exampledocs\\post\\org\\apache\\solr\\util</p>\n<p>But there is no such .class files in 9.3.0. Maybe this is the reason.</p>\n<p>We may use SimplePostTool in 9.2.1 temporarily.</p>\n"},{"tags":[],"owner":{"account_id":29426321,"reputation":1,"user_id":22546939,"display_name":"Arjen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694553635,"creation_date":1694553635,"answer_id":77092749,"question_id":76955522,"body_markdown":"Apparently the post.jar is not complete anymore.\r\n\r\nTry:\r\n\r\njava -cp server\\solr-webapp\\webapp\\WEB-INF\\lib\\solr-core-9.3.0.jar org.apache.solr.cli.SimplePostTool -h","title":"Solr: SimplePostTool not found error using quick start guide","body":"<p>Apparently the post.jar is not complete anymore.</p>\n<p>Try:</p>\n<p>java -cp server\\solr-webapp\\webapp\\WEB-INF\\lib\\solr-core-9.3.0.jar org.apache.solr.cli.SimplePostTool -h</p>\n"}],"owner":{"account_id":3848616,"reputation":451,"user_id":3189310,"display_name":"Brajesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694553635,"creation_date":1692724390,"question_id":76955522,"body_markdown":"I am learning Solr and using the quick start guide. When posting the example documents to the Solr core using the command:\r\n\r\n    java -jar -Dc=techproducts example/exampledocs/post.jar *.xml\r\n\r\nI get those errors:\r\n\r\n    Error: Could not find or load main class org.apache.solr.util.SimplePostTool\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.solr.util.SimplePostTool\r\n\r\n\r\nMy Java version is JDK 11 and my Solr version is 9.3.0.\r\n\r\nI am unable to figure out why I am getting those. I don&#39;t have multiple instances of Java installed. Any help will be appreciated.","title":"Solr: SimplePostTool not found error using quick start guide","body":"<p>I am learning Solr and using the quick start guide. When posting the example documents to the Solr core using the command:</p>\n<pre><code>java -jar -Dc=techproducts example/exampledocs/post.jar *.xml\n</code></pre>\n<p>I get those errors:</p>\n<pre><code>Error: Could not find or load main class org.apache.solr.util.SimplePostTool\nCaused by: java.lang.ClassNotFoundException: org.apache.solr.util.SimplePostTool\n</code></pre>\n<p>My Java version is JDK 11 and my Solr version is 9.3.0.</p>\n<p>I am unable to figure out why I am getting those. I don't have multiple instances of Java installed. Any help will be appreciated.</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694549289,"creation_date":1694549289,"answer_id":77092384,"question_id":77089995,"body_markdown":"*subscribeOn* will affect subscription of the **upstream** flow. Therefore, the *onSubscribe* and *request* of the *step verifier* are not affected, as they happen *downstream*. Only the inner/hidden subscription to the flux is bound to the parallel scheduler. As this subscription is done on specified scheduler, its elements (onNext signals) are emitted on the same scheduler. \r\n\r\nTherefore, if you change the position of the `log()` statement like follow:\r\n   ```java\r\n   var flux = Flux.just(&quot;alex&quot;, &quot;adam&quot;, &quot;andrew&quot;)\r\n                  .log()\r\n                  .subscribeOn(Schedulers.parallel())\r\n   ```\r\n   Then you wil obtain expected behavior:\r\n   ```log\r\n   [ INFO] (parallel-1) | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)\r\n   [ INFO] (parallel-1) | request(unbounded)\r\n   [ INFO] (parallel-1) | onNext(alex)\r\n   [ INFO] (parallel-1) | onNext(adam)\r\n   [ INFO] (parallel-1) | onNext(andrew)\r\n   [ INFO] (parallel-1) | onComplete()\r\n   ```","title":"Project Reactor&#39;s subscribeOn() doesn&#39;t affect onSubscribe() to be called in specified Scheduler as stated in JavaDoc","body":"<p><em>subscribeOn</em> will affect subscription of the <strong>upstream</strong> flow. Therefore, the <em>onSubscribe</em> and <em>request</em> of the <em>step verifier</em> are not affected, as they happen <em>downstream</em>. Only the inner/hidden subscription to the flux is bound to the parallel scheduler. As this subscription is done on specified scheduler, its elements (onNext signals) are emitted on the same scheduler.</p>\n<p>Therefore, if you change the position of the <code>log()</code> statement like follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var flux = Flux.just(&quot;alex&quot;, &quot;adam&quot;, &quot;andrew&quot;)\n               .log()\n               .subscribeOn(Schedulers.parallel())\n</code></pre>\n<p>Then you wil obtain expected behavior:</p>\n<pre><code>[ INFO] (parallel-1) | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)\n[ INFO] (parallel-1) | request(unbounded)\n[ INFO] (parallel-1) | onNext(alex)\n[ INFO] (parallel-1) | onNext(adam)\n[ INFO] (parallel-1) | onNext(andrew)\n[ INFO] (parallel-1) | onComplete()\n</code></pre>\n"}],"owner":{"account_id":13930361,"reputation":1,"user_id":10058695,"display_name":"Maksym Zhokha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694552548,"creation_date":1694528228,"question_id":77089995,"body_markdown":"Project Reactor&#39;s Javadoc states\r\nabout method: \r\n\r\n`public final Flux&lt;T&gt; subscribeOn(Scheduler scheduler)`\r\n\r\nthat\r\n```\r\nRun subscribe, onSubscribe and request on a specified Scheduler&#39;s Scheduler.Worker. As such, placing this operator anywhere in the chain will also impact the execution context of onNext/onError/onComplete signals from the beginning of the chain ...\r\n```\r\n\r\n\r\nI have next unit test\r\n\r\n```\r\n    @Test\r\n    void testSubscribeOn() {\r\n        // when\r\n        var flux = Flux.just(&quot;alex&quot;, &quot;adam&quot;, &quot;andrew&quot;)\r\n                .subscribeOn(Schedulers.parallel())\r\n                .log();\r\n\r\n        // then\r\n        StepVerifier.create(flux)\r\n                .expectNextCount(3)\r\n                .verifyComplete();\r\n    }\r\n```\r\n\r\n\r\nI expect that logged messages will show that onSubscribe, request, onNext, onComplete will run in thread from parallel Scheduler.\r\nBut my test shows that onSubscribe and request are invoked from the calling thread:\r\n\r\n```\r\n16:09:21.286 [Test worker] INFO reactor.Flux.SubscribeOn.1 -- onSubscribe(FluxSubscribeOn.SubscribeOnSubscriber)\r\n16:09:21.290 [Test worker] INFO reactor.Flux.SubscribeOn.1 -- request(unbounded)\r\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(alex)\r\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(adam)\r\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(andrew)\r\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onComplete()\r\n```\r\n\r\nAfter posting this question I found related question https://stackoverflow.com/questions/59553733/why-subscribeon-method-doesnt-switch-the-context?rq=2 but as for me it still doesn&#39;t answer my question why in logs I see onSubscribe(...) and request(...) in calling thread instead of Scheduler thread as stated in documentation. \r\n\r\nI don&#39;t have doOnSubscribe() whose lambda can be called in different thread dependending if doOnSubscribe() called before or after subscribeOn(Scheduler).","title":"Project Reactor&#39;s subscribeOn() doesn&#39;t affect onSubscribe() to be called in specified Scheduler as stated in JavaDoc","body":"<p>Project Reactor's Javadoc states\nabout method:</p>\n<p><code>public final Flux&lt;T&gt; subscribeOn(Scheduler scheduler)</code></p>\n<p>that</p>\n<pre><code>Run subscribe, onSubscribe and request on a specified Scheduler's Scheduler.Worker. As such, placing this operator anywhere in the chain will also impact the execution context of onNext/onError/onComplete signals from the beginning of the chain ...\n</code></pre>\n<p>I have next unit test</p>\n<pre><code>    @Test\n    void testSubscribeOn() {\n        // when\n        var flux = Flux.just(&quot;alex&quot;, &quot;adam&quot;, &quot;andrew&quot;)\n                .subscribeOn(Schedulers.parallel())\n                .log();\n\n        // then\n        StepVerifier.create(flux)\n                .expectNextCount(3)\n                .verifyComplete();\n    }\n</code></pre>\n<p>I expect that logged messages will show that onSubscribe, request, onNext, onComplete will run in thread from parallel Scheduler.\nBut my test shows that onSubscribe and request are invoked from the calling thread:</p>\n<pre><code>16:09:21.286 [Test worker] INFO reactor.Flux.SubscribeOn.1 -- onSubscribe(FluxSubscribeOn.SubscribeOnSubscriber)\n16:09:21.290 [Test worker] INFO reactor.Flux.SubscribeOn.1 -- request(unbounded)\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(alex)\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(adam)\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(andrew)\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onComplete()\n</code></pre>\n<p>After posting this question I found related question <a href=\"https://stackoverflow.com/questions/59553733/why-subscribeon-method-doesnt-switch-the-context?rq=2\">Why subscribeOn method doesn&#39;t switch the context?</a> but as for me it still doesn't answer my question why in logs I see onSubscribe(...) and request(...) in calling thread instead of Scheduler thread as stated in documentation.</p>\n<p>I don't have doOnSubscribe() whose lambda can be called in different thread dependending if doOnSubscribe() called before or after subscribeOn(Scheduler).</p>\n"},{"tags":["java","loops","logic"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1694555097,"post_id":77092657,"comment_id":135906095,"body_markdown":"Please take the [tour](https://stackoverflow.com/tour), then update your question with a specific example, which includes some problematic code.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, then update your question with a specific example, which includes some problematic code."}],"owner":{"account_id":29300640,"reputation":1,"user_id":22448987,"display_name":"Abhishek Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694552459,"creation_date":1694552459,"question_id":77092657,"body_markdown":"I face problems when i get new problems , it might be lack of practice. I am beginner almost so I have just learn few patterns and basics of java. I got a problem of building a pattern but i wasn&#39;t able to build the exact logic of that. Actually, I know loops and all I am able to understand what is written there in program and what does it mean but when it comes to me to solve the problem with my logic building I am unable to that even after thinking hours and hours I wasn&#39;t able to find the solution. Please tell me how to overcome with this.\r\n\r\ni have already explained that in my question itself","title":"Logic Building regarding new problems I have never gone through","body":"<p>I face problems when i get new problems , it might be lack of practice. I am beginner almost so I have just learn few patterns and basics of java. I got a problem of building a pattern but i wasn't able to build the exact logic of that. Actually, I know loops and all I am able to understand what is written there in program and what does it mean but when it comes to me to solve the problem with my logic building I am unable to that even after thinking hours and hours I wasn't able to find the solution. Please tell me how to overcome with this.</p>\n<p>i have already explained that in my question itself</p>\n"},{"tags":["java","html","validation","html-parsing"],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1291844321,"creation_date":1291844321,"answer_id":4392645,"question_id":4392505,"body_markdown":"If you want to verify certain tags follow certain specifications, there seems to be no end of Java based HTML parsers:\r\n\r\n[Open Source HTML Parsers in Java][1]\r\n\r\nIn other words, you could parse you HTML, and then inspect the resulting document for the tags you were looking for and determine if they meet the specifications you require.  If they don&#39;t you could then just throw an error.\r\n\r\nI don&#39;t think you&#39;ll find a HTML analysis tool which was written with exactly your requirements in mind, mostly because those requirements haven&#39;t been voiced and are probably a bit nebulous.\r\n\r\nIf the parser doesn&#39;t do what you want out of the box, at least this list is open source, so you can hack the parser as long as you publish your changes.\r\n\r\n  [1]: http://java-source.net/open-source/html-parsers","title":"How to validate HTML from Java?","body":"<p>If you want to verify certain tags follow certain specifications, there seems to be no end of Java based HTML parsers:</p>\n\n<p><a href=\"http://java-source.net/open-source/html-parsers\" rel=\"noreferrer\">Open Source HTML Parsers in Java</a></p>\n\n<p>In other words, you could parse you HTML, and then inspect the resulting document for the tags you were looking for and determine if they meet the specifications you require.  If they don't you could then just throw an error.</p>\n\n<p>I don't think you'll find a HTML analysis tool which was written with exactly your requirements in mind, mostly because those requirements haven't been voiced and are probably a bit nebulous.</p>\n\n<p>If the parser doesn't do what you want out of the box, at least this list is open source, so you can hack the parser as long as you publish your changes.</p>\n"},{"tags":[],"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1291870346,"creation_date":1291870346,"answer_id":4394958,"question_id":4392505,"body_markdown":"Check JTidy (http://jtidy.sourceforge.net/) and VietSpider HTMLParser ( http://sourceforge.net/projects/binhgiang/ ) both are Java HTML parser and some syntax checking capabilities. Some eclipse based HTML editor plugin use JTidy (or port of Tidy) for syntax checking. Or as [David Said][1], submit the page to w3c.org\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4392505/how-to-validate-html-from-java/4392532#4392532","title":"How to validate HTML from Java?","body":"<p>Check JTidy (<a href=\"http://jtidy.sourceforge.net/\" rel=\"nofollow noreferrer\">http://jtidy.sourceforge.net/</a>) and VietSpider HTMLParser ( <a href=\"http://sourceforge.net/projects/binhgiang/\" rel=\"nofollow noreferrer\">http://sourceforge.net/projects/binhgiang/</a> ) both are Java HTML parser and some syntax checking capabilities. Some eclipse based HTML editor plugin use JTidy (or port of Tidy) for syntax checking. Or as <a href=\"https://stackoverflow.com/questions/4392505/how-to-validate-html-from-java/4392532#4392532\">David Said</a>, submit the page to w3c.org</p>\n"}],"owner":{"account_id":25928,"reputation":40525,"user_id":67063,"accept_rate":98,"display_name":"Tony the Pony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25838,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":4392645,"answer_count":2,"score":13,"last_activity_date":1694551945,"creation_date":1291843433,"question_id":4392505,"body_markdown":"What is a fast and simple way to validate HTML from Java? I’m looking for an open-source/PD class (or set of classes) that describes the various properties of the 100-odd HTML tags, such as:\r\n\r\n1. Is the tag optional? Empty? Is it legal to omit its closing tag? \r\n2. Which other tags can this tag contain (if any)?\r\n3. Which attributes are legal for this tag, and what are their types?  (not required, but nice to have)\r\n\r\nI&#39;m looking to do to a tag-by-tag analysis of an HTML document, so I&#39;m less interested in whether the document as a whole is valid, but rather what the specific requirements are for each type of tag.\r\n\r\nI could encode the rules based on the W3C spec, but wanted to see which ready-made solutions are available first. ","title":"How to validate HTML from Java?","body":"<p>What is a fast and simple way to validate HTML from Java? I’m looking for an open-source/PD class (or set of classes) that describes the various properties of the 100-odd HTML tags, such as:</p>\n<ol>\n<li>Is the tag optional? Empty? Is it legal to omit its closing tag?</li>\n<li>Which other tags can this tag contain (if any)?</li>\n<li>Which attributes are legal for this tag, and what are their types?  (not required, but nice to have)</li>\n</ol>\n<p>I'm looking to do to a tag-by-tag analysis of an HTML document, so I'm less interested in whether the document as a whole is valid, but rather what the specific requirements are for each type of tag.</p>\n<p>I could encode the rules based on the W3C spec, but wanted to see which ready-made solutions are available first.</p>\n"},{"tags":["java","spring","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1602280313,"creation_date":1602267197,"answer_id":64285246,"question_id":64284866,"body_markdown":"You can exclude dependencies in build tools, see:\r\nhttps://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html#sec:excluding-transitive-deps\r\n\r\nYou can also configure the Maven repositories used in Gradle, see:\r\nhttps://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-content-filtering &lt;br&gt;\r\nHere is an example to use only release versions or only snapshot version:\r\n\r\n    repositories {\r\n        maven {\r\n            url &quot;https://repo.mycompany.com/releases&quot;\r\n            mavenContent {\r\n                releasesOnly()\r\n            }\r\n        }\r\n        maven {\r\n            url &quot;https://repo.mycompany.com/snapshots&quot;\r\n            mavenContent {\r\n                snapshotsOnly()\r\n            }\r\n        }\r\n    }","title":"How to prevent gradle from downloading SNAPSHOT jar","body":"<p>You can exclude dependencies in build tools, see:\n<a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html#sec:excluding-transitive-deps\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html#sec:excluding-transitive-deps</a></p>\n<p>You can also configure the Maven repositories used in Gradle, see:\n<a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-content-filtering\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-content-filtering</a> <br>\nHere is an example to use only release versions or only snapshot version:</p>\n<pre><code>repositories {\n    maven {\n        url &quot;https://repo.mycompany.com/releases&quot;\n        mavenContent {\n            releasesOnly()\n        }\n    }\n    maven {\n        url &quot;https://repo.mycompany.com/snapshots&quot;\n        mavenContent {\n            snapshotsOnly()\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16297526,"reputation":193,"user_id":11769408,"display_name":"Geoffrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694551308,"creation_date":1694550617,"answer_id":77092512,"question_id":64284866,"body_markdown":"If you use the `libs.versions.toml` you can dynamically check the content of the `libs` variable, in the `gradle.properties` add:\r\n\r\n    withSnapshot=true\r\n\r\nThen in your `build.gradle.kts` (or custom plugin) add:\r\n\r\n    val withSnapshot: String by project\r\n    when (withSnapshot) {\r\n        &quot;true&quot; -&gt; {}\r\n        else -&gt; {\r\n            val libs = project.extensions.getByType(VersionCatalogsExtension::class).named(&quot;libs&quot;)\r\n            libs.libraryAliases\r\n                .mapNotNull { libs.findLibrary(it).getOrNull()?.get() }\r\n                .forEach {\r\n                    when (it.version?.lowercase()?.contains(&quot;snapshot&quot;)) {\r\n                        true -&gt; throw GradleException(&quot;dependency ${it.module}:${it.version} uses a snapshot version&quot;)\r\n                        false -&gt; {}\r\n                        null -&gt; throw GradleException(&quot;dependency ${it.module}:${it.version} has a null version&quot;)\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\nThen try it by adding in your `libs.versions.toml`:\r\n\r\n\r\n    [versions]\r\n    toto = &quot;1.0.0-SNAPSHOT&quot;\r\n    [libraries]\r\n    toto = { module = &quot;toto:toto&quot;, version.ref = &quot;toto&quot; }\r\n\r\nThen run with:\r\n\r\n    ./gradlew clean build -PwithSnapshot=false\r\n\r\nYou should see in the error log:\r\n\r\n    &gt; dependency toto:toto:1.0.0-SNAPSHOT uses a snapshot version\r\n\r\nHowever it will not prevent snapshots from transitive dependencies...","title":"How to prevent gradle from downloading SNAPSHOT jar","body":"<p>If you use the <code>libs.versions.toml</code> you can dynamically check the content of the <code>libs</code> variable, in the <code>gradle.properties</code> add:</p>\n<pre><code>withSnapshot=true\n</code></pre>\n<p>Then in your <code>build.gradle.kts</code> (or custom plugin) add:</p>\n<pre><code>val withSnapshot: String by project\nwhen (withSnapshot) {\n    &quot;true&quot; -&gt; {}\n    else -&gt; {\n        val libs = project.extensions.getByType(VersionCatalogsExtension::class).named(&quot;libs&quot;)\n        libs.libraryAliases\n            .mapNotNull { libs.findLibrary(it).getOrNull()?.get() }\n            .forEach {\n                when (it.version?.lowercase()?.contains(&quot;snapshot&quot;)) {\n                    true -&gt; throw GradleException(&quot;dependency ${it.module}:${it.version} uses a snapshot version&quot;)\n                    false -&gt; {}\n                    null -&gt; throw GradleException(&quot;dependency ${it.module}:${it.version} has a null version&quot;)\n                }\n            }\n    }\n}\n</code></pre>\n<p>Then try it by adding in your <code>libs.versions.toml</code>:</p>\n<pre><code>[versions]\ntoto = &quot;1.0.0-SNAPSHOT&quot;\n[libraries]\ntoto = { module = &quot;toto:toto&quot;, version.ref = &quot;toto&quot; }\n</code></pre>\n<p>Then run with:</p>\n<pre><code>./gradlew clean build -PwithSnapshot=false\n</code></pre>\n<p>You should see in the error log:</p>\n<pre><code>&gt; dependency toto:toto:1.0.0-SNAPSHOT uses a snapshot version\n</code></pre>\n<p>However it will not prevent snapshots from transitive dependencies...</p>\n"}],"owner":{"account_id":16200410,"reputation":691,"user_id":13569065,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1755,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1694551308,"creation_date":1602265376,"question_id":64284866,"body_markdown":"I am using a dependency module-x which has may or may not have SNAPSHOT version of trivial/other dependencies. When I build the application I wanted to make sure that all the trivial/other dependencies are of release type and not SNAPSHOT as SNAPSHOT keeps changing. \r\n\r\nbuild.gradle file \r\n\r\n    dependencies {\r\n        implementation &#39;org.my-group-x:module-x:1.2&#39;\r\n    }\r\n\r\n\r\nit downloads a bunch of dependencies and it may have multiple dependencies which are of SNAPSHOT typed\r\n\r\n    module-y:2.0-SNAPSHOT.jar\r\n    module-z:3.1-SNAPSHOT.jar\r\n    module-k:2.7-SNAPSHOT.jar\r\n\r\n\r\nHow I can make sure it is rejected and not added to the application? Also i dont know the dependencies to exclude it specifically.","title":"How to prevent gradle from downloading SNAPSHOT jar","body":"<p>I am using a dependency module-x which has may or may not have SNAPSHOT version of trivial/other dependencies. When I build the application I wanted to make sure that all the trivial/other dependencies are of release type and not SNAPSHOT as SNAPSHOT keeps changing.</p>\n<p>build.gradle file</p>\n<pre><code>dependencies {\n    implementation 'org.my-group-x:module-x:1.2'\n}\n</code></pre>\n<p>it downloads a bunch of dependencies and it may have multiple dependencies which are of SNAPSHOT typed</p>\n<pre><code>module-y:2.0-SNAPSHOT.jar\nmodule-z:3.1-SNAPSHOT.jar\nmodule-k:2.7-SNAPSHOT.jar\n</code></pre>\n<p>How I can make sure it is rejected and not added to the application? Also i dont know the dependencies to exclude it specifically.</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":1,"creation_date":1349283510,"post_id":12713247,"comment_id":17166345,"body_markdown":"If you are using Eclipse, the file needs to be in the root directory of the project.","body":"If you are using Eclipse, the file needs to be in the root directory of the project."},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":3,"creation_date":1349283566,"post_id":12713247,"comment_id":17166372,"body_markdown":"You should print the stack trace in order to find the offending line of code.","body":"You should print the stack trace in order to find the offending line of code."},{"owner":{"account_id":1795092,"reputation":263,"user_id":1634663,"accept_rate":100,"display_name":"Lavinia"},"score":0,"creation_date":1349283735,"post_id":12713247,"comment_id":17166451,"body_markdown":"@Doug Ramsey It is in the root directory of the project.","body":"@Doug Ramsey It is in the root directory of the project."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1349284380,"post_id":12713247,"comment_id":17166711,"body_markdown":"Instead of just &quot;criteria.txt&quot;, put the actual location of the file on the filesystem like &quot;E:\\\\criteria.txt&quot;.","body":"Instead of just &quot;criteria.txt&quot;, put the actual location of the file on the filesystem like &quot;E:\\\\criteria.txt&quot;."},{"owner":{"account_id":1824055,"reputation":7962,"user_id":1657364,"display_name":"Guido Simone"},"score":0,"creation_date":1349284558,"post_id":12713247,"comment_id":17166774,"body_markdown":"Please provide a use case (before and after) for criteria.txt.  I do not understand what you are trying to do.  It looks like if criteria.txt was &quot;a = 5&quot;, you want to create a file with &quot;a = 5a=5&quot; because you are appending the tokens you just read.  Obviously I am missing something so please provide an example.","body":"Please provide a use case (before and after) for criteria.txt.  I do not understand what you are trying to do.  It looks like if criteria.txt was &quot;a = 5&quot;, you want to create a file with &quot;a = 5a=5&quot; because you are appending the tokens you just read.  Obviously I am missing something so please provide an example."},{"owner":{"account_id":1795092,"reputation":263,"user_id":1634663,"accept_rate":100,"display_name":"Lavinia"},"score":0,"creation_date":1349284641,"post_id":12713247,"comment_id":17166821,"body_markdown":"I copy the file on D:/ and I change the actual location of the file to &quot;D:/criteria.txt&quot;. It doesn&#39;t work. Can be a mistake in the code?","body":"I copy the file on D:/ and I change the actual location of the file to &quot;D:/criteria.txt&quot;. It doesn&#39;t work. Can be a mistake in the code?"},{"owner":{"account_id":1795092,"reputation":263,"user_id":1634663,"accept_rate":100,"display_name":"Lavinia"},"score":0,"creation_date":1349284857,"post_id":12713247,"comment_id":17166923,"body_markdown":"My file &quot;criteria.txt&quot; has the words: &quot;income education competition&quot; separated by a space. I want to append to the end of the same file, those three words, each of them on a new line.","body":"My file &quot;criteria.txt&quot; has the words: &quot;income education competition&quot; separated by a space. I want to append to the end of the same file, those three words, each of them on a new line."}],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1349284487,"creation_date":1349284487,"answer_id":12713509,"question_id":12713247,"body_markdown":"You need to close your reader after you have finished reading the file i.e. after the while loop. Currently, you are closing it after reading the first line, which causes an &quot;`IOException: Stream closed`&quot; when it tries to read the second line.\r\n\r\nChange to:\r\n\r\n    while((s=br.readLine())!=null)\r\n    {\r\n        strtok=new StringTokenizer(s,&quot; &quot;);\r\n        while(strtok.hasMoreTokens())\r\n        {\r\n            bw.write(&quot;\\n&quot;+strtok.nextToken());\r\n        }\r\n        //br.close(); &lt;----- move this to outside the while loop\r\n    }\r\n    br.close();","title":"Reading and writing from and to the same file in Java","body":"<p>You need to close your reader after you have finished reading the file i.e. after the while loop. Currently, you are closing it after reading the first line, which causes an \"<code>IOException: Stream closed</code>\" when it tries to read the second line.</p>\n\n<p>Change to:</p>\n\n<pre><code>while((s=br.readLine())!=null)\n{\n    strtok=new StringTokenizer(s,\" \");\n    while(strtok.hasMoreTokens())\n    {\n        bw.write(\"\\n\"+strtok.nextToken());\n    }\n    //br.close(); &lt;----- move this to outside the while loop\n}\nbr.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1902949,"reputation":86,"user_id":1718415,"display_name":"Dranste"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1349301094,"creation_date":1349301094,"answer_id":12717426,"question_id":12713247,"body_markdown":"In my opinion you can&#39;t do that. You can&#39;t open the same file to read and write at the same time. You have to open and save the file information in a data structure and then close it. Then you have to work with the data structure in memory and open the file to write results. And when you finish to write you should close it.","title":"Reading and writing from and to the same file in Java","body":"<p>In my opinion you can't do that. You can't open the same file to read and write at the same time. You have to open and save the file information in a data structure and then close it. Then you have to work with the data structure in memory and open the file to write results. And when you finish to write you should close it.</p>\n"},{"tags":[],"owner":{"account_id":1795097,"reputation":175,"user_id":1634668,"display_name":"Morufu Salawu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468395782,"creation_date":1350087327,"answer_id":12868760,"question_id":12713247,"body_markdown":"Your greatest undoing is placing the `br.close();` inside the `while()` loop: You are telling the computer each time it writes to the file to close it immediately, hence the file remained closed and computer will never find it during the next iteration/ execution of the loop. However, I have edit the initial program to this:\r\n\r\n\timport java.io.*;\r\n\timport java.util.StringTokenizer;\r\n\r\n\tpublic class Test\r\n\t{\r\n\t\tprivate FileReader fr;\r\n\t\tprivate BufferedReader br;\r\n\t\tprivate FileWriter fw;\r\n\t\tprivate BufferedWriter bw;\r\n\t\tprivate StringTokenizer strtok;\r\n\t\tprivate String s;\r\n\r\n\t\t//constructor\r\n\t\tpublic Test()  \r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tfw=new FileWriter(&quot;criteria.txt&quot;, true);\r\n\t\t\t\tbw=new BufferedWriter(fw);\r\n\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tfr=new FileReader(&quot;criteria.txt&quot;);\r\n\t\t\t\t\tbr=new BufferedReader(fr);\r\n\r\n\t\t\t\t\t**while((s=br.readLine())!=null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstrtok=new StringTokenizer(s,&quot; &quot;);\r\n\t\t\t\t\t\twhile(strtok.hasMoreTokens())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbw.write(&quot;\\n&quot;+strtok.nextToken());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t br.close();\r\n\t\t\t\t}**\r\n\t\t\t\tcatch(FileNotFoundException e)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;File was not found!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(IOException e)    \r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;No file found!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tbw.close();\r\n\t\t\t}\r\n\t\t\tcatch(FileNotFoundException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Error1!&quot;);\r\n\t\t\t}\r\n\t\t\tcatch(IOException e)    \r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Error2!&quot;);\r\n\t\t\t}\r\n\t\t}   \r\n\r\n\t\tpublic static void main(String[] args) \r\n\t\t{\r\n\t\t\tTest t=new Test();\r\n\t\t}\r\n\t}\r\n\r\nThe folder or directory the file exist doesn&#39;t matter in this case as the program will create a new file named &quot;criteria.txt&quot; in the same folder as the java program; however, you will have to open the file with a text editor to add/ append some data as the file will be blank initially. Subsequent run of the program will now append the already inserted content(s) as a concatenation string on a new line. A new line will be produced each time the program is run. Hope this helps.\r\n","title":"Reading and writing from and to the same file in Java","body":"<p>Your greatest undoing is placing the <code>br.close();</code> inside the <code>while()</code> loop: You are telling the computer each time it writes to the file to close it immediately, hence the file remained closed and computer will never find it during the next iteration/ execution of the loop. However, I have edit the initial program to this:</p>\n\n<pre><code>import java.io.*;\nimport java.util.StringTokenizer;\n\npublic class Test\n{\n    private FileReader fr;\n    private BufferedReader br;\n    private FileWriter fw;\n    private BufferedWriter bw;\n    private StringTokenizer strtok;\n    private String s;\n\n    //constructor\n    public Test()  \n    {\n        try\n        {\n            fw=new FileWriter(\"criteria.txt\", true);\n            bw=new BufferedWriter(fw);\n\n            try\n            {\n                fr=new FileReader(\"criteria.txt\");\n                br=new BufferedReader(fr);\n\n                **while((s=br.readLine())!=null)\n                {\n                    strtok=new StringTokenizer(s,\" \");\n                    while(strtok.hasMoreTokens())\n                    {\n                        bw.write(\"\\n\"+strtok.nextToken());\n                    }\n\n                }\n                     br.close();\n            }**\n            catch(FileNotFoundException e)\n            {\n                System.out.println(\"File was not found!\");\n            }\n            catch(IOException e)    \n            {\n                System.out.println(\"No file found!\");\n            }\n            bw.close();\n        }\n        catch(FileNotFoundException e)\n        {\n            System.out.println(\"Error1!\");\n        }\n        catch(IOException e)    \n        {\n            System.out.println(\"Error2!\");\n        }\n    }   \n\n    public static void main(String[] args) \n    {\n        Test t=new Test();\n    }\n}\n</code></pre>\n\n<p>The folder or directory the file exist doesn't matter in this case as the program will create a new file named \"criteria.txt\" in the same folder as the java program; however, you will have to open the file with a text editor to add/ append some data as the file will be blank initially. Subsequent run of the program will now append the already inserted content(s) as a concatenation string on a new line. A new line will be produced each time the program is run. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694551285,"creation_date":1694551285,"answer_id":77092570,"question_id":12713247,"body_markdown":"you can use **RandomAccessFile** - it can read, write same file same time as seeking and getting current cursor position","title":"Reading and writing from and to the same file in Java","body":"<p>you can use <strong>RandomAccessFile</strong> - it can read, write same file same time as seeking and getting current cursor position</p>\n"}],"owner":{"account_id":1795092,"reputation":263,"user_id":1634663,"accept_rate":100,"display_name":"Lavinia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45304,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":12713509,"answer_count":4,"score":13,"last_activity_date":1694551285,"creation_date":1349283436,"question_id":12713247,"body_markdown":"I want to read from  `criteria.txt` file, to tokenize and append at the end of the same file the tokens. The program throws an exception: `No file found!` I do not know where my mistake is. Any suggestion would help me. Thank you in advance!\r\n\r\nHere is my code:\r\n\r\n    import java.io.*;\r\n    import java.util.StringTokenizer;\r\n\r\n    public class Test\r\n    {\r\n\t    private FileReader fr;\r\n\t    private BufferedReader br;\r\n\t    private FileWriter fw;\r\n\t    private BufferedWriter bw;\r\n\t    private StringTokenizer strtok;\r\n\t    private String s;\r\n\t\r\n\t    //constructor\r\n\t    public Test()  \r\n\t    {\r\n\t\t    try\r\n\t\t    {\r\n\t\t    \tfw=new FileWriter(&quot;criteria.txt&quot;, true);\r\n\t\t    \tbw=new BufferedWriter(fw);\r\n\t\t\t\r\n\t\t    \ttry\r\n\t\t    \t{\r\n\t\t\t    \tfr=new FileReader(&quot;criteria.txt&quot;);\r\n\t\t\t    \tbr=new BufferedReader(fr);\r\n\t\t\t\t\r\n\t\t\t    \twhile((s=br.readLine())!=null)\r\n\t\t\t    \t{\r\n\t\t    \t\t\tstrtok=new StringTokenizer(s,&quot; &quot;);\r\n\t\t    \t\t\twhile(strtok.hasMoreTokens())\r\n\t\t\t    \t\t{\r\n\t\t\t\t    \t\tbw.write(&quot;\\n&quot;+strtok.nextToken());\r\n\t\t\t\t    \t}\r\n\t\t\t\t    \tbr.close();\r\n\t\t\t    \t}\r\n\t\t    \t}\r\n\t\t    \tcatch(FileNotFoundException e)\r\n\t\t    \t{\r\n\t\t    \t\tSystem.out.println(&quot;File was not found!&quot;);\r\n\t    \t\t}\r\n\t    \t\tcatch(IOException e)\t\r\n\t    \t\t{\r\n\t    \t\t\tSystem.out.println(&quot;No file found!&quot;);\r\n\t    \t\t}\r\n\t\t\t\r\n\t    \t\tbw.close();\r\n\t    \t}\r\n\t    \tcatch(FileNotFoundException e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Error1!&quot;);\r\n    \t\t}\r\n    \t\tcatch(IOException e)\t\r\n    \t\t{\r\n\t    \t\tSystem.out.println(&quot;Error2!&quot;);\r\n\t    \t}\r\n    \t}\t\r\n\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tTest t=new Test();\r\n    \t}\r\n    }\r\n","title":"Reading and writing from and to the same file in Java","body":"<p>I want to read from  <code>criteria.txt</code> file, to tokenize and append at the end of the same file the tokens. The program throws an exception: <code>No file found!</code> I do not know where my mistake is. Any suggestion would help me. Thank you in advance!</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.io.*;\nimport java.util.StringTokenizer;\n\npublic class Test\n{\n    private FileReader fr;\n    private BufferedReader br;\n    private FileWriter fw;\n    private BufferedWriter bw;\n    private StringTokenizer strtok;\n    private String s;\n\n    //constructor\n    public Test()  \n    {\n        try\n        {\n            fw=new FileWriter(\"criteria.txt\", true);\n            bw=new BufferedWriter(fw);\n\n            try\n            {\n                fr=new FileReader(\"criteria.txt\");\n                br=new BufferedReader(fr);\n\n                while((s=br.readLine())!=null)\n                {\n                    strtok=new StringTokenizer(s,\" \");\n                    while(strtok.hasMoreTokens())\n                    {\n                        bw.write(\"\\n\"+strtok.nextToken());\n                    }\n                    br.close();\n                }\n            }\n            catch(FileNotFoundException e)\n            {\n                System.out.println(\"File was not found!\");\n            }\n            catch(IOException e)    \n            {\n                System.out.println(\"No file found!\");\n            }\n\n            bw.close();\n        }\n        catch(FileNotFoundException e)\n        {\n            System.out.println(\"Error1!\");\n        }\n        catch(IOException e)    \n        {\n            System.out.println(\"Error2!\");\n        }\n    }   \n\n    public static void main(String[] args) \n    {\n        Test t=new Test();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1507189342,"creation_date":1352478455,"answer_id":13312005,"question_id":13311856,"body_markdown":"you have to read from the `ZipInputStream`:\r\n\r\n    StringBuilder s = new StringBuilder();\r\n    byte[] buffer = new byte[1024];\r\n    int read = 0;\r\n    ZipEntry entry;\r\n    while ((entry = zis.getNextEntry())!= null) {\r\n          while ((read = zis.read(buffer, 0, 1024)) &gt;= 0) {\r\n    \t       s.append(new String(buffer, 0, read));\r\n          }\r\n    }\r\n\t\t\r\nWhen you exit from the inner `while` save the `StringBuilder` content, and reset it.","title":"Write ZipEntry Data To String","body":"<p>you have to read from the <code>ZipInputStream</code>:</p>\n\n<pre><code>StringBuilder s = new StringBuilder();\nbyte[] buffer = new byte[1024];\nint read = 0;\nZipEntry entry;\nwhile ((entry = zis.getNextEntry())!= null) {\n      while ((read = zis.read(buffer, 0, 1024)) &gt;= 0) {\n           s.append(new String(buffer, 0, read));\n      }\n}\n</code></pre>\n\n<p>When you exit from the inner <code>while</code> save the <code>StringBuilder</code> content, and reset it.</p>\n"},{"tags":[],"owner":{"account_id":1211515,"reputation":949,"user_id":1179948,"accept_rate":100,"display_name":"Igor Bljahhin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459345577,"creation_date":1459345577,"answer_id":36310757,"question_id":13311856,"body_markdown":"Here is the approach, which does not break Unicode characters:\r\n\r\n    final ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(content));\r\n    final InputStreamReader isr = new InputStreamReader(zis);\r\n    final StringBuilder sb = new StringBuilder();\r\n    final char[] buffer = new char[1024];\r\n\r\n    while (isr.read(buffer, 0, buffer.length) != -1) {\r\n        sb.append(new String(buffer));\r\n    }\r\n\r\n    System.out.println(sb.toString());","title":"Write ZipEntry Data To String","body":"<p>Here is the approach, which does not break Unicode characters:</p>\n\n<pre><code>final ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(content));\nfinal InputStreamReader isr = new InputStreamReader(zis);\nfinal StringBuilder sb = new StringBuilder();\nfinal char[] buffer = new char[1024];\n\nwhile (isr.read(buffer, 0, buffer.length) != -1) {\n    sb.append(new String(buffer));\n}\n\nSystem.out.println(sb.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145589,"reputation":8293,"user_id":355491,"display_name":"multitask landscape"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632004690,"creation_date":1509268471,"answer_id":46998548,"question_id":13311856,"body_markdown":"With defined encoding (e.g. UTF-8) and without creation of Strings:\r\n\r\n    import java.util.zip.ZipInputStream;\r\n    import java.util.zip.ZipEntry;\r\n    import java.io.ByteArrayOutputStream;\r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n    \r\n    try (\r\n      ZipInputStream zis = new ZipInputStream(input, UTF_8); \r\n      ByteArrayOutputStream baos = new ByteArrayOutputStream()\r\n    ) {\r\n      byte[] buffer = new byte[1024];\r\n      int read = 0;\r\n      ZipEntry entry;\r\n      while ((entry = zis.getNextEntry()) != null)\r\n        while ((read = zis.read(buffer, 0, buffer.length)) &gt; 0)\r\n          baos.write(buffer, 0, read);\r\n      String content = baos.toString(UTF_8.name());\r\n    }","title":"Write ZipEntry Data To String","body":"<p>With defined encoding (e.g. UTF-8) and without creation of Strings:</p>\n<pre><code>import java.util.zip.ZipInputStream;\nimport java.util.zip.ZipEntry;\nimport java.io.ByteArrayOutputStream;\nimport static java.nio.charset.StandardCharsets.UTF_8;\n\ntry (\n  ZipInputStream zis = new ZipInputStream(input, UTF_8); \n  ByteArrayOutputStream baos = new ByteArrayOutputStream()\n) {\n  byte[] buffer = new byte[1024];\n  int read = 0;\n  ZipEntry entry;\n  while ((entry = zis.getNextEntry()) != null)\n    while ((read = zis.read(buffer, 0, buffer.length)) &gt; 0)\n      baos.write(buffer, 0, read);\n  String content = baos.toString(UTF_8.name());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1404439,"reputation":284,"user_id":1332543,"accept_rate":45,"display_name":"Kreender"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1579186452,"creation_date":1579186452,"answer_id":59772251,"question_id":13311856,"body_markdown":"I would use apache&#39;s IOUtils\r\n\r\n    ZipEntry entry;\r\n    InputStream input = params[0];\r\n    ZipInputStream zis = new ZipInputStream(input);\r\n\r\n    try {\r\n      while ((entry = zis.getNextEntry())!= null) {\r\n        String entryAsString = IOUtils.toString(zis, StandardCharsets.UTF_8);\r\n      }\r\n    } catch (IOException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n    }\r\n    IOUtils.closeQuietly(zis);","title":"Write ZipEntry Data To String","body":"<p>I would use apache's IOUtils</p>\n\n<pre><code>ZipEntry entry;\nInputStream input = params[0];\nZipInputStream zis = new ZipInputStream(input);\n\ntry {\n  while ((entry = zis.getNextEntry())!= null) {\n    String entryAsString = IOUtils.toString(zis, StandardCharsets.UTF_8);\n  }\n} catch (IOException e) {\n  // TODO Auto-generated catch block\n  e.printStackTrace();\n}\nIOUtils.closeQuietly(zis);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180793,"reputation":1541,"user_id":1155758,"accept_rate":70,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639025533,"creation_date":1639025533,"answer_id":70284869,"question_id":13311856,"body_markdown":"Kotlin version but can be used in Java as well\r\n\r\n    val zipInputStream = ZipInputStream(inStream)\r\n    var zipEntry = zipInputStream.nextEntry\r\n    while(zipEntry != null) {\r\n        println(&quot;Name of file : &quot; + zipEntry.name)\r\n        val fileContent = String(zipInputStream.readAllBytes(), StandardCharsets.UTF_8)\r\n        println(&quot;File content : $fileContent&quot;)\r\n        zipEntry = zipInputStream.nextEntry\r\n    }","title":"Write ZipEntry Data To String","body":"<p>Kotlin version but can be used in Java as well</p>\n<pre><code>val zipInputStream = ZipInputStream(inStream)\nvar zipEntry = zipInputStream.nextEntry\nwhile(zipEntry != null) {\n    println(&quot;Name of file : &quot; + zipEntry.name)\n    val fileContent = String(zipInputStream.readAllBytes(), StandardCharsets.UTF_8)\n    println(&quot;File content : $fileContent&quot;)\n    zipEntry = zipInputStream.nextEntry\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694550825,"creation_date":1694550825,"answer_id":77092533,"question_id":13311856,"body_markdown":"If the file is known to be small, you can just use `zis.readAllBytes()` and construct a `new String` with it.\r\n\r\nFor instance, in unit testing a file that only contains 1 xml file, I wrote :\r\n\r\n```java\r\nZipInputStream zis = new ZipInputStream(new FileInputStream(yourZipFile));\r\nZipEntry zipEntry = zis.getNextEntry();\r\nString xmlString = new String(zis.readAllBytes());\r\nzis.closeEntry();\r\nzis.close();\r\n```\r\n\r\nThe important thing to remember is to first read the entry (and probably use this information to get the file name) and then read the file content because   in a zip file, the data is organized as a succession of (file entry then file data).\r\n\r\nYou can refer to [Baeldung&#39;s Zipping and Unzipping in Java](https://www.baeldung.com/java-compress-and-uncompress) for more details and examples with multiple files in the zip.","title":"Write ZipEntry Data To String","body":"<p>If the file is known to be small, you can just use <code>zis.readAllBytes()</code> and construct a <code>new String</code> with it.</p>\n<p>For instance, in unit testing a file that only contains 1 xml file, I wrote :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZipInputStream zis = new ZipInputStream(new FileInputStream(yourZipFile));\nZipEntry zipEntry = zis.getNextEntry();\nString xmlString = new String(zis.readAllBytes());\nzis.closeEntry();\nzis.close();\n</code></pre>\n<p>The important thing to remember is to first read the entry (and probably use this information to get the file name) and then read the file content because   in a zip file, the data is organized as a succession of (file entry then file data).</p>\n<p>You can refer to <a href=\"https://www.baeldung.com/java-compress-and-uncompress\" rel=\"nofollow noreferrer\">Baeldung's Zipping and Unzipping in Java</a> for more details and examples with multiple files in the zip.</p>\n"}],"owner":{"account_id":238425,"reputation":15741,"user_id":507313,"accept_rate":75,"display_name":"StuStirling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17113,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13312005,"answer_count":6,"score":16,"last_activity_date":1694550825,"creation_date":1352478013,"question_id":13311856,"body_markdown":"I have retrieved a zip entry from a zip file like so.\r\n\r\n    InputStream input = params[0];\r\n    ZipInputStream zis = new ZipInputStream(input);\r\n\t\t\r\n    ZipEntry entry;\r\n    try {\r\n        while ((entry = zis.getNextEntry())!= null) {\r\n    \r\n        }\r\n    } catch (IOException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\nThis works fine and its getting my `ZipEntry` no problem. \r\n\r\n**My Question**\r\n\r\nHow can I get the contents of these `ZipEntries` into a String as they are xml and csv files. ","title":"Write ZipEntry Data To String","body":"<p>I have retrieved a zip entry from a zip file like so.</p>\n\n<pre><code>InputStream input = params[0];\nZipInputStream zis = new ZipInputStream(input);\n\nZipEntry entry;\ntry {\n    while ((entry = zis.getNextEntry())!= null) {\n\n    }\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>This works fine and its getting my <code>ZipEntry</code> no problem. </p>\n\n<p><strong>My Question</strong></p>\n\n<p>How can I get the contents of these <code>ZipEntries</code> into a String as they are xml and csv files. </p>\n"},{"tags":["java","loops","sqlite"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694463370,"post_id":77084549,"comment_id":135891676,"body_markdown":"What exactly is your question?","body":"What exactly is your question?"}],"answers":[{"tags":[],"owner":{"account_id":7555203,"reputation":43,"user_id":5735131,"display_name":"Dawine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694549344,"creation_date":1694549344,"answer_id":77092389,"question_id":77084549,"body_markdown":"I have found the solution myself\r\n\r\n    private void setupChartView() {\r\n        RadarChart radarChart = findViewById(R.id.radarChart);\r\n        RadarData radarData = new RadarData();\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        int currentYear = calendar.get(Calendar.YEAR);\r\n        SQLiteDatabase db = new DatabaseHelper(this).getWritableDatabase();\r\n        Cursor getCustomer = db.rawQuery(&quot;select DISTINCT &quot; + C_SALES_CUSTOMER + &quot; FROM &quot; + TABLESALES, null);\r\n\r\n        for(int i=0; i&lt;getCustomer.getCount(); i++) {\r\n            ArrayList&lt;RadarEntry&gt; dataEntries = new ArrayList&lt;&gt;();\r\n            getCustomer.moveToNext();\r\n            @SuppressLint(&quot;Range&quot;)\r\n            String customer =  getCustomer.getString(getCustomer.getColumnIndex(C_SALES_CUSTOMER));\r\n            Cursor getSales = db.rawQuery(&quot;select &quot; + C_SALES_TOTAL + &quot; from &quot; + TABLESALES + &quot; where &quot; + C_SALES_CUSTOMER + &quot; = &#39;&quot; + customer + &quot;&#39;&quot;, null);\r\n            Toast.makeText(this, String.valueOf(getSales.getCount()), Toast.LENGTH_SHORT).show();\r\n            for(int j=0; j&lt;getSales.getCount(); j++) {\r\n\r\n                getSales.moveToNext();\r\n                @SuppressLint(&quot;Range&quot;)\r\n                String sales =  getSales.getString(getSales.getColumnIndex(C_SALES_TOTAL));\r\n                Toast.makeText(this, sales, Toast.LENGTH_SHORT).show();\r\n                RadarEntry radarEntry = new RadarEntry(Integer.valueOf(sales));\r\n                dataEntries.add(radarEntry);\r\n            }\r\n            RadarDataSet radarDataSet = new RadarDataSet(dataEntries, customer);\r\n            int color= ((int)(Math.random()*16777215)) | (0xFF &lt;&lt; 24);\r\n            radarDataSet.setColor(color);\r\n            radarData.addDataSet(radarDataSet);\r\n        }\r\n\r\n        radarChart.setData(radarData);\r\n        radarChart.getDescription().setEnabled(false);\r\n\r\n        Legend legend = radarChart.getLegend();\r\n        legend.setXEntrySpace(7f);\r\n        legend.setYEntrySpace(5f);\r\n        legend.setYOffset(75f);\r\n        legend.setTextSize(16f);\r\n        legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);\r\n    }","title":"RadarChart with Sqlite Android Studio using nested loop","body":"<p>I have found the solution myself</p>\n<pre><code>private void setupChartView() {\n    RadarChart radarChart = findViewById(R.id.radarChart);\n    RadarData radarData = new RadarData();\n\n    Calendar calendar = Calendar.getInstance();\n    int currentYear = calendar.get(Calendar.YEAR);\n    SQLiteDatabase db = new DatabaseHelper(this).getWritableDatabase();\n    Cursor getCustomer = db.rawQuery(&quot;select DISTINCT &quot; + C_SALES_CUSTOMER + &quot; FROM &quot; + TABLESALES, null);\n\n    for(int i=0; i&lt;getCustomer.getCount(); i++) {\n        ArrayList&lt;RadarEntry&gt; dataEntries = new ArrayList&lt;&gt;();\n        getCustomer.moveToNext();\n        @SuppressLint(&quot;Range&quot;)\n        String customer =  getCustomer.getString(getCustomer.getColumnIndex(C_SALES_CUSTOMER));\n        Cursor getSales = db.rawQuery(&quot;select &quot; + C_SALES_TOTAL + &quot; from &quot; + TABLESALES + &quot; where &quot; + C_SALES_CUSTOMER + &quot; = '&quot; + customer + &quot;'&quot;, null);\n        Toast.makeText(this, String.valueOf(getSales.getCount()), Toast.LENGTH_SHORT).show();\n        for(int j=0; j&lt;getSales.getCount(); j++) {\n\n            getSales.moveToNext();\n            @SuppressLint(&quot;Range&quot;)\n            String sales =  getSales.getString(getSales.getColumnIndex(C_SALES_TOTAL));\n            Toast.makeText(this, sales, Toast.LENGTH_SHORT).show();\n            RadarEntry radarEntry = new RadarEntry(Integer.valueOf(sales));\n            dataEntries.add(radarEntry);\n        }\n        RadarDataSet radarDataSet = new RadarDataSet(dataEntries, customer);\n        int color= ((int)(Math.random()*16777215)) | (0xFF &lt;&lt; 24);\n        radarDataSet.setColor(color);\n        radarData.addDataSet(radarDataSet);\n    }\n\n    radarChart.setData(radarData);\n    radarChart.getDescription().setEnabled(false);\n\n    Legend legend = radarChart.getLegend();\n    legend.setXEntrySpace(7f);\n    legend.setYEntrySpace(5f);\n    legend.setYOffset(75f);\n    legend.setTextSize(16f);\n    legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);\n}\n</code></pre>\n"}],"owner":{"account_id":7555203,"reputation":43,"user_id":5735131,"display_name":"Dawine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694549344,"creation_date":1694463183,"question_id":77084549,"body_markdown":"I am struggling with this radar chart. I want to put every customer in the radar chart.  Only one appears, and all the value for the others are added for this single customer. Can someone help me please?\r\n\r\n```java\r\nprivate void setupChartView() {\r\n       RadarChart radarChart = findViewById(R.id.radarChart);\r\n\r\n        ArrayList&lt;RadarEntry&gt; dataEntries = new ArrayList&lt;&gt;();\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        int currentYear = calendar.get(Calendar.YEAR);\r\n        SQLiteDatabase db = new DatabaseHelper(this).getWritableDatabase();\r\n        Cursor getCustomer = db.rawQuery(&quot;select DISTINCT &quot; + C_SALES_CUSTOMER + &quot; FROM &quot; + TABLESALES, null);\r\n\r\n        for(int i=0; i&lt;getCustomer.getCount(); i++) {\r\n\r\n            getCustomer.moveToNext();\r\n            @SuppressLint(&quot;Range&quot;)\r\n            String customer =  getCustomer.getString(getCustomer.getColumnIndex(C_SALES_CUSTOMER));\r\n\r\n            Cursor getSales = db.rawQuery(&quot;select * from &quot; + TABLESALES + &quot; where &quot; + C_SALES_CUSTOMER + &quot; like &#39;%&quot; + customer + &quot;%&#39;&quot;, null);\r\n            for(int j=0; j&lt;getSales.getCount(); j++) {\r\n                getSales.moveToNext();\r\n                @SuppressLint(&quot;Range&quot;)\r\n                String sales =  getSales.getString(getSales.getColumnIndex(C_SALES_TOTAL));\r\n                RadarEntry radarEntry = new RadarEntry(Integer.valueOf(sales));\r\n                dataEntries.add(radarEntry);\r\n\r\n                RadarDataSet radarDataSet = new RadarDataSet(dataEntries, customer);\r\n                RadarData radarData = new RadarData();\r\n                radarData.addDataSet(radarDataSet);\r\n                radarChart.setData(radarData);\r\n            }\r\n        }\r\n        radarChart.getDescription().setEnabled(false);\r\n\r\n        Legend legend = radarChart.getLegend();\r\n        legend.setXEntrySpace(7f);\r\n        legend.setYEntrySpace(5f);\r\n        legend.setYOffset(75f);\r\n        legend.setTextSize(16f);\r\n        legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);\r\n}\r\n```","title":"RadarChart with Sqlite Android Studio using nested loop","body":"<p>I am struggling with this radar chart. I want to put every customer in the radar chart.  Only one appears, and all the value for the others are added for this single customer. Can someone help me please?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void setupChartView() {\n       RadarChart radarChart = findViewById(R.id.radarChart);\n\n        ArrayList&lt;RadarEntry&gt; dataEntries = new ArrayList&lt;&gt;();\n\n        Calendar calendar = Calendar.getInstance();\n        int currentYear = calendar.get(Calendar.YEAR);\n        SQLiteDatabase db = new DatabaseHelper(this).getWritableDatabase();\n        Cursor getCustomer = db.rawQuery(&quot;select DISTINCT &quot; + C_SALES_CUSTOMER + &quot; FROM &quot; + TABLESALES, null);\n\n        for(int i=0; i&lt;getCustomer.getCount(); i++) {\n\n            getCustomer.moveToNext();\n            @SuppressLint(&quot;Range&quot;)\n            String customer =  getCustomer.getString(getCustomer.getColumnIndex(C_SALES_CUSTOMER));\n\n            Cursor getSales = db.rawQuery(&quot;select * from &quot; + TABLESALES + &quot; where &quot; + C_SALES_CUSTOMER + &quot; like '%&quot; + customer + &quot;%'&quot;, null);\n            for(int j=0; j&lt;getSales.getCount(); j++) {\n                getSales.moveToNext();\n                @SuppressLint(&quot;Range&quot;)\n                String sales =  getSales.getString(getSales.getColumnIndex(C_SALES_TOTAL));\n                RadarEntry radarEntry = new RadarEntry(Integer.valueOf(sales));\n                dataEntries.add(radarEntry);\n\n                RadarDataSet radarDataSet = new RadarDataSet(dataEntries, customer);\n                RadarData radarData = new RadarData();\n                radarData.addDataSet(radarDataSet);\n                radarChart.setData(radarData);\n            }\n        }\n        radarChart.getDescription().setEnabled(false);\n\n        Legend legend = radarChart.getLegend();\n        legend.setXEntrySpace(7f);\n        legend.setYEntrySpace(5f);\n        legend.setYOffset(75f);\n        legend.setTextSize(16f);\n        legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);\n}\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":226736,"reputation":2243,"user_id":487940,"accept_rate":79,"display_name":"harsimranb"},"score":0,"creation_date":1694490802,"post_id":77085994,"comment_id":135894067,"body_markdown":"If there was a way to ignore the byte-array size limits or save this in chunks, it could solve the problem.  But haven&#39;t found anything on this.","body":"If there was a way to ignore the byte-array size limits or save this in chunks, it could solve the problem.  But haven&#39;t found anything on this."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1694514620,"post_id":77085994,"comment_id":135897719,"body_markdown":"Try forking POI and changing POIFSFileSystem to use a FileBackedDataSource instead of a ByteArrayBackedDataSource. Byte Arrays can only support 2Gb but files can support much larger data sets.","body":"Try forking POI and changing POIFSFileSystem to use a FileBackedDataSource instead of a ByteArrayBackedDataSource. Byte Arrays can only support 2Gb but files can support much larger data sets."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1694517479,"post_id":77085994,"comment_id":135898318,"body_markdown":"POI already has TempFilePOIFSFileSystem - use this instead of POIFSFileSystem. It should support larger data than POIFSFileSystem.","body":"POI already has TempFilePOIFSFileSystem - use this instead of POIFSFileSystem. It should support larger data than POIFSFileSystem."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1694517886,"post_id":77085994,"comment_id":135898399,"body_markdown":"So I found some history and it traces back to https://stackoverflow.com/questions/55658495/apache-poi-encrypting-xlsx-file-greater-than-2gb-fails - it seems like TempFilePOIFSFileSystem is not likely to be enough. POI uses ints to track size and these are likely to overflow when the data is too big.","body":"So I found some history and it traces back to <a href=\"https://stackoverflow.com/questions/55658495/apache-poi-encrypting-xlsx-file-greater-than-2gb-fails\" title=\"apache poi encrypting xlsx file greater than 2gb fails\">stackoverflow.com/questions/55658495/&hellip;</a> - it seems like TempFilePOIFSFileSystem is not likely to be enough. POI uses ints to track size and these are likely to overflow when the data is too big."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1694518575,"post_id":77085994,"comment_id":135898556,"body_markdown":"There have been a few code changes since that previous issue - so it might still be worth trying TempFilePOIFSFileSystem to see if it works.","body":"There have been a few code changes since that previous issue - so it might still be worth trying TempFilePOIFSFileSystem to see if it works."},{"owner":{"account_id":226736,"reputation":2243,"user_id":487940,"accept_rate":79,"display_name":"harsimranb"},"score":0,"creation_date":1694533517,"post_id":77085994,"comment_id":135902222,"body_markdown":"Thank you! `TempFilePOIFSFileSystem` worked for file-size upwards of 3GB. You can add this as the answer.","body":"Thank you! <code>TempFilePOIFSFileSystem</code> worked for file-size upwards of 3GB. You can add this as the answer."}],"answers":[{"tags":[],"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694549342,"creation_date":1694549342,"answer_id":77092388,"question_id":77085994,"body_markdown":"POI 5.2.3 has TempFilePOIFSFileSystem - a subclass of POIFSFileSystem. TempFilePOIFSFileSystem should be used when encrypting very large files. POIFSFileSystem uses a byte array to process the data and this can only handle 2Gb of decompressed data.","title":"Apache POI Password-Protect Large 2GB PowerPoint File","body":"<p>POI 5.2.3 has TempFilePOIFSFileSystem - a subclass of POIFSFileSystem. TempFilePOIFSFileSystem should be used when encrypting very large files. POIFSFileSystem uses a byte array to process the data and this can only handle 2Gb of decompressed data.</p>\n"}],"owner":{"account_id":226736,"reputation":2243,"user_id":487940,"accept_rate":79,"display_name":"harsimranb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77092388,"answer_count":1,"score":0,"last_activity_date":1694549342,"creation_date":1694490706,"question_id":77085994,"body_markdown":"I am trying to password-encrypt very large PPTX files (2GB) using Apache POI.  How can I use Apache POI Standard Encryption to encrypt 2GB PPTX files (there are many videos embedded in the PowerPoint)?\r\n\r\nI&#39;ve set `IOUtils.setByteArrayMaxOverride(Integer.MAX_VALUE);` (to the maximum allowed value) and also played around with other [large file configurations](https://poi.apache.org/components/configuration.html):\r\n```\r\nZipSecureFile.setMinInflateRatio(-1.0);\r\nZipInputStreamZipEntrySource.setThresholdBytesForTempFiles(50000000);\r\nZipPackage.setUseTempFilePackageParts(true);\r\n```\r\nRegardless, I&#39;m getting the same **exception**:\r\n```\r\nException in thread &quot;main&quot; org.apache.poi.util.RecordFormatException: Can&#39;t allocate an array &gt; 2147483647\r\n        at org.apache.poi.util.IOUtils.safelyAllocateCheck(IOUtils.java:559)\r\n        at org.apache.poi.util.IOUtils.safelyAllocate(IOUtils.java:547)\r\n        at org.apache.poi.poifs.nio.ByteArrayBackedDataSource.extend(ByteArrayBackedDataSource.java:86)\r\n        at org.apache.poi.poifs.nio.ByteArrayBackedDataSource.write(ByteArrayBackedDataSource.java:63)\r\n        at org.apache.poi.poifs.filesystem.POIFSFileSystem.createBlockIfNeeded(POIFSFileSystem.java:493)\r\n        at org.apache.poi.poifs.filesystem.POIFSStream$StreamBlockByteBuffer.createBlockIfNeeded(POIFSStream.java:272)\r\n        at org.apache.poi.poifs.filesystem.POIFSStream$StreamBlockByteBuffer.write(POIFSStream.java:294)\r\n        at org.apache.poi.poifs.filesystem.DocumentOutputStream.write(DocumentOutputStream.java:144)\r\n        at org.apache.poi.poifs.filesystem.DocumentOutputStream.write(DocumentOutputStream.java:124)\r\n        at java.base/java.io.FilterOutputStream.write(FilterOutputStream.java:87)\r\n        at java.base/java.io.FilterOutputStream.write(FilterOutputStream.java:137)\r\n        at org.apache.poi.util.LittleEndianOutputStream.write(LittleEndianOutputStream.java:89)\r\n        at org.apache.poi.util.IOUtils.copy(IOUtils.java:410)\r\n        at org.apache.poi.util.IOUtils.copy(IOUtils.java:387)\r\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.processPOIFSWriterEvent(StandardEncryptor.java:201)\r\n        at org.apache.poi.poifs.filesystem.POIFSDocument.&lt;init&gt;(POIFSDocument.java:112)\r\n        at org.apache.poi.poifs.filesystem.DirectoryNode.createDocument(DirectoryNode.java:380)\r\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.writeToPOIFS(StandardEncryptor.java:185)\r\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.close(StandardEncryptor.java:175)\r\n        at Program.encryptPPTXFile(Program.java:108)\r\n```\r\n\r\n**Here is my code:**\r\n```\r\ntry(POIFSFileSystem fs = new POIFSFileSystem()) {\r\n    EncryptionInfo info = new EncryptionInfo(EncryptionMode.standard);\r\n    Encryptor encryptor = info.getEncryptor();\r\n    encryptor.confirmPassword(password);\r\n\r\n    // Read in an existing OOXML file and write to encrypted output stream\r\n    try (OPCPackage opc = OPCPackage.open(inputPath);\r\n        OutputStream os = encryptor.getDataStream(fs)) {\r\n        opc.save(os);\r\n    }\r\n\r\n    // Write out the encrypted version\r\n    try (FileOutputStream fos = new FileOutputStream(outputPath)) {\r\n        fs.writeFilesystem(fos);\r\n    }\r\n\r\n    System.out.println(&quot;Document successfully encrypted&quot;);\r\n\r\n} catch (IOException | GeneralSecurityException | InvalidFormatException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"Apache POI Password-Protect Large 2GB PowerPoint File","body":"<p>I am trying to password-encrypt very large PPTX files (2GB) using Apache POI.  How can I use Apache POI Standard Encryption to encrypt 2GB PPTX files (there are many videos embedded in the PowerPoint)?</p>\n<p>I've set <code>IOUtils.setByteArrayMaxOverride(Integer.MAX_VALUE);</code> (to the maximum allowed value) and also played around with other <a href=\"https://poi.apache.org/components/configuration.html\" rel=\"nofollow noreferrer\">large file configurations</a>:</p>\n<pre><code>ZipSecureFile.setMinInflateRatio(-1.0);\nZipInputStreamZipEntrySource.setThresholdBytesForTempFiles(50000000);\nZipPackage.setUseTempFilePackageParts(true);\n</code></pre>\n<p>Regardless, I'm getting the same <strong>exception</strong>:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.poi.util.RecordFormatException: Can't allocate an array &gt; 2147483647\n        at org.apache.poi.util.IOUtils.safelyAllocateCheck(IOUtils.java:559)\n        at org.apache.poi.util.IOUtils.safelyAllocate(IOUtils.java:547)\n        at org.apache.poi.poifs.nio.ByteArrayBackedDataSource.extend(ByteArrayBackedDataSource.java:86)\n        at org.apache.poi.poifs.nio.ByteArrayBackedDataSource.write(ByteArrayBackedDataSource.java:63)\n        at org.apache.poi.poifs.filesystem.POIFSFileSystem.createBlockIfNeeded(POIFSFileSystem.java:493)\n        at org.apache.poi.poifs.filesystem.POIFSStream$StreamBlockByteBuffer.createBlockIfNeeded(POIFSStream.java:272)\n        at org.apache.poi.poifs.filesystem.POIFSStream$StreamBlockByteBuffer.write(POIFSStream.java:294)\n        at org.apache.poi.poifs.filesystem.DocumentOutputStream.write(DocumentOutputStream.java:144)\n        at org.apache.poi.poifs.filesystem.DocumentOutputStream.write(DocumentOutputStream.java:124)\n        at java.base/java.io.FilterOutputStream.write(FilterOutputStream.java:87)\n        at java.base/java.io.FilterOutputStream.write(FilterOutputStream.java:137)\n        at org.apache.poi.util.LittleEndianOutputStream.write(LittleEndianOutputStream.java:89)\n        at org.apache.poi.util.IOUtils.copy(IOUtils.java:410)\n        at org.apache.poi.util.IOUtils.copy(IOUtils.java:387)\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.processPOIFSWriterEvent(StandardEncryptor.java:201)\n        at org.apache.poi.poifs.filesystem.POIFSDocument.&lt;init&gt;(POIFSDocument.java:112)\n        at org.apache.poi.poifs.filesystem.DirectoryNode.createDocument(DirectoryNode.java:380)\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.writeToPOIFS(StandardEncryptor.java:185)\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.close(StandardEncryptor.java:175)\n        at Program.encryptPPTXFile(Program.java:108)\n</code></pre>\n<p><strong>Here is my code:</strong></p>\n<pre><code>try(POIFSFileSystem fs = new POIFSFileSystem()) {\n    EncryptionInfo info = new EncryptionInfo(EncryptionMode.standard);\n    Encryptor encryptor = info.getEncryptor();\n    encryptor.confirmPassword(password);\n\n    // Read in an existing OOXML file and write to encrypted output stream\n    try (OPCPackage opc = OPCPackage.open(inputPath);\n        OutputStream os = encryptor.getDataStream(fs)) {\n        opc.save(os);\n    }\n\n    // Write out the encrypted version\n    try (FileOutputStream fos = new FileOutputStream(outputPath)) {\n        fs.writeFilesystem(fos);\n    }\n\n    System.out.println(&quot;Document successfully encrypted&quot;);\n\n} catch (IOException | GeneralSecurityException | InvalidFormatException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","sockets","io"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1694548151,"post_id":77092172,"comment_id":135904981,"body_markdown":"Have you considered having two threads for each client, one for reading from the socket and one for writing to it? The reader thread is normally blocking on a read.","body":"Have you considered having two threads for each client, one for reading from the socket and one for writing to it? The reader thread is normally blocking on a read."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1694548317,"post_id":77092172,"comment_id":135905024,"body_markdown":"@PresidentJamesK.Polk I have, but I still need to figure out how to avoid both checking the condition all the time and introducing synchronizers shared by clients and the server. When is it time to read?","body":"@PresidentJamesK.Polk I have, but I still need to figure out how to avoid both checking the condition all the time and introducing synchronizers shared by clients and the server. When is it time to read?"},{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1694551029,"post_id":77092172,"comment_id":135905505,"body_markdown":"Sockets operate in blocking mode by default.  So you could simply read from it unconditionally and let it block the calling thread until data arrives. If you don&#39;t want to block the calling thread, then you will have to use non-blocking/asynchronous I/O, such as via a `Selector`, to notify you when data is available to read.","body":"Sockets operate in blocking mode by default.  So you could simply read from it unconditionally and let it block the calling thread until data arrives. If you don&#39;t want to block the calling thread, then you will have to use non-blocking/asynchronous I/O, such as via a <code>Selector</code>, to notify you when data is available to read."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694564166,"post_id":77092172,"comment_id":135906983,"body_markdown":"&quot;How does that server know whether a client wrote something so that it can read from the socket&#39;s input stream?&quot;: *by reading from the input stream.* No doubt someone will suggest `InputStream.available()`, but that doesn&#39;t guarantee that a complete message is available, unless you magically know the length in advance, so it isn&#39;t a viable solution.","body":"&quot;How does that server know whether a client wrote something so that it can read from the socket&#39;s input stream?&quot;: <i>by reading from the input stream.</i> No doubt someone will suggest <code>InputStream.available()</code>, but that doesn&#39;t guarantee that a complete message is available, unless you magically know the length in advance, so it isn&#39;t a viable solution."}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694547130,"creation_date":1694547130,"question_id":77092172,"body_markdown":"I&#39;m trying to implement a ridiculously simplistic chat client and a chat server. My goal is to learn to get comfortable with `Socket`s rather than come up with a reasonable chat implementation. However, I want to ensure that common sense is respected too. This question is about server code\r\n\r\nSuppose, a connection was established (`accept()` returned) and now the server needs to service that particular client (using a separate thread as it should)\r\n```java\r\npublic class SimpleChatServer {\r\n    // possibly something else\r\n    private static final ExecutorService executorService = Executors.newCachedThreadPool();\r\n    private static final List&lt;OutputStream&gt; outputStreamList = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        start();\r\n    }\r\n\r\n    @SneakyThrows\r\n    private static void start() {\r\n        try (var serverSocket = new ServerSocket(5000)) {\r\n            while (true) {\r\n                Socket socket = serverSocket.accept();\r\n                executorService.submit(() -&gt; serviceClient(socket));\r\n            }\r\n        }\r\n    }\r\n```\r\nNow, I need a reasonable `serviceClient()` implementation. The first step is to register that socket&#39;s output stream because the server needs to read incoming strings and &quot;broadcast&quot; them to every connected client\r\n```java\r\n    private static void serviceClient(Socket socket) {\r\n        registerOutputStream(socket);\r\n        // some other code I haven&#39;t written yet\r\n    }\r\n```\r\n```java\r\n    private static void registerOutputStream(Socket socket) throws IOException {\r\n        // so that I &quot;foreach&quot; it once I receive a message to broadcast\r\n        outputStreamList.add(socket.getOutputStream());\r\n    }\r\n```\r\nNow I&#39;m at a loss. How does that server know whether a client wrote something so that it can read from the socket&#39;s input stream? I need the code that basically says, &quot;If the input stream has something, read and broadcast it to clients; if not, just keep on waiting till it does&quot;. Sounds a lot like an infinite loop with constant condition checks (inefficient). Or a client needs to be able to communicate to the server, &quot;I wrote, you can read&quot;. It could be implemented using concurrency synchronization mechanisms, but it&#39;s a weird design feature to have a client and a server to have shared synchronization objects (even for such a simplistic app). What is the reasonable solution to this?\r\n\r\nI don&#39;t think [&quot;have you looked asynchronous IO&quot;][1] may count for an adequate answer. If it&#39;s indeed what I should consider, can you provide some details (possibly simple code snippets)? I&#39;m not very familiar with that package\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1941929/22186847","title":"Server reading from the socket&#39;s input stream only if it has data","body":"<p>I'm trying to implement a ridiculously simplistic chat client and a chat server. My goal is to learn to get comfortable with <code>Socket</code>s rather than come up with a reasonable chat implementation. However, I want to ensure that common sense is respected too. This question is about server code</p>\n<p>Suppose, a connection was established (<code>accept()</code> returned) and now the server needs to service that particular client (using a separate thread as it should)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleChatServer {\n    // possibly something else\n    private static final ExecutorService executorService = Executors.newCachedThreadPool();\n    private static final List&lt;OutputStream&gt; outputStreamList = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        start();\n    }\n\n    @SneakyThrows\n    private static void start() {\n        try (var serverSocket = new ServerSocket(5000)) {\n            while (true) {\n                Socket socket = serverSocket.accept();\n                executorService.submit(() -&gt; serviceClient(socket));\n            }\n        }\n    }\n</code></pre>\n<p>Now, I need a reasonable <code>serviceClient()</code> implementation. The first step is to register that socket's output stream because the server needs to read incoming strings and &quot;broadcast&quot; them to every connected client</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void serviceClient(Socket socket) {\n        registerOutputStream(socket);\n        // some other code I haven't written yet\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void registerOutputStream(Socket socket) throws IOException {\n        // so that I &quot;foreach&quot; it once I receive a message to broadcast\n        outputStreamList.add(socket.getOutputStream());\n    }\n</code></pre>\n<p>Now I'm at a loss. How does that server know whether a client wrote something so that it can read from the socket's input stream? I need the code that basically says, &quot;If the input stream has something, read and broadcast it to clients; if not, just keep on waiting till it does&quot;. Sounds a lot like an infinite loop with constant condition checks (inefficient). Or a client needs to be able to communicate to the server, &quot;I wrote, you can read&quot;. It could be implemented using concurrency synchronization mechanisms, but it's a weird design feature to have a client and a server to have shared synchronization objects (even for such a simplistic app). What is the reasonable solution to this?</p>\n<p>I don't think <a href=\"https://stackoverflow.com/a/1941929/22186847\">&quot;have you looked asynchronous IO&quot;</a> may count for an adequate answer. If it's indeed what I should consider, can you provide some details (possibly simple code snippets)? I'm not very familiar with that package</p>\n"},{"tags":["java","android","firebase","google-play-services"],"answers":[{"tags":[],"owner":{"account_id":3478782,"reputation":33,"user_id":2911379,"display_name":"Ataman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689889302,"creation_date":1689889302,"answer_id":76733888,"question_id":73790105,"body_markdown":"have you found a solution how to get GoogleSignInAccount from Google Play Games v2 sign in method? Actually we need only AuthCredential to pass in firebaseAuthWithPlayGames().\r\n\r\n    AuthCredential credential = PlayGamesAuthProvider.getCredential(googleSignInAccount.getServerAuthCode());\r\n\r\nBut how to get this GoogleSignInAccount?\r\nMay be GoogleSignIn.getLastSignedInAccount(appContext); will pass, I haven&#39;t checked it yet.","title":"How to get GoogleSignInAccount object when signing in with Google Play Games Services V2","body":"<p>have you found a solution how to get GoogleSignInAccount from Google Play Games v2 sign in method? Actually we need only AuthCredential to pass in firebaseAuthWithPlayGames().</p>\n<pre><code>AuthCredential credential = PlayGamesAuthProvider.getCredential(googleSignInAccount.getServerAuthCode());\n</code></pre>\n<p>But how to get this GoogleSignInAccount?\nMay be GoogleSignIn.getLastSignedInAccount(appContext); will pass, I haven't checked it yet.</p>\n"},{"tags":[],"owner":{"account_id":15920776,"reputation":1,"user_id":12985027,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694546561,"creation_date":1694546436,"answer_id":77092109,"question_id":73790105,"body_markdown":"You need only AuthCode from PlayGamesClient you can get it like this:\r\n   \r\n\r\n    val gamesSignInClient = PlayGames.getGamesSignInClient(this) /* Activity */\r\n        gamesSignInClient\r\n            .requestServerSideAccess(\r\n                getString(R.string.default_web_client_id),  /* Your web client id */\r\n                false\r\n            )\r\n            .addOnCompleteListener { task: Task&lt;String?&gt; -&gt;\r\n                if (task.isSuccessful) {\r\n                    val serverAuthToken = task.result\r\n                    if (serverAuthToken != null) {\r\n                        firebaseAuthWithPlayGames(serverAuthToken)\r\n                    }\r\n                    \r\n                } else {\r\n                    // Failed to retrieve authentication code.\r\n                    Toast.makeText(\r\n                        baseContext,\r\n                        &quot;Authentication failed.&quot;,\r\n                        Toast.LENGTH_SHORT,\r\n                    ).show()\r\n                }\r\n            }\r\n\r\n    private fun firebaseAuthWithPlayGames(serverAuthCode: String) {\r\n        val auth = Firebase.auth\r\n        val credential = PlayGamesAuthProvider.getCredential(serverAuthCode)\r\n        auth.signInWithCredential(credential)\r\n            .addOnCompleteListener(this) { task -&gt;\r\n                if (task.isSuccessful) {\r\n                    // Sign in success, update UI with the signed-in user&#39;s information\r\n                    Log.d(TAG, &quot;signInWithCredential:success&quot;)\r\n                    val user = auth.currentUser\r\n\r\n                } else {\r\n                    // If sign in fails, display a message to the user.\r\n                    Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.exception)\r\n                    Toast.makeText(\r\n                        baseContext,\r\n                        &quot;Authentication failed.&quot;,\r\n                        Toast.LENGTH_SHORT,\r\n                    ).show()\r\n\r\n                }\r\n\r\n                // ...\r\n            }\r\n    }\r\n\r\n","title":"How to get GoogleSignInAccount object when signing in with Google Play Games Services V2","body":"<p>You need only AuthCode from PlayGamesClient you can get it like this:</p>\n<pre><code>val gamesSignInClient = PlayGames.getGamesSignInClient(this) /* Activity */\n    gamesSignInClient\n        .requestServerSideAccess(\n            getString(R.string.default_web_client_id),  /* Your web client id */\n            false\n        )\n        .addOnCompleteListener { task: Task&lt;String?&gt; -&gt;\n            if (task.isSuccessful) {\n                val serverAuthToken = task.result\n                if (serverAuthToken != null) {\n                    firebaseAuthWithPlayGames(serverAuthToken)\n                }\n                \n            } else {\n                // Failed to retrieve authentication code.\n                Toast.makeText(\n                    baseContext,\n                    &quot;Authentication failed.&quot;,\n                    Toast.LENGTH_SHORT,\n                ).show()\n            }\n        }\n\nprivate fun firebaseAuthWithPlayGames(serverAuthCode: String) {\n    val auth = Firebase.auth\n    val credential = PlayGamesAuthProvider.getCredential(serverAuthCode)\n    auth.signInWithCredential(credential)\n        .addOnCompleteListener(this) { task -&gt;\n            if (task.isSuccessful) {\n                // Sign in success, update UI with the signed-in user's information\n                Log.d(TAG, &quot;signInWithCredential:success&quot;)\n                val user = auth.currentUser\n\n            } else {\n                // If sign in fails, display a message to the user.\n                Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.exception)\n                Toast.makeText(\n                    baseContext,\n                    &quot;Authentication failed.&quot;,\n                    Toast.LENGTH_SHORT,\n                ).show()\n\n            }\n\n            // ...\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":24112402,"reputation":21,"user_id":18082814,"display_name":"AnMe3z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694546561,"creation_date":1663692611,"question_id":73790105,"body_markdown":"I&#39;m building an android game with java and I&#39;m adding logging in my users with **Google Play Games Services V2** and **Firebase**. \r\n\r\nI have no problem integrating the code from the Play Games website (https://developers.google.com/games/services/android/signin#migrate_to_play_games_services_sign_in_v2) but when it comes to Firebases website (https://firebase.google.com/docs/auth/android/play-games) I&#39;m stuck. \r\n\r\nThere is a crucial method `firebaseAuthWithPlayGames()` and it requires GoogleSignInAccount object but I don&#39;t know how to get it.\r\n\r\nThanks!","title":"How to get GoogleSignInAccount object when signing in with Google Play Games Services V2","body":"<p>I'm building an android game with java and I'm adding logging in my users with <strong>Google Play Games Services V2</strong> and <strong>Firebase</strong>.</p>\n<p>I have no problem integrating the code from the Play Games website (<a href=\"https://developers.google.com/games/services/android/signin#migrate_to_play_games_services_sign_in_v2\" rel=\"nofollow noreferrer\">https://developers.google.com/games/services/android/signin#migrate_to_play_games_services_sign_in_v2</a>) but when it comes to Firebases website (<a href=\"https://firebase.google.com/docs/auth/android/play-games\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/android/play-games</a>) I'm stuck.</p>\n<p>There is a crucial method <code>firebaseAuthWithPlayGames()</code> and it requires GoogleSignInAccount object but I don't know how to get it.</p>\n<p>Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9805,"page":187,"page_size":100}
