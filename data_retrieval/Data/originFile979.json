{"items":[{"tags":["java","xml","dom4j"],"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1663946633,"post_id":73826450,"comment_id":130366601,"body_markdown":"This is a duplicate of https://stackoverflow.com/questions/13593493/ but that also doesn&#39;t have an answer.","body":"This is a duplicate of <a href=\"https://stackoverflow.com/questions/13593493/\">stackoverflow.com/questions/13593493</a> but that also doesn&#39;t have an answer."},{"owner":{"account_id":9630589,"reputation":1,"user_id":7148647,"display_name":"Tachiguishi"},"score":0,"creation_date":1663980959,"post_id":73826450,"comment_id":130374074,"body_markdown":"I do not think these two questions are the same. That question is about writing somethin to xml file, this question is about reading a wrong format xml file.","body":"I do not think these two questions are the same. That question is about writing somethin to xml file, this question is about reading a wrong format xml file."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1664047254,"post_id":73826450,"comment_id":130383803,"body_markdown":"They are both using `SAXReader`, just constructing the source differently.","body":"They are both using <code>SAXReader</code>, just constructing the source differently."},{"owner":{"account_id":9630589,"reputation":1,"user_id":7148647,"display_name":"Tachiguishi"},"score":0,"creation_date":1664068470,"post_id":73826450,"comment_id":130386549,"body_markdown":"When I am writing a xml, then I know what I the prefix is. But when I read a xml, I can not not what the prefix is, because it throw the Exception when i am reading.","body":"When I am writing a xml, then I know what I the prefix is. But when I read a xml, I can not not what the prefix is, because it throw the Exception when i am reading."}],"answers":[{"tags":[],"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665269319,"creation_date":1665269319,"answer_id":74001032,"question_id":73826450,"body_markdown":"You could parse it with a DOM parser that isn&#39;t Namespace aware, but it will probably open up more problem areas than what you already have. The correct behavior is of course to validate the uploaded files and reject those that isn&#39;t correct XML or in any other way violate the contracts in place. \r\n\r\nYou do have the contracts in place, right?\r\n ","title":"How to handle SAXParseException The prefix X for element X:A is not bound","body":"<p>You could parse it with a DOM parser that isn't Namespace aware, but it will probably open up more problem areas than what you already have. The correct behavior is of course to validate the uploaded files and reject those that isn't correct XML or in any other way violate the contracts in place.</p>\n<p>You do have the contracts in place, right?</p>\n"}],"owner":{"account_id":9630589,"reputation":1,"user_id":7148647,"display_name":"Tachiguishi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665269319,"creation_date":1663929348,"question_id":73826450,"body_markdown":"I&#39;m using dom4j to parse XML files on line.\r\n\r\n```java\r\nFile file = new File(&quot;text.xml&quot;);\r\nSAXReader reader = new SAXReader();\r\nDocument document = reader.read(file);\r\n```\r\n\r\nThere is a syntax error in some XML files, which make the program throw `SAXParseException: The prefix X for element X:A is not bound` at line `reader.read(file)`.\r\n\r\nI know what the error is, and how to make the XML files right.\r\nJust as what said in this [article](https://stackoverflow.com/questions/70824579/the-prefix-camunda-for-element-camundaconnector-is-not-bound)\r\n\r\nBut the problem is the XML file is uploaded by users, I can not change the file before parse it, and I can not ask the user to change the XML file.\r\n\r\nSo, is there a way to parse the xml file with a undefined prefix error exist?","title":"How to handle SAXParseException The prefix X for element X:A is not bound","body":"<p>I'm using dom4j to parse XML files on line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;text.xml&quot;);\nSAXReader reader = new SAXReader();\nDocument document = reader.read(file);\n</code></pre>\n<p>There is a syntax error in some XML files, which make the program throw <code>SAXParseException: The prefix X for element X:A is not bound</code> at line <code>reader.read(file)</code>.</p>\n<p>I know what the error is, and how to make the XML files right.\nJust as what said in this <a href=\"https://stackoverflow.com/questions/70824579/the-prefix-camunda-for-element-camundaconnector-is-not-bound\">article</a></p>\n<p>But the problem is the XML file is uploaded by users, I can not change the file before parse it, and I can not ask the user to change the XML file.</p>\n<p>So, is there a way to parse the xml file with a undefined prefix error exist?</p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1665267609,"post_id":74000827,"comment_id":130660969,"body_markdown":"Are you doing all of this on the EDT? How did you start the loop? It sounds like you&#39;re running your loop on the EDT and not letting swing/awt handle events.","body":"Are you doing all of this on the EDT? How did you start the loop? It sounds like you&#39;re running your loop on the EDT and not letting swing/awt handle events."}],"answers":[{"comments":[{"owner":{"account_id":11698911,"reputation":11,"user_id":8564735,"display_name":"liraz bar-nir"},"score":0,"creation_date":1665358702,"post_id":74000996,"comment_id":130675266,"body_markdown":"thanks a lot! it helped me and saved me (for now... now it&#39;s time to keep the game without me knowing what i&#39;m doing) :)","body":"thanks a lot! it helped me and saved me (for now... now it&#39;s time to keep the game without me knowing what i&#39;m doing) :)"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665268820,"creation_date":1665268820,"answer_id":74000996,"question_id":74000827,"body_markdown":"I assume you have a keylistener that reacts whenever a key is pressed. In that you calculate all the new positions.\r\n\r\nInstead create a background thread that will periodically (two times per second?) calculate the positions. For the player object, use the last direction of movement to make pacman continue walking. \r\n\r\nIn the keylistener just set the direction for pacman and use that in the background thread. Whenever the background thread moved something on the screen, it shall call the component&#39;s [repaint()][1] method. The Swing framework will then call paintComponent() to really draw the game.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#repaint()","title":"my JAVA code skipping a line without any reason why","body":"<p>I assume you have a keylistener that reacts whenever a key is pressed. In that you calculate all the new positions.</p>\n<p>Instead create a background thread that will periodically (two times per second?) calculate the positions. For the player object, use the last direction of movement to make pacman continue walking.</p>\n<p>In the keylistener just set the direction for pacman and use that in the background thread. Whenever the background thread moved something on the screen, it shall call the component's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#repaint()\" rel=\"nofollow noreferrer\">repaint()</a> method. The Swing framework will then call paintComponent() to really draw the game.</p>\n"}],"owner":{"account_id":11698911,"reputation":11,"user_id":8564735,"display_name":"liraz bar-nir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665268820,"creation_date":1665266570,"question_id":74000827,"body_markdown":"i&#39;m doing a pac-man game in JAVA, right now the ghosts are moving (just by 1 square) **only** after pac-man moves and pac-man moving (also just by 1 square) **only** when one of the arrows on the keyboard is pressed, and i want to make the ghosts to move in constant speed no matter what (lets say for example, 2 squares per second)...\r\ni have this loop, which basically working fine except the screen won&#39;t refresh itself:\r\n\r\n    while(true) {\r\n                isGot = redG.moves(packguy.getCurrentPanel().getLoc());\r\n                if (isGot)\r\n                    while (true)\r\n                        JOptionPane.showMessageDialog(frame, &quot;you lost!&quot;);\r\n                if (steps == 2) {\r\n                    pinkG = new Ghost(panelGrid[10][14], 0, 5);\r\n                }\r\n                if (steps &gt; 1) {\r\n                    isGot = pinkG.moves(packguy.getCurrentPanel().getLoc());\r\n                    if (isGot)\r\n                        while (true)\r\n                            JOptionPane.showMessageDialog(frame, &quot;you lost!&quot;);\r\n                    if (steps == 3) {\r\n                        orangeG = new Ghost(panelGrid[10][14], 0, 4);\r\n                    }\r\n                    if (steps &gt; 2) {\r\n                        isGot = orangeG.moves(packguy.getCurrentPanel().getLoc());\r\n                        if (isGot)\r\n                            while (true)\r\n                                JOptionPane.showMessageDialog(frame, &quot;you lost!&quot;);\r\n                        if (steps == 4) {\r\n                            cyanG = new Ghost(panelGrid[10][14], 0, 6);\r\n                        }\r\n                        if (steps &gt; 3) {\r\n                            isGot = cyanG.moves(packguy.getCurrentPanel().getLoc());\r\n                            if (isGot)\r\n                                while (true)\r\n                                    JOptionPane.showMessageDialog(frame, &quot;you lost!&quot;);\r\n                        }\r\n                    }\r\n                }\r\n                framePaint();\r\n                //\r\n                try {\r\n                    Thread.sleep(500);\r\n                }\r\n                catch (InterruptedException e) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n                steps++;\r\n            }\r\n\r\nthe function **framePaint()** is a function i made which put on every square the thing that supposed to be in this square (rather it&#39;s ghost, pac-man himself...). First the function remove every object in each square, afterwards it is checking what&#39;s supposed to be in the square and put the match photo (which work pretty well). at the end of the function there is those lines:\r\n\r\n    frame.repaint();\r\n    frame.validate();\r\n\r\nif im putting a ```JOptionPane.showMessageDialog(frame, &quot;some message&quot;);``` in the line where I put the \\\\\\ the screen does refreshing when i get the message... \r\ncan you all please help me figure this out?\r\nadvanced thanks :)","title":"my JAVA code skipping a line without any reason why","body":"<p>i'm doing a pac-man game in JAVA, right now the ghosts are moving (just by 1 square) <strong>only</strong> after pac-man moves and pac-man moving (also just by 1 square) <strong>only</strong> when one of the arrows on the keyboard is pressed, and i want to make the ghosts to move in constant speed no matter what (lets say for example, 2 squares per second)...\ni have this loop, which basically working fine except the screen won't refresh itself:</p>\n<pre><code>while(true) {\n            isGot = redG.moves(packguy.getCurrentPanel().getLoc());\n            if (isGot)\n                while (true)\n                    JOptionPane.showMessageDialog(frame, &quot;you lost!&quot;);\n            if (steps == 2) {\n                pinkG = new Ghost(panelGrid[10][14], 0, 5);\n            }\n            if (steps &gt; 1) {\n                isGot = pinkG.moves(packguy.getCurrentPanel().getLoc());\n                if (isGot)\n                    while (true)\n                        JOptionPane.showMessageDialog(frame, &quot;you lost!&quot;);\n                if (steps == 3) {\n                    orangeG = new Ghost(panelGrid[10][14], 0, 4);\n                }\n                if (steps &gt; 2) {\n                    isGot = orangeG.moves(packguy.getCurrentPanel().getLoc());\n                    if (isGot)\n                        while (true)\n                            JOptionPane.showMessageDialog(frame, &quot;you lost!&quot;);\n                    if (steps == 4) {\n                        cyanG = new Ghost(panelGrid[10][14], 0, 6);\n                    }\n                    if (steps &gt; 3) {\n                        isGot = cyanG.moves(packguy.getCurrentPanel().getLoc());\n                        if (isGot)\n                            while (true)\n                                JOptionPane.showMessageDialog(frame, &quot;you lost!&quot;);\n                    }\n                }\n            }\n            framePaint();\n            //\n            try {\n                Thread.sleep(500);\n            }\n            catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            steps++;\n        }\n</code></pre>\n<p>the function <strong>framePaint()</strong> is a function i made which put on every square the thing that supposed to be in this square (rather it's ghost, pac-man himself...). First the function remove every object in each square, afterwards it is checking what's supposed to be in the square and put the match photo (which work pretty well). at the end of the function there is those lines:</p>\n<pre><code>frame.repaint();\nframe.validate();\n</code></pre>\n<p>if im putting a <code>JOptionPane.showMessageDialog(frame, &quot;some message&quot;);</code> in the line where I put the \\\\ the screen does refreshing when i get the message...\ncan you all please help me figure this out?\nadvanced thanks :)</p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665267684,"post_id":74000892,"comment_id":130660978,"body_markdown":"Use ArrayList so  you will be able to do `add`","body":"Use ArrayList so  you will be able to do <code>add</code>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665267772,"post_id":74000892,"comment_id":130660990,"body_markdown":"Adding an int to an array is much more complex and difficult than adding it to a collection, because you have to completely recreate the array.","body":"Adding an int to an array is much more complex and difficult than adding it to a collection, because you have to completely recreate the array."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665267757,"creation_date":1665267757,"answer_id":74000926,"question_id":74000892,"body_markdown":"Use ArrayList so you will be able to do `add`\r\n\r\n    List tooHigh=new ArrayList(Integer);\r\n    tooHigh.add(array[j])","title":"java add int to int[]","body":"<p>Use ArrayList so you will be able to do <code>add</code></p>\n<pre><code>List tooHigh=new ArrayList(Integer);\ntooHigh.add(array[j])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665268005,"creation_date":1665268005,"answer_id":74000938,"question_id":74000892,"body_markdown":"simply, you cann&#39;t as the array is of fixed size, its size cannot be modified once declared and you didn&#39;t initialize that array called `tooHigh` which can result in some error if you try to access its member as it didn&#39;t reserve any space in memeory as you didn&#39;y type `tooHigh = new int[size];`\r\n\r\nwhat you want to use is [ArrayList][1] for you mission.\r\n\r\nso instead of:\r\n\r\n    int[]tooHigh;\r\n\r\nwrite:\r\n\r\n    ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\n\r\nand don&#39;t forget to type :\r\n\r\n    import java.util.ArrayList;\r\n\r\nat the beginning of the file. so that you can write :\r\n\r\n        arrayList.add(15);\r\n        arrayList.add(10);\r\n        arrayList.add(30);\r\n        arrayList.add(5);\r\n        arrayList.add(-1);\r\n        arrayList.add(5);\r\n\r\nand this is some example code to add and loop over the `ArrayList`\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\r\n        arrayList.add(15);\r\n        arrayList.add(10);\r\n        arrayList.add(30);\r\n        arrayList.add(5);\r\n        arrayList.add(-1);\r\n        arrayList.add(5);\r\n        \r\n        for (Integer integer : arrayList)\r\n            System.out.println(integer);\r\n    }\r\n\r\n\r\nand this is the output:\r\n\r\n    15\r\n    10\r\n    30\r\n    5\r\n    -1\r\n    5\r\n\r\nlook how simple is that!\r\n\r\n  [1]: https://www.w3schools.com/java/java_arraylist.asp","title":"java add int to int[]","body":"<p>simply, you cann't as the array is of fixed size, its size cannot be modified once declared and you didn't initialize that array called <code>tooHigh</code> which can result in some error if you try to access its member as it didn't reserve any space in memeory as you didn'y type <code>tooHigh = new int[size];</code></p>\n<p>what you want to use is <a href=\"https://www.w3schools.com/java/java_arraylist.asp\" rel=\"nofollow noreferrer\">ArrayList</a> for you mission.</p>\n<p>so instead of:</p>\n<pre><code>int[]tooHigh;\n</code></pre>\n<p>write:</p>\n<pre><code>ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and don't forget to type :</p>\n<pre><code>import java.util.ArrayList;\n</code></pre>\n<p>at the beginning of the file. so that you can write :</p>\n<pre><code>    arrayList.add(15);\n    arrayList.add(10);\n    arrayList.add(30);\n    arrayList.add(5);\n    arrayList.add(-1);\n    arrayList.add(5);\n</code></pre>\n<p>and this is some example code to add and loop over the <code>ArrayList</code></p>\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n    arrayList.add(15);\n    arrayList.add(10);\n    arrayList.add(30);\n    arrayList.add(5);\n    arrayList.add(-1);\n    arrayList.add(5);\n    \n    for (Integer integer : arrayList)\n        System.out.println(integer);\n}\n</code></pre>\n<p>and this is the output:</p>\n<pre><code>15\n10\n30\n5\n-1\n5\n</code></pre>\n<p>look how simple is that!</p>\n"},{"tags":[],"owner":{"account_id":22466920,"reputation":321,"user_id":16667945,"display_name":"AbdullahSaidAbdeaaziz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665268740,"creation_date":1665268740,"answer_id":74000988,"question_id":74000892,"body_markdown":"You have 2 types of arrays in java:\r\n\r\n 1. **Static**\r\n    - Have a fixed size; to do with it.\r\n    ```java\r\n        int size = 100;\r\n        int[] toohigh = new int[size];\r\n\r\n        for(int i = 0; i &lt; toohigh.length; i++) {\r\n            toohigh[i] = i+2;\r\n        }\r\n\r\n    ``` \r\n 2. **Dynamic**\r\n    - Have dynamic size; to do with it.\r\n    ```java\r\n       ArrayList&lt;Integer&gt; toohigh = new ArrayList&lt;Integer&gt;(); // give you default size = 10 &amp; initially with zeros\r\n       for(int i = 0; i &lt; toohigh.size(); i++) {\r\n            toohigh.add(i+2);\r\n            \r\n        }\r\n    ```","title":"java add int to int[]","body":"<p>You have 2 types of arrays in java:</p>\n<ol>\n<li><strong>Static</strong>\n<ul>\n<li>Have a fixed size; to do with it.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    int size = 100;\n    int[] toohigh = new int[size];\n\n    for(int i = 0; i &lt; toohigh.length; i++) {\n        toohigh[i] = i+2;\n    }\n\n</code></pre>\n</li>\n<li><strong>Dynamic</strong>\n<ul>\n<li>Have dynamic size; to do with it.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>   ArrayList&lt;Integer&gt; toohigh = new ArrayList&lt;Integer&gt;(); // give you default size = 10 &amp; initially with zeros\n   for(int i = 0; i &lt; toohigh.size(); i++) {\n        toohigh.add(i+2);\n\n    }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26238290,"reputation":154,"user_id":19913052,"display_name":"Fabian M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74000938,"answer_count":3,"score":-2,"last_activity_date":1665268740,"creation_date":1665267517,"question_id":74000892,"body_markdown":"How do I add a int to a int [] in Java. I want to do something like:\r\n\r\n\r\n    int limit = 10;\r\n    int[]array = {1, 9, 4, 20, 10, 20, 44};\r\n    int[]tooHigh;\r\n                for (int i = 0; i &lt; array.length; i++) {\r\n                    for (int j = 1; j &lt; array.length - i; j++) {\r\n                        if (array[j] &lt; array[j - 1]) {\r\n                            temp = array[j - 1];\r\n                            array[j - 1] = array[j];\r\n                            array[j] = temp; \r\n    if (array[j]&gt;10){tooHigh.add(array[j))\r\n    \r\n                        }\r\n    \r\n                    }\r\n                }\r\n\r\n","title":"java add int to int[]","body":"<p>How do I add a int to a int [] in Java. I want to do something like:</p>\n<pre><code>int limit = 10;\nint[]array = {1, 9, 4, 20, 10, 20, 44};\nint[]tooHigh;\n            for (int i = 0; i &lt; array.length; i++) {\n                for (int j = 1; j &lt; array.length - i; j++) {\n                    if (array[j] &lt; array[j - 1]) {\n                        temp = array[j - 1];\n                        array[j - 1] = array[j];\n                        array[j] = temp; \nif (array[j]&gt;10){tooHigh.add(array[j))\n\n                    }\n\n                }\n            }\n</code></pre>\n"},{"tags":["java","multithreading","performance","blockingqueue","linkedblockingqueue"],"answers":[{"comments":[{"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"score":0,"creation_date":1665266351,"post_id":74000476,"comment_id":130660792,"body_markdown":"Alright thank you that makes sense but how does it know when something is added if its sleeping? It has to be running in order to check if something has been added to the queue right? If so how much does this checking use of CPU time relative to an infinite loop (disregarding the memory concerns)?","body":"Alright thank you that makes sense but how does it know when something is added if its sleeping? It has to be running in order to check if something has been added to the queue right? If so how much does this checking use of CPU time relative to an infinite loop (disregarding the memory concerns)?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1665268508,"post_id":74000476,"comment_id":130661096,"body_markdown":"@IDontWantToMakeAnotherAccount, See my updated answer, above.","body":"@IDontWantToMakeAnotherAccount, See my updated answer, above."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665268489,"creation_date":1665262521,"answer_id":74000476,"question_id":73999423,"body_markdown":"&gt; ...does this infinite loop without making it sleep mean...?\r\n\r\n`blockingQueue.take()` _does_ sleep until there&#39;s something in the queue to be taken. The [Javadoc for the `take` method](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/BlockingQueue.html#take()) says, &quot;Retrieves and removes the head of this queue, _waiting if necessary_ until an element becomes available.&quot;\r\n\r\n&quot;Waiting&quot; means it sleeps. Any time you are forced to write `catch&#160;(InterruptedException...)`, it&#39;s because you called something that sleeps.\r\n\r\n-------------------\r\n\r\n&gt; how does it know when something is added if its sleeping? It has to be running in order to check if something has been added to the queue right?\r\n\r\nNo. It doesn&#39;t need to run. It doesn&#39;t need to &quot;check.&quot; A BlockingQueue effectively\\* uses [`object.wait()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()) to make a thread &quot;sleep,&quot; and it uses [`object.notify()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()) to wake it up again. When one thread in a Java program calls `o.wait()` for any `Object&#160;o`, the `wait()` call will not return\\*\\* until some other thread calls `o.notify()` for the same `Object&#160;o`.\r\n\r\n`wait()` and `notify()` are thin wrappers for operating system-specific calls that do approximately the same thing. All the magic happens in the OS. In a nutshell;\r\n\r\n* The OS suspends the thread that calls `o.wait()`, and it adds the thread&#39;s [saved execution context](https://en.wikipedia.org/wiki/Context_switch) to a queue associated with the object `o`.\r\n* When some other thread calls `o.notify()`, the OS takes the saved execution context at the head of the queue (if there is one\\*\\*\\*), and moves it to the &quot;ready-to-run&quot; queue.\r\n* Some time later, the [OS scheduler](https://en.wikipedia.org/wiki/Scheduling_(computing)#SCHEDULER) will find the saved thread context at the head of the &quot;ready-to-run&quot; queue, and it will restore the context on one of the system&#39;s CPUs.\r\n* At that point, the `o.wait()` call will return, and the thread that waited can then proceed to deal with whatever it was waiting for (e.g., an `NpcAsyncRunnable` object in your case.)\r\n\r\n-----------------\r\n\r\n\\* I don&#39;t know whether any particular class that `implements&#160;BlockingQueue` _actually_ uses `object.wait()` and `object.notify()`, but even if they don&#39;t use those methods, then they almost certainly use the same operating system calls that underlie `wait()` and `notify()`.\r\n\r\n\\*\\* Almost true, but there&#39;s something called &quot;spurious wakeup.&quot; Correctly using `o.wait()` and `o.notify()` is tricky. I strongly recommend that you [work through the tutorial](https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html) if you want to try it yourself.\r\n\r\n\\*\\*\\* `o.notify()` does absolutely nothing at all if no other thread is already waiting at the moment when it is called. Beginners who don&#39;t understand this often ask, &quot;Why did `wait()` never return?&quot; It didn&#39;t return because the thread that `wait()`ed was too late. Again, I urge you to work through the tutorial if you want to learn how to avoid that particular bug.","title":"How efficient are BlockingQueues / what&#39;s their effect on CPU time?","body":"<blockquote>\n<p>...does this infinite loop without making it sleep mean...?</p>\n</blockquote>\n<p><code>blockingQueue.take()</code> <em>does</em> sleep until there's something in the queue to be taken. The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/BlockingQueue.html#take()\" rel=\"nofollow noreferrer\">Javadoc for the <code>take</code> method</a> says, &quot;Retrieves and removes the head of this queue, <em>waiting if necessary</em> until an element becomes available.&quot;</p>\n<p>&quot;Waiting&quot; means it sleeps. Any time you are forced to write <code>catch (InterruptedException...)</code>, it's because you called something that sleeps.</p>\n<hr />\n<blockquote>\n<p>how does it know when something is added if its sleeping? It has to be running in order to check if something has been added to the queue right?</p>\n</blockquote>\n<p>No. It doesn't need to run. It doesn't need to &quot;check.&quot; A BlockingQueue effectively* uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()\" rel=\"nofollow noreferrer\"><code>object.wait()</code></a> to make a thread &quot;sleep,&quot; and it uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\"><code>object.notify()</code></a> to wake it up again. When one thread in a Java program calls <code>o.wait()</code> for any <code>Object o</code>, the <code>wait()</code> call will not return** until some other thread calls <code>o.notify()</code> for the same <code>Object o</code>.</p>\n<p><code>wait()</code> and <code>notify()</code> are thin wrappers for operating system-specific calls that do approximately the same thing. All the magic happens in the OS. In a nutshell;</p>\n<ul>\n<li>The OS suspends the thread that calls <code>o.wait()</code>, and it adds the thread's <a href=\"https://en.wikipedia.org/wiki/Context_switch\" rel=\"nofollow noreferrer\">saved execution context</a> to a queue associated with the object <code>o</code>.</li>\n<li>When some other thread calls <code>o.notify()</code>, the OS takes the saved execution context at the head of the queue (if there is one***), and moves it to the &quot;ready-to-run&quot; queue.</li>\n<li>Some time later, the <a href=\"https://en.wikipedia.org/wiki/Scheduling_(computing)#SCHEDULER\" rel=\"nofollow noreferrer\">OS scheduler</a> will find the saved thread context at the head of the &quot;ready-to-run&quot; queue, and it will restore the context on one of the system's CPUs.</li>\n<li>At that point, the <code>o.wait()</code> call will return, and the thread that waited can then proceed to deal with whatever it was waiting for (e.g., an <code>NpcAsyncRunnable</code> object in your case.)</li>\n</ul>\n<hr />\n<p>* I don't know whether any particular class that <code>implements BlockingQueue</code> <em>actually</em> uses <code>object.wait()</code> and <code>object.notify()</code>, but even if they don't use those methods, then they almost certainly use the same operating system calls that underlie <code>wait()</code> and <code>notify()</code>.</p>\n<p>** Almost true, but there's something called &quot;spurious wakeup.&quot; Correctly using <code>o.wait()</code> and <code>o.notify()</code> is tricky. I strongly recommend that you <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">work through the tutorial</a> if you want to try it yourself.</p>\n<p>*** <code>o.notify()</code> does absolutely nothing at all if no other thread is already waiting at the moment when it is called. Beginners who don't understand this often ask, &quot;Why did <code>wait()</code> never return?&quot; It didn't return because the thread that <code>wait()</code>ed was too late. Again, I urge you to work through the tutorial if you want to learn how to avoid that particular bug.</p>\n"}],"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74000476,"answer_count":1,"score":0,"last_activity_date":1665268489,"creation_date":1665252712,"question_id":73999423,"body_markdown":"I am making an online game in Java and I ran into one particular issue where I was trying to find the most efficient way to send clients spawn entity NPC packets. I of course understand how to send them but I wanted to do it off of the main game loop since it requires looping through a map of NPC&#39;s (I also made sure its thread safe). To do this I thought a BlockingQueue was my best option so I created a new thread set it to daemon then passed in a runnable object. Then whenever I needed to send one of these packets I would use the insertElement() method to add to the queue. Here is how it looks.\r\n\r\n    public class NpcAsyncRunnable implements Runnable {\r\n      private final BlockingQueue&lt;NpcObject&gt; blockingQueue;\r\n\r\n      public NpcAsyncRunnable() {\r\n          blockingQueue = new LinkedBlockingQueue&lt;&gt;();\r\n      }\r\n\r\n      @Override\r\n      public void run() {\r\n          while(true) {\r\n              try {\r\n                  final NpcObject obj = blockingQueue.take();\r\n                  //Run my algorithm here\r\n              } catch (InterruptedException e) {\r\n                  e.printStackTrace();\r\n              }\r\n\r\n          }\r\n      }\r\n\r\n      public void insertElement(final NpcObject obj) {\r\n          blockingQueue.add(obj);\r\n      }\r\n    }\r\n    \r\nNow my question is how efficient is this? I am running the thread the whole time in an infinite loop because I always want it to be checking for another inserted element. However, my concern is if I have too many async threads listening would it start to clog up the CPU? I ask this because I know a CPU core can only run 1 thread of execution at a time but with hyperthreading (AMD has the same thing but its called something different) it can jump between executing multiple threads when one needs to search for something in memory. But does this infinite loop without making it sleep mean it will always be checking if the queue has a new entry? My worry is I will make a CPU core waste all its resources infinitely looping over this one thread waiting for another insertion. \r\n\r\nDoes the CPU instead auto assign small breaks to allow other threads to execute or do I need to include sleep statements so that this thread is not using way more resources than is required? How much CPU time will this use just idling? \r\n\r\n","title":"How efficient are BlockingQueues / what&#39;s their effect on CPU time?","body":"<p>I am making an online game in Java and I ran into one particular issue where I was trying to find the most efficient way to send clients spawn entity NPC packets. I of course understand how to send them but I wanted to do it off of the main game loop since it requires looping through a map of NPC's (I also made sure its thread safe). To do this I thought a BlockingQueue was my best option so I created a new thread set it to daemon then passed in a runnable object. Then whenever I needed to send one of these packets I would use the insertElement() method to add to the queue. Here is how it looks.</p>\n<pre><code>public class NpcAsyncRunnable implements Runnable {\n  private final BlockingQueue&lt;NpcObject&gt; blockingQueue;\n\n  public NpcAsyncRunnable() {\n      blockingQueue = new LinkedBlockingQueue&lt;&gt;();\n  }\n\n  @Override\n  public void run() {\n      while(true) {\n          try {\n              final NpcObject obj = blockingQueue.take();\n              //Run my algorithm here\n          } catch (InterruptedException e) {\n              e.printStackTrace();\n          }\n\n      }\n  }\n\n  public void insertElement(final NpcObject obj) {\n      blockingQueue.add(obj);\n  }\n}\n</code></pre>\n<p>Now my question is how efficient is this? I am running the thread the whole time in an infinite loop because I always want it to be checking for another inserted element. However, my concern is if I have too many async threads listening would it start to clog up the CPU? I ask this because I know a CPU core can only run 1 thread of execution at a time but with hyperthreading (AMD has the same thing but its called something different) it can jump between executing multiple threads when one needs to search for something in memory. But does this infinite loop without making it sleep mean it will always be checking if the queue has a new entry? My worry is I will make a CPU core waste all its resources infinitely looping over this one thread waiting for another insertion.</p>\n<p>Does the CPU instead auto assign small breaks to allow other threads to execute or do I need to include sleep statements so that this thread is not using way more resources than is required? How much CPU time will this use just idling?</p>\n"},{"tags":["java","tomcat8","dhis-2"],"answers":[{"tags":[],"owner":{"account_id":3713098,"reputation":3327,"user_id":3089890,"accept_rate":33,"display_name":"captain_a"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665267258,"creation_date":1665267258,"answer_id":74000875,"question_id":72285210,"body_markdown":"I assume, you are doing it on windows OS. It is recommended to use it on linux. \r\nThere are scores of bugs on windows installation.\r\nIts very stable on linux OS.","title":"Tomcat8_DHIS2 not starting","body":"<p>I assume, you are doing it on windows OS. It is recommended to use it on linux.\nThere are scores of bugs on windows installation.\nIts very stable on linux OS.</p>\n"}],"owner":{"account_id":21386503,"reputation":11,"user_id":15751408,"display_name":"Christian Rechdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665267258,"creation_date":1652860508,"question_id":72285210,"body_markdown":"I installed and ran DHIS2 on tomcat 8 a week ago and everything was going fine. To start the tomcat server, I had to click on Tomcat8_DHIS2, wait for the cmd to stop running, then start the Tomcat8_DHIS2w. Everything was going fine until the Java version on my PC got updated. I changed the PATH environment variable, but still, it did not work.\r\nWhat happens is that the Tomcat_DHIS2.exe simply does nothing. It blinks for a fraction of a second then nothing happens. Naturally, localhost:8080 does not work either.\r\n\r\nCan anyone help me pinpoint the source of the problem, please? I can&#39;t seem to find anything on google or stackoverflow.","title":"Tomcat8_DHIS2 not starting","body":"<p>I installed and ran DHIS2 on tomcat 8 a week ago and everything was going fine. To start the tomcat server, I had to click on Tomcat8_DHIS2, wait for the cmd to stop running, then start the Tomcat8_DHIS2w. Everything was going fine until the Java version on my PC got updated. I changed the PATH environment variable, but still, it did not work.\nWhat happens is that the Tomcat_DHIS2.exe simply does nothing. It blinks for a fraction of a second then nothing happens. Naturally, localhost:8080 does not work either.</p>\n<p>Can anyone help me pinpoint the source of the problem, please? I can't seem to find anything on google or stackoverflow.</p>\n"},{"tags":["java","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1440932719,"post_id":32012654,"comment_id":52468521,"body_markdown":"What you mean is not an enclosing type because we are not talking about inner classes here. Anyway, I do know what you mean. See my upcoming answer below.","body":"What you mean is not an enclosing type because we are not talking about inner classes here. Anyway, I do know what you mean. See my upcoming answer below."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665266607,"creation_date":1440933559,"answer_id":32295973,"question_id":32012654,"body_markdown":"What you want is not easily possible because it is not what AOP was made for. An instance of class B has no idea about whether it is assigned to a member of any other class or is part of any collection or array. The JVM garbage collector does reference counting for internal purposes (freeing memory after an object is no longer referenced), but this is nothing you have access to from an aspect. What you can do with AspectJ is\r\n\r\n* intercept whenever a value or object is assigned to a member variable (`set()`) pointcut) or when that member is read (`get()` pointcut). By the way, these pointcuts do not work for local variables, only for members. But when a method is called upon any object that happens to be assigned to a member variable, technically that variable&#39;s value does not change, it is still the same (mutable) object, i.e. a method call or an internal state change in a referenced object does not trigger `set()` in the referencing object, only in the referenced object itself.\r\n* intercept method calls or executions, which you already do.\r\n\r\nI am not sure that what you want makes any practical sense, but what you can do with some overhead is manual reference bookkeeping like this:\r\n\r\n* Whenever an object of interest is assigned to a member variable, intercept it via `set()` pointcut and remember it by putting it into a collection maintained by the aspect.\r\n* By the way, at the same time you also have to remove the old member object from the collection if (and only if!) it is no longer referenced.\r\n* In your `execution()` pointcut, find out if the object in question is in the internal collection, retrieve the info about the owning object(s) from the collection and do with it whatever you like.\r\n","title":"How to get the enclosing type with aspectj","body":"<p>What you want is not easily possible because it is not what AOP was made for. An instance of class B has no idea about whether it is assigned to a member of any other class or is part of any collection or array. The JVM garbage collector does reference counting for internal purposes (freeing memory after an object is no longer referenced), but this is nothing you have access to from an aspect. What you can do with AspectJ is</p>\n<ul>\n<li>intercept whenever a value or object is assigned to a member variable (<code>set()</code>) pointcut) or when that member is read (<code>get()</code> pointcut). By the way, these pointcuts do not work for local variables, only for members. But when a method is called upon any object that happens to be assigned to a member variable, technically that variable's value does not change, it is still the same (mutable) object, i.e. a method call or an internal state change in a referenced object does not trigger <code>set()</code> in the referencing object, only in the referenced object itself.</li>\n<li>intercept method calls or executions, which you already do.</li>\n</ul>\n<p>I am not sure that what you want makes any practical sense, but what you can do with some overhead is manual reference bookkeeping like this:</p>\n<ul>\n<li>Whenever an object of interest is assigned to a member variable, intercept it via <code>set()</code> pointcut and remember it by putting it into a collection maintained by the aspect.</li>\n<li>By the way, at the same time you also have to remove the old member object from the collection if (and only if!) it is no longer referenced.</li>\n<li>In your <code>execution()</code> pointcut, find out if the object in question is in the internal collection, retrieve the info about the owning object(s) from the collection and do with it whatever you like.</li>\n</ul>\n"}],"owner":{"account_id":3889821,"reputation":586,"user_id":3220336,"accept_rate":90,"display_name":"unique_ptr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32295973,"answer_count":1,"score":1,"last_activity_date":1665266607,"creation_date":1439563051,"question_id":32012654,"body_markdown":"please consider this :\r\n\r\n    public class A\r\n    {\r\n      private B bMemeber;\r\n      private Properties myProperties;\r\n    }\r\n\r\nand\r\n\r\n    public class B { \r\n     private Object field;\r\n     public void setField(Object o){...}\r\n    }\r\n    \r\nI have an aspect \r\n\r\n    \t@After(&quot;execution(* B.setField(..)) &amp;&amp;! within(PropertiesAspect)&quot;)\r\n        public void afterSetField(JoinPoint jp)\r\n        {....}\r\n\r\nmy question is : is it possible to get the enclosing type of `B`using aspectj in my `afterSetField` as I need to test on some properties contained in the `A` object ","title":"How to get the enclosing type with aspectj","body":"<p>please consider this :</p>\n\n<pre><code>public class A\n{\n  private B bMemeber;\n  private Properties myProperties;\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class B { \n private Object field;\n public void setField(Object o){...}\n}\n</code></pre>\n\n<p>I have an aspect </p>\n\n<pre><code>    @After(\"execution(* B.setField(..)) &amp;&amp;! within(PropertiesAspect)\")\n    public void afterSetField(JoinPoint jp)\n    {....}\n</code></pre>\n\n<p>my question is : is it possible to get the enclosing type of <code>B</code>using aspectj in my <code>afterSetField</code> as I need to test on some properties contained in the <code>A</code> object </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1665266320,"post_id":74000800,"comment_id":130660790,"body_markdown":"Are you providing any arguments to the program when you run it?","body":"Are you providing any arguments to the program when you run it?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1665266466,"post_id":74000800,"comment_id":130660806,"body_markdown":"If I run your code with `java Main &quot;&quot;` on my machine it works fine. What operating system is this?","body":"If I run your code with <code>java Main &quot;&quot;</code> on my machine it works fine. What operating system is this?"},{"owner":{"account_id":26563482,"reputation":1,"user_id":20190951,"display_name":"Aym"},"score":0,"creation_date":1665267319,"post_id":74000800,"comment_id":130660929,"body_markdown":"windows 10, and you?","body":"windows 10, and you?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1665267824,"post_id":74000800,"comment_id":130660998,"body_markdown":"@Aym Debian. So I&#39;d say it&#39;s either a problem with how cmd (or PowerShell?) handles empty string rather than with java.","body":"@Aym Debian. So I&#39;d say it&#39;s either a problem with how cmd (or PowerShell?) handles empty string rather than with java."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1665268087,"post_id":74000800,"comment_id":130661037,"body_markdown":"`cmd` seems to drop `&quot;&quot;`, try `&#39;&quot;&quot;&#39;`.","body":"<code>cmd</code> seems to drop <code>&quot;&quot;</code>, try <code>&#39;&quot;&quot;&#39;</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1665268222,"post_id":74000800,"comment_id":130661056,"body_markdown":"(Just noticed there&#39;s an extraneous &quot;either&quot; in my previous comment but I can&#39;t edit it anymore, so please just ignore it)","body":"(Just noticed there&#39;s an extraneous &quot;either&quot; in my previous comment but I can&#39;t edit it anymore, so please just ignore it)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1665268337,"post_id":74000800,"comment_id":130661072,"body_markdown":"@xehpuk wouldn&#39;t that print `&quot;&quot;`? I think they&#39;re trying to pass an empty string, not two literal `&quot;`.","body":"@xehpuk wouldn&#39;t that print <code>&quot;&quot;</code>? I think they&#39;re trying to pass an empty string, not two literal <code>&quot;</code>."},{"owner":{"account_id":26563482,"reputation":1,"user_id":20190951,"display_name":"Aym"},"score":0,"creation_date":1665268761,"post_id":74000800,"comment_id":130661126,"body_markdown":"I too think its because cmd\\powershell doesnt read **&quot;&quot;**. I write **&gt;java Main &quot;&quot; A** and it prints **A**. Ty","body":"I too think its because cmd\\powershell doesnt read <b>&quot;&quot;</b>. I write <b>&gt;java Main &quot;&quot; A</b> and it prints <b>A</b>. Ty"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":1,"creation_date":1665269123,"post_id":74000800,"comment_id":130661162,"body_markdown":"@FedericoklezCulloca I checked again. `&quot;&quot;` works fine in `cmd`. In `PS`, it has to be `&quot;&quot;&quot;&quot;` or `&#39;&quot;&quot;&#39;` to yield an empty string.","body":"@FedericoklezCulloca I checked again. <code>&quot;&quot;</code> works fine in <code>cmd</code>. In <code>PS</code>, it has to be <code>&quot;&quot;&quot;&quot;</code> or <code>&#39;&quot;&quot;&#39;</code> to yield an empty string."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1665273004,"post_id":74000800,"comment_id":130661613,"body_markdown":"This works fine on my Windows10 (in CMD). How are you processing the supplied arg(s) within the `main()` method?","body":"This works fine on my Windows10 (in CMD). How are you processing the supplied arg(s) within the <code>main()</code> method?"}],"owner":{"account_id":26563482,"reputation":1,"user_id":20190951,"display_name":"Aym"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665266538,"creation_date":1665266222,"question_id":74000800,"body_markdown":"```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(args[0]);\r\n    }\r\n}\r\n```\r\nWhy running it as ```java Main &quot;&quot;``` throws an `ArrayIndexOutOfBoundsException` if java allows to initialize String variable with &quot;&quot;?\r\n\r\n```String[] args = { &quot;&quot; };```","title":"Why passing an empty string on the command line throws an exception?","body":"<pre><code>class Main {\n    public static void main(String[] args) {\n        System.out.println(args[0]);\n    }\n}\n</code></pre>\n<p>Why running it as <code>java Main &quot;&quot;</code> throws an <code>ArrayIndexOutOfBoundsException</code> if java allows to initialize String variable with &quot;&quot;?</p>\n<p><code>String[] args = { &quot;&quot; };</code></p>\n"},{"tags":["java","c","gcc","swig"],"comments":[{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1665262809,"post_id":74000323,"comment_id":130660316,"body_markdown":"You don&#39;t run SWIG on a C header(.h) file.  SWIG requires a SWIG interface file(.i).","body":"You don&#39;t run SWIG on a C header(.h) file.  SWIG requires a SWIG interface file(.i)."},{"owner":{"account_id":24105578,"reputation":27,"user_id":18076827,"display_name":"David A. Ventimiglia"},"score":0,"creation_date":1665263730,"post_id":74000323,"comment_id":130660466,"body_markdown":"You absolutely can run SWIG on a C header (.h) file because SWIG absolutely does not require an interface (.i) file:  https://www.swig.org/Doc4.0/Introduction.html#Introduction_nn9","body":"You absolutely can run SWIG on a C header (.h) file because SWIG absolutely does not require an interface (.i) file:  <a href=\"https://www.swig.org/Doc4.0/Introduction.html#Introduction_nn9\" rel=\"nofollow noreferrer\">swig.org/Doc4.0/Introduction.html#Introduction_nn9</a>"},{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1665264052,"post_id":74000323,"comment_id":130660513,"body_markdown":"OK, you absolutely can, but as you have found, only the simplest of header files can get by without one, so you absolutely won&#39;t get away without one for this header if you want it to compile.","body":"OK, you absolutely can, but as you have found, only the simplest of header files can get by without one, so you absolutely won&#39;t get away without one for this header if you want it to compile."},{"owner":{"account_id":24105578,"reputation":27,"user_id":18076827,"display_name":"David A. Ventimiglia"},"score":0,"creation_date":1665264593,"post_id":74000323,"comment_id":130660583,"body_markdown":"Oh, that practically I would need an interface file even it technically I don&#39;t, is something I always believed.  Given that, where I wrote above &quot;Is there something I can do with way I&#39;m invoking SWIG...&quot; one could substitute &quot;How do I write an interface file in a case like this, with typedef struct declarations...&quot;","body":"Oh, that practically I would need an interface file even it technically I don&#39;t, is something I always believed.  Given that, where I wrote above &quot;Is there something I can do with way I&#39;m invoking SWIG...&quot; one could substitute &quot;How do I write an interface file in a case like this, with typedef struct declarations...&quot;"},{"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1665264633,"post_id":74000323,"comment_id":130660587,"body_markdown":"At a minimum, the last example in [5.7.2](https://www.swig.org/Doc4.0/SWIGDocumentation.html#SWIG_nn47) is needed.  Usually more work is required (other includes, writing typmaps) but that depends on the content.  Start there.","body":"At a minimum, the last example in <a href=\"https://www.swig.org/Doc4.0/SWIGDocumentation.html#SWIG_nn47\" rel=\"nofollow noreferrer\">5.7.2</a> is needed.  Usually more work is required (other includes, writing typmaps) but that depends on the content.  Start there."},{"owner":{"account_id":24105578,"reputation":27,"user_id":18076827,"display_name":"David A. Ventimiglia"},"score":0,"creation_date":1665265842,"post_id":74000323,"comment_id":130660737,"body_markdown":"Evidently, that&#39;s ALL that&#39;s needed:\n\n%module test\n%{\n#include &quot;pg_query.h&quot;\n%}\n%include &quot;pg_query.h&quot;\n\nFor whatever reason, that worked.  Care to write it up as the answer?","body":"Evidently, that&#39;s ALL that&#39;s needed:  %module test %{ #include &quot;pg_query.h&quot; %} %include &quot;pg_query.h&quot;  For whatever reason, that worked.  Care to write it up as the answer?"}],"answers":[{"tags":[],"owner":{"account_id":84277,"reputation":168394,"user_id":235698,"display_name":"Mark Tolonen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665266467,"creation_date":1665266127,"answer_id":74000793,"question_id":74000323,"body_markdown":"Generally, the following interface file is needed:\r\n```c\r\n// test.i\r\n%module test\r\n\r\n// This code is directly injected into the wrapper, and probably\r\n// what was missing running SWIG directly on the header itself.\r\n%{\r\n#include &quot;pg_query.h&quot;\r\n%}\r\n\r\n// Process top-level code in this header file and wrap functions and globals found.\r\n// It does not recurse into other includes like stdint.h.\r\n%include &quot;pg_query.h&quot;\r\n```\r\nThen, `swig -java test.i`.\r\n\r\nEven if it compiles and links, you&#39;ll want to test every function.  SWIG is *very* forgiving in its wrappers and treats anything it doesn&#39;t understand as opaque pointers.","title":"How do I overcome gcc errors in SWIG-generated sources for libpg_query","body":"<p>Generally, the following interface file is needed:</p>\n<pre class=\"lang-c prettyprint-override\"><code>// test.i\n%module test\n\n// This code is directly injected into the wrapper, and probably\n// what was missing running SWIG directly on the header itself.\n%{\n#include &quot;pg_query.h&quot;\n%}\n\n// Process top-level code in this header file and wrap functions and globals found.\n// It does not recurse into other includes like stdint.h.\n%include &quot;pg_query.h&quot;\n</code></pre>\n<p>Then, <code>swig -java test.i</code>.</p>\n<p>Even if it compiles and links, you'll want to test every function.  SWIG is <em>very</em> forgiving in its wrappers and treats anything it doesn't understand as opaque pointers.</p>\n"}],"owner":{"account_id":24105578,"reputation":27,"user_id":18076827,"display_name":"David A. Ventimiglia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74000793,"answer_count":1,"score":0,"last_activity_date":1665266467,"creation_date":1665260867,"question_id":74000323,"body_markdown":"How do I overcome gcc compiler errors in SWIG-generated C source files for the libpg_query library?  Here&#39;s what I mean.\r\n\r\n[libpg_query][1] is a &quot;C library for accessing the PostgreSQL parser outside of the server&quot; maintained by the fine folks at [pganalyze][2] but importantly, not by me.  It has bindings in Ruby, Go, and Python, but not in Java, so I would like to create them.  I&#39;m trying to do that using [SWIG][3].  The SWIG docs Introduction says, &quot;SWIG normally requires no modifications to existing code and can often be used to build a usable interface in only a few minutes.&quot;  Unfortunately, my hopes of that happening so far have been dashed.  I followed their Java guides and, for good measure, the Python one as well but encountered the same gcc compiler errors with the generated C source files.  Here are the detailed steps.\r\n\r\n    wget https://raw.githubusercontent.com/pganalyze/libpg_query/13-latest/pg_query.h\r\n    swig -java -module test pg_query.h\r\n    gcc -fPIC -c pg_query_wrap.c -I /usr/lib/jvm/jdk-11.0.7/include/ -I /usr/lib/jvm/jdk-11.0.7/include/linux/ &amp;&gt; errors.txt\r\n    cat errors.txt | grep &quot;error:&quot; | cut -d&#39; &#39; -f3- | sort | uniq\r\n\r\nIn that compile step I get a ton of errors which basically boil down to:\r\n\r\n```\r\nexpected expression before ‘)’ token\r\n‘PgQueryDeparseResult’ undeclared (first use in this function)\r\n‘PgQueryError’ undeclared (first use in this function)\r\n‘PgQueryFingerprintResult’ undeclared (first use in this function)\r\n‘PgQueryNormalizeResult’ undeclared (first use in this function)\r\n‘PgQueryParseResult’ undeclared (first use in this function)\r\n‘PgQueryPlpgsqlParseResult’ undeclared (first use in this function)\r\n‘PgQueryProtobufParseResult’ undeclared (first use in this function)\r\n‘PgQueryProtobuf’ undeclared (first use in this function)\r\n‘PgQueryScanResult’ undeclared (first use in this function)\r\n‘PgQuerySplitResult’ undeclared (first use in this function)\r\n‘PgQuerySplitStmt’ undeclared (first use in this function)\r\nrequest for member ‘context’ in something not a structure or union\r\nrequest for member ‘cursorpos’ in something not a structure or union\r\nrequest for member ‘data’ in something not a structure or union\r\nrequest for member ‘error’ in something not a structure or union\r\nrequest for member ‘filename’ in something not a structure or union\r\nrequest for member ‘fingerprint’ in something not a structure or union\r\nrequest for member ‘fingerprint_str’ in something not a structure or union\r\nrequest for member ‘funcname’ in something not a structure or union\r\nrequest for member ‘len’ in something not a structure or union\r\nrequest for member ‘lineno’ in something not a structure or union\r\nrequest for member ‘message’ in something not a structure or union\r\nrequest for member ‘normalized_query’ in something not a structure or union\r\nrequest for member ‘n_stmts’ in something not a structure or union\r\nrequest for member ‘parse_tree’ in something not a structure or union\r\nrequest for member ‘pbuf’ in something not a structure or union\r\nrequest for member ‘plpgsql_funcs’ in something not a structure or union\r\nrequest for member ‘query’ in something not a structure or union\r\nrequest for member ‘stderr_buffer’ in something not a structure or union\r\nrequest for member ‘stmt_len’ in something not a structure or union\r\nrequest for member ‘stmt_location’ in something not a structure or union\r\nrequest for member ‘stmts’ in something not a structure or union\r\n‘uint64_t’ undeclared (first use in this function); did you mean ‘u_int64_t’?\r\nunknown type name ‘PgQueryDeparseResult’\r\nunknown type name ‘PgQueryError’\r\nunknown type name ‘PgQueryFingerprintResult’\r\nunknown type name ‘PgQueryNormalizeResult’\r\nunknown type name ‘PgQueryParseResult’\r\nunknown type name ‘PgQueryPlpgsqlParseResult’\r\nunknown type name ‘PgQueryProtobuf’\r\nunknown type name ‘PgQueryProtobufParseResult’\r\nunknown type name ‘PgQueryScanResult’\r\nunknown type name ‘PgQuerySplitResult’\r\nunknown type name ‘PgQuerySplitStmt’\r\nunknown type name ‘uint64_t’; did you mean ‘u_int64_t’?\r\n```\r\n\r\nAs you can see, there are errors about undeclared types, about not using structures or unions, and about unknown types.  I&#39;ve found other similar StackOverflow questions regarding SWIG where the answers were to fix the C header file being wrapped, but I can&#39;t do that because I didn&#39;t write `pg_query.h`.  Is there something I can do with way I&#39;m invoking SWIG and/or the gcc compiler in order to make this work?  Thanks!\r\n\r\n**EDIT 1**\r\n\r\nFor whatever reason, using the simplest of all possible interface files worked, even though the SWIG documentation says that an interface file is not strictly necessary:\r\n\r\n```\r\n%module test\r\n%{\r\n#include &quot;pg_query.h&quot;\r\n%}\r\n%include &quot;pg_query.h&quot;\r\n```\r\n\r\nPerhaps another way to answer this question would be to say why this is needed.\r\n\r\n  [1]: https://github.com/pganalyze/libpg_query\r\n  [2]: https://pganalyze.com/\r\n  [3]: https://www.swig.org/","title":"How do I overcome gcc errors in SWIG-generated sources for libpg_query","body":"<p>How do I overcome gcc compiler errors in SWIG-generated C source files for the libpg_query library?  Here's what I mean.</p>\n<p><a href=\"https://github.com/pganalyze/libpg_query\" rel=\"nofollow noreferrer\">libpg_query</a> is a &quot;C library for accessing the PostgreSQL parser outside of the server&quot; maintained by the fine folks at <a href=\"https://pganalyze.com/\" rel=\"nofollow noreferrer\">pganalyze</a> but importantly, not by me.  It has bindings in Ruby, Go, and Python, but not in Java, so I would like to create them.  I'm trying to do that using <a href=\"https://www.swig.org/\" rel=\"nofollow noreferrer\">SWIG</a>.  The SWIG docs Introduction says, &quot;SWIG normally requires no modifications to existing code and can often be used to build a usable interface in only a few minutes.&quot;  Unfortunately, my hopes of that happening so far have been dashed.  I followed their Java guides and, for good measure, the Python one as well but encountered the same gcc compiler errors with the generated C source files.  Here are the detailed steps.</p>\n<pre><code>wget https://raw.githubusercontent.com/pganalyze/libpg_query/13-latest/pg_query.h\nswig -java -module test pg_query.h\ngcc -fPIC -c pg_query_wrap.c -I /usr/lib/jvm/jdk-11.0.7/include/ -I /usr/lib/jvm/jdk-11.0.7/include/linux/ &amp;&gt; errors.txt\ncat errors.txt | grep &quot;error:&quot; | cut -d' ' -f3- | sort | uniq\n</code></pre>\n<p>In that compile step I get a ton of errors which basically boil down to:</p>\n<pre><code>expected expression before ‘)’ token\n‘PgQueryDeparseResult’ undeclared (first use in this function)\n‘PgQueryError’ undeclared (first use in this function)\n‘PgQueryFingerprintResult’ undeclared (first use in this function)\n‘PgQueryNormalizeResult’ undeclared (first use in this function)\n‘PgQueryParseResult’ undeclared (first use in this function)\n‘PgQueryPlpgsqlParseResult’ undeclared (first use in this function)\n‘PgQueryProtobufParseResult’ undeclared (first use in this function)\n‘PgQueryProtobuf’ undeclared (first use in this function)\n‘PgQueryScanResult’ undeclared (first use in this function)\n‘PgQuerySplitResult’ undeclared (first use in this function)\n‘PgQuerySplitStmt’ undeclared (first use in this function)\nrequest for member ‘context’ in something not a structure or union\nrequest for member ‘cursorpos’ in something not a structure or union\nrequest for member ‘data’ in something not a structure or union\nrequest for member ‘error’ in something not a structure or union\nrequest for member ‘filename’ in something not a structure or union\nrequest for member ‘fingerprint’ in something not a structure or union\nrequest for member ‘fingerprint_str’ in something not a structure or union\nrequest for member ‘funcname’ in something not a structure or union\nrequest for member ‘len’ in something not a structure or union\nrequest for member ‘lineno’ in something not a structure or union\nrequest for member ‘message’ in something not a structure or union\nrequest for member ‘normalized_query’ in something not a structure or union\nrequest for member ‘n_stmts’ in something not a structure or union\nrequest for member ‘parse_tree’ in something not a structure or union\nrequest for member ‘pbuf’ in something not a structure or union\nrequest for member ‘plpgsql_funcs’ in something not a structure or union\nrequest for member ‘query’ in something not a structure or union\nrequest for member ‘stderr_buffer’ in something not a structure or union\nrequest for member ‘stmt_len’ in something not a structure or union\nrequest for member ‘stmt_location’ in something not a structure or union\nrequest for member ‘stmts’ in something not a structure or union\n‘uint64_t’ undeclared (first use in this function); did you mean ‘u_int64_t’?\nunknown type name ‘PgQueryDeparseResult’\nunknown type name ‘PgQueryError’\nunknown type name ‘PgQueryFingerprintResult’\nunknown type name ‘PgQueryNormalizeResult’\nunknown type name ‘PgQueryParseResult’\nunknown type name ‘PgQueryPlpgsqlParseResult’\nunknown type name ‘PgQueryProtobuf’\nunknown type name ‘PgQueryProtobufParseResult’\nunknown type name ‘PgQueryScanResult’\nunknown type name ‘PgQuerySplitResult’\nunknown type name ‘PgQuerySplitStmt’\nunknown type name ‘uint64_t’; did you mean ‘u_int64_t’?\n</code></pre>\n<p>As you can see, there are errors about undeclared types, about not using structures or unions, and about unknown types.  I've found other similar StackOverflow questions regarding SWIG where the answers were to fix the C header file being wrapped, but I can't do that because I didn't write <code>pg_query.h</code>.  Is there something I can do with way I'm invoking SWIG and/or the gcc compiler in order to make this work?  Thanks!</p>\n<p><strong>EDIT 1</strong></p>\n<p>For whatever reason, using the simplest of all possible interface files worked, even though the SWIG documentation says that an interface file is not strictly necessary:</p>\n<pre><code>%module test\n%{\n#include &quot;pg_query.h&quot;\n%}\n%include &quot;pg_query.h&quot;\n</code></pre>\n<p>Perhaps another way to answer this question would be to say why this is needed.</p>\n"},{"tags":["java","kotlin","rx-java","android-room","reactive-programming"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665266213,"creation_date":1665257668,"answer_id":74000008,"question_id":73992238,"body_markdown":"Sounds like you need `scan` to receive intermediate aggregates:\r\n\r\n```java\r\ngroupsDao.observeGroupsBySearchQuery(query)\r\n.switchMap(it -&gt;\r\n    Flowable.fromIterable(it)\r\n            .map(group -&gt; Group(group.symbol, group.number, group.name))\r\n            .scan(new ArrayList&lt;&gt;(), (state, t) -&gt; { state.add(t); return state; })\r\n            .skip(1)\r\n)\r\n```\r\n\r\nIf you plan to consume the intermediate list on a different thread, you&#39;ll have to make a copy every time:\r\n\r\n```java\r\n            .skip(1)\r\n            .map(list -&gt; new ArrayList&lt;&gt;(list))\r\n```","title":"Emit every Item od Flawable and append to List","body":"<p>Sounds like you need <code>scan</code> to receive intermediate aggregates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>groupsDao.observeGroupsBySearchQuery(query)\n.switchMap(it -&gt;\n    Flowable.fromIterable(it)\n            .map(group -&gt; Group(group.symbol, group.number, group.name))\n            .scan(new ArrayList&lt;&gt;(), (state, t) -&gt; { state.add(t); return state; })\n            .skip(1)\n)\n</code></pre>\n<p>If you plan to consume the intermediate list on a different thread, you'll have to make a copy every time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            .skip(1)\n            .map(list -&gt; new ArrayList&lt;&gt;(list))\n</code></pre>\n"}],"owner":{"account_id":18706275,"reputation":73,"user_id":13637376,"display_name":"Jacek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74000008,"answer_count":1,"score":0,"last_activity_date":1665266213,"creation_date":1665173932,"question_id":73992238,"body_markdown":"Can we set `Flowable` to emit every item when is ready, but append it to list (something like `buffer(int size)`  but without clear function)\r\nI make a search query on a database that returns a `Flowable &lt;List &lt;ItemEntity&gt;&gt;` , then I map each `ItemEntity` to an `ItemDomain`, and it returns a `Flowable &lt;List &lt;ItemDomain&gt;&gt;`.\r\nIs it possible for a `Flowable &lt;List &lt;ItemDomain&gt;&gt;` to return values sequentially, without waiting for the whole result(i.e. a one-item list first, then a two-item list, then a three-item list, etc.).\r\nWhen I change my search query, I want to receive the new list again.\r\n``` \r\noverride fun observeGroupsBySearchQuery(query: String): Flowable&lt;List&lt;Group&gt;&gt; {\r\n        return groupsDao.observeGroupsBySearchQuery(query)\r\n            .switchMap {\r\n                Flowable.fromIterable(it)\r\n                    .map { group -&gt;\r\n                        Group(group.symbol, group.number, group.name)\r\n                    }\r\n                    .toList() // I dont want to wait until finish, but I dont want to loose earlier emitted items\r\n                    .toFlowable()\r\n            }\r\n    }\r\n\r\n @Query(\r\n            value = &quot;&quot;&quot;\r\n        SELECT * \r\n        FROM Groups \r\n        WHERE symbol || number || name LIKE &#39;%&#39; || :query || &#39;%&#39; AND number != -1 AND active IS 1\r\n        &quot;&quot;&quot;)\r\n    abstract fun observeGroupsBySearchQuery(query: String): Flowable&lt;List&lt;GroupsEntity&gt;&gt; \r\n```\r\n\r\nAnd other interesting question is whether the database (room) can return the results one by one (do we have to use `pagination` for this)?","title":"Emit every Item od Flawable and append to List","body":"<p>Can we set <code>Flowable</code> to emit every item when is ready, but append it to list (something like <code>buffer(int size)</code>  but without clear function)\nI make a search query on a database that returns a <code>Flowable &lt;List &lt;ItemEntity&gt;&gt;</code> , then I map each <code>ItemEntity</code> to an <code>ItemDomain</code>, and it returns a <code>Flowable &lt;List &lt;ItemDomain&gt;&gt;</code>.\nIs it possible for a <code>Flowable &lt;List &lt;ItemDomain&gt;&gt;</code> to return values sequentially, without waiting for the whole result(i.e. a one-item list first, then a two-item list, then a three-item list, etc.).\nWhen I change my search query, I want to receive the new list again.</p>\n<pre><code>override fun observeGroupsBySearchQuery(query: String): Flowable&lt;List&lt;Group&gt;&gt; {\n        return groupsDao.observeGroupsBySearchQuery(query)\n            .switchMap {\n                Flowable.fromIterable(it)\n                    .map { group -&gt;\n                        Group(group.symbol, group.number, group.name)\n                    }\n                    .toList() // I dont want to wait until finish, but I dont want to loose earlier emitted items\n                    .toFlowable()\n            }\n    }\n\n @Query(\n            value = &quot;&quot;&quot;\n        SELECT * \n        FROM Groups \n        WHERE symbol || number || name LIKE '%' || :query || '%' AND number != -1 AND active IS 1\n        &quot;&quot;&quot;)\n    abstract fun observeGroupsBySearchQuery(query: String): Flowable&lt;List&lt;GroupsEntity&gt;&gt; \n</code></pre>\n<p>And other interesting question is whether the database (room) can return the results one by one (do we have to use <code>pagination</code> for this)?</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665266073,"creation_date":1665266073,"answer_id":74000789,"question_id":74000732,"body_markdown":"You&#39;re mocking the class under test, it should be\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class CategoryServiceTest{\r\n\r\n    @InjectMocks\r\n    private CategoryService categoryService;\r\n```","title":"Spring Boot JUnit Service Mockito Null Pointer Exception","body":"<p>You're mocking the class under test, it should be</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class CategoryServiceTest{\n\n    @InjectMocks\n    private CategoryService categoryService;\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74000789,"answer_count":1,"score":0,"last_activity_date":1665266073,"creation_date":1665265394,"question_id":74000732,"body_markdown":"I have a problem about writing a JUnit Service with Mockito in Spring Boot example.\r\n\r\nI got null pointer exception for result as it has null.\r\n\r\nHow can I fix that issue?\r\n\r\nHere are the code snippets shown below.\r\n\r\nHere is the service class of Category\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CategoryService {\r\n    \r\n        private final CategoryRepository categoryRepository;\r\n    \r\n    \r\n        public Category findCategory(Long id) {\r\n            return categoryRepository.findById(id).orElseThrow();\r\n        }\r\n    \r\n        public Category findByName(String value) {\r\n            return categoryRepository.findByName(value).orElseThrow();\r\n        }\r\n    }\r\n\r\nHere is the JUnit Service class shown below\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class CategoryServiceTest{\r\n    \r\n        @Mock\r\n        private CategoryService categoryService;\r\n    \r\n        @Mock\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        @Test\r\n        void givenCategory_whenLoadCategory_thenReturnCategory() {\r\n    \r\n            // given - precondition or setup\r\n            Category category = Category.builder().name(&quot;Category 1&quot;).build();\r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            when(categoryRepository.findById(anyLong())).thenReturn(Optional.of(category));\r\n    \r\n            Category result = categoryService.findCategory(anyLong());  // return null\r\n    \r\n            // then - verify the output\r\n            assertEquals(category.getName(), result.getName());\r\n    \r\n        }\r\n    \r\n        @Test\r\n        void givenCategory_whenFindByName_thenReturnCategory() {\r\n    \r\n            Category category = Category.builder().name(&quot;Category 1&quot;).build();\r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            when(categoryRepository.findByName(&quot;Category 1&quot;)).thenReturn(Optional.of(category));\r\n    \r\n            Category result  = categoryService.findByName(&quot;Category 1&quot;); // return null\r\n    \r\n            // then - verify the output\r\n            assertEquals(category.getName(), result.getName());\r\n        }\r\n    }","title":"Spring Boot JUnit Service Mockito Null Pointer Exception","body":"<p>I have a problem about writing a JUnit Service with Mockito in Spring Boot example.</p>\n<p>I got null pointer exception for result as it has null.</p>\n<p>How can I fix that issue?</p>\n<p>Here are the code snippets shown below.</p>\n<p>Here is the service class of Category</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class CategoryService {\n\n    private final CategoryRepository categoryRepository;\n\n\n    public Category findCategory(Long id) {\n        return categoryRepository.findById(id).orElseThrow();\n    }\n\n    public Category findByName(String value) {\n        return categoryRepository.findByName(value).orElseThrow();\n    }\n}\n</code></pre>\n<p>Here is the JUnit Service class shown below</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class CategoryServiceTest{\n\n    @Mock\n    private CategoryService categoryService;\n\n    @Mock\n    private CategoryRepository categoryRepository;\n\n    @Test\n    void givenCategory_whenLoadCategory_thenReturnCategory() {\n\n        // given - precondition or setup\n        Category category = Category.builder().name(&quot;Category 1&quot;).build();\n\n        // when -  action or the behaviour that we are going test\n        when(categoryRepository.findById(anyLong())).thenReturn(Optional.of(category));\n\n        Category result = categoryService.findCategory(anyLong());  // return null\n\n        // then - verify the output\n        assertEquals(category.getName(), result.getName());\n\n    }\n\n    @Test\n    void givenCategory_whenFindByName_thenReturnCategory() {\n\n        Category category = Category.builder().name(&quot;Category 1&quot;).build();\n\n        // when -  action or the behaviour that we are going test\n        when(categoryRepository.findByName(&quot;Category 1&quot;)).thenReturn(Optional.of(category));\n\n        Category result  = categoryService.findByName(&quot;Category 1&quot;); // return null\n\n        // then - verify the output\n        assertEquals(category.getName(), result.getName());\n    }\n}\n</code></pre>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":2019593,"reputation":7840,"user_id":1806099,"accept_rate":75,"display_name":"Skynet"},"score":0,"creation_date":1533118839,"post_id":51630716,"comment_id":90225841,"body_markdown":"Queue implements Iterable. `for(DataType dt: queue){ \ndoTask(dt) \n}` Where `DataType` can be the DataType of your choice - String etc. and `queue` is your Queue Object.","body":"Queue implements Iterable. <code>for(DataType dt: queue){  doTask(dt)  }</code> Where <code>DataType</code> can be the DataType of your choice - String etc. and <code>queue</code> is your Queue Object."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1533119124,"post_id":51630716,"comment_id":90226012,"body_markdown":"Maybe using a `Queue` is the wrong approach here?","body":"Maybe using a <code>Queue</code> is the wrong approach here?"}],"answers":[{"tags":[],"owner":{"account_id":1657013,"reputation":103,"user_id":1526278,"accept_rate":17,"display_name":"InExperience"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533119147,"creation_date":1533119147,"answer_id":51630994,"question_id":51630716,"body_markdown":"it supports FIFO, and size() you can&#39;t have the index of it. You have to count the remove actions on the pile.","title":"How to get the position of a element in a Queue","body":"<p>it supports FIFO, and size() you can't have the index of it. You have to count the remove actions on the pile.</p>\n"},{"tags":[],"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1533120072,"creation_date":1533119733,"answer_id":51631185,"question_id":51630716,"body_markdown":"As you already knew that [`queue`][1] is a collection that gives us `FIFO` by adding (to the last) and polling (from the head/first). \r\n\r\nWhich it also means there is no guarantee that you can use it to locate its `index/position` in the queue. \r\n\r\nIf you really need something like that, instead you can try [`List`][2]  to achieve the same effect as follows using `add(E e)` and `remove(0)` and `indexOf(Object o)`:\r\n\r\n    public static void main(String... args) {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        int[] arr = new int[]{1,0,5,4,7,8,6};\r\n        for (int a : arr) {\r\n            list.add(a);\r\n        }\r\n        System.out.println(&quot;After adding: &quot; + list);\r\n        System.out.println(list.indexOf(4));\r\n        System.out.print(&quot;Popping out now: &quot;);\r\n        while(!list.isEmpty()) {\r\n            System.out.print(list.remove(0) + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nAnd the result will be:\r\n\r\n    After adding: [1, 0, 5, 4, 7, 8, 6]\r\n    3 // you can find the index easily;\r\n    Popping out now: 1 0 5 4 7 8 6 // still FIFO;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html","title":"How to get the position of a element in a Queue","body":"<p>As you already knew that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\" rel=\"nofollow noreferrer\"><code>queue</code></a> is a collection that gives us <code>FIFO</code> by adding (to the last) and polling (from the head/first). </p>\n\n<p>Which it also means there is no guarantee that you can use it to locate its <code>index/position</code> in the queue. </p>\n\n<p>If you really need something like that, instead you can try <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a>  to achieve the same effect as follows using <code>add(E e)</code> and <code>remove(0)</code> and <code>indexOf(Object o)</code>:</p>\n\n<pre><code>public static void main(String... args) {\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    int[] arr = new int[]{1,0,5,4,7,8,6};\n    for (int a : arr) {\n        list.add(a);\n    }\n    System.out.println(\"After adding: \" + list);\n    System.out.println(list.indexOf(4));\n    System.out.print(\"Popping out now: \");\n    while(!list.isEmpty()) {\n        System.out.print(list.remove(0) + \" \");\n    }\n}\n</code></pre>\n\n<p>And the result will be:</p>\n\n<pre><code>After adding: [1, 0, 5, 4, 7, 8, 6]\n3 // you can find the index easily;\nPopping out now: 1 0 5 4 7 8 6 // still FIFO;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3276547,"reputation":188,"user_id":2758382,"display_name":"TheCrimsonSpace"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533119909,"creation_date":1533119909,"answer_id":51631236,"question_id":51630716,"body_markdown":"The default interface of Queue does not have any methods for this.  If you need this functionality I think you&#39;ll have to create your own implementation of the interface using an indexed collection under the hood.","title":"How to get the position of a element in a Queue","body":"<p>The default interface of Queue does not have any methods for this.  If you need this functionality I think you'll have to create your own implementation of the interface using an indexed collection under the hood.</p>\n"},{"tags":[],"owner":{"account_id":14071948,"reputation":27,"user_id":10165255,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533120375,"creation_date":1533120002,"answer_id":51631262,"question_id":51630716,"body_markdown":"Queue may not be the best solution as it doesn&#39;t store an index.\r\nHowever, queue implements [Iterable](https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html) so you could iterate over the structure:\r\n\r\n        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\r\n\r\n        queue.add(1);\r\n        queue.add(0);\r\n        queue.add(5);\r\n        queue.add(4);\r\n        queue.add(7);\r\n        queue.add(8);\r\n        queue.add(6);\r\n\r\n        int lookingFor = 0;\r\n\r\n        int counter = 0;\r\n        for (Integer number : queue) {\r\n            if (number == lookingFor) {\r\n                System.out.println(lookingFor + &quot; is at position &quot; + counter + &quot; in the queue.&quot;);\r\n                break;\r\n            }\r\n            else counter++;\r\n        }\r\n\r\nThis will output the following:\r\n\r\n`0 is at position 1 in the queue.`\r\n\r\nNote this will find the first occurrence of 0 only.\r\n","title":"How to get the position of a element in a Queue","body":"<p>Queue may not be the best solution as it doesn't store an index.\nHowever, queue implements <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">Iterable</a> so you could iterate over the structure:</p>\n\n<pre><code>    Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\n\n    queue.add(1);\n    queue.add(0);\n    queue.add(5);\n    queue.add(4);\n    queue.add(7);\n    queue.add(8);\n    queue.add(6);\n\n    int lookingFor = 0;\n\n    int counter = 0;\n    for (Integer number : queue) {\n        if (number == lookingFor) {\n            System.out.println(lookingFor + \" is at position \" + counter + \" in the queue.\");\n            break;\n        }\n        else counter++;\n    }\n</code></pre>\n\n<p>This will output the following:</p>\n\n<p><code>0 is at position 1 in the queue.</code></p>\n\n<p>Note this will find the first occurrence of 0 only.</p>\n"},{"tags":[],"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665265707,"creation_date":1665265707,"answer_id":74000758,"question_id":51630716,"body_markdown":"    String value = &quot;Value&quot;;\r\n    Queue&lt;String&gt; queueList= new LinkedList&lt;&gt;();\r\n    List listQueue= new ArrayList(queueList);\r\n\r\n    System.out.println(&quot;Index of : &quot; + lista.indexOf(&quot;Value&quot;));","title":"How to get the position of a element in a Queue","body":"<pre><code>String value = &quot;Value&quot;;\nQueue&lt;String&gt; queueList= new LinkedList&lt;&gt;();\nList listQueue= new ArrayList(queueList);\n\nSystem.out.println(&quot;Index of : &quot; + lista.indexOf(&quot;Value&quot;));\n</code></pre>\n"}],"owner":{"account_id":13309518,"reputation":138,"user_id":9608256,"display_name":"Lost2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8150,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":51631185,"answer_count":5,"score":0,"last_activity_date":1665265707,"creation_date":1533118367,"question_id":51630716,"body_markdown":"Is there a simpel way to get the current position of a element in a Queue for example:\r\n\r\nMy current queue is [1,0,5,4,7,8,6]\r\n\r\ni want to know the position of the 4 in this queue, in this exampel its 3, is there a way to achieve this with the java queue?","title":"How to get the position of a element in a Queue","body":"<p>Is there a simpel way to get the current position of a element in a Queue for example:</p>\n\n<p>My current queue is [1,0,5,4,7,8,6]</p>\n\n<p>i want to know the position of the 4 in this queue, in this exampel its 3, is there a way to achieve this with the java queue?</p>\n"},{"tags":["java","if-statement","exception","enums","sonarqube"],"comments":[{"owner":{"account_id":435105,"reputation":6948,"user_id":821497,"accept_rate":60,"display_name":"ciamej"},"score":0,"creation_date":1665248837,"post_id":73998923,"comment_id":130657611,"body_markdown":"Why does defineColorLevel have such arguments? Why all the strings yellow, red, and so on, if only one of them is ever used? Why color isn&#39;t an enum itself, but a string?","body":"Why does defineColorLevel have such arguments? Why all the strings yellow, red, and so on, if only one of them is ever used? Why color isn&#39;t an enum itself, but a string?"}],"answers":[{"comments":[{"owner":{"account_id":22386711,"reputation":19,"user_id":16599418,"display_name":"Etienne Savary"},"score":0,"creation_date":1665259068,"post_id":73999125,"comment_id":130659672,"body_markdown":"Thanks you also. I think with both or yours answer I could perform something good. :)\n\nI&#39;ll keep you posted here.\n\nBest","body":"Thanks you also. I think with both or yours answer I could perform something good. :)  I&#39;ll keep you posted here.  Best"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665250399,"creation_date":1665250051,"answer_id":73999125,"question_id":73998923,"body_markdown":"# Use the power of Objects\r\n\r\nBasically you need to combine the type of color `&quot;yellow&quot;`, `&quot;red&quot;`, `&quot;blue&quot;`, etc. and its `value` in order to avoid redundant logic.\r\n\r\nFor that, you can define a class or a Java 16 [record](https://docs.oracle.com/en/java/javase/18/language/records.html). I&#39;ll go with the latter option:\r\n\r\n```\r\npublic record ColorValue(String value, ColorType type) {}\r\n```\r\nWhere `ColorType` is your *enum*. Yes, you can the same enum to **classify** the types of colors and hold the error message. Therefore `ColorType` is more descriptive name.\r\n\r\n    public enum ColorType {\r\n        \r\n        YELLOW(&quot;The value for field yellow is missing&quot;),\r\n        RED(&quot;The value for field red is missing&quot;),\r\n        BLUE(&quot;The value for field blue is missing&quot;),\r\n        ... etc.\r\n    \r\n        // the rest code without changes\r\n    }\r\n\r\nAnd your method that responsible for performing validation might look like this:\r\n\r\n    private String throwErrorIfValueIsNullOrReturnIt(ColorValue color) throws MyException {\r\n        if (color.value() == null)\r\n            throw new MyException(color.type().getMessage());\r\n        \r\n        return color.value();\r\n    }\r\n\r\n**Note:** avoid using `Exception` type, try to use the most specific exception subtypes suitable for your case, or create a custom exception.","title":"How to match Nullable String variable with its corresponding Enum value in Java?","body":"<h1>Use the power of Objects</h1>\n<p>Basically you need to combine the type of color <code>&quot;yellow&quot;</code>, <code>&quot;red&quot;</code>, <code>&quot;blue&quot;</code>, etc. and its <code>value</code> in order to avoid redundant logic.</p>\n<p>For that, you can define a class or a Java 16 <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\">record</a>. I'll go with the latter option:</p>\n<pre><code>public record ColorValue(String value, ColorType type) {}\n</code></pre>\n<p>Where <code>ColorType</code> is your <em>enum</em>. Yes, you can the same enum to <strong>classify</strong> the types of colors and hold the error message. Therefore <code>ColorType</code> is more descriptive name.</p>\n<pre><code>public enum ColorType {\n    \n    YELLOW(&quot;The value for field yellow is missing&quot;),\n    RED(&quot;The value for field red is missing&quot;),\n    BLUE(&quot;The value for field blue is missing&quot;),\n    ... etc.\n\n    // the rest code without changes\n}\n</code></pre>\n<p>And your method that responsible for performing validation might look like this:</p>\n<pre><code>private String throwErrorIfValueIsNullOrReturnIt(ColorValue color) throws MyException {\n    if (color.value() == null)\n        throw new MyException(color.type().getMessage());\n    \n    return color.value();\n}\n</code></pre>\n<p><strong>Note:</strong> avoid using <code>Exception</code> type, try to use the most specific exception subtypes suitable for your case, or create a custom exception.</p>\n"},{"comments":[{"owner":{"account_id":22386711,"reputation":19,"user_id":16599418,"display_name":"Etienne Savary"},"score":0,"creation_date":1665258598,"post_id":73999170,"comment_id":130659562,"body_markdown":"Thanks for this answer.\n\nAs I said, I tried to simplify the context. Colors are just a simpler model.\nI need all arguments to define final colors.\nImagine values are a 3 letters combination and I need all of these several times (I am in a loop) to get final result with expected entry.\nBy the way, I &#39;ll have a look and test this approach in my context. Thanks :-)","body":"Thanks for this answer.  As I said, I tried to simplify the context. Colors are just a simpler model. I need all arguments to define final colors. Imagine values are a 3 letters combination and I need all of these several times (I am in a loop) to get final result with expected entry. By the way, I &#39;ll have a look and test this approach in my context. Thanks :-)"}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665250464,"creation_date":1665250464,"answer_id":73999170,"question_id":73998923,"body_markdown":"The error messages differ only in color name. I would create a function to build the error message dynamically:\r\n```\r\npublic class ErrorMessageBuilder implements Function&lt;String, String&gt; {\r\n\r\n    @Override\r\n    public String apply(String colorName) {\r\n        return String.format(&quot;The value for field %s is missing&quot;, colorName);\r\n    }\r\n}\r\n```\r\nYou can cache the function somewhere appropriate, it is stateless. Then simplify `defineColorLevel` to have only 2 parameters, `color` and `value`.\r\n```\r\nprivate String defineColorLevel(String color, String value) throws Exception {\r\n    ErrorMessageBuilder errorMessageBuilder = new ErrorMessageBuilder();\r\n    //validate color somehow, if needed at all\r\n    if (value == null) {\r\n        throw new Exception(errorMessageBuilder.apply(color));\r\n    }\r\n    return value;\r\n}\r\n```\r\nAdditionally, to guard against invalid colors, you can define an `enum` with valid ones, or a `Set`, or something else depending on exact use case.","title":"How to match Nullable String variable with its corresponding Enum value in Java?","body":"<p>The error messages differ only in color name. I would create a function to build the error message dynamically:</p>\n<pre><code>public class ErrorMessageBuilder implements Function&lt;String, String&gt; {\n\n    @Override\n    public String apply(String colorName) {\n        return String.format(&quot;The value for field %s is missing&quot;, colorName);\n    }\n}\n</code></pre>\n<p>You can cache the function somewhere appropriate, it is stateless. Then simplify <code>defineColorLevel</code> to have only 2 parameters, <code>color</code> and <code>value</code>.</p>\n<pre><code>private String defineColorLevel(String color, String value) throws Exception {\n    ErrorMessageBuilder errorMessageBuilder = new ErrorMessageBuilder();\n    //validate color somehow, if needed at all\n    if (value == null) {\n        throw new Exception(errorMessageBuilder.apply(color));\n    }\n    return value;\n}\n</code></pre>\n<p>Additionally, to guard against invalid colors, you can define an <code>enum</code> with valid ones, or a <code>Set</code>, or something else depending on exact use case.</p>\n"}],"owner":{"account_id":22386711,"reputation":19,"user_id":16599418,"display_name":"Etienne Savary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665265090,"creation_date":1665248450,"question_id":73998923,"body_markdown":"I&#39;ll try to simplify the context. I have to improve that kind of code.\r\n\r\nPlease consider this enum : \r\n\r\n    public enum ErrorColor {\r\n        \r\n        YELLOW_VALUE_IS_MISSING(&quot;The value for field yellow is missing&quot;),\r\n        RED_VALUE_IS_MISSING(&quot;The value for field red is missing&quot;),\r\n        BLUE_VALUE_IS_MISSING(&quot;The value for field blue is missing&quot;),\r\n        GREEN_VALUE_IS_MISSING(&quot;The value for field green is missing&quot;),\r\n        PURPLE_VALUE_IS_MISSING(&quot;The value for field purple is missing&quot;);\r\n        \r\n        ErrorColor(String message) {this.message = message;}\r\n        \r\n        private String message;\r\n        \r\n        public String getMessage() {return message;}\r\n    }\r\n\r\nNow its membered are used in another class:\r\n\r\n    private String defineColorLevel(String color, String yellow, \r\n                                    String red, String blue, String green, \r\n                                    String purple) throws Exception {\r\n        switch(color){\r\n            case &quot;yellow&quot; : {\r\n                if (yellow == null)\r\n                    throw new Exception(ErrorColor.YELLOW_VALUE_IS_MISSING.getMessage());\r\n                return yellow;\r\n            }\r\n            case &quot;red&quot; : {\r\n                if (red == null)\r\n                    throw new Exception(ErrorColor.RED_VALUE_IS_MISSING.getMessage());\r\n                return red;\r\n            }\r\n            case &quot;blue&quot; : {\r\n                if (blue == null)\r\n                    throw new Exception(ErrorColor.BLUE_VALUE_IS_MISSING.getMessage());\r\n                return blue;\r\n            }\r\n            case &quot;green&quot; : {\r\n                if (green == null)\r\n                    throw new Exception(ErrorColor.GREEN_VALUE_IS_MISSING.getMessage());\r\n                return green;\r\n            }\r\n            case &quot;purple&quot; : {\r\n                if (purple== null)\r\n                    throw new Exception(ErrorColor.PURPLE_VALUE_IS_MISSING.getMessage());\r\n                return purple;\r\n            }\r\n            default: throw new Exception(&quot;UnexpectedError&quot;);\r\n        }\r\n    }\r\n\r\nActually, I have more than 15 cases with `if`-statements like these one and Sonar is not happy at all...\r\n\r\nCould you please suggest a way to avoid this redundancy?\r\n\r\nI&#39;ve tried a method similar to:\r\n\r\n    private String throwErrorIfValueIsNullOrReturnIt(String value) {\r\n        if (value == null)\r\n            throw new Exception(Error.colorIsMissing(value));\r\n        \r\n        return value;\r\n    }\r\n    \r\nwith the corresponding method in the enum to build the message but...  When value is `null` I can&#39;t use it to match with the corresponding missing input, neither to build the message.\r\n\r\nAnd obviously, I can&#39;t use the name of the `String` variable. Can I fix that, or should I let Sonar cry? ","title":"How to match Nullable String variable with its corresponding Enum value in Java?","body":"<p>I'll try to simplify the context. I have to improve that kind of code.</p>\n<p>Please consider this enum :</p>\n<pre><code>public enum ErrorColor {\n    \n    YELLOW_VALUE_IS_MISSING(&quot;The value for field yellow is missing&quot;),\n    RED_VALUE_IS_MISSING(&quot;The value for field red is missing&quot;),\n    BLUE_VALUE_IS_MISSING(&quot;The value for field blue is missing&quot;),\n    GREEN_VALUE_IS_MISSING(&quot;The value for field green is missing&quot;),\n    PURPLE_VALUE_IS_MISSING(&quot;The value for field purple is missing&quot;);\n    \n    ErrorColor(String message) {this.message = message;}\n    \n    private String message;\n    \n    public String getMessage() {return message;}\n}\n</code></pre>\n<p>Now its membered are used in another class:</p>\n<pre><code>private String defineColorLevel(String color, String yellow, \n                                String red, String blue, String green, \n                                String purple) throws Exception {\n    switch(color){\n        case &quot;yellow&quot; : {\n            if (yellow == null)\n                throw new Exception(ErrorColor.YELLOW_VALUE_IS_MISSING.getMessage());\n            return yellow;\n        }\n        case &quot;red&quot; : {\n            if (red == null)\n                throw new Exception(ErrorColor.RED_VALUE_IS_MISSING.getMessage());\n            return red;\n        }\n        case &quot;blue&quot; : {\n            if (blue == null)\n                throw new Exception(ErrorColor.BLUE_VALUE_IS_MISSING.getMessage());\n            return blue;\n        }\n        case &quot;green&quot; : {\n            if (green == null)\n                throw new Exception(ErrorColor.GREEN_VALUE_IS_MISSING.getMessage());\n            return green;\n        }\n        case &quot;purple&quot; : {\n            if (purple== null)\n                throw new Exception(ErrorColor.PURPLE_VALUE_IS_MISSING.getMessage());\n            return purple;\n        }\n        default: throw new Exception(&quot;UnexpectedError&quot;);\n    }\n}\n</code></pre>\n<p>Actually, I have more than 15 cases with <code>if</code>-statements like these one and Sonar is not happy at all...</p>\n<p>Could you please suggest a way to avoid this redundancy?</p>\n<p>I've tried a method similar to:</p>\n<pre><code>private String throwErrorIfValueIsNullOrReturnIt(String value) {\n    if (value == null)\n        throw new Exception(Error.colorIsMissing(value));\n    \n    return value;\n}\n</code></pre>\n<p>with the corresponding method in the enum to build the message but...  When value is <code>null</code> I can't use it to match with the corresponding missing input, neither to build the message.</p>\n<p>And obviously, I can't use the name of the <code>String</code> variable. Can I fix that, or should I let Sonar cry?</p>\n"},{"tags":["java","android","json","performance","inputstream"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1427364466,"post_id":29275712,"comment_id":46750198,"body_markdown":"You can use Jackson and its streaming API, for instance","body":"You can use Jackson and its streaming API, for instance"},{"owner":{"account_id":1802659,"reputation":4947,"user_id":1640578,"display_name":"Yogendra"},"score":0,"creation_date":1427366597,"post_id":29275712,"comment_id":46751310,"body_markdown":"http://stackoverflow.com/questions/29272990/get-selected-items-data-in-listview-fetched-from-json/29273258#29273258","body":"<a href=\"http://stackoverflow.com/questions/29272990/get-selected-items-data-in-listview-fetched-from-json/29273258#29273258\" title=\"get selected items data in listview fetched from json\">stackoverflow.com/questions/29272990/&hellip;</a>"},{"owner":{"account_id":1802659,"reputation":4947,"user_id":1640578,"display_name":"Yogendra"},"score":1,"creation_date":1427366762,"post_id":29275712,"comment_id":46751411,"body_markdown":"http://developer.android.com/reference/android/util/JsonReader.html\nhttp://www.androidhive.info/2014/09/android-json-parsing-using-volley/","body":"<a href=\"http://developer.android.com/reference/android/util/JsonReader.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/util/JsonReader.html</a> <a href=\"http://www.androidhive.info/2014/09/android-json-parsing-using-volley/\" rel=\"nofollow noreferrer\">androidhive.info/2014/09/android-json-parsing-using-volley</a>"},{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":0,"creation_date":1427367451,"post_id":29275712,"comment_id":46751761,"body_markdown":"Can you show the JSON and the part you are interested in?","body":"Can you show the JSON and the part you are interested in?"},{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1427372267,"post_id":29275712,"comment_id":46754438,"body_markdown":"@Ridcully:I&#39;ll post how I am trying to do it as soon as possible to give more info","body":"@Ridcully:I&#39;ll post how I am trying to do it as soon as possible to give more info"},{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1427447839,"post_id":29275712,"comment_id":46789396,"body_markdown":"@Ridcully:Check updated OP please","body":"@Ridcully:Check updated OP please"}],"answers":[{"tags":[],"owner":{"account_id":2233126,"reputation":121,"user_id":1970253,"display_name":"Teemu L&#228;tti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427367150,"creation_date":1427367150,"answer_id":29276615,"question_id":29275712,"body_markdown":"If you want just to take some parts of the structure returned as response, you can do it manually:\r\n\r\n    try {\r\n        // if response is a single object:\r\n        JSONObject obe = new JSONObject( response );\r\n        int value = json.getInt( &quot;tag&quot; );\r\n        // or if it is an array:\r\n        JSONArray obes = new JSONArray( response );\r\n        JSONObject obe = obes.getJSONObject( 0 );\r\n    } catch ( JSONException e ) {\r\n    }\r\n","title":"Best way to process a huge HTTP JSON response","body":"<p>If you want just to take some parts of the structure returned as response, you can do it manually:</p>\n\n<pre><code>try {\n    // if response is a single object:\n    JSONObject obe = new JSONObject( response );\n    int value = json.getInt( \"tag\" );\n    // or if it is an array:\n    JSONArray obes = new JSONArray( response );\n    JSONObject obe = obes.getJSONObject( 0 );\n} catch ( JSONException e ) {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1427457304,"post_id":29298958,"comment_id":46794918,"body_markdown":"`parses the input stream during reading` could you please elaborate on that part? My understanding is that the inputstream is the whole response already donwloaded from the server. Is that not the case?","body":"<code>parses the input stream during reading</code> could you please elaborate on that part? My understanding is that the inputstream is the whole response already donwloaded from the server. Is that not the case?"},{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":0,"creation_date":1427473340,"post_id":29298958,"comment_id":46805271,"body_markdown":"Not necessarily. It depends on how the server sends the data. However, independently of that, there is no need for you to read the whole data from the inputstream and build a huge string from it and then parse it all. Using this ContentFinder approach is as fast as you can get and it is also does not require much memory (so no GC problems) as the data you are not interested in are not kept around in memory.","body":"Not necessarily. It depends on how the server sends the data. However, independently of that, there is no need for you to read the whole data from the inputstream and build a huge string from it and then parse it all. Using this ContentFinder approach is as fast as you can get and it is also does not require much memory (so no GC problems) as the data you are not interested in are not kept around in memory."},{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1427491832,"post_id":29298958,"comment_id":46814824,"body_markdown":"Could I use the SAX approach with volley?","body":"Could I use the SAX approach with volley?"},{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":0,"creation_date":1427610172,"post_id":29298958,"comment_id":46842884,"body_markdown":"Sure you could, but as far as I&#39;ve seen they first read all the response and invoke the `onResponse()` method with the whole string. Perhaps you can overcome that with a custom request but I didn&#39;t find that at a quick glance.","body":"Sure you could, but as far as I&#39;ve seen they first read all the response and invoke the <code>onResponse()</code> method with the whole string. Perhaps you can overcome that with a custom request but I didn&#39;t find that at a quick glance."},{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1427898321,"post_id":29298958,"comment_id":46963375,"body_markdown":"I accept the answer but I did not use json simple. I followed this: http://pivotallabs.com/parsing-json-data-efficiently-on-android-jsonreader/","body":"I accept the answer but I did not use json simple. I followed this: <a href=\"http://pivotallabs.com/parsing-json-data-efficiently-on-android-jsonreader/\" rel=\"nofollow noreferrer\">pivotallabs.com/&hellip;</a>"},{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1427960430,"post_id":29298958,"comment_id":46989219,"body_markdown":"Thank you for the SAX suggestion!","body":"Thank you for the SAX suggestion!"}],"tags":[],"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427453476,"creation_date":1427453476,"answer_id":29298958,"question_id":29275712,"body_markdown":"You should use something that parses the inputstream during reading.\r\n\r\nSimilar to SAX parsers for XML there are such implementations for JSON too. There&#39;s Jackson for one and alsp [json-simple][1] which has a quite simple approach to it, [expained here][2].\r\n\r\nIf I understand your code right, you are mainly looking for everything under key `&quot;individualroles&quot;`. So with this SAX-like parser you&#39;d implement a `ContentFinder` like the `KeyFinder` in the example and that is invoked by the Parser as soon as the required key is reached in the inputstream. Now you can handle that part of the JSON and then you can end the parsing/reading alltogether.\r\n\r\nI&#39;m sorry I cannot provide a more detailed explanation but I haven&#39;t used that particular library myself, it&#39;s just knowledge from SAX-parsers mapped to JSON I can provide.\r\n\r\n\r\n  [1]: https://code.google.com/p/json-simple/\r\n  [2]: https://code.google.com/p/json-simple/wiki/DecodingExamples#Example_5_-_Stoppable_SAX-like_content_handler","title":"Best way to process a huge HTTP JSON response","body":"<p>You should use something that parses the inputstream during reading.</p>\n\n<p>Similar to SAX parsers for XML there are such implementations for JSON too. There's Jackson for one and alsp <a href=\"https://code.google.com/p/json-simple/\" rel=\"nofollow\">json-simple</a> which has a quite simple approach to it, <a href=\"https://code.google.com/p/json-simple/wiki/DecodingExamples#Example_5_-_Stoppable_SAX-like_content_handler\" rel=\"nofollow\">expained here</a>.</p>\n\n<p>If I understand your code right, you are mainly looking for everything under key <code>\"individualroles\"</code>. So with this SAX-like parser you'd implement a <code>ContentFinder</code> like the <code>KeyFinder</code> in the example and that is invoked by the Parser as soon as the required key is reached in the inputstream. Now you can handle that part of the JSON and then you can end the parsing/reading alltogether.</p>\n\n<p>I'm sorry I cannot provide a more detailed explanation but I haven't used that particular library myself, it's just knowledge from SAX-parsers mapped to JSON I can provide.</p>\n"},{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665264800,"creation_date":1665264800,"answer_id":74000678,"question_id":29275712,"body_markdown":"Use `JsonParser` from [jackson-core][1].\r\n\r\nIt provides api to read token by token from input stream.\r\n\r\nSample json\r\n\r\n```json\r\n{\r\n    &quot;employees&quot; : [\r\n        {\r\n            &quot;empNo&quot;:10001,\r\n            &quot;birthDate&quot;:&quot;02 September 1953&quot;,\r\n            &quot;firstName&quot;:&quot;Georgi&quot;,\r\n            &quot;lastName&quot;:&quot;Facello&quot;,\r\n            &quot;gender&quot;:&quot;M&quot;,\r\n            &quot;hireDate&quot;:&quot;26 June 1986&quot;\r\n        }\r\n        ...\r\n    ]\r\n}\r\n```\r\n\r\nFollowing are some cods with explanations for parsing above json response.\r\n\r\n```java\r\n// Create a parser from the response input stream\r\nJsonParser jsonParser = objectMapper.getFactory().createParser(response.getBody());\r\n    \r\n    // Some condition checking, basically checking the response having `{`\r\n    if(jsonParser.nextToken() == JsonToken.START_OBJECT) {\r\n        // Checking the response having the field `&quot;employees&quot;`\r\n        if(jsonParser.nextFieldName() == &quot;employees&quot;) {\r\n            // Checking the response having the token `[`\r\n            if(jsonParser.nextToken() == JsonToken.START_ARRAY) {\r\n                // Loop until `]` found\r\n\t\t\t    while(jsonParser.nextToken() != JsonToken.END_ARRAY) {\r\n                    // Extract domain object\r\n\t\t\t\t    Employee employee = jsonParser.readValueAs(Employee.class);\r\n\t\t\t\t\t// Do whatever with the domain object.\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n// Finally closing the parser.\r\njsonParser.close();\r\n```\r\n\r\nAbove example is taken from [this blog post.][2]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-core\r\n  [2]: https://dev.to/ratulsharker/consume-large-json-response-in-spring-421j","title":"Best way to process a huge HTTP JSON response","body":"<p>Use <code>JsonParser</code> from <a href=\"https://github.com/FasterXML/jackson-core\" rel=\"nofollow noreferrer\">jackson-core</a>.</p>\n<p>It provides api to read token by token from input stream.</p>\n<p>Sample json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;employees&quot; : [\n        {\n            &quot;empNo&quot;:10001,\n            &quot;birthDate&quot;:&quot;02 September 1953&quot;,\n            &quot;firstName&quot;:&quot;Georgi&quot;,\n            &quot;lastName&quot;:&quot;Facello&quot;,\n            &quot;gender&quot;:&quot;M&quot;,\n            &quot;hireDate&quot;:&quot;26 June 1986&quot;\n        }\n        ...\n    ]\n}\n</code></pre>\n<p>Following are some cods with explanations for parsing above json response.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a parser from the response input stream\nJsonParser jsonParser = objectMapper.getFactory().createParser(response.getBody());\n    \n    // Some condition checking, basically checking the response having `{`\n    if(jsonParser.nextToken() == JsonToken.START_OBJECT) {\n        // Checking the response having the field `&quot;employees&quot;`\n        if(jsonParser.nextFieldName() == &quot;employees&quot;) {\n            // Checking the response having the token `[`\n            if(jsonParser.nextToken() == JsonToken.START_ARRAY) {\n                // Loop until `]` found\n                while(jsonParser.nextToken() != JsonToken.END_ARRAY) {\n                    // Extract domain object\n                    Employee employee = jsonParser.readValueAs(Employee.class);\n                    // Do whatever with the domain object.\n                }\n            }\n        }\n    }\n\n// Finally closing the parser.\njsonParser.close();\n</code></pre>\n<p>Above example is taken from <a href=\"https://dev.to/ratulsharker/consume-large-json-response-in-spring-421j\" rel=\"nofollow noreferrer\">this blog post.</a></p>\n"}],"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3908,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29298958,"answer_count":3,"score":0,"last_activity_date":1665264800,"creation_date":1427364412,"question_id":29275712,"body_markdown":"What is the most efficient way to parse a JSON reply from a server that is return as 1 huge line?\r\nI don’t want/need to “map” this JSON to some custom/business objects as I need only specific parts of the structure.  \r\nMainly finding a specific tag and its values among a set of arrays.  \r\n\r\n**UPDATE:**  \r\n\r\nI am looking for an efficient way to parse an JSON response from an internal server.  \r\nThe response is sent as a huge single line. The file is so big that trying to understand the structure using brower’s json plugin was still difficult as the browser was “stuck”.  \r\nFor my needs I want specific bits of information and do not want to map the JSON to actual business object/classes as it will be too much unneeded work.\r\nWhat I currently do for testing this out (I have removed exception handling for clarity):\r\n\r\n    HttpClient client = new DefaultHttpClient();\r\n    HttpGet httpGet = new HttpGet(url);\r\n    HttpResponse response = null;\r\n    response = client.execute(httpGet);\r\n    StatusLine statusLine = response.getStatusLine();\r\n    int statusCode = statusLine.getStatusCode();\r\n    StringBuilder builder = null;\r\n    if (statusCode == 200) {\r\n              HttpEntity entity = response.getEntity();\r\n              InputStream content = entity.getContent();\r\n              builder = new StringBuilder();\r\n              BufferedReader reader = new BufferedReader(new InputStreamReader(content));\r\n              String line;\r\n              while ((line = reader.readLine()) != null) {\r\n                        builder.append(line);\r\n              }\r\n              if ( builder.length() != 0 ) {\r\n                    processJSON(builder.toString());\r\n              }\r\n               return builder.toString();\r\n    }\r\n    \r\n    private void processJSON(String s) {\r\n            JSONObject o = new JSONObject(s);\r\n            String url = (String) o.get(&quot;url&quot;);\r\n            \r\n           JSONArray array = o.getJSONArray(&quot;individualroles&quot;);\r\n           \r\n           for( int i = 0; i &lt; array.length(); i++ ) {\r\n                    JSONObject elem = (JSONObject) array.get(i);\r\n                    String fullNameForDisplay = (String) elem.get(&quot;fullName&quot;);\r\n                    String status =  (String) elem.get(&quot;status&quot;);\r\n                    String date = (String) elem.get(&quot;date&quot;);\r\n                    String fullDescription = (String) elem.get(&quot;full_description&quot;).toString();\r\n                    JSONArray contacts = (JSONArray) elem.get(&quot;contacts&quot;);\r\n                    for(int j = 0; j &lt; contacts.length(); j ++ ) {\r\n                        JSONObject contact = (JSONObject) contacts.get(j);\r\n                        String contactName = contact.getString(&quot;contactName&quot;);\r\n                        String displayName = contact.getString(&quot;displayName&quot;);\r\n                        String realAddress = contact.getString(&quot;realAddress&quot;);\r\n                        \r\n                        Log.i(“MyApp”, “contactName = “ + contactName + “ displayName = “ + displayName + “ readAddress  = “ + realAddress);\r\n                    }\r\n             }\r\n\r\nThis literally fluds the log as the JSON response i.e. the `String s` has length of ~7Million characters.  \r\nAlso I see in the log many statements like:  \r\n\r\nI/art﹕ Background sticky concurrent mark sweep GC freed 389(14KB) AllocSpace objects, 3(851KB) LOS objects, 0% free, 2MB/2MB, paused 30.651ms total 77.127ms  \r\n\r\nFor testing this what I did is that in the fragment’s `onCreate` I do: \r\n\r\n     Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.i(“MyApp”, (new JSONParser().get(JSON_URL_SERVER)));\r\n                   }\r\n            });\r\n            thread.start();\r\n\r\nIs there any issue e.g. with memory and GC with this approach? How can I improve this?\r\n\r\n","title":"Best way to process a huge HTTP JSON response","body":"<p>What is the most efficient way to parse a JSON reply from a server that is return as 1 huge line?\nI don’t want/need to “map” this JSON to some custom/business objects as I need only specific parts of the structure.<br>\nMainly finding a specific tag and its values among a set of arrays.  </p>\n\n<p><strong>UPDATE:</strong>  </p>\n\n<p>I am looking for an efficient way to parse an JSON response from an internal server.<br>\nThe response is sent as a huge single line. The file is so big that trying to understand the structure using brower’s json plugin was still difficult as the browser was “stuck”.<br>\nFor my needs I want specific bits of information and do not want to map the JSON to actual business object/classes as it will be too much unneeded work.\nWhat I currently do for testing this out (I have removed exception handling for clarity):</p>\n\n<pre><code>HttpClient client = new DefaultHttpClient();\nHttpGet httpGet = new HttpGet(url);\nHttpResponse response = null;\nresponse = client.execute(httpGet);\nStatusLine statusLine = response.getStatusLine();\nint statusCode = statusLine.getStatusCode();\nStringBuilder builder = null;\nif (statusCode == 200) {\n          HttpEntity entity = response.getEntity();\n          InputStream content = entity.getContent();\n          builder = new StringBuilder();\n          BufferedReader reader = new BufferedReader(new InputStreamReader(content));\n          String line;\n          while ((line = reader.readLine()) != null) {\n                    builder.append(line);\n          }\n          if ( builder.length() != 0 ) {\n                processJSON(builder.toString());\n          }\n           return builder.toString();\n}\n\nprivate void processJSON(String s) {\n        JSONObject o = new JSONObject(s);\n        String url = (String) o.get(\"url\");\n\n       JSONArray array = o.getJSONArray(\"individualroles\");\n\n       for( int i = 0; i &lt; array.length(); i++ ) {\n                JSONObject elem = (JSONObject) array.get(i);\n                String fullNameForDisplay = (String) elem.get(\"fullName\");\n                String status =  (String) elem.get(\"status\");\n                String date = (String) elem.get(\"date\");\n                String fullDescription = (String) elem.get(\"full_description\").toString();\n                JSONArray contacts = (JSONArray) elem.get(\"contacts\");\n                for(int j = 0; j &lt; contacts.length(); j ++ ) {\n                    JSONObject contact = (JSONObject) contacts.get(j);\n                    String contactName = contact.getString(\"contactName\");\n                    String displayName = contact.getString(\"displayName\");\n                    String realAddress = contact.getString(\"realAddress\");\n\n                    Log.i(“MyApp”, “contactName = “ + contactName + “ displayName = “ + displayName + “ readAddress  = “ + realAddress);\n                }\n         }\n</code></pre>\n\n<p>This literally fluds the log as the JSON response i.e. the <code>String s</code> has length of ~7Million characters.<br>\nAlso I see in the log many statements like:  </p>\n\n<p>I/art﹕ Background sticky concurrent mark sweep GC freed 389(14KB) AllocSpace objects, 3(851KB) LOS objects, 0% free, 2MB/2MB, paused 30.651ms total 77.127ms  </p>\n\n<p>For testing this what I did is that in the fragment’s <code>onCreate</code> I do: </p>\n\n<pre><code> Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                Log.i(“MyApp”, (new JSONParser().get(JSON_URL_SERVER)));\n               }\n        });\n        thread.start();\n</code></pre>\n\n<p>Is there any issue e.g. with memory and GC with this approach? How can I improve this?</p>\n"},{"tags":["java","c#","dependencies","xunit","specflow"],"answers":[{"tags":[],"owner":{"account_id":5412020,"reputation":6359,"user_id":4308455,"display_name":"Julian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665263828,"creation_date":1665263828,"answer_id":74000586,"question_id":74000304,"body_markdown":"The nuget packages are added to your .csproj file (before that there was a dedicated packages file). When someone pulls your changes and builds the solution, those packages will be downloaded automatically.\r\n\r\nSee here: https://learn.microsoft.com/en-us/nuget/consume-packages/package-references-in-project-files","title":"How can we include dependency library in C# xunit integration test project","body":"<p>The nuget packages are added to your .csproj file (before that there was a dedicated packages file). When someone pulls your changes and builds the solution, those packages will be downloaded automatically.</p>\n<p>See here: <a href=\"https://learn.microsoft.com/en-us/nuget/consume-packages/package-references-in-project-files\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/nuget/consume-packages/package-references-in-project-files</a></p>\n"},{"tags":[],"owner":{"account_id":8812176,"reputation":757,"user_id":6584859,"display_name":"RebootDeluxe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665264729,"creation_date":1665264729,"answer_id":74000671,"question_id":74000304,"body_markdown":"Here is a good explanation, how nuget packages are working in Visual Studio.\r\nAfter cloning/pulling from Github, a &quot;Package Restore&quot; might be necessary:\r\n\r\n[https://fossa.com/blog/dependency-management-visual-studio-nuget-beyond/#Restoring][1]\r\n\r\n\r\n  [1]: https://fossa.com/blog/dependency-management-visual-studio-nuget-beyond/#Restoring","title":"How can we include dependency library in C# xunit integration test project","body":"<p>Here is a good explanation, how nuget packages are working in Visual Studio.\nAfter cloning/pulling from Github, a &quot;Package Restore&quot; might be necessary:</p>\n<p><a href=\"https://fossa.com/blog/dependency-management-visual-studio-nuget-beyond/#Restoring\" rel=\"nofollow noreferrer\">https://fossa.com/blog/dependency-management-visual-studio-nuget-beyond/#Restoring</a></p>\n"}],"owner":{"account_id":26566843,"reputation":3,"user_id":20193724,"display_name":"amazo Tv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74000586,"answer_count":2,"score":-1,"last_activity_date":1665264729,"creation_date":1665260648,"question_id":74000304,"body_markdown":"I am new to the C# and i see that in xunit project i can add nuget packages. My question is around its use by different team members when code is pushed in git hub/azure.\r\nI can add nuger packages like specflow, dependecy injection and work locally but how can i ensure that when i push code in github or azure next team member who clones repo can also use or see the packages added? is there any mechanism in C# like in java Maven we have pom.xml or gradle.build file  or it happens automatically in C#","title":"How can we include dependency library in C# xunit integration test project","body":"<p>I am new to the C# and i see that in xunit project i can add nuget packages. My question is around its use by different team members when code is pushed in git hub/azure.\nI can add nuger packages like specflow, dependecy injection and work locally but how can i ensure that when i push code in github or azure next team member who clones repo can also use or see the packages added? is there any mechanism in C# like in java Maven we have pom.xml or gradle.build file  or it happens automatically in C#</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13072244,"reputation":2184,"user_id":10014361,"display_name":"Aven Desta"},"score":0,"creation_date":1665262608,"post_id":74000477,"comment_id":130660288,"body_markdown":"add what project Euler&#39;s 5th java question is to your post.","body":"add what project Euler&#39;s 5th java question is to your post."},{"owner":{"account_id":6870192,"reputation":649,"user_id":8105643,"display_name":"John Paul R"},"score":4,"creation_date":1665263107,"post_id":74000477,"comment_id":130660368,"body_markdown":"Wait, what? Where do arrays get involved here?","body":"Wait, what? Where do arrays get involved here?"},{"owner":{"account_id":3532915,"reputation":13290,"user_id":2951933,"accept_rate":88,"display_name":"EugenSunic"},"score":0,"creation_date":1665263246,"post_id":74000477,"comment_id":130660391,"body_markdown":"What is your question? What do you not understand about your code exactly?","body":"What is your question? What do you not understand about your code exactly?"},{"owner":{"account_id":26540999,"reputation":13,"user_id":20171740,"display_name":"Ege Aktaş"},"score":0,"creation_date":1665263545,"post_id":74000477,"comment_id":130660433,"body_markdown":"@Jens I did not use arrays in my code and a number can&#39;t divided by zero, so for (int i = 0; i &lt; 20; i++) statement doesn&#39;t work.","body":"@Jens I did not use arrays in my code and a number can&#39;t divided by zero, so for (int i = 0; i &lt; 20; i++) statement doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665263638,"creation_date":1665263638,"answer_id":74000573,"question_id":74000477,"body_markdown":"The problem is that your nesting is wrong.\r\n\r\nWithin the `for (int i = 1; i &lt;= 20; i++)` loop you increment `counter` if `b` is divisible by `i`.\r\n\r\nThe you do some checks and in the end set `counter` to zero again.\r\n\r\nThat means that your `counter` only ever reaches a maximum value of 1 (if `b` is divisible by a specific `i`).\r\n\r\nYou probably meant to write\r\n\r\n            for (int i = 1; i &lt;= 20; i++) { \r\n                if (b % i == 0) {\r\n                    counter++;\r\n                }\r\n            }\r\n\r\n            if (counter == 20) {\r\n                System.out.println(b);\r\n                a = false;\r\n            }\r\n            else {\r\n                b++;\r\n            }\r\n\r\n            counter = 0;\r\n\r\nwhich will give the correct result - although the algorithm is still terribly slow.","title":"What am I doing wrong in solving this easy competitive programming question? (Project Euler - Problem 5)","body":"<p>The problem is that your nesting is wrong.</p>\n<p>Within the <code>for (int i = 1; i &lt;= 20; i++)</code> loop you increment <code>counter</code> if <code>b</code> is divisible by <code>i</code>.</p>\n<p>The you do some checks and in the end set <code>counter</code> to zero again.</p>\n<p>That means that your <code>counter</code> only ever reaches a maximum value of 1 (if <code>b</code> is divisible by a specific <code>i</code>).</p>\n<p>You probably meant to write</p>\n<pre><code>        for (int i = 1; i &lt;= 20; i++) { \n            if (b % i == 0) {\n                counter++;\n            }\n        }\n\n        if (counter == 20) {\n            System.out.println(b);\n            a = false;\n        }\n        else {\n            b++;\n        }\n\n        counter = 0;\n</code></pre>\n<p>which will give the correct result - although the algorithm is still terribly slow.</p>\n"}],"owner":{"account_id":26540999,"reputation":13,"user_id":20171740,"display_name":"Ege Aktaş"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74000573,"answer_count":1,"score":-1,"last_activity_date":1665263638,"creation_date":1665262522,"question_id":74000477,"body_markdown":"This is my first question on StackOverflow so please pardon any mistakes but let me know about them. I am trying to do problem 5 on Project Euler in Java. I feel like my code is correct but I can not get the answer.\r\n\r\nWhat is the smallest positive number that is evenly divisible by all of the numbers from 1 to 20?\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            boolean a = true;\r\n            int counter = 0;\r\n            int b = 1;\r\n    \r\n            while (a) {\r\n                for (int i = 1; i &lt;= 20; i++) { \r\n                    if (b % i == 0) {\r\n                        counter++;\r\n                    }\r\n    \r\n                    if (counter == 20) {\r\n                        System.out.println(b);\r\n                        a = false;\r\n                    }\r\n                    else {\r\n                        b++;\r\n                    }\r\n    \r\n                    counter = 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"What am I doing wrong in solving this easy competitive programming question? (Project Euler - Problem 5)","body":"<p>This is my first question on StackOverflow so please pardon any mistakes but let me know about them. I am trying to do problem 5 on Project Euler in Java. I feel like my code is correct but I can not get the answer.</p>\n<p>What is the smallest positive number that is evenly divisible by all of the numbers from 1 to 20?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        boolean a = true;\n        int counter = 0;\n        int b = 1;\n\n        while (a) {\n            for (int i = 1; i &lt;= 20; i++) { \n                if (b % i == 0) {\n                    counter++;\n                }\n\n                if (counter == 20) {\n                    System.out.println(b);\n                    a = false;\n                }\n                else {\n                    b++;\n                }\n\n                counter = 0;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hash","get","hashset"],"answers":[{"tags":[],"owner":{"account_id":26559927,"reputation":26,"user_id":20187924,"display_name":"sascha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665263524,"creation_date":1665263524,"answer_id":74000563,"question_id":74000180,"body_markdown":"If I understand you correctly your question is how to get the values you passed into `Chord`?\r\n\r\nYou passed those values via the constructor and than you can save them as members in the object of the class. Those members can be made accessible via &quot;Getters&quot;.\r\n\r\nExample:\r\n\r\n    public class Chord {\r\n\r\n        final int a;\r\n        final int b;\r\n        final int c;\r\n\r\n        public Chord(final int a, final int b, final int c) {\r\n            this.a = a;\r\n            this.b = b;\r\n            this.c = c;\r\n        }\r\n\r\n        public int getA() { return a; }\r\n\r\n        public int getB() { return b; }\r\n\r\n        public int getC() { return c; }\r\n\r\n    }\r\n\r\nYou can read up on that e.g. [here][1].\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_encapsulation.asp","title":"How to retrive itrms froma set (hashset)","body":"<p>If I understand you correctly your question is how to get the values you passed into <code>Chord</code>?</p>\n<p>You passed those values via the constructor and than you can save them as members in the object of the class. Those members can be made accessible via &quot;Getters&quot;.</p>\n<p>Example:</p>\n<pre><code>public class Chord {\n\n    final int a;\n    final int b;\n    final int c;\n\n    public Chord(final int a, final int b, final int c) {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n    }\n\n    public int getA() { return a; }\n\n    public int getB() { return b; }\n\n    public int getC() { return c; }\n\n}\n</code></pre>\n<p>You can read up on that e.g. <a href=\"https://www.w3schools.com/java/java_encapsulation.asp\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":26566693,"reputation":13,"user_id":20193605,"display_name":"Pedro Rodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74000563,"answer_count":1,"score":0,"last_activity_date":1665263524,"creation_date":1665259334,"question_id":74000180,"body_markdown":"Good afternoon.\r\n\r\nI am stuck in helping my son in a Java program. Hope someone can help.\r\nHere is the problem.\r\n\r\nIn Main i have, amoung other.... the read from scanner like this:\r\n\r\n\tScanner in = new Scanner(System.in);\r\n\t\tChord c1 = createChord(in); // este chama o private static Chord createChord(Scanner in)\r\n\t\tChord c2 = createChord(in);\r\n\t\tChord c3 = createChord(in);\r\n\t\tChord c4 = createChord(in);\r\n\t\t\r\n\t\texecuteCommand(in);\r\n\t\texecuteCommand(in);\r\n\t\texecuteCommand(in);\r\n\t\texecuteCommand(in);\r\n\t\t\r\n\t\tin.close();\r\n\t\t\t\t\r\n\t}\r\n\t\r\n\t\t\r\n\t\tprivate static Chord createChord(Scanner in) {\r\n\t\tint n1 = in.nextInt();\r\n\t\tint n2 = in.nextInt();\r\n\t\tint n3 = in.nextInt(); \r\n\t\tin.nextLine();\r\n\t\t//System.out.print(n1);\r\n\t\t//System.out.print(n2);\r\n\t\t//System.out.print(n3);\r\n\t\treturn new Chord (n1, n2, n3);\r\n\t\t\r\n\t\t}\r\n\t\r\nLets assume the method returns values 1,2 and 3 into the hash Chord.\r\n\r\nThe question is\r\nHow can i, in the program, retrieve the vaules from c1 to c4, for instance, the first or the third element from one of them?\r\n\r\nI would greatly appreciate anny help.\r\n\r\nPeter Rodrigues\r\n","title":"How to retrive itrms froma set (hashset)","body":"<p>Good afternoon.</p>\n<p>I am stuck in helping my son in a Java program. Hope someone can help.\nHere is the problem.</p>\n<p>In Main i have, amoung other.... the read from scanner like this:</p>\n<pre><code>Scanner in = new Scanner(System.in);\n    Chord c1 = createChord(in); // este chama o private static Chord createChord(Scanner in)\n    Chord c2 = createChord(in);\n    Chord c3 = createChord(in);\n    Chord c4 = createChord(in);\n    \n    executeCommand(in);\n    executeCommand(in);\n    executeCommand(in);\n    executeCommand(in);\n    \n    in.close();\n            \n}\n\n    \n    private static Chord createChord(Scanner in) {\n    int n1 = in.nextInt();\n    int n2 = in.nextInt();\n    int n3 = in.nextInt(); \n    in.nextLine();\n    //System.out.print(n1);\n    //System.out.print(n2);\n    //System.out.print(n3);\n    return new Chord (n1, n2, n3);\n    \n    }\n</code></pre>\n<p>Lets assume the method returns values 1,2 and 3 into the hash Chord.</p>\n<p>The question is\nHow can i, in the program, retrieve the vaules from c1 to c4, for instance, the first or the third element from one of them?</p>\n<p>I would greatly appreciate anny help.</p>\n<p>Peter Rodrigues</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":0,"creation_date":1281736265,"post_id":3480826,"comment_id":3633624,"body_markdown":"@Lucas Heneks: you mean that vertical line that shows that line length is 100 (for example) characters at that point?","body":"@Lucas Heneks: you mean that vertical line that shows that line length is 100 (for example) characters at that point?"},{"owner":{"account_id":5934,"reputation":10708,"user_id":9796,"accept_rate":78,"display_name":"&#181;Bio"},"score":0,"creation_date":1281736726,"post_id":3480826,"comment_id":3633659,"body_markdown":"@Roman yeah, I&#39;m pretty sure that is what he&#39;s talking about.  That&#39;s what they call it in visual studio land.","body":"@Roman yeah, I&#39;m pretty sure that is what he&#39;s talking about.  That&#39;s what they call it in visual studio land."},{"owner":{"account_id":168584,"reputation":4166,"user_id":394133,"accept_rate":67,"display_name":"Ivan -Oats- Storck"},"score":0,"creation_date":1422307141,"post_id":3480826,"comment_id":44689142,"body_markdown":"You may also need to search preferences for &quot;right margin color&quot; and set a color for the right margin. In the Solarized Light scheme, for example, this is left blank.","body":"You may also need to search preferences for &quot;right margin color&quot; and set a color for the right margin. In the Solarized Light scheme, for example, this is left blank."}],"answers":[{"comments":[{"owner":{"account_id":3207534,"reputation":695,"user_id":3602281,"accept_rate":83,"display_name":"Don Larynx"},"score":8,"creation_date":1434393051,"post_id":3480954,"comment_id":49748249,"body_markdown":"Where the heck is IDE settings?","body":"Where the heck is IDE settings?"},{"owner":{"account_id":6071463,"reputation":492,"user_id":4740149,"display_name":"hamaney"},"score":1,"creation_date":1601832668,"post_id":3480954,"comment_id":113521917,"body_markdown":"@DonLarynx to look up anything quickly (including settings) press `double SHIFT` and start typing in the popup dialogue.","body":"@DonLarynx to look up anything quickly (including settings) press <code>double SHIFT</code> and start typing in the popup dialogue."}],"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":2,"down_vote_count":2,"up_vote_count":54,"is_accepted":true,"score":52,"last_activity_date":1281736745,"creation_date":1281736745,"answer_id":3480954,"question_id":3480826,"body_markdown":"If I understand correctly what you&#39;re trying to configure, then you need:\r\n\r\nGo to IDE Settings -&gt; Editor Settings -&gt; Appearance -&gt; Tick `Show right margin`.","title":"Adding a column guideline to the editor in IntelliJ","body":"<p>If I understand correctly what you're trying to configure, then you need:</p>\n\n<p>Go to IDE Settings -> Editor Settings -> Appearance -> Tick <code>Show right margin</code>.</p>\n"},{"tags":[],"owner":{"account_id":2084596,"reputation":1166,"user_id":1855840,"display_name":"ranma2913"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1395240585,"creation_date":1395240585,"answer_id":22509588,"question_id":3480826,"body_markdown":"I use Idea 12. You can find the settings here:\r\nFirst go to:\r\n\r\n - File &gt; Settings &gt; IDE Settings &gt; Editor &gt; Appearance\r\n - Verify that &quot;Show right Margin&quot; is checked.\r\n\r\nNow go to:\r\n\r\n - File &gt; Settings &gt; Project Settings &gt; Code Style &gt; General\r\n - Select your project&#39;s Scheme and then the right margin character size.\r\n - From this page you can auto wrap or switch to using the tab character vs. the 4 spaces for indents.\r\n\r\nHope this helps","title":"Adding a column guideline to the editor in IntelliJ","body":"<p>I use Idea 12. You can find the settings here:\nFirst go to:</p>\n\n<ul>\n<li>File > Settings > IDE Settings > Editor > Appearance</li>\n<li>Verify that \"Show right Margin\" is checked.</li>\n</ul>\n\n<p>Now go to:</p>\n\n<ul>\n<li>File > Settings > Project Settings > Code Style > General</li>\n<li>Select your project's Scheme and then the right margin character size.</li>\n<li>From this page you can auto wrap or switch to using the tab character vs. the 4 spaces for indents.</li>\n</ul>\n\n<p>Hope this helps</p>\n"},{"comments":[{"owner":{"account_id":395395,"reputation":1819,"user_id":758334,"display_name":"Subfuzion"},"score":5,"creation_date":1483229941,"post_id":23550354,"comment_id":70028836,"body_markdown":"lol, temperature alert in the first screenshot using IntelliJ. Ain&#39;t that the truth.","body":"lol, temperature alert in the first screenshot using IntelliJ. Ain&#39;t that the truth."},{"owner":{"account_id":11005797,"reputation":3089,"user_id":8084731,"display_name":"Prince Billy Graham"},"score":1,"creation_date":1624690631,"post_id":23550354,"comment_id":120431412,"body_markdown":"This is the most accurate answer right now","body":"This is the most accurate answer right now"},{"owner":{"account_id":1839963,"reputation":695,"user_id":1669576,"accept_rate":71,"display_name":"Blake"},"score":1,"creation_date":1644110669,"post_id":23550354,"comment_id":125518679,"body_markdown":"In Android Studio 2021.1.1, this is called instead &quot;Hard wrap at&quot; (Editor -&gt; Code Style -&gt; General)","body":"In Android Studio 2021.1.1, this is called instead &quot;Hard wrap at&quot; (Editor -&gt; Code Style -&gt; General)"}],"tags":[],"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1399576332,"creation_date":1399575612,"answer_id":23550354,"question_id":3480826,"body_markdown":"[In Intellj idea 13][1], \r\n--------------------------\r\n**STEP 1 :**  \r\nGoto **File-&gt; Settings &gt; Code style &gt; General**\r\n\r\n![intellij 13 column width][2]\r\n\r\n**STEP 2 :** \r\nChange *Right margin (columns)* label\r\n\r\n**STEP 3 :**\r\nCheck on *Wrap when typing reaches right margin.*\r\n\r\n**STEP 4 :**\r\nGoto **Editor-&gt; Appearance**, check on **4th label** (*Show right margin*)\r\n\r\n![show margin][3]\r\n\r\noutput\r\n-----------\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: http://prayag-waves.blogspot.com/search?q=intellij\r\n  [2]: https://1.bp.blogspot.com/-ITTpFy48Fpo/U2vR7M-YwbI/AAAAAAAAUks/LozywTaUk2U/s1600/IntelliJ_column_wodth.png\r\n  [3]: http://i.stack.imgur.com/gWsVE.png\r\n  [4]: http://i.stack.imgur.com/BGlll.png","title":"Adding a column guideline to the editor in IntelliJ","body":"<h2><a href=\"http://prayag-waves.blogspot.com/search?q=intellij\" rel=\"noreferrer\">In Intellj idea 13</a>,</h2>\n\n<p><strong>STEP 1 :</strong><br>\nGoto <strong>File-> Settings > Code style > General</strong></p>\n\n<p><img src=\"https://1.bp.blogspot.com/-ITTpFy48Fpo/U2vR7M-YwbI/AAAAAAAAUks/LozywTaUk2U/s1600/IntelliJ_column_wodth.png\" alt=\"intellij 13 column width\"></p>\n\n<p><strong>STEP 2 :</strong> \nChange <em>Right margin (columns)</em> label</p>\n\n<p><strong>STEP 3 :</strong>\nCheck on <em>Wrap when typing reaches right margin.</em></p>\n\n<p><strong>STEP 4 :</strong>\nGoto <strong>Editor-> Appearance</strong>, check on <strong>4th label</strong> (<em>Show right margin</em>)</p>\n\n<p><img src=\"https://i.stack.imgur.com/gWsVE.png\" alt=\"show margin\"></p>\n\n<h2>output</h2>\n\n<p><img src=\"https://i.stack.imgur.com/BGlll.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":9783070,"reputation":123,"user_id":7250285,"display_name":"ESCE"},"score":0,"creation_date":1668794920,"post_id":74000530,"comment_id":131501051,"body_markdown":"They&#39;re called Visual Guides in CLion 2022.2.4 as well - I just searched them with the global search. The comma separations for multiple visual guides is supported, although not said explicitly.","body":"They&#39;re called Visual Guides in CLion 2022.2.4 as well - I just searched them with the global search. The comma separations for multiple visual guides is supported, although not said explicitly."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1682984533,"post_id":74000530,"comment_id":134294774,"body_markdown":"Same for me in IntelliJ IDEA `2023.1 (Ultimate Edition)` on Mac; parent root was `Editor`.  None of the other Answers missing that matched for me, especially ones mentioning anything with &quot;margin&quot;.","body":"Same for me in IntelliJ IDEA <code>2023.1 (Ultimate Edition)</code> on Mac; parent root was <code>Editor</code>.  None of the other Answers missing that matched for me, especially ones mentioning anything with &quot;margin&quot;."}],"tags":[],"owner":{"account_id":1891677,"reputation":145566,"user_id":1709587,"accept_rate":71,"display_name":"Mark Amery"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665263180,"creation_date":1665263180,"answer_id":74000530,"question_id":3480826,"body_markdown":"For my IntelliJ version - *IntelliJ IDEA 2021.3.3 (Ultimate Edition)*, on Ubuntu - the setting is named *Visual guides* and can be found at:\r\n\r\n*Settings* (CTRL-ALT-S) -&gt; *Editor* -&gt; *Code Style* -&gt; *Visual guides*\r\n\r\n[![Screenshot showing the above settings page, with the &quot;Visual guides&quot; label, &quot;Optional&quot; placeholder, &quot;columns&quot; suffix, and tip &quot;Specify one guide (80) or several (80, 120)][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8lBMv.png","title":"Adding a column guideline to the editor in IntelliJ","body":"<p>For my IntelliJ version - <em>IntelliJ IDEA 2021.3.3 (Ultimate Edition)</em>, on Ubuntu - the setting is named <em>Visual guides</em> and can be found at:</p>\n<p><em>Settings</em> (CTRL-ALT-S) -&gt; <em>Editor</em> -&gt; <em>Code Style</em> -&gt; <em>Visual guides</em></p>\n<p><a href=\"https://i.stack.imgur.com/8lBMv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8lBMv.png\" alt=\"Screenshot showing the above settings page, with the &quot;Visual guides&quot; label, &quot;Optional&quot; placeholder, &quot;columns&quot; suffix, and tip &quot;Specify one guide (80) or several (80, 120)\" /></a></p>\n"}],"owner":{"account_id":1173,"reputation":12300,"user_id":1556,"accept_rate":69,"display_name":"popopome"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26980,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":3480954,"answer_count":4,"score":45,"last_activity_date":1665263180,"creation_date":1281735354,"question_id":3480826,"body_markdown":"I&#39;d like to use column guide line to IntelliJ IDE.\r\nAnybody knows about this?\r\nI couldn&#39;t find any solution for the feature?\r\n\r\nFor example:\r\n![Visual Studio with column guideline][1]\r\n\r\n  [1]: http://i.stack.imgur.com/dduwf.png","title":"Adding a column guideline to the editor in IntelliJ","body":"<p>I'd like to use column guide line to IntelliJ IDE.\nAnybody knows about this?\nI couldn't find any solution for the feature?</p>\n\n<p>For example:\n<img src=\"https://i.stack.imgur.com/dduwf.png\" alt=\"Visual Studio with column guideline\"></p>\n"},{"tags":["java","xml","jpos"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1665066641,"post_id":73969671,"comment_id":130616644,"body_markdown":"Please share your server configuration in the question, but the exception message suggests the `&lt;port&gt;` element is not present in the server configuration.","body":"Please share your server configuration in the question, but the exception message suggests the <code>&lt;port&gt;</code> element is not present in the server configuration."},{"owner":{"account_id":26542509,"reputation":1,"user_id":20173036,"display_name":"Benjamin"},"score":0,"creation_date":1665127908,"post_id":73969671,"comment_id":130631185,"body_markdown":"&lt;server class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot; name=&quot;xml-server-8000&quot; realm=&quot;xml-server-8000&quot;&gt;\n&lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;8000&lt;/attr&gt;\n&lt;channel class=&quot;org.jpos.iso.channel.XMLChannel&quot; packager=&quot;org.jpos.iso.packager.XMLPackager&quot; type=&quot;server&quot; logger=&quot;Q2&quot; realm=&quot;xml-server-8000&quot;&gt;\n&lt;property name=&quot;timeout&quot; value=&quot;180000&quot;/&gt;\n&lt;/channel&gt;\n&lt;request-listener class=&quot;org.jpos.iso.IncomingListener&quot; logger=&quot;Q2&quot; realm=&quot;incoming-request-listener&quot;&gt;\n&lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt;\n&lt;property name=&quot;ctx.DESTINATION&quot; value=&quot;jPOS-AUTORESPONDER&quot;/&gt;\n&lt;/request-listener&gt;\n&lt;/server&gt;","body":"&lt;server class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot; name=&quot;xml-server-8000&quot; realm=&quot;xml-server-8000&quot;&gt; &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;8000&lt;/attr&gt; &lt;channel class=&quot;org.jpos.iso.channel.XMLChannel&quot; packager=&quot;org.jpos.iso.packager.XMLPackager&quot; type=&quot;server&quot; logger=&quot;Q2&quot; realm=&quot;xml-server-8000&quot;&gt; &lt;property name=&quot;timeout&quot; value=&quot;180000&quot;/&gt; &lt;/channel&gt; &lt;request-listener class=&quot;org.jpos.iso.IncomingListener&quot; logger=&quot;Q2&quot; realm=&quot;incoming-request-listener&quot;&gt; &lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt; &lt;property name=&quot;ctx.DESTINATION&quot; value=&quot;jPOS-AUTORESPONDER&quot;/&gt; &lt;/request-listener&gt; &lt;/server&gt;"},{"owner":{"account_id":26542509,"reputation":1,"user_id":20173036,"display_name":"Benjamin"},"score":0,"creation_date":1665127942,"post_id":73969671,"comment_id":130631194,"body_markdown":"&lt;port&gt; is already present in the server configuration file as shown above.","body":"&lt;port&gt; is already present in the server configuration file as shown above."},{"owner":{"account_id":26542509,"reputation":1,"user_id":20173036,"display_name":"Benjamin"},"score":0,"creation_date":1665128846,"post_id":73969671,"comment_id":130631449,"body_markdown":"xmlns=&quot;urn:jboss:service:7.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;urn:jboss:service:7.0 http://www.jboss.org/schema/jbossas/jboss-service_7_0.xsd&quot;\nAdded this on xml configuration later due to  javax.management.ReflectionException: The MBean class could not be loaded and after that port value not set exception started to happen","body":"xmlns=&quot;urn:jboss:service:7.0&quot; xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot; xsi:schemaLocation=&quot;urn:jboss:service:7.0 <a href=\"http://www.jboss.org/schema/jbossas/jboss-service_7_0.xsd\" rel=\"nofollow noreferrer\">jboss.org/schema/jbossas/jboss-service_7_0.xsd</a>&quot; Added this on xml configuration later due to  javax.management.ReflectionException: The MBean class could not be loaded and after that port value not set exception started to happen"}],"answers":[{"comments":[{"owner":{"account_id":26542509,"reputation":1,"user_id":20173036,"display_name":"Benjamin"},"score":0,"creation_date":1665127783,"post_id":73976953,"comment_id":130631148,"body_markdown":"&lt;server class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot; name=&quot;xml-server-8000&quot; realm=&quot;xml-server-8000&quot;&gt;\n&lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;8000&lt;/attr&gt;\n&lt;channel class=&quot;org.jpos.iso.channel.XMLChannel&quot; packager=&quot;org.jpos.iso.packager.XMLPackager&quot; type=&quot;server&quot; logger=&quot;Q2&quot; realm=&quot;xml-server-8000&quot;&gt;\n&lt;property name=&quot;timeout&quot; value=&quot;180000&quot;/&gt;\n&lt;/channel&gt;\n&lt;request-listener class=&quot;org.jpos.iso.IncomingListener&quot; logger=&quot;Q2&quot; realm=&quot;incoming-request-listener&quot;&gt;\n&lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt;\n&lt;property name=&quot;ctx.DESTINATION&quot; value=&quot;jPOS-AUTORESPONDER&quot;/&gt;\n&lt;/request-listener&gt;\n&lt;/server&gt;","body":"&lt;server class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot; name=&quot;xml-server-8000&quot; realm=&quot;xml-server-8000&quot;&gt; &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;8000&lt;/attr&gt; &lt;channel class=&quot;org.jpos.iso.channel.XMLChannel&quot; packager=&quot;org.jpos.iso.packager.XMLPackager&quot; type=&quot;server&quot; logger=&quot;Q2&quot; realm=&quot;xml-server-8000&quot;&gt; &lt;property name=&quot;timeout&quot; value=&quot;180000&quot;/&gt; &lt;/channel&gt; &lt;request-listener class=&quot;org.jpos.iso.IncomingListener&quot; logger=&quot;Q2&quot; realm=&quot;incoming-request-listener&quot;&gt; &lt;property name=&quot;queue&quot; value=&quot;TXNMGR&quot;/&gt; &lt;property name=&quot;ctx.DESTINATION&quot; value=&quot;jPOS-AUTORESPONDER&quot;/&gt; &lt;/request-listener&gt; &lt;/server&gt;"},{"owner":{"account_id":26542509,"reputation":1,"user_id":20173036,"display_name":"Benjamin"},"score":0,"creation_date":1665127859,"post_id":73976953,"comment_id":130631173,"body_markdown":"It is already added &lt;Port&gt; but still the issue persists. Giving Configuration exception.(Port value not set) . @Andr&#233;s Alcarraz","body":"It is already added &lt;Port&gt; but still the issue persists. Giving Configuration exception.(Port value not set) . @Andr&#233;s Alcarraz"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1665147584,"post_id":73976953,"comment_id":130637875,"body_markdown":"Are you sure you modified the deployed version of the file? Can you show, in your question please, not as a comment, the file structure and the file you modified there?","body":"Are you sure you modified the deployed version of the file? Can you show, in your question please, not as a comment, the file structure and the file you modified there?"}],"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665085303,"creation_date":1665072445,"answer_id":73976953,"question_id":73969671,"body_markdown":"Your QServer is probably missing the attribute to set the port in which it must listen, you need to add something like this in the `QServer` deploy file:\r\n\r\n```xml\r\n&lt;qserver ...&gt;\r\n    &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;5555&lt;/attr&gt;\r\n    ....\r\n&lt;/qserver&gt;","title":"Getting org.jpos.core.ConfigurationException: Port value not set Error","body":"<p>Your QServer is probably missing the attribute to set the port in which it must listen, you need to add something like this in the <code>QServer</code> deploy file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;qserver ...&gt;\n    &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;5555&lt;/attr&gt;\n    ....\n&lt;/qserver&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665210673,"creation_date":1665210673,"answer_id":73994897,"question_id":73969671,"body_markdown":"It might be saying to specify the port number.\r\n\r\nYou can always specify or change the port numbers of application as below\r\n\r\n * Go to your_project-&gt;application.properties\r\n\r\nAdd below line in that file.\r\n```\r\n# port number can be like 8081, 9090, 9091. replace XXXX with it.\r\nserver.port=XXXX \r\n```\r\n\r\n","title":"Getting org.jpos.core.ConfigurationException: Port value not set Error","body":"<p>It might be saying to specify the port number.</p>\n<p>You can always specify or change the port numbers of application as below</p>\n<ul>\n<li>Go to your_project-&gt;application.properties</li>\n</ul>\n<p>Add below line in that file.</p>\n<pre><code># port number can be like 8081, 9090, 9091. replace XXXX with it.\nserver.port=XXXX \n</code></pre>\n"}],"owner":{"account_id":26542509,"reputation":1,"user_id":20173036,"display_name":"Benjamin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665263064,"creation_date":1665039192,"question_id":73969671,"body_markdown":"Below is the log in the console generated while running from springboot..\r\n\r\n```xml\r\n&lt;log realm=&quot;xml-server-8000&quot; at=&quot;2022-10-06T11:53:39.958559400&quot;&gt;  \r\n &lt;warn&gt;\r\n     error starting service\r\n     &lt;iso-exception&gt;\r\n       Port value not set\r\n       org.jpos.core.ConfigurationException: Port value not set \tat org.jpos.q2.iso.QServer.initServer(QServer.java:92) \tat\r\n org.jpos.q2.iso.QServer.startService(QServer.java:155) \tat\r\n org.jpos.q2.QBeanSupport.start(QBeanSupport.java:118) \tat\r\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n Method) \tat\r\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n \tat\r\n java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72) \tat\r\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n Method) \tat\r\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n \tat\r\n java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) \tat\r\n java.base/sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:262) \tat\r\n java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)\r\n \tat\r\n java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)\r\n \tat\r\n java.management/com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)\r\n \tat\r\n java.management/com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)\r\n \tat\r\n java.management/com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)\r\n \tat\r\n java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\r\n \tat\r\n java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n \tat org.jpos.q2.QFactory.startQBean(QFactory.java:187) \tat\r\n org.jpos.q2.Q2.start(Q2.java:576) \tat\r\n org.jpos.q2.Q2.deploy(Q2.java:360) \tat org.jpos.q2.Q2.run(Q2.java:220)\r\n \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n     &lt;/iso-exception&gt;   &lt;/warn&gt; &lt;/log&gt; &lt;log realm=&quot;Q2.system&quot; at=&quot;2022-10-06T11:53:42.751307300&quot; lifespan=&quot;286ms&quot;&gt;\r\n```\r\nHow to fix this?\r\n\r\nBelow is my code to start q2 server and deploy xml configuration file..\r\n\r\n```java\r\n@SpringBootApplication public class JposApplication implements CommandLineRunner {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(JposApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String...args) \r\n\t{\r\n\t\tQ2 q2 =new Q2();\r\n\t\tq2.start();\r\n\t}\r\n}\r\n```","title":"Getting org.jpos.core.ConfigurationException: Port value not set Error","body":"<p>Below is the log in the console generated while running from springboot..</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;log realm=&quot;xml-server-8000&quot; at=&quot;2022-10-06T11:53:39.958559400&quot;&gt;  \n &lt;warn&gt;\n     error starting service\n     &lt;iso-exception&gt;\n       Port value not set\n       org.jpos.core.ConfigurationException: Port value not set     at org.jpos.q2.iso.QServer.initServer(QServer.java:92)  at\n org.jpos.q2.iso.QServer.startService(QServer.java:155)     at\n org.jpos.q2.QBeanSupport.start(QBeanSupport.java:118)  at\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\n Method)    at\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at\n java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\n sun.reflect.misc.Trampoline.invoke(MethodUtil.java:72)     at\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\n Method)    at\n java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at\n java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)   at\n java.base/sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:262)  at\n java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112)\n    at\n java.management/com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46)\n    at\n java.management/com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237)\n    at\n java.management/com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)\n    at\n java.management/com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)\n    at\n java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\n    at\n java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n    at org.jpos.q2.QFactory.startQBean(QFactory.java:187)   at\n org.jpos.q2.Q2.start(Q2.java:576)  at\n org.jpos.q2.Q2.deploy(Q2.java:360)     at org.jpos.q2.Q2.run(Q2.java:220)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n     &lt;/iso-exception&gt;   &lt;/warn&gt; &lt;/log&gt; &lt;log realm=&quot;Q2.system&quot; at=&quot;2022-10-06T11:53:42.751307300&quot; lifespan=&quot;286ms&quot;&gt;\n</code></pre>\n<p>How to fix this?</p>\n<p>Below is my code to start q2 server and deploy xml configuration file..</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication public class JposApplication implements CommandLineRunner {\n    public static void main(String[] args) {\n        SpringApplication.run(JposApplication.class, args);\n    }\n\n    @Override\n    public void run(String...args) \n    {\n        Q2 q2 =new Q2();\n        q2.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":9176469,"reputation":101,"user_id":6821928,"display_name":"ASHISH KARN"},"score":0,"creation_date":1665292102,"post_id":74000496,"comment_id":130663420,"body_markdown":"Thank you @Martin. I will go through the docs. Thank you for the motivation.","body":"Thank you @Martin. I will go through the docs. Thank you for the motivation."}],"tags":[],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665262824,"creation_date":1665262824,"answer_id":74000496,"question_id":73998542,"body_markdown":"Different return types use different response encoders in Spring Webflux.\r\n\r\nWhile `Flux&lt;String&gt;` will trigger `CharSequenceEncoder`, a `Flux` of custom Java objects like `Employee` will trigger `Jackson2JsonEncoder`. This results in different behaviour for the different return types.\r\n\r\nAs documented in [Spring Webflux reference][1]:\r\n\r\n&gt; The Jackson2Encoder works as follows:\r\n&gt; * For a single value publisher (e.g. Mono), simply serialize it through the ObjectMapper.\r\n&gt; * For a multi-value publisher with application/json, **by default collect the values with Flux#collectToList() and then serialize the\r\n&gt; resulting collection**.\r\n&gt; * For a multi-value publisher with a streaming media type such as application/x-ndjson or application/stream+x-jackson-smile, encode,\r\n&gt; write, and flush each value individually using a line-delimited JSON\r\n&gt; format. Other streaming media types may be registered with the\r\n&gt; encoder.\r\n&gt; * For SSE the Jackson2Encoder is invoked per event and the output is flushed to ensure delivery without delay.\r\n\r\nAs you can see the default behaviour is serializing it as a JSON array. However, you can customize the behaviour by specifying the `produces` attribute in the request mapping annotation. The following for example will achieve your desired behaviour:\r\n```java\r\n@GetMapping(value = &quot;/json-stream&quot;, produces = TEXT_EVENT_STREAM_VALUE)\r\npublic Flux&lt;Employee&gt; getJsonStream() {\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-codecs","title":"Flux.just with delayElements works with Strings but not with Custom types","body":"<p>Different return types use different response encoders in Spring Webflux.</p>\n<p>While <code>Flux&lt;String&gt;</code> will trigger <code>CharSequenceEncoder</code>, a <code>Flux</code> of custom Java objects like <code>Employee</code> will trigger <code>Jackson2JsonEncoder</code>. This results in different behaviour for the different return types.</p>\n<p>As documented in <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-codecs\" rel=\"nofollow noreferrer\">Spring Webflux reference</a>:</p>\n<blockquote>\n<p>The Jackson2Encoder works as follows:</p>\n<ul>\n<li>For a single value publisher (e.g. Mono), simply serialize it through the ObjectMapper.</li>\n<li>For a multi-value publisher with application/json, <strong>by default collect the values with Flux#collectToList() and then serialize the\nresulting collection</strong>.</li>\n<li>For a multi-value publisher with a streaming media type such as application/x-ndjson or application/stream+x-jackson-smile, encode,\nwrite, and flush each value individually using a line-delimited JSON\nformat. Other streaming media types may be registered with the\nencoder.</li>\n<li>For SSE the Jackson2Encoder is invoked per event and the output is flushed to ensure delivery without delay.</li>\n</ul>\n</blockquote>\n<p>As you can see the default behaviour is serializing it as a JSON array. However, you can customize the behaviour by specifying the <code>produces</code> attribute in the request mapping annotation. The following for example will achieve your desired behaviour:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/json-stream&quot;, produces = TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;Employee&gt; getJsonStream() {\n</code></pre>\n"}],"owner":{"account_id":9176469,"reputation":101,"user_id":6821928,"display_name":"ASHISH KARN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74000496,"answer_count":1,"score":1,"last_activity_date":1665262824,"creation_date":1665245315,"question_id":73998542,"body_markdown":"I want to build a reactive REST endpoint with API returning Employee data(5 employees) with delay of 2 seconds each. \r\n\r\n    @RequestMapping(value = &quot;/strings&quot;, method = RequestMethod.GET)\r\n        public Flux&lt;Employee&gt; getStringsStream() {\r\n            return Flux.just(new Employee(&quot;Alok&quot;),\r\n                    new Employee(&quot;Ashish&quot;),\r\n                    new Employee(&quot;Neeraj&quot;),\r\n                    new Employee(&quot;Shantanu&quot;),\r\n                    new Employee(&quot;Gaurav&quot;)).delayElements(Duration.ofSeconds(2));\r\n        }\r\n    }\r\n    \r\n    record Employee(String name) {}\r\n\r\nIt behaves like blocking API and takes total 2*5 = 10 seconds, and renders whole data at once.\r\nWhile it works fine (proper reactively) if I just return Employee names (String) data. Data get rendered at 2 seconds for each name sequentially.\r\n\r\n    @RequestMapping(value = &quot;/strings&quot;, method = RequestMethod.GET)\r\n        public Flux&lt;String&gt; getStringsStream() {\r\n            return Flux.just(&quot;Alok&quot;,\r\n                    &quot;Ashish&quot;,\r\n                    &quot;Neeraj&quot;\r\n                    ,&quot;Shantanu&quot;,\r\n                    &quot;Gaurav&quot;).delayElements(Duration.ofSeconds(2));\r\n        }\r\n\r\nI am new to reactive programming. Am I missing any concept here?","title":"Flux.just with delayElements works with Strings but not with Custom types","body":"<p>I want to build a reactive REST endpoint with API returning Employee data(5 employees) with delay of 2 seconds each.</p>\n<pre><code>@RequestMapping(value = &quot;/strings&quot;, method = RequestMethod.GET)\n    public Flux&lt;Employee&gt; getStringsStream() {\n        return Flux.just(new Employee(&quot;Alok&quot;),\n                new Employee(&quot;Ashish&quot;),\n                new Employee(&quot;Neeraj&quot;),\n                new Employee(&quot;Shantanu&quot;),\n                new Employee(&quot;Gaurav&quot;)).delayElements(Duration.ofSeconds(2));\n    }\n}\n\nrecord Employee(String name) {}\n</code></pre>\n<p>It behaves like blocking API and takes total 2*5 = 10 seconds, and renders whole data at once.\nWhile it works fine (proper reactively) if I just return Employee names (String) data. Data get rendered at 2 seconds for each name sequentially.</p>\n<pre><code>@RequestMapping(value = &quot;/strings&quot;, method = RequestMethod.GET)\n    public Flux&lt;String&gt; getStringsStream() {\n        return Flux.just(&quot;Alok&quot;,\n                &quot;Ashish&quot;,\n                &quot;Neeraj&quot;\n                ,&quot;Shantanu&quot;,\n                &quot;Gaurav&quot;).delayElements(Duration.ofSeconds(2));\n    }\n</code></pre>\n<p>I am new to reactive programming. Am I missing any concept here?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1434609918,"post_id":30907828,"comment_id":49854338,"body_markdown":"IIRC this doesn&#39;t work in 1.8.9. However I know that it has been implemented for the unreleased 2.0 version (see issue PDFBOX-1402).","body":"IIRC this doesn&#39;t work in 1.8.9. However I know that it has been implemented for the unreleased 2.0 version (see issue PDFBOX-1402)."},{"owner":{"account_id":3317942,"reputation":2998,"user_id":2789812,"accept_rate":35,"display_name":"drunkenfist"},"score":0,"creation_date":1434610975,"post_id":30907828,"comment_id":49854964,"body_markdown":"@TilmanHausherr Thx. So is there any other alternatives for this?","body":"@TilmanHausherr Thx. So is there any other alternatives for this?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1434611105,"post_id":30907828,"comment_id":49855020,"body_markdown":"you could use 2.0 (get snapshot on maven or build yourself with svn), or try one of our competitors, i.e. itext, jpedal and icepdf.","body":"you could use 2.0 (get snapshot on maven or build yourself with svn), or try one of our competitors, i.e. itext, jpedal and icepdf."},{"owner":{"account_id":3317942,"reputation":2998,"user_id":2789812,"accept_rate":35,"display_name":"drunkenfist"},"score":0,"creation_date":1434613801,"post_id":30907828,"comment_id":49856646,"body_markdown":"I do not see pdfbox 2.0 on Maven. I tried &lt;version&gt;2.0.0-SNAPSHOT&lt;/version&gt;, but it doesn&#39;t seem to work. Can you point me to some links? Thx.","body":"I do not see pdfbox 2.0 on Maven. I tried &lt;version&gt;2.0.0-SNAPSHOT&lt;/version&gt;, but it doesn&#39;t seem to work. Can you point me to some links? Thx."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1434613921,"post_id":30907828,"comment_id":49856714,"body_markdown":"Sorry, please try this: https://pdfbox.apache.org/2.0/getting-started.html","body":"Sorry, please try this: <a href=\"https://pdfbox.apache.org/2.0/getting-started.html\" rel=\"nofollow noreferrer\">pdfbox.apache.org/2.0/getting-started.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"score":0,"creation_date":1664936706,"post_id":73907512,"comment_id":130581531,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73907512/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25864005,"reputation":1,"user_id":19596009,"display_name":"Mamadou Massaly"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665262690,"creation_date":1664534662,"answer_id":73907512,"question_id":30907828,"body_markdown":"Remember \r\n\r\n&gt; Setting the ressources for the fonts to be used into the TextField.\r\n\r\n&gt; Associating the ressources with the PDAccroform of the PDDocument.    \r\n\r\n&gt; Getting a widget for the PDTextField. \r\n\r\n&gt; Getting a rectangle for the Widget. \r\n\r\n&gt; Setting the width and the height of the rectangle of the widget.\r\n\r\n\r\nIt would solve it. In my case, I have a height of 20 for a non multiline text and another of 80 for a multiline textfield.You can see them being the last argument of the PDRectangle constructor. The PDRectangle class is used to specify the position and the dimension of the widget that sets it&#39;s rectangle to it. The texfield widget will appear as specified by the PDRectangle.\r\n\r\n    public static PDTextField addTextField(PDDocument pdDoc,PDAcroForm pda,String value,\r\n    \t\tString default_value,Boolean multiline,float txtfieldsyposition,float pagesheight)\r\n    {\r\n    \t\r\n    \tint page = (int) (txtfieldsyposition/pagesheight);\r\n    \t\r\n    \tif(page+1&gt; pdDoc.getNumberOfPages()) \r\n    \t{\r\n    \t\tensurePageCapacity(pdDoc,page+1);//add 1 page to doc if needed \r\n    \t}\r\n    \tPDTextField pdtff = new PDTextField(pda);\r\n\t\r\n    \tPDFont font = new PDType1Font(FontName.TIMES_ROMAN);\r\n    \tString appearance = &quot;/TIMES 10 Tf 0 0 0 rg&quot;;\r\n    \t\r\n    \ttry \r\n    \t{\r\n    \t\tPDFont font_ = new PDType1Font(FontName.HELVETICA);\r\n    \t    PDResources resources = new PDResources();\r\n    \t    resources.put(COSName.getPDFName(&quot;Helv&quot;), font_);\r\n    \t    resources.put(COSName.getPDFName(&quot;TIMES&quot;), font);\r\n    \t    pda.setDefaultResources(resources);\r\n    \t        \r\n    \t\torg.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationWidget widget = pdtff.getWidgets().get(0);\r\n    \t\t\r\n    \t\tPDRectangle rect = null;\r\n    \t\tif(!multiline)\r\n    \t\t\trect = new PDRectangle(80, (pagesheight - (txtfieldsyposition % pagesheight)), 450, 20);\r\n    \t\telse\r\n    \t\t\trect = new PDRectangle(80,(pagesheight-(txtfieldsyposition%pagesheight)),450,80);\r\n    \t\t\r\n    \t\tPDPage pd_page = pdDoc.getPage(page);\r\n    \t\tSystem.out.println(pd_page.getBBox().getHeight());\r\n    \t\twidget.setRectangle(rect);\r\n    \t\twidget.setPage(pd_page);\r\n    \t\t\r\n    \t\tPDAppearanceCharacteristicsDictionary fieldAppearance = new PDAppearanceCharacteristicsDictionary(new COSDictionary());\r\n            fieldAppearance.setBorderColour(new PDColor(new float[]{0,0,0}, PDDeviceRGB.INSTANCE));\r\n            fieldAppearance.setBackground(new PDColor(new float[]{255,255,255}, PDDeviceRGB.INSTANCE));\r\n            widget.setAppearanceCharacteristics(fieldAppearance);\r\n    \t\twidget.setPrinted(true);\r\n    \t\tpd_page.getAnnotations().add(widget);\r\n    \t\tSystem.out.println(&quot;before appearance &quot; +pdtff.getDefaultAppearance());\r\n    \t\tpdtff.setDefaultAppearance(appearance);\r\n    \t\tSystem.out.println(&quot;after appearance &quot;+pdtff.getDefaultAppearance());\r\n    \t\t\r\n    \t\tif(multiline)\r\n    \t\t{\t\r\n    \t\t\tpdtff.setMultiline(true);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpdtff.setDefaultValue(&quot;&quot;);\r\n    \t\tpdtff.setValue(value.replaceAll(&quot;\\u202F&quot;,&quot; &quot;));\r\n    \t\tpdtff.setPartialName( page +&quot;&quot;+(int)txtfieldsyposition);\r\n    \t\t\t      \t    \r\n    \t} \r\n    \tcatch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \tcatch(IllegalArgumentException e) \r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \treturn pdtff;\r\n    \t\r\n    }\r\n\r\n","title":"Setting multi-line text to form fields in PDFBox","body":"<p>Remember</p>\n<blockquote>\n<p>Setting the ressources for the fonts to be used into the TextField.</p>\n</blockquote>\n<blockquote>\n<p>Associating the ressources with the PDAccroform of the PDDocument.</p>\n</blockquote>\n<blockquote>\n<p>Getting a widget for the PDTextField.</p>\n</blockquote>\n<blockquote>\n<p>Getting a rectangle for the Widget.</p>\n</blockquote>\n<blockquote>\n<p>Setting the width and the height of the rectangle of the widget.</p>\n</blockquote>\n<p>It would solve it. In my case, I have a height of 20 for a non multiline text and another of 80 for a multiline textfield.You can see them being the last argument of the PDRectangle constructor. The PDRectangle class is used to specify the position and the dimension of the widget that sets it's rectangle to it. The texfield widget will appear as specified by the PDRectangle.</p>\n<pre><code>public static PDTextField addTextField(PDDocument pdDoc,PDAcroForm pda,String value,\n        String default_value,Boolean multiline,float txtfieldsyposition,float pagesheight)\n{\n    \n    int page = (int) (txtfieldsyposition/pagesheight);\n    \n    if(page+1&gt; pdDoc.getNumberOfPages()) \n    {\n        ensurePageCapacity(pdDoc,page+1);//add 1 page to doc if needed \n    }\n    PDTextField pdtff = new PDTextField(pda);\n\n    PDFont font = new PDType1Font(FontName.TIMES_ROMAN);\n    String appearance = &quot;/TIMES 10 Tf 0 0 0 rg&quot;;\n    \n    try \n    {\n        PDFont font_ = new PDType1Font(FontName.HELVETICA);\n        PDResources resources = new PDResources();\n        resources.put(COSName.getPDFName(&quot;Helv&quot;), font_);\n        resources.put(COSName.getPDFName(&quot;TIMES&quot;), font);\n        pda.setDefaultResources(resources);\n            \n        org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationWidget widget = pdtff.getWidgets().get(0);\n        \n        PDRectangle rect = null;\n        if(!multiline)\n            rect = new PDRectangle(80, (pagesheight - (txtfieldsyposition % pagesheight)), 450, 20);\n        else\n            rect = new PDRectangle(80,(pagesheight-(txtfieldsyposition%pagesheight)),450,80);\n        \n        PDPage pd_page = pdDoc.getPage(page);\n        System.out.println(pd_page.getBBox().getHeight());\n        widget.setRectangle(rect);\n        widget.setPage(pd_page);\n        \n        PDAppearanceCharacteristicsDictionary fieldAppearance = new PDAppearanceCharacteristicsDictionary(new COSDictionary());\n        fieldAppearance.setBorderColour(new PDColor(new float[]{0,0,0}, PDDeviceRGB.INSTANCE));\n        fieldAppearance.setBackground(new PDColor(new float[]{255,255,255}, PDDeviceRGB.INSTANCE));\n        widget.setAppearanceCharacteristics(fieldAppearance);\n        widget.setPrinted(true);\n        pd_page.getAnnotations().add(widget);\n        System.out.println(&quot;before appearance &quot; +pdtff.getDefaultAppearance());\n        pdtff.setDefaultAppearance(appearance);\n        System.out.println(&quot;after appearance &quot;+pdtff.getDefaultAppearance());\n        \n        if(multiline)\n        {   \n            pdtff.setMultiline(true);\n        }\n        \n        pdtff.setDefaultValue(&quot;&quot;);\n        pdtff.setValue(value.replaceAll(&quot;\\u202F&quot;,&quot; &quot;));\n        pdtff.setPartialName( page +&quot;&quot;+(int)txtfieldsyposition);\n                        \n    } \n    catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    catch(IllegalArgumentException e) \n    {\n        e.printStackTrace();\n    }\n    \n    \n    \n    return pdtff;\n    \n}\n</code></pre>\n"}],"owner":{"account_id":3317942,"reputation":2998,"user_id":2789812,"accept_rate":35,"display_name":"drunkenfist"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665262690,"creation_date":1434608310,"question_id":30907828,"body_markdown":"I&#39;m using PDFBox to fill form fields in a pdf using below code:\r\n\r\n\r\n\t\t\t\tPDField nameField = form.getField(&quot;name&quot;);\r\n\t\t\t\tif(null != nameField){\r\n\t\t\t\t\tnameField.setValue(data.get(&quot;name&quot;)); // data is a hashmap\r\n                    nameField.setReadonly(true);\r\n\t\t\t\t}\r\n\r\nThe problem is, if the text is long it doesn&#39;t split to multiple lines, even though I have enabled the &quot;multi-line&quot; option for the field in the pdf. Do I have to do anything from the code as well to enable this?\r\n\r\nThanks.","title":"Setting multi-line text to form fields in PDFBox","body":"<p>I'm using PDFBox to fill form fields in a pdf using below code:</p>\n\n<pre><code>            PDField nameField = form.getField(\"name\");\n            if(null != nameField){\n                nameField.setValue(data.get(\"name\")); // data is a hashmap\n                nameField.setReadonly(true);\n            }\n</code></pre>\n\n<p>The problem is, if the text is long it doesn't split to multiple lines, even though I have enabled the \"multi-line\" option for the field in the pdf. Do I have to do anything from the code as well to enable this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answers":[{"comments":[{"owner":{"account_id":26564586,"reputation":5,"user_id":20191876,"display_name":"Billy Istiak"},"score":0,"creation_date":1665298712,"post_id":73997981,"comment_id":130664084,"body_markdown":"When I increase the database version, does it behave like new database?","body":"When I increase the database version, does it behave like new database?"},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1665330074,"post_id":73997981,"comment_id":130669879,"body_markdown":"No when you increase the DB version, it triggers the upgrade process, if you upgrade process is drop all tables and call `onCreate` then it will behave like a new database BUT you don&#39;t have to be so brutal in the upgrade process, you could use ALTER/ADD table to keep existing data.","body":"No when you increase the DB version, it triggers the upgrade process, if you upgrade process is drop all tables and call <code>onCreate</code> then it will behave like a new database BUT you don&#39;t have to be so brutal in the upgrade process, you could use ALTER/ADD table to keep existing data."}],"tags":[],"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665240969,"creation_date":1665240969,"answer_id":73997981,"question_id":73997759,"body_markdown":"Have you been changing the value in `Constants.DB_VERSION` between attempts? \r\n\r\nOnce you have created the db file once it will never run `onCreate` again either delete the `Constants.DB_NAME` file or increase the value of  `Constants.DB_VERSION` to get it run `onUpgrade`.\r\n\r\nAnd as calling SqliteExpense second in the same execution will have the same value of `Constants.DB_VERSION` thus will not run the second `onUpgrade`.\r\n\r\nA hack that will probably work (as you have no onDownGrade) is change\r\n\r\n```\r\npublic SqliteExpense(@Nullable Context context) {\r\n        super(context, Constants.DB_NAME, null, Constants.DB_VERSION + 1);\r\n    }\r\n```\r\n\r\nBest to do it always in one run but again if the `Constants.DB_VERSION` has not been increased then you have to change the value to get `onUpgrade` called or delete the db file to get `onCreate` called.","title":"Why can&#39;t I create second table?","body":"<p>Have you been changing the value in <code>Constants.DB_VERSION</code> between attempts?</p>\n<p>Once you have created the db file once it will never run <code>onCreate</code> again either delete the <code>Constants.DB_NAME</code> file or increase the value of  <code>Constants.DB_VERSION</code> to get it run <code>onUpgrade</code>.</p>\n<p>And as calling SqliteExpense second in the same execution will have the same value of <code>Constants.DB_VERSION</code> thus will not run the second <code>onUpgrade</code>.</p>\n<p>A hack that will probably work (as you have no onDownGrade) is change</p>\n<pre><code>public SqliteExpense(@Nullable Context context) {\n        super(context, Constants.DB_NAME, null, Constants.DB_VERSION + 1);\n    }\n</code></pre>\n<p>Best to do it always in one run but again if the <code>Constants.DB_VERSION</code> has not been increased then you have to change the value to get <code>onUpgrade</code> called or delete the db file to get <code>onCreate</code> called.</p>\n"},{"comments":[{"owner":{"account_id":26564586,"reputation":5,"user_id":20191876,"display_name":"Billy Istiak"},"score":0,"creation_date":1665394030,"post_id":74000422,"comment_id":130681785,"body_markdown":"It is good one also. But I can&#39;t upvote.","body":"It is good one also. But I can&#39;t upvote."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665262198,"creation_date":1665261885,"answer_id":74000422,"question_id":73997759,"body_markdown":"It appears that you are getting confused about a few things and how SQLite databases work on Android.\r\n\r\nThe database is a file that at first (when the App is installed) does not exist. However, on subsequent, use the database file does exist.\r\n\r\nThe SQLiteOpenHelper helps in managing whether or not to open an existing database file or to create the database file. If the database file is created then the **`onCreate`** method is called allowing components, such as tables to be created.\r\n\r\nYour code indicates 2 classes that extend the SQLiteOpenHelper class BUT with the same database name (as per `Constants.DB_NAME`). This will cause you grief as the second used would see that the database exists.\r\n\r\nIt is important that you understand that the **`onCreate`** method only ever runs once for the lifetime of the database (if the file exists). Thus if you want to add components, such as tables, then you have to do so elsewhere. Typically in the **`onUpgrade`** method which only runs if the database version is increased and the database actually exists.\r\n\r\nI would suggest that you use a single class that extends SQLiteOpenHelper and then create all tables in the **`onCreate`** method.\r\n\r\n**Example/Demo**\r\n\r\nThe following is based upon your code and combines the employee and expense table and then as a second version introduces a third table.\r\n\r\n- column names will probably be different as the Constants class was not included in the question. That shouldn&#39;t matter though as the answer is intended to explain the principles.\r\n\r\nThe initial database helper with both the employee and the expense table:-\r\n\r\n    class TheOneAndOnlyDBHelper extends SQLiteOpenHelper {\r\n    \r\n        /* Note 2 table names */\r\n        private static final String EMPLOYEE_TABLE = &quot;employee&quot;;\r\n        private static final String EXPENSE_TABLE = &quot;expense&quot;;\r\n    \r\n        TheOneAndOnlyDBHelper(Context context) {\r\n            super(context,Constants.DB_NAME,null,Constants.DB_VERSION);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n    \r\n            String query=&quot;CREATE TABLE &quot;+EMPLOYEE_TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.firstName+&quot; TEXT, &quot;+Constants.lastName+&quot; TEXT,&quot;+Constants.address+&quot; TEXT,&quot; +\r\n                    Constants.contactNumber+&quot; INTEGER,&quot;+Constants.jobStatus+&quot; TEXT,&quot;+Constants.monthlyIncome+&quot; INTEGER)&quot;;\r\n            sqLiteDatabase.execSQL(query);\r\n            query=&quot;CREATE TABLE &quot;+EXPENSE_TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.productName+&quot; TEXT, &quot;+Constants.productPrice+&quot; TEXT,&quot;+Constants.productVersion+&quot; TEXT,&quot; +\r\n                    Constants.productPurchaseDate+&quot; TEXT,&quot;+Constants.productPurchaseTime+&quot; TEXT,&quot;+Constants.productSerial+&quot; TEXT,&quot;+Constants.quantityOfProduct+&quot; TEXT)&quot;;\r\n            sqLiteDatabase.execSQL(query);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n    \r\n        }\r\n    }\r\n\r\nusing the following in an activity:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        TheOneAndOnlyDBHelper dbHelper;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            dbHelper = new TheOneAndOnlyDBHelper(this);\r\n            /* NOTE it is not until the database is accessed (i.e. the following line) that the database is in fact created*/\r\n            SQLiteDatabase db = dbHelper.getWritableDatabase();\r\n        }\r\n    }\r\n\r\nThen when first run (a new install of the App) then using App Inspection:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\ni.e. the database has been created and the tables have been created.\r\n\r\nRunning the App again then exactly the same.\r\n\r\nThe following is the amended TheOneAndOnlyDBHelper to introduce the 3rd table:-\r\n\r\n    class TheOneAndOnlyDBHelper extends SQLiteOpenHelper {\r\n    \r\n        /* Note 2 table names */\r\n        private static final String EMPLOYEE_TABLE = &quot;employee&quot;;\r\n        private static final String EXPENSE_TABLE = &quot;expense&quot;;\r\n        private static final String ANOTHER_TABLE = &quot;another&quot;; /* ADDED for version 2 */\r\n    \r\n        TheOneAndOnlyDBHelper(Context context) {\r\n            super(context,Constants.DB_NAME,null,Constants.DB_VERSION);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n    \r\n            String query=&quot;CREATE TABLE &quot;+EMPLOYEE_TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.firstName+&quot; TEXT, &quot;+Constants.lastName+&quot; TEXT,&quot;+Constants.address+&quot; TEXT,&quot; +\r\n                    Constants.contactNumber+&quot; INTEGER,&quot;+Constants.jobStatus+&quot; TEXT,&quot;+Constants.monthlyIncome+&quot; INTEGER)&quot;;\r\n            sqLiteDatabase.execSQL(query);\r\n            query=&quot;CREATE TABLE &quot;+EXPENSE_TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.productName+&quot; TEXT, &quot;+Constants.productPrice+&quot; TEXT,&quot;+Constants.productVersion+&quot; TEXT,&quot; +\r\n                    Constants.productPurchaseDate+&quot; TEXT,&quot;+Constants.productPurchaseTime+&quot; TEXT,&quot;+Constants.productSerial+&quot; TEXT,&quot;+Constants.quantityOfProduct+&quot; TEXT)&quot;;\r\n            sqLiteDatabase.execSQL(query);\r\n    \r\n            /* NEEDED for new installs of the App which is now at Version 2 */\r\n            query = &quot;CREATE TABLE IF NOT EXISTS &quot; + ANOTHER_TABLE + &quot;(&quot; + Constants.id + &quot; INTEGER PRIMARY KEY,&quot; + Constants.other + &quot; TEXT );&quot;;\r\n            sqLiteDatabase.execSQL(query);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n            /* ADDED for Version 2 */\r\n            if (i==1 &amp;&amp; i1==2) {\r\n                String query = &quot;CREATE TABLE IF NOT EXISTS &quot; + ANOTHER_TABLE + &quot;(&quot; + Constants.id + &quot; INTEGER PRIMARY KEY,&quot; + Constants.other + &quot; TEXT );&quot;;\r\n                sqLiteDatabase.execSQL(query);\r\n            }\r\n        }\r\n    }\r\n\r\nNoting that the version is increased from 1 to 2 as per:-\r\n\r\n    class Constants {\r\n       public static final int DB_VERSION = 2; /* CHANGED FROM 1 to 2 */\r\n       ....\r\n\r\n\r\nWhen the App is rerun then as the version has been changed from 1 to 2, then the **`onUpgrade`** method is invoked and the 3rd table created as per:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf the App is uninstalled and then rerun (as if a new person has installed the new version of the App) then as the table is now created in the **`onCreate`** method all three tables are created (same screen shot).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4fvVU.png\r\n  [2]: https://i.stack.imgur.com/5yE8U.png","title":"Why can&#39;t I create second table?","body":"<p>It appears that you are getting confused about a few things and how SQLite databases work on Android.</p>\n<p>The database is a file that at first (when the App is installed) does not exist. However, on subsequent, use the database file does exist.</p>\n<p>The SQLiteOpenHelper helps in managing whether or not to open an existing database file or to create the database file. If the database file is created then the <strong><code>onCreate</code></strong> method is called allowing components, such as tables to be created.</p>\n<p>Your code indicates 2 classes that extend the SQLiteOpenHelper class BUT with the same database name (as per <code>Constants.DB_NAME</code>). This will cause you grief as the second used would see that the database exists.</p>\n<p>It is important that you understand that the <strong><code>onCreate</code></strong> method only ever runs once for the lifetime of the database (if the file exists). Thus if you want to add components, such as tables, then you have to do so elsewhere. Typically in the <strong><code>onUpgrade</code></strong> method which only runs if the database version is increased and the database actually exists.</p>\n<p>I would suggest that you use a single class that extends SQLiteOpenHelper and then create all tables in the <strong><code>onCreate</code></strong> method.</p>\n<p><strong>Example/Demo</strong></p>\n<p>The following is based upon your code and combines the employee and expense table and then as a second version introduces a third table.</p>\n<ul>\n<li>column names will probably be different as the Constants class was not included in the question. That shouldn't matter though as the answer is intended to explain the principles.</li>\n</ul>\n<p>The initial database helper with both the employee and the expense table:-</p>\n<pre><code>class TheOneAndOnlyDBHelper extends SQLiteOpenHelper {\n\n    /* Note 2 table names */\n    private static final String EMPLOYEE_TABLE = &quot;employee&quot;;\n    private static final String EXPENSE_TABLE = &quot;expense&quot;;\n\n    TheOneAndOnlyDBHelper(Context context) {\n        super(context,Constants.DB_NAME,null,Constants.DB_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n\n        String query=&quot;CREATE TABLE &quot;+EMPLOYEE_TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.firstName+&quot; TEXT, &quot;+Constants.lastName+&quot; TEXT,&quot;+Constants.address+&quot; TEXT,&quot; +\n                Constants.contactNumber+&quot; INTEGER,&quot;+Constants.jobStatus+&quot; TEXT,&quot;+Constants.monthlyIncome+&quot; INTEGER)&quot;;\n        sqLiteDatabase.execSQL(query);\n        query=&quot;CREATE TABLE &quot;+EXPENSE_TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.productName+&quot; TEXT, &quot;+Constants.productPrice+&quot; TEXT,&quot;+Constants.productVersion+&quot; TEXT,&quot; +\n                Constants.productPurchaseDate+&quot; TEXT,&quot;+Constants.productPurchaseTime+&quot; TEXT,&quot;+Constants.productSerial+&quot; TEXT,&quot;+Constants.quantityOfProduct+&quot; TEXT)&quot;;\n        sqLiteDatabase.execSQL(query);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n\n    }\n}\n</code></pre>\n<p>using the following in an activity:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    TheOneAndOnlyDBHelper dbHelper;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        dbHelper = new TheOneAndOnlyDBHelper(this);\n        /* NOTE it is not until the database is accessed (i.e. the following line) that the database is in fact created*/\n        SQLiteDatabase db = dbHelper.getWritableDatabase();\n    }\n}\n</code></pre>\n<p>Then when first run (a new install of the App) then using App Inspection:-</p>\n<p><a href=\"https://i.stack.imgur.com/4fvVU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4fvVU.png\" alt=\"enter image description here\" /></a></p>\n<p>i.e. the database has been created and the tables have been created.</p>\n<p>Running the App again then exactly the same.</p>\n<p>The following is the amended TheOneAndOnlyDBHelper to introduce the 3rd table:-</p>\n<pre><code>class TheOneAndOnlyDBHelper extends SQLiteOpenHelper {\n\n    /* Note 2 table names */\n    private static final String EMPLOYEE_TABLE = &quot;employee&quot;;\n    private static final String EXPENSE_TABLE = &quot;expense&quot;;\n    private static final String ANOTHER_TABLE = &quot;another&quot;; /* ADDED for version 2 */\n\n    TheOneAndOnlyDBHelper(Context context) {\n        super(context,Constants.DB_NAME,null,Constants.DB_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n\n        String query=&quot;CREATE TABLE &quot;+EMPLOYEE_TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.firstName+&quot; TEXT, &quot;+Constants.lastName+&quot; TEXT,&quot;+Constants.address+&quot; TEXT,&quot; +\n                Constants.contactNumber+&quot; INTEGER,&quot;+Constants.jobStatus+&quot; TEXT,&quot;+Constants.monthlyIncome+&quot; INTEGER)&quot;;\n        sqLiteDatabase.execSQL(query);\n        query=&quot;CREATE TABLE &quot;+EXPENSE_TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.productName+&quot; TEXT, &quot;+Constants.productPrice+&quot; TEXT,&quot;+Constants.productVersion+&quot; TEXT,&quot; +\n                Constants.productPurchaseDate+&quot; TEXT,&quot;+Constants.productPurchaseTime+&quot; TEXT,&quot;+Constants.productSerial+&quot; TEXT,&quot;+Constants.quantityOfProduct+&quot; TEXT)&quot;;\n        sqLiteDatabase.execSQL(query);\n\n        /* NEEDED for new installs of the App which is now at Version 2 */\n        query = &quot;CREATE TABLE IF NOT EXISTS &quot; + ANOTHER_TABLE + &quot;(&quot; + Constants.id + &quot; INTEGER PRIMARY KEY,&quot; + Constants.other + &quot; TEXT );&quot;;\n        sqLiteDatabase.execSQL(query);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        /* ADDED for Version 2 */\n        if (i==1 &amp;&amp; i1==2) {\n            String query = &quot;CREATE TABLE IF NOT EXISTS &quot; + ANOTHER_TABLE + &quot;(&quot; + Constants.id + &quot; INTEGER PRIMARY KEY,&quot; + Constants.other + &quot; TEXT );&quot;;\n            sqLiteDatabase.execSQL(query);\n        }\n    }\n}\n</code></pre>\n<p>Noting that the version is increased from 1 to 2 as per:-</p>\n<pre><code>class Constants {\n   public static final int DB_VERSION = 2; /* CHANGED FROM 1 to 2 */\n   ....\n</code></pre>\n<p>When the App is rerun then as the version has been changed from 1 to 2, then the <strong><code>onUpgrade</code></strong> method is invoked and the 3rd table created as per:-</p>\n<p><a href=\"https://i.stack.imgur.com/5yE8U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5yE8U.png\" alt=\"enter image description here\" /></a></p>\n<p>If the App is uninstalled and then rerun (as if a new person has installed the new version of the App) then as the table is now created in the <strong><code>onCreate</code></strong> method all three tables are created (same screen shot).</p>\n"}],"owner":{"account_id":26564586,"reputation":5,"user_id":20191876,"display_name":"Billy Istiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73997981,"answer_count":2,"score":0,"last_activity_date":1665262198,"creation_date":1665239028,"question_id":73997759,"body_markdown":"My question is related to [this one](https://stackoverflow.com/q/3058909). Or, I can say that, it&#39;s duplicate. Since some answers hardly looks correct to me (but doesn&#39;t work). \r\n\r\nI created a database with SQLiteOpenHelper. Now I have to create three tables. I am working in only two right now. So not get into third one though second one solves third ones problem also.\r\n\r\nI created two page for both tables.\r\n\r\n```java\r\npublic class SqliteExpense extends SQLiteOpenHelper {\r\n\r\n    private static final String TABLE=&quot;expense&quot;;\r\n    \r\n    public SqliteExpense(@Nullable Context context) {\r\n        super(context, Constants.DB_NAME, null, Constants.DB_VERSION);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        String query,query_1;\r\n        query=&quot;CREATE TABLE &quot;+TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.productName+&quot; TEXT, &quot;+Constants.productPrice+&quot; TEXT,&quot;+Constants.productVersion+&quot; TEXT,&quot; +\r\n                Constants.productPurchaseDate+&quot; TEXT,&quot;+Constants.productPurchaseTime+&quot; TEXT,&quot;+Constants.productSerial+&quot; TEXT,&quot;+Constants.quantityOfProduct+&quot; TEXT)&quot;;\r\n        sqLiteDatabase.execSQL(query);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n        sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot;+TABLE);\r\n        onCreate(sqLiteDatabase);\r\n    }\r\n```\r\n\r\n```java\r\n\r\npublic class SqliteEmployee extends SQLiteOpenHelper {\r\n\r\n    private static final String TABLE=&quot;employee&quot;;\r\n    \r\n    public SqliteEmployee(@Nullable Context context) {\r\n        super(context, Constants.DB_NAME, null, Constants.DB_VERSION);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        String query,query_1;\r\n        query=&quot;CREATE TABLE &quot;+TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.firstName+&quot; TEXT, &quot;+Constants.lastName+&quot; TEXT,&quot;+Constants.address+&quot; TEXT,&quot; +\r\n                Constants.contactNumber+&quot; INTEGER,&quot;+Constants.jobStatus+&quot; TEXT,&quot;+Constants.monthlyIncome+&quot; INTEGER)&quot;;\r\n\r\n        sqLiteDatabase.execSQL(query);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n        sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot;+TABLE);\r\n        onCreate(sqLiteDatabase);\r\n    }\r\n```\r\n\r\nHere&#39;s the both page. I created SqliteEmployee at first then SqliteExpense. If I insert data following way : \r\n\r\n```java\r\n\r\n        SQLiteDatabase db=getWritableDatabase();\r\n        ContentValues values=new ContentValues();\r\n        values.put(Constants.firstName,firstName);\r\n        values.put(Constants.lastName,lastName);\r\n        values.put(Constants.contactNumber,contactNumber);\r\n        values.put(Constants.address,address);\r\n        values.put(Constants.jobStatus,jobStatus);\r\n        values.put(Constants.monthlyIncome,monthlyIncome);\r\n\r\n        long check=db.insert(TABLE,null,values);\r\n        if (check==-1)  //check returns -1 as data don&#39;t insert\r\n        {\r\n            return false;\r\n\r\n        }\r\n\r\n        else\r\n        {\r\n            return true;\r\n        }\r\n```\r\nthen it works correctly for SqliteEmployee. But when I do the same for SqliteExpense (I change variables) then it doesn&#39;t work. I get an error which says `table doesn&#39;t exists`\r\n\r\n`no such table: expense (code 1 SQLITE_ERROR): , while compiling: INSERT INTO expense(product_version,quantity_of_product,product_purchase_date,product_purchase_time,product_serial,product_name.........`\r\n\r\nAs said in [the answer](https://stackoverflow.com/a/3064342), to pack both tables into one SQLiteHelper. I tried doing that but it couldn&#39;t create anymore table. \r\n\r\n```java\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        String query,query_1;\r\n        query=&quot;CREATE TABLE &quot;+TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.firstName+&quot; TEXT, &quot;+Constants.lastName+&quot; TEXT,&quot;+Constants.address+&quot; TEXT,&quot; +\r\n                Constants.contactNumber+&quot; INTEGER,&quot;+Constants.jobStatus+&quot; TEXT,&quot;+Constants.monthlyIncome+&quot; INTEGER)&quot;;\r\n        query_1=&quot;CREATE TABLE &quot;+TABLE_EXPENSE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.productName+&quot; TEXT, &quot;+Constants.productPrice+&quot; TEXT,&quot;+Constants.productVersion+&quot; TEXT,&quot; +\r\n                Constants.productPurchaseDate+&quot; TEXT,&quot;+Constants.productPurchaseTime+&quot; TEXT,&quot;+Constants.productSerial+&quot; TEXT,&quot;+Constants.quantityOfProduct+&quot; TEXT)&quot;;\r\n\r\n        sqLiteDatabase.execSQL(query);\r\n        sqLiteDatabase.execSQL(query_1);\r\n    }\r\n\r\n```\r\n\r\nI tried the code in both page. Still didn&#39;t work.","title":"Why can&#39;t I create second table?","body":"<p>My question is related to <a href=\"https://stackoverflow.com/q/3058909\">this one</a>. Or, I can say that, it's duplicate. Since some answers hardly looks correct to me (but doesn't work).</p>\n<p>I created a database with SQLiteOpenHelper. Now I have to create three tables. I am working in only two right now. So not get into third one though second one solves third ones problem also.</p>\n<p>I created two page for both tables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SqliteExpense extends SQLiteOpenHelper {\n\n    private static final String TABLE=&quot;expense&quot;;\n    \n    public SqliteExpense(@Nullable Context context) {\n        super(context, Constants.DB_NAME, null, Constants.DB_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        String query,query_1;\n        query=&quot;CREATE TABLE &quot;+TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.productName+&quot; TEXT, &quot;+Constants.productPrice+&quot; TEXT,&quot;+Constants.productVersion+&quot; TEXT,&quot; +\n                Constants.productPurchaseDate+&quot; TEXT,&quot;+Constants.productPurchaseTime+&quot; TEXT,&quot;+Constants.productSerial+&quot; TEXT,&quot;+Constants.quantityOfProduct+&quot; TEXT)&quot;;\n        sqLiteDatabase.execSQL(query);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot;+TABLE);\n        onCreate(sqLiteDatabase);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class SqliteEmployee extends SQLiteOpenHelper {\n\n    private static final String TABLE=&quot;employee&quot;;\n    \n    public SqliteEmployee(@Nullable Context context) {\n        super(context, Constants.DB_NAME, null, Constants.DB_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        String query,query_1;\n        query=&quot;CREATE TABLE &quot;+TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.firstName+&quot; TEXT, &quot;+Constants.lastName+&quot; TEXT,&quot;+Constants.address+&quot; TEXT,&quot; +\n                Constants.contactNumber+&quot; INTEGER,&quot;+Constants.jobStatus+&quot; TEXT,&quot;+Constants.monthlyIncome+&quot; INTEGER)&quot;;\n\n        sqLiteDatabase.execSQL(query);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot;+TABLE);\n        onCreate(sqLiteDatabase);\n    }\n</code></pre>\n<p>Here's the both page. I created SqliteEmployee at first then SqliteExpense. If I insert data following way :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        SQLiteDatabase db=getWritableDatabase();\n        ContentValues values=new ContentValues();\n        values.put(Constants.firstName,firstName);\n        values.put(Constants.lastName,lastName);\n        values.put(Constants.contactNumber,contactNumber);\n        values.put(Constants.address,address);\n        values.put(Constants.jobStatus,jobStatus);\n        values.put(Constants.monthlyIncome,monthlyIncome);\n\n        long check=db.insert(TABLE,null,values);\n        if (check==-1)  //check returns -1 as data don't insert\n        {\n            return false;\n\n        }\n\n        else\n        {\n            return true;\n        }\n</code></pre>\n<p>then it works correctly for SqliteEmployee. But when I do the same for SqliteExpense (I change variables) then it doesn't work. I get an error which says <code>table doesn't exists</code></p>\n<p><code>no such table: expense (code 1 SQLITE_ERROR): , while compiling: INSERT INTO expense(product_version,quantity_of_product,product_purchase_date,product_purchase_time,product_serial,product_name.........</code></p>\n<p>As said in <a href=\"https://stackoverflow.com/a/3064342\">the answer</a>, to pack both tables into one SQLiteHelper. I tried doing that but it couldn't create anymore table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        String query,query_1;\n        query=&quot;CREATE TABLE &quot;+TABLE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.firstName+&quot; TEXT, &quot;+Constants.lastName+&quot; TEXT,&quot;+Constants.address+&quot; TEXT,&quot; +\n                Constants.contactNumber+&quot; INTEGER,&quot;+Constants.jobStatus+&quot; TEXT,&quot;+Constants.monthlyIncome+&quot; INTEGER)&quot;;\n        query_1=&quot;CREATE TABLE &quot;+TABLE_EXPENSE+&quot; (&quot;+Constants.id+&quot; INTEGER PRIMARY KEY,&quot;+Constants.productName+&quot; TEXT, &quot;+Constants.productPrice+&quot; TEXT,&quot;+Constants.productVersion+&quot; TEXT,&quot; +\n                Constants.productPurchaseDate+&quot; TEXT,&quot;+Constants.productPurchaseTime+&quot; TEXT,&quot;+Constants.productSerial+&quot; TEXT,&quot;+Constants.quantityOfProduct+&quot; TEXT)&quot;;\n\n        sqLiteDatabase.execSQL(query);\n        sqLiteDatabase.execSQL(query_1);\n    }\n\n</code></pre>\n<p>I tried the code in both page. Still didn't work.</p>\n"},{"tags":["java","list","duplicates"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665243426,"post_id":73998198,"comment_id":130656393,"body_markdown":"You need to loop, checking that the size of the set has grown after the add operation. If it hasn&#39;t you need to stay in the loop and generate again, else exit the loop","body":"You need to loop, checking that the size of the set has grown after the add operation. If it hasn&#39;t you need to stay in the loop and generate again, else exit the loop"},{"owner":{"account_id":17142615,"reputation":13,"user_id":12406267,"display_name":"Vikas Tiwari"},"score":0,"creation_date":1665244478,"post_id":73998198,"comment_id":130656637,"body_markdown":"@g00se, can you include the code snippet, I already tried that but it&#39;s not getting in my head.","body":"@g00se, can you include the code snippet, I already tried that but it&#39;s not getting in my head."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665246524,"post_id":73998198,"comment_id":130657080,"body_markdown":"You tried what? Whatever you did try, please post the code","body":"You tried what? Whatever you did try, please post the code"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1665260837,"post_id":73998198,"comment_id":130659998,"body_markdown":"_The second letter of the state code can be any random letter from the word._ Then how can you expect some predefined values?  for Alabama, Alaska, Alain the answers could be &quot;AA, AL, AN&quot; or &quot;AB, AS, AA&quot;, or &quot;AM, AA, AL&quot;.  You should also keep track of mapping the abbreviation to the actual state name.","body":"<i>The second letter of the state code can be any random letter from the word.</i> Then how can you expect some predefined values?  for Alabama, Alaska, Alain the answers could be &quot;AA, AL, AN&quot; or &quot;AB, AS, AA&quot;, or &quot;AM, AA, AL&quot;.  You should also keep track of mapping the abbreviation to the actual state name."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665262121,"creation_date":1665262121,"answer_id":74000441,"question_id":73998198,"body_markdown":"When adding an entry to a set, the method `add` returns `true` only if the set has changed that is the entry has been added.  This can help detect duplicates and therefore attempt to create another code:\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;String&gt; stateList = Arrays.asList(&quot;ALABAMA&quot;, &quot;ALASKA&quot;, &quot;ALAIN&quot;, &quot;BOMBAY&quot;, &quot;BORLAND&quot;);\r\n    System.out.println(stateList);\r\n\r\n    Set&lt;String&gt; hset = new LinkedHashSet&lt;String&gt;();\r\n    \r\n    Random r = new Random();\r\n    \r\n    for (String string : stateList) {\r\n        int len = string.length() - 1;\r\n        String first = string.substring(0, 1);\r\n        while (true) {\r\n            String code = first + string.charAt(1 + r.nextInt(len));\r\n            if (hset.add(code)) { // set changed\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    System.out.println(hset);\r\n}\r\n```\r\nExample:\r\n```\r\n[ALABAMA, ALASKA, ALAIN, BOMBAY, BORLAND]\r\n[AA, AK, AI, BY, BL]\r\n```\r\nor \r\n```\r\n[ALABAMA, ALASKA, ALAIN, BOMBAY, BORLAND]\r\n[AM, AL, AI, BB, BR]\r\n```\r\nIt&#39;s worth to mention that chances to get `AA` for `ALABAMA` is ~50% because of three `A`&#39;s after the initial one.","title":"Check for duplicate element in a list and if it is duplicate insert another element in its place, keeping the list size intact","body":"<p>When adding an entry to a set, the method <code>add</code> returns <code>true</code> only if the set has changed that is the entry has been added.  This can help detect duplicates and therefore attempt to create another code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;String&gt; stateList = Arrays.asList(&quot;ALABAMA&quot;, &quot;ALASKA&quot;, &quot;ALAIN&quot;, &quot;BOMBAY&quot;, &quot;BORLAND&quot;);\n    System.out.println(stateList);\n\n    Set&lt;String&gt; hset = new LinkedHashSet&lt;String&gt;();\n    \n    Random r = new Random();\n    \n    for (String string : stateList) {\n        int len = string.length() - 1;\n        String first = string.substring(0, 1);\n        while (true) {\n            String code = first + string.charAt(1 + r.nextInt(len));\n            if (hset.add(code)) { // set changed\n                break;\n            }\n        }\n    }\n    System.out.println(hset);\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>[ALABAMA, ALASKA, ALAIN, BOMBAY, BORLAND]\n[AA, AK, AI, BY, BL]\n</code></pre>\n<p>or</p>\n<pre><code>[ALABAMA, ALASKA, ALAIN, BOMBAY, BORLAND]\n[AM, AL, AI, BB, BR]\n</code></pre>\n<p>It's worth to mention that chances to get <code>AA</code> for <code>ALABAMA</code> is ~50% because of three <code>A</code>'s after the initial one.</p>\n"}],"owner":{"account_id":17142615,"reputation":13,"user_id":12406267,"display_name":"Vikas Tiwari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665262121,"creation_date":1665242602,"question_id":73998198,"body_markdown":"I&#39;m trying to generate the 2-letter State Code, I&#39;m storing the countries in a list of strings. Now, the criteria are:-\r\n\r\n1. The First letter of the state code must be the first letter of the state. For ex- If the state is **Alabama**, **the first letter must be A.**\r\n\r\n2. The second letter of the state code can be any random letter from the word.\r\n\r\n3. Now if we give 5 states then it should return 5 unique values.\r\n\r\nPS: I&#39;m attaching the code below, here I&#39;m trying to convert the list into a set but the set is removing the duplicates, I want all the distinct values without repetition.\r\n\r\n**Input:[Alabama, Alaska, Alain, Bombay, Borland]\r\nExpected Output:[AL, AK, AA, BO, BR]**\r\n\r\n    public class RadnomStateGenerator\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tList&lt;String&gt; stateList = new ArrayList&lt;String&gt;();\r\n    \t\tstateList.add(&quot;ALABAMA&quot;);\r\n    \t\tstateList.add(&quot;ALASKA&quot;);\r\n    \t\tstateList.add(&quot;ALAIN&quot;);\r\n    \t\tstateList.add(&quot;BOMBAY&quot;);\r\n    \t\tstateList.add(&quot;BORLAND&quot;);\r\n    \t\tSystem.out.println(stateList);\r\n    \t\tHashSet&lt;String&gt; hset = new HashSet&lt;String&gt;();\r\n    \t\tfor(String string:stateList)\r\n    \t\t{\r\n    \t\t\tchar   fWord  = string.charAt(0);\r\n    \t\t\tint    value  = (int) (Math.random() * string.length() - 1);\r\n    \t\t\tchar   sWord  = string.charAt(value);\r\n    \t\t\tString newstr = ((Character.toString(fWord) + Character.toString(sWord)).toUpperCase());\r\n    \t\t\thset.add(newstr);\r\n    \t\t}\r\n    \t\tSystem.out.println(hset);\r\n    \t}\r\n    }\r\n\r\n","title":"Check for duplicate element in a list and if it is duplicate insert another element in its place, keeping the list size intact","body":"<p>I'm trying to generate the 2-letter State Code, I'm storing the countries in a list of strings. Now, the criteria are:-</p>\n<ol>\n<li><p>The First letter of the state code must be the first letter of the state. For ex- If the state is <strong>Alabama</strong>, <strong>the first letter must be A.</strong></p>\n</li>\n<li><p>The second letter of the state code can be any random letter from the word.</p>\n</li>\n<li><p>Now if we give 5 states then it should return 5 unique values.</p>\n</li>\n</ol>\n<p>PS: I'm attaching the code below, here I'm trying to convert the list into a set but the set is removing the duplicates, I want all the distinct values without repetition.</p>\n<p><strong>Input:[Alabama, Alaska, Alain, Bombay, Borland]\nExpected Output:[AL, AK, AA, BO, BR]</strong></p>\n<pre><code>public class RadnomStateGenerator\n{\n    public static void main(String[] args)\n    {\n        List&lt;String&gt; stateList = new ArrayList&lt;String&gt;();\n        stateList.add(&quot;ALABAMA&quot;);\n        stateList.add(&quot;ALASKA&quot;);\n        stateList.add(&quot;ALAIN&quot;);\n        stateList.add(&quot;BOMBAY&quot;);\n        stateList.add(&quot;BORLAND&quot;);\n        System.out.println(stateList);\n        HashSet&lt;String&gt; hset = new HashSet&lt;String&gt;();\n        for(String string:stateList)\n        {\n            char   fWord  = string.charAt(0);\n            int    value  = (int) (Math.random() * string.length() - 1);\n            char   sWord  = string.charAt(value);\n            String newstr = ((Character.toString(fWord) + Character.toString(sWord)).toUpperCase());\n            hset.add(newstr);\n        }\n        System.out.println(hset);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml","admob"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1665168739,"post_id":73991503,"comment_id":130644902,"body_markdown":"The error is self explanatory, NPE on line 62, `mAdView.loadAd(adRequest);`, mAdView is null","body":"The error is self explanatory, NPE on line 62, <code>mAdView.loadAd(adRequest);</code>, mAdView is null"},{"owner":{"account_id":25389047,"reputation":25,"user_id":19200377,"display_name":"Pronner"},"score":0,"creation_date":1665170805,"post_id":73991503,"comment_id":130645401,"body_markdown":"But why? And what am I supposed to do to fix this...","body":"But why? And what am I supposed to do to fix this..."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1665178849,"post_id":73991503,"comment_id":130647182,"body_markdown":"Debug the app and make sure `mAdView = findViewById(R.id.adView);` returns the view. If it doesn&#39;t, make sure the view is in the same activity you are launching","body":"Debug the app and make sure <code>mAdView = findViewById(R.id.adView);</code> returns the view. If it doesn&#39;t, make sure the view is in the same activity you are launching"},{"owner":{"account_id":25389047,"reputation":25,"user_id":19200377,"display_name":"Pronner"},"score":0,"creation_date":1665216877,"post_id":73991503,"comment_id":130651699,"body_markdown":"If it wasn&#39;t in the same activity, then I would get an error when writing it right? I didn&#39;t so I&#39;m guessing that&#39;s not the problem. And I did debug it that&#39;s how I got the log so I don&#39;t know what you&#39;re asking me to do now","body":"If it wasn&#39;t in the same activity, then I would get an error when writing it right? I didn&#39;t so I&#39;m guessing that&#39;s not the problem. And I did debug it that&#39;s how I got the log so I don&#39;t know what you&#39;re asking me to do now"},{"owner":{"account_id":25389047,"reputation":25,"user_id":19200377,"display_name":"Pronner"},"score":0,"creation_date":1665223638,"post_id":73991503,"comment_id":130652819,"body_markdown":"So I found out why it didn&#39;t work. Basically, I was writing the MainActivity.java for the &quot;fragment_main.xml&quot; instead of the &quot;activity_main.xml&quot;, Therefore it didn&#39;t work. Now, I implemented the adview on the activity_main.xml, however it&#39;s not showing when I run the app. It doesn&#39;t crash anymore, but it just doesn&#39;t show. and when I try to open activity_main.xml designer it gets render issues.","body":"So I found out why it didn&#39;t work. Basically, I was writing the MainActivity.java for the &quot;fragment_main.xml&quot; instead of the &quot;activity_main.xml&quot;, Therefore it didn&#39;t work. Now, I implemented the adview on the activity_main.xml, however it&#39;s not showing when I run the app. It doesn&#39;t crash anymore, but it just doesn&#39;t show. and when I try to open activity_main.xml designer it gets render issues."},{"owner":{"account_id":25389047,"reputation":25,"user_id":19200377,"display_name":"Pronner"},"score":0,"creation_date":1665225851,"post_id":73991503,"comment_id":130653166,"body_markdown":"After removing the ConstraintLayout, AdView is visible. However, the position becomes in the middle of the screen instead of the top which I set it to be at.","body":"After removing the ConstraintLayout, AdView is visible. However, the position becomes in the middle of the screen instead of the top which I set it to be at."}],"answers":[{"tags":[],"owner":{"account_id":25389047,"reputation":25,"user_id":19200377,"display_name":"Pronner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665227193,"creation_date":1665227193,"answer_id":73996467,"question_id":73991503,"body_markdown":"Alright, so I was able to fix it. Basically,  I was writing the MainActivity.java for the &quot;fragment_main.xml&quot; instead of the &quot;activity_main.xml&quot;, Therefore it didn&#39;t work. Now, I implemented the adview on the activity_main.xml and it works.\r\n\r\nJust keep in mind that everyone has different ways of solving this and your problem may be different, look into the simple things and try to solve the problem no matter how many times you fail.\r\n\r\nAnd if your AdView is not being put correctly always use the **translationX** and **translationY** properties. If it appears on the center, use **translationY** to put it on the top/bottom.\r\n\r\nTop: for example **-150dp**\\\r\nBottom: for example **150dp**","title":"android | App keeps crashing when I add admob banner ad into it","body":"<p>Alright, so I was able to fix it. Basically,  I was writing the MainActivity.java for the &quot;fragment_main.xml&quot; instead of the &quot;activity_main.xml&quot;, Therefore it didn't work. Now, I implemented the adview on the activity_main.xml and it works.</p>\n<p>Just keep in mind that everyone has different ways of solving this and your problem may be different, look into the simple things and try to solve the problem no matter how many times you fail.</p>\n<p>And if your AdView is not being put correctly always use the <strong>translationX</strong> and <strong>translationY</strong> properties. If it appears on the center, use <strong>translationY</strong> to put it on the top/bottom.</p>\n<p>Top: for example <strong>-150dp</strong><br />\nBottom: for example <strong>150dp</strong></p>\n"}],"owner":{"account_id":25389047,"reputation":25,"user_id":19200377,"display_name":"Pronner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73996467,"answer_count":1,"score":1,"last_activity_date":1665261877,"creation_date":1665168467,"question_id":73991503,"body_markdown":"I&#39;ve been facing this issue every time I tried implementing ads into a VPN I&#39;m making. Every time I was able to fix something but this is just not working at all and I have no idea what to do to fix it. I&#39;ve tried implementing ads over 6 times, and got the same response every time I launched the app.\r\n\r\nA crash.\r\n\r\nI&#39;m pretty new to android dev and android studio so I expected this...\r\n\r\nLog:\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.pronner.ragtagvpn, PID: 5295\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.pronner.ragtagvpn/com.pronner.ragtagvpn.view.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.gms.ads.AdView.loadAd(com.google.android.gms.ads.AdRequest)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3676)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7898)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.gms.ads.AdView.loadAd(com.google.android.gms.ads.AdRequest)&#39; on a null object reference\r\n        at com.pronner.ragtagvpn.view.MainActivity.onCreate(MainActivity.java:62)\r\n        at android.app.Activity.performCreate(Activity.java:8290)\r\n        at android.app.Activity.performCreate(Activity.java:8269)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3657)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7898)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n```\r\n\r\nMainActivity.java OnCreate:\r\n```java\r\npackage com.pronner.ragtagvpn.view;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdView;\r\nimport com.pronner.ragtagvpn.R;\r\nimport com.pronner.ragtagvpn.Utils;\r\nimport com.pronner.ragtagvpn.adapter.ServerListRVAdapter;\r\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\r\nimport com.pronner.ragtagvpn.interfaces.NavItemClickListener;\r\nimport com.pronner.ragtagvpn.model.Server;\r\n\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity implements NavItemClickListener {\r\n    private FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n    private Fragment fragment;\r\n    private RecyclerView serverListRv;\r\n    private ArrayList&lt;Server&gt; serverLists;\r\n    private ServerListRVAdapter serverListRVAdapter;\r\n    private DrawerLayout drawer;\r\n    private ChangeServer changeServer;\r\n\r\n    public static final String TAG = &quot;RagTagVPN&quot;;\r\n\r\n    private AdView mAdView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n            }\r\n        });\r\n\r\n        mAdView = findViewById(R.id.adView);\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        mAdView.loadAd(adRequest);\r\n\r\n\r\n        // Initialize all variable\r\n        initializeAll();\r\n\r\n        ImageButton menuRight = findViewById(R.id.navbar_right);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        getSupportActionBar().setDisplayShowTitleEnabled(false);\r\n\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n        drawer.addDrawerListener(toggle);\r\n\r\n        menuRight.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                closeDrawer();\r\n            }\r\n        });\r\n\r\n        transaction.add(R.id.container, fragment);\r\n        transaction.commit();\r\n\r\n        // Server List recycler view initialize\r\n        if (serverLists != null) {\r\n            serverListRVAdapter = new ServerListRVAdapter(serverLists, this);\r\n            serverListRv.setAdapter(serverListRVAdapter);\r\n        }\r\n\r\n    }\r\n```\r\n\r\nAndroidManifest.xml:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.pronner.ragtagvpn&quot;&gt;\r\n    &lt;queries&gt;\r\n\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;data android:scheme=&quot;https&quot; /&gt;\r\n        &lt;/intent&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\r\n            &lt;data android:scheme=&quot;tel&quot; /&gt;\r\n        &lt;/intent&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n            &lt;data android:mimeType=&quot;*/*&quot; /&gt;\r\n        &lt;/intent&gt;\r\n\r\n    &lt;/queries&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@drawable/ragtag&quot;\r\n        android:label=&quot;RagTagVPN&quot;\r\n        android:extractNativeLibs=&quot;true&quot;\r\n        tools:replace=&quot;android:extractNativeLibs&quot;\r\n        android:roundIcon=&quot;@drawable/ragtag&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;activity android:name=&quot;com.pronner.ragtagvpn.view.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;action android:name=&quot;com.example.app.START_BACKGROUND&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;de.blinkt.openvpn.DisconnectVPNActivity&quot;\r\n        android:excludeFromRecents=&quot;true&quot;\r\n        android:noHistory=&quot;true&quot;\r\n        android:taskAffinity=&quot;.DisconnectVPN&quot;\r\n        android:theme=&quot;@style/blinkt.dialog&quot; /&gt;\r\n\r\n    &lt;service\r\n        android:name=&quot;de.blinkt.openvpn.core.OpenVPNService&quot;\r\n        android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.net.VpnService&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/service&gt;\r\n\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n","title":"android | App keeps crashing when I add admob banner ad into it","body":"<p>I've been facing this issue every time I tried implementing ads into a VPN I'm making. Every time I was able to fix something but this is just not working at all and I have no idea what to do to fix it. I've tried implementing ads over 6 times, and got the same response every time I launched the app.</p>\n<p>A crash.</p>\n<p>I'm pretty new to android dev and android studio so I expected this...</p>\n<p>Log:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.pronner.ragtagvpn, PID: 5295\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.pronner.ragtagvpn/com.pronner.ragtagvpn.view.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.gms.ads.AdView.loadAd(com.google.android.gms.ads.AdRequest)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3676)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7898)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.gms.ads.AdView.loadAd(com.google.android.gms.ads.AdRequest)' on a null object reference\n        at com.pronner.ragtagvpn.view.MainActivity.onCreate(MainActivity.java:62)\n        at android.app.Activity.performCreate(Activity.java:8290)\n        at android.app.Activity.performCreate(Activity.java:8269)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3657)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loopOnce(Looper.java:201) \n        at android.os.Looper.loop(Looper.java:288) \n        at android.app.ActivityThread.main(ActivityThread.java:7898) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p>MainActivity.java OnCreate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.pronner.ragtagvpn.view;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageButton;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdView;\nimport com.pronner.ragtagvpn.R;\nimport com.pronner.ragtagvpn.Utils;\nimport com.pronner.ragtagvpn.adapter.ServerListRVAdapter;\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\nimport com.pronner.ragtagvpn.interfaces.NavItemClickListener;\nimport com.pronner.ragtagvpn.model.Server;\n\nimport com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity implements NavItemClickListener {\n    private FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n    private Fragment fragment;\n    private RecyclerView serverListRv;\n    private ArrayList&lt;Server&gt; serverLists;\n    private ServerListRVAdapter serverListRVAdapter;\n    private DrawerLayout drawer;\n    private ChangeServer changeServer;\n\n    public static final String TAG = &quot;RagTagVPN&quot;;\n\n    private AdView mAdView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n            }\n        });\n\n        mAdView = findViewById(R.id.adView);\n        AdRequest adRequest = new AdRequest.Builder().build();\n        mAdView.loadAd(adRequest);\n\n\n        // Initialize all variable\n        initializeAll();\n\n        ImageButton menuRight = findViewById(R.id.navbar_right);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        getSupportActionBar().setDisplayShowTitleEnabled(false);\n\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.addDrawerListener(toggle);\n\n        menuRight.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                closeDrawer();\n            }\n        });\n\n        transaction.add(R.id.container, fragment);\n        transaction.commit();\n\n        // Server List recycler view initialize\n        if (serverLists != null) {\n            serverListRVAdapter = new ServerListRVAdapter(serverLists, this);\n            serverListRv.setAdapter(serverListRVAdapter);\n        }\n\n    }\n</code></pre>\n<p>AndroidManifest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.pronner.ragtagvpn&quot;&gt;\n    &lt;queries&gt;\n\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n            &lt;data android:scheme=&quot;https&quot; /&gt;\n        &lt;/intent&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\n            &lt;data android:scheme=&quot;tel&quot; /&gt;\n        &lt;/intent&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n            &lt;data android:mimeType=&quot;*/*&quot; /&gt;\n        &lt;/intent&gt;\n\n    &lt;/queries&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/ragtag&quot;\n        android:label=&quot;RagTagVPN&quot;\n        android:extractNativeLibs=&quot;true&quot;\n        tools:replace=&quot;android:extractNativeLibs&quot;\n        android:roundIcon=&quot;@drawable/ragtag&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;activity android:name=&quot;com.pronner.ragtagvpn.view.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;action android:name=&quot;com.example.app.START_BACKGROUND&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;\n\n    &lt;activity\n        android:name=&quot;de.blinkt.openvpn.DisconnectVPNActivity&quot;\n        android:excludeFromRecents=&quot;true&quot;\n        android:noHistory=&quot;true&quot;\n        android:taskAffinity=&quot;.DisconnectVPN&quot;\n        android:theme=&quot;@style/blinkt.dialog&quot; /&gt;\n\n    &lt;service\n        android:name=&quot;de.blinkt.openvpn.core.OpenVPNService&quot;\n        android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.net.VpnService&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","string","java-time","zoneddatetime"],"comments":[{"owner":{"account_id":6063640,"reputation":8874,"user_id":4734725,"accept_rate":50,"display_name":"reos"},"score":0,"creation_date":1487881287,"post_id":42425393,"comment_id":71996177,"body_markdown":"are you using jdk8 java.time.ZonedDateTime ?","body":"are you using jdk8 java.time.ZonedDateTime ?"},{"owner":{"account_id":1270857,"reputation":13636,"user_id":1227166,"accept_rate":55,"display_name":"Michel Feinstein"},"score":0,"creation_date":1487881356,"post_id":42425393,"comment_id":71996223,"body_markdown":"Yes, I think so...","body":"Yes, I think so..."},{"owner":{"account_id":4613607,"reputation":688,"user_id":3740914,"display_name":"bart.s"},"score":0,"creation_date":1487881758,"post_id":42425393,"comment_id":71996471,"body_markdown":"Use format() method from ZonedDateTime type","body":"Use format() method from ZonedDateTime type"},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":5,"creation_date":1487933115,"post_id":42425393,"comment_id":72017353,"body_markdown":"Using the symbol &quot;h&quot; (small letter) is a heavy mistake. Either use it in combination with am/pm because it is a 12-hour-field, or use the symbol &quot;H&quot; (capital letter) for 24-hour-field.","body":"Using the symbol &quot;h&quot; (small letter) is a heavy mistake. Either use it in combination with am/pm because it is a 12-hour-field, or use the symbol &quot;H&quot; (capital letter) for 24-hour-field."}],"answers":[{"comments":[{"owner":{"account_id":1270857,"reputation":13636,"user_id":1227166,"accept_rate":55,"display_name":"Michel Feinstein"},"score":0,"creation_date":1487882674,"post_id":42425541,"comment_id":71996994,"body_markdown":"Thanks! this works!...now I just need to figure how to change between one timezone to another and print it accordingly ...","body":"Thanks! this works!...now I just need to figure how to change between one timezone to another and print it accordingly ..."},{"owner":{"account_id":1270857,"reputation":13636,"user_id":1227166,"accept_rate":55,"display_name":"Michel Feinstein"},"score":0,"creation_date":1487883284,"post_id":42425541,"comment_id":71997360,"body_markdown":"Is it just my impression but this will always print the `ZonedDateTime` ignoring the time zone it defined?","body":"Is it just my impression but this will always print the <code>ZonedDateTime</code> ignoring the time zone it defined?"},{"owner":{"account_id":1270857,"reputation":13636,"user_id":1227166,"accept_rate":55,"display_name":"Michel Feinstein"},"score":1,"creation_date":1487884320,"post_id":42425541,"comment_id":71997992,"body_markdown":"Never mind, I found out I need to use `ZonedDateTime.withZoneSameInstant()`...Thanks!","body":"Never mind, I found out I need to use <code>ZonedDateTime.withZoneSameInstant()</code>...Thanks!"}],"tags":[],"owner":{"account_id":6063640,"reputation":8874,"user_id":4734725,"accept_rate":50,"display_name":"reos"},"comment_count":3,"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1487881629,"creation_date":1487881629,"answer_id":42425541,"question_id":42425393,"body_markdown":"You can use java.time.format.DateTimeFormatter.\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n\r\nHere there is an example\r\n\r\n    ZonedDateTime date = ZonedDateTime.now();\r\n    \t\t\r\n    System.out.println(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - hh:mm&quot;).format(date));","title":"How to format a ZonedDateTime to a String?","body":"<p>You can use java.time.format.DateTimeFormatter.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a></p>\n\n<p>Here there is an example</p>\n\n<pre><code>ZonedDateTime date = ZonedDateTime.now();\n\nSystem.out.println(DateTimeFormatter.ofPattern(\"dd/MM/yyyy - hh:mm\").format(date));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7545306,"reputation":737,"user_id":5728603,"display_name":"Tony Fraser"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549559450,"creation_date":1549558005,"answer_id":54578277,"question_id":42425393,"body_markdown":"Many thanks for above. Here it is in scala where localDateTime.now always Zulu/UTC time. \r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    import java.time.format.DateTimeFormatter\r\n    import java.time.LocalDateTime\r\n    import java.time.ZoneId\r\n\r\n    val ny = ZoneId.of(&quot;America/New_York&quot;)\r\n    val utc = ZoneId.of(&quot;UTC&quot;)\r\n    val dateTime = LocalDateTime.now.atZone(utc)\r\n\r\n    val nyTime = DateTimeFormatter.\r\n          ofPattern(&quot;yyyy-MMM-dd HH:mm z&quot;).\r\n          format(dateTime.withZoneSameInstant(ny))\r\n    \r\n","title":"How to format a ZonedDateTime to a String?","body":"<p>Many thanks for above. Here it is in scala where localDateTime.now always Zulu/UTC time. </p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import java.time.format.DateTimeFormatter\nimport java.time.LocalDateTime\nimport java.time.ZoneId\n\nval ny = ZoneId.of(\"America/New_York\")\nval utc = ZoneId.of(\"UTC\")\nval dateTime = LocalDateTime.now.atZone(utc)\n\nval nyTime = DateTimeFormatter.\n      ofPattern(\"yyyy-MMM-dd HH:mm z\").\n      format(dateTime.withZoneSameInstant(ny))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665261564,"creation_date":1665261564,"answer_id":74000387,"question_id":42425393,"body_markdown":"The format `dd/MM/yyyy - hh:mm` does not make sense\r\n---\r\n\r\nThe format `dd/MM/yyyy - hh:mm` does not make sense because of missing `a` which gives it a meaning. Note that `h` represents *clock-hour-of-am-pm (1-12)* and `a` represents *am-pm-of-day* i.e. without `a`, the hour returned by `h` will be ambiguous e.g. without `a`, `h` will not differentiate between 9:00 am and 9:00 pm.\r\n\r\nTherefore, use `H` which represents *hour-of-day (0-23)* or use **`h` with `a`**.\r\n\r\nAlso, always use `Locale` with the formatter because [Date-Time parsing/formatting API is Locale-sensitive](https://stackoverflow.com/a/65544056/10819573).\r\n\r\n    ZoneId zoneId = ZoneId.of(&quot;Europe/London&quot;);\r\n    ZonedDateTime zdt9Am = ZonedDateTime.of(LocalDate.now(), LocalTime.of(9, 0), zoneId);\r\n    ZonedDateTime zdt9Pm = ZonedDateTime.of(LocalDate.now(), LocalTime.of(21, 0), zoneId);\r\n    \r\n    DateTimeFormatter ambiguousFormatter = \r\n                        DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - hh:mm&quot;, Locale.ENGLISH);\r\n    String ambiguosDtStr1 = zdt9Am.format(ambiguousFormatter);\r\n    String ambiguosDtStr2 = zdt9Pm.format(ambiguousFormatter);\r\n    System.out.println(ambiguosDtStr1); // 08/10/2022 - 09:00\r\n    System.out.println(ambiguosDtStr2); // 08/10/2022 - 09:00\r\n    \r\n    DateTimeFormatter correctAmPmFormatter = \r\n                        DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - hh:mm a&quot;, Locale.ENGLISH);\r\n    System.out.println(zdt9Am.format(correctAmPmFormatter)); // 08/10/2022 - 09:00 AM\r\n    System.out.println(zdt9Pm.format(correctAmPmFormatter)); // 08/10/2022 - 09:00 PM\r\n    \r\n    DateTimeFormatter correct24HourFormatter = \r\n                        DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - HH:mm&quot;, Locale.ENGLISH);\r\n    System.out.println(zdt9Am.format(correct24HourFormatter)); // 08/10/2022 - 09:00\r\n    System.out.println(zdt9Pm.format(correct24HourFormatter)); // 08/10/2022 - 21:00\r\n\r\nCheck [`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) documentation to learn more about it.\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to format a ZonedDateTime to a String?","body":"<h2>The format <code>dd/MM/yyyy - hh:mm</code> does not make sense</h2>\n<p>The format <code>dd/MM/yyyy - hh:mm</code> does not make sense because of missing <code>a</code> which gives it a meaning. Note that <code>h</code> represents <em>clock-hour-of-am-pm (1-12)</em> and <code>a</code> represents <em>am-pm-of-day</em> i.e. without <code>a</code>, the hour returned by <code>h</code> will be ambiguous e.g. without <code>a</code>, <code>h</code> will not differentiate between 9:00 am and 9:00 pm.</p>\n<p>Therefore, use <code>H</code> which represents <em>hour-of-day (0-23)</em> or use <strong><code>h</code> with <code>a</code></strong>.</p>\n<p>Also, always use <code>Locale</code> with the formatter because <a href=\"https://stackoverflow.com/a/65544056/10819573\">Date-Time parsing/formatting API is Locale-sensitive</a>.</p>\n<pre><code>ZoneId zoneId = ZoneId.of(&quot;Europe/London&quot;);\nZonedDateTime zdt9Am = ZonedDateTime.of(LocalDate.now(), LocalTime.of(9, 0), zoneId);\nZonedDateTime zdt9Pm = ZonedDateTime.of(LocalDate.now(), LocalTime.of(21, 0), zoneId);\n\nDateTimeFormatter ambiguousFormatter = \n                    DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - hh:mm&quot;, Locale.ENGLISH);\nString ambiguosDtStr1 = zdt9Am.format(ambiguousFormatter);\nString ambiguosDtStr2 = zdt9Pm.format(ambiguousFormatter);\nSystem.out.println(ambiguosDtStr1); // 08/10/2022 - 09:00\nSystem.out.println(ambiguosDtStr2); // 08/10/2022 - 09:00\n\nDateTimeFormatter correctAmPmFormatter = \n                    DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - hh:mm a&quot;, Locale.ENGLISH);\nSystem.out.println(zdt9Am.format(correctAmPmFormatter)); // 08/10/2022 - 09:00 AM\nSystem.out.println(zdt9Pm.format(correctAmPmFormatter)); // 08/10/2022 - 09:00 PM\n\nDateTimeFormatter correct24HourFormatter = \n                    DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - HH:mm&quot;, Locale.ENGLISH);\nSystem.out.println(zdt9Am.format(correct24HourFormatter)); // 08/10/2022 - 09:00\nSystem.out.println(zdt9Pm.format(correct24HourFormatter)); // 08/10/2022 - 21:00\n</code></pre>\n<p>Check <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> documentation to learn more about it.</p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":1270857,"reputation":13636,"user_id":1227166,"accept_rate":55,"display_name":"Michel Feinstein"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89282,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":42425541,"answer_count":3,"score":64,"last_activity_date":1665261564,"creation_date":1487881062,"question_id":42425393,"body_markdown":"I want to convert a `ZonedDateTime` to a `String` in the format of `(&quot;dd/MM/yyyy - hh:mm&quot;)`. I know this is possible in Joda-Time other types, just using their `toString(&quot;dd/MM/yyyy - hh:mm&quot;)`....But this doesn&#39;t work with `ZonedDateTime.toString()`.\n\n# **How can I format a `ZonedDateTime` to a `String`?**\n\n____\n\nEDIT:\n\nI tried to print the time in another timezone and the result appears to be the same always: \n\n    ZonedDateTime date = ZonedDateTime.now();\n    ZoneId la = ZoneId.of(&quot;America/Los_Angeles&quot;);\n    ZonedDateTime date2 = date.of(date.toLocalDateTime(), la);\n    \n    // 24/02/2017 - 04:53\n    System.out.println(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - hh:mm&quot;).format(date));\n    // same result as the previous one\n    // 24/02/2017 - 04:53\n    System.out.println(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - hh:mm&quot;).format(date2));\n\nAnd I am not in the same timezone as Los Angeles.\n\n_____\nEDIT 2:\n\nFound how to change the timezones:\n\n    // Change this:\n    ZonedDateTime date2 = date.of(date.toLocalDateTime(), la); // incorrect!\n    // To this:\n    ZonedDateTime date2 = date.withZoneSameInstant(la);","title":"How to format a ZonedDateTime to a String?","body":"<p>I want to convert a <code>ZonedDateTime</code> to a <code>String</code> in the format of <code>(&quot;dd/MM/yyyy - hh:mm&quot;)</code>. I know this is possible in Joda-Time other types, just using their <code>toString(&quot;dd/MM/yyyy - hh:mm&quot;)</code>....But this doesn't work with <code>ZonedDateTime.toString()</code>.</p>\n<h1><strong>How can I format a <code>ZonedDateTime</code> to a <code>String</code>?</strong></h1>\n<hr />\n<p>EDIT:</p>\n<p>I tried to print the time in another timezone and the result appears to be the same always:</p>\n<pre><code>ZonedDateTime date = ZonedDateTime.now();\nZoneId la = ZoneId.of(&quot;America/Los_Angeles&quot;);\nZonedDateTime date2 = date.of(date.toLocalDateTime(), la);\n\n// 24/02/2017 - 04:53\nSystem.out.println(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - hh:mm&quot;).format(date));\n// same result as the previous one\n// 24/02/2017 - 04:53\nSystem.out.println(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy - hh:mm&quot;).format(date2));\n</code></pre>\n<p>And I am not in the same timezone as Los Angeles.</p>\n<hr />\n<p>EDIT 2:</p>\n<p>Found how to change the timezones:</p>\n<pre><code>// Change this:\nZonedDateTime date2 = date.of(date.toLocalDateTime(), la); // incorrect!\n// To this:\nZonedDateTime date2 = date.withZoneSameInstant(la);\n</code></pre>\n"},{"tags":["java","apache-kafka","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1548320942,"creation_date":1547459542,"answer_id":54179076,"question_id":54126263,"body_markdown":"Here is the solution I have come up with.\r\n\r\n    Flux&lt;ReceiverRecord&lt;Integer, DataDocument&gt;&gt; messages = Flux.defer(() -&gt; {\r\n        KafkaReceiver&lt;Integer, DataDocument&gt; receiver = KafkaReceiver.create(options);\r\n        return receiver.receive();\r\n    });\r\n\r\n    messages.map(this::transformToOutputFormat)\r\n            .delayUntil(this::performAction)\r\n            .doOnNext(record -&gt; record.receiverOffset().acknowledge())\r\n            .doOnError(error -&gt; logger.error(&quot;Error receiving record&quot;, error))\r\n            .retryBackoff(100, Duration.ofSeconds(5), Duration.ofMinutes(5))\r\n            .subscribe();\r\n\r\nInstead of using flatMapSequential to subscribe to the performAction Mono and preserve sequence, what I&#39;ve done instead is delayed the request for more messages from the Kafka receiver until the action is performed. This enables the one-at-a-time processing that I need.\r\n\r\nAs a result, performAction doesn&#39;t need to return a Mono of ReceiverRecord. I also simplified it to the following:\r\n\r\n    public Mono&lt;String&gt; performAction(ReceiverRecord&lt;Integer, DataDocument&gt; record) {\r\n        HttpClient.create()\r\n            .port(3000)\r\n            .get()\r\n            .uri(&quot;/makeCall?data=&quot; + receiverRecord.value().getData())\r\n            .responseContent()\r\n            .aggregate()\r\n            .asString()\r\n            .retryBackoff(100, Duration.ofSeconds(5), Duration.ofMinutes(5));\r\n    }\r\n\r\n","title":"Invoking non-blocking operations sequentially while consuming from a Flux including retries","body":"<p>Here is the solution I have come up with.</p>\n\n<pre><code>Flux&lt;ReceiverRecord&lt;Integer, DataDocument&gt;&gt; messages = Flux.defer(() -&gt; {\n    KafkaReceiver&lt;Integer, DataDocument&gt; receiver = KafkaReceiver.create(options);\n    return receiver.receive();\n});\n\nmessages.map(this::transformToOutputFormat)\n        .delayUntil(this::performAction)\n        .doOnNext(record -&gt; record.receiverOffset().acknowledge())\n        .doOnError(error -&gt; logger.error(\"Error receiving record\", error))\n        .retryBackoff(100, Duration.ofSeconds(5), Duration.ofMinutes(5))\n        .subscribe();\n</code></pre>\n\n<p>Instead of using flatMapSequential to subscribe to the performAction Mono and preserve sequence, what I've done instead is delayed the request for more messages from the Kafka receiver until the action is performed. This enables the one-at-a-time processing that I need.</p>\n\n<p>As a result, performAction doesn't need to return a Mono of ReceiverRecord. I also simplified it to the following:</p>\n\n<pre><code>public Mono&lt;String&gt; performAction(ReceiverRecord&lt;Integer, DataDocument&gt; record) {\n    HttpClient.create()\n        .port(3000)\n        .get()\n        .uri(\"/makeCall?data=\" + receiverRecord.value().getData())\n        .responseContent()\n        .aggregate()\n        .asString()\n        .retryBackoff(100, Duration.ofSeconds(5), Duration.ofMinutes(5));\n}\n</code></pre>\n"}],"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10253,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":54179076,"answer_count":1,"score":13,"last_activity_date":1665261177,"creation_date":1547114855,"question_id":54126263,"body_markdown":"So my use-case is to consume messages from Kafka in a Spring Webflux application while programming in the reactive style using Project Reactor, and to perform a non-blocking operation for each message in the same order as the messages were received from Kafka. The system should also be able to recover on its own.\r\n\r\nHere is the code snippet that is setup to consume from :\r\n\r\n        Flux&lt;ReceiverRecord&lt;Integer, DataDocument&gt;&gt; messages = Flux.defer(() -&gt; {\r\n            KafkaReceiver&lt;Integer, DataDocument&gt; receiver = KafkaReceiver.create(options);\r\n            return receiver.receive();\r\n        });\r\n\r\n        messages.map(this::transformToOutputFormat)\r\n                .map(this::performAction)\r\n                .flatMapSequential(receiverRecordMono -&gt; receiverRecordMono)\r\n                .doOnNext(record -&gt; record.receiverOffset().acknowledge())\r\n                .doOnError(error -&gt; logger.error(&quot;Error receiving record&quot;, error))\r\n                .retryBackoff(100, Duration.ofSeconds(5), Duration.ofMinutes(5))\r\n                .subscribe();\r\n\r\nAs you can see, what I do is: take the message from Kafka, transform it into an object intended for a new destination, then send it to the destination, and then acknowledge the offset to mark the message as consumed and processed. It is critical to acknowledge the offset in the same order as the messages being consumed from Kafka so that we don&#39;t move the offset beyond messages that were not fully processed (including sending some data to the destination). Hence I&#39;m using a `flatMapSequential` to ensure this.\r\n\r\nFor simplicity let&#39;s assume the `transformToOutputFormat()` method is an identity transform.\r\n\r\n    public ReceiverRecord&lt;Integer, DataDocument&gt; transformToOutputFormat(ReceiverRecord&lt;Integer, DataDocument&gt; record) {\r\n        return record;\r\n    }\r\n\r\nThe `performAction()` method needs to do something over the network, say call an HTTP REST API. So the appropriate APIs return a Mono, which means the chain needs to be subscribed to. Also, I need the `ReceiverRecord` to be returned by this method so that the offset can be acknowledged in the flatMapSequential() operator above. Because I need the Mono subscribed to, I&#39;m using `flatMapSequential` above. If not, I could have used a `map` instead.\r\n\r\n    public Mono&lt;ReceiverRecord&lt;Integer, DataDocument&gt;&gt; performAction(ReceiverRecord&lt;Integer, DataDocument&gt; record) {\r\n        return Mono.just(record)\r\n                .flatMap(receiverRecord -&gt;\r\n                        HttpClient.create()\r\n                                .port(3000)\r\n                                .get()\r\n                                .uri(&quot;/makeCall?data=&quot; + receiverRecord.value().getData())\r\n                                .responseContent()\r\n                                .aggregate()\r\n                                .asString()\r\n                )\r\n                .retryBackoff(100, Duration.ofSeconds(5), Duration.ofMinutes(5))\r\n                .then(Mono.just(record));\r\n\r\nI have two conflicting needs in this method:\r\n1. Subscribe to the chain that makes the HTTP call\r\n2. Return the ReceiverRecord\r\n\r\nUsing a flatMap() means my return type changes to a Mono&lt;String&gt;. Using doOnNext() in the same place would retain the ReceiverRecord in the chain, but would not allow the HttpClient response to be subscribed to automatically. \r\n\r\nI can&#39;t add `.subscribe()` after `asString()`, because I want to wait till the HTTP response is completely received before the offset is acknowledged.\r\n\r\nI can&#39;t use `.block()` either since it runs on a parallel thread.\r\n\r\nAs a result, I need to cheat and return the `record` object from the method scope.\r\n\r\nThe other thing is that on a retry inside `performAction` it switches threads. Since flatMapSequential() eagerly subscribes to each Mono in the outer flux, this means that while acknowledgement of offsets can be guaranteed in order, we can&#39;t guarantee that the HTTP call in `performAction` will be performed in the same order.\r\n\r\nSo I have two questions.\r\n\r\n1. Is it possible to return `record` in a natural way rather than returning the method scope object?\r\n2. Is it possible to ensure that both the HTTP call as well as the offset acknowledgement are performed in the same order as the messages for which these operations are occurring?\r\n","title":"Invoking non-blocking operations sequentially while consuming from a Flux including retries","body":"<p>So my use-case is to consume messages from Kafka in a Spring Webflux application while programming in the reactive style using Project Reactor, and to perform a non-blocking operation for each message in the same order as the messages were received from Kafka. The system should also be able to recover on its own.</p>\n\n<p>Here is the code snippet that is setup to consume from :</p>\n\n<pre><code>    Flux&lt;ReceiverRecord&lt;Integer, DataDocument&gt;&gt; messages = Flux.defer(() -&gt; {\n        KafkaReceiver&lt;Integer, DataDocument&gt; receiver = KafkaReceiver.create(options);\n        return receiver.receive();\n    });\n\n    messages.map(this::transformToOutputFormat)\n            .map(this::performAction)\n            .flatMapSequential(receiverRecordMono -&gt; receiverRecordMono)\n            .doOnNext(record -&gt; record.receiverOffset().acknowledge())\n            .doOnError(error -&gt; logger.error(\"Error receiving record\", error))\n            .retryBackoff(100, Duration.ofSeconds(5), Duration.ofMinutes(5))\n            .subscribe();\n</code></pre>\n\n<p>As you can see, what I do is: take the message from Kafka, transform it into an object intended for a new destination, then send it to the destination, and then acknowledge the offset to mark the message as consumed and processed. It is critical to acknowledge the offset in the same order as the messages being consumed from Kafka so that we don't move the offset beyond messages that were not fully processed (including sending some data to the destination). Hence I'm using a <code>flatMapSequential</code> to ensure this.</p>\n\n<p>For simplicity let's assume the <code>transformToOutputFormat()</code> method is an identity transform.</p>\n\n<pre><code>public ReceiverRecord&lt;Integer, DataDocument&gt; transformToOutputFormat(ReceiverRecord&lt;Integer, DataDocument&gt; record) {\n    return record;\n}\n</code></pre>\n\n<p>The <code>performAction()</code> method needs to do something over the network, say call an HTTP REST API. So the appropriate APIs return a Mono, which means the chain needs to be subscribed to. Also, I need the <code>ReceiverRecord</code> to be returned by this method so that the offset can be acknowledged in the flatMapSequential() operator above. Because I need the Mono subscribed to, I'm using <code>flatMapSequential</code> above. If not, I could have used a <code>map</code> instead.</p>\n\n<pre><code>public Mono&lt;ReceiverRecord&lt;Integer, DataDocument&gt;&gt; performAction(ReceiverRecord&lt;Integer, DataDocument&gt; record) {\n    return Mono.just(record)\n            .flatMap(receiverRecord -&gt;\n                    HttpClient.create()\n                            .port(3000)\n                            .get()\n                            .uri(\"/makeCall?data=\" + receiverRecord.value().getData())\n                            .responseContent()\n                            .aggregate()\n                            .asString()\n            )\n            .retryBackoff(100, Duration.ofSeconds(5), Duration.ofMinutes(5))\n            .then(Mono.just(record));\n</code></pre>\n\n<p>I have two conflicting needs in this method:\n1. Subscribe to the chain that makes the HTTP call\n2. Return the ReceiverRecord</p>\n\n<p>Using a flatMap() means my return type changes to a Mono. Using doOnNext() in the same place would retain the ReceiverRecord in the chain, but would not allow the HttpClient response to be subscribed to automatically. </p>\n\n<p>I can't add <code>.subscribe()</code> after <code>asString()</code>, because I want to wait till the HTTP response is completely received before the offset is acknowledged.</p>\n\n<p>I can't use <code>.block()</code> either since it runs on a parallel thread.</p>\n\n<p>As a result, I need to cheat and return the <code>record</code> object from the method scope.</p>\n\n<p>The other thing is that on a retry inside <code>performAction</code> it switches threads. Since flatMapSequential() eagerly subscribes to each Mono in the outer flux, this means that while acknowledgement of offsets can be guaranteed in order, we can't guarantee that the HTTP call in <code>performAction</code> will be performed in the same order.</p>\n\n<p>So I have two questions.</p>\n\n<ol>\n<li>Is it possible to return <code>record</code> in a natural way rather than returning the method scope object?</li>\n<li>Is it possible to ensure that both the HTTP call as well as the offset acknowledgement are performed in the same order as the messages for which these operations are occurring?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":4,"creation_date":1373500397,"post_id":17582844,"comment_id":25585895,"body_markdown":"Read http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html. After that, come back with a specific question.","body":"Read <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a>. After that, come back with a specific question."},{"owner":{"account_id":19555,"reputation":237923,"user_id":45914,"accept_rate":68,"display_name":"jason"},"score":1,"creation_date":1373500492,"post_id":17582844,"comment_id":25585922,"body_markdown":"Did you even bother? [Javadocs](http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html) and [Wikipedia](http://en.wikipedia.org/wiki/Enumerated_type) are great places to start. Vote to close for lack of research.","body":"Did you even bother? <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Javadocs</a> and <a href=\"http://en.wikipedia.org/wiki/Enumerated_type\" rel=\"nofollow noreferrer\">Wikipedia</a> are great places to start. Vote to close for lack of research."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1373500498,"post_id":17582844,"comment_id":25585925,"body_markdown":"From the link above: *An enum type is a special data type that enables for a variable to be a set of predefined constants.* A usage for `enum`s: Singleton http://stackoverflow.com/q/70689/1065197","body":"From the link above: <i>An enum type is a special data type that enables for a variable to be a set of predefined constants.</i> A usage for <code>enum</code>s: Singleton <a href=\"http://stackoverflow.com/q/70689/1065197\">stackoverflow.com/q/70689/1065197</a>"},{"owner":{"account_id":91101,"reputation":1949,"user_id":250346,"accept_rate":79,"display_name":"Albinoswordfish"},"score":0,"creation_date":1373500727,"post_id":17582844,"comment_id":25585970,"body_markdown":"Yes I&#39;ve read that document many times, I was curious as to if the compiler treats Enums differently than normal classes as &#39;values()&#39; doesn&#39;t show up in java.lang.Enum but yet all inherited Enums have this method.","body":"Yes I&#39;ve read that document many times, I was curious as to if the compiler treats Enums differently than normal classes as &#39;values()&#39; doesn&#39;t show up in java.lang.Enum but yet all inherited Enums have this method."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1373501127,"post_id":17582844,"comment_id":25586053,"body_markdown":"@Albinoswordfish The compiler does &quot;something special&quot; with every kind of type, namely emit a classfile with the appropriate bytecode. For enums, this bytecode includes a bunch of methods specialised for the given type. The base `Enum` class isn&#39;t meant to show you all the methods and fields of every enum. (Obviously enough, since then you couldn&#39;t have the enum constants themselves in the class.)","body":"@Albinoswordfish The compiler does &quot;something special&quot; with every kind of type, namely emit a classfile with the appropriate bytecode. For enums, this bytecode includes a bunch of methods specialised for the given type. The base <code>Enum</code> class isn&#39;t meant to show you all the methods and fields of every enum. (Obviously enough, since then you couldn&#39;t have the enum constants themselves in the class.)"},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1373501180,"post_id":17582844,"comment_id":25586069,"body_markdown":"@Albinoswordfish Quoting the tutorial you&#39;ve been linked to twice now: &quot;The compiler automatically adds some special methods when it creates an enum. For example, they have a static values method that returns an array containing all of the values of the enum in the order they are declared.&quot; I recommend reading through it the many+1th time.","body":"@Albinoswordfish Quoting the tutorial you&#39;ve been linked to twice now: &quot;The compiler automatically adds some special methods when it creates an enum. For example, they have a static values method that returns an array containing all of the values of the enum in the order they are declared.&quot; I recommend reading through it the many+1th time."},{"owner":{"account_id":19555,"reputation":237923,"user_id":45914,"accept_rate":68,"display_name":"jason"},"score":1,"creation_date":1373501251,"post_id":17582844,"comment_id":25586081,"body_markdown":"It *is* in the docs. It is also in the [language specification](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9): &quot;In addition, if `E` is the name of an `enum` type, then that type has the following implicitly declared `static` methods: [...] `public static E[] values();` [...] Returns an array containing the constants of this enum type, in the order they&#39;re declared.&quot;","body":"It <i>is</i> in the docs. It is also in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">language specification</a>: &quot;In addition, if <code>E</code> is the name of an <code>enum</code> type, then that type has the following implicitly declared <code>static</code> methods: [...] <code>public static E[] values();</code> [...] Returns an array containing the constants of this enum type, in the order they&#39;re declared.&quot;"},{"owner":{"account_id":91101,"reputation":1949,"user_id":250346,"accept_rate":79,"display_name":"Albinoswordfish"},"score":0,"creation_date":1373501488,"post_id":17582844,"comment_id":25586137,"body_markdown":"Yes I&#39;m aware of this that&#39;s why I brought up the values() as an example. I&#39;m wondering what else or how else the compiler treats Enums differently if anything. Like it say&#39;s &#39;adds some special methods&#39; what are these other methods.","body":"Yes I&#39;m aware of this that&#39;s why I brought up the values() as an example. I&#39;m wondering what else or how else the compiler treats Enums differently if anything. Like it say&#39;s &#39;adds some special methods&#39; what are these other methods."},{"owner":{"account_id":19555,"reputation":237923,"user_id":45914,"accept_rate":68,"display_name":"jason"},"score":1,"creation_date":1373501521,"post_id":17582844,"comment_id":25586144,"body_markdown":"@Albinoswordfish: Read the [specification](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9). It will tell you *everything*! Get use to reading the specification. You&#39;ve wasted so much time already.","body":"@Albinoswordfish: Read the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">specification</a>. It will tell you <i>everything</i>! Get use to reading the specification. You&#39;ve wasted so much time already."}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1373500875,"post_id":17582887,"comment_id":25586001,"body_markdown":"A default visibility constructor is also allowed, although I consider this to be a &quot;quirk&quot;","body":"A default visibility constructor is also allowed, although I consider this to be a &quot;quirk&quot;"},{"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"score":0,"creation_date":1373501173,"post_id":17582887,"comment_id":25586068,"body_markdown":"@Bohemian Curious. Yes, I agree, that&#39;s a quirk.","body":"@Bohemian Curious. Yes, I agree, that&#39;s a quirk."},{"owner":{"account_id":19555,"reputation":237923,"user_id":45914,"accept_rate":68,"display_name":"jason"},"score":0,"creation_date":1373501472,"post_id":17582887,"comment_id":25586132,"body_markdown":"I mean, good answer, don&#39;t want to subtract from it at all but the OP could also just read the [specification](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9)!","body":"I mean, good answer, don&#39;t want to subtract from it at all but the OP could also just read the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">specification</a>!"},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1373501482,"post_id":17582887,"comment_id":25586134,"body_markdown":"@Bohemian Possibly to enable laziness and let you type just `Foo() {...}` without specifying `private` explicitly. Since invoking enum constructors is disallowed anyway, its access level isn&#39;t that important, and its privacy would be implied. (Of course they could&#39;ve also made it so omitting the access modifier is equivalent to `private` for enums, but that would be adding one more special case somewhere.) That is, subtle interactions with reflection and security notwithstanding, assuming enum constructors are callable with reflection which I&#39;m not sure about right now.","body":"@Bohemian Possibly to enable laziness and let you type just <code>Foo() {...}</code> without specifying <code>private</code> explicitly. Since invoking enum constructors is disallowed anyway, its access level isn&#39;t that important, and its privacy would be implied. (Of course they could&#39;ve also made it so omitting the access modifier is equivalent to <code>private</code> for enums, but that would be adding one more special case somewhere.) That is, subtle interactions with reflection and security notwithstanding, assuming enum constructors are callable with reflection which I&#39;m not sure about right now."}],"tags":[],"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1665258926,"creation_date":1373500522,"answer_id":17582887,"question_id":17582844,"body_markdown":"An `enum` is a class that inherits from the [`Enum`](http://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html) class with (a) a `private` constructor, as you mentioned; and (b) a fixed, ordered list of named, `final` instances.\r\n\r\nUnder the covers, when you declare an `enum`:\r\n\r\n    public enum Foo {\r\n        A(1) {\r\n            public void bar() {\r\n                System.out.println(&quot;A#bar&quot;);\r\n            }\r\n        },\r\n        B(2) {\r\n            public void bar() {\r\n                System.out.println(&quot;B#bar&quot;);\r\n            }\r\n        },\r\n        C(3) {\r\n            public void bar() {\r\n                System.out.println(&quot;C#bar&quot;);\r\n            }\r\n        };\r\n\r\n        private Foo(int x) {\r\n            // Code goes here...\r\n        }\r\n\r\n        public abstract void bar();\r\n    }\r\n\r\n...you can imagine the compiler generates something like this:\r\n\r\n    public class Foo extends Enum&lt;Foo&gt; {\r\n        public static final Foo A=new Foo(1) {\r\n            public void bar() {\r\n                System.out.println(&quot;A#bar&quot;);\r\n            }\r\n        };\r\n        public static final Foo B=new Foo(2) {\r\n            public void bar() {\r\n                System.out.println(&quot;B#bar&quot;);\r\n            }\r\n        };\r\n        public static final Foo C=new Foo(3) {\r\n            public void bar() {\r\n                System.out.println(&quot;C#bar&quot;);\r\n            }\r\n        };\r\n\r\n        private Foo(int x) {\r\n            // Code goes here...\r\n        }\r\n    }\r\n\r\nThere are a couple other things that make `enum`s special:\r\n\r\n1. *The compiler knows that `enum`s have a fixed list of instances.* This allows it to do things like emit warnings if a `switch` doesn&#39;t have a `case` statement to handle each value.\r\n2. *Each constant has a special, compiler-generated, 0-based, monotonically increasing, dense [`ordinal()`](http://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#ordinal%28%29) value assigned to it.* (In other words, the first has ordinal 0, then second has ordinal 1, and so on.) This allows for extremely efficient array-based data structures like [`EnumMap`](http://docs.oracle.com/javase/7/docs/api/java/util/EnumMap.html) to be created.\r\n\r\nI&#39;m sure I&#39;m missing a few things, but this is a good place to start.","title":"What exactly is an Enum?","body":"<p>An <code>enum</code> is a class that inherits from the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html\" rel=\"nofollow noreferrer\"><code>Enum</code></a> class with (a) a <code>private</code> constructor, as you mentioned; and (b) a fixed, ordered list of named, <code>final</code> instances.</p>\n<p>Under the covers, when you declare an <code>enum</code>:</p>\n<pre><code>public enum Foo {\n    A(1) {\n        public void bar() {\n            System.out.println(&quot;A#bar&quot;);\n        }\n    },\n    B(2) {\n        public void bar() {\n            System.out.println(&quot;B#bar&quot;);\n        }\n    },\n    C(3) {\n        public void bar() {\n            System.out.println(&quot;C#bar&quot;);\n        }\n    };\n\n    private Foo(int x) {\n        // Code goes here...\n    }\n\n    public abstract void bar();\n}\n</code></pre>\n<p>...you can imagine the compiler generates something like this:</p>\n<pre><code>public class Foo extends Enum&lt;Foo&gt; {\n    public static final Foo A=new Foo(1) {\n        public void bar() {\n            System.out.println(&quot;A#bar&quot;);\n        }\n    };\n    public static final Foo B=new Foo(2) {\n        public void bar() {\n            System.out.println(&quot;B#bar&quot;);\n        }\n    };\n    public static final Foo C=new Foo(3) {\n        public void bar() {\n            System.out.println(&quot;C#bar&quot;);\n        }\n    };\n\n    private Foo(int x) {\n        // Code goes here...\n    }\n}\n</code></pre>\n<p>There are a couple other things that make <code>enum</code>s special:</p>\n<ol>\n<li><em>The compiler knows that <code>enum</code>s have a fixed list of instances.</em> This allows it to do things like emit warnings if a <code>switch</code> doesn't have a <code>case</code> statement to handle each value.</li>\n<li><em>Each constant has a special, compiler-generated, 0-based, monotonically increasing, dense <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html#ordinal%28%29\" rel=\"nofollow noreferrer\"><code>ordinal()</code></a> value assigned to it.</em> (In other words, the first has ordinal 0, then second has ordinal 1, and so on.) This allows for extremely efficient array-based data structures like <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/EnumMap.html\" rel=\"nofollow noreferrer\"><code>EnumMap</code></a> to be created.</li>\n</ol>\n<p>I'm sure I'm missing a few things, but this is a good place to start.</p>\n"}],"owner":{"account_id":91101,"reputation":1949,"user_id":250346,"accept_rate":79,"display_name":"Albinoswordfish"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1373504587,"answer_count":1,"score":0,"last_activity_date":1665258926,"creation_date":1373500183,"question_id":17582844,"body_markdown":"Right now I&#39;m trying to figure out what exactly is a Enum in java. I know how they work and how/when to use them however I&#39;m a little unclear on what exactly they are. Based on their behavior it seems to me they are nothing more than just a class with a private constructor. However it seems to me that the compiler is doing something special with them as Enums have a special method called `values()` which doesn&#39;t show up in the Enum class on the Oracle doc site. \r\n\r\nMy question is, what exactly are Enums and how does the compiler interpret them?","title":"What exactly is an Enum?","body":"<p>Right now I'm trying to figure out what exactly is a Enum in java. I know how they work and how/when to use them however I'm a little unclear on what exactly they are. Based on their behavior it seems to me they are nothing more than just a class with a private constructor. However it seems to me that the compiler is doing something special with them as Enums have a special method called <code>values()</code> which doesn't show up in the Enum class on the Oracle doc site. </p>\n\n<p>My question is, what exactly are Enums and how does the compiler interpret them?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","illegalstateexception"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1658741300,"post_id":73102226,"comment_id":129117505,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":25885405,"reputation":13,"user_id":19613624,"display_name":"Aman Nigam"},"score":0,"creation_date":1658700743,"post_id":73102350,"comment_id":129110060,"body_markdown":"Yes i had unzipped it and also checked again that it has been unzipped and there&#39;s no copy of it","body":"Yes i had unzipped it and also checked again that it has been unzipped and there&#39;s no copy of it"},{"owner":{"account_id":25885405,"reputation":13,"user_id":19613624,"display_name":"Aman Nigam"},"score":0,"creation_date":1658749164,"post_id":73102350,"comment_id":129120602,"body_markdown":"but i created this project because the earlier one was too giving same error that had maven dependencies, and this one too giving same error i don&#39;t know why, please help","body":"but i created this project because the earlier one was too giving same error that had maven dependencies, and this one too giving same error i don&#39;t know why, please help"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1658749251,"post_id":73102350,"comment_id":129120632,"body_markdown":"Possibly _blank spaces within the project name_ is causing all the issues. Delete the unwanted one.","body":"Possibly <i>blank spaces within the project name</i> is causing all the issues. Delete the unwanted one."},{"owner":{"account_id":25885405,"reputation":13,"user_id":19613624,"display_name":"Aman Nigam"},"score":1,"creation_date":1658750673,"post_id":73102350,"comment_id":129121186,"body_markdown":"Thank you so much dear, it worked. Thanks for the help, now i can learn selenium. Once again thank you.","body":"Thank you so much dear, it worked. Thanks for the help, now i can learn selenium. Once again thank you."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658702626,"creation_date":1658699839,"answer_id":73102350,"question_id":73102226,"body_markdown":"There is some ambiguity between your code trials and the error stacktrace.\r\n\r\nIn your code you mentioed the [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) as:\r\n\r\n\t‪‪‪C:\\\\Users\\\\amann\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe\r\n\t\r\nWhere as the error stacktrace mentions the driver executable doesn&#39;t exists at:\r\n\r\n\tC:\\Users\\amann\\eclipse-workspace\\Selenium learning 2.0???C:\\Users\\amann\\Downloads\\chromedriver_win32\\chromedriver.exe\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nSolution\r\n--------\r\nEnsure that you have unzipped the [ChromeDriver](https://stackoverflow.com/a/53744026/7429447) and placed with the sub-directory:\r\n\r\n\tC:\\\\Users\\\\amann\\\\Downloads\\\\chromedriver_win32\r\n\t\r\nand you need to mention the absolute path within the [System.setProperty()](https://stackoverflow.com/a/60061951/7429447) line as:\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;‪‪‪C:\\\\Users\\\\amann\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nUpdate\r\n------\r\nYou have 2 projects with almost similar names, a maven project and another a Java project. The name starting with _**Selenium learning**_.\r\n\r\nTry to avoid same name for multiple projects and blank spaces within the project names. Example _`SeleniumTest`_, _`SeleniumProgram`_, etc.\r\n\r\nPS: You may opt to delete the current project and create a new one.\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a relevant detailed discussion in:\r\n\r\n- [java.lang.IllegalStateException: The driver executable does not exist: while trying to execute tests through Selenium, ChromeDriver and Chrome](https://stackoverflow.com/a/51608925/7429447)","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist error using Selenium and Java","body":"<p>There is some ambiguity between your code trials and the error stacktrace.</p>\n<p>In your code you mentioed the <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> as:</p>\n<pre><code>‪‪‪C:\\\\Users\\\\amann\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe\n</code></pre>\n<p>Where as the error stacktrace mentions the driver executable doesn't exists at:</p>\n<pre><code>C:\\Users\\amann\\eclipse-workspace\\Selenium learning 2.0???C:\\Users\\amann\\Downloads\\chromedriver_win32\\chromedriver.exe\n</code></pre>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that you have unzipped the <a href=\"https://stackoverflow.com/a/53744026/7429447\">ChromeDriver</a> and placed with the sub-directory:</p>\n<pre><code>C:\\\\Users\\\\amann\\\\Downloads\\\\chromedriver_win32\n</code></pre>\n<p>and you need to mention the absolute path within the <a href=\"https://stackoverflow.com/a/60061951/7429447\">System.setProperty()</a> line as:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;‪‪‪C:\\\\Users\\\\amann\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n</code></pre>\n<hr />\n<h2>Update</h2>\n<p>You have 2 projects with almost similar names, a maven project and another a Java project. The name starting with <em><strong>Selenium learning</strong></em>.</p>\n<p>Try to avoid same name for multiple projects and blank spaces within the project names. Example <em><code>SeleniumTest</code></em>, <em><code>SeleniumProgram</code></em>, etc.</p>\n<p>PS: You may opt to delete the current project and create a new one.</p>\n<hr />\n<h2>References</h2>\n<p>You can find a relevant detailed discussion in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/51608925/7429447\">java.lang.IllegalStateException: The driver executable does not exist: while trying to execute tests through Selenium, ChromeDriver and Chrome</a></li>\n</ul>\n"}],"owner":{"account_id":25885405,"reputation":13,"user_id":19613624,"display_name":"Aman Nigam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4011,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73102350,"answer_count":1,"score":1,"last_activity_date":1665258559,"creation_date":1658698632,"question_id":73102226,"body_markdown":"I am unable to execute my first selenium code. Tried changing webdriver path several times but that didn&#39;t work.\r\n\r\nCode trials:\r\n```\r\npackage Learningday1;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class FirstScript {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;‪‪‪C:\\\\Users\\\\amann\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver(); \r\n        driver.get(&quot;https://selenium.dev&quot;);\r\n        System.out.println(driver.getTitle());\r\n        driver.quit();\r\n\t}\r\n\r\n}\r\n```\r\nError:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist: C:\\Users\\amann\\eclipse-workspace\\Selenium learning 2.0\\???C:\\Users\\amann\\Downloads\\chromedriver_win32\\chromedriver.exe\r\n\tat org.openqa.selenium.internal.Require$FileStateChecker.isFile(Require.java:342)\r\n\tat org.openqa.selenium.remote.service.DriverService.checkExecutable(DriverService.java:147)\r\n\tat org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:142)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:39)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:233)\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:437)\r\n\tat org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:128)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n\tat Learningday1.FirstScript.main(FirstScript.java:10)\r\n```\r\nSnapshot:\r\n\r\n![enter image description here](https://i.stack.imgur.com/Bb27E.png)\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist error using Selenium and Java","body":"<p>I am unable to execute my first selenium code. Tried changing webdriver path several times but that didn't work.</p>\n<p>Code trials:</p>\n<pre><code>package Learningday1;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class FirstScript {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;‪‪‪C:\\\\Users\\\\amann\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver(); \n        driver.get(&quot;https://selenium.dev&quot;);\n        System.out.println(driver.getTitle());\n        driver.quit();\n    }\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: The driver executable must exist: C:\\Users\\amann\\eclipse-workspace\\Selenium learning 2.0\\???C:\\Users\\amann\\Downloads\\chromedriver_win32\\chromedriver.exe\n    at org.openqa.selenium.internal.Require$FileStateChecker.isFile(Require.java:342)\n    at org.openqa.selenium.remote.service.DriverService.checkExecutable(DriverService.java:147)\n    at org.openqa.selenium.remote.service.DriverService.findExecutable(DriverService.java:142)\n    at org.openqa.selenium.chrome.ChromeDriverService.access$000(ChromeDriverService.java:39)\n    at org.openqa.selenium.chrome.ChromeDriverService$Builder.findDefaultExecutable(ChromeDriverService.java:233)\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:437)\n    at org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:128)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\n    at Learningday1.FirstScript.main(FirstScript.java:10)\n</code></pre>\n<p>Snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/Bb27E.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","datetime","hour","zoneddatetime","java.time.instant"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1521442931,"post_id":49357170,"comment_id":85714687,"body_markdown":"What do you mean by &quot;get the date&quot;?  You want the day, month and year in separate calls?","body":"What do you mean by &quot;get the date&quot;?  You want the day, month and year in separate calls?"}],"answers":[{"comments":[{"owner":{"account_id":142261,"reputation":1,"user_id":492293,"accept_rate":85,"display_name":"Gandalf"},"score":0,"creation_date":1521442231,"post_id":49357185,"comment_id":85714386,"body_markdown":"I see, but no date anywhere.","body":"I see, but no date anywhere."},{"owner":{"account_id":12889436,"reputation":300,"user_id":9321899,"display_name":"Claudiu Guja"},"score":1,"creation_date":1521442444,"post_id":49357185,"comment_id":85714481,"body_markdown":"ok, then how about the .getMonth, .getYear and .getdayOfMonth methods? or do you want all of this data in a formattable string?","body":"ok, then how about the .getMonth, .getYear and .getdayOfMonth methods? or do you want all of this data in a formattable string?"},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1521442490,"post_id":49357185,"comment_id":85714507,"body_markdown":"I hope you are not asking for `java.util.Date`.","body":"I hope you are not asking for <code>java.util.Date</code>."},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1521442534,"post_id":49357185,"comment_id":85714528,"body_markdown":"`Date` is - simple `millisecond`","body":"<code>Date</code> is - simple <code>millisecond</code>"},{"owner":{"account_id":142261,"reputation":1,"user_id":492293,"accept_rate":85,"display_name":"Gandalf"},"score":0,"creation_date":1521442726,"post_id":49357185,"comment_id":85714601,"body_markdown":"@ClaudiuGuja I just want to extract the date now that i can extract hour and minute. It now seems i need to get date outside of Instant.now()","body":"@ClaudiuGuja I just want to extract the date now that i can extract hour and minute. It now seems i need to get date outside of Instant.now()"},{"owner":{"account_id":12889436,"reputation":300,"user_id":9321899,"display_name":"Claudiu Guja"},"score":1,"creation_date":1521443276,"post_id":49357185,"comment_id":85714826,"body_markdown":"and in what format do you want to extract the date? you can simply get the year, month and day of month using thier respective methods, or you can format the ZonedDateTime using a DateTimeFormatter to get a string to you liking. Or, there is always the LocalDate you can get from the ZonedDateTime. What exactly do you want?","body":"and in what format do you want to extract the date? you can simply get the year, month and day of month using thier respective methods, or you can format the ZonedDateTime using a DateTimeFormatter to get a string to you liking. Or, there is always the LocalDate you can get from the ZonedDateTime. What exactly do you want?"}],"tags":[],"owner":{"account_id":12889436,"reputation":300,"user_id":9321899,"display_name":"Claudiu Guja"},"comment_count":6,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1521447875,"creation_date":1521442035,"answer_id":49357185,"question_id":49357170,"body_markdown":"`ZonedDateTime` has methods such as `getHour()`, `getMinute()`, and such which should suffice.","title":"Extracting date, hour and minute from Instant.now() generated date","body":"<p><code>ZonedDateTime</code> has methods such as <code>getHour()</code>, <code>getMinute()</code>, and such which should suffice.</p>\n"},{"comments":[{"owner":{"account_id":12889436,"reputation":300,"user_id":9321899,"display_name":"Claudiu Guja"},"score":0,"creation_date":1553493805,"post_id":49361364,"comment_id":97389197,"body_markdown":"Thank you for the credit. Sadly, I did not notice that I had questions on an answer, otherwise I would have answered myself...","body":"Thank you for the credit. Sadly, I did not notice that I had questions on an answer, otherwise I would have answered myself..."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1521457231,"creation_date":1521457231,"answer_id":49361364,"question_id":49357170,"body_markdown":"Since you seem to have been confused about how to get the date from your `ZonedDateTime`, I should like to supplement [Claudiu Guja’a good and correct answer](https://stackoverflow.com/a/49357185/5772882).\r\n\r\n\t\tZoneId z = ZoneId.of(&quot;Africa/Nairobi&quot;);\r\n\t\tZonedDateTime zdt = ZonedDateTime.now(z);\r\n\t\tSystem.out.println(&quot;Date         &quot; + zdt.toLocalDate());\r\n\t\tSystem.out.println(&quot;Year         &quot; + zdt.getYear());\r\n\t\tSystem.out.println(&quot;Month        &quot; + zdt.getMonth());\r\n\t\tSystem.out.println(&quot;Day of month &quot; + zdt.getDayOfMonth());\r\n\r\nThis just printed:\r\n\r\n    Date         2018-03-19\r\n    Year         2018\r\n    Month        MARCH\r\n    Day of month 19\r\n\r\nPlease check the documentation for more methods including `getMonthValue` for the number of the month (1 through 12). I include a link at the bottom. Since `ZonedDateTime` class has a `now` method, you don’t need `Instant.now()` first.\r\n\r\nIf you wanted an old-fashioned `java.util.Date` object — first answer is: don’t. The modern API you are already using is much nicer to work with. Only if you need a `Date` for some legacy API that you cannot change or don’t want to change just now, get an `Instant` and convert it:\r\n\r\n\t\tInstant instant = Instant.now();\r\n\t\tDate oldfashionedDateObject = Date.from(instant);\r\n\t\tSystem.out.println(&quot;Old-fashioned java.util.Date &quot; + oldfashionedDateObject);\r\n\r\nThis printed:\r\n\r\n    Old-fashioned java.util.Date Mon Mar 19 12:00:05 CET 2018\r\n\r\nEven though it says `CET` for Central European Time in the string, the `Date` does not contain a time zone (this confuses many). Only its `toString` method (called implicitly when I append the `Date` to a `String`) grabs the JVM’s time zone setting and uses it for generating the `String` while the `Date` stays unaffected.\r\n\r\nIn the special case where you just want a `Date` representing the date-time now, again, it’s ill-advised unless you have a very specific need, it’s very simple:\r\n\r\n\t\tDate oldfashionedDateObject = new Date();\r\n\r\nThe result is the same as above.\r\n\r\n## Links\r\n\r\n - [`ZonedDateTime` documentation](https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html)\r\n - [All about java.util.date](https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/)","title":"Extracting date, hour and minute from Instant.now() generated date","body":"<p>Since you seem to have been confused about how to get the date from your <code>ZonedDateTime</code>, I should like to supplement <a href=\"https://stackoverflow.com/a/49357185/5772882\">Claudiu Guja’a good and correct answer</a>.</p>\n\n<pre><code>    ZoneId z = ZoneId.of(\"Africa/Nairobi\");\n    ZonedDateTime zdt = ZonedDateTime.now(z);\n    System.out.println(\"Date         \" + zdt.toLocalDate());\n    System.out.println(\"Year         \" + zdt.getYear());\n    System.out.println(\"Month        \" + zdt.getMonth());\n    System.out.println(\"Day of month \" + zdt.getDayOfMonth());\n</code></pre>\n\n<p>This just printed:</p>\n\n<pre><code>Date         2018-03-19\nYear         2018\nMonth        MARCH\nDay of month 19\n</code></pre>\n\n<p>Please check the documentation for more methods including <code>getMonthValue</code> for the number of the month (1 through 12). I include a link at the bottom. Since <code>ZonedDateTime</code> class has a <code>now</code> method, you don’t need <code>Instant.now()</code> first.</p>\n\n<p>If you wanted an old-fashioned <code>java.util.Date</code> object — first answer is: don’t. The modern API you are already using is much nicer to work with. Only if you need a <code>Date</code> for some legacy API that you cannot change or don’t want to change just now, get an <code>Instant</code> and convert it:</p>\n\n<pre><code>    Instant instant = Instant.now();\n    Date oldfashionedDateObject = Date.from(instant);\n    System.out.println(\"Old-fashioned java.util.Date \" + oldfashionedDateObject);\n</code></pre>\n\n<p>This printed:</p>\n\n<pre><code>Old-fashioned java.util.Date Mon Mar 19 12:00:05 CET 2018\n</code></pre>\n\n<p>Even though it says <code>CET</code> for Central European Time in the string, the <code>Date</code> does not contain a time zone (this confuses many). Only its <code>toString</code> method (called implicitly when I append the <code>Date</code> to a <code>String</code>) grabs the JVM’s time zone setting and uses it for generating the <code>String</code> while the <code>Date</code> stays unaffected.</p>\n\n<p>In the special case where you just want a <code>Date</code> representing the date-time now, again, it’s ill-advised unless you have a very specific need, it’s very simple:</p>\n\n<pre><code>    Date oldfashionedDateObject = new Date();\n</code></pre>\n\n<p>The result is the same as above.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code> documentation</a></li>\n<li><a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"noreferrer\">All about java.util.date</a></li>\n</ul>\n"}],"owner":{"account_id":142261,"reputation":1,"user_id":492293,"accept_rate":85,"display_name":"Gandalf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38634,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":49361364,"answer_count":2,"score":15,"last_activity_date":1665258399,"creation_date":1521441939,"question_id":49357170,"body_markdown":"I have this code that generates a date and time, \r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Nairobi&quot; );\r\n    Instant instant = Instant.now();\r\n    ZonedDateTime zdt = instant.atZone(z);\r\n    return zdt.toString();\r\n    \t\t\r\n    //2018-03-19T09:03:22.858+03:00[Africa/Nairobi]\r\n\r\nIs there a lib like chrono - https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html field that I can use to get the date, hour and minute?\r\n\r\nChrono fields does not extract the complete date.","title":"Extracting date, hour and minute from Instant.now() generated date","body":"<p>I have this code that generates a date and time,</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Nairobi&quot; );\nInstant instant = Instant.now();\nZonedDateTime zdt = instant.atZone(z);\nreturn zdt.toString();\n        \n//2018-03-19T09:03:22.858+03:00[Africa/Nairobi]\n</code></pre>\n<p>Is there a lib like chrono - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html</a> field that I can use to get the date, hour and minute?</p>\n<p>Chrono fields does not extract the complete date.</p>\n"},{"tags":["java","java-8","epoch","zoneddatetime"],"answers":[{"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":53,"creation_date":1509124347,"post_id":28808481,"comment_id":80907932,"body_markdown":"`ZonedDateTime.ofInstant(i, ZoneOffset.UTC)` for UTC","body":"<code>ZonedDateTime.ofInstant(i, ZoneOffset.UTC)</code> for UTC"},{"owner":{"account_id":6942471,"reputation":5067,"user_id":5328289,"accept_rate":62,"display_name":"M.E."},"score":1,"creation_date":1590705713,"post_id":28808481,"comment_id":109790160,"body_markdown":"`Instant instant = Instant.ofEpochSecond(t); ZoneId zoneId = ZoneId.of(&quot;America/New_York&quot;); ZonedDateTime z = ZonedDateTime.ofInstant(instant, zoneId);` for a specific ZoneId.","body":"<code>Instant instant = Instant.ofEpochSecond(t); ZoneId zoneId = ZoneId.of(&quot;America&#47;New_York&quot;); ZonedDateTime z = ZonedDateTime.ofInstant(instant, zoneId);</code> for a specific ZoneId."}],"tags":[],"owner":{"account_id":1500964,"reputation":49992,"user_id":1405634,"accept_rate":63,"display_name":"Prisoner"},"comment_count":2,"down_vote_count":0,"up_vote_count":150,"is_accepted":true,"score":150,"last_activity_date":1504166840,"creation_date":1425295054,"answer_id":28808481,"question_id":28808305,"body_markdown":"You should be able to do this via the `Instant` class, which can represent a moment given the epoch time. If you have epoch seconds, you might create something via something like\r\n\r\n    Instant i = Instant.ofEpochSecond(t);\r\n    ZonedDateTime z = ZonedDateTime.ofInstant(i, zoneId);\r\n\r\n","title":"Java 8: How to create a ZonedDateTime from an Epoch value?","body":"<p>You should be able to do this via the <code>Instant</code> class, which can represent a moment given the epoch time. If you have epoch seconds, you might create something via something like</p>\n\n<pre><code>Instant i = Instant.ofEpochSecond(t);\nZonedDateTime z = ZonedDateTime.ofInstant(i, zoneId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665256947,"creation_date":1665256947,"answer_id":73999922,"question_id":28808305,"body_markdown":"Another simple way (different from that of the [accepted answer](https://stackoverflow.com/a/28808481/10819573)) is to use [`Instant#atZone`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atZone-java.time.ZoneId-).\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Sample Epoch seconds and ZoneId\r\n            Instant instant = Instant.ofEpochSecond(1665256187);\r\n            ZoneId zoneId = ZoneId.of(&quot;Europe/London&quot;);\r\n    \r\n            ZonedDateTime zdt = instant.atZone(zoneId);\r\n            System.out.println(zdt);\r\n    \r\n            // Alternatively\r\n            zdt = ZonedDateTime.ofInstant(instant, zoneId);\r\n            System.out.println(zdt);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-10-08T20:09:47+01:00[Europe/London]\r\n    2022-10-08T20:09:47+01:00[Europe/London]\r\n\r\nLearn about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Java 8: How to create a ZonedDateTime from an Epoch value?","body":"<p>Another simple way (different from that of the <a href=\"https://stackoverflow.com/a/28808481/10819573\">accepted answer</a>) is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#atZone-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>Instant#atZone</code></a>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Sample Epoch seconds and ZoneId\n        Instant instant = Instant.ofEpochSecond(1665256187);\n        ZoneId zoneId = ZoneId.of(&quot;Europe/London&quot;);\n\n        ZonedDateTime zdt = instant.atZone(zoneId);\n        System.out.println(zdt);\n\n        // Alternatively\n        zdt = ZonedDateTime.ofInstant(instant, zoneId);\n        System.out.println(zdt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-10-08T20:09:47+01:00[Europe/London]\n2022-10-08T20:09:47+01:00[Europe/London]\n</code></pre>\n<p>Learn about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":1590703,"reputation":7728,"user_id":1474073,"accept_rate":61,"display_name":"rabejens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53314,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":28808481,"answer_count":2,"score":88,"last_activity_date":1665256947,"creation_date":1425294529,"question_id":28808305,"body_markdown":"Java 8&#39;s `LocalDateTime` has an `ofEpochSecond` method. Unfortunately, there is no such method in the `ZonedDateTime`. Now, I have an Epoch value and an explicit `ZoneId` given. How do I get a `ZonedDateTime` out of these?","title":"Java 8: How to create a ZonedDateTime from an Epoch value?","body":"<p>Java 8's <code>LocalDateTime</code> has an <code>ofEpochSecond</code> method. Unfortunately, there is no such method in the <code>ZonedDateTime</code>. Now, I have an Epoch value and an explicit <code>ZoneId</code> given. How do I get a <code>ZonedDateTime</code> out of these?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1665257276,"post_id":73999888,"comment_id":130659307,"body_markdown":"Is it possible to return the updated elements?","body":"Is it possible to return the updated elements?"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1665295166,"post_id":73999888,"comment_id":130663687,"body_markdown":"Not sure, because MongoDB after update return only the count of updated elements.","body":"Not sure, because MongoDB after update return only the count of updated elements."},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1691133297,"post_id":73999888,"comment_id":135453153,"body_markdown":"Cannot resolve symbol &#39;Update&#39;","body":"Cannot resolve symbol &#39;Update&#39;"}],"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665256682,"creation_date":1665256682,"answer_id":73999888,"question_id":73999477,"body_markdown":"You can try to use `@Query` annotation for filtering documents to be updated and `@Update` for providing actual update query.\r\n```\r\n@Query(&quot;{ &#39;orderIdentifier&#39; : { &#39;$in&#39;: ?0 } }&quot;)\r\n@Update(&quot;{ &#39;$set&#39; : { &#39;error&#39; : &#39;false&#39; } }&quot;)\r\nvoid updateAllByOrderIdentifier(List&lt;Long&gt; orderIdentifiers);\r\n```\r\nMore details can be found [here](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.update)","title":"Custom @Query annotated method for update query with spring data MongoRepository","body":"<p>You can try to use <code>@Query</code> annotation for filtering documents to be updated and <code>@Update</code> for providing actual update query.</p>\n<pre><code>@Query(&quot;{ 'orderIdentifier' : { '$in': ?0 } }&quot;)\n@Update(&quot;{ '$set' : { 'error' : 'false' } }&quot;)\nvoid updateAllByOrderIdentifier(List&lt;Long&gt; orderIdentifiers);\n</code></pre>\n<p>More details can be found <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.update\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73999888,"answer_count":1,"score":1,"last_activity_date":1665256682,"creation_date":1665253146,"question_id":73999477,"body_markdown":"I&#39;ve read the question [Custom method for update query with spring data MongoRepository](https://stackoverflow.com/questions/50020046/custom-method-for-update-query-with-spring-data-mongorepository) and my result would be the very same that it is in que previously mentioned question, the only difference would be that I want to do it by using a `@Query` annotated method. Is it possible? If so, how?\r\n\r\nI have a entity and I what to update all documents with a value if a determined criteria has been match.\r\n\r\nMy entity:\r\n\r\n\t@Document(&quot;accrual&quot;)\r\n\tpublic class Accrual extends AbstractEntity {\r\n\t\r\n\t\t@Serial\r\n\t\tprivate static final long serialVersionUID = 1175443967269096002L;\r\n\t\r\n\t\t@Indexed(unique = true)\r\n\t\tprivate Long numericUserId;\r\n\t\t@Indexed(unique = true)\r\n\t\tprivate Long orderIdentifier;\r\n\t\tprivate boolean error;\r\n\r\n\t\t// sets, gets, equals, hashCode and toString methods\r\n\t}\r\n\r\nI would like to update the boolean error in every document found by searching for them using a list of `Long`s matching `orderIdentifier` attribute.\r\n\r\nIf it was in a relational database I would have a method like:\r\n\r\n    @Query(value = &quot;update accrual set error = 0 where order_identifier in :list&quot;, nativeQuery = true)\r\n    updateErrorByOrderIdentifier(@Param(&quot;list&quot;) List&lt;Long&gt; orderIdentifiers)","title":"Custom @Query annotated method for update query with spring data MongoRepository","body":"<p>I've read the question <a href=\"https://stackoverflow.com/questions/50020046/custom-method-for-update-query-with-spring-data-mongorepository\">Custom method for update query with spring data MongoRepository</a> and my result would be the very same that it is in que previously mentioned question, the only difference would be that I want to do it by using a <code>@Query</code> annotated method. Is it possible? If so, how?</p>\n<p>I have a entity and I what to update all documents with a value if a determined criteria has been match.</p>\n<p>My entity:</p>\n<pre><code>@Document(&quot;accrual&quot;)\npublic class Accrual extends AbstractEntity {\n\n    @Serial\n    private static final long serialVersionUID = 1175443967269096002L;\n\n    @Indexed(unique = true)\n    private Long numericUserId;\n    @Indexed(unique = true)\n    private Long orderIdentifier;\n    private boolean error;\n\n    // sets, gets, equals, hashCode and toString methods\n}\n</code></pre>\n<p>I would like to update the boolean error in every document found by searching for them using a list of <code>Long</code>s matching <code>orderIdentifier</code> attribute.</p>\n<p>If it was in a relational database I would have a method like:</p>\n<pre><code>@Query(value = &quot;update accrual set error = 0 where order_identifier in :list&quot;, nativeQuery = true)\nupdateErrorByOrderIdentifier(@Param(&quot;list&quot;) List&lt;Long&gt; orderIdentifiers)\n</code></pre>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":2549152,"reputation":2083,"user_id":2213309,"accept_rate":67,"display_name":"flappix"},"score":2,"creation_date":1665254521,"post_id":73999597,"comment_id":130658775,"body_markdown":"Please add the code where your read the credit card information from the file and where you call the function ```insert```","body":"Please add the code where your read the credit card information from the file and where you call the function <code>insert</code>"},{"owner":{"account_id":24387209,"reputation":11,"user_id":18317798,"display_name":"anonymous"},"score":0,"creation_date":1665255434,"post_id":73999597,"comment_id":130658930,"body_markdown":"edited it to add where information is being read and where insert is being called","body":"edited it to add where information is being read and where insert is being called"},{"owner":{"account_id":2549152,"reputation":2083,"user_id":2213309,"accept_rate":67,"display_name":"flappix"},"score":0,"creation_date":1665258565,"post_id":73999597,"comment_id":130659554,"body_markdown":"where do you initialize ```accountsArray``` ? You probably  have a loop around your third code block. You have to initialize ```accountsArray```  outside of this loop.","body":"where do you initialize <code>accountsArray</code> ? You probably  have a loop around your third code block. You have to initialize <code>accountsArray</code>  outside of this loop."},{"owner":{"account_id":24387209,"reputation":11,"user_id":18317798,"display_name":"anonymous"},"score":0,"creation_date":1665259226,"post_id":73999597,"comment_id":130659714,"body_markdown":"accountsArray is being initialized in the class field at the top of my class","body":"accountsArray is being initialized in the class field at the top of my class"}],"answers":[{"comments":[{"owner":{"account_id":24387209,"reputation":11,"user_id":18317798,"display_name":"anonymous"},"score":0,"creation_date":1665255475,"post_id":73999704,"comment_id":130658941,"body_markdown":"i&#39;ve tried that but it would duplicate each account number 15 times","body":"i&#39;ve tried that but it would duplicate each account number 15 times"}],"tags":[],"owner":{"account_id":19535910,"reputation":76,"user_id":14294699,"display_name":"JKac"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1665255011,"creation_date":1665255011,"answer_id":73999704,"question_id":73999597,"body_markdown":"You should remove the break and the if statement. You&#39;re breaking out of the loop after the first iteration, sou you dont insert anything in accounts [1]. Also the if statement says after the first iteration dont add anything anymore, because the first index is not null. Thats why you keep getting the first account back.","title":"Adding Objects into Array Java","body":"<p>You should remove the break and the if statement. You're breaking out of the loop after the first iteration, sou you dont insert anything in accounts [1]. Also the if statement says after the first iteration dont add anything anymore, because the first index is not null. Thats why you keep getting the first account back.</p>\n"}],"owner":{"account_id":24387209,"reputation":11,"user_id":18317798,"display_name":"anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665255375,"creation_date":1665254152,"question_id":73999597,"body_markdown":"I have a class of credit card account information. The information is being read in from the file and needs to be stored into an array. So far the class is as defined:\r\n\r\n```\r\n    private CreditCardAccount[] accountsArray;\r\n\tprivate int fillLevel;\r\n\t\r\n\tpublic SortedArray() {\r\n\t\taccountsArray = new CreditCardAccount[1000];\r\n\t}\r\n\t\r\n\tprivate class CreditCardAccount{\r\n\t\t\r\n\t\tlong accountNum;\r\n\t\tString name;\r\n\t\tString address;\r\n\t\tdouble creditLimit;\r\n\t\tdouble balance;\r\n\t\t\r\n\t\tCreditCardAccount (long accountNum, String name, String address, double crerditLimit, double balance) {\r\n\t\t\t\r\n\t\t\tthis.accountNum = accountNum;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.address = address;\r\n\t\t\tthis.creditLimit = creditLimit;\r\n\t\t\tthis.balance = balance;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\nI am trying to insert the objects to an array but when I print out index 0 for example it keeps printing out the first credit card number repeatedly. Or when I try to print out index 1, it says the credit card number is null. I have tried this to insert:\r\n\r\n```\r\nprivate static void insert(SortedArray.CreditCardAccount[] accounts, CreditCardAccount account, int fillLevel) {\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; accounts.length; i++) {\r\n\t\t\t\r\n\t\t\tif(accounts[i] == null) {\r\n\t\t\t\t\r\n\t\t\t\taccounts[i] = account;\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(accounts[i].name);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t}\r\n\t}\r\n```\r\nThis part is from where I am reading in and calling createAccount\r\n```\r\noperation = opsFile.nextLine();\r\n\tlong acocuntNum = Long.parseLong(operation);\r\n\t\t\t\t\t\r\n\toperation = opsFile.nextLine();\r\n\tString name = operation;\r\n\t\t\t\t\t\r\n\toperation = opsFile.nextLine();\r\n\tString address = operation;\r\n\t\t\t\t\t\r\n\toperation = opsFile.nextLine();\r\n\tdouble creditLimit = Double.parseDouble(operation);\r\n\t\t\t\t\t\r\n\toperation = opsFile.nextLine();\r\n\tdouble balance = Double.parseDouble(operation);\r\n\t\t\t\t\t\r\n\tdatabase.createAccount(acocuntNum, name, address, creditLimit, balance);\r\n```\r\nThis is where insert is getting called:\r\n```\r\npublic boolean createAccount(long accountNumber, String name, String address, double creditLimit, double balance) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tboolean accountCreated = true;\r\n\t\t\r\n\t\t\r\n\t\tCreditCardAccount newAccount = new CreditCardAccount(accountNumber, name, address, creditLimit, balance);\r\n\t\t\r\n\t\tSortedArray.insert(accountsArray, newAccount, fillLevel);\r\n\t\t\r\n\t\treturn accountCreated;\r\n\t}\r\n```\r\nI think it is adding the first object to every index in the array. Does anyone have any suggestions as to how to fix this? ","title":"Adding Objects into Array Java","body":"<p>I have a class of credit card account information. The information is being read in from the file and needs to be stored into an array. So far the class is as defined:</p>\n<pre><code>    private CreditCardAccount[] accountsArray;\n    private int fillLevel;\n    \n    public SortedArray() {\n        accountsArray = new CreditCardAccount[1000];\n    }\n    \n    private class CreditCardAccount{\n        \n        long accountNum;\n        String name;\n        String address;\n        double creditLimit;\n        double balance;\n        \n        CreditCardAccount (long accountNum, String name, String address, double crerditLimit, double balance) {\n            \n            this.accountNum = accountNum;\n            this.name = name;\n            this.address = address;\n            this.creditLimit = creditLimit;\n            this.balance = balance;\n            \n        }\n        \n    }\n</code></pre>\n<p>I am trying to insert the objects to an array but when I print out index 0 for example it keeps printing out the first credit card number repeatedly. Or when I try to print out index 1, it says the credit card number is null. I have tried this to insert:</p>\n<pre><code>private static void insert(SortedArray.CreditCardAccount[] accounts, CreditCardAccount account, int fillLevel) {\n        \n        for(int i = 0; i &lt; accounts.length; i++) {\n            \n            if(accounts[i] == null) {\n                \n                accounts[i] = account;\n                \n                System.out.println(accounts[i].name);\n                \n                break;\n                \n                \n            } \n        }\n    }\n</code></pre>\n<p>This part is from where I am reading in and calling createAccount</p>\n<pre><code>operation = opsFile.nextLine();\n    long acocuntNum = Long.parseLong(operation);\n                    \n    operation = opsFile.nextLine();\n    String name = operation;\n                    \n    operation = opsFile.nextLine();\n    String address = operation;\n                    \n    operation = opsFile.nextLine();\n    double creditLimit = Double.parseDouble(operation);\n                    \n    operation = opsFile.nextLine();\n    double balance = Double.parseDouble(operation);\n                    \n    database.createAccount(acocuntNum, name, address, creditLimit, balance);\n</code></pre>\n<p>This is where insert is getting called:</p>\n<pre><code>public boolean createAccount(long accountNumber, String name, String address, double creditLimit, double balance) {\n        // TODO Auto-generated method stub\n        \n        boolean accountCreated = true;\n        \n        \n        CreditCardAccount newAccount = new CreditCardAccount(accountNumber, name, address, creditLimit, balance);\n        \n        SortedArray.insert(accountsArray, newAccount, fillLevel);\n        \n        return accountCreated;\n    }\n</code></pre>\n<p>I think it is adding the first object to every index in the array. Does anyone have any suggestions as to how to fix this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber","gherkin"],"comments":[{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1552313383,"post_id":55103460,"comment_id":96950249,"body_markdown":"Can you share your html?","body":"Can you share your html?"},{"owner":{"account_id":13383143,"reputation":531,"user_id":9658618,"display_name":"SeekanDestroy"},"score":0,"creation_date":1552314157,"post_id":55103460,"comment_id":96950721,"body_markdown":"Sure, i just edited the post adding the html code. Cheers","body":"Sure, i just edited the post adding the html code. Cheers"}],"answers":[{"tags":[],"owner":{"account_id":314149,"reputation":1783,"user_id":629186,"accept_rate":69,"display_name":"MivaScott"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552319483,"creation_date":1552319483,"answer_id":55105649,"question_id":55103460,"body_markdown":"One of your FindBy statements are wrong.\r\n\r\n    @FindBy(how = How.ID, using = &quot;\\&quot;DTE_Field_sufijo\\&quot;&quot;)\r\n\r\nYou are saying that the ID **includes** the extra quotes. It should read:\r\n\r\n    @FindBy(how = How.ID, using = &quot;DTE_Field_sufijo&quot;)\r\n\r\nTry making that change and see if it works. Otherwise, you&#39;ll need to include the actual error message to help pin down where the problem is.","title":"Cannot locate Element that exist, getting NullPointerException instead of NoSuchElement","body":"<p>One of your FindBy statements are wrong.</p>\n\n<pre><code>@FindBy(how = How.ID, using = \"\\\"DTE_Field_sufijo\\\"\")\n</code></pre>\n\n<p>You are saying that the ID <strong>includes</strong> the extra quotes. It should read:</p>\n\n<pre><code>@FindBy(how = How.ID, using = \"DTE_Field_sufijo\")\n</code></pre>\n\n<p>Try making that change and see if it works. Otherwise, you'll need to include the actual error message to help pin down where the problem is.</p>\n"},{"comments":[{"owner":{"account_id":13383143,"reputation":531,"user_id":9658618,"display_name":"SeekanDestroy"},"score":0,"creation_date":1552383318,"post_id":55115865,"comment_id":96977882,"body_markdown":"THANKS!! This worked so nice. But instead of just keep working on this, i would like to know why I need to use PageFactory, when I&#39;ve never had to use it before.Can someone explain it please? Cheers!!","body":"THANKS!! This worked so nice. But instead of just keep working on this, i would like to know why I need to use PageFactory, when I&#39;ve never had to use it before.Can someone explain it please? Cheers!!"},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1552383916,"post_id":55115865,"comment_id":96978262,"body_markdown":"@SeekanDestroy Page Factory initializes `WebElement`s based on `@FindBy` annotation","body":"@SeekanDestroy Page Factory initializes <code>WebElement</code>s based on <code>@FindBy</code> annotation"}],"tags":[],"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552374469,"creation_date":1552374469,"answer_id":55115865,"question_id":55103460,"body_markdown":"You are missing initialization of PageFactory, that&#39;s why you get `NullPointerException` instead of `NoSuchElementException`\r\n\r\nAdd constructor like this:\r\n\r\n```\r\npublic class tableTestStepDefs {\r\n\r\n@FindBy(how = How.XPATH, using = &quot;//*[@id=\\&quot;contenido-table\\&quot;]/tbody/tr[1]/td[3]&quot;)\r\npublic WebElement cell1;\r\n@FindBy(how = How.ID, using = &quot;\\&quot;DTE_Field_sufijo\\&quot;&quot;)\r\npublic WebElement editableCell1;\r\n\r\npublic tableTestStepDefs() { //this!\r\n    PageFactory.initElements(driver, this);\r\n}\r\n\r\n@When(&quot;^i click on cell1 to make it editable$&quot;)\r\npublic void hagoClickEnUnaCeldaDeLaColumnaSufijo(){\r\ndriver.get(&quot;http://192.168.242.104:7777/some/context&quot;);\r\ncell1.click();\r\n}\r\n```","title":"Cannot locate Element that exist, getting NullPointerException instead of NoSuchElement","body":"<p>You are missing initialization of PageFactory, that's why you get <code>NullPointerException</code> instead of <code>NoSuchElementException</code></p>\n\n<p>Add constructor like this:</p>\n\n<pre><code>public class tableTestStepDefs {\n\n@FindBy(how = How.XPATH, using = \"//*[@id=\\\"contenido-table\\\"]/tbody/tr[1]/td[3]\")\npublic WebElement cell1;\n@FindBy(how = How.ID, using = \"\\\"DTE_Field_sufijo\\\"\")\npublic WebElement editableCell1;\n\npublic tableTestStepDefs() { //this!\n    PageFactory.initElements(driver, this);\n}\n\n@When(\"^i click on cell1 to make it editable$\")\npublic void hagoClickEnUnaCeldaDeLaColumnaSufijo(){\ndriver.get(\"http://192.168.242.104:7777/some/context\");\ncell1.click();\n}\n</code></pre>\n"}],"owner":{"account_id":13383143,"reputation":531,"user_id":9658618,"display_name":"SeekanDestroy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":55115865,"answer_count":2,"score":0,"last_activity_date":1665254635,"creation_date":1552312631,"question_id":55103460,"body_markdown":"I&#39;m trying to automatize a web datatable testing. I&#39;m getting this NullPointerException in every WebElement object I&#39;m using to locate. My code is simple as possible:\r\n\r\n    public class tableTestStepDefs {\r\n\r\n    @FindBy(how = How.XPATH, using = &quot;//*[@id=\\&quot;contenido-table\\&quot;]/tbody/tr[1]/td[3]&quot;)\r\n    public WebElement cell1;\r\n    @FindBy(how = How.ID, using = &quot;\\&quot;DTE_Field_sufijo\\&quot;&quot;)\r\n    public WebElement editableCell1;\r\n\r\n    @When(&quot;^I click on cell1 to make it editable$&quot;)\r\n    public void hagoClickEnUnaCeldaDeLaColumnaSufijo(){\r\n    driver.get(&quot;http://192.168.242.104:7777/some/context&quot;);\r\n    cell1.click();\r\n    }\r\n\r\nI&#39;m getting NullPointerException in every object, instead of NoSuchElementException which is the one I usually get when the driver cannot find some element,  while the driver is properly entering the page. If I debug, I can locate all the elements with the same id or xpath expression in the driver&#39;s instance. No idea what&#39;s going on\r\n\r\nHere is the HTML part:\r\n\r\n\r\n    &lt;div class=&quot;dataTables_scrollBody ps-container ps-theme-default ps-active-x&quot; data-ps-id=&quot;77fa0bd8-5ef4-1c4e-e67a-a8675b515900&quot; style=&quot;position: relative; overflow: auto; width: 100%; height: 762px;&quot;&gt;\r\n        &lt;table id=&quot;contenido-table&quot; class=&quot;table table-condensed table-striped dataTable no-footer&quot; role=&quot;grid&quot; aria-describedby=&quot;contenido-table_info&quot; style=&quot;width: 2072px;&quot;&gt;\r\n            &lt;thead&gt;\r\n                &lt;tr role=&quot;row&quot; style=&quot;height: 0px;&quot;&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 112px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;ICAO Aerolinea: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;ICAO Aerolinea&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 43px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Vuelo: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Vuelo&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center editable sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 43px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Sufijo: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Sufijo&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 71px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Matricula: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Matricula&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 33px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Tipo: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Tipo&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 72px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Aeronave: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Aeronave&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 72px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Categoria: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Categoria&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 52px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Origen: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Origen&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 96px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Escala Previa: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Escala Previa&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 96px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Estado Vuelo: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Estado Vuelo&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 139px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Programada: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Programada&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 116px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Estimada: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Estimada&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 93px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Actual: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Actual&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 58px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Servicio: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Servicio&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 44px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Stand: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Stand&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 47px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Cintas&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 91px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Inicio Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Inicio Cintas&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 73px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fin Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fin Cintas&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 115px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Primera Maleta: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Primera Maleta&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                    &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 107px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Ultima Maleta: Activar para ordenar la columna de manera ascendente&quot;&gt;\r\n                        &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Ultima Maleta&lt;/div&gt;\r\n                    &lt;/th&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr role=&quot;row&quot; class=&quot;odd&quot;&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;ICAO Aerolinea&quot;&gt;DRA&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Vuelo&quot;&gt;5485&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center editable&quot; name=&quot;Sufijo&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Matricula&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;GBC001&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Tipo&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;NA&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Aeronave&quot;&gt;A001&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Categoria&quot;&gt;C&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Origen&quot;&gt;LEBB&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Escala Previa&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Estado Vuelo&quot;&gt;SCH&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Programada&quot; style=&quot;min-width: 97px&quot;&gt;03/10/2018&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Estimada&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Actual&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Servicio&quot;&gt;A&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Stand&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Inicio Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fin Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Primera Maleta&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Ultima Maleta&quot;&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr role=&quot;row&quot; class=&quot;even&quot;&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;ICAO Aerolinea&quot;&gt;AAA&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Vuelo&quot;&gt;1234&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center editable&quot; name=&quot;Sufijo&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Matricula&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;GBC001&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Tipo&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;NA&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Aeronave&quot;&gt;A001&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Categoria&quot;&gt;C&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Origen&quot;&gt;LEBB&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Escala Previa&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Estado Vuelo&quot;&gt;SCH&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Programada&quot; style=&quot;min-width: 97px&quot;&gt;03/10/2018&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Estimada&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fecha Actual&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Servicio&quot;&gt;A&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Stand&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Inicio Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Fin Cintas&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Primera Maleta&quot;&gt;&lt;/td&gt;\r\n                    &lt;td class=&quot; text-center&quot; name=&quot;Ultima Maleta&quot;&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n        &lt;div class=&quot;ps-scrollbar-x-rail&quot; style=&quot;width: 2063px; left: 0px; bottom: 3px;&quot;&gt;\r\n            &lt;div class=&quot;ps-scrollbar-x&quot; tabindex=&quot;0&quot; style=&quot;left: 0px; width: 2055px;&quot;&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;ps-scrollbar-y-rail&quot; style=&quot;top: 0px; right: 3px;&quot;&gt;\r\n            &lt;div class=&quot;ps-scrollbar-y&quot; tabindex=&quot;0&quot; style=&quot;top: 0px; height: 0px;&quot;&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;","title":"Cannot locate Element that exist, getting NullPointerException instead of NoSuchElement","body":"<p>I'm trying to automatize a web datatable testing. I'm getting this NullPointerException in every WebElement object I'm using to locate. My code is simple as possible:</p>\n<pre><code>public class tableTestStepDefs {\n\n@FindBy(how = How.XPATH, using = &quot;//*[@id=\\&quot;contenido-table\\&quot;]/tbody/tr[1]/td[3]&quot;)\npublic WebElement cell1;\n@FindBy(how = How.ID, using = &quot;\\&quot;DTE_Field_sufijo\\&quot;&quot;)\npublic WebElement editableCell1;\n\n@When(&quot;^I click on cell1 to make it editable$&quot;)\npublic void hagoClickEnUnaCeldaDeLaColumnaSufijo(){\ndriver.get(&quot;http://192.168.242.104:7777/some/context&quot;);\ncell1.click();\n}\n</code></pre>\n<p>I'm getting NullPointerException in every object, instead of NoSuchElementException which is the one I usually get when the driver cannot find some element,  while the driver is properly entering the page. If I debug, I can locate all the elements with the same id or xpath expression in the driver's instance. No idea what's going on</p>\n<p>Here is the HTML part:</p>\n<pre><code>&lt;div class=&quot;dataTables_scrollBody ps-container ps-theme-default ps-active-x&quot; data-ps-id=&quot;77fa0bd8-5ef4-1c4e-e67a-a8675b515900&quot; style=&quot;position: relative; overflow: auto; width: 100%; height: 762px;&quot;&gt;\n    &lt;table id=&quot;contenido-table&quot; class=&quot;table table-condensed table-striped dataTable no-footer&quot; role=&quot;grid&quot; aria-describedby=&quot;contenido-table_info&quot; style=&quot;width: 2072px;&quot;&gt;\n        &lt;thead&gt;\n            &lt;tr role=&quot;row&quot; style=&quot;height: 0px;&quot;&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 112px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;ICAO Aerolinea: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;ICAO Aerolinea&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 43px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Vuelo: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Vuelo&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center editable sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 43px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Sufijo: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Sufijo&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 71px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Matricula: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Matricula&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 33px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Tipo: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Tipo&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 72px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Aeronave: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Aeronave&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 72px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Categoria: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Categoria&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 52px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Origen: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Origen&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 96px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Escala Previa: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Escala Previa&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 96px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Estado Vuelo: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Estado Vuelo&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 139px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Programada: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Programada&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 116px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Estimada: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Estimada&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 93px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fecha Actual: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fecha Actual&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 58px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Servicio: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Servicio&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 44px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Stand: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Stand&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 47px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Cintas&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 91px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Inicio Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Inicio Cintas&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 73px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Fin Cintas: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Fin Cintas&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 115px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Primera Maleta: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Primera Maleta&lt;/div&gt;\n                &lt;/th&gt;\n                &lt;th class=&quot;text-center sorting&quot; aria-controls=&quot;contenido-table&quot; rowspan=&quot;1&quot; colspan=&quot;1&quot; style=&quot;width: 107px; padding-top: 0px; padding-bottom: 0px; border-top-width: 0px; border-bottom-width: 0px; height: 0px;&quot; aria-label=&quot;Ultima Maleta: Activar para ordenar la columna de manera ascendente&quot;&gt;\n                    &lt;div class=&quot;dataTables_sizing&quot; style=&quot;height: 0px; overflow: hidden;&quot;&gt;Ultima Maleta&lt;/div&gt;\n                &lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr role=&quot;row&quot; class=&quot;odd&quot;&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;ICAO Aerolinea&quot;&gt;DRA&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Vuelo&quot;&gt;5485&lt;/td&gt;\n                &lt;td class=&quot; text-center editable&quot; name=&quot;Sufijo&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Matricula&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;GBC001&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Tipo&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;NA&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Aeronave&quot;&gt;A001&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Categoria&quot;&gt;C&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Origen&quot;&gt;LEBB&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Escala Previa&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Estado Vuelo&quot;&gt;SCH&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Programada&quot; style=&quot;min-width: 97px&quot;&gt;03/10/2018&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Estimada&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Actual&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Servicio&quot;&gt;A&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Stand&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Inicio Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fin Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Primera Maleta&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Ultima Maleta&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr role=&quot;row&quot; class=&quot;even&quot;&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;ICAO Aerolinea&quot;&gt;AAA&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Vuelo&quot;&gt;1234&lt;/td&gt;\n                &lt;td class=&quot; text-center editable&quot; name=&quot;Sufijo&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Matricula&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;GBC001&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Tipo&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;NA&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Aeronave&quot;&gt;A001&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Categoria&quot;&gt;C&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Origen&quot;&gt;LEBB&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Escala Previa&quot; style=&quot;display: table-cell;text-overflow: ellipsis;overflow: hidden;max-width: 195px;&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Estado Vuelo&quot;&gt;SCH&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Programada&quot; style=&quot;min-width: 97px&quot;&gt;03/10/2018&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Estimada&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fecha Actual&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Servicio&quot;&gt;A&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Stand&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Inicio Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Fin Cintas&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Primera Maleta&quot;&gt;&lt;/td&gt;\n                &lt;td class=&quot; text-center&quot; name=&quot;Ultima Maleta&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    &lt;div class=&quot;ps-scrollbar-x-rail&quot; style=&quot;width: 2063px; left: 0px; bottom: 3px;&quot;&gt;\n        &lt;div class=&quot;ps-scrollbar-x&quot; tabindex=&quot;0&quot; style=&quot;left: 0px; width: 2055px;&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;ps-scrollbar-y-rail&quot; style=&quot;top: 0px; right: 3px;&quot;&gt;\n        &lt;div class=&quot;ps-scrollbar-y&quot; tabindex=&quot;0&quot; style=&quot;top: 0px; height: 0px;&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","class","javafx"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1665245116,"post_id":73998059,"comment_id":130656784,"body_markdown":"@Antoniossss since Java 11 you can: https://openjdk.org/jeps/330","body":"@Antoniossss since Java 11 you can: <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">openjdk.org/jeps/330</a>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665245230,"post_id":73998059,"comment_id":130656801,"body_markdown":"okayy :(  didnt know that","body":"okayy :(  didnt know that"}],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665244004,"creation_date":1665244004,"answer_id":73998375,"question_id":73998059,"body_markdown":"Try this:\r\n\r\n        launch(Main1.class, args);\r\n\r\nOr stay with `launch(args)` and compile your Main1.java to Main1.class and run (i suppose this is the default (none) package):\r\n\r\n         javac --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web Main1.java\r\n         java --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web Main1","title":"java &quot;launch&quot; returns &quot;java.lang.ClassNotFoundException&quot;","body":"<p>Try this:</p>\n<pre><code>    launch(Main1.class, args);\n</code></pre>\n<p>Or stay with <code>launch(args)</code> and compile your Main1.java to Main1.class and run (i suppose this is the default (none) package):</p>\n<pre><code>     javac --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web Main1.java\n     java --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web Main1\n</code></pre>\n"}],"owner":{"account_id":23959160,"reputation":5,"user_id":17949540,"display_name":"king cannibal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73998375,"answer_count":1,"score":0,"last_activity_date":1665254607,"creation_date":1665241571,"question_id":73998059,"body_markdown":"when i try to run my java file with javafx from command prompt im returned with a error, the error says the problem of the code is coming from a java launch command which i dont know how to fix. Please give a fix.\r\nthe error:\r\n````\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: Main1\r\n        at javafx.graphics@19/javafx.application.Application.launch(Application.java:314)\r\n        at Main1.main(Main1.java:47)\r\nCaused by: java.lang.ClassNotFoundException: Main1\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:488)\r\n        at java.base/java.lang.Class.forName(Class.java:467)\r\n        at javafx.graphics@19/javafx.application.Application.launch(Application.java:302)\r\n        at Main1.main(Main1.java:47)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:421)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n````\r\ncode:\r\n````\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.web.*;\r\nimport javafx.scene.image.*;  \r\n\r\npublic class Main1 extends Application {\r\n   \r\n  \r\n    public void start(Stage stage)\r\n    {\r\n        try {\r\n   \r\n          \r\n            stage.setTitle(&quot;Fierce Pcs&quot;);\r\n   \r\n          \r\n            WebView w = new WebView();\r\n   \r\n           \r\n            WebEngine e = w.getEngine();\r\n   \r\n          \r\n            e.load(&quot;https://www.example.com/&quot;);\r\n            stage.getIcons().add(new Image(getClass().getResourceAsStream(&quot;icon.png&quot;)));\r\n           \r\n            Scene scene = new Scene(w, w.getPrefWidth(), \r\n                                     w.getPrefHeight());\r\n   \r\n          \r\n            stage.setScene(scene);\r\n   \r\n            stage.show();\r\n        }\r\n   \r\n        catch (Exception e) {\r\n   \r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n   \r\n  \r\n    public static void main(String args[])\r\n    {\r\n   \r\n       \r\n        launch(args);\r\n    }\r\n}\r\n````\r\nthe command which i give the command prompt:\r\n````\r\njava --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web C:\\Users\\example\\OneDrive\\Desktop\\Main1.java\r\n````","title":"java &quot;launch&quot; returns &quot;java.lang.ClassNotFoundException&quot;","body":"<p>when i try to run my java file with javafx from command prompt im returned with a error, the error says the problem of the code is coming from a java launch command which i dont know how to fix. Please give a fix.\nthe error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.ClassNotFoundException: Main1\n        at javafx.graphics@19/javafx.application.Application.launch(Application.java:314)\n        at Main1.main(Main1.java:47)\nCaused by: java.lang.ClassNotFoundException: Main1\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:488)\n        at java.base/java.lang.Class.forName(Class.java:467)\n        at javafx.graphics@19/javafx.application.Application.launch(Application.java:302)\n        at Main1.main(Main1.java:47)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:421)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\n</code></pre>\n<p>code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.web.*;\nimport javafx.scene.image.*;  \n\npublic class Main1 extends Application {\n   \n  \n    public void start(Stage stage)\n    {\n        try {\n   \n          \n            stage.setTitle(&quot;Fierce Pcs&quot;);\n   \n          \n            WebView w = new WebView();\n   \n           \n            WebEngine e = w.getEngine();\n   \n          \n            e.load(&quot;https://www.example.com/&quot;);\n            stage.getIcons().add(new Image(getClass().getResourceAsStream(&quot;icon.png&quot;)));\n           \n            Scene scene = new Scene(w, w.getPrefWidth(), \n                                     w.getPrefHeight());\n   \n          \n            stage.setScene(scene);\n   \n            stage.show();\n        }\n   \n        catch (Exception e) {\n   \n            System.out.println(e.getMessage());\n        }\n    }\n   \n  \n    public static void main(String args[])\n    {\n   \n       \n        launch(args);\n    }\n}\n</code></pre>\n<p>the command which i give the command prompt:</p>\n<pre><code>java --module-path %PATH_TO_FX% --add-modules javafx.fxml,javafx.web C:\\Users\\example\\OneDrive\\Desktop\\Main1.java\n</code></pre>\n"},{"tags":["java","amazon-web-services","eclipse","tomcat","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1665240495,"post_id":73996877,"comment_id":130655808,"body_markdown":"*What error is it displaying?&quot;*","body":"<i>What error is it displaying?&quot;</i>"},{"owner":{"account_id":26563584,"reputation":1,"user_id":20191034,"display_name":"Beanzide"},"score":0,"creation_date":1665249754,"post_id":73996877,"comment_id":130657790,"body_markdown":"Just the response from ajax that the request failed, which is literally &#39;error.&#39;","body":"Just the response from ajax that the request failed, which is literally &#39;error.&#39;"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1665249924,"post_id":73996877,"comment_id":130657832,"body_markdown":"And in the server log?","body":"And in the server log?"},{"owner":{"account_id":26563584,"reputation":1,"user_id":20191034,"display_name":"Beanzide"},"score":0,"creation_date":1665250450,"post_id":73996877,"comment_id":130657969,"body_markdown":"Sry, found the logs just now. Apparently jdk mismatch? I edited my post.","body":"Sry, found the logs just now. Apparently jdk mismatch? I edited my post."}],"answers":[{"tags":[],"owner":{"account_id":26563584,"reputation":1,"user_id":20191034,"display_name":"Beanzide"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665254509,"creation_date":1665254509,"answer_id":73999646,"question_id":73996877,"body_markdown":"Eclipse version mismatch. Swapped Eclipse&#39;s default Java version (16) for version 11. Everything compiles.","title":"Eclipse Java web app servlets not working when deployed to AWS","body":"<p>Eclipse version mismatch. Swapped Eclipse's default Java version (16) for version 11. Everything compiles.</p>\n"}],"owner":{"account_id":26563584,"reputation":1,"user_id":20191034,"display_name":"Beanzide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665254509,"creation_date":1665231164,"question_id":73996877,"body_markdown":"I am hosting my first EE Java web app on AWS using Elastic Beanstalk and the project .WAR file. The environment is Tomcat 8.5 with Coretto 11 (64 bit amazon linux 2) and the project is optimized for Tomcat 8.5. The project works fine in eclipse but not when deployed to the beanstalk environment.\r\n\r\n  Here is my project directory: https://i.stack.imgur.com/2NG1C.png\r\n\r\n  ajax request in index.jsp:\r\n\r\n              $(document).ready(function () {\r\n               \r\n                $.ajax({\r\n                \ttype : &#39;POST&#39;,\r\n                    url : &#39;ExampleServlet&#39;,\r\n                    data : {},\r\n                    success : function(returnValue) {\r\n                        document.getElementById(&#39;test&#39;).innerHTML = &#39;Success&#39;;\r\n                    },\r\n                  \terror : function(req, err) {document.getElementById(&#39;test&#39;).innerHTML = &#39;error&#39;;}\r\n            \t});\r\n                \r\n            });  \r\n\r\n\r\nExample servlet:\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.annotation.WebServlet;\r\n\r\n    @WebServlet(&quot;/ExampleServlet&quot;)   \r\n    public class ExampleServlet extends HttpServlet {\r\n\t    private static final long serialVersionUID = 1L;\r\n       \r\n        public ExampleServlet() {\r\n            super();\r\n        }\r\n\r\n\t    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t    response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t    }\r\n\r\n\t    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t    doGet(request, response);\r\n\t    }\r\n\r\n    }\r\n\r\n\r\nIts a simple POST request but it keeps displaying an error once deployed. I am not using Maven, SpringBoot, etc. \r\n\r\nEdit:\r\n\r\nEdit:\r\nI finally found the correct logs after ssh into instance: /var/log/tomcat/localhost.[date].log\r\n\r\nhttps://i.stack.imgur.com/8Zn4t.jpg\r\n\r\n08-Oct-2022 14:11:48.182 SEVERE [http-nio-8080-exec-4] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet [ExampleServlet]\r\n        java.lang.UnsupportedClassVersionError: ExampleServlet has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0 (unable to load class [ExampleServlet])\r\n\r\n\r\nI&#39;m assuming there is a version mismatch of the jdk on my system...\r\nI am using JDK 8 but Tomcat 8.5 uses JDK 7? Will try different version and update..\r\n\r\n","title":"Eclipse Java web app servlets not working when deployed to AWS","body":"<p>I am hosting my first EE Java web app on AWS using Elastic Beanstalk and the project .WAR file. The environment is Tomcat 8.5 with Coretto 11 (64 bit amazon linux 2) and the project is optimized for Tomcat 8.5. The project works fine in eclipse but not when deployed to the beanstalk environment.</p>\n<p>Here is my project directory: <a href=\"https://i.stack.imgur.com/2NG1C.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/2NG1C.png</a></p>\n<p>ajax request in index.jsp:</p>\n<pre><code>          $(document).ready(function () {\n           \n            $.ajax({\n                type : 'POST',\n                url : 'ExampleServlet',\n                data : {},\n                success : function(returnValue) {\n                    document.getElementById('test').innerHTML = 'Success';\n                },\n                error : function(req, err) {document.getElementById('test').innerHTML = 'error';}\n            });\n            \n        });  \n</code></pre>\n<p>Example servlet:</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.annotation.WebServlet;\n\n@WebServlet(&quot;/ExampleServlet&quot;)   \npublic class ExampleServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n   \n    public ExampleServlet() {\n        super();\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        doGet(request, response);\n    }\n\n}\n</code></pre>\n<p>Its a simple POST request but it keeps displaying an error once deployed. I am not using Maven, SpringBoot, etc.</p>\n<p>Edit:</p>\n<p>Edit:\nI finally found the correct logs after ssh into instance: /var/log/tomcat/localhost.[date].log</p>\n<p><a href=\"https://i.stack.imgur.com/8Zn4t.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/8Zn4t.jpg</a></p>\n<p>08-Oct-2022 14:11:48.182 SEVERE [http-nio-8080-exec-4] org.apache.catalina.core.StandardWrapperValve.invoke Allocate exception for servlet [ExampleServlet]\njava.lang.UnsupportedClassVersionError: ExampleServlet has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0 (unable to load class [ExampleServlet])</p>\n<p>I'm assuming there is a version mismatch of the jdk on my system...\nI am using JDK 8 but Tomcat 8.5 uses JDK 7? Will try different version and update..</p>\n"},{"tags":["java","kotlin","reflection","annotations","classloader"],"comments":[{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1432711465,"post_id":30471062,"comment_id":49031008,"body_markdown":"I agree with your guess. There exist two types of MyAnnotation. To resolve this, ensure that the annotated class and the annotation is loaded with the same class loader. Maybe it helps if your custom classloader uses the current class loader as parent.","body":"I agree with your guess. There exist two types of MyAnnotation. To resolve this, ensure that the annotated class and the annotation is loaded with the same class loader. Maybe it helps if your custom classloader uses the current class loader as parent."},{"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"score":0,"creation_date":1432739069,"post_id":30471062,"comment_id":49051019,"body_markdown":"@CoronA the custom classloader does use the current classloader as a parent. I don&#39;t know how to ensure they are loaded with the same loader, I&#39;ll need more knowledge about internals of the JVM and the lifecycle of these types of things.","body":"@CoronA the custom classloader does use the current classloader as a parent. I don&#39;t know how to ensure they are loaded with the same loader, I&#39;ll need more knowledge about internals of the JVM and the lifecycle of these types of things."},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1432745447,"post_id":30471062,"comment_id":49055417,"body_markdown":"Probably you get access to your custom class loader. Instead of calling `getAnnotation(MyAnnotation.class)` you can call `getAnnotation(customClassLoader.load(&quot;MyAnnotation&quot;))` (with the full class name). Make sure that MyAnnotation is not referenced before this class loading.","body":"Probably you get access to your custom class loader. Instead of calling <code>getAnnotation(MyAnnotation.class)</code> you can call <code>getAnnotation(customClassLoader.load(&quot;MyAnnotation&quot;))</code> (with the full class name). Make sure that MyAnnotation is not referenced before this class loading."},{"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"score":0,"creation_date":1432751575,"post_id":30471062,"comment_id":49058974,"body_markdown":"Tried that, was having trouble with typing. load needs a Class&lt;T&gt;, but I don&#39;t know of a way to get T to be MyAnnotation.","body":"Tried that, was having trouble with typing. load needs a Class&lt;T&gt;, but I don&#39;t know of a way to get T to be MyAnnotation."},{"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"score":0,"creation_date":1432758483,"post_id":30471062,"comment_id":49062872,"body_markdown":"@kag0 If you show the class loader code or how it&#39;s created, someone might be able to help fix the parent delegation.  Otherwise, try using `Annotation.class.cast(customClassLoader.loadClass(&quot;MyAnnotation&quot;))` to pacify javac.","body":"@kag0 If you show the class loader code or how it&#39;s created, someone might be able to help fix the parent delegation.  Otherwise, try using <code>Annotation.class.cast(customClassLoader.loadClass(&quot;MyAnnotat&zwnj;&#8203;ion&quot;))</code> to pacify javac."},{"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"score":0,"creation_date":1432761938,"post_id":30471062,"comment_id":49064564,"body_markdown":"@bkail the class loader is URLClassLoader initialized using the single parameter constructor. Also, ClassLoader.loadClass(String) returns a Class&lt;?&gt;. I don&#39;t think you can cast that.","body":"@bkail the class loader is URLClassLoader initialized using the single parameter constructor. Also, ClassLoader.loadClass(String) returns a Class&lt;?&gt;. I don&#39;t think you can cast that."},{"owner":{"account_id":63785,"reputation":2712,"user_id":188626,"accept_rate":89,"display_name":"Michael"},"score":1,"creation_date":1602164871,"post_id":30471062,"comment_id":113638607,"body_markdown":"The problem is because a type is actually defined by its &quot;fully qualified class name+classloader&quot;. So the same class loaded by two different class loaders will appear to the VM as a different type.","body":"The problem is because a type is actually defined by its &quot;fully qualified class name+classloader&quot;. So the same class loaded by two different class loaders will appear to the VM as a different type."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1664997835,"post_id":30471062,"comment_id":130598957,"body_markdown":"To add to the info from @Michael - create the `URLClassLoader` with your current `ClassLoader` as parent - then the annotation found will be identical to the one that your class can see.","body":"To add to the info from @Michael - create the <code>URLClassLoader</code> with your current <code>ClassLoader</code> as parent - then the annotation found will be identical to the one that your class can see."}],"answers":[{"tags":[],"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432763584,"creation_date":1432763584,"answer_id":30493789,"question_id":30471062,"body_markdown":"A hacky solution is as follows:\r\n\r\nInstead of AccessibleObject.getAnnotation(Class&lt;T&gt; annotationClass) use\r\n\r\n    private static Annotation getAnnotation(AccessibleObject object, Class annotationClass){\r\n        for(Annotation a : object.getAnnotations()){\r\n            if(a.annotationType().getCanonicalName().equals(annotationClass.getCanonicalName()))\r\n                return a;\r\n        }\r\n        return null;\r\n    }\r\n\r\nInstead of MyAnnotation.value() use\r\n\r\n    private static Object getAnnotationFieldWithReflection(Annotation annotation, String fieldName) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n        return annotation.annotationType().getMethod(fieldName).invoke(annotation);\r\n    }","title":"How to work with classloader and annotations","body":"<p>A hacky solution is as follows:</p>\n\n<p>Instead of AccessibleObject.getAnnotation(Class annotationClass) use</p>\n\n<pre><code>private static Annotation getAnnotation(AccessibleObject object, Class annotationClass){\n    for(Annotation a : object.getAnnotations()){\n        if(a.annotationType().getCanonicalName().equals(annotationClass.getCanonicalName()))\n            return a;\n    }\n    return null;\n}\n</code></pre>\n\n<p>Instead of MyAnnotation.value() use</p>\n\n<pre><code>private static Object getAnnotationFieldWithReflection(Annotation annotation, String fieldName) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n    return annotation.annotationType().getMethod(fieldName).invoke(annotation);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6509695,"reputation":6576,"user_id":5037430,"display_name":"u-ways"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665254407,"creation_date":1664973965,"answer_id":73960563,"question_id":30471062,"body_markdown":"I came across the same issue and it was quite hard to debug. My solution to this was to use the same classloader from a class instance reference.\r\n\r\nFor example, given a Jar file you want to load the class found there, you can reference a class instance from the package and get the classloader it uses:\r\n\r\n```kotlin\r\nURLClassLoader\r\n    .newInstance(arrayOf(URL(&quot;jar:file:${it.path}!/&quot;)), AGivenClass::class.java.classLoader)\r\n```\r\n\r\nI then could successful collect the annotations of interest.\r\n\r\nThis is an example in Kotlin, as the same issue happened there, so I hope it can be of any help for future readers.","title":"How to work with classloader and annotations","body":"<p>I came across the same issue and it was quite hard to debug. My solution to this was to use the same classloader from a class instance reference.</p>\n<p>For example, given a Jar file you want to load the class found there, you can reference a class instance from the package and get the classloader it uses:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>URLClassLoader\n    .newInstance(arrayOf(URL(&quot;jar:file:${it.path}!/&quot;)), AGivenClass::class.java.classLoader)\n</code></pre>\n<p>I then could successful collect the annotations of interest.</p>\n<p>This is an example in Kotlin, as the same issue happened there, so I hope it can be of any help for future readers.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664974715,"creation_date":1664974715,"answer_id":73960712,"question_id":30471062,"body_markdown":"I think that `ClassLoader#loadClass(name, true)` is needed, which will actually load the class fully _(resolve=true)_. Note that this also initializes the class.\r\n","title":"How to work with classloader and annotations","body":"<p>I think that <code>ClassLoader#loadClass(name, true)</code> is needed, which will actually load the class fully <em>(resolve=true)</em>. Note that this also initializes the class.</p>\n"}],"owner":{"account_id":2445646,"reputation":5724,"user_id":2133111,"accept_rate":64,"display_name":"kag0"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2286,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1665254407,"creation_date":1432685351,"question_id":30471062,"body_markdown":"I&#39;m trying to get an annotation from a method but I&#39;m having some trouble. What I&#39;m doing is loading a jar file using URLClassLoader, then I&#39;m inspecting the annotations on methods in classes in that jar using reflection and Method.getAnnotation.  \r\nThe issue I&#39;ve encountered is that Method.getAnnotation will return always return null, even if the annotation is there (which we can see using Method.getAnnotations). I&#39;ve tested the same procedure on the same annotation type on classes which are not loaded with the URLClassLoader and it works fine.  \r\nMore in depth investigation shows that the canonical name of both instance.annotationType() and MyAnnotation.class are identical. However instance.annotationType().equals(MyAnnotation.class) returns false. The instance itself however is a proxy (com.sun.proxy).\r\n\r\nIs there a way to get at the annotation and the fields of the annotation without a considerable amount of reflection?\r\n\r\n    instance.annotationType().getMethod(&quot;value&quot;).invoke(instance)\r\nThe above would work to get at the field, and iterating through the result of Method.getAnnotations with string comparisons on canonical names would get me the annotation but surely there is a better way?\r\n\r\nAlso for educational value, what causes this? My guess is that it&#39;s because the class of the annotation loaded by the system class loader is somehow different than the class of the annotation loaded by the URL class loader.","title":"How to work with classloader and annotations","body":"<p>I'm trying to get an annotation from a method but I'm having some trouble. What I'm doing is loading a jar file using URLClassLoader, then I'm inspecting the annotations on methods in classes in that jar using reflection and Method.getAnnotation.<br>\nThe issue I've encountered is that Method.getAnnotation will return always return null, even if the annotation is there (which we can see using Method.getAnnotations). I've tested the same procedure on the same annotation type on classes which are not loaded with the URLClassLoader and it works fine.<br>\nMore in depth investigation shows that the canonical name of both instance.annotationType() and MyAnnotation.class are identical. However instance.annotationType().equals(MyAnnotation.class) returns false. The instance itself however is a proxy (com.sun.proxy).</p>\n\n<p>Is there a way to get at the annotation and the fields of the annotation without a considerable amount of reflection?</p>\n\n<pre><code>instance.annotationType().getMethod(\"value\").invoke(instance)\n</code></pre>\n\n<p>The above would work to get at the field, and iterating through the result of Method.getAnnotations with string comparisons on canonical names would get me the annotation but surely there is a better way?</p>\n\n<p>Also for educational value, what causes this? My guess is that it's because the class of the annotation loaded by the system class loader is somehow different than the class of the annotation loaded by the URL class loader.</p>\n"},{"tags":["java","json","rest","spring-boot","jackson"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1490735909,"post_id":43079892,"comment_id":73243458,"body_markdown":"Wanting to support two formats seems like a worthy objective, but in practice you&#39;re doubling the surface area of your api (and the requisite testing required). You will need to create two different `Mapper`(s)  and potentially try both. And (potentially) both mappings might be valid. From [Mapper Features](https://github.com/FasterXML/jackson-databind/wiki/Mapper-Features), *Jackson defines a set of per-mapper configuration, which can ONLY be defined before using ObjectMapper -- meaning that these settings can not be changed on-the-fly, on per-request basis.*","body":"Wanting to support two formats seems like a worthy objective, but in practice you&#39;re doubling the surface area of your api (and the requisite testing required). You will need to create two different <code>Mapper</code>(s)  and potentially try both. And (potentially) both mappings might be valid. From <a href=\"https://github.com/FasterXML/jackson-databind/wiki/Mapper-Features\" rel=\"nofollow noreferrer\">Mapper Features</a>, <i>Jackson defines a set of per-mapper configuration, which can ONLY be defined before using ObjectMapper -- meaning that these settings can not be changed on-the-fly, on per-request basis.</i>"}],"answers":[{"tags":[],"owner":{"account_id":5334857,"reputation":426,"user_id":4254239,"display_name":"Maksym Prokhorenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490766901,"creation_date":1490766901,"answer_id":43085405,"question_id":43079892,"body_markdown":"Good question, I would suggest to take a look into [content negotiation][1] and [http message converter][2] topics.\r\n\r\nIt seems you can configure two instances of ```MappingJackson2HttpMessageConverter```\r\nto produce *application/vnd.snake+json* or *application/json*. \r\nSet it with specific media type and differently configured *ObjectMapper*\r\n\r\nCode modification can looks like:\r\n&lt;!-- language: java --&gt;\r\n\r\n    MyMappingJackson2HttpMessageConverter extends MappingJackson2HttpMessageConverter\r\n    {\r\n      public MyMappingJackson2HttpMessageConverter(ObjectMapper objectMapper, MediaType mediaType)\r\n      {\r\n         super(objectMapper, mediaType);\r\n      }\r\n    }\r\n\r\nConfiguration can looks like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @EnableWebMvc\r\n    @Configuration\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n \r\n      @Override\r\n      public void configureMessageConverters(\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {     \r\n          converters.add(new MyMappingJackson2HttpMessageConverter(snake, new MediaType(&quot;application&quot;, &quot;vnd.snake+json&quot;)));\r\n          converters.add(new MappingJackson2HttpMessageConverter(camel, MediaType.APPLICATION_JSON));\r\n          super.configureMessageConverters(converters);\r\n    }\r\n    ...\r\n\r\n  [1]: https://spring.io/blog/2013/05/11/content-negotiation-using-spring-mvc\r\n  [2]: http://www.baeldung.com/spring-httpmessageconverter-rest","title":"Hot to make jackson to use snake_case / camelCase on demand in a Spring Boot REST API?","body":"<p>Good question, I would suggest to take a look into <a href=\"https://spring.io/blog/2013/05/11/content-negotiation-using-spring-mvc\" rel=\"nofollow noreferrer\">content negotiation</a> and <a href=\"http://www.baeldung.com/spring-httpmessageconverter-rest\" rel=\"nofollow noreferrer\">http message converter</a> topics.</p>\n\n<p>It seems you can configure two instances of <code>MappingJackson2HttpMessageConverter</code>\nto produce <em>application/vnd.snake+json</em> or <em>application/json</em>. \nSet it with specific media type and differently configured <em>ObjectMapper</em></p>\n\n<p>Code modification can looks like:\n</p>\n\n<pre><code>MyMappingJackson2HttpMessageConverter extends MappingJackson2HttpMessageConverter\n{\n  public MyMappingJackson2HttpMessageConverter(ObjectMapper objectMapper, MediaType mediaType)\n  {\n     super(objectMapper, mediaType);\n  }\n}\n</code></pre>\n\n<p>Configuration can looks like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebMvc\n@Configuration\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n  @Override\n  public void configureMessageConverters(\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {     \n      converters.add(new MyMappingJackson2HttpMessageConverter(snake, new MediaType(\"application\", \"vnd.snake+json\")));\n      converters.add(new MappingJackson2HttpMessageConverter(camel, MediaType.APPLICATION_JSON));\n      super.configureMessageConverters(converters);\n}\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665254009,"creation_date":1665254009,"answer_id":73999584,"question_id":43079892,"body_markdown":"As per new version of spring boot, I end up doing this way -\r\n\r\n        @Override\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverterSnakeCase = new MappingJackson2HttpMessageConverter();\r\n        mappingJackson2HttpMessageConverterSnakeCase.setSupportedMediaTypes(Arrays.asList(new MediaType(&quot;application&quot;, &quot;vnd.snake+json&quot;)));\r\n        mappingJackson2HttpMessageConverterSnakeCase.setObjectMapper(objectMapperSnakeCase());\r\n\r\n        MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverterCamelCase = new MappingJackson2HttpMessageConverter();\r\n        mappingJackson2HttpMessageConverterCamelCase.setSupportedMediaTypes(Arrays.asList(MediaType.APPLICATION_JSON));\r\n        mappingJackson2HttpMessageConverterCamelCase.setObjectMapper(objectMapperSnakeCase());\r\n\r\n        converters.add(mappingJackson2HttpMessageConverterCamelCase);\r\n        converters.add(mappingJackson2HttpMessageConverterSnakeCase);\r\n        WebMvcConfigurer.super.configureMessageConverters(converters);\r\n    }","title":"Hot to make jackson to use snake_case / camelCase on demand in a Spring Boot REST API?","body":"<p>As per new version of spring boot, I end up doing this way -</p>\n<pre><code>    @Override\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n    MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverterSnakeCase = new MappingJackson2HttpMessageConverter();\n    mappingJackson2HttpMessageConverterSnakeCase.setSupportedMediaTypes(Arrays.asList(new MediaType(&quot;application&quot;, &quot;vnd.snake+json&quot;)));\n    mappingJackson2HttpMessageConverterSnakeCase.setObjectMapper(objectMapperSnakeCase());\n\n    MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverterCamelCase = new MappingJackson2HttpMessageConverter();\n    mappingJackson2HttpMessageConverterCamelCase.setSupportedMediaTypes(Arrays.asList(MediaType.APPLICATION_JSON));\n    mappingJackson2HttpMessageConverterCamelCase.setObjectMapper(objectMapperSnakeCase());\n\n    converters.add(mappingJackson2HttpMessageConverterCamelCase);\n    converters.add(mappingJackson2HttpMessageConverterSnakeCase);\n    WebMvcConfigurer.super.configureMessageConverters(converters);\n}\n</code></pre>\n"}],"owner":{"account_id":2900414,"reputation":5120,"user_id":2487263,"accept_rate":58,"display_name":"raspacorp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8744,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1665254009,"creation_date":1490735009,"question_id":43079892,"body_markdown":"I want to support both snake_case and camelCase in the json interface of my rest API.\r\n\r\nJackson uses camelCase by default. I know there are many ways of making Jackson to use snake_case:\r\n\r\nAnnotating properties individually: ```@JsonProperty(&quot;first_name&quot;)```\r\n\r\nAnnotating classes with: ```@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)```\r\n\r\nApplying it to the whole application inside application.properties:\r\n```spring.jackson.property-naming-strategy=SNAKE_CASE```\r\n\r\nBut I haven&#39;t found information about how to allow the consumer to request the desired case. For example by using content negotiation (Accepts, Content-Type headers)\r\n\r\nLets suppose we have the following example:\r\n\r\n    @RequestMapping(&quot;/my-resource&quot;) \r\n    public interface ApiController {\r\n        @RequestMapping(method = RequestMethod.POST, produces = {&quot;application/json&quot;})\r\n        MyResource createResource(@RequestBody MyResource myResource);\r\n\r\n        @GetMapping(value=&quot;/{resourceId}&quot;, produces = {&quot;application/json&quot;})\r\n        MyResource readResource(@PathVariable String resourceId);\r\n    }\r\n\r\nSo one use case could be to use custom json media-type and provide content negotiation headers like:\r\n\r\n```Accepts: application/vnd.snake+json```\r\n\r\nand let the default ```application/json``` to use camelCase.\r\n\r\nBut I cannot find the way of making jackson to use two different Mapper configurations based on the content negotiation.","title":"Hot to make jackson to use snake_case / camelCase on demand in a Spring Boot REST API?","body":"<p>I want to support both snake_case and camelCase in the json interface of my rest API.</p>\n\n<p>Jackson uses camelCase by default. I know there are many ways of making Jackson to use snake_case:</p>\n\n<p>Annotating properties individually: <code>@JsonProperty(\"first_name\")</code></p>\n\n<p>Annotating classes with: <code>@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)</code></p>\n\n<p>Applying it to the whole application inside application.properties:\n<code>spring.jackson.property-naming-strategy=SNAKE_CASE</code></p>\n\n<p>But I haven't found information about how to allow the consumer to request the desired case. For example by using content negotiation (Accepts, Content-Type headers)</p>\n\n<p>Lets suppose we have the following example:</p>\n\n<pre><code>@RequestMapping(\"/my-resource\") \npublic interface ApiController {\n    @RequestMapping(method = RequestMethod.POST, produces = {\"application/json\"})\n    MyResource createResource(@RequestBody MyResource myResource);\n\n    @GetMapping(value=\"/{resourceId}\", produces = {\"application/json\"})\n    MyResource readResource(@PathVariable String resourceId);\n}\n</code></pre>\n\n<p>So one use case could be to use custom json media-type and provide content negotiation headers like:</p>\n\n<p><code>Accepts: application/vnd.snake+json</code></p>\n\n<p>and let the default <code>application/json</code> to use camelCase.</p>\n\n<p>But I cannot find the way of making jackson to use two different Mapper configurations based on the content negotiation.</p>\n"},{"tags":["java","while-loop","file-rename","txt"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1665135872,"post_id":73979521,"comment_id":130633743,"body_markdown":"Check that you haven&#39;t opened same file in other code. What is the actual exception and stack trace?","body":"Check that you haven&#39;t opened same file in other code. What is the actual exception and stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665142449,"creation_date":1665142030,"answer_id":73986472,"question_id":73979521,"body_markdown":"Your problem most likely is caused elsewhere - check all file I/O operations. I suggest you tidy your code so that the file handling is clearer, consistently using NIO `Path` and `Files`, not repeating filename definitions, and that all streams are closed using try-with-resources handling:\r\n\r\n    public static void updateRecord(int recordID, int recordColumnIndex, String newValue, Path fileName) throws IOException {\r\n\r\n        Path tempOutFile = Path.of(&quot;temp.txt&quot;);\r\n        Path mainInputFile = Path.of(&quot;tasks.txt&quot;);\r\n\r\n        try (BufferedReader reader = Files.newBufferedReader(fileName);\r\n             PrintWriter writer = new PrintWriter(Files.newBufferedWriter(tempOutFile))) {\r\n\r\n            ...\r\n        }\r\n        // Replace main file:\r\n        Files.deleteIfExists(mainInputFile);\r\n        Files.move(tempOutFile, mainInputFile);\r\n    }\r\n","title":"how to close this file to rename and delete a file(&quot;Stream closed&quot;)","body":"<p>Your problem most likely is caused elsewhere - check all file I/O operations. I suggest you tidy your code so that the file handling is clearer, consistently using NIO <code>Path</code> and <code>Files</code>, not repeating filename definitions, and that all streams are closed using try-with-resources handling:</p>\n<pre><code>public static void updateRecord(int recordID, int recordColumnIndex, String newValue, Path fileName) throws IOException {\n\n    Path tempOutFile = Path.of(&quot;temp.txt&quot;);\n    Path mainInputFile = Path.of(&quot;tasks.txt&quot;);\n\n    try (BufferedReader reader = Files.newBufferedReader(fileName);\n         PrintWriter writer = new PrintWriter(Files.newBufferedWriter(tempOutFile))) {\n\n        ...\n    }\n    // Replace main file:\n    Files.deleteIfExists(mainInputFile);\n    Files.move(tempOutFile, mainInputFile);\n}\n</code></pre>\n"}],"owner":{"account_id":26536070,"reputation":13,"user_id":20167584,"display_name":"chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73986472,"answer_count":1,"score":-2,"last_activity_date":1665253689,"creation_date":1665086985,"question_id":73979521,"body_markdown":"Hi I am having trouble deleting and renaming my file this is because my file is still open but when I try to close my file I then get a ```stream closed ``` which means my file is closed, my question how do I get my code to delete and rename my file even though my file stream is closed, all my txt files are in the correct folder\r\n\r\n    public static void updateRecord(int recordID, int recordColumnIndex, String newValue,String fileName) throws IOException {\r\n            java.io.PrintWriter writer;\r\n            try (java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.FileReader(fileName))) {\r\n                writer = new java.io.PrintWriter(&quot;temp.txt&quot;);\r\n                String line;\r\n                // Read file line by line...\r\n                while ((line = reader.readLine()) != null) {\r\n                    if (line.trim().isEmpty()) {\r\n                        writer.println(line);\r\n                        continue;\r\n                    }\r\n                    // Split each read line to separate data.\r\n                    String[] lineParts = line.split(&quot;\\\\s*,\\\\s*&quot;);\r\n    \r\n                /* If the record ID value matches the supplied ID value\r\n                   then make the desired changes to that line.    */\r\n                    if (Integer.parseInt(lineParts[0]) == recordID) {\r\n                        lineParts[recordColumnIndex] = newValue;\r\n                        // Rebuild the data line...\r\n                        StringBuilder sb = new StringBuilder(String.valueOf(recordID));\r\n                        for (int i = 1; i &lt; lineParts.length; i++) {\r\n                            sb.append(&quot;,&quot;).append(lineParts[i]);\r\n                        }\r\n                        line = sb.toString();\r\n                    }\r\n                    writer.println(line);  // write line to `temp.tmp` file.\r\n                    writer.flush();        // Immediate write.\r\n                    reader.close();\r\n                }\r\n            }\r\n            writer.close();\r\n    \r\n            File inputFile = new File(&quot;tasks.txt&quot;);\r\n            File outFile = new File(&quot;temp.txt&quot;);\r\n    \r\n            if (inputFile.exists()) {\r\n                Files.delete(Path.of(&quot;tasks.txt&quot;));\r\n                outFile.renameTo(inputFile);\r\n                System.out.println(&quot;test&quot;);\r\n            }else{\r\n                System.out.println(&quot;error&quot;);\r\n            }\r\n    \r\n        }","title":"how to close this file to rename and delete a file(&quot;Stream closed&quot;)","body":"<p>Hi I am having trouble deleting and renaming my file this is because my file is still open but when I try to close my file I then get a <code>stream closed </code> which means my file is closed, my question how do I get my code to delete and rename my file even though my file stream is closed, all my txt files are in the correct folder</p>\n<pre><code>public static void updateRecord(int recordID, int recordColumnIndex, String newValue,String fileName) throws IOException {\n        java.io.PrintWriter writer;\n        try (java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.FileReader(fileName))) {\n            writer = new java.io.PrintWriter(&quot;temp.txt&quot;);\n            String line;\n            // Read file line by line...\n            while ((line = reader.readLine()) != null) {\n                if (line.trim().isEmpty()) {\n                    writer.println(line);\n                    continue;\n                }\n                // Split each read line to separate data.\n                String[] lineParts = line.split(&quot;\\\\s*,\\\\s*&quot;);\n\n            /* If the record ID value matches the supplied ID value\n               then make the desired changes to that line.    */\n                if (Integer.parseInt(lineParts[0]) == recordID) {\n                    lineParts[recordColumnIndex] = newValue;\n                    // Rebuild the data line...\n                    StringBuilder sb = new StringBuilder(String.valueOf(recordID));\n                    for (int i = 1; i &lt; lineParts.length; i++) {\n                        sb.append(&quot;,&quot;).append(lineParts[i]);\n                    }\n                    line = sb.toString();\n                }\n                writer.println(line);  // write line to `temp.tmp` file.\n                writer.flush();        // Immediate write.\n                reader.close();\n            }\n        }\n        writer.close();\n\n        File inputFile = new File(&quot;tasks.txt&quot;);\n        File outFile = new File(&quot;temp.txt&quot;);\n\n        if (inputFile.exists()) {\n            Files.delete(Path.of(&quot;tasks.txt&quot;));\n            outFile.renameTo(inputFile);\n            System.out.println(&quot;test&quot;);\n        }else{\n            System.out.println(&quot;error&quot;);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1665254085,"post_id":73999524,"comment_id":130658685,"body_markdown":"`collection.addPattern(&quot;/*&quot;)`","body":"<code>collection.addPattern(&quot;&#47;*&quot;)</code>"},{"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"score":0,"creation_date":1665254453,"post_id":73999524,"comment_id":130658757,"body_markdown":"@BoristheSpider I suppose that this is the place that I should place my URL? With the asterisk that means that the whole traffic will be executed? Sorry I am completely new to this!!!","body":"@BoristheSpider I suppose that this is the place that I should place my URL? With the asterisk that means that the whole traffic will be executed? Sorry I am completely new to this!!!"},{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1665442534,"post_id":73999524,"comment_id":130697117,"body_markdown":"@Vel_More could you update your question with links to your tutorials, please? It&#39;d be more informative and descriptive. Thank you.","body":"@Vel_More could you update your question with links to your tutorials, please? It&#39;d be more informative and descriptive. Thank you."}],"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665253529,"creation_date":1665253529,"question_id":73999524,"body_markdown":"In my Spring Boot app in which I&#39;ve implemented Spring Security, I am currently running it on HTTPS but I want to expose a certain actuator endpoint on HTTP in order to Prometheus gets metrics from. Every tutorial I&#39;ve found so far, has only the opposite. I know that the below code in my Main Class redirects all HTTP traffic to HTTPS but since I&#39;ve already achieved that, I tried if I could modify the code for the opposite result only to no avail.\r\n\r\nThen, I tried to check if somehow I could achieve my goal with,\r\n```\r\nmanagement.server.ssl.enabled=false\r\nmanagement.server.port=8081\r\n```\r\n\r\nbut I couldn&#39;t get any results in my browser in exposing Prometheus metrics, since for some reason the port isn&#39;t accesible.\r\n\r\nSo is it possible to have my whole application on HTTPS as it is right now, and redirect - expose just one Get Mapping mathod on HTTP? Just for testing purposes I have the Greeting Method below, in order to make my implementations.\r\n\r\n**Rest Controller Class (For Test Purposes)**\r\n```\r\npackage com.andrekreou.iot.control.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class Sample {\r\n\r\n    @GetMapping(value = &quot;/greeting&quot;)\r\n    public String greeting() {\r\n        return &quot;I am working with both HTTP and HTTPS&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**Security Config Class**\r\n\r\n```\r\npackage com.andrekreou.iot.authentication.security;\r\n\r\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    private final ApplicationUserService applicationUserService;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .requiresChannel()\r\n                    .antMatchers(&quot;/greeting&quot;,&quot;/actuator/prometheus&quot;)\r\n                    .requiresInsecure()\r\n                .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .usernameParameter(&quot;email&quot;)\r\n                    .permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;,true)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .clearAuthentication(true)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider =\r\n                new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\n**Main Class**\r\n\r\n```\r\npackage com.andrekreou.iot;\r\n\r\nimport io.micrometer.core.aop.TimedAspect;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport org.apache.catalina.Context;\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\r\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class IotApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(IotApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TimedAspect timedAspect(MeterRegistry registry) {\r\n\t\treturn new TimedAspect(registry);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ServletWebServerFactory servletContainer() {\r\n\t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n\t\t\t@Override\r\n\t\t\tprotected void postProcessContext(Context context) {\r\n\t\t\t\tSecurityConstraint securityConstraint = new SecurityConstraint();\r\n\t\t\t\tsecurityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n\t\t\t\tSecurityCollection collection = new SecurityCollection();\r\n\t\t\t\tcollection.addPattern(&quot;/*&quot;);\r\n\t\t\t\tsecurityConstraint.addCollection(collection);\r\n\t\t\t\tcontext.addConstraint(securityConstraint);\r\n\t\t\t}\r\n\t\t};\r\n\t\ttomcat.addAdditionalTomcatConnectors(redirectConnector());\r\n\t\treturn tomcat;\r\n\t}\r\n\r\n\tprivate Connector redirectConnector() {\r\n\t\tConnector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n\t\tconnector.setScheme(&quot;http&quot;);\r\n\t\tconnector.setPort(8080);\r\n\t\tconnector.setSecure(false);\r\n\t\tconnector.setRedirectPort(8443);\r\n\t\treturn connector;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**Application.properties**\r\n\r\n```\r\n#Server properties for HTTPS configuration\r\nserver.ssl.enabled=true\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-store=classpath:local-ssl.p12\r\nserver.ssl.key-store-password=&lt;password&gt;\r\nserver.ssl.key-alias=local_ssl\r\nserver.port=8443\r\n```","title":"Expose endpoint in HTTP over HTTPS in Spring Boot application","body":"<p>In my Spring Boot app in which I've implemented Spring Security, I am currently running it on HTTPS but I want to expose a certain actuator endpoint on HTTP in order to Prometheus gets metrics from. Every tutorial I've found so far, has only the opposite. I know that the below code in my Main Class redirects all HTTP traffic to HTTPS but since I've already achieved that, I tried if I could modify the code for the opposite result only to no avail.</p>\n<p>Then, I tried to check if somehow I could achieve my goal with,</p>\n<pre><code>management.server.ssl.enabled=false\nmanagement.server.port=8081\n</code></pre>\n<p>but I couldn't get any results in my browser in exposing Prometheus metrics, since for some reason the port isn't accesible.</p>\n<p>So is it possible to have my whole application on HTTPS as it is right now, and redirect - expose just one Get Mapping mathod on HTTP? Just for testing purposes I have the Greeting Method below, in order to make my implementations.</p>\n<p><strong>Rest Controller Class (For Test Purposes)</strong></p>\n<pre><code>package com.andrekreou.iot.control.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Sample {\n\n    @GetMapping(value = &quot;/greeting&quot;)\n    public String greeting() {\n        return &quot;I am working with both HTTP and HTTPS&quot;;\n    }\n}\n</code></pre>\n<p><strong>Security Config Class</strong></p>\n<pre><code>package com.andrekreou.iot.authentication.security;\n\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    private final ApplicationUserService applicationUserService;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .requiresChannel()\n                    .antMatchers(&quot;/greeting&quot;,&quot;/actuator/prometheus&quot;)\n                    .requiresInsecure()\n                .and()\n                .authorizeRequests()\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .usernameParameter(&quot;email&quot;)\n                    .permitAll()\n                    .defaultSuccessUrl(&quot;/&quot;,true)\n                .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .clearAuthentication(true)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\n                    .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider =\n                new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>package com.andrekreou.iot;\n\nimport io.micrometer.core.aop.TimedAspect;\nimport io.micrometer.core.instrument.MeterRegistry;\nimport org.apache.catalina.Context;\nimport org.apache.catalina.connector.Connector;\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class IotApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(IotApplication.class, args);\n    }\n\n    @Bean\n    public TimedAspect timedAspect(MeterRegistry registry) {\n        return new TimedAspect(registry);\n    }\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n        tomcat.addAdditionalTomcatConnectors(redirectConnector());\n        return tomcat;\n    }\n\n    private Connector redirectConnector() {\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n        connector.setScheme(&quot;http&quot;);\n        connector.setPort(8080);\n        connector.setSecure(false);\n        connector.setRedirectPort(8443);\n        return connector;\n    }\n}\n\n</code></pre>\n<p><strong>Application.properties</strong></p>\n<pre><code>#Server properties for HTTPS configuration\nserver.ssl.enabled=true\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:local-ssl.p12\nserver.ssl.key-store-password=&lt;password&gt;\nserver.ssl.key-alias=local_ssl\nserver.port=8443\n</code></pre>\n"},{"tags":["java","json","jolt"],"comments":[{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1665150549,"post_id":73987899,"comment_id":130638900,"body_markdown":"Jolt converts a JSON value into a JSON value. Considering `&quot;availableBalance&quot; : &quot;2999.25&quot;` is not a valid JSON, I presumed that you need to get such a result `{\n  &quot;value&quot; : &quot;availableBalance : 2999.25&quot;\n}`, don&#39;t you ?","body":"Jolt converts a JSON value into a JSON value. Considering <code>&quot;availableBalance&quot; : &quot;2999.25&quot;</code> is not a valid JSON, I presumed that you need to get such a result <code>{   &quot;value&quot; : &quot;availableBalance : 2999.25&quot; }</code>, don&#39;t you ?"}],"answers":[{"comments":[{"owner":{"account_id":23675089,"reputation":3,"user_id":17701427,"display_name":"Siva Prasad Vajja"},"score":0,"creation_date":1665152032,"post_id":73988149,"comment_id":130639483,"body_markdown":"well try, working for only two Objects in the list. similarly have more objects differentiate with array index. similar arrayIndex 0bjects have to get like String can u give one more try :)","body":"well try, working for only two Objects in the list. similarly have more objects differentiate with array index. similar arrayIndex 0bjects have to get like String can u give one more try :)"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1665152382,"post_id":73988149,"comment_id":130639594,"body_markdown":"Hi @SivaPrasadVajja . Can you rephrase what exactly needed by considering the issue I&#39;ve already mentioned through editing the question please ?","body":"Hi @SivaPrasadVajja . Can you rephrase what exactly needed by considering the issue I&#39;ve already mentioned through editing the question please ?"},{"owner":{"account_id":23675089,"reputation":3,"user_id":17701427,"display_name":"Siva Prasad Vajja"},"score":0,"creation_date":1665154034,"post_id":73988149,"comment_id":130640214,"body_markdown":"Hi @Barbaros, have updated Question as per new requirement. please check now!","body":"Hi @Barbaros, have updated Question as per new requirement. please check now!"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1665218550,"post_id":73988149,"comment_id":130651972,"body_markdown":"I&#39;ve just added the new case @SivaPrasadVajja but I see that the desired output is not a valid JSON yet, I think you meant to have `{\n  &quot;value&quot; : &quot;availableBalance : 2999.25 , Name : Jack , Likes : Code&quot;\n}`","body":"I&#39;ve just added the new case @SivaPrasadVajja but I see that the desired output is not a valid JSON yet, I think you meant to have <code>{   &quot;value&quot; : &quot;availableBalance : 2999.25 , Name : Jack , Likes : Code&quot; }</code>"}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665218240,"creation_date":1665150405,"answer_id":73988149,"question_id":73987899,"body_markdown":"You need a **modify** transformation spec as well such as\r\n```json\r\n[\r\n  {\r\n   // reduce to simple array &quot;value&quot; : [ &quot;availableBalance&quot;, &quot;2999.25&quot; ] nested within an object\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;value&quot;: &quot;&amp;&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n   // combine components of the array so as to reform as a string\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=join(&#39; : &#39;,@(1,&amp;))&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n**Edit**: You can alternatively try the following for the new case :\r\n```json\r\n[\r\n  {\r\n    // dissipate each array into different object with respect to arrayIndex values\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;value&quot;: &quot;@(1,arrayIndex).&amp;&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    // combine components of each array colon-separatedly\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: &quot;=join(&#39; : &#39;,@(1,&amp;))&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    // convert to a unique array\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: &quot;&amp;&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    // combine components of each array comma-separatedly\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=join(&#39; , &#39;,@(1,value))&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"Many objects to one Object using jolt","body":"<p>You need a <strong>modify</strong> transformation spec as well such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n   // reduce to simple array &quot;value&quot; : [ &quot;availableBalance&quot;, &quot;2999.25&quot; ] nested within an object\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;value&quot;: &quot;&amp;&quot;\n        }\n      }\n    }\n  },\n  {\n   // combine components of the array so as to reform as a string\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=join(' : ',@(1,&amp;))&quot;\n    }\n  }\n]\n</code></pre>\n<p><strong>Edit</strong>: You can alternatively try the following for the new case :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    // dissipate each array into different object with respect to arrayIndex values\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;value&quot;: &quot;@(1,arrayIndex).&amp;&quot;\n        }\n      }\n    }\n  },\n  {\n    // combine components of each array colon-separatedly\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: &quot;=join(' : ',@(1,&amp;))&quot;\n      }\n    }\n  },\n  {\n    // convert to a unique array\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: &quot;&amp;&quot;\n      }\n    }\n  },\n  {\n    // combine components of each array comma-separatedly\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=join(' , ',@(1,value))&quot;\n    }\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665253386,"creation_date":1665156811,"answer_id":73989513,"question_id":73987899,"body_markdown":"I know how to do it by another library _Josson_. You may consider to use it.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(inputJSON);\r\n\r\n---\r\nTransform to an array of string\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;characteristic&quot; +\r\n        &quot;.group(arrayIndex)&quot; +\r\n        &quot;.concat(elements[name=&#39;usageCharacteristicName&#39;].value&quot; +\r\n        &quot;       ,&#39; : &#39;&quot; +\r\n        &quot;       ,elements[name=&#39;usageCharacteristicValue&#39;].value)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\nOutput\r\n\r\n    [ &quot;availableBalance : 2999.25&quot;, &quot;Name : Jack&quot;, &quot;Likes : Code&quot; ]\r\n\r\n---\r\nTransform to a single string\r\n\r\n    String str = josson.getString(\r\n        &quot;characteristic&quot; +\r\n        &quot;.group(arrayIndex)&quot; +\r\n        &quot;.concat(elements[name=&#39;usageCharacteristicName&#39;].value&quot; +\r\n        &quot;       ,&#39; : &#39;&quot; +\r\n        &quot;       ,elements[name=&#39;usageCharacteristicValue&#39;].value)&quot; +\r\n        &quot;.join(&#39;, &#39;)&quot;);\r\n    System.out.println(str);\r\n\r\nOutput\r\n\r\n    availableBalance : 2999.25, Name : Jack, Likes : Code\r\n\r\n---\r\nTransform to a map\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;characteristic&quot; +\r\n        &quot;.group(arrayIndex)&quot; +\r\n        &quot;.map(elements[name=&#39;usageCharacteristicName&#39;].value::elements[name=&#39;usageCharacteristicValue&#39;].value)&quot; +\r\n        &quot;.mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;availableBalance&quot; : &quot;2999.25&quot;,\r\n      &quot;Name&quot; : &quot;Jack&quot;,\r\n      &quot;Likes&quot; : &quot;Code&quot;\r\n    }\r\n\r\n---\r\nTransform to a map with sorted &quot;arrayIndex&quot; as key\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;characteristic&quot; +\r\n        &quot;.group(arrayIndex)&quot; +\r\n        &quot;.sort(arrayIndex)&quot; +\r\n        &quot;.map(arrayIndex.prepend(&#39;arrayIndex&#39;)::&quot; +\r\n        &quot;       concat(elements[name=&#39;usageCharacteristicName&#39;].value&quot; +\r\n        &quot;             ,&#39; : &#39;&quot; +\r\n        &quot;             ,elements[name=&#39;usageCharacteristicValue&#39;].value))&quot; +\r\n        &quot;.mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;arrayIndex0&quot; : &quot;Name : Jack&quot;,\r\n      &quot;arrayIndex1&quot; : &quot;Likes : Code&quot;,\r\n      &quot;arrayIndex2&quot; : &quot;availableBalance : 2999.25&quot;\r\n    }","title":"Many objects to one Object using jolt","body":"<p>I know how to do it by another library <em>Josson</em>. You may consider to use it.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(inputJSON);\n</code></pre>\n<hr />\n<p>Transform to an array of string</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;characteristic&quot; +\n    &quot;.group(arrayIndex)&quot; +\n    &quot;.concat(elements[name='usageCharacteristicName'].value&quot; +\n    &quot;       ,' : '&quot; +\n    &quot;       ,elements[name='usageCharacteristicValue'].value)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ &quot;availableBalance : 2999.25&quot;, &quot;Name : Jack&quot;, &quot;Likes : Code&quot; ]\n</code></pre>\n<hr />\n<p>Transform to a single string</p>\n<pre><code>String str = josson.getString(\n    &quot;characteristic&quot; +\n    &quot;.group(arrayIndex)&quot; +\n    &quot;.concat(elements[name='usageCharacteristicName'].value&quot; +\n    &quot;       ,' : '&quot; +\n    &quot;       ,elements[name='usageCharacteristicValue'].value)&quot; +\n    &quot;.join(', ')&quot;);\nSystem.out.println(str);\n</code></pre>\n<p>Output</p>\n<pre><code>availableBalance : 2999.25, Name : Jack, Likes : Code\n</code></pre>\n<hr />\n<p>Transform to a map</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;characteristic&quot; +\n    &quot;.group(arrayIndex)&quot; +\n    &quot;.map(elements[name='usageCharacteristicName'].value::elements[name='usageCharacteristicValue'].value)&quot; +\n    &quot;.mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;availableBalance&quot; : &quot;2999.25&quot;,\n  &quot;Name&quot; : &quot;Jack&quot;,\n  &quot;Likes&quot; : &quot;Code&quot;\n}\n</code></pre>\n<hr />\n<p>Transform to a map with sorted &quot;arrayIndex&quot; as key</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;characteristic&quot; +\n    &quot;.group(arrayIndex)&quot; +\n    &quot;.sort(arrayIndex)&quot; +\n    &quot;.map(arrayIndex.prepend('arrayIndex')::&quot; +\n    &quot;       concat(elements[name='usageCharacteristicName'].value&quot; +\n    &quot;             ,' : '&quot; +\n    &quot;             ,elements[name='usageCharacteristicValue'].value))&quot; +\n    &quot;.mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;arrayIndex0&quot; : &quot;Name : Jack&quot;,\n  &quot;arrayIndex1&quot; : &quot;Likes : Code&quot;,\n  &quot;arrayIndex2&quot; : &quot;availableBalance : 2999.25&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26028604,"reputation":66,"user_id":19735179,"display_name":"Markin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665216848,"creation_date":1665170045,"answer_id":73991748,"question_id":73987899,"body_markdown":"I think this solve the problem\r\nspec\r\n```json\r\n[\r\n  {\r\n    //group keys and valeus for arrayIndex\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;characteristic&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;value&quot;: &quot;newArray[@(1,arrayIndex)].@(1,name)&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    //create a new object use a key and valeus matchs previous\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;newArray&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;usageCharacteristicValue&quot;: &quot;@(1,usageCharacteristicName)&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\noutput\r\n```json\r\n{\r\n  &quot;Name&quot; : &quot;Jack&quot;,\r\n  &quot;Likes&quot; : &quot;Code&quot;,\r\n  &quot;availableBalance&quot; : &quot;2999.25&quot;\r\n}\r\n```\r\n\r\n","title":"Many objects to one Object using jolt","body":"<p>I think this solve the problem\nspec</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    //group keys and valeus for arrayIndex\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;characteristic&quot;: {\n        &quot;*&quot;: {\n          &quot;value&quot;: &quot;newArray[@(1,arrayIndex)].@(1,name)&quot;\n        }\n      }\n    }\n  },\n  {\n    //create a new object use a key and valeus matchs previous\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;newArray&quot;: {\n        &quot;*&quot;: {\n          &quot;usageCharacteristicValue&quot;: &quot;@(1,usageCharacteristicName)&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>output</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Name&quot; : &quot;Jack&quot;,\n  &quot;Likes&quot; : &quot;Code&quot;,\n  &quot;availableBalance&quot; : &quot;2999.25&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":23675089,"reputation":3,"user_id":17701427,"display_name":"Siva Prasad Vajja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73991748,"answer_count":3,"score":0,"last_activity_date":1665253386,"creation_date":1665149335,"question_id":73987899,"body_markdown":"Hi working in Jolt transformation tool and getting know some in-depth details \r\nInput\r\n```json\r\n{\r\n  &quot;characteristic&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\r\n      &quot;value&quot;: &quot;availableBalance&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;2&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\r\n      &quot;value&quot;: &quot;2999.25&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;2&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\r\n      &quot;value&quot;: &quot;Name&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\r\n      &quot;value&quot;: &quot;Jack&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;0&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\r\n      &quot;value&quot;: &quot;Likes&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;1&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\r\n      &quot;value&quot;: &quot;Code&quot;,\r\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\r\n      &quot;arrayIndex&quot;: &quot;1&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nJolt Spec :\r\n\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;characteristic&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;arrayIndex&quot;: {\r\n            &quot;2&quot;: {\r\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.accountBalance&quot;\r\n            },\r\n            &quot;0&quot;: {\r\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.Name&quot;\r\n            },\r\n            &quot;1&quot;: {\r\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.Likes&quot;\r\n            },\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nOutput :\r\n```json\r\n{\r\n  &quot;data&quot; : {\r\n    &quot;queryBalance&quot; : {\r\n      &quot;accountBalance&quot; : [ &quot;availableBalance&quot;, &quot;2999.25&quot; ],\r\n      &quot;Name&quot; : [ &quot;Name&quot;, &quot;Jack&quot; ],\r\n      &quot;Likes&quot; : [ &quot;Likes&quot;, &quot;Code&quot; ]\r\n    }\r\n  }\r\n}\r\n```\r\nthe Output i was getting is not good enough for me, want to do like String like bellow Expected.\r\n\r\nExpected Output :\r\n``` \r\n&quot;availableBalance&quot; : &quot;2999.25&quot;,\r\n&quot;Name&quot; : &quot;Jack&quot;,\r\n&quot;Likes&quot; : &quot;Code&quot;\r\n```\r\nhow do i get like a String ?\r\n\r\n\r\n\r\n\r\n","title":"Many objects to one Object using jolt","body":"<p>Hi working in Jolt transformation tool and getting know some in-depth details\nInput</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;characteristic&quot;: [\n    {\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\n      &quot;value&quot;: &quot;availableBalance&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;2&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\n      &quot;value&quot;: &quot;2999.25&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;2&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\n      &quot;value&quot;: &quot;Name&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;0&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\n      &quot;value&quot;: &quot;Jack&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;0&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicName&quot;,\n      &quot;value&quot;: &quot;Likes&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;1&quot;\n    },\n    {\n      &quot;name&quot;: &quot;usageCharacteristicValue&quot;,\n      &quot;value&quot;: &quot;Code&quot;,\n      &quot;@type&quot;: &quot;usageCharacteristic&quot;,\n      &quot;arrayIndex&quot;: &quot;1&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Jolt Spec :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;characteristic&quot;: {\n        &quot;*&quot;: {\n          &quot;arrayIndex&quot;: {\n            &quot;2&quot;: {\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.accountBalance&quot;\n            },\n            &quot;0&quot;: {\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.Name&quot;\n            },\n            &quot;1&quot;: {\n              &quot;@(2,value)&quot;: &quot;data.queryBalance.Likes&quot;\n            },\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>Output :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot; : {\n    &quot;queryBalance&quot; : {\n      &quot;accountBalance&quot; : [ &quot;availableBalance&quot;, &quot;2999.25&quot; ],\n      &quot;Name&quot; : [ &quot;Name&quot;, &quot;Jack&quot; ],\n      &quot;Likes&quot; : [ &quot;Likes&quot;, &quot;Code&quot; ]\n    }\n  }\n}\n</code></pre>\n<p>the Output i was getting is not good enough for me, want to do like String like bellow Expected.</p>\n<p>Expected Output :</p>\n<pre><code>&quot;availableBalance&quot; : &quot;2999.25&quot;,\n&quot;Name&quot; : &quot;Jack&quot;,\n&quot;Likes&quot; : &quot;Code&quot;\n</code></pre>\n<p>how do i get like a String ?</p>\n"},{"tags":["java","android","ionic-framework","capacitor"],"answers":[{"tags":[],"owner":{"account_id":1428527,"reputation":52235,"user_id":1351469,"accept_rate":100,"display_name":"jcesarmobile"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665253330,"creation_date":1665253330,"answer_id":73999499,"question_id":73995820,"body_markdown":"That should be a warning, your app should still build unless you have enabled some setting to not build if there are warnings.\r\n\r\nYou can update to capacitor 4, that line of code was removed.\r\nhttps://capacitorjs.com/docs/updating/4-0\r\n","title":"How do i fix Capacitor Web Settings error?","body":"<p>That should be a warning, your app should still build unless you have enabled some setting to not build if there are warnings.</p>\n<p>You can update to capacitor 4, that line of code was removed.\n<a href=\"https://capacitorjs.com/docs/updating/4-0\" rel=\"nofollow noreferrer\">https://capacitorjs.com/docs/updating/4-0</a></p>\n"}],"owner":{"account_id":23054574,"reputation":99,"user_id":17170807,"display_name":"Pella Post"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665253330,"creation_date":1665220997,"question_id":73995820,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nHello i am trying to build my capacitor 3 project. It works on iOS just fine but in Android version i am getting errors about WebSettings as it is seen on attached photo.\r\n\r\nI am pretty sure it&#39;s a Webview problem but i didnt find a solution online.\r\n\r\nMainActivity.java\r\n\r\n    package com.myproject.mobile;\r\n    import android.os.Bundle; \r\n    import com.getcapacitor.BridgeActivity;\r\n    import com.getcapacitor.Plugin;\r\n    import com.getcapacitor.community.fcm.FCMPlugin;\r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends BridgeActivity {\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n             // Initializes the Bridge\r\n            this.init(savedInstanceState, new ArrayList&lt;Class&lt;? extends Plugin&gt;&gt;() {{\r\n            // Additional plugins you&#39;ve installed go here\r\n            **add(com.getcapacitor.community.facebooklogin.FacebookLogin.class);\r\n            add(com.getcapacitor.community.fcm.FCMPlugin.class);**\r\n          }});\r\n        }\r\n    }\r\n\r\nAndroidManifest.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.rovespier.mobile&quot; android:versionName=&quot;1.0.19&quot; android:versionCode=&quot;10019&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    \r\n            &lt;meta-data android:name=&quot;com.facebook.sdk.ApplicationId&quot; android:value=&quot;@string/facebook_app_id&quot;/&gt;\r\n            &lt;meta-data android:name=&quot;com.facebook.sdk.ClientToken&quot; android:value=&quot;@string/facebook_client_token&quot;/&gt;\r\n            \r\n            &lt;activity\r\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\r\n                android:name=&quot;com.rovespier.mobile.MainActivity&quot;\r\n                android:label=&quot;@string/title_activity_main&quot;\r\n                android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;\r\n                android:launchMode=&quot;singleTask&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n    \r\n            &lt;/activity&gt;\r\n    \r\n            &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;${applicationId}.fileprovider&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\r\n            &lt;/provider&gt;\r\n        &lt;/application&gt;\r\n    \r\n        &lt;!-- Permissions --&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\nAny hint?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6lt0M.jpg","title":"How do i fix Capacitor Web Settings error?","body":"<p><a href=\"https://i.stack.imgur.com/6lt0M.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6lt0M.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Hello i am trying to build my capacitor 3 project. It works on iOS just fine but in Android version i am getting errors about WebSettings as it is seen on attached photo.</p>\n<p>I am pretty sure it's a Webview problem but i didnt find a solution online.</p>\n<p>MainActivity.java</p>\n<pre><code>package com.myproject.mobile;\nimport android.os.Bundle; \nimport com.getcapacitor.BridgeActivity;\nimport com.getcapacitor.Plugin;\nimport com.getcapacitor.community.fcm.FCMPlugin;\nimport java.util.ArrayList;\n\npublic class MainActivity extends BridgeActivity {\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n         // Initializes the Bridge\n        this.init(savedInstanceState, new ArrayList&lt;Class&lt;? extends Plugin&gt;&gt;() {{\n        // Additional plugins you've installed go here\n        **add(com.getcapacitor.community.facebooklogin.FacebookLogin.class);\n        add(com.getcapacitor.community.fcm.FCMPlugin.class);**\n      }});\n    }\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.rovespier.mobile&quot; android:versionName=&quot;1.0.19&quot; android:versionCode=&quot;10019&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;meta-data android:name=&quot;com.facebook.sdk.ApplicationId&quot; android:value=&quot;@string/facebook_app_id&quot;/&gt;\n        &lt;meta-data android:name=&quot;com.facebook.sdk.ClientToken&quot; android:value=&quot;@string/facebook_client_token&quot;/&gt;\n        \n        &lt;activity\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\n            android:name=&quot;com.rovespier.mobile.MainActivity&quot;\n            android:label=&quot;@string/title_activity_main&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;\n            android:launchMode=&quot;singleTask&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot;&gt;&lt;/meta-data&gt;\n        &lt;/provider&gt;\n    &lt;/application&gt;\n\n    &lt;!-- Permissions --&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Any hint?</p>\n"},{"tags":["java","java-time","java.time.instant","date-manipulation"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1665140680,"post_id":73986017,"comment_id":130635420,"body_markdown":"Unrelated, but Java 8 is quite old already. Consider upgrading, if possible. Latest version is 19.","body":"Unrelated, but Java 8 is quite old already. Consider upgrading, if possible. Latest version is 19."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665140855,"post_id":73986017,"comment_id":130635490,"body_markdown":"@Zabuzard - The latest LTS version (17) would be a better choice than 19 ... unless the OP is happy to upgrade Java versions every 6 months on average.","body":"@Zabuzard - The latest LTS version (17) would be a better choice than 19 ... unless the OP is happy to upgrade Java versions every 6 months on average."},{"owner":{"account_id":19095150,"reputation":79,"user_id":13944596,"display_name":"Hamza LAHLOU"},"score":0,"creation_date":1665141345,"post_id":73986017,"comment_id":130635646,"body_markdown":"Thank you guys, that was very helpful. If it was up to me I would upgrade to more recent of Java, but the client&#39;s app is running on java 8 so I need to work with that version.","body":"Thank you guys, that was very helpful. If it was up to me I would upgrade to more recent of Java, but the client&#39;s app is running on java 8 so I need to work with that version."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1665252769,"post_id":73986017,"comment_id":130658433,"body_markdown":"In which time zone? New Year doesn’t happen at the same instant in all time zones.","body":"In which time zone? New Year doesn’t happen at the same instant in all time zones."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665140349,"creation_date":1665140194,"answer_id":73986113,"question_id":73986017,"body_markdown":"Something like this should do the trick:\r\n\r\n```java\r\nint year = 2022;\r\n\r\nInstant instant = Year.of(year) // 2022\r\n  .atDay(1)                     // 2022-01-01\r\n  .atStartOfDay()               // 2022-01-01 00:00:00\r\n  .toInstant(ZoneOffset.UTC);   // applied to timeline\r\n```\r\n\r\nThere are more ways, but they essentially all go kinda that route. Have a look at the Javadoc and explore more: [java.time package][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/package-summary.html","title":"Create first Instant of year 2022","body":"<p>Something like this should do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int year = 2022;\n\nInstant instant = Year.of(year) // 2022\n  .atDay(1)                     // 2022-01-01\n  .atStartOfDay()               // 2022-01-01 00:00:00\n  .toInstant(ZoneOffset.UTC);   // applied to timeline\n</code></pre>\n<p>There are more ways, but they essentially all go kinda that route. Have a look at the Javadoc and explore more: <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time package</a></p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665140341,"creation_date":1665140341,"answer_id":73986147,"question_id":73986017,"body_markdown":"Something like that should do the trick:\r\n```\r\nint year = 2022;\r\nZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\r\nInstant instant = ZonedDateTime.of(year, 1, 1, 0, 0, 0, 0, zoneId)\r\n            .toInstant();\r\n```\r\nCreates `ZonedDateTime` at 00:00:00 on the january 1 in the target year, at required time zone and converts to instant.","title":"Create first Instant of year 2022","body":"<p>Something like that should do the trick:</p>\n<pre><code>int year = 2022;\nZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\nInstant instant = ZonedDateTime.of(year, 1, 1, 0, 0, 0, 0, zoneId)\n            .toInstant();\n</code></pre>\n<p>Creates <code>ZonedDateTime</code> at 00:00:00 on the january 1 in the target year, at required time zone and converts to instant.</p>\n"}],"owner":{"account_id":19095150,"reputation":79,"user_id":13944596,"display_name":"Hamza LAHLOU"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1665191725,"answer_count":2,"score":-4,"last_activity_date":1665252646,"creation_date":1665139673,"question_id":73986017,"body_markdown":"I have an ```int``` representing the year 2022, and I want to create an ```Instant``` object representing the first instant of the year, meaning: `2022-01-01 00:00:00`.\r\n\r\n```\r\nint year = 2022;\r\n\r\nInstant instant = ...\r\n```\r\n\r\nHow can we do that in java 8?","title":"Create first Instant of year 2022","body":"<p>I have an <code>int</code> representing the year 2022, and I want to create an <code>Instant</code> object representing the first instant of the year, meaning: <code>2022-01-01 00:00:00</code>.</p>\n<pre><code>int year = 2022;\n\nInstant instant = ...\n</code></pre>\n<p>How can we do that in java 8?</p>\n"},{"tags":["java","docker","ssl","wildfly","keycloak"],"comments":[{"owner":{"account_id":4077251,"reputation":26288,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1665251895,"post_id":73996654,"comment_id":130658279,"body_markdown":"Your browser communicates with Nginx in this setup =&gt; you have some problem with Nginx setup, not with Keycloak. Did  you check used Certbot doc? Maybe `include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot` is missing.","body":"Your browser communicates with Nginx in this setup =&gt; you have some problem with Nginx setup, not with Keycloak. Did  you check used Certbot doc? Maybe <code>include &#47;etc&#47;letsencrypt&#47;options-ssl-nginx.conf; # managed by Certbot</code> is missing."}],"answers":[{"comments":[{"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"score":0,"creation_date":1665229742,"post_id":73996683,"comment_id":130653797,"body_markdown":"The files seem to be fine.","body":"The files seem to be fine."},{"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"score":0,"creation_date":1665229763,"post_id":73996683,"comment_id":130653802,"body_markdown":"https://pastebin.com/S9N60Ufb","body":"<a href=\"https://pastebin.com/S9N60Ufb\" rel=\"nofollow noreferrer\">pastebin.com/S9N60Ufb</a>"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665229156,"creation_date":1665229156,"answer_id":73996683,"question_id":73996654,"body_markdown":"It seems to me you mounted volumes onto the path where Keycloak expects the private key and certificate files. That may result in directories being created on that level, and Keycloak cannot load the files as expected.\r\n\r\nTry placing both files into one directory, then mount that directory.\r\n\r\nIn any case verify by going into the container and check the available files.","title":"Jboss/Keycloak (docker image) &amp; WildFly - cannot use SSL/HTTPS","body":"<p>It seems to me you mounted volumes onto the path where Keycloak expects the private key and certificate files. That may result in directories being created on that level, and Keycloak cannot load the files as expected.</p>\n<p>Try placing both files into one directory, then mount that directory.</p>\n<p>In any case verify by going into the container and check the available files.</p>\n"},{"tags":[],"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665252416,"creation_date":1665252416,"answer_id":73999390,"question_id":73996654,"body_markdown":"The problem was that I was using the same certificate for both my domain and subdomain and it wasn&#39;t a wildcard certificate. :(\r\n\r\nGenerating another certificate for my subdomain fixed it.","title":"Jboss/Keycloak (docker image) &amp; WildFly - cannot use SSL/HTTPS","body":"<p>The problem was that I was using the same certificate for both my domain and subdomain and it wasn't a wildcard certificate. :(</p>\n<p>Generating another certificate for my subdomain fixed it.</p>\n"}],"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665252416,"creation_date":1665228813,"question_id":73996654,"body_markdown":"So I want to use a Keycloak instance inside a Docker container, proxied by Nginx.\r\n\r\nI want my Keycloak server to use HTTPS. For some reason, I get &quot;Connection not secure in the browser&quot; even though I followed the steps for using SSL.\r\n````\r\nhttps://hub.docker.com/r/jboss/keycloak/\r\n\r\nKeycloak image allows you to specify both a private key and a certificate for serving HTTPS over port 8443. In that case you need to provide two files:\r\n\r\n    tls.crt - a certificate\r\n    tls.key - a private key\r\n\r\nThose files need to be mounted in /etc/x509/https directory. The image will automatically convert them into a Java keystore and reconfigure Wildfly to use it. NOTE: When using volume mounts in containers the files will be mounted in the container as owned by root, as the default permission on the keyfile will most likely be 700 it will result in an empty keystore. You will either have to make the key world readable or extend the image to add the keys with the appropriate owner.\r\n````\r\n\r\nMy Keycloak container looks like this inside the docker-compose:\r\n````\r\nkeycloak:\r\n        depends_on:\r\n          - mediere-api\r\n        container_name: best-keycloak\r\n        image: jboss/keycloak:${KEYCLOAK_VERSION}\r\n        restart: unless-stopped\r\n        env_file:\r\n          - .env\r\n        volumes:\r\n          - ../../mediere-react/certs/fullchain.pem:/etc/x509/https/tls.crt\r\n          - ../../mediere-react/certs/privkey.pem:/etc/x509/https/tls.key\r\n        expose:\r\n          - &quot;8443&quot;\r\n````\r\n.env\r\n````\r\nKEYCLOAK_VERSION=16.1.0\r\nKEYCLOAK_HTTPS_PORT= 8443\r\nPROXY_ADDRESS_FORWARDING=true\r\n````\r\n\r\nnginx\r\n````\r\nupstream keycloak_backend {\r\n  server keycloak:8443;\r\n}\r\n\r\nserver {\r\n    listen 443 ssl;\r\n    server_name auth.mywebserver.com;\r\n    ssl_certificate /etc/nginx/certs/fullchain.pem; # managed by Certbot\r\n    ssl_certificate_key /etc/nginx/certs/privkey.pem; # managed by Certbot\r\n    location /auth/ {\r\n          proxy_pass &quot;https://keycloak_backend/auth/&quot;;\r\n    }\r\n    location /auth/admin {\r\n          proxy_pass &quot;https://keycloak_backend/auth/admin&quot;;\r\n    }\r\n}\r\n````\r\n\r\nContainer logs\r\n````\r\n11:24:09,710 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\r\n11:24:09,928 INFO  [org.jboss.vfs] (MSC service thread 1-1) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\r\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n11:24:11,689 INFO  [org.wildfly.security] (ServerService Thread Pool -- 19) ELY00001: WildFly Elytron version 1.18.1.Final\r\n11:24:14,254 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file &#39;/opt/jboss/keycloak/standalone/configuration/application.keystore&#39; does not exist. Used blank.\r\n11:24:14,282 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\r\n11:24:14,440 INFO  [org.jboss.as.patching] (MSC service thread 1-2) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\r\n11:24:14,729 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n11:24:14,741 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 5609ms - Started 49 of 72 services (24 services are lazy, passive or on-demand)\r\nThe batch executed successfully\r\n11:24:15,163 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) stopped in 33ms\r\n11:24:17,976 INFO  [org.jboss.modules] (CLI command executor) JBoss Modules version 2.0.0.Final\r\n11:24:18,110 INFO  [org.jboss.msc] (CLI command executor) JBoss MSC version 1.4.13.Final\r\n11:24:18,126 INFO  [org.jboss.threads] (CLI command executor) JBoss Threads version 2.4.0.Final\r\n11:24:18,356 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\r\n11:24:18,512 INFO  [org.jboss.vfs] (MSC service thread 1-2) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\r\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n11:24:20,262 INFO  [org.wildfly.security] (ServerService Thread Pool -- 21) ELY00001: WildFly Elytron version 1.18.1.Final\r\n11:24:23,068 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY00023: KeyStore file &#39;/opt/jboss/keycloak/standalone/configuration/application.keystore&#39; does not exist. Used blank.\r\n11:24:23,093 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\r\n11:24:23,213 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\r\n11:24:23,523 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n11:24:23,533 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 5533ms - Started 49 of 79 services (31 services are lazy, passive or on-demand)\r\nThe batch executed successfully\r\n11:24:23,951 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) stopped in 31ms\r\nCreating HTTPS keystore via OpenShift&#39;s service serving x509 certificate secrets..\r\nHTTPS keystore successfully created at: /opt/jboss/keycloak/standalone/configuration/keystores/https-keystore.jks\r\n=========================================================================\r\n\r\n  JBoss Bootstrap Environment\r\n\r\n  JBOSS_HOME: /opt/jboss/keycloak\r\n\r\n  JAVA: java\r\n\r\n  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true   --add-exports=java.desktop/sun.awt=ALL-UNNAMED --add-exports=java.naming/com.sun.jndi.ldap=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.security=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.management/javax.management=ALL-UNNAMED --add-opens=java.naming/javax.naming=ALL-UNNAMED\r\n\r\n=========================================================================\r\n\r\n11:24:46,662 INFO  [org.jboss.modules] (main) JBoss Modules version 2.0.0.Final\r\n11:24:48,087 INFO  [org.jboss.msc] (main) JBoss MSC version 1.4.13.Final\r\n11:24:48,135 INFO  [org.jboss.threads] (main) JBoss Threads version 2.4.0.Final\r\n11:24:48,440 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\r\n11:24:48,629 INFO  [org.jboss.vfs] (MSC service thread 1-2) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\r\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n11:24:50,529 INFO  [org.wildfly.security] (ServerService Thread Pool -- 21) ELY00001: WildFly Elytron version 1.18.1.Final\r\n11:24:53,539 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\r\n11:24:53,592 INFO  [org.xnio] (MSC service thread 1-2) XNIO version 3.8.5.Final\r\n11:24:53,620 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.8.5.Final\r\n11:24:53,734 INFO  [org.jboss.remoting] (MSC service thread 1-1) JBoss Remoting version 5.0.23.Final\r\n11:24:53,790 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 42) WFLYCLJG0001: Activating JGroups subsystem. JGroups version 4.2.11\r\n11:24:53,797 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 49) WFLYNAM0001: Activating Naming Subsystem\r\n11:24:53,781 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 53) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.\r\n11:24:53,873 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 38) WFLYCLINF0001: Activating Infinispan subsystem.\r\n11:24:53,850 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 40) WFLYRS0016: RESTEasy version 4.7.4.Final\r\n11:24:53,911 INFO  [org.wildfly.extension.health] (ServerService Thread Pool -- 37) WFLYHEALTH0001: Activating Base Health Subsystem\r\n11:24:53,929 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 39) WFLYIO001: Worker &#39;default&#39; has auto-configured to 2 IO threads with 16 max task threads based on your 1 available processors\r\n11:24:53,979 INFO  [org.wildfly.extension.metrics] (ServerService Thread Pool -- 47) WFLYMETRICS0001: Activating Base Metrics Subsystem\r\n11:24:54,168 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)\r\n11:24:54,170 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting Jakarta Connectors Subsystem (WildFly/IronJacamar 1.5.3.Final)\r\n11:24:54,330 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0005: Deploying non-JDBC-compliant driver class org.postgresql.Driver (version 42.2)\r\n11:24:54,593 WARN  [org.wildfly.clustering.web.undertow] (ServerService Thread Pool -- 54) WFLYCLWEBUT0007: No routing provider found for default-server; using legacy provider based on static configuration\r\n11:24:54,571 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = h2\r\n11:24:54,600 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = postgresql\r\n11:24:54,602 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service\r\n11:24:54,628 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 2.2.14.Final starting\r\n11:24:54,656 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\r\n11:24:54,755 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.\r\n11:24:54,765 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.\r\n11:24:54,806 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 54) WFLYUT0014: Creating file handler for path &#39;/opt/jboss/keycloak/welcome-content&#39; with options [directory-listing: &#39;false&#39;, follow-symlink: &#39;false&#39;, case-sensitive: &#39;true&#39;, safe-symlink-paths: &#39;[]&#39;]\r\n11:24:55,293 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file &#39;/opt/jboss/keycloak/standalone/configuration/application.keystore&#39; does not exist. Used blank.\r\n11:24:56,018 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\r\n11:24:56,113 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0012: Started server default-server.\r\n11:24:56,550 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\r\n11:24:56,554 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) Queuing requests.\r\n11:24:56,557 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting\r\n11:24:56,653 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow AJP listener ajp listening on 0.0.0.0:8009\r\n11:24:56,658 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on 0.0.0.0:8080\r\n11:24:56,706 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-1) WFLYDS0013: Started FileSystemDeploymentService for directory /opt/jboss/keycloak/standalone/deployments\r\n11:24:56,773 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0027: Starting deployment of &quot;keycloak-server.war&quot; (runtime-name: &quot;keycloak-server.war&quot;)\r\n11:24:56,785 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0493: Jakarta Enterprise Beans subsystem suspension complete\r\n11:24:56,853 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 56) MODCLUSTER000001: Initializing mod_cluster version 1.4.4.Final\r\n11:24:56,883 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 56) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364\r\n11:24:57,026 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on 0.0.0.0:8443\r\n11:24:57,238 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\r\n11:24:57,239 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/KeycloakDS]\r\n11:24:58,267 WARN  [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56) JGRP000015: the receive buffer of socket ManagedMulticastSocketBinding was set to 20.00MB, but the OS only allocated 12.58MB\r\n11:24:58,270 WARN  [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56) JGRP000015: the receive buffer of socket ManagedMulticastSocketBinding was set to 25.00MB, but the OS only allocated 12.58MB\r\n11:25:01,302 INFO  [org.jgroups.protocols.pbcast.GMS] (ServerService Thread Pool -- 56) e1768863cdfb: no members discovered after 3007 ms: creating cluster as coordinator\r\n11:25:02,944 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 60) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller&#39;\r\n11:25:02,942 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 58) ISPN000128: Infinispan version: Infinispan &#39;Taedonggang&#39; 12.1.7.Final\r\n11:25:02,946 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 57) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n11:25:02,947 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 56) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n11:25:02,957 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 58) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n11:25:03,032 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 59) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller&#39;\r\n11:25:03,308 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,304 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,314 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,314 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,315 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000078: Starting JGroups channel ejb\r\n11:25:03,328 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,330 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,330 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,342 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,356 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,363 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,379 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,387 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\r\n11:25:03,395 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,421 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\r\n11:25:03,509 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n11:25:03,520 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n11:25:04,593 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\r\n11:25:05,148 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 59) WFLYCLINF0002: Started work cache from keycloak container\r\n11:25:05,144 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 60) WFLYCLINF0002: Started offlineClientSessions cache from keycloak container\r\n11:25:05,160 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 62) WFLYCLINF0002: Started actionTokens cache from keycloak container\r\n11:25:05,204 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 58) WFLYCLINF0002: Started loginFailures cache from keycloak container\r\n11:25:05,219 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) WFLYCLINF0002: Started clientSessions cache from keycloak container\r\n11:25:05,225 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0002: Started sessions cache from keycloak container\r\n11:25:05,240 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 67) WFLYCLINF0002: Started authenticationSessions cache from keycloak container\r\n11:25:05,253 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0002: Started offlineSessions cache from keycloak container\r\n11:25:05,299 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started users cache from keycloak container\r\n11:25:05,302 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started keys cache from keycloak container\r\n11:25:05,306 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started realms cache from keycloak container\r\n11:25:05,308 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0002: Started authorization cache from keycloak container\r\n11:25:05,654 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0273: Excluded subsystem webservices via jboss-deployment-structure.xml does not exist.\r\n11:25:06,542 INFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0001: Loading config from standalone.xml or domain.xml\r\n11:25:07,203 INFO  [org.keycloak.url.DefaultHostnameProviderFactory] (ServerService Thread Pool -- 56) Frontend: &lt;request&gt;, Admin: &lt;frontend&gt;, Backend: &lt;request&gt;\r\n11:25:08,420 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started realmRevisions cache from keycloak container\r\n11:25:08,447 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started userRevisions cache from keycloak container\r\n11:25:08,467 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started authorizationRevisions cache from keycloak container\r\n11:25:08,473 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (ServerService Thread Pool -- 56) Node name: e1768863cdfb, Site name: null\r\n11:25:14,856 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 56) HHH000204: Processing PersistenceUnitInfo [\r\n        name: keycloak-default\r\n        ...]\r\n11:25:15,030 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 56) HHH000412: Hibernate Core {5.3.24.Final}\r\n11:25:15,037 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool -- 56) HHH000206: hibernate.properties not found\r\n11:25:15,455 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 56) HCANN000001: Hibernate Commons Annotations {5.0.5.Final}\r\n11:25:15,910 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 56) HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect\r\n11:25:16,411 INFO  [org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl] (ServerService Thread Pool -- 56) HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n11:25:16,427 INFO  [org.hibernate.type.BasicTypeRegistry] (ServerService Thread Pool -- 56) HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2851ff1a\r\n11:25:16,448 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 56) Envers integration enabled? : true\r\n11:25:17,248 INFO  [org.hibernate.orm.beans] (ServerService Thread Pool -- 56) HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.\r\n11:25:17,884 INFO  [org.hibernate.validator.internal.util.Version] (ServerService Thread Pool -- 56) HV000001: Hibernate Validator 6.0.22.Final\r\n11:25:21,348 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] (ServerService Thread Pool -- 56) HHH000397: Using ASTQueryTranslatorFactory\r\n11:25:23,142 INFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0006: Importing users from &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;\r\n11:25:23,494 WARN  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0104: Not creating user octavianadmin. It already exists.\r\n11:25:24,396 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,399 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002205: Adding provider class org.keycloak.services.filters.KeycloakSecurityHeadersFilter from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,410 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002200: Adding class resource org.keycloak.services.resources.JsResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,412 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002205: Adding provider class org.keycloak.services.error.KeycloakErrorHandler from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,413 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002200: Adding class resource org.keycloak.services.resources.ThemeResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,415 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.WelcomeResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,415 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RealmsResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,416 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.admin.AdminRoot from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,417 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002210: Adding provider singleton org.keycloak.services.util.ObjectMapperResolver from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,418 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RobotsResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n11:25:24,601 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 56) WFLYUT0021: Registered web context: &#39;/auth&#39; for server &#39;default-server&#39;\r\n11:25:24,818 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;keycloak-server.war&quot; (runtime-name : &quot;keycloak-server.war&quot;)\r\n11:25:25,005 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n11:25:25,018 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 394\r\n54ms - Started 678 of 979 services (696 services are lazy, passive or on-demand)\r\n11:25:25,024 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n11:25:25,026 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n````\r\n\r\nWhat&#39;s really strange for me is this error:\r\n````\r\n11:24:14,254 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file &#39;/opt/jboss/keycloak/standalone/configuration/application.keystore&#39; does not exist. Used blank.\r\n11:24:14,282 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\r\n````\r\n\r\nAt the end of the file, http is shown (not https). I want to disable all HTTP and have everything on HTTPS.\r\n\r\nThe actual config works right now, but I get connection not secure, while I&#39;m using the same SSL certificate for the main domain and it works fine there.(example.com, while keycloak points at auth.example.com)\r\n\r\nSo I suspect this might be something related to keycloak.\r\n\r\nCan anybody help me fix &quot;connection not secure?&quot;\r\n\r\nThanks.","title":"Jboss/Keycloak (docker image) &amp; WildFly - cannot use SSL/HTTPS","body":"<p>So I want to use a Keycloak instance inside a Docker container, proxied by Nginx.</p>\n<p>I want my Keycloak server to use HTTPS. For some reason, I get &quot;Connection not secure in the browser&quot; even though I followed the steps for using SSL.</p>\n<pre><code>https://hub.docker.com/r/jboss/keycloak/\n\nKeycloak image allows you to specify both a private key and a certificate for serving HTTPS over port 8443. In that case you need to provide two files:\n\n    tls.crt - a certificate\n    tls.key - a private key\n\nThose files need to be mounted in /etc/x509/https directory. The image will automatically convert them into a Java keystore and reconfigure Wildfly to use it. NOTE: When using volume mounts in containers the files will be mounted in the container as owned by root, as the default permission on the keyfile will most likely be 700 it will result in an empty keystore. You will either have to make the key world readable or extend the image to add the keys with the appropriate owner.\n</code></pre>\n<p>My Keycloak container looks like this inside the docker-compose:</p>\n<pre><code>keycloak:\n        depends_on:\n          - mediere-api\n        container_name: best-keycloak\n        image: jboss/keycloak:${KEYCLOAK_VERSION}\n        restart: unless-stopped\n        env_file:\n          - .env\n        volumes:\n          - ../../mediere-react/certs/fullchain.pem:/etc/x509/https/tls.crt\n          - ../../mediere-react/certs/privkey.pem:/etc/x509/https/tls.key\n        expose:\n          - &quot;8443&quot;\n</code></pre>\n<p>.env</p>\n<pre><code>KEYCLOAK_VERSION=16.1.0\nKEYCLOAK_HTTPS_PORT= 8443\nPROXY_ADDRESS_FORWARDING=true\n</code></pre>\n<p>nginx</p>\n<pre><code>upstream keycloak_backend {\n  server keycloak:8443;\n}\n\nserver {\n    listen 443 ssl;\n    server_name auth.mywebserver.com;\n    ssl_certificate /etc/nginx/certs/fullchain.pem; # managed by Certbot\n    ssl_certificate_key /etc/nginx/certs/privkey.pem; # managed by Certbot\n    location /auth/ {\n          proxy_pass &quot;https://keycloak_backend/auth/&quot;;\n    }\n    location /auth/admin {\n          proxy_pass &quot;https://keycloak_backend/auth/admin&quot;;\n    }\n}\n</code></pre>\n<p>Container logs</p>\n<pre><code>11:24:09,710 INFO  [org.jboss.as] (MSC service thread 1-1) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\n11:24:09,928 INFO  [org.jboss.vfs] (MSC service thread 1-1) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n11:24:11,689 INFO  [org.wildfly.security] (ServerService Thread Pool -- 19) ELY00001: WildFly Elytron version 1.18.1.Final\n11:24:14,254 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file '/opt/jboss/keycloak/standalone/configuration/application.keystore' does not exist. Used blank.\n11:24:14,282 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\n11:24:14,440 INFO  [org.jboss.as.patching] (MSC service thread 1-2) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\n11:24:14,729 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n11:24:14,741 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 5609ms - Started 49 of 72 services (24 services are lazy, passive or on-demand)\nThe batch executed successfully\n11:24:15,163 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) stopped in 33ms\n11:24:17,976 INFO  [org.jboss.modules] (CLI command executor) JBoss Modules version 2.0.0.Final\n11:24:18,110 INFO  [org.jboss.msc] (CLI command executor) JBoss MSC version 1.4.13.Final\n11:24:18,126 INFO  [org.jboss.threads] (CLI command executor) JBoss Threads version 2.4.0.Final\n11:24:18,356 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\n11:24:18,512 INFO  [org.jboss.vfs] (MSC service thread 1-2) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n11:24:20,262 INFO  [org.wildfly.security] (ServerService Thread Pool -- 21) ELY00001: WildFly Elytron version 1.18.1.Final\n11:24:23,068 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY00023: KeyStore file '/opt/jboss/keycloak/standalone/configuration/application.keystore' does not exist. Used blank.\n11:24:23,093 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\n11:24:23,213 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\n11:24:23,523 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n11:24:23,533 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 5533ms - Started 49 of 79 services (31 services are lazy, passive or on-demand)\nThe batch executed successfully\n11:24:23,951 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0050: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) stopped in 31ms\nCreating HTTPS keystore via OpenShift's service serving x509 certificate secrets..\nHTTPS keystore successfully created at: /opt/jboss/keycloak/standalone/configuration/keystores/https-keystore.jks\n=========================================================================\n\n  JBoss Bootstrap Environment\n\n  JBOSS_HOME: /opt/jboss/keycloak\n\n  JAVA: java\n\n  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true   --add-exports=java.desktop/sun.awt=ALL-UNNAMED --add-exports=java.naming/com.sun.jndi.ldap=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.security=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.management/javax.management=ALL-UNNAMED --add-opens=java.naming/javax.naming=ALL-UNNAMED\n\n=========================================================================\n\n11:24:46,662 INFO  [org.jboss.modules] (main) JBoss Modules version 2.0.0.Final\n11:24:48,087 INFO  [org.jboss.msc] (main) JBoss MSC version 1.4.13.Final\n11:24:48,135 INFO  [org.jboss.threads] (main) JBoss Threads version 2.4.0.Final\n11:24:48,440 INFO  [org.jboss.as] (MSC service thread 1-2) WFLYSRV0049: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) starting\n11:24:48,629 INFO  [org.jboss.vfs] (MSC service thread 1-2) VFS000002: Failed to clean existing content for temp file provider of type temp. Enable DEBUG level log to find what caused this\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.wildfly.extension.elytron.SSLDefinitions (jar:file:/opt/jboss/keycloak/modules/system/layers/base/org/wildfly/extension/elytron/main/wildfly-elytron-integration-18.0.0.Final.jar!/) to method com.sun.net.ssl.internal.ssl.Provider.isFIPS()\nWARNING: Please consider reporting this to the maintainers of org.wildfly.extension.elytron.SSLDefinitions\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n11:24:50,529 INFO  [org.wildfly.security] (ServerService Thread Pool -- 21) ELY00001: WildFly Elytron version 1.18.1.Final\n11:24:53,539 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\n11:24:53,592 INFO  [org.xnio] (MSC service thread 1-2) XNIO version 3.8.5.Final\n11:24:53,620 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.8.5.Final\n11:24:53,734 INFO  [org.jboss.remoting] (MSC service thread 1-1) JBoss Remoting version 5.0.23.Final\n11:24:53,790 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 42) WFLYCLJG0001: Activating JGroups subsystem. JGroups version 4.2.11\n11:24:53,797 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 49) WFLYNAM0001: Activating Naming Subsystem\n11:24:53,781 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 53) WFLYTX0013: The node-identifier attribute on the /subsystem=transactions is set to the default value. This is a danger for environments running multiple servers. Please make sure the attribute value is unique.\n11:24:53,873 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 38) WFLYCLINF0001: Activating Infinispan subsystem.\n11:24:53,850 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 40) WFLYRS0016: RESTEasy version 4.7.4.Final\n11:24:53,911 INFO  [org.wildfly.extension.health] (ServerService Thread Pool -- 37) WFLYHEALTH0001: Activating Base Health Subsystem\n11:24:53,929 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 39) WFLYIO001: Worker 'default' has auto-configured to 2 IO threads with 16 max task threads based on your 1 available processors\n11:24:53,979 INFO  [org.wildfly.extension.metrics] (ServerService Thread Pool -- 47) WFLYMETRICS0001: Activating Base Metrics Subsystem\n11:24:54,168 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)\n11:24:54,170 INFO  [org.jboss.as.connector] (MSC service thread 1-1) WFLYJCA0009: Starting Jakarta Connectors Subsystem (WildFly/IronJacamar 1.5.3.Final)\n11:24:54,330 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0005: Deploying non-JDBC-compliant driver class org.postgresql.Driver (version 42.2)\n11:24:54,593 WARN  [org.wildfly.clustering.web.undertow] (ServerService Thread Pool -- 54) WFLYCLWEBUT0007: No routing provider found for default-server; using legacy provider based on static configuration\n11:24:54,571 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = h2\n11:24:54,600 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = postgresql\n11:24:54,602 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service\n11:24:54,628 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 2.2.14.Final starting\n11:24:54,656 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\n11:24:54,755 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 16 (per class), which is derived from thread worker pool sizing.\n11:24:54,765 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 4 (per class), which is derived from the number of CPUs on this host.\n11:24:54,806 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 54) WFLYUT0014: Creating file handler for path '/opt/jboss/keycloak/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']\n11:24:55,293 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file '/opt/jboss/keycloak/standalone/configuration/application.keystore' does not exist. Used blank.\n11:24:56,018 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\n11:24:56,113 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0012: Started server default-server.\n11:24:56,550 INFO  [org.jboss.as.patching] (MSC service thread 1-1) WFLYPAT0050: Keycloak cumulative patch ID is: base, one-off patches include: none\n11:24:56,554 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) Queuing requests.\n11:24:56,557 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting\n11:24:56,653 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow AJP listener ajp listening on 0.0.0.0:8009\n11:24:56,658 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on 0.0.0.0:8080\n11:24:56,706 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-1) WFLYDS0013: Started FileSystemDeploymentService for directory /opt/jboss/keycloak/standalone/deployments\n11:24:56,773 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0027: Starting deployment of &quot;keycloak-server.war&quot; (runtime-name: &quot;keycloak-server.war&quot;)\n11:24:56,785 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0493: Jakarta Enterprise Beans subsystem suspension complete\n11:24:56,853 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 56) MODCLUSTER000001: Initializing mod_cluster version 1.4.4.Final\n11:24:56,883 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 56) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364\n11:24:57,026 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow HTTPS listener https listening on 0.0.0.0:8443\n11:24:57,238 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\n11:24:57,239 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) WFLYJCA0001: Bound data source [java:jboss/datasources/KeycloakDS]\n11:24:58,267 WARN  [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56) JGRP000015: the receive buffer of socket ManagedMulticastSocketBinding was set to 20.00MB, but the OS only allocated 12.58MB\n11:24:58,270 WARN  [org.jgroups.protocols.UDP] (ServerService Thread Pool -- 56) JGRP000015: the receive buffer of socket ManagedMulticastSocketBinding was set to 25.00MB, but the OS only allocated 12.58MB\n11:25:01,302 INFO  [org.jgroups.protocols.pbcast.GMS] (ServerService Thread Pool -- 56) e1768863cdfb: no members discovered after 3007 ms: creating cluster as coordinator\n11:25:02,944 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 60) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller'\n11:25:02,942 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 58) ISPN000128: Infinispan version: Infinispan 'Taedonggang' 12.1.7.Final\n11:25:02,946 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 57) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n11:25:02,947 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 56) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n11:25:02,957 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 58) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n11:25:03,032 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 59) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller'\n11:25:03,308 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000078: Starting JGroups channel ejb\n11:25:03,304 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000078: Starting JGroups channel ejb\n11:25:03,314 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000078: Starting JGroups channel ejb\n11:25:03,314 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000078: Starting JGroups channel ejb\n11:25:03,315 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000078: Starting JGroups channel ejb\n11:25:03,328 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,330 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,330 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,342 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,356 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,363 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 56) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,379 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 60) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,387 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000094: Received new cluster view for channel ejb: [e1768863cdfb|0] (1) [e1768863cdfb]\n11:25:03,395 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,421 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 57) ISPN000079: Channel ejb local address is e1768863cdfb, physical addresses are [192.168.16.5:55200]\n11:25:03,509 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n11:25:03,520 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n11:25:04,593 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\n11:25:05,148 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 59) WFLYCLINF0002: Started work cache from keycloak container\n11:25:05,144 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 60) WFLYCLINF0002: Started offlineClientSessions cache from keycloak container\n11:25:05,160 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 62) WFLYCLINF0002: Started actionTokens cache from keycloak container\n11:25:05,204 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 58) WFLYCLINF0002: Started loginFailures cache from keycloak container\n11:25:05,219 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) WFLYCLINF0002: Started clientSessions cache from keycloak container\n11:25:05,225 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0002: Started sessions cache from keycloak container\n11:25:05,240 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 67) WFLYCLINF0002: Started authenticationSessions cache from keycloak container\n11:25:05,253 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0002: Started offlineSessions cache from keycloak container\n11:25:05,299 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started users cache from keycloak container\n11:25:05,302 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started keys cache from keycloak container\n11:25:05,306 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started realms cache from keycloak container\n11:25:05,308 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0002: Started authorization cache from keycloak container\n11:25:05,654 WARN  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0273: Excluded subsystem webservices via jboss-deployment-structure.xml does not exist.\n11:25:06,542 INFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0001: Loading config from standalone.xml or domain.xml\n11:25:07,203 INFO  [org.keycloak.url.DefaultHostnameProviderFactory] (ServerService Thread Pool -- 56) Frontend: &lt;request&gt;, Admin: &lt;frontend&gt;, Backend: &lt;request&gt;\n11:25:08,420 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started realmRevisions cache from keycloak container\n11:25:08,447 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started userRevisions cache from keycloak container\n11:25:08,467 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0002: Started authorizationRevisions cache from keycloak container\n11:25:08,473 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (ServerService Thread Pool -- 56) Node name: e1768863cdfb, Site name: null\n11:25:14,856 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 56) HHH000204: Processing PersistenceUnitInfo [\n        name: keycloak-default\n        ...]\n11:25:15,030 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 56) HHH000412: Hibernate Core {5.3.24.Final}\n11:25:15,037 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool -- 56) HHH000206: hibernate.properties not found\n11:25:15,455 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 56) HCANN000001: Hibernate Commons Annotations {5.0.5.Final}\n11:25:15,910 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 56) HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect\n11:25:16,411 INFO  [org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl] (ServerService Thread Pool -- 56) HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n11:25:16,427 INFO  [org.hibernate.type.BasicTypeRegistry] (ServerService Thread Pool -- 56) HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2851ff1a\n11:25:16,448 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 56) Envers integration enabled? : true\n11:25:17,248 INFO  [org.hibernate.orm.beans] (ServerService Thread Pool -- 56) HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.\n11:25:17,884 INFO  [org.hibernate.validator.internal.util.Version] (ServerService Thread Pool -- 56) HV000001: Hibernate Validator 6.0.22.Final\n11:25:21,348 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] (ServerService Thread Pool -- 56) HHH000397: Using ASTQueryTranslatorFactory\n11:25:23,142 INFO  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0006: Importing users from '/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json'\n11:25:23,494 WARN  [org.keycloak.services] (ServerService Thread Pool -- 56) KC-SERVICES0104: Not creating user octavianadmin. It already exists.\n11:25:24,396 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.keycloak.services.resources.KeycloakApplication\n11:25:24,399 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002205: Adding provider class org.keycloak.services.filters.KeycloakSecurityHeadersFilter from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,410 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002200: Adding class resource org.keycloak.services.resources.JsResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,412 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002205: Adding provider class org.keycloak.services.error.KeycloakErrorHandler from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,413 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002200: Adding class resource org.keycloak.services.resources.ThemeResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,415 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.WelcomeResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,415 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RealmsResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,416 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.admin.AdminRoot from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,417 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002210: Adding provider singleton org.keycloak.services.util.ObjectMapperResolver from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,418 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 56) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RobotsResource from Application class org.keycloak.services.resources.KeycloakApplication\n11:25:24,601 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 56) WFLYUT0021: Registered web context: '/auth' for server 'default-server'\n11:25:24,818 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;keycloak-server.war&quot; (runtime-name : &quot;keycloak-server.war&quot;)\n11:25:25,005 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n11:25:25,018 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: Keycloak 16.1.0 (WildFly Core 18.0.0.Final) started in 394\n54ms - Started 678 of 979 services (696 services are lazy, passive or on-demand)\n11:25:25,024 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n11:25:25,026 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n</code></pre>\n<p>What's really strange for me is this error:</p>\n<pre><code>11:24:14,254 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-2) WFLYELY00023: KeyStore file '/opt/jboss/keycloak/standalone/configuration/application.keystore' does not exist. Used blank.\n11:24:14,282 WARN  [org.wildfly.extension.elytron] (MSC service thread 1-1) WFLYELY01084: KeyStore /opt/jboss/keycloak/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self-signed certificate for host localhost\n</code></pre>\n<p>At the end of the file, http is shown (not https). I want to disable all HTTP and have everything on HTTPS.</p>\n<p>The actual config works right now, but I get connection not secure, while I'm using the same SSL certificate for the main domain and it works fine there.(example.com, while keycloak points at auth.example.com)</p>\n<p>So I suspect this might be something related to keycloak.</p>\n<p>Can anybody help me fix &quot;connection not secure?&quot;</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","android-permissions","android-anr-dialog","android-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665155437,"post_id":73988800,"comment_id":130640751,"body_markdown":"`FileNotFoundException: /document/document:3796` That is no DocumentFile nor a File instance nor a valid file system path.","body":"<code>FileNotFoundException: &#47;document&#47;document:3796</code> That is no DocumentFile nor a File instance nor a valid file system path."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1665155724,"post_id":73988800,"comment_id":130640844,"body_markdown":"`in this app I am trying to get document file path t` You got an uri. Use the uri to construct a DocumentFile instance. Do not use File class and getPath.","body":"<code>in this app I am trying to get document file path t</code> You got an uri. Use the uri to construct a DocumentFile instance. Do not use File class and getPath."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1665157343,"post_id":73988800,"comment_id":130641422,"body_markdown":"Use `ContentResolver` and `openInputStream()` to read in the content identified by the `Uri`. You can wrap that `InputStream` in an `InputStreamReader` and use it instead of your `FileReader`.","body":"Use <code>ContentResolver</code> and <code>openInputStream()</code> to read in the content identified by the <code>Uri</code>. You can wrap that <code>InputStream</code> in an <code>InputStreamReader</code> and use it instead of your <code>FileReader</code>."},{"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"score":0,"creation_date":1665158667,"post_id":73988800,"comment_id":130641858,"body_markdown":"@blackapps yes I think that&#39;s becasue this not absloute or full path","body":"@blackapps yes I think that&#39;s becasue this not absloute or full path"},{"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"score":0,"creation_date":1665158731,"post_id":73988800,"comment_id":130641875,"body_markdown":"@commonsware can you answer it please which line should I edit and add `ContentResolver` and `openInputStream` ?","body":"@commonsware can you answer it please which line should I edit and add <code>ContentResolver</code> and <code>openInputStream</code> ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665159876,"post_id":73988800,"comment_id":130642270,"body_markdown":"`used this way to take all permission that needed` You do not need any permission to begin with.","body":"<code>used this way to take all permission that needed</code> You do not need any permission to begin with."},{"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"score":0,"creation_date":1665160639,"post_id":73988800,"comment_id":130642520,"body_markdown":"@blackapps I think you&#39;re wrong, I need a read external permission to read the file, and write &amp; mange to get the full path [reference here](https://developer.android.com/about/versions/11/privacy/storage)","body":"@blackapps I think you&#39;re wrong, I need a read external permission to read the file, and write &amp; mange to get the full path <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">reference here</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665160771,"post_id":73988800,"comment_id":130642576,"body_markdown":"You will not try to get a full path. You can use the uri directly. Two people told you already.","body":"You will not try to get a full path. You can use the uri directly. Two people told you already."},{"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"score":0,"creation_date":1665170212,"post_id":73988800,"comment_id":130645282,"body_markdown":"@blackapps Okay I updated the code and used uri, now when I click on read the app hanges stucks I got ANR in `com.filechooserexample.filechooserexample (com.filechooserexample.filechooserexample/.MainActivity) PID: 27389 Reason: Input dispatching timed out`","body":"@blackapps Okay I updated the code and used uri, now when I click on read the app hanges stucks I got ANR in <code>com.filechooserexample.filechooserexample (com.filechooserexample.filechooserexample&#47;.MainActivity) PID: 27389 Reason: Input dispatching timed out</code>"}],"answers":[{"tags":[],"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665252022,"creation_date":1665252022,"answer_id":73999352,"question_id":73988800,"body_markdown":"This method reads the files but it&#39;s making the app hanging, I&#39;ll post another question about this problem later\r\n\r\n```\r\nprivate void readFile() throws IOException {\r\n        try {\r\n\r\n            StringBuilder sb = new StringBuilder();\r\n            String line;\r\n\r\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n\r\n                inputStream = getContentResolver().openInputStream(selectedFileURI);\r\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n            } else {\r\n                fileReader = new FileReader(file);\r\n                bufferedReader = new BufferedReader(fileReader);\r\n            }\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n               sb.append(line).append(&quot;\\n&quot;);\r\n            }\r\n\r\n            activityMainBinding.textView.setText(sb.toString());\r\n\r\n        } catch (IOException e) {\r\n            Log.e(&quot;IOException&quot;, e.getMessage());\r\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\r\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\r\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        } finally {\r\n            if (inputStream != null) {\r\n                inputStream.close();\r\n            } else if (bufferedReader != null) {\r\n                bufferedReader.close();\r\n            } else if (fileReader != null) {\r\n                fileReader.close();\r\n            }\r\n        }\r\n\r\n    }\r\n```","title":"Read document file in android R 11 getting java.io.FileNotFoundException: /document/document:3796: open failed: ENOENT (No such file or directory)","body":"<p>This method reads the files but it's making the app hanging, I'll post another question about this problem later</p>\n<pre><code>private void readFile() throws IOException {\n        try {\n\n            StringBuilder sb = new StringBuilder();\n            String line;\n\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n\n                inputStream = getContentResolver().openInputStream(selectedFileURI);\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n\n            } else {\n                fileReader = new FileReader(file);\n                bufferedReader = new BufferedReader(fileReader);\n            }\n            while ((line = bufferedReader.readLine()) != null) {\n               sb.append(line).append(&quot;\\n&quot;);\n            }\n\n            activityMainBinding.textView.setText(sb.toString());\n\n        } catch (IOException e) {\n            Log.e(&quot;IOException&quot;, e.getMessage());\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\n\n        } finally {\n            if (inputStream != null) {\n                inputStream.close();\n            } else if (bufferedReader != null) {\n                bufferedReader.close();\n            } else if (fileReader != null) {\n                fileReader.close();\n            }\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":26555823,"reputation":43,"user_id":20184459,"display_name":"Reginald D"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73999352,"answer_count":1,"score":1,"last_activity_date":1665252022,"creation_date":1665153343,"question_id":73988800,"body_markdown":"## Update:\r\nI&#39;ve edited the `readFile` method like the following\r\n\r\n```\r\nprivate void readFile() throws IOException {\r\n        try {\r\n\r\n            StringBuilder sb = new StringBuilder();\r\n            String line;\r\n\r\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n\r\n                inputStream = getContentResolver().openInputStream(selectedFileURI);\r\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n            } else {\r\n                fileReader = new FileReader(file);\r\n                bufferedReader = new BufferedReader(fileReader);\r\n            }\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n               sb.append(line).append(&quot;\\n&quot;);\r\n            }\r\n\r\n            activityMainBinding.textView.setText(sb.toString());\r\n\r\n        } catch (IOException e) {\r\n            Log.e(&quot;IOException&quot;, e.getMessage());\r\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\r\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\r\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        } finally {\r\n            if (inputStream != null) {\r\n                inputStream.close();\r\n            } else if (bufferedReader != null) {\r\n                bufferedReader.close();\r\n            } else if (fileReader != null) {\r\n                fileReader.close();\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nthe app hanged / stucks and I go this ANR error\r\n\r\n```\r\n  E  ANR in com.filechooserexample.filechooserexample (com.filechooserexample.filechooserexample/.MainActivity)\r\nPID: 27389\r\nReason: Input dispatching timed out (d457abb com.filechooserexample.filechooserexample/com.filechooserexample.filechooserexample.MainActivity (server) is not responding. Waited 5000ms for KeyEvent)\r\nParent: com.filechooserexample.filechooserexample/.MainActivity\r\nLoad: 16.54 / 17.2 / 15.46\r\nCPU usage from 0ms to 11944ms later (٢٠٢٢-١٠-٠٧ ٢٠:١٩:٢٩.٢٣٣ to ٢٠٢٢-١٠-٠٧ ٢٠:١٩:٤١.١٧٨) with 99% awake:\r\n145% 11791/com.gold.android.youtube: 124% user + 20% kernel / faults: 155587 minor 104 major95% 27389/zygote64: 44% user + 50% kernel / faults: 2262086 minor 43 major\r\n55% 1406/system_server: 31% user + 23% kernel / faults: 27320 minor 58 major37% 585/logd: 12% user + 24% kernel / faults: 5057 minor 16 major\r\n                                                                                                      28% 11830/com.gogoogle.android.gms: 24% user + 4.6% kernel / faults: 11497 minor 27 major\r\n20% 949/adbd: 5.1% user + 15% kernel / faults: 103 minor\r\n17% 27101/us.zoom.videomeetings:conf: 12% user + 5.3% kernel / faults: 8584 minor 61 major\r\n17% 25083/in.sweatco.app: 11% user + 6.3% kernel / faults: 9222 minor 356 major\r\n15% 784/android.hardware.sensors@1.0-service: 6.2% user + 9.7% kernel / faults: 167 minor\r\n15% 2712/com.android.systemui: 12% user + 3.6% kernel / faults: 11269 minor 31 major\r\n9.2% 828/surfaceflinger: 5.6% user + 3.6% kernel / faults: 1925 minor 7 major\r\n9% 152/kswapd0: 0% user + 9% kernel\r\n7.4% 27527/logcat: 2% user + 5.3% kernel / faults: 34 minor\r\n7.4% 29146/logcat: 2.2% user + 5.1% kernel / faults: 34 minor\r\n7% 6362/com.touchtype.swiftkey: 4.7% user + 2.2% kernel / faults: 13363 minor 1729 major\r\n6.4% 9624/com.facebook.orca: 5.5% user + 0.9% kernel / faults: 5959 minor 24 major\r\n6.2% 16749/kworker/u17:0: 0% user + 6.2% kernel\r\n6% 820/audioserver: 4.4% user + 1.5% kernel / faults: 539 minor 7 major\r\n5.5% 695/netd: 4.6% user + 0.8% kernel / faults: 337 minor\r\n5.4% 766/android.hardware.audio.service: 2.1% user + 3.2% kernel / faults: 99 minor 7 major\r\n                                                                                                      5.4% 11039/kworker/u17:1: 0% user + 5.4% kernel\r\n4.8% 456/mmc-cmdqd/0: 0% user + 4.8% kernel\r\n4.1% 17016/com.google.android.as: 1.2% user + 2.8% kernel / faults: 5799 minor 2163 major\r\n4% 1159/media.codec: 2.5% user + 1.5% kernel / faults: 11890 minor 29 major\r\n4% 18095/com.google.android.apps.nexuslauncher: 3% user + 0.9% kernel / faults: 7735 minor 48 major\r\n3.8% 8812/com.facebook.katana: 2.2% user + 1.5% kernel / faults: 6904 minor 22 major                                                     3.4% 777/android.hardware.graphics.composer@2.1-service: 1.9% user + 1.5% kernel / faults: 320 minor\r\n3% 682/lspd: 1% user + 2% kernel / faults: 31 minor\r\n```\r\n\r\n## Old question probelm\r\n\r\nI am trying to practice on permission and some other component in android, in this app I am trying to get document file path then read it and show it in textview, the code was working normally before android 11 , I know there are some challenges to manage storge in this api, I tried most of ways in this questions:\r\n\r\n**https://stackoverflow.com/q/12421814/7639296**\r\n\r\n**https://stackoverflow.com/questions/3344551/how-to-read-text-file-in-android**\r\n\r\n**https://stackoverflow.com/questions/24291721/reading-a-text-file-line-by-line-in-android**\r\n\r\nbut it&#39;s gives the same result error\r\n\r\n```\r\nE/IOException: /document/document:3796: open failed: ENOENT (No such file or directory)\r\nE/IOException2: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\r\nE/IOException3: exception\r\n    java.io.FileNotFoundException: /document/document:3796: open failed: ENOENT (No such file or directory)\r\n        at libcore.io.IoBridge.open(IoBridge.java:492)\r\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\r\n        at java.io.FileReader.&lt;init&gt;(FileReader.java:72)\r\n        at com.filechooserexample.filechooserexample.MainActivity.readFile(MainActivity.java:191)\r\n        at com.filechooserexample.filechooserexample.MainActivity.lambda$onStart$1$com-filechooserexample-filechooserexample-MainActivity(MainActivity.java:122)\r\n        at com.filechooserexample.filechooserexample.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:2)\r\n        at android.view.View.performClick(View.java:7455)\r\n        at android.view.View.performClickInternal(View.java:7432)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28313)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7663)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\r\n        at libcore.io.Linux.open(Native Method)\r\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n        at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\r\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\r\n        at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7549)\r\n        at libcore.io.IoBridge.open(IoBridge.java:478)\r\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)&#160;\r\n        at java.io.FileReader.&lt;init&gt;(FileReader.java:72)&#160;\r\n        at com.filechooserexample.filechooserexample.MainActivity.readFile(MainActivity.java:191)&#160;\r\n        at com.filechooserexample.filechooserexample.MainActivity.lambda$onStart$1$com-filechooserexample-filechooserexample-MainActivity(MainActivity.java:122)&#160;\r\n        at com.filechooserexample.filechooserexample.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:2)&#160;\r\n        at android.view.View.performClick(View.java:7455)&#160;\r\n        at android.view.View.performClickInternal(View.java:7432)&#160;\r\n        at android.view.View.access$3600(View.java:810)&#160;\r\n        at android.view.View$PerformClick.run(View.java:28313)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7663)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n```\r\n\r\nthis manifest file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:supportsRtl=&quot;false&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        tools:replace=&quot;allowBackup,supportsRtl&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI used [**this way**][1] to take all permission that needed\r\nMy main activity\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private File file;\r\n    private Uri selectedFile;\r\n    private static final int REQUEST_CODE_DOC = 1;\r\n\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n\r\n    private ActivityMainBinding activityMainBinding = null;\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        activityMainBinding = null;\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        activityMainBinding = ActivityMainBinding.inflate(getLayoutInflater());\r\n\r\n        setContentView(activityMainBinding.getRoot());\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        activityMainBinding.textView.setMovementMethod(new ScrollingMovementMethod());\r\n        activityMainBinding.browseButton.setOnClickListener(view -&gt; {\r\n\r\n\r\n\r\n\r\n\r\n            browseDocuments();\r\n        });\r\n\r\n        activityMainBinding.read.setOnClickListener(view -&gt; {\r\n            if (TextUtils.isEmpty(activityMainBinding.editTextPath.getText())) {\r\n                activityMainBinding.editTextPath.setError(&quot;The file path cannot be empty&quot;);\r\n            } else {\r\n                readFile();\r\n            }\r\n        });\r\n\r\n        activityMainBinding.clear.setOnClickListener(view -&gt; activityMainBinding.textView.setText(null));\r\n    }\r\n\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == REQUEST_CODE_DOC &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            \r\n            try {\r\n\r\n                if (data != null) {\r\n                    \r\n                    selectedFile = data.getData();\r\n                    file = new File(selectedFile.getPath());\r\n                    activityMainBinding.editTextPath.setText(file.getAbsolutePath());\r\n                    Log.d(TAG, &quot;onActivityResult: &quot; + file.getAbsolutePath());\r\n\r\n                } else {\r\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                String mimeType = getContentResolver().getType(selectedFile);\r\n                Log.i(&quot;Type of file&quot;, mimeType + &quot;&quot;);\r\n            } catch (Exception exception) {\r\n\r\n                if (exception.getMessage() != null) {\r\n\r\n                    Log.e(&quot;test Exception&quot;, exception.getMessage());\r\n\r\n                } else if (exception.getCause() != null) {\r\n                    Log.e(&quot;test Exception&quot;, Objects.requireNonNull(exception.getCause()).toString());\r\n                }\r\n\r\n\r\n\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public String getPath(Uri uri) {\r\n        String[] projection = {MediaStore.Images.Media.DATA};\r\n        Cursor cursor = getContentResolver().query(uri, projection, null, null, null);\r\n        if (cursor == null) return null;\r\n        int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\r\n        cursor.moveToFirst();\r\n        String s = cursor.getString(column_index);\r\n        cursor.close();\r\n        return s;\r\n    }\r\n\r\n\r\n    private void readFile() {\r\n        try {\r\n            FileReader fileReader = new FileReader(file);\r\n            BufferedReader br = new BufferedReader(fileReader);\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                activityMainBinding.textView.append(line + &quot;\\n&quot;);\r\n            }\r\n            br.close();\r\n            fileReader.close();\r\n        } catch (IOException e) {\r\n            Log.e(&quot;IOException&quot;, e.getMessage());\r\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\r\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\r\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private boolean checkPermission() {\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            return Environment.isExternalStorageManager();\r\n        } else {\r\n            int result = ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE);\r\n            int result1 = ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE);\r\n            return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\r\n        }\r\n    }\r\n\r\n    private void requestPermission() {\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            try {\r\n                Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\r\n                startActivityForResult(intent, 1);\r\n            } catch (Exception e) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                startActivityForResult(intent, 1);\r\n            }\r\n        } else {\r\n            \r\n            ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE,\r\n                    WRITE_EXTERNAL_STORAGE}, 1);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66366102/7639296","title":"Read document file in android R 11 getting java.io.FileNotFoundException: /document/document:3796: open failed: ENOENT (No such file or directory)","body":"<h2>Update:</h2>\n<p>I've edited the <code>readFile</code> method like the following</p>\n<pre><code>private void readFile() throws IOException {\n        try {\n\n            StringBuilder sb = new StringBuilder();\n            String line;\n\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n\n                inputStream = getContentResolver().openInputStream(selectedFileURI);\n                bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n\n            } else {\n                fileReader = new FileReader(file);\n                bufferedReader = new BufferedReader(fileReader);\n            }\n            while ((line = bufferedReader.readLine()) != null) {\n               sb.append(line).append(&quot;\\n&quot;);\n            }\n\n            activityMainBinding.textView.setText(sb.toString());\n\n        } catch (IOException e) {\n            Log.e(&quot;IOException&quot;, e.getMessage());\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\n\n        } finally {\n            if (inputStream != null) {\n                inputStream.close();\n            } else if (bufferedReader != null) {\n                bufferedReader.close();\n            } else if (fileReader != null) {\n                fileReader.close();\n            }\n        }\n\n    }\n</code></pre>\n<p>the app hanged / stucks and I go this ANR error</p>\n<pre><code>  E  ANR in com.filechooserexample.filechooserexample (com.filechooserexample.filechooserexample/.MainActivity)\nPID: 27389\nReason: Input dispatching timed out (d457abb com.filechooserexample.filechooserexample/com.filechooserexample.filechooserexample.MainActivity (server) is not responding. Waited 5000ms for KeyEvent)\nParent: com.filechooserexample.filechooserexample/.MainActivity\nLoad: 16.54 / 17.2 / 15.46\nCPU usage from 0ms to 11944ms later (٢٠٢٢-١٠-٠٧ ٢٠:١٩:٢٩.٢٣٣ to ٢٠٢٢-١٠-٠٧ ٢٠:١٩:٤١.١٧٨) with 99% awake:\n145% 11791/com.gold.android.youtube: 124% user + 20% kernel / faults: 155587 minor 104 major95% 27389/zygote64: 44% user + 50% kernel / faults: 2262086 minor 43 major\n55% 1406/system_server: 31% user + 23% kernel / faults: 27320 minor 58 major37% 585/logd: 12% user + 24% kernel / faults: 5057 minor 16 major\n                                                                                                      28% 11830/com.gogoogle.android.gms: 24% user + 4.6% kernel / faults: 11497 minor 27 major\n20% 949/adbd: 5.1% user + 15% kernel / faults: 103 minor\n17% 27101/us.zoom.videomeetings:conf: 12% user + 5.3% kernel / faults: 8584 minor 61 major\n17% 25083/in.sweatco.app: 11% user + 6.3% kernel / faults: 9222 minor 356 major\n15% 784/android.hardware.sensors@1.0-service: 6.2% user + 9.7% kernel / faults: 167 minor\n15% 2712/com.android.systemui: 12% user + 3.6% kernel / faults: 11269 minor 31 major\n9.2% 828/surfaceflinger: 5.6% user + 3.6% kernel / faults: 1925 minor 7 major\n9% 152/kswapd0: 0% user + 9% kernel\n7.4% 27527/logcat: 2% user + 5.3% kernel / faults: 34 minor\n7.4% 29146/logcat: 2.2% user + 5.1% kernel / faults: 34 minor\n7% 6362/com.touchtype.swiftkey: 4.7% user + 2.2% kernel / faults: 13363 minor 1729 major\n6.4% 9624/com.facebook.orca: 5.5% user + 0.9% kernel / faults: 5959 minor 24 major\n6.2% 16749/kworker/u17:0: 0% user + 6.2% kernel\n6% 820/audioserver: 4.4% user + 1.5% kernel / faults: 539 minor 7 major\n5.5% 695/netd: 4.6% user + 0.8% kernel / faults: 337 minor\n5.4% 766/android.hardware.audio.service: 2.1% user + 3.2% kernel / faults: 99 minor 7 major\n                                                                                                      5.4% 11039/kworker/u17:1: 0% user + 5.4% kernel\n4.8% 456/mmc-cmdqd/0: 0% user + 4.8% kernel\n4.1% 17016/com.google.android.as: 1.2% user + 2.8% kernel / faults: 5799 minor 2163 major\n4% 1159/media.codec: 2.5% user + 1.5% kernel / faults: 11890 minor 29 major\n4% 18095/com.google.android.apps.nexuslauncher: 3% user + 0.9% kernel / faults: 7735 minor 48 major\n3.8% 8812/com.facebook.katana: 2.2% user + 1.5% kernel / faults: 6904 minor 22 major                                                     3.4% 777/android.hardware.graphics.composer@2.1-service: 1.9% user + 1.5% kernel / faults: 320 minor\n3% 682/lspd: 1% user + 2% kernel / faults: 31 minor\n</code></pre>\n<h2>Old question probelm</h2>\n<p>I am trying to practice on permission and some other component in android, in this app I am trying to get document file path then read it and show it in textview, the code was working normally before android 11 , I know there are some challenges to manage storge in this api, I tried most of ways in this questions:</p>\n<p><strong><a href=\"https://stackoverflow.com/q/12421814/7639296\">How can I read a text file in Android?</a></strong></p>\n<p><strong><a href=\"https://stackoverflow.com/questions/3344551/how-to-read-text-file-in-android\">How to read text file in Android?</a></strong></p>\n<p><strong><a href=\"https://stackoverflow.com/questions/24291721/reading-a-text-file-line-by-line-in-android\">Reading a text file line by line in android</a></strong></p>\n<p>but it's gives the same result error</p>\n<pre><code>E/IOException: /document/document:3796: open failed: ENOENT (No such file or directory)\nE/IOException2: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\nE/IOException3: exception\n    java.io.FileNotFoundException: /document/document:3796: open failed: ENOENT (No such file or directory)\n        at libcore.io.IoBridge.open(IoBridge.java:492)\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\n        at java.io.FileReader.&lt;init&gt;(FileReader.java:72)\n        at com.filechooserexample.filechooserexample.MainActivity.readFile(MainActivity.java:191)\n        at com.filechooserexample.filechooserexample.MainActivity.lambda$onStart$1$com-filechooserexample-filechooserexample-MainActivity(MainActivity.java:122)\n        at com.filechooserexample.filechooserexample.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:2)\n        at android.view.View.performClick(View.java:7455)\n        at android.view.View.performClickInternal(View.java:7432)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28313)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7663)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\n        at libcore.io.Linux.open(Native Method)\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n        at libcore.io.BlockGuardOs.open(BlockGuardOs.java:254)\n        at libcore.io.ForwardingOs.open(ForwardingOs.java:166)\n        at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7549)\n        at libcore.io.IoBridge.open(IoBridge.java:478)\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160) \n        at java.io.FileReader.&lt;init&gt;(FileReader.java:72) \n        at com.filechooserexample.filechooserexample.MainActivity.readFile(MainActivity.java:191) \n        at com.filechooserexample.filechooserexample.MainActivity.lambda$onStart$1$com-filechooserexample-filechooserexample-MainActivity(MainActivity.java:122) \n        at com.filechooserexample.filechooserexample.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source:2) \n        at android.view.View.performClick(View.java:7455) \n        at android.view.View.performClickInternal(View.java:7432) \n        at android.view.View.access$3600(View.java:810) \n        at android.view.View$PerformClick.run(View.java:28313) \n        at android.os.Handler.handleCallback(Handler.java:938) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7663) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n</code></pre>\n<p>this manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:supportsRtl=&quot;false&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        tools:replace=&quot;allowBackup,supportsRtl&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I used <a href=\"https://stackoverflow.com/a/66366102/7639296\"><strong>this way</strong></a> to take all permission that needed\nMy main activity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private File file;\n    private Uri selectedFile;\n    private static final int REQUEST_CODE_DOC = 1;\n\n    private static final String TAG = &quot;MainActivity&quot;;\n\n    private ActivityMainBinding activityMainBinding = null;\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        activityMainBinding = null;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        activityMainBinding = ActivityMainBinding.inflate(getLayoutInflater());\n\n        setContentView(activityMainBinding.getRoot());\n\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        activityMainBinding.textView.setMovementMethod(new ScrollingMovementMethod());\n        activityMainBinding.browseButton.setOnClickListener(view -&gt; {\n\n\n\n\n\n            browseDocuments();\n        });\n\n        activityMainBinding.read.setOnClickListener(view -&gt; {\n            if (TextUtils.isEmpty(activityMainBinding.editTextPath.getText())) {\n                activityMainBinding.editTextPath.setError(&quot;The file path cannot be empty&quot;);\n            } else {\n                readFile();\n            }\n        });\n\n        activityMainBinding.clear.setOnClickListener(view -&gt; activityMainBinding.textView.setText(null));\n    }\n\n    \n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == REQUEST_CODE_DOC &amp;&amp; resultCode == Activity.RESULT_OK) {\n            \n            try {\n\n                if (data != null) {\n                    \n                    selectedFile = data.getData();\n                    file = new File(selectedFile.getPath());\n                    activityMainBinding.editTextPath.setText(file.getAbsolutePath());\n                    Log.d(TAG, &quot;onActivityResult: &quot; + file.getAbsolutePath());\n\n                } else {\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                String mimeType = getContentResolver().getType(selectedFile);\n                Log.i(&quot;Type of file&quot;, mimeType + &quot;&quot;);\n            } catch (Exception exception) {\n\n                if (exception.getMessage() != null) {\n\n                    Log.e(&quot;test Exception&quot;, exception.getMessage());\n\n                } else if (exception.getCause() != null) {\n                    Log.e(&quot;test Exception&quot;, Objects.requireNonNull(exception.getCause()).toString());\n                }\n\n\n\n\n            }\n        }\n\n    }\n\n    public String getPath(Uri uri) {\n        String[] projection = {MediaStore.Images.Media.DATA};\n        Cursor cursor = getContentResolver().query(uri, projection, null, null, null);\n        if (cursor == null) return null;\n        int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n        cursor.moveToFirst();\n        String s = cursor.getString(column_index);\n        cursor.close();\n        return s;\n    }\n\n\n    private void readFile() {\n        try {\n            FileReader fileReader = new FileReader(file);\n            BufferedReader br = new BufferedReader(fileReader);\n            String line;\n            while ((line = br.readLine()) != null) {\n                activityMainBinding.textView.append(line + &quot;\\n&quot;);\n            }\n            br.close();\n            fileReader.close();\n        } catch (IOException e) {\n            Log.e(&quot;IOException&quot;, e.getMessage());\n            Log.e(&quot;IOException2&quot;, e.getCause() + &quot;&quot;);\n            Log.e(&quot;IOException3&quot;, &quot;exception&quot;, e);\n            Toast.makeText(MainActivity.this, &quot;Cannot read this file&quot;, Toast.LENGTH_LONG).show();\n\n        }\n\n    }\n\n\n\n\n\n\n    private boolean checkPermission() {\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n            return Environment.isExternalStorageManager();\n        } else {\n            int result = ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE);\n            int result1 = ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE);\n            return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\n        }\n    }\n\n    private void requestPermission() {\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n            try {\n                Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\n                startActivityForResult(intent, 1);\n            } catch (Exception e) {\n                Intent intent = new Intent();\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n                startActivityForResult(intent, 1);\n            }\n        } else {\n            \n            ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE,\n                    WRITE_EXTERNAL_STORAGE}, 1);\n        }\n    }\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":2,"creation_date":1404034751,"post_id":24474838,"comment_id":37881172,"body_markdown":"I do realize that there will be no performance gain because streams are evaluated lazily; I am just hoping to avoid duplicating code.","body":"I do realize that there will be no performance gain because streams are evaluated lazily; I am just hoping to avoid duplicating code."},{"owner":{"account_id":2647040,"reputation":20641,"user_id":2289509,"display_name":"Elazar"},"score":0,"creation_date":1404034792,"post_id":24474838,"comment_id":37881180,"body_markdown":"Why not turn the streams into lists?","body":"Why not turn the streams into lists?"},{"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"score":1,"creation_date":1404034979,"post_id":24474838,"comment_id":37881212,"body_markdown":"Locate what varies in your code and extract this into variables. Then create a method to extract reusable piece of code and apply variables to it.","body":"Locate what varies in your code and extract this into variables. Then create a method to extract reusable piece of code and apply variables to it."},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":0,"creation_date":1404034984,"post_id":24474838,"comment_id":37881215,"body_markdown":"@Elazar doing so would not be memory efficient, and would not work for infinite streams!","body":"@Elazar doing so would not be memory efficient, and would not work for infinite streams!"},{"owner":{"account_id":2647040,"reputation":20641,"user_id":2289509,"display_name":"Elazar"},"score":2,"creation_date":1404068837,"post_id":24474838,"comment_id":37889713,"body_markdown":"Nothing can duplicate general infinite streams, without further information.","body":"Nothing can duplicate general infinite streams, without further information."},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":0,"creation_date":1404086367,"post_id":24474838,"comment_id":37893756,"body_markdown":"@Elazar I realize that&#39;s right. Feel free to add an answer that elaborates. I am not sure if it would be worth switching the currently accepted answer because it does say so in its first sentence: &quot;It is not possible ...&quot;, but I am sure readers will appreciate knowing that this is fundamentally impossible in general.","body":"@Elazar I realize that&#39;s right. Feel free to add an answer that elaborates. I am not sure if it would be worth switching the currently accepted answer because it does say so in its first sentence: &quot;It is not possible ...&quot;, but I am sure readers will appreciate knowing that this is fundamentally impossible in general."},{"owner":{"account_id":2647040,"reputation":20641,"user_id":2289509,"display_name":"Elazar"},"score":0,"creation_date":1404089700,"post_id":24474838,"comment_id":37894382,"body_markdown":"@necromancer I gave it a try.","body":"@necromancer I gave it a try."},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":0,"creation_date":1404094017,"post_id":24474838,"comment_id":37895173,"body_markdown":"@Elazar good job, esp the phrase: &#39;copy the state of the whole &quot;outside world&quot;&#39;. That is the key point. The example I thought of after your earlier comment was that of a stream that reads a temperature sensor on demand. Your mention of the `|n1 - n2|` solution is great because it is a very nice solution to the fundamental problem. I almost feel like editing your answer to suggest using a `Queue`, what do you think?","body":"@Elazar good job, esp the phrase: &#39;copy the state of the whole &quot;outside world&quot;&#39;. That is the key point. The example I thought of after your earlier comment was that of a stream that reads a temperature sensor on demand. Your mention of the <code>|n1 - n2|</code> solution is great because it is a very nice solution to the fundamental problem. I almost feel like editing your answer to suggest using a <code>Queue</code>, what do you think?"}],"answers":[{"comments":[{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":3,"creation_date":1404094330,"post_id":24474871,"comment_id":37895245,"body_markdown":"i am considering switching the accepted answer to the one by Elazar and linking to yours as a great example of the second solution and to the solution of the specific example I used in my question. hope that&#39;s ok. thanks!","body":"i am considering switching the accepted answer to the one by Elazar and linking to yours as a great example of the second solution and to the solution of the specific example I used in my question. hope that&#39;s ok. thanks!"},{"owner":{"account_id":1370027,"reputation":49130,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"score":12,"creation_date":1404111469,"post_id":24474871,"comment_id":37899660,"body_markdown":"@necromancer: Thanks for asking. Feel free to change the accepted answer.","body":"@necromancer: Thanks for asking. Feel free to change the accepted answer."}],"tags":[],"owner":{"account_id":1370027,"reputation":49130,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"comment_count":2,"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1404037423,"creation_date":1404034933,"answer_id":24474871,"question_id":24474838,"body_markdown":"It is not possible to duplicate a stream in this way. However, you can avoid the code duplication by moving the common part into a method or lambda expression.\r\n\r\n    Supplier&lt;IntStream&gt; supplier = () -&gt;\r\n        IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\r\n    supplier.get().filter(...);\r\n    supplier.get().filter(...);\r\n","title":"Can I duplicate a Stream in Java 8?","body":"<p>It is not possible to duplicate a stream in this way. However, you can avoid the code duplication by moving the common part into a method or lambda expression.</p>\n\n<pre><code>Supplier&lt;IntStream&gt; supplier = () -&gt;\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\nsupplier.get().filter(...);\nsupplier.get().filter(...);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"score":0,"creation_date":1404035081,"post_id":24474874,"comment_id":37881240,"body_markdown":"Immutable state, well, here you go. ;D","body":"Immutable state, well, here you go. ;D"},{"owner":{"account_id":2289067,"reputation":3571,"user_id":2012441,"accept_rate":86,"display_name":"mschenk74"},"score":1,"creation_date":1404037796,"post_id":24474874,"comment_id":37881837,"body_markdown":"instead of deleting you could add some explanation why this approach didn&#39;t work. So that others could learn from it.","body":"instead of deleting you could add some explanation why this approach didn&#39;t work. So that others could learn from it."},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":0,"creation_date":1404038672,"post_id":24474874,"comment_id":37882035,"body_markdown":"@mschenk74 here you go :)","body":"@mschenk74 here you go :)"}],"tags":[],"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1404038510,"creation_date":1404034941,"answer_id":24474874,"question_id":24474838,"body_markdown":"**Update:** This **doesn&#39;t** work. See explanation below, after the text of the original answer.\r\n\r\nHow silly of me. All that I need to do is:\r\n\r\n    Stream desired_stream = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\r\n    Stream stream14 = desired_stream.filter(n -&gt; n % 7 == 0); // multiples of 14\r\n    Stream stream10 = desired_stream.filter(n -&gt; n % 5 == 0); // multiples of 10\r\n\r\n**Explanation why this does not work:**\r\n\r\nIf you code it up and try to collect both streams, the first one will collect fine, but trying to stream the second one will throw the exception: `java.lang.IllegalStateException: stream has already been operated upon or closed`.\r\n\r\nTo elaborate, streams are stateful objects (which by the way cannot be reset or rewound). You can think of them as iterators, which in turn are like pointers. So `stream14` and `stream10` can be thought of as references to the same pointer. Consuming the first stream all the way will cause the pointer to go &quot;past the end.&quot; Trying to consume the second stream is like trying to access a pointer that is already &quot;past the end,&quot; Which naturally is an illegal operation.\r\n\r\nAs the accepted answer shows, the code to create the stream must be executed twice but it can be compartmentalized into a `Supplier` lambda or a similar construct.\r\n\r\n**Full test code:** save into `Foo.java`, then `javac Foo.java`, then `java Foo`\r\n\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class Foo {\r\n      public static void main (String [] args) {\r\n        IntStream s = IntStream.range(0, 100).filter(n -&gt; n % 2 == 0);\r\n        IntStream s1 = s.filter(n -&gt; n % 5 == 0);\r\n        s1.forEach(n -&gt; System.out.println(n));\r\n        IntStream s2 = s.filter(n -&gt; n % 7 == 0);\r\n        s2.forEach(n -&gt; System.out.println(n));\r\n      }\r\n    }\r\n\r\n**Output:**\r\n\r\n    $ javac Foo.java\r\n    $ java Foo\r\n    0\r\n    10\r\n    20\r\n    30\r\n    40\r\n    50\r\n    60\r\n    70\r\n    80\r\n    90\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\r\n    \tat java.util.stream.AbstractPipeline.&lt;init&gt;(AbstractPipeline.java:203)\r\n    \tat java.util.stream.IntPipeline.&lt;init&gt;(IntPipeline.java:91)\r\n    \tat java.util.stream.IntPipeline$StatelessOp.&lt;init&gt;(IntPipeline.java:592)\r\n    \tat java.util.stream.IntPipeline$9.&lt;init&gt;(IntPipeline.java:332)\r\n    \tat java.util.stream.IntPipeline.filter(IntPipeline.java:331)\r\n    \tat Foo.main(Foo.java:8)\r\n\r\n","title":"Can I duplicate a Stream in Java 8?","body":"<p><strong>Update:</strong> This <strong>doesn't</strong> work. See explanation below, after the text of the original answer.</p>\n\n<p>How silly of me. All that I need to do is:</p>\n\n<pre><code>Stream desired_stream = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\nStream stream14 = desired_stream.filter(n -&gt; n % 7 == 0); // multiples of 14\nStream stream10 = desired_stream.filter(n -&gt; n % 5 == 0); // multiples of 10\n</code></pre>\n\n<p><strong>Explanation why this does not work:</strong></p>\n\n<p>If you code it up and try to collect both streams, the first one will collect fine, but trying to stream the second one will throw the exception: <code>java.lang.IllegalStateException: stream has already been operated upon or closed</code>.</p>\n\n<p>To elaborate, streams are stateful objects (which by the way cannot be reset or rewound). You can think of them as iterators, which in turn are like pointers. So <code>stream14</code> and <code>stream10</code> can be thought of as references to the same pointer. Consuming the first stream all the way will cause the pointer to go \"past the end.\" Trying to consume the second stream is like trying to access a pointer that is already \"past the end,\" Which naturally is an illegal operation.</p>\n\n<p>As the accepted answer shows, the code to create the stream must be executed twice but it can be compartmentalized into a <code>Supplier</code> lambda or a similar construct.</p>\n\n<p><strong>Full test code:</strong> save into <code>Foo.java</code>, then <code>javac Foo.java</code>, then <code>java Foo</code></p>\n\n<pre><code>import java.util.stream.IntStream;\n\npublic class Foo {\n  public static void main (String [] args) {\n    IntStream s = IntStream.range(0, 100).filter(n -&gt; n % 2 == 0);\n    IntStream s1 = s.filter(n -&gt; n % 5 == 0);\n    s1.forEach(n -&gt; System.out.println(n));\n    IntStream s2 = s.filter(n -&gt; n % 7 == 0);\n    s2.forEach(n -&gt; System.out.println(n));\n  }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$ javac Foo.java\n$ java Foo\n0\n10\n20\n30\n40\n50\n60\n70\n80\n90\nException in thread \"main\" java.lang.IllegalStateException: stream has already been operated upon or closed\n    at java.util.stream.AbstractPipeline.&lt;init&gt;(AbstractPipeline.java:203)\n    at java.util.stream.IntPipeline.&lt;init&gt;(IntPipeline.java:91)\n    at java.util.stream.IntPipeline$StatelessOp.&lt;init&gt;(IntPipeline.java:592)\n    at java.util.stream.IntPipeline$9.&lt;init&gt;(IntPipeline.java:332)\n    at java.util.stream.IntPipeline.filter(IntPipeline.java:331)\n    at Foo.main(Foo.java:8)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":1,"creation_date":1404035110,"post_id":24474878,"comment_id":37881246,"body_markdown":"Thanks, I realized there is a simpler answer (see my own answer); Collecting the stream is not quite memory efficient and simply wouldn&#39;t work for infinite streams.","body":"Thanks, I realized there is a simpler answer (see my own answer); Collecting the stream is not quite memory efficient and simply wouldn&#39;t work for infinite streams."},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1404035248,"post_id":24474878,"comment_id":37881278,"body_markdown":"You answer doesn&#39;t involve _processing_ the streams. From your question I understood that you wanted to take a single stream and say, collect it to a `Map` and also `sum()` it. You are just taking about setting up pipelines.","body":"You answer doesn&#39;t involve <i>processing</i> the streams. From your question I understood that you wanted to take a single stream and say, collect it to a <code>Map</code> and also <code>sum()</code> it. You are just taking about setting up pipelines."}],"tags":[],"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1404034975,"creation_date":1404034975,"answer_id":24474878,"question_id":24474838,"body_markdown":"Either,\r\n\r\n - Move the initialisation into a method, and simply call the method again\r\n\r\nThis has the advantage of being explicit about what you are doing, and also works for infinite streams.\r\n\r\n - Collect the stream and then re-stream it\r\n\r\nIn your example:\r\n\r\n    final int[] arr = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).toArray();\r\n\r\nThen\r\n\r\n    final IntStream s = IntStream.of(arr);","title":"Can I duplicate a Stream in Java 8?","body":"<p>Either,</p>\n\n<ul>\n<li>Move the initialisation into a method, and simply call the method again</li>\n</ul>\n\n<p>This has the advantage of being explicit about what you are doing, and also works for infinite streams.</p>\n\n<ul>\n<li>Collect the stream and then re-stream it</li>\n</ul>\n\n<p>In your example:</p>\n\n<pre><code>final int[] arr = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).toArray();\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>final IntStream s = IntStream.of(arr);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":2,"creation_date":1404094058,"post_id":24481672,"comment_id":37895183,"body_markdown":"+1 awesome answer; will likely accept and link to the currently accepted answer as a specific example of point &quot;B.&quot;","body":"+1 awesome answer; will likely accept and link to the currently accepted answer as a specific example of point &quot;B.&quot;"},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":3,"creation_date":1404094240,"post_id":24481672,"comment_id":37895219,"body_markdown":"a blocking queue would be one solution that allows bounded storage problem where a reader to the first stream would be blocked until the second stream is consumed. naturally, not always applicable but might work for some use cases esp. with a large buffer.","body":"a blocking queue would be one solution that allows bounded storage problem where a reader to the first stream would be blocked until the second stream is consumed. naturally, not always applicable but might work for some use cases esp. with a large buffer."},{"owner":{"account_id":2647040,"reputation":20641,"user_id":2289509,"display_name":"Elazar"},"score":1,"creation_date":1504792599,"post_id":24481672,"comment_id":79158443,"body_markdown":"Note that you might be able to compress the `n2 - n1` elements, although I don&#39;t believe it to be practical too often.","body":"Note that you might be able to compress the <code>n2 - n1</code> elements, although I don&#39;t believe it to be practical too often."},{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":1,"creation_date":1594662644,"post_id":24481672,"comment_id":111197844,"body_markdown":"When I have encountered this type of problem (not so often as I am relatively new to java.streams!) my initial instinct was to go for Option A. However I always felt uneasy about this, it seems like we are moving out of the streams world, then back in again ... just for the sake of duplication.  \nI *think* I&#39;m much in favour of option B. I&#39;m using it in my project and it looks to be working as desired.  \nOn the face of it maybe processing has to be duplicated, I guess this is more a question for the authors of the Streams API??","body":"When I have encountered this type of problem (not so often as I am relatively new to java.streams!) my initial instinct was to go for Option A. However I always felt uneasy about this, it seems like we are moving out of the streams world, then back in again ... just for the sake of duplication.   I <i>think</i> I&#39;m much in favour of option B. I&#39;m using it in my project and it looks to be working as desired.   On the face of it maybe processing has to be duplicated, I guess this is more a question for the authors of the Streams API??"}],"tags":[],"owner":{"account_id":2647040,"reputation":20641,"user_id":2289509,"display_name":"Elazar"},"comment_count":4,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1594666509,"creation_date":1404089654,"answer_id":24481672,"question_id":24474838,"body_markdown":"It is not possible in general.\r\n\r\nIf you want to duplicate an input stream, or input iterator, you have two options:\r\n\r\n### A. Keep everything in a collection, say a `List&lt;&gt;`\r\n\r\nSuppose you duplicate a stream into two streams `s1` and `s2`. If you have advanced `n1` elements in `s1` and `n2` elements with `s2`, you must keep `|n2 - n1|` elements in memory, just to keep pace. If your stream is infinite, there may be no upper bound for the storage required.\r\n\r\nTake a look at Python&#39;s [`tee()`](https://docs.python.org/3/library/itertools.html#itertools.tee) to see what it takes:\r\n\r\n&gt; This itertool may require significant auxiliary storage (depending on how much temporary data needs to be stored). In general, if one iterator uses most or all of the data before another iterator starts, it is faster to use `list()` instead of `tee()`.\r\n\r\n### B. When possible: Copy the state of the generator that creates the elements\r\n\r\nFor this option to work, you&#39;ll probably need access to the inner workings of the stream. In other words, the generator - the part that creates the elements - should support copying in the first place. [OP: See this [**great answer**][1], as an example of how this can be done for the example in the question]\r\n\r\nIt will not work on input from the user, since you&#39;ll have to copy the state of the entire &quot;outside world&quot;. Java&#39;s `Stream` do not support copying, since it is designed to be as general as possible; for example, to work with files, network, keyboard, sensors, randomness etc. [OP: Another example is a stream that reads a temperature sensor on demand. It cannot be duplicated without storing a copy of the readings]\r\n\r\nThis is not only the case in Java; this is a general rule. You can see that [`std::istream`](http://www.cplusplus.com/reference/istream/istream/istream/) in C++ only supports move semantics, not copy semantics (&quot;copy constructor (deleted)&quot;), for this reason (and others). \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24474871/621338","title":"Can I duplicate a Stream in Java 8?","body":"<p>It is not possible in general.</p>\n<p>If you want to duplicate an input stream, or input iterator, you have two options:</p>\n<h3>A. Keep everything in a collection, say a <code>List&lt;&gt;</code></h3>\n<p>Suppose you duplicate a stream into two streams <code>s1</code> and <code>s2</code>. If you have advanced <code>n1</code> elements in <code>s1</code> and <code>n2</code> elements with <code>s2</code>, you must keep <code>|n2 - n1|</code> elements in memory, just to keep pace. If your stream is infinite, there may be no upper bound for the storage required.</p>\n<p>Take a look at Python's <a href=\"https://docs.python.org/3/library/itertools.html#itertools.tee\" rel=\"noreferrer\"><code>tee()</code></a> to see what it takes:</p>\n<blockquote>\n<p>This itertool may require significant auxiliary storage (depending on how much temporary data needs to be stored). In general, if one iterator uses most or all of the data before another iterator starts, it is faster to use <code>list()</code> instead of <code>tee()</code>.</p>\n</blockquote>\n<h3>B. When possible: Copy the state of the generator that creates the elements</h3>\n<p>For this option to work, you'll probably need access to the inner workings of the stream. In other words, the generator - the part that creates the elements - should support copying in the first place. [OP: See this <a href=\"https://stackoverflow.com/a/24474871/621338\"><strong>great answer</strong></a>, as an example of how this can be done for the example in the question]</p>\n<p>It will not work on input from the user, since you'll have to copy the state of the entire &quot;outside world&quot;. Java's <code>Stream</code> do not support copying, since it is designed to be as general as possible; for example, to work with files, network, keyboard, sensors, randomness etc. [OP: Another example is a stream that reads a temperature sensor on demand. It cannot be duplicated without storing a copy of the readings]</p>\n<p>This is not only the case in Java; this is a general rule. You can see that <a href=\"http://www.cplusplus.com/reference/istream/istream/istream/\" rel=\"noreferrer\"><code>std::istream</code></a> in C++ only supports move semantics, not copy semantics (&quot;copy constructor (deleted)&quot;), for this reason (and others).</p>\n"},{"comments":[{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":4,"creation_date":1411469708,"post_id":25976687,"comment_id":40705071,"body_markdown":"Thanks but the currently accepted answer does state: &quot;If you have advanced n1 elements in s1 and n2 elements with s2, you have to keep |n2 - n1| elements in memory, just to keep pace. If your stream is infinite, there will be no upper bound for the storage required.&quot;","body":"Thanks but the currently accepted answer does state: &quot;If you have advanced n1 elements in s1 and n2 elements with s2, you have to keep |n2 - n1| elements in memory, just to keep pace. If your stream is infinite, there will be no upper bound for the storage required.&quot;"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1411477402,"creation_date":1411396454,"answer_id":25976687,"question_id":24474838,"body_markdown":"It&#39;s possible if you&#39;re buffering elements that you&#39;ve consumed in one duplicate, but not in the other yet.\r\n\r\nWe&#39;ve implemented a `duplicate()` method for streams in [jOOλ][1], an Open Source library that we created to improve integration testing for [jOOQ][2]. Essentially, you can just write:\r\n\r\n    Tuple2&lt;Seq&lt;Integer&gt;, Seq&lt;Integer&gt;&gt; desired_streams = Seq.seq(\r\n        IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed()\r\n    ).duplicate();\r\n\r\n&lt;sub&gt;(note: we currently need to box the stream, as we haven&#39;t implemented an `IntSeq` yet)&lt;/sub&gt;\r\n\r\nInternally, there is a `LinkedList` buffer storing all values that have been consumed from one stream but not from the other. That&#39;s probably as efficient as it gets if your two streams are consumed about at the same rate.\r\n\r\nHere&#39;s how the algorithm works:\r\n\r\n    static &lt;T&gt; Tuple2&lt;Seq&lt;T&gt;, Seq&lt;T&gt;&gt; duplicate(Stream&lt;T&gt; stream) {\r\n        final LinkedList&lt;T&gt; gap = new LinkedList&lt;&gt;();\r\n        final Iterator&lt;T&gt; it = stream.iterator();\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        final Iterator&lt;T&gt;[] ahead = new Iterator[] { null };\r\n\r\n        class Duplicate implements Iterator&lt;T&gt; {\r\n            @Override\r\n            public boolean hasNext() {\r\n                if (ahead[0] == null || ahead[0] == this)\r\n                    return it.hasNext();\r\n\r\n                return !gap.isEmpty();\r\n            }\r\n\r\n            @Override\r\n            public T next() {\r\n                if (ahead[0] == null)\r\n                    ahead[0] = this;\r\n\r\n                if (ahead[0] == this) {\r\n                    T value = it.next();\r\n                    gap.offer(value);\r\n                    return value;\r\n                }\r\n\r\n                return gap.poll();\r\n            }\r\n        }\r\n\r\n        return tuple(seq(new Duplicate()), seq(new Duplicate()));\r\n    }\r\n\r\n[More source code here][3]\r\n\r\nIn fact, using [jOOλ][1], you&#39;ll be able to write a complete one-liner like so:\r\n\r\n    Tuple2&lt;Seq&lt;Integer&gt;, Seq&lt;Integer&gt;&gt; desired_streams = Seq.seq(\r\n        IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed()\r\n    ).duplicate()\r\n     .map1(s -&gt; s.filter(n -&gt; n % 7 == 0))\r\n     .map2(s -&gt; s.filter(n -&gt; n % 5 == 0));\r\n\r\n    // This will yield 14, 28, 42, 56...\r\n    desired_streams.v1.forEach(System.out::println)\r\n\r\n    // This will yield 10, 20, 30, 40...\r\n    desired_streams.v2.forEach(System.out::println);\r\n\r\n  [1]: https://github.com/jOOQ/jOOL\r\n  [2]: http://www.jooq.org\r\n  [3]: https://github.com/jOOQ/jOOL/blob/master/src/main/java/org/jooq/lambda/Seq.java","title":"Can I duplicate a Stream in Java 8?","body":"<p>It's possible if you're buffering elements that you've consumed in one duplicate, but not in the other yet.</p>\n\n<p>We've implemented a <code>duplicate()</code> method for streams in <a href=\"https://github.com/jOOQ/jOOL\" rel=\"noreferrer\">jOOλ</a>, an Open Source library that we created to improve integration testing for <a href=\"http://www.jooq.org\" rel=\"noreferrer\">jOOQ</a>. Essentially, you can just write:</p>\n\n<pre><code>Tuple2&lt;Seq&lt;Integer&gt;, Seq&lt;Integer&gt;&gt; desired_streams = Seq.seq(\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed()\n).duplicate();\n</code></pre>\n\n<p><sub>(note: we currently need to box the stream, as we haven't implemented an <code>IntSeq</code> yet)</sub></p>\n\n<p>Internally, there is a <code>LinkedList</code> buffer storing all values that have been consumed from one stream but not from the other. That's probably as efficient as it gets if your two streams are consumed about at the same rate.</p>\n\n<p>Here's how the algorithm works:</p>\n\n<pre><code>static &lt;T&gt; Tuple2&lt;Seq&lt;T&gt;, Seq&lt;T&gt;&gt; duplicate(Stream&lt;T&gt; stream) {\n    final LinkedList&lt;T&gt; gap = new LinkedList&lt;&gt;();\n    final Iterator&lt;T&gt; it = stream.iterator();\n\n    @SuppressWarnings(\"unchecked\")\n    final Iterator&lt;T&gt;[] ahead = new Iterator[] { null };\n\n    class Duplicate implements Iterator&lt;T&gt; {\n        @Override\n        public boolean hasNext() {\n            if (ahead[0] == null || ahead[0] == this)\n                return it.hasNext();\n\n            return !gap.isEmpty();\n        }\n\n        @Override\n        public T next() {\n            if (ahead[0] == null)\n                ahead[0] = this;\n\n            if (ahead[0] == this) {\n                T value = it.next();\n                gap.offer(value);\n                return value;\n            }\n\n            return gap.poll();\n        }\n    }\n\n    return tuple(seq(new Duplicate()), seq(new Duplicate()));\n}\n</code></pre>\n\n<p><a href=\"https://github.com/jOOQ/jOOL/blob/master/src/main/java/org/jooq/lambda/Seq.java\" rel=\"noreferrer\">More source code here</a></p>\n\n<p>In fact, using <a href=\"https://github.com/jOOQ/jOOL\" rel=\"noreferrer\">jOOλ</a>, you'll be able to write a complete one-liner like so:</p>\n\n<pre><code>Tuple2&lt;Seq&lt;Integer&gt;, Seq&lt;Integer&gt;&gt; desired_streams = Seq.seq(\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed()\n).duplicate()\n .map1(s -&gt; s.filter(n -&gt; n % 7 == 0))\n .map2(s -&gt; s.filter(n -&gt; n % 5 == 0));\n\n// This will yield 14, 28, 42, 56...\ndesired_streams.v1.forEach(System.out::println)\n\n// This will yield 10, 20, 30, 40...\ndesired_streams.v2.forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7944415,"reputation":95,"user_id":5997360,"display_name":"Tomasz GORKA"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1465569864,"creation_date":1465569864,"answer_id":37751103,"question_id":24474838,"body_markdown":"You can also move the stream generation into separate method/function that returns this stream and call it twice.","title":"Can I duplicate a Stream in Java 8?","body":"<p>You can also move the stream generation into separate method/function that returns this stream and call it twice.</p>\n"},{"comments":[{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":1,"creation_date":1544160822,"post_id":53519564,"comment_id":94185362,"body_markdown":"Thanks, but the spirit of the question was to `tee` a stream for which the source is inaccessible, or indeterminate such as stdin. It is adequately clear to me now that the cost of such teeing stems primarily from differences in the rate of effective consumption. e. g. if one consumer runs far ahead of the other, the difference needs to be buffered separately and additionally.","body":"Thanks, but the spirit of the question was to <code>tee</code> a stream for which the source is inaccessible, or indeterminate such as stdin. It is adequately clear to me now that the cost of such teeing stems primarily from differences in the rate of effective consumption. e. g. if one consumer runs far ahead of the other, the difference needs to be buffered separately and additionally."}],"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543408375,"creation_date":1543408375,"answer_id":53519564,"question_id":24474838,"body_markdown":"For non-infinite streams, if you have access to the source, its straight forward:\r\n\r\n    @Test\r\n    public void testName() throws Exception {\r\n        List&lt;Integer&gt; integers = Arrays.asList(1, 2, 4, 5, 6, 7, 8, 9, 10);\r\n        Stream&lt;Integer&gt; stream1 = integers.stream();\r\n        Stream&lt;Integer&gt; stream2 = integers.stream();\r\n\r\n        stream1.forEach(System.out::println);\r\n        stream2.forEach(System.out::println);\r\n    }\r\n\r\n\r\n&gt; prints\r\n\r\n&gt; 1\r\n2\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n\r\n&gt;1\r\n2\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n\r\nFor your case:\r\n\r\n\r\n    Stream originalStream = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0)\r\n    \r\n    List&lt;Integer&gt; listOf = originalStream.collect(Collectors.toList())\r\n    \r\n    Stream stream14 = listOf.stream().filter(n -&gt; n % 7 == 0);\r\n    Stream stream10 = listOf.stream().filter(n -&gt; n % 5 == 0);\r\n\r\n\r\nFor performance etc, read someone else&#39;s answer ;)","title":"Can I duplicate a Stream in Java 8?","body":"<p>For non-infinite streams, if you have access to the source, its straight forward:</p>\n\n<pre><code>@Test\npublic void testName() throws Exception {\n    List&lt;Integer&gt; integers = Arrays.asList(1, 2, 4, 5, 6, 7, 8, 9, 10);\n    Stream&lt;Integer&gt; stream1 = integers.stream();\n    Stream&lt;Integer&gt; stream2 = integers.stream();\n\n    stream1.forEach(System.out::println);\n    stream2.forEach(System.out::println);\n}\n</code></pre>\n\n<blockquote>\n  <p>prints</p>\n  \n  <p>1\n  2\n  4\n  5\n  6\n  7\n  8\n  9\n  10</p>\n  \n  <p>1\n  2\n  4\n  5\n  6\n  7\n  8\n  9\n  10</p>\n</blockquote>\n\n<p>For your case:</p>\n\n<pre><code>Stream originalStream = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0)\n\nList&lt;Integer&gt; listOf = originalStream.collect(Collectors.toList())\n\nStream stream14 = listOf.stream().filter(n -&gt; n % 7 == 0);\nStream stream10 = listOf.stream().filter(n -&gt; n % 5 == 0);\n</code></pre>\n\n<p>For performance etc, read someone else's answer ;)</p>\n"},{"tags":[],"owner":{"account_id":8775911,"reputation":11,"user_id":6561198,"display_name":"Azazell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592645530,"creation_date":1592583261,"answer_id":62474408,"question_id":24474838,"body_markdown":"I used [this][1] great answer to write following class:\r\n\r\n[1]: https://stackoverflow.com/a/24474871/6561198\r\n```\r\npublic class SplitStream&lt;T&gt; implements Stream&lt;T&gt; {\r\n    private final Supplier&lt;Stream&lt;T&gt;&gt; streamSupplier;\r\n\r\n    public SplitStream(Supplier&lt;Stream&lt;T&gt;&gt; t) {\r\n        this.streamSupplier = t;\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate) {\r\n        return streamSupplier.get().filter(predicate);\r\n    }\r\n\r\n    @Override\r\n    public &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper) {\r\n        return streamSupplier.get().map(mapper);\r\n    }\r\n\r\n    @Override\r\n    public IntStream mapToInt(ToIntFunction&lt;? super T&gt; mapper) {\r\n        return streamSupplier.get().mapToInt(mapper);\r\n    }\r\n\r\n    @Override\r\n    public LongStream mapToLong(ToLongFunction&lt;? super T&gt; mapper) {\r\n        return streamSupplier.get().mapToLong(mapper);\r\n    }\r\n\r\n    @Override\r\n    public DoubleStream mapToDouble(ToDoubleFunction&lt;? super T&gt; mapper) {\r\n        return streamSupplier.get().mapToDouble(mapper);\r\n    }\r\n\r\n    @Override\r\n    public &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper) {\r\n        return streamSupplier.get().flatMap(mapper);\r\n    }\r\n\r\n    @Override\r\n    public IntStream flatMapToInt(Function&lt;? super T, ? extends IntStream&gt; mapper) {\r\n        return streamSupplier.get().flatMapToInt(mapper);\r\n    }\r\n\r\n    @Override\r\n    public LongStream flatMapToLong(Function&lt;? super T, ? extends LongStream&gt; mapper) {\r\n        return streamSupplier.get().flatMapToLong(mapper);\r\n    }\r\n\r\n    @Override\r\n    public DoubleStream flatMapToDouble(Function&lt;? super T, ? extends DoubleStream&gt; mapper) {\r\n        return streamSupplier.get().flatMapToDouble(mapper);\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; distinct() {\r\n        return streamSupplier.get().distinct();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; sorted() {\r\n        return streamSupplier.get().sorted();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator) {\r\n        return streamSupplier.get().sorted(comparator);\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; peek(Consumer&lt;? super T&gt; action) {\r\n        return streamSupplier.get().peek(action);\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; limit(long maxSize) {\r\n        return streamSupplier.get().limit(maxSize);\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; skip(long n) {\r\n        return streamSupplier.get().skip(n);\r\n    }\r\n\r\n    @Override\r\n    public void forEach(Consumer&lt;? super T&gt; action) {\r\n        streamSupplier.get().forEach(action);\r\n    }\r\n\r\n    @Override\r\n    public void forEachOrdered(Consumer&lt;? super T&gt; action) {\r\n        streamSupplier.get().forEachOrdered(action);\r\n    }\r\n\r\n    @Override\r\n    public Object[] toArray() {\r\n        return streamSupplier.get().toArray();\r\n    }\r\n\r\n    @Override\r\n    public &lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator) {\r\n        return streamSupplier.get().toArray(generator);\r\n    }\r\n\r\n    @Override\r\n    public T reduce(T identity, BinaryOperator&lt;T&gt; accumulator) {\r\n        return streamSupplier.get().reduce(identity, accumulator);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator) {\r\n        return streamSupplier.get().reduce(accumulator);\r\n    }\r\n\r\n    @Override\r\n    public &lt;U&gt; U reduce(U identity, BiFunction&lt;U, ? super T, U&gt; accumulator, BinaryOperator&lt;U&gt; combiner) {\r\n        return streamSupplier.get().reduce(identity, accumulator, combiner);\r\n    }\r\n\r\n    @Override\r\n    public &lt;R&gt; R collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator, BiConsumer&lt;R, R&gt; combiner) {\r\n        return streamSupplier.get().collect(supplier, accumulator, combiner);\r\n    }\r\n\r\n    @Override\r\n    public &lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector) {\r\n        return streamSupplier.get().collect(collector);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; min(Comparator&lt;? super T&gt; comparator) {\r\n        return streamSupplier.get().min(comparator);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; max(Comparator&lt;? super T&gt; comparator) {\r\n        return streamSupplier.get().max(comparator);\r\n    }\r\n\r\n    @Override\r\n    public long count() {\r\n        return streamSupplier.get().count();\r\n    }\r\n\r\n    @Override\r\n    public boolean anyMatch(Predicate&lt;? super T&gt; predicate) {\r\n        return streamSupplier.get().anyMatch(predicate);\r\n    }\r\n\r\n    @Override\r\n    public boolean allMatch(Predicate&lt;? super T&gt; predicate) {\r\n        return streamSupplier.get().allMatch(predicate);\r\n    }\r\n\r\n    @Override\r\n    public boolean noneMatch(Predicate&lt;? super T&gt; predicate) {\r\n        return streamSupplier.get().noneMatch(predicate);\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findFirst() {\r\n        return streamSupplier.get().findFirst();\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findAny() {\r\n        return streamSupplier.get().findAny();\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return streamSupplier.get().iterator();\r\n    }\r\n\r\n    @Override\r\n    public Spliterator&lt;T&gt; spliterator() {\r\n        return streamSupplier.get().spliterator();\r\n    }\r\n\r\n    @Override\r\n    public boolean isParallel() {\r\n        return streamSupplier.get().isParallel();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; sequential() {\r\n        return streamSupplier.get().sequential();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; parallel() {\r\n        return streamSupplier.get().parallel();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; unordered() {\r\n        return streamSupplier.get().unordered();\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;T&gt; onClose(Runnable closeHandler) {\r\n        return streamSupplier.get().onClose(closeHandler);\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        streamSupplier.get().close();\r\n    }\r\n}\r\n```\r\n\r\nWhen you call any method of it&#39;s class, it delegates call to  \r\n```\r\nstreamSupplier.get()\r\n```\r\n\r\nSo, instead of:\r\n```\r\nSupplier&lt;IntStream&gt; supplier = () -&gt;\r\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\r\nsupplier.get().filter(...);\r\nsupplier.get().filter(...);\r\n```\r\n\r\nYou can do:\r\n```\r\nSplitStream&lt;Integer&gt; stream = \r\n    new SplitStream&lt;&gt;(() -&gt; IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed());\r\nstream.filter(...);\r\nstream.filter(...);\r\n```\r\n\r\nYou can expand it to work with IntStream, DoubleStream, etc...","title":"Can I duplicate a Stream in Java 8?","body":"<p>I used <a href=\"https://stackoverflow.com/a/24474871/6561198\">this</a> great answer to write following class:</p>\n<pre><code>public class SplitStream&lt;T&gt; implements Stream&lt;T&gt; {\n    private final Supplier&lt;Stream&lt;T&gt;&gt; streamSupplier;\n\n    public SplitStream(Supplier&lt;Stream&lt;T&gt;&gt; t) {\n        this.streamSupplier = t;\n    }\n\n    @Override\n    public Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate) {\n        return streamSupplier.get().filter(predicate);\n    }\n\n    @Override\n    public &lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper) {\n        return streamSupplier.get().map(mapper);\n    }\n\n    @Override\n    public IntStream mapToInt(ToIntFunction&lt;? super T&gt; mapper) {\n        return streamSupplier.get().mapToInt(mapper);\n    }\n\n    @Override\n    public LongStream mapToLong(ToLongFunction&lt;? super T&gt; mapper) {\n        return streamSupplier.get().mapToLong(mapper);\n    }\n\n    @Override\n    public DoubleStream mapToDouble(ToDoubleFunction&lt;? super T&gt; mapper) {\n        return streamSupplier.get().mapToDouble(mapper);\n    }\n\n    @Override\n    public &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper) {\n        return streamSupplier.get().flatMap(mapper);\n    }\n\n    @Override\n    public IntStream flatMapToInt(Function&lt;? super T, ? extends IntStream&gt; mapper) {\n        return streamSupplier.get().flatMapToInt(mapper);\n    }\n\n    @Override\n    public LongStream flatMapToLong(Function&lt;? super T, ? extends LongStream&gt; mapper) {\n        return streamSupplier.get().flatMapToLong(mapper);\n    }\n\n    @Override\n    public DoubleStream flatMapToDouble(Function&lt;? super T, ? extends DoubleStream&gt; mapper) {\n        return streamSupplier.get().flatMapToDouble(mapper);\n    }\n\n    @Override\n    public Stream&lt;T&gt; distinct() {\n        return streamSupplier.get().distinct();\n    }\n\n    @Override\n    public Stream&lt;T&gt; sorted() {\n        return streamSupplier.get().sorted();\n    }\n\n    @Override\n    public Stream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator) {\n        return streamSupplier.get().sorted(comparator);\n    }\n\n    @Override\n    public Stream&lt;T&gt; peek(Consumer&lt;? super T&gt; action) {\n        return streamSupplier.get().peek(action);\n    }\n\n    @Override\n    public Stream&lt;T&gt; limit(long maxSize) {\n        return streamSupplier.get().limit(maxSize);\n    }\n\n    @Override\n    public Stream&lt;T&gt; skip(long n) {\n        return streamSupplier.get().skip(n);\n    }\n\n    @Override\n    public void forEach(Consumer&lt;? super T&gt; action) {\n        streamSupplier.get().forEach(action);\n    }\n\n    @Override\n    public void forEachOrdered(Consumer&lt;? super T&gt; action) {\n        streamSupplier.get().forEachOrdered(action);\n    }\n\n    @Override\n    public Object[] toArray() {\n        return streamSupplier.get().toArray();\n    }\n\n    @Override\n    public &lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator) {\n        return streamSupplier.get().toArray(generator);\n    }\n\n    @Override\n    public T reduce(T identity, BinaryOperator&lt;T&gt; accumulator) {\n        return streamSupplier.get().reduce(identity, accumulator);\n    }\n\n    @Override\n    public Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator) {\n        return streamSupplier.get().reduce(accumulator);\n    }\n\n    @Override\n    public &lt;U&gt; U reduce(U identity, BiFunction&lt;U, ? super T, U&gt; accumulator, BinaryOperator&lt;U&gt; combiner) {\n        return streamSupplier.get().reduce(identity, accumulator, combiner);\n    }\n\n    @Override\n    public &lt;R&gt; R collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator, BiConsumer&lt;R, R&gt; combiner) {\n        return streamSupplier.get().collect(supplier, accumulator, combiner);\n    }\n\n    @Override\n    public &lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector) {\n        return streamSupplier.get().collect(collector);\n    }\n\n    @Override\n    public Optional&lt;T&gt; min(Comparator&lt;? super T&gt; comparator) {\n        return streamSupplier.get().min(comparator);\n    }\n\n    @Override\n    public Optional&lt;T&gt; max(Comparator&lt;? super T&gt; comparator) {\n        return streamSupplier.get().max(comparator);\n    }\n\n    @Override\n    public long count() {\n        return streamSupplier.get().count();\n    }\n\n    @Override\n    public boolean anyMatch(Predicate&lt;? super T&gt; predicate) {\n        return streamSupplier.get().anyMatch(predicate);\n    }\n\n    @Override\n    public boolean allMatch(Predicate&lt;? super T&gt; predicate) {\n        return streamSupplier.get().allMatch(predicate);\n    }\n\n    @Override\n    public boolean noneMatch(Predicate&lt;? super T&gt; predicate) {\n        return streamSupplier.get().noneMatch(predicate);\n    }\n\n    @Override\n    public Optional&lt;T&gt; findFirst() {\n        return streamSupplier.get().findFirst();\n    }\n\n    @Override\n    public Optional&lt;T&gt; findAny() {\n        return streamSupplier.get().findAny();\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return streamSupplier.get().iterator();\n    }\n\n    @Override\n    public Spliterator&lt;T&gt; spliterator() {\n        return streamSupplier.get().spliterator();\n    }\n\n    @Override\n    public boolean isParallel() {\n        return streamSupplier.get().isParallel();\n    }\n\n    @Override\n    public Stream&lt;T&gt; sequential() {\n        return streamSupplier.get().sequential();\n    }\n\n    @Override\n    public Stream&lt;T&gt; parallel() {\n        return streamSupplier.get().parallel();\n    }\n\n    @Override\n    public Stream&lt;T&gt; unordered() {\n        return streamSupplier.get().unordered();\n    }\n\n    @Override\n    public Stream&lt;T&gt; onClose(Runnable closeHandler) {\n        return streamSupplier.get().onClose(closeHandler);\n    }\n\n    @Override\n    public void close() {\n        streamSupplier.get().close();\n    }\n}\n</code></pre>\n<p>When you call any method of it's class, it delegates call to</p>\n<pre><code>streamSupplier.get()\n</code></pre>\n<p>So, instead of:</p>\n<pre><code>Supplier&lt;IntStream&gt; supplier = () -&gt;\n    IntStream.range(1, 100).filter(n -&gt; n % 2 == 0);\nsupplier.get().filter(...);\nsupplier.get().filter(...);\n</code></pre>\n<p>You can do:</p>\n<pre><code>SplitStream&lt;Integer&gt; stream = \n    new SplitStream&lt;&gt;(() -&gt; IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).boxed());\nstream.filter(...);\nstream.filter(...);\n</code></pre>\n<p>You can expand it to work with IntStream, DoubleStream, etc...</p>\n"},{"tags":[],"owner":{"account_id":7180528,"reputation":31,"user_id":6127027,"display_name":"Clebio Vieira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616587801,"creation_date":1616587801,"answer_id":66780730,"question_id":24474838,"body_markdown":"I think that the use of Concat with an empty stream could attend your need.\r\nTry something like this: \r\n\r\n    Stream&lt;Integer&gt; concat = Stream.concat(Stream.of(1, 2), Stream.empty());","title":"Can I duplicate a Stream in Java 8?","body":"<p>I think that the use of Concat with an empty stream could attend your need.\nTry something like this:</p>\n<pre><code>Stream&lt;Integer&gt; concat = Stream.concat(Stream.of(1, 2), Stream.empty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11171121,"reputation":2994,"user_id":8198056,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1620849798,"creation_date":1620849798,"answer_id":67510307,"question_id":24474838,"body_markdown":"Starting with Java 12 we have `Collectors::teeing` that allows us to pass elements of the main stream pipeline to 2 or more downstream collectors.\r\n\r\nBased on your example we can do the following:\r\n\r\n    @Test\r\n    void shouldProcessStreamElementsInTwoSeparateDownstreams() {\r\n        class Result {\r\n            List&lt;Integer&gt; multiplesOf7;\r\n            List&lt;Integer&gt; multiplesOf5;\r\n\r\n            Result(List&lt;Integer&gt; multiplesOf7, List&lt;Integer&gt; multiplesOf5) {\r\n                this.multiplesOf7 = multiplesOf7;\r\n                this.multiplesOf5 = multiplesOf5;\r\n            }\r\n        }\r\n\r\n        var result = IntStream.range(1, 100)\r\n                .filter(n -&gt; n % 2 == 0)\r\n                .boxed()\r\n                .collect(Collectors.teeing(\r\n                        Collectors.filtering(n -&gt; n % 7 == 0, Collectors.toList()),\r\n                        Collectors.filtering(n -&gt; n % 5 == 0, Collectors.toList()),\r\n                        Result::new\r\n                ));\r\n\r\n        assertTrue(result.multiplesOf7.stream().allMatch(n -&gt; n % 7 == 0));\r\n        assertTrue(result.multiplesOf5.stream().allMatch( n -&gt; n % 5 == 0));\r\n    }\r\n\r\nThere are many other collectors that allows to do other things e.g. by using `Collectors::mapping` in downstream you can obtain two different objects/types from the same source as shown in [this article][1]. \r\n\r\n\r\n  [1]: https://adrian.md/2021/05/09/teeing-collector/","title":"Can I duplicate a Stream in Java 8?","body":"<p>Starting with Java 12 we have <code>Collectors::teeing</code> that allows us to pass elements of the main stream pipeline to 2 or more downstream collectors.</p>\n<p>Based on your example we can do the following:</p>\n<pre><code>@Test\nvoid shouldProcessStreamElementsInTwoSeparateDownstreams() {\n    class Result {\n        List&lt;Integer&gt; multiplesOf7;\n        List&lt;Integer&gt; multiplesOf5;\n\n        Result(List&lt;Integer&gt; multiplesOf7, List&lt;Integer&gt; multiplesOf5) {\n            this.multiplesOf7 = multiplesOf7;\n            this.multiplesOf5 = multiplesOf5;\n        }\n    }\n\n    var result = IntStream.range(1, 100)\n            .filter(n -&gt; n % 2 == 0)\n            .boxed()\n            .collect(Collectors.teeing(\n                    Collectors.filtering(n -&gt; n % 7 == 0, Collectors.toList()),\n                    Collectors.filtering(n -&gt; n % 5 == 0, Collectors.toList()),\n                    Result::new\n            ));\n\n    assertTrue(result.multiplesOf7.stream().allMatch(n -&gt; n % 7 == 0));\n    assertTrue(result.multiplesOf5.stream().allMatch( n -&gt; n % 5 == 0));\n}\n</code></pre>\n<p>There are many other collectors that allows to do other things e.g. by using <code>Collectors::mapping</code> in downstream you can obtain two different objects/types from the same source as shown in <a href=\"https://adrian.md/2021/05/09/teeing-collector/\" rel=\"noreferrer\">this article</a>.</p>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665251258,"creation_date":1664806227,"answer_id":73936705,"question_id":24474838,"body_markdown":"Straight answer is: yes\r\n\r\nThere&#39;s no specific support for this but one can implement it. The possible approaches that I see are these:  \r\na. copy the entire stream data and then create the stream copies based on it -&gt; the RAM consumption might be an impediment  \r\nb. read the stream and *relay* each of its elements to the copies -&gt; I&#39;ll detail this approach below\r\n\r\n**The Concept**\r\n\r\nLet&#39;s imagine `b.` solution:  \r\n`&lt;T&gt; List&lt;Stream&lt;T&gt;&gt; copyStream(int copiesCount, Stream&lt;T&gt; originalStream)`  \r\nallows one to create `copiesCount` copies of the `originalStream`.  \r\n\r\nTo understand the solution one has to understand the difference between a stream and the data-elements that might flow through it: for example an apple, a carrot and a potato would be data-elements while a pipe through which they move to reach some destination would be the stream. Copying a `Stream` it&#39;s as if creating more pipes: one has then to *connect* the original pipe (i.e. `originalStream`) to the additional ones (aka `streamCopies`); while in real world one can&#39;t pass an apple-object from one pipe to more pipes (i.e. `streamCopies`) in programming this is possible: just pass the variable containing the apple-object reference to the stream copies.  \r\n\r\n**Implementation Details**\r\n\r\nThe Java implementation of the `Stream` has a great impact on the solution&#39;s shape. First impact is related to what happens when data-elements flow through a stream (aka pipe): to actually read (&amp; process) the elements in a `Stream` a terminal method has to be used, e.g. `forEach`. In our case `originalStream.forEach` must be called so that each element is read and passed to the `streamCopies` (aka downstream pipes); this must happen before `copyStream()` method returns, which is bad because `forEach` would block till all `originalStream` elements are consumed. To solve this `copyStream()` implementation will spawn a thread in which to call `originalStream.forEach`. Consuming `originalStream` elements means passing them to the downstream pipes (i.e. `streamCopies`); because there&#39;s no cache one has to ensure that each `originalStream` element is transferred to each `streamCopies` before getting to the next one. This means that all `streamCopies` must consume the same time: if some `streamCopies` is not consuming it will block all other `streamCopies` because `originalStream` will stop transferring to downstream pipes till everyone consumed current element (aka it will cache nothing for the late `streamCopies` consumers). But to consume a `Stream` in Java implies calling a terminal operation on it (e.g. `forEach`) which blocks the execution till the entire stream is consumed; because we need all `streamCopies` to be consumed in parallel this must happen on a distinct thread for each! Well, as a miscellaneous fact, one of the `streamCopies` could in fact be consumed on the current (main) thread. Summarizing, the solution usage would look like below:  \r\n```java\r\nList&lt;Stream&lt;?&gt;&gt; streamCopies = copyStream(copiesCount, originalStream);`  \r\n// start a thread for each `streamCopies` into which consume the corresponding \r\n// stream copy (one of them could be consumed on the current thread though)\r\n// optionally join the consuming threads\r\n// continue your whatever business logic you have\r\n```\r\n\r\n**Final Considerations**\r\n \r\nSome of the limitations apparent above can be circumvented:  \r\n- the copying process is destructive, i.e. `originalStream` will be unusable after calling `copyStream()` because it&#39;ll be in a pending-consumption. If one really wants to consume it he can create an additional copy which to maybe consume on the current (main) thread (but only after starting the consumption of all other copies)\r\n- `streamCopies` must consume all received `originalStream` elements, otherwise, if one stops, the others block too (read the &quot;Implementation Details&quot; part again to understand why). This means each `streamCopies` element consumption must occur in a `try...catch` to ensure the lack of failures (aka processing stop). A production implementation would in fact circumvent this by wrapping each `Stream` copy with something overwriting `close()` method such that to remove the failed stream copy from the `originalStream`-to-`streamCopies` transfer logic (aka discard the underlying `blockingQueue` used for the communication between `originalStream` thread and `originalStream` thread -&gt; see the implementation below). This implies that the clients would be forced to `close` the `Stream` copies but that’s not so uncommon, e.g. see Spring’s `JDBCTemplate.queryForStream()` outcome having same requirement.   \r\n- as pointed before, each `streamCopies` terminal operation must be executed in a distinct thread - there&#39;s no workaround for this\r\n\r\n**The Code**\r\n\r\nBelow is the code implementing the `b.` solution and a test checking its correctness.\r\n\r\n```java\r\n@Test\r\nvoid streamCopyTest() throws ExecutionException, InterruptedException {\r\n\t// streamCopies are valid/normal Stream \r\n\t// instances (e.g. it is allowed to be infinite)\r\n\tList&lt;Stream&lt;String&gt;&gt; streamCopies = copyStream(3, Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;));\r\n    // The 3 copies relay on the original stream which can’t be\r\n    // consumed more than once! Consuming the copies one by one\r\n    // in the same thread isn’t possible because 1st consumed \r\n    // copy would leave nothing to consume for the others, \r\n    // so they must be consumed in parallel.\r\n\tExecutorService executorService = Executors.newCachedThreadPool();\r\n\tCompletableFuture&lt;?&gt;[] futures =\r\n\t\t\tstreamCopies.stream().map(stream -&gt; CompletableFuture.runAsync(() -&gt; {\r\n\t\t\t\t// the same consumption logic for all streamCopies is \r\n\t\t\t\t// used here because this is just an example; the \r\n\t\t\t\t// actual consumption logic could be distinct (and anything)\r\n\t\t\t\tString outcome = stream.collect(Collectors.joining(&quot;, &quot;));\r\n\t\t\t\t// check the thread name in the message to differentiate the outcome\r\n\t\t\t\tlog.info(&quot;\\n{}&quot;, outcome);\r\n\t\t\t}, executorService)).toArray(CompletableFuture[]::new);\r\n\tCompletableFuture.allOf(futures).get();\r\n\texecutorService.shutdown();\r\n}\r\n\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class StreamCopiesFactory {\r\n\r\n\t/**\r\n\t * The amount of elements to be stored in the blockingQueue used \r\n\t * to transfer elements from the original stream to its copies. \r\n\t * This is very different to the cache use for the a. solution:\r\n\t * here is about the transfer between original stream and its \r\n\t * copies instead of the entire original stream data-copy.\r\n\t * Change or make this configurable.\r\n\t */\r\n\tprivate static final int cacheSize = 1;\r\n\r\n\t/**\r\n\t * Each of these stream copies must execute (their terminal operation)\r\n\t * on a distinct thread! One of them could actually execute on the \r\n\t * main thread, but only after all the others were started on their \r\n\t * distinct thread.\r\n\t */\r\n\tpublic static &lt;T&gt; List&lt;Stream&lt;T&gt;&gt; copyStream(int copies, Stream&lt;T&gt; stream) {\r\n\t\tList&lt;BlockingQueue&lt;Object&gt;&gt; blockingQueues = new ArrayList&lt;&gt;(copies);\r\n\t\t// creating the queues used to relay the stream&#39;s elements to the stream&#39;s copies\r\n\t\tfor (int i = 0; i &lt; copies; i++) {\r\n\t\t\tblockingQueues.add(new LinkedBlockingQueue&lt;&gt;(cacheSize));\r\n\t\t}\r\n\t\t// consume the stream copies in a distinct thread, otherwise \r\n\t\t// bq.put (transferring for the next stream copy) would block  \r\n\t\t// because the 2nd stream copy isn&#39;t yet consuming \r\n\t\tExecutors.newSingleThreadExecutor().execute(() -&gt; {\r\n\t\t\tstream.forEach(streamElement -&gt; blockingQueues.forEach(bq -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tbq.put(streamElement);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tlog.error(e.getMessage(), e);\r\n\t\t\t\t\t// nothing to do here other than maybe simple optimization related to the\r\n\t\t\t\t\t// failed bq.put (e.g. sending END_SIGNAL into bq then skipping its next put calls)\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t\tblockingQueues.forEach(bq -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tbq.put(END_SIGNAL);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tlog.error(e.getMessage(), e);\r\n\t\t\t\t\t// nothing to do here\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t// creating the copies\r\n\t\t// A production implementation would wrap each Stream copy with \r\n\t\t// something overwriting close() which to remove from blockingQueues\r\n\t\t// the blockingQueue corresponding to the closed Stream.\r\n\t\treturn blockingQueues.stream().map(bq -&gt; new SpliteratorCopy&lt;T&gt;(bq))\r\n\t\t\t\t.map(spliterator -&gt; StreamSupport.stream(spliterator, false))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t}\r\n}\r\n\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class SpliteratorCopy&lt;T&gt; implements Spliterator&lt;T&gt; {\r\n\r\n\tpublic static final Object END_SIGNAL = new Object();\r\n\r\n\tprivate final BlockingQueue&lt;?&gt; blockingQueue;\r\n\r\n\t@Override\r\n\tpublic boolean tryAdvance(final Consumer&lt;? super T&gt; action) {\r\n\t\tObject nextElement;\r\n\t\ttry {\r\n\t\t\tnextElement = blockingQueue.take();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\tlog.error(e.getMessage(), e);\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\tif (nextElement == END_SIGNAL) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\taction.accept((T) nextElement);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Spliterator&lt;T&gt; trySplit() {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic long estimateSize() {\r\n\t\treturn Long.MAX_VALUE;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int characteristics() {\r\n\t\treturn Spliterator.ORDERED;\r\n\t}\r\n}\r\n```","title":"Can I duplicate a Stream in Java 8?","body":"<p>Straight answer is: yes</p>\n<p>There's no specific support for this but one can implement it. The possible approaches that I see are these:<br />\na. copy the entire stream data and then create the stream copies based on it -&gt; the RAM consumption might be an impediment<br />\nb. read the stream and <em>relay</em> each of its elements to the copies -&gt; I'll detail this approach below</p>\n<p><strong>The Concept</strong></p>\n<p>Let's imagine <code>b.</code> solution:<br />\n<code>&lt;T&gt; List&lt;Stream&lt;T&gt;&gt; copyStream(int copiesCount, Stream&lt;T&gt; originalStream)</code><br />\nallows one to create <code>copiesCount</code> copies of the <code>originalStream</code>.</p>\n<p>To understand the solution one has to understand the difference between a stream and the data-elements that might flow through it: for example an apple, a carrot and a potato would be data-elements while a pipe through which they move to reach some destination would be the stream. Copying a <code>Stream</code> it's as if creating more pipes: one has then to <em>connect</em> the original pipe (i.e. <code>originalStream</code>) to the additional ones (aka <code>streamCopies</code>); while in real world one can't pass an apple-object from one pipe to more pipes (i.e. <code>streamCopies</code>) in programming this is possible: just pass the variable containing the apple-object reference to the stream copies.</p>\n<p><strong>Implementation Details</strong></p>\n<p>The Java implementation of the <code>Stream</code> has a great impact on the solution's shape. First impact is related to what happens when data-elements flow through a stream (aka pipe): to actually read (&amp; process) the elements in a <code>Stream</code> a terminal method has to be used, e.g. <code>forEach</code>. In our case <code>originalStream.forEach</code> must be called so that each element is read and passed to the <code>streamCopies</code> (aka downstream pipes); this must happen before <code>copyStream()</code> method returns, which is bad because <code>forEach</code> would block till all <code>originalStream</code> elements are consumed. To solve this <code>copyStream()</code> implementation will spawn a thread in which to call <code>originalStream.forEach</code>. Consuming <code>originalStream</code> elements means passing them to the downstream pipes (i.e. <code>streamCopies</code>); because there's no cache one has to ensure that each <code>originalStream</code> element is transferred to each <code>streamCopies</code> before getting to the next one. This means that all <code>streamCopies</code> must consume the same time: if some <code>streamCopies</code> is not consuming it will block all other <code>streamCopies</code> because <code>originalStream</code> will stop transferring to downstream pipes till everyone consumed current element (aka it will cache nothing for the late <code>streamCopies</code> consumers). But to consume a <code>Stream</code> in Java implies calling a terminal operation on it (e.g. <code>forEach</code>) which blocks the execution till the entire stream is consumed; because we need all <code>streamCopies</code> to be consumed in parallel this must happen on a distinct thread for each! Well, as a miscellaneous fact, one of the <code>streamCopies</code> could in fact be consumed on the current (main) thread. Summarizing, the solution usage would look like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Stream&lt;?&gt;&gt; streamCopies = copyStream(copiesCount, originalStream);`  \n// start a thread for each `streamCopies` into which consume the corresponding \n// stream copy (one of them could be consumed on the current thread though)\n// optionally join the consuming threads\n// continue your whatever business logic you have\n</code></pre>\n<p><strong>Final Considerations</strong></p>\n<p>Some of the limitations apparent above can be circumvented:</p>\n<ul>\n<li>the copying process is destructive, i.e. <code>originalStream</code> will be unusable after calling <code>copyStream()</code> because it'll be in a pending-consumption. If one really wants to consume it he can create an additional copy which to maybe consume on the current (main) thread (but only after starting the consumption of all other copies)</li>\n<li><code>streamCopies</code> must consume all received <code>originalStream</code> elements, otherwise, if one stops, the others block too (read the &quot;Implementation Details&quot; part again to understand why). This means each <code>streamCopies</code> element consumption must occur in a <code>try...catch</code> to ensure the lack of failures (aka processing stop). A production implementation would in fact circumvent this by wrapping each <code>Stream</code> copy with something overwriting <code>close()</code> method such that to remove the failed stream copy from the <code>originalStream</code>-to-<code>streamCopies</code> transfer logic (aka discard the underlying <code>blockingQueue</code> used for the communication between <code>originalStream</code> thread and <code>originalStream</code> thread -&gt; see the implementation below). This implies that the clients would be forced to <code>close</code> the <code>Stream</code> copies but that’s not so uncommon, e.g. see Spring’s <code>JDBCTemplate.queryForStream()</code> outcome having same requirement.</li>\n<li>as pointed before, each <code>streamCopies</code> terminal operation must be executed in a distinct thread - there's no workaround for this</li>\n</ul>\n<p><strong>The Code</strong></p>\n<p>Below is the code implementing the <code>b.</code> solution and a test checking its correctness.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid streamCopyTest() throws ExecutionException, InterruptedException {\n    // streamCopies are valid/normal Stream \n    // instances (e.g. it is allowed to be infinite)\n    List&lt;Stream&lt;String&gt;&gt; streamCopies = copyStream(3, Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;));\n    // The 3 copies relay on the original stream which can’t be\n    // consumed more than once! Consuming the copies one by one\n    // in the same thread isn’t possible because 1st consumed \n    // copy would leave nothing to consume for the others, \n    // so they must be consumed in parallel.\n    ExecutorService executorService = Executors.newCachedThreadPool();\n    CompletableFuture&lt;?&gt;[] futures =\n            streamCopies.stream().map(stream -&gt; CompletableFuture.runAsync(() -&gt; {\n                // the same consumption logic for all streamCopies is \n                // used here because this is just an example; the \n                // actual consumption logic could be distinct (and anything)\n                String outcome = stream.collect(Collectors.joining(&quot;, &quot;));\n                // check the thread name in the message to differentiate the outcome\n                log.info(&quot;\\n{}&quot;, outcome);\n            }, executorService)).toArray(CompletableFuture[]::new);\n    CompletableFuture.allOf(futures).get();\n    executorService.shutdown();\n}\n\n@RequiredArgsConstructor\n@Slf4j\npublic class StreamCopiesFactory {\n\n    /**\n     * The amount of elements to be stored in the blockingQueue used \n     * to transfer elements from the original stream to its copies. \n     * This is very different to the cache use for the a. solution:\n     * here is about the transfer between original stream and its \n     * copies instead of the entire original stream data-copy.\n     * Change or make this configurable.\n     */\n    private static final int cacheSize = 1;\n\n    /**\n     * Each of these stream copies must execute (their terminal operation)\n     * on a distinct thread! One of them could actually execute on the \n     * main thread, but only after all the others were started on their \n     * distinct thread.\n     */\n    public static &lt;T&gt; List&lt;Stream&lt;T&gt;&gt; copyStream(int copies, Stream&lt;T&gt; stream) {\n        List&lt;BlockingQueue&lt;Object&gt;&gt; blockingQueues = new ArrayList&lt;&gt;(copies);\n        // creating the queues used to relay the stream's elements to the stream's copies\n        for (int i = 0; i &lt; copies; i++) {\n            blockingQueues.add(new LinkedBlockingQueue&lt;&gt;(cacheSize));\n        }\n        // consume the stream copies in a distinct thread, otherwise \n        // bq.put (transferring for the next stream copy) would block  \n        // because the 2nd stream copy isn't yet consuming \n        Executors.newSingleThreadExecutor().execute(() -&gt; {\n            stream.forEach(streamElement -&gt; blockingQueues.forEach(bq -&gt; {\n                try {\n                    bq.put(streamElement);\n                } catch (InterruptedException e) {\n                    log.error(e.getMessage(), e);\n                    // nothing to do here other than maybe simple optimization related to the\n                    // failed bq.put (e.g. sending END_SIGNAL into bq then skipping its next put calls)\n                }\n            }));\n            blockingQueues.forEach(bq -&gt; {\n                try {\n                    bq.put(END_SIGNAL);\n                } catch (InterruptedException e) {\n                    log.error(e.getMessage(), e);\n                    // nothing to do here\n                }\n            });\n        });\n        // creating the copies\n        // A production implementation would wrap each Stream copy with \n        // something overwriting close() which to remove from blockingQueues\n        // the blockingQueue corresponding to the closed Stream.\n        return blockingQueues.stream().map(bq -&gt; new SpliteratorCopy&lt;T&gt;(bq))\n                .map(spliterator -&gt; StreamSupport.stream(spliterator, false))\n                .collect(Collectors.toList());\n    }\n}\n\n@RequiredArgsConstructor\n@Slf4j\npublic class SpliteratorCopy&lt;T&gt; implements Spliterator&lt;T&gt; {\n\n    public static final Object END_SIGNAL = new Object();\n\n    private final BlockingQueue&lt;?&gt; blockingQueue;\n\n    @Override\n    public boolean tryAdvance(final Consumer&lt;? super T&gt; action) {\n        Object nextElement;\n        try {\n            nextElement = blockingQueue.take();\n        } catch (InterruptedException e) {\n            log.error(e.getMessage(), e);\n            throw new RuntimeException(e);\n        }\n        if (nextElement == END_SIGNAL) {\n            return false;\n        }\n        action.accept((T) nextElement);\n        return true;\n    }\n\n    @Override\n    public Spliterator&lt;T&gt; trySplit() {\n        return null;\n    }\n\n    @Override\n    public long estimateSize() {\n        return Long.MAX_VALUE;\n    }\n\n    @Override\n    public int characteristics() {\n        return Spliterator.ORDERED;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70170,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":24481672,"answer_count":11,"score":82,"last_activity_date":1665251258,"creation_date":1404034593,"question_id":24474838,"body_markdown":"Sometimes I want to perform a set of operations on a stream, and then process the resulting stream two different ways with other operations.\r\n\r\nCan I do this without having to specify the common initial operations twice?\r\n\r\nFor example, I am hoping a `dup()` method such as the following exists:\r\n\r\n    Stream [] desired_streams = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).dup();\r\n    Stream stream14 = desired_streams[0].filter(n -&gt; n % 7 == 0); // multiples of 14\r\n    Stream stream10 = desired_streams[1].filter(n -&gt; n % 5 == 0); // multiples of 10\r\n","title":"Can I duplicate a Stream in Java 8?","body":"<p>Sometimes I want to perform a set of operations on a stream, and then process the resulting stream two different ways with other operations.</p>\n\n<p>Can I do this without having to specify the common initial operations twice?</p>\n\n<p>For example, I am hoping a <code>dup()</code> method such as the following exists:</p>\n\n<pre><code>Stream [] desired_streams = IntStream.range(1, 100).filter(n -&gt; n % 2 == 0).dup();\nStream stream14 = desired_streams[0].filter(n -&gt; n % 7 == 0); // multiples of 14\nStream stream10 = desired_streams[1].filter(n -&gt; n % 5 == 0); // multiples of 10\n</code></pre>\n"},{"tags":["java","android","spring","post","retrofit"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1665061709,"post_id":73940112,"comment_id":130614569,"body_markdown":"Can you please add the code where you are calling `bookAppointment()` I wanted to see where are you passing token.","body":"Can you please add the code where you are calling <code>bookAppointment()</code> I wanted to see where are you passing token."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1665163231,"post_id":73940112,"comment_id":130643335,"body_markdown":"I have edited the code, please check it out because I have added the path that the method is called in the activity @VishalBeep","body":"I have edited the code, please check it out because I have added the path that the method is called in the activity @VishalBeep"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1665198228,"post_id":73940112,"comment_id":130649436,"body_markdown":"[updated] check answer now!","body":"[updated] check answer now!"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":1,"creation_date":1665210518,"post_id":73940112,"comment_id":130650726,"body_markdown":"Thanks so much @VishalBeep, It&#39;s now working perfectly, I only changed the Path to Query in my Android without changing anything in the backend and it&#39;s executed correctly","body":"Thanks so much @VishalBeep, It&#39;s now working perfectly, I only changed the Path to Query in my Android without changing anything in the backend and it&#39;s executed correctly"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1665216785,"post_id":73940112,"comment_id":130651688,"body_markdown":"make sure to upvote &#128316; if you think it helps future devs ;)","body":"make sure to upvote 🔼 if you think it helps future devs ;)"}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665217174,"creation_date":1664853411,"answer_id":73942809,"question_id":73940112,"body_markdown":"You are asking for how to pass `parameter` in retrofit but in your backend you are accepting `query` for example -\r\n\r\nYou are asking for -\r\n```\r\nhttps://yourdoman.com/appointment/book/12345\r\n```\r\n\r\nBut your spring backend accepting something like this -\r\n\r\n```\r\nhttps://yourdoman.com/appointment/book?token=12345\r\n```\r\n\r\n&gt; so you can solve this issue by either changing in backend or frontend (Android)\r\n\r\nI&#39;m showing you both \r\n\r\n**Solve by changing only frontend which is android -**\r\n\r\nYou can can change `@Path` to `@Query` like this :\r\n\r\n```\r\n@POST(&quot;appointment/book&quot;)\r\nCall&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto \r\nappointmentBookingDto, @Query(&quot;token&quot;) String token);\r\n```\r\n\r\nor\r\n\r\n\r\n**Solve by changing only backend (Spring)**\r\n\r\n&gt; Note : I didn&#39;t used spring yet but I have noticed this from doc.\r\n\r\nInstead of using `@RequestParam` use `@PathVariable` something like this :\r\n\r\n```\r\n @PostMapping(&quot;appointment/book/{token}&quot;)\r\n public ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto,\r\n @PathVariable String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\r\n   return appointmentBookingService.bookAppointment(appointmentBookingDto,token);\r\n}\r\n```\r\n\r\nand make sure you only apply one solution don&#39;t change from both &#128514;\r\n\r\nlet me know if it helps :)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to pass a request parameter in retrofit post request","body":"<p>You are asking for how to pass <code>parameter</code> in retrofit but in your backend you are accepting <code>query</code> for example -</p>\n<p>You are asking for -</p>\n<pre><code>https://yourdoman.com/appointment/book/12345\n</code></pre>\n<p>But your spring backend accepting something like this -</p>\n<pre><code>https://yourdoman.com/appointment/book?token=12345\n</code></pre>\n<blockquote>\n<p>so you can solve this issue by either changing in backend or frontend (Android)</p>\n</blockquote>\n<p>I'm showing you both</p>\n<p><strong>Solve by changing only frontend which is android -</strong></p>\n<p>You can can change <code>@Path</code> to <code>@Query</code> like this :</p>\n<pre><code>@POST(&quot;appointment/book&quot;)\nCall&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto \nappointmentBookingDto, @Query(&quot;token&quot;) String token);\n</code></pre>\n<p>or</p>\n<p><strong>Solve by changing only backend (Spring)</strong></p>\n<blockquote>\n<p>Note : I didn't used spring yet but I have noticed this from doc.</p>\n</blockquote>\n<p>Instead of using <code>@RequestParam</code> use <code>@PathVariable</code> something like this :</p>\n<pre><code> @PostMapping(&quot;appointment/book/{token}&quot;)\n public ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto,\n @PathVariable String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\n   return appointmentBookingService.bookAppointment(appointmentBookingDto,token);\n}\n</code></pre>\n<p>and make sure you only apply one solution don't change from both 😂</p>\n<p>let me know if it helps :)</p>\n"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73942809,"answer_count":1,"score":1,"last_activity_date":1665250886,"creation_date":1664826194,"question_id":73940112,"body_markdown":"I have a post request that will send details to the server. The condition is that each user was assigned a unique value to and this value must be passed when the user want to place the request. I have a model class that is passed through the `@Body` annotation but I don&#39;t know how to pass this user&#39;s unique key along with this model class.\r\n    \r\nThe key was passed in the backend as a request parameter. Please note that this token is not as an `Authorization header`, it&#39;s just a unique token that was assigned to each user for authentication purpose\r\n        \r\nHere is how the backend looks like It was developed with `Spring boot`\r\n        \r\n```\r\n@PostMapping(&quot;appointment/book&quot;)\r\npublic ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto, @RequestParam(&quot;token&quot;) String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\r\n  return appointmentBookingService.bookAppointment(appointmentBookingDto, token);\r\n}\r\n```\r\n        \r\nThis is how I tried to pass it in my interface class in android studio\r\n        \r\n```\r\n@POST(&quot;appointment/book&quot;)\r\nCall&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto appointmentBookingDto, @Path(&quot;token&quot;) String token); \r\n```\r\n    \r\n\r\n Here is the activity that I called the bookAppointment method.\r\n    \r\n     private void bookAppointment() {\r\n            progressBar.setVisibility(View.VISIBLE);\r\n            date = btnDate.getText().toString();\r\n            time = btnTime.getText().toString();\r\n    \r\n            AppointmentBookingDto appointmentBookingDto = new AppointmentBookingDto(time, date, purpose.getText().toString());\r\n    \r\n            Call&lt;ApiResponse&gt; call = BaseUrlClient\r\n                    .getInstance().getApi().bookAppointment(\r\n                            appointmentBookingDto, token.getText().toString()\r\n                    );\r\n            call.enqueue(new Callback&lt;ApiResponse&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ApiResponse&gt; call, Response&lt;ApiResponse&gt; response) {\r\n                    if (response.code() == 201) {\r\n                        progressBar.setVisibility(View.GONE);\r\n                        Log.d(&quot;Main&quot;,response.body().getMessage());\r\n                        Toast.makeText(BookAppointmentActivity.this, response.message(), Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n    \r\n                        try {\r\n                            progressBar.setVisibility(View.GONE);\r\n                            Log.d(&quot;Main&quot;, &quot;Response code is &quot; + response.code());\r\n                            Log.d(&quot;Main&quot;, &quot;Error message is &quot; + response.errorBody().string());\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;ApiResponse&gt; call, Throwable t) {\r\n                    progressBar.setVisibility(View.GONE);\r\n                    Log.d(&quot;Main&quot;, &quot;Failure message is &quot; + t.getMessage());\r\n                    Toast.makeText(BookAppointmentActivity.this, &quot;Error &quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n","title":"how to pass a request parameter in retrofit post request","body":"<p>I have a post request that will send details to the server. The condition is that each user was assigned a unique value to and this value must be passed when the user want to place the request. I have a model class that is passed through the <code>@Body</code> annotation but I don't know how to pass this user's unique key along with this model class.</p>\n<p>The key was passed in the backend as a request parameter. Please note that this token is not as an <code>Authorization header</code>, it's just a unique token that was assigned to each user for authentication purpose</p>\n<p>Here is how the backend looks like It was developed with <code>Spring boot</code></p>\n<pre><code>@PostMapping(&quot;appointment/book&quot;)\npublic ResponseEntity&lt;ApiResponse&gt; bookAppointment(@RequestBody AppointmentBookingDto appointmentBookingDto, @RequestParam(&quot;token&quot;) String token) throws DataNotFoundException, ParseException, DataAlreadyExistException {\n  return appointmentBookingService.bookAppointment(appointmentBookingDto, token);\n}\n</code></pre>\n<p>This is how I tried to pass it in my interface class in android studio</p>\n<pre><code>@POST(&quot;appointment/book&quot;)\nCall&lt;ApiResponse&gt; bookAppointment(@Body AppointmentBookingDto appointmentBookingDto, @Path(&quot;token&quot;) String token); \n</code></pre>\n<p>Here is the activity that I called the bookAppointment method.</p>\n<pre><code> private void bookAppointment() {\n        progressBar.setVisibility(View.VISIBLE);\n        date = btnDate.getText().toString();\n        time = btnTime.getText().toString();\n\n        AppointmentBookingDto appointmentBookingDto = new AppointmentBookingDto(time, date, purpose.getText().toString());\n\n        Call&lt;ApiResponse&gt; call = BaseUrlClient\n                .getInstance().getApi().bookAppointment(\n                        appointmentBookingDto, token.getText().toString()\n                );\n        call.enqueue(new Callback&lt;ApiResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;ApiResponse&gt; call, Response&lt;ApiResponse&gt; response) {\n                if (response.code() == 201) {\n                    progressBar.setVisibility(View.GONE);\n                    Log.d(&quot;Main&quot;,response.body().getMessage());\n                    Toast.makeText(BookAppointmentActivity.this, response.message(), Toast.LENGTH_SHORT).show();\n                } else {\n\n                    try {\n                        progressBar.setVisibility(View.GONE);\n                        Log.d(&quot;Main&quot;, &quot;Response code is &quot; + response.code());\n                        Log.d(&quot;Main&quot;, &quot;Error message is &quot; + response.errorBody().string());\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;ApiResponse&gt; call, Throwable t) {\n                progressBar.setVisibility(View.GONE);\n                Log.d(&quot;Main&quot;, &quot;Failure message is &quot; + t.getMessage());\n                Toast.makeText(BookAppointmentActivity.this, &quot;Error &quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","multithreading","queue"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1402068748,"post_id":24085571,"comment_id":37145882,"body_markdown":"Look into `BlockingQueue`.","body":"Look into <code>BlockingQueue</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1402072648,"post_id":24085571,"comment_id":37148139,"body_markdown":"How does a boolean flag tell you something about the next object in the queue?  What if there are many objects in the queue?","body":"How does a boolean flag tell you something about the next object in the queue?  What if there are many objects in the queue?"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1402069137,"creation_date":1402068787,"answer_id":24085611,"question_id":24085571,"body_markdown":"`ArrayDeque` doesn&#39;t support concurrency. Instead, use a real queue that supports concurrent work like [`BlockingQueue`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html) and one of its implementations in `java.util.concurrent` package. I recommend using [`LinkedBlockingQueue`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/LinkedBlockingQueue.html).\r\n\r\nIn case you need to share flags between your threads, it would be better using [`AtomicBoolean`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html) instead of manually synchronizing a primitive `boolean` field.\r\n\r\nNote: if you will work with concurrent process, it is better to work with classes provided by [`java.util.concurrent`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html) package that already support lock and synchronization out-of-the-box.\r\n","title":"Synchronizing queue in Java on multiple threads","body":"<p><code>ArrayDeque</code> doesn't support concurrency. Instead, use a real queue that supports concurrent work like <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow\"><code>BlockingQueue</code></a> and one of its implementations in <code>java.util.concurrent</code> package. I recommend using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/LinkedBlockingQueue.html\" rel=\"nofollow\"><code>LinkedBlockingQueue</code></a>.</p>\n\n<p>In case you need to share flags between your threads, it would be better using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow\"><code>AtomicBoolean</code></a> instead of manually synchronizing a primitive <code>boolean</code> field.</p>\n\n<p>Note: if you will work with concurrent process, it is better to work with classes provided by <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\" rel=\"nofollow\"><code>java.util.concurrent</code></a> package that already support lock and synchronization out-of-the-box.</p>\n"},{"tags":[],"owner":{"account_id":2073998,"reputation":2238,"user_id":1847873,"accept_rate":92,"display_name":"Arash Saidi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402068986,"creation_date":1402068812,"answer_id":24085622,"question_id":24085571,"body_markdown":"Look at ArrayBlockingQueue and another BlockingQueue implementations.\r\n\r\nFrom documentation:\r\n\r\n&gt; A Queue that additionally supports operations that wait for the queue to become non-empty when retrieving an element, and wait for space to become available in the queue when storing an element.\r\n\r\nAn alternative is also the ConcurrentLinkedQueue. \r\n\r\nYou can read more about concurrent Queues here:\r\n\r\nhttp://docs.oracle.com/javase/tutorial/collections/implementations/queue.html","title":"Synchronizing queue in Java on multiple threads","body":"<p>Look at ArrayBlockingQueue and another BlockingQueue implementations.</p>\n\n<p>From documentation:</p>\n\n<blockquote>\n  <p>A Queue that additionally supports operations that wait for the queue to become non-empty when retrieving an element, and wait for space to become available in the queue when storing an element.</p>\n</blockquote>\n\n<p>An alternative is also the ConcurrentLinkedQueue. </p>\n\n<p>You can read more about concurrent Queues here:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/collections/implementations/queue.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/collections/implementations/queue.html</a></p>\n"},{"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1402069548,"post_id":24085699,"comment_id":37146378,"body_markdown":"Don&#39;t use raw `BlockingQueue`.","body":"Don&#39;t use raw <code>BlockingQueue</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1402072544,"post_id":24085699,"comment_id":37148091,"body_markdown":"@LuiggiMendoza, I don&#39;t know what a _raw_ BlockingQueue is, but the example above uses an ArrayBlockingQueue.","body":"@LuiggiMendoza, I don&#39;t know what a <i>raw</i> BlockingQueue is, but the example above uses an ArrayBlockingQueue."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1402072719,"post_id":24085699,"comment_id":37148178,"body_markdown":"@jameslarge [Java Tutorials. Raw Types](http://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html)","body":"@jameslarge <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">Java Tutorials. Raw Types</a>"}],"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402069755,"creation_date":1402069034,"answer_id":24085699,"question_id":24085571,"body_markdown":"You are looking for [Blocking Queue][1] implementation\r\n\r\nThis provides the functionality out of box which you are looking for. Thats why its best suited for producer consumer examples.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html\r\n\r\nHere is an example\r\n\r\n\r\n\r\n    public class BlockingQueueExample {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            BlockingQueue queue = new ArrayBlockingQueue(1024);\r\n    \r\n            Producer producer = new Producer(queue);\r\n            Consumer consumer = new Consumer(queue);\r\n    \r\n            new Thread(producer).start();\r\n            new Thread(consumer).start();\r\n    \r\n            Thread.sleep(4000);\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Producer implements Runnable{\r\n    \r\n        protected BlockingQueue queue = null;\r\n    \r\n        public Producer(BlockingQueue queue) {\r\n            this.queue = queue;\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                queue.put(&quot;1&quot;);\r\n                Thread.sleep(1000);\r\n                queue.put(&quot;2&quot;);\r\n                Thread.sleep(1000);\r\n                queue.put(&quot;3&quot;);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Consumer implements Runnable{\r\n    \r\n        protected BlockingQueue queue = null;\r\n    \r\n        public Consumer(BlockingQueue queue) {\r\n            this.queue = queue;\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                System.out.println(queue.take());\r\n                System.out.println(queue.take());\r\n                System.out.println(queue.take());\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Synchronizing queue in Java on multiple threads","body":"<p>You are looking for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow\">Blocking Queue</a> implementation</p>\n\n<p>This provides the functionality out of box which you are looking for. Thats why its best suited for producer consumer examples.</p>\n\n<p>Here is an example</p>\n\n<pre><code>public class BlockingQueueExample {\n\n    public static void main(String[] args) throws Exception {\n\n        BlockingQueue queue = new ArrayBlockingQueue(1024);\n\n        Producer producer = new Producer(queue);\n        Consumer consumer = new Consumer(queue);\n\n        new Thread(producer).start();\n        new Thread(consumer).start();\n\n        Thread.sleep(4000);\n    }\n}\n\n\npublic class Producer implements Runnable{\n\n    protected BlockingQueue queue = null;\n\n    public Producer(BlockingQueue queue) {\n        this.queue = queue;\n    }\n\n    public void run() {\n        try {\n            queue.put(\"1\");\n            Thread.sleep(1000);\n            queue.put(\"2\");\n            Thread.sleep(1000);\n            queue.put(\"3\");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\npublic class Consumer implements Runnable{\n\n    protected BlockingQueue queue = null;\n\n    public Consumer(BlockingQueue queue) {\n        this.queue = queue;\n    }\n\n    public void run() {\n        try {\n            System.out.println(queue.take());\n            System.out.println(queue.take());\n            System.out.println(queue.take());\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402069195,"creation_date":1402069195,"answer_id":24085755,"question_id":24085571,"body_markdown":"Before Java 5 you&#39;d have to implement a wait/notify mechanism. Since Java 5 you can use an implementation of the BlockingQueue interface for producer/consumer problems.\r\n\r\nTake a look at this:\r\n\r\nhttp://www.javamex.com/tutorials/synchronization_producer_consumer.shtml","title":"Synchronizing queue in Java on multiple threads","body":"<p>Before Java 5 you'd have to implement a wait/notify mechanism. Since Java 5 you can use an implementation of the BlockingQueue interface for producer/consumer problems.</p>\n\n<p>Take a look at this:</p>\n\n<p><a href=\"http://www.javamex.com/tutorials/synchronization_producer_consumer.shtml\" rel=\"nofollow\">http://www.javamex.com/tutorials/synchronization_producer_consumer.shtml</a></p>\n"},{"tags":[],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402071367,"creation_date":1402071367,"answer_id":24086407,"question_id":24085571,"body_markdown":"You can use java Blocking Queue or Collections.synchronizedList(new LinkedList&lt;&gt;()), I like Collections.synchronized... as it is effectively making your collection thread safe and you are not bothering about locks and flags and similar stuff... just writing logical readable code.\r\n\r\nLinkedList will provide you addFirst() addLast() and ofcourse getFirst(), getLast() to implement FIFO or LIFO behaviour...\r\n","title":"Synchronizing queue in Java on multiple threads","body":"<p>You can use java Blocking Queue or Collections.synchronizedList(new LinkedList&lt;>()), I like Collections.synchronized... as it is effectively making your collection thread safe and you are not bothering about locks and flags and similar stuff... just writing logical readable code.</p>\n\n<p>LinkedList will provide you addFirst() addLast() and ofcourse getFirst(), getLast() to implement FIFO or LIFO behaviour...</p>\n"},{"tags":[],"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665250502,"creation_date":1665250502,"answer_id":73999178,"question_id":24085571,"body_markdown":"Apache Common Collections library includes a [`SynchronizedQueue`](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/SynchronizedQueue.html) class that can make any custom `Queue` implementation thread-safe.\r\n\r\n`SynchronizedQueue.synchronizedQueue(new MyAwesomeNonThreadSafeQueue()`","title":"Synchronizing queue in Java on multiple threads","body":"<p>Apache Common Collections library includes a <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/SynchronizedQueue.html\" rel=\"nofollow noreferrer\"><code>SynchronizedQueue</code></a> class that can make any custom <code>Queue</code> implementation thread-safe.</p>\n<p><code>SynchronizedQueue.synchronizedQueue(new MyAwesomeNonThreadSafeQueue()</code></p>\n"}],"owner":{"account_id":2512449,"reputation":15802,"user_id":2184584,"accept_rate":46,"display_name":"Christopher Francisco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9890,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":24085611,"answer_count":6,"score":6,"last_activity_date":1665250502,"creation_date":1402068667,"question_id":24085571,"body_markdown":"I understand the concept of synchronizing, but I&#39;m now sure about why is it implemented that way, so I need a little help in here:\r\n\r\nI have 2 threads: \r\n\r\n`PeriodicalThread` will receive data periodically (let&#39;s say each 5 seconds) and put it in a `Queue` (using `ArrayDeque` for the moment, but I don&#39;t know if any other `Queue` implementation will work better)\r\n\r\n`ProccessThread` will constantly check on the `Queue` to see if it is empty. If it is not empty, it will process the data **(FIFO)**.\r\n\r\nSo, at first my implementation would be:\r\n\r\n    // Both threads are inner class so they have access to Queue\r\n\r\n    private Queue queue;\r\n    private boolean isReadyToProccess;\r\n\r\n\r\n    class PeriodicalThread extends Thread {\r\n        public void run() {\r\n            while(true) {\r\n               if(isNewDataAvailable) {\r\n                    // create Data object\r\n                    queue.add(data);\r\n               }\r\n            }\r\n        }\r\n    }\r\n\r\n    class ProcessThread extends Thread {\r\n        public void run() {\r\n            while(true) {\r\n               if(!queue.isEmpty() &amp;&amp; isReadyToProccess) {\r\n                   Data data = queue.poll();\r\n                   processData(data);\r\n               }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void processData(Data data) {\r\n        // this method send data over network, and the server response callback\r\n        // changes isReadyToProcess value to true.\r\n    }\r\n\r\nThen when wanting to handle **synchronization**, I wouldn&#39;t know If I should use a `lock` object (and how is it implemented) or if there is already a package `Queue` implementation that is thread-safe (because of the `add()` and `poll()` methods)\r\n\r\n**Edit:** I forgot about the flag `isReadyToProcess` indicating next queue `Data` object is... well, ready to be proccessed. This flag should be synchronized also.","title":"Synchronizing queue in Java on multiple threads","body":"<p>I understand the concept of synchronizing, but I'm now sure about why is it implemented that way, so I need a little help in here:</p>\n\n<p>I have 2 threads: </p>\n\n<p><code>PeriodicalThread</code> will receive data periodically (let's say each 5 seconds) and put it in a <code>Queue</code> (using <code>ArrayDeque</code> for the moment, but I don't know if any other <code>Queue</code> implementation will work better)</p>\n\n<p><code>ProccessThread</code> will constantly check on the <code>Queue</code> to see if it is empty. If it is not empty, it will process the data <strong>(FIFO)</strong>.</p>\n\n<p>So, at first my implementation would be:</p>\n\n<pre><code>// Both threads are inner class so they have access to Queue\n\nprivate Queue queue;\nprivate boolean isReadyToProccess;\n\n\nclass PeriodicalThread extends Thread {\n    public void run() {\n        while(true) {\n           if(isNewDataAvailable) {\n                // create Data object\n                queue.add(data);\n           }\n        }\n    }\n}\n\nclass ProcessThread extends Thread {\n    public void run() {\n        while(true) {\n           if(!queue.isEmpty() &amp;&amp; isReadyToProccess) {\n               Data data = queue.poll();\n               processData(data);\n           }\n        }\n    }\n}\n\nprivate void processData(Data data) {\n    // this method send data over network, and the server response callback\n    // changes isReadyToProcess value to true.\n}\n</code></pre>\n\n<p>Then when wanting to handle <strong>synchronization</strong>, I wouldn't know If I should use a <code>lock</code> object (and how is it implemented) or if there is already a package <code>Queue</code> implementation that is thread-safe (because of the <code>add()</code> and <code>poll()</code> methods)</p>\n\n<p><strong>Edit:</strong> I forgot about the flag <code>isReadyToProcess</code> indicating next queue <code>Data</code> object is... well, ready to be proccessed. This flag should be synchronized also.</p>\n"},{"tags":["java","sql","database","prepared-statement"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":3,"creation_date":1664924331,"post_id":73954312,"comment_id":130579937,"body_markdown":"are the schemas user supplied? If they are fixed strings you supply you also know that concatenation is no issue. https://stackoverflow.com/a/43384505/995891 is the issue I think","body":"are the schemas user supplied? If they are fixed strings you supply you also know that concatenation is no issue. <a href=\"https://stackoverflow.com/a/43384505/995891\">stackoverflow.com/a/43384505/995891</a> is the issue I think"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664926648,"post_id":73954312,"comment_id":130580287,"body_markdown":"Apparently you can call `toString` on a Postgres `PreparedStatement` and see what its rendered. https://stackoverflow.com/questions/7195855/logging-prepared-sql-statements-in-postgres-jdbc-driver","body":"Apparently you can call <code>toString</code> on a Postgres <code>PreparedStatement</code> and see what its rendered. <a href=\"https://stackoverflow.com/questions/7195855/logging-prepared-sql-statements-in-postgres-jdbc-driver\" title=\"logging prepared sql statements in postgres jdbc driver\">stackoverflow.com/questions/7195855/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664927050,"post_id":73954312,"comment_id":130580350,"body_markdown":"This may help: https://stackoverflow.com/questions/17648861/can-we-use-ddl-commands-in-a-prepared-statement-postgresql","body":"This may help: <a href=\"https://stackoverflow.com/questions/17648861/can-we-use-ddl-commands-in-a-prepared-statement-postgresql\" title=\"can we use ddl commands in a prepared statement postgresql\">stackoverflow.com/questions/17648861/&hellip;</a>"},{"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"score":0,"creation_date":1664937269,"post_id":73954312,"comment_id":130581614,"body_markdown":"Even if you&#39;re sanitizing your input, in general, this screams security vulnerability...","body":"Even if you&#39;re sanitizing your input, in general, this screams security vulnerability..."}],"answers":[{"comments":[{"owner":{"account_id":188961,"reputation":413,"user_id":427995,"accept_rate":89,"display_name":"sdbol"},"score":0,"creation_date":1677403351,"post_id":73954972,"comment_id":133327734,"body_markdown":"I tried this and it didn&#39;t work.","body":"I tried this and it didn&#39;t work."}],"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664931340,"creation_date":1664931340,"answer_id":73954972,"question_id":73954312,"body_markdown":"Apart from using dynamic SQL on the server side, you could query the create statement using PostgreSQL&#39;s [format function](https://www.postgresql.org/docs/current/functions-string.html#FUNCTIONS-STRING-FORMAT) to encode the identifier.\r\n\r\nFor example:\r\n\r\n```\r\nprivate String getCreateSchemaStatement(Connection conn, String schemaName) throws SQLException {\r\n    String sql = &quot;SELECT format(&#39;CREATE SCHEMA IF NOT EXISTS %I&#39;, ?)&quot;;\r\n    try (PreparedStatement stmt = conn.prepareStatement(sql)) {\r\n        stmt.setString(1, schemaName);\r\n        return getSingleResultString(stmt);\r\n    }\r\n}\r\n\r\nprivate String getSingleResultString(PreparedStatement stmt) throws SQLException {\r\n    try (ResultSet rs = stmt.executeQuery()) {\r\n        String result = null;\r\n        if (rs.next()) {\r\n            result = rs.getString(1);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nHaving this, you can just execute the statements:\r\n\r\n```\r\npublic void createSchemas(List&lt;String&gt; schemaNames) throws SQLException {\r\n    try (Connection conn = dataSource.getConnection();\r\n         Statement stmt = conn.createStatement()) {\r\n        for (String schemaName : schemaNames) {\r\n            String sql = getCreateSchemaStatement(conn, schemaName);\r\n            stmt.execute(sql);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOf course, this is not needed if the schema names are known to be safe.","title":"Is it possible to use a Prepared Statement in Java when creating a database schema?","body":"<p>Apart from using dynamic SQL on the server side, you could query the create statement using PostgreSQL's <a href=\"https://www.postgresql.org/docs/current/functions-string.html#FUNCTIONS-STRING-FORMAT\" rel=\"nofollow noreferrer\">format function</a> to encode the identifier.</p>\n<p>For example:</p>\n<pre><code>private String getCreateSchemaStatement(Connection conn, String schemaName) throws SQLException {\n    String sql = &quot;SELECT format('CREATE SCHEMA IF NOT EXISTS %I', ?)&quot;;\n    try (PreparedStatement stmt = conn.prepareStatement(sql)) {\n        stmt.setString(1, schemaName);\n        return getSingleResultString(stmt);\n    }\n}\n\nprivate String getSingleResultString(PreparedStatement stmt) throws SQLException {\n    try (ResultSet rs = stmt.executeQuery()) {\n        String result = null;\n        if (rs.next()) {\n            result = rs.getString(1);\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>Having this, you can just execute the statements:</p>\n<pre><code>public void createSchemas(List&lt;String&gt; schemaNames) throws SQLException {\n    try (Connection conn = dataSource.getConnection();\n         Statement stmt = conn.createStatement()) {\n        for (String schemaName : schemaNames) {\n            String sql = getCreateSchemaStatement(conn, schemaName);\n            stmt.execute(sql);\n        }\n    }\n}\n</code></pre>\n<p>Of course, this is not needed if the schema names are known to be safe.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665248003,"creation_date":1665240754,"answer_id":73997955,"question_id":73954312,"body_markdown":"There are some constraints when a dynamic value is passed through a query and then the query is translated to be executed in database. Most database drivers do expect dynamic parameters only in specific places for security reasons as for example a dynamic parameter after the `where` clause, or after `values` in an insert script. The certain is that `postgresql` and most other drivers as well don&#39;t expect a dynamic parameter in the SQL for the creation of a schema.\r\n\r\nString concatenation in `SQL` creation is known as bad practice as it could lead to some security issues, since all drivers expect the `SQL` passed to be static and safe while parameters are dynamic and are always checked if they contain something malicious. For this reason I would propose to avoid String concatenation to solve this issue and check the following approach.\r\n\r\nCreate the following function in your postgresql database. \r\n\r\n      CREATE OR REPLACE FUNCTION create_custom_schema(s_name text) RETURNS void AS $$\r\n            BEGIN\r\n                EXECUTE &#39;CREATE SCHEMA IF NOT EXISTS&#39; || quote_ident(s_name);\r\n            END;\r\n        $$ LANGUAGE plpgsql;\r\n\r\nSo we now have a function to do the job which accepts as parameter the schema name. Now the database driver would have no problem to accept a dynamic parameter for schema name and translate it correctly before executing the script.\r\n\r\nJust note that functions are executed by the use of a subinterface of [PreparedStatement][1] which is the [CallableStatement][2].\r\n\r\nSo your code now will be\r\n\r\n   \r\n\r\n        final String CREATE_SCHEMA_SQL = &quot;{call create_custom_schema(?)}&quot;;\r\n        List&lt;String&gt; schemas = // [&quot;001&quot;, &quot;002&quot;, &quot;003&quot;];\r\n        \r\n        for (String schema : schemas) {\r\n        \r\n          try (Connection connection = dataSource.getConnection();\r\n              CallableStatement createSchemaStatement = connection.prepareCall(CREATE_SCHEMA_SQL)) {\r\n        \r\n               createSchemaStatement.setString(1, schema);\r\n               createSchemaStatement.executeQuery();\r\n            \r\n          } catch (SQLException e) {\r\n            throw new RuntimeException(&quot;Could not create tenant schema&quot;);\r\n          }\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/sql/CallableStatement.html","title":"Is it possible to use a Prepared Statement in Java when creating a database schema?","body":"<p>There are some constraints when a dynamic value is passed through a query and then the query is translated to be executed in database. Most database drivers do expect dynamic parameters only in specific places for security reasons as for example a dynamic parameter after the <code>where</code> clause, or after <code>values</code> in an insert script. The certain is that <code>postgresql</code> and most other drivers as well don't expect a dynamic parameter in the SQL for the creation of a schema.</p>\n<p>String concatenation in <code>SQL</code> creation is known as bad practice as it could lead to some security issues, since all drivers expect the <code>SQL</code> passed to be static and safe while parameters are dynamic and are always checked if they contain something malicious. For this reason I would propose to avoid String concatenation to solve this issue and check the following approach.</p>\n<p>Create the following function in your postgresql database.</p>\n<pre><code>  CREATE OR REPLACE FUNCTION create_custom_schema(s_name text) RETURNS void AS $$\n        BEGIN\n            EXECUTE 'CREATE SCHEMA IF NOT EXISTS' || quote_ident(s_name);\n        END;\n    $$ LANGUAGE plpgsql;\n</code></pre>\n<p>So we now have a function to do the job which accepts as parameter the schema name. Now the database driver would have no problem to accept a dynamic parameter for schema name and translate it correctly before executing the script.</p>\n<p>Just note that functions are executed by the use of a subinterface of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">PreparedStatement</a> which is the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/CallableStatement.html\" rel=\"nofollow noreferrer\">CallableStatement</a>.</p>\n<p>So your code now will be</p>\n<pre><code>    final String CREATE_SCHEMA_SQL = &quot;{call create_custom_schema(?)}&quot;;\n    List&lt;String&gt; schemas = // [&quot;001&quot;, &quot;002&quot;, &quot;003&quot;];\n    \n    for (String schema : schemas) {\n    \n      try (Connection connection = dataSource.getConnection();\n          CallableStatement createSchemaStatement = connection.prepareCall(CREATE_SCHEMA_SQL)) {\n    \n           createSchemaStatement.setString(1, schema);\n           createSchemaStatement.executeQuery();\n        \n      } catch (SQLException e) {\n        throw new RuntimeException(&quot;Could not create tenant schema&quot;);\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1665248003,"creation_date":1664923668,"question_id":73954312,"body_markdown":"If not, is there a safer way than String concatenation?\r\n\r\nTried this ..\r\n\r\n```\r\nfinal String CREATE_SCHEMA_SQL = &quot;CREATE SCHEMA IF NOT EXISTS ?&quot;;\r\nList&lt;String&gt; schemas = // [&quot;001&quot;, &quot;002&quot;, &quot;003&quot;];\r\n\r\nfor (String schema : schemas) {\r\n\r\n  try (Connection connection = dataSource.getConnection();\r\n      PreparedStatement createSchemaStatement =\r\n          connection.prepareStatement(CREATE_SCHEMA_SQL)) {\r\n\r\n    createSchemaStatement.setString(1, schema);\r\n    createSchemaStatement.executeUpdate();\r\n    \r\n  } catch (SQLException e) {\r\n    throw new RuntimeException(&quot;Could not create tenant schema&quot;);\r\n  }\r\n}\r\n```\r\n\r\nProduces this error:\r\n```\r\norg.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\r\n  Position: 29\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2674)\r\n```","title":"Is it possible to use a Prepared Statement in Java when creating a database schema?","body":"<p>If not, is there a safer way than String concatenation?</p>\n<p>Tried this ..</p>\n<pre><code>final String CREATE_SCHEMA_SQL = &quot;CREATE SCHEMA IF NOT EXISTS ?&quot;;\nList&lt;String&gt; schemas = // [&quot;001&quot;, &quot;002&quot;, &quot;003&quot;];\n\nfor (String schema : schemas) {\n\n  try (Connection connection = dataSource.getConnection();\n      PreparedStatement createSchemaStatement =\n          connection.prepareStatement(CREATE_SCHEMA_SQL)) {\n\n    createSchemaStatement.setString(1, schema);\n    createSchemaStatement.executeUpdate();\n    \n  } catch (SQLException e) {\n    throw new RuntimeException(&quot;Could not create tenant schema&quot;);\n  }\n}\n</code></pre>\n<p>Produces this error:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\n  Position: 29\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2674)\n</code></pre>\n"},{"tags":["java","sum","decimal","mean","decimalformat"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665246763,"post_id":73998692,"comment_id":130657134,"body_markdown":"You have presented your assignment, but you have not described your problem or asked a question. Just posting your homework is not sufficient.","body":"You have presented your assignment, but you have not described your problem or asked a question. Just posting your homework is not sufficient."},{"owner":{"account_id":26565183,"reputation":1,"user_id":20192361,"display_name":"Gioia"},"score":0,"creation_date":1665246951,"post_id":73998692,"comment_id":130657182,"body_markdown":"Hello Mark, I asked in the main question title: &quot;how to create outputs with different number of decimals, depending on user&#39;s input (that can be a number from 1 to 3)?&quot;... maybe I have to repeat the question in the text below?","body":"Hello Mark, I asked in the main question title: &quot;how to create outputs with different number of decimals, depending on user&#39;s input (that can be a number from 1 to 3)?&quot;... maybe I have to repeat the question in the text below?"},{"owner":{"account_id":26565183,"reputation":1,"user_id":20192361,"display_name":"Gioia"},"score":0,"creation_date":1665247136,"post_id":73998692,"comment_id":130657210,"body_markdown":"Now I added the question in bold, I hope it&#39;s ok now. Thank you.","body":"Now I added the question in bold, I hope it&#39;s ok now. Thank you."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665247571,"post_id":73998692,"comment_id":130657310,"body_markdown":"I have removed the excessive use of bold, as that actually hurts readability. Thanks for adding a question, but to be honest, it is not clear to me what you want/need to achieve.","body":"I have removed the excessive use of bold, as that actually hurts readability. Thanks for adding a question, but to be honest, it is not clear to me what you want/need to achieve."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665248553,"post_id":73998692,"comment_id":130657552,"body_markdown":"When you have repetitive lines of code, think loops and/or arrays","body":"When you have repetitive lines of code, think loops and/or arrays"}],"owner":{"account_id":26565183,"reputation":1,"user_id":20192361,"display_name":"Gioia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665247443,"creation_date":1665246614,"question_id":73998692,"body_markdown":"I&#39;m attending a Java course for beginners and I have this exercise to do:\r\n\r\n- There are 5 students admitted to take an exam at college\r\n- Create showInputDialog for each student&#39;s grade\r\n- Create also showInputDialog to ask user to enter a number from 1 to 3 which represents the number of decimal numbers to display the mean of the 5 student&#39;s grades (for example: if user writes &quot;2&quot; he will get a mean like this XX,XX)\r\n- If the mean of the 5 grades is higher than 25, the program must display a window to the user that says &quot;mean result passing&quot;\r\n\r\nI have done everything but I&#39;m stuck at the point where I have to create the output to show the mean with the amount of decimal numbers choose by the user.\r\n\r\nHow can I create outputs with different number of decimals, depending on user&#39;s input (that can be a number from 1 to 3)?\r\n\r\nI show you my code:\r\n```\r\npackage module2;\r\n\r\nimport java.text.DecimalFormat;\r\n\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class GradeMean2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString gradeStudent1, gradeStudent2, gradeStudent3, gradeStudent4, gradeStudent5;\r\n\t\tint valGradeStudent1, valGradeStudent2, valGradeStudent3, valGradeStudent4, valGradeStudent5, sum;\r\n\t\tdouble mean;\r\n\t\tString mean1Decimal, mean2Decimals, mean3Decimals;\r\n\t\tString decimalNumber;\r\n\t\tdouble valDecimalNumber;\r\n\t\tString output;\r\n\t\t\r\n\t\tDecimalFormat oneNumber = new DecimalFormat(&quot;0.0&quot;);\r\n\t\tDecimalFormat twoNumbers = new DecimalFormat(&quot;0.00&quot;);\r\n\t\tDecimalFormat threeNumbers = new DecimalFormat(&quot;0.000&quot;);\r\n\t\t\r\n\t\tgradeStudent1 = JOptionPane.showInputDialog(&quot;Insert grade student 1&quot;);\r\n\t\tvalGradeStudent1 = Integer.parseInt(gradeStudent1);\r\n\t\t\r\n\t\tgradeStudent2 = JOptionPane.showInputDialog(&quot;Insert grade student 2&quot;);\r\n\t\tvalGradeStudent2 = Integer.parseInt(gradeStudent2);\r\n\t\t\r\n\t\tgradeStudent3 = JOptionPane.showInputDialog(&quot;Insert grade student 3&quot;);\r\n\t\tvalGradeStudent3 = Integer.parseInt(gradeStudent3);\r\n\t\t\r\n\t\tgradeStudent4 = JOptionPane.showInputDialog(&quot;Insert grade student 4&quot;);\r\n\t\tvalGradeStudent4 = Integer.parseInt(gradeStudent4);\r\n\r\n\t\tgradeStudent5 = JOptionPane.showInputDialog(&quot;Insert grade student 5&quot;);\r\n\t\tvalGradeStudent5 = Integer.parseInt(gradeStudent5);\r\n\t\t\r\n\t\tdecimalNumber = JOptionPane.showInputDialog(&quot;Insert number of decimals of mean&quot;);\r\n\t\tvalDecimalNumber = Integer.parseInt(decimalNumber);\r\n\t\t\r\n\t\toutput = &quot;Grades:&quot; + &quot;\\ngrade student 1 = &quot; +gradeStudent1 +&quot;\\ngrade student 2 = &quot; +gradeStudent2 +&quot;\\ngrade student 3 = &quot; +gradeStudent3 +&quot;\\ngrade student 4 = &quot; +gradeStudent4 +&quot;\\ngrade student 5 = &quot; +gradeStudent5  +&quot;\\n\\n&quot;;\r\n\r\n\t\tsum = valGradeStudent1 + valGradeStudent2 + valGradeStudent3 + valGradeStudent4 + valGradeStudent5;\r\n\t\tmean = (double)sum/5;\r\n\r\n\t\tmean1Decimal = oneNumber.format(media);\r\n\t\tmean2Decimals = twoNumbers.format(media);\r\n\t\tmean3Decimals = threeNumbers.format(media);\r\n\r\n\t\tif(media &gt;= 25)\r\n\t\t\toutput = output + &quot;\\nMean result passing&quot;;\r\n\t\t\r\n\t\tJOptionPane.showMessageDialog(null, output);\r\n\t\tSystem.exit(0);\r\n```\r\n","title":"How to create outputs with different number of decimals, depending on user&#39;s input (that can be a number from 1 to 3)?","body":"<p>I'm attending a Java course for beginners and I have this exercise to do:</p>\n<ul>\n<li>There are 5 students admitted to take an exam at college</li>\n<li>Create showInputDialog for each student's grade</li>\n<li>Create also showInputDialog to ask user to enter a number from 1 to 3 which represents the number of decimal numbers to display the mean of the 5 student's grades (for example: if user writes &quot;2&quot; he will get a mean like this XX,XX)</li>\n<li>If the mean of the 5 grades is higher than 25, the program must display a window to the user that says &quot;mean result passing&quot;</li>\n</ul>\n<p>I have done everything but I'm stuck at the point where I have to create the output to show the mean with the amount of decimal numbers choose by the user.</p>\n<p>How can I create outputs with different number of decimals, depending on user's input (that can be a number from 1 to 3)?</p>\n<p>I show you my code:</p>\n<pre><code>package module2;\n\nimport java.text.DecimalFormat;\n\nimport javax.swing.JOptionPane;\n\npublic class GradeMean2 {\n\n    public static void main(String[] args) {\n        \n        String gradeStudent1, gradeStudent2, gradeStudent3, gradeStudent4, gradeStudent5;\n        int valGradeStudent1, valGradeStudent2, valGradeStudent3, valGradeStudent4, valGradeStudent5, sum;\n        double mean;\n        String mean1Decimal, mean2Decimals, mean3Decimals;\n        String decimalNumber;\n        double valDecimalNumber;\n        String output;\n        \n        DecimalFormat oneNumber = new DecimalFormat(&quot;0.0&quot;);\n        DecimalFormat twoNumbers = new DecimalFormat(&quot;0.00&quot;);\n        DecimalFormat threeNumbers = new DecimalFormat(&quot;0.000&quot;);\n        \n        gradeStudent1 = JOptionPane.showInputDialog(&quot;Insert grade student 1&quot;);\n        valGradeStudent1 = Integer.parseInt(gradeStudent1);\n        \n        gradeStudent2 = JOptionPane.showInputDialog(&quot;Insert grade student 2&quot;);\n        valGradeStudent2 = Integer.parseInt(gradeStudent2);\n        \n        gradeStudent3 = JOptionPane.showInputDialog(&quot;Insert grade student 3&quot;);\n        valGradeStudent3 = Integer.parseInt(gradeStudent3);\n        \n        gradeStudent4 = JOptionPane.showInputDialog(&quot;Insert grade student 4&quot;);\n        valGradeStudent4 = Integer.parseInt(gradeStudent4);\n\n        gradeStudent5 = JOptionPane.showInputDialog(&quot;Insert grade student 5&quot;);\n        valGradeStudent5 = Integer.parseInt(gradeStudent5);\n        \n        decimalNumber = JOptionPane.showInputDialog(&quot;Insert number of decimals of mean&quot;);\n        valDecimalNumber = Integer.parseInt(decimalNumber);\n        \n        output = &quot;Grades:&quot; + &quot;\\ngrade student 1 = &quot; +gradeStudent1 +&quot;\\ngrade student 2 = &quot; +gradeStudent2 +&quot;\\ngrade student 3 = &quot; +gradeStudent3 +&quot;\\ngrade student 4 = &quot; +gradeStudent4 +&quot;\\ngrade student 5 = &quot; +gradeStudent5  +&quot;\\n\\n&quot;;\n\n        sum = valGradeStudent1 + valGradeStudent2 + valGradeStudent3 + valGradeStudent4 + valGradeStudent5;\n        mean = (double)sum/5;\n\n        mean1Decimal = oneNumber.format(media);\n        mean2Decimals = twoNumbers.format(media);\n        mean3Decimals = threeNumbers.format(media);\n\n        if(media &gt;= 25)\n            output = output + &quot;\\nMean result passing&quot;;\n        \n        JOptionPane.showMessageDialog(null, output);\n        System.exit(0);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665239602,"post_id":73997392,"comment_id":130655634,"body_markdown":"Assuming you have the correct listing of raw data coming back from your API call. don&#39;t call `next()` in your weather controller. Instead, pass the iterable data to Thymeleaf, and let Thymeleaf [do the iteration](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#iteration). So, Thymeleaf probably needs to receive a single object - whatever is returned from `forecastWeatherService.getForecastInfoByCity(counterValue, cityValue)`.","body":"Assuming you have the correct listing of raw data coming back from your API call. don&#39;t call <code>next()</code> in your weather controller. Instead, pass the iterable data to Thymeleaf, and let Thymeleaf <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#iteration\" rel=\"nofollow noreferrer\">do the iteration</a>. So, Thymeleaf probably needs to receive a single object - whatever is returned from <code>forecastWeatherService.getForecastInfoByCity(counterValue, cityValue)</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665239795,"post_id":73997392,"comment_id":130655671,"body_markdown":"&quot;_I tried some loops but didn&#39;t work._&quot; - Can you be more specific? It helps to show us what you tried, and what happened when you tried it. Do you mean Thymeleaf &quot;loops&quot;, or loops in your controller? Or something else?","body":"&quot;<i>I tried some loops but didn&#39;t work.</i>&quot; - Can you be more specific? It helps to show us what you tried, and what happened when you tried it. Do you mean Thymeleaf &quot;loops&quot;, or loops in your controller? Or something else?"}],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665246660,"creation_date":1665245694,"answer_id":73998587,"question_id":73997392,"body_markdown":"Instead of putting each attribute on, put the entire object on.  Then you can use Thymeleaf to loop through.  For example:\r\n\r\n    @GetMapping(&quot;/info/{counterValue}/info/{cityValue}&quot;)\r\n    public String getInfo(@PathVariable(&quot;counterValue&quot;) int counterValue, @PathVariable(&quot;cityValue&quot;) String cityValue , Model model){\r\n      model.addAttribute(&quot;forecast&quot;, forecastWeatherService.getForecastInfoByCity(counterValue, cityValue));\r\n      return &quot;home2&quot;;\r\n    }\r\n\r\nThen, in the Thymeleaf you loop over the same attributes.\r\n\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;h1&gt;Weather Tracker API&lt;/h1&gt;\r\n        &lt;h2 th:text=&quot;${forecast.city}&quot; /&gt;\r\n        \r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Temperature Now&lt;/th&gt;\r\n                &lt;th&gt;Minimum Temperature&lt;/th&gt;\r\n                &lt;th&gt;Maximum Temperature&lt;/th&gt;\r\n                &lt;th&gt;Date&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            \r\n            &lt;tr th:each=&quot;data: ${forecast.list}&quot;&gt;\r\n                &lt;td th:text=&quot;${data.main.temp}&quot; /&gt;\r\n                &lt;td th:text=&quot;${data.main.getTemp_min()}&quot; /&gt;\r\n                &lt;td th:text=&quot;${data.main.getTemp_max()}&quot; /&gt;\r\n                &lt;td th:text=&quot;${data.main.getDt_txt()}&quot; /&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/table&gt;\r\n    &lt;/div&gt;","title":"Display a list of weather info in a table (OpenWeather API)","body":"<p>Instead of putting each attribute on, put the entire object on.  Then you can use Thymeleaf to loop through.  For example:</p>\n<pre><code>@GetMapping(&quot;/info/{counterValue}/info/{cityValue}&quot;)\npublic String getInfo(@PathVariable(&quot;counterValue&quot;) int counterValue, @PathVariable(&quot;cityValue&quot;) String cityValue , Model model){\n  model.addAttribute(&quot;forecast&quot;, forecastWeatherService.getForecastInfoByCity(counterValue, cityValue));\n  return &quot;home2&quot;;\n}\n</code></pre>\n<p>Then, in the Thymeleaf you loop over the same attributes.</p>\n<pre><code>&lt;div class=&quot;container&quot;&gt;\n    &lt;h1&gt;Weather Tracker API&lt;/h1&gt;\n    &lt;h2 th:text=&quot;${forecast.city}&quot; /&gt;\n    \n    &lt;table class=&quot;table&quot;&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Temperature Now&lt;/th&gt;\n            &lt;th&gt;Minimum Temperature&lt;/th&gt;\n            &lt;th&gt;Maximum Temperature&lt;/th&gt;\n            &lt;th&gt;Date&lt;/th&gt;\n        &lt;/tr&gt;\n        \n        &lt;tr th:each=&quot;data: ${forecast.list}&quot;&gt;\n            &lt;td th:text=&quot;${data.main.temp}&quot; /&gt;\n            &lt;td th:text=&quot;${data.main.getTemp_min()}&quot; /&gt;\n            &lt;td th:text=&quot;${data.main.getTemp_max()}&quot; /&gt;\n            &lt;td th:text=&quot;${data.main.getDt_txt()}&quot; /&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":14665475,"reputation":111,"user_id":10591439,"display_name":"vapan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73998587,"answer_count":1,"score":0,"last_activity_date":1665246660,"creation_date":1665235877,"question_id":73997392,"body_markdown":"I use OpenWeather API to make an app in which you can search for the city you want to view its weather info(temp,weather description,min temp...). I made this part but i m stuck when i try to add forecast option in which you can see 5 Day / 3 Hour Forecast weather.\r\n\r\n[This is what i receive as a response][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jBMkL.png\r\n\r\n\r\nThe correct response would display a table that shows every 3 hours weather info but now i receive only one row with one date info.\r\n\r\nI tried some loops but didn&#39;t work. \r\n\r\n\r\n \r\n\r\n**ForecastWeatherController.java**\r\n  \r\n  \r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class ForecastWeatherController{\r\n    \r\n    \r\n        @Autowired\r\n        private ForecastWeatherService forecastWeatherService;\r\n    \r\n    \r\n        @GetMapping(&quot;/info/{counterValue}/info/{cityValue}&quot;)\r\n        public String getInfo(@PathVariable(&quot;counterValue&quot;) int counterValue, @PathVariable(&quot;cityValue&quot;) String cityValue , Model model){\r\n    \r\n            String name = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getCity().getName();\r\n            double temp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp();\r\n            String desc = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getWeather().listIterator().next().getDescription();\r\n            double minTemp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp_min();\r\n            double maxTemp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp_max();\r\n            String date = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getDt_txt();\r\n    \r\n            model.addAttribute(&quot;cityName&quot;, name);\r\n            model.addAttribute(&quot;weatherTemp&quot;, temp);\r\n            model.addAttribute(&quot;weatherDesc&quot;, desc);\r\n            model.addAttribute(&quot;weatherMinTemp&quot;, minTemp);\r\n            model.addAttribute(&quot;weatherMaxTemp&quot;, maxTemp);\r\n            model.addAttribute(&quot;weatherDate&quot;, date);\r\n    \r\n    \r\n            return &quot;home2&quot;;\r\n        }\r\n\r\n\r\n**home2.html**\r\n   \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Weather API Application&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    \r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;h1&gt;Weather Tracker API&lt;/h1&gt;\r\n        &lt;p&gt;Search for the city you want to view weather details&lt;/p&gt;\r\n    \r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;\r\n                    City&lt;/th&gt;\r\n                &lt;th&gt;\r\n                    Temperature Now&lt;/th&gt;\r\n                &lt;th&gt;\r\n                    Weather Description&lt;/th&gt;\r\n                &lt;th&gt;\r\n                    Minimum Temperature&lt;/th&gt;\r\n                &lt;th&gt;\r\n                    Maximum Temperature&lt;/th&gt;\r\n                &lt;th&gt;Date&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n    \r\n            &lt;td th:text=&quot;${cityName}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherTemp}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherDesc}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherMinTemp}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherMaxTemp}&quot;&gt;\r\n            &lt;td th:text=&quot;${weatherDate}&quot;/&gt;\r\n    \r\n        &lt;/table&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**ForecastWeatherService.java**\r\n   \r\n\r\n     public interface ForecastWeatherService {\r\n        \r\n            public ForecastWeatherModel getForecastInfoByCity(int counter , String cityValue);\r\n        \r\n        }\r\n\r\n**ForecastWeatherServiceImpl.java**\r\n\r\n    @Service\r\n    public class ForecastWeatherServiceImpl implements ForecastWeatherService{\r\n    \r\n        @Value(&quot;${forecast.url}&quot;)\r\n        private String forecastApiBaseUrl;\r\n    \r\n        @Value(&quot;${additional.url}&quot;)\r\n        private String forecastApiAdditionalUrl;\r\n    \r\n    \r\n        @Value(&quot;${api.key}&quot;)\r\n        private String apiKey;\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n    \r\n        @Override\r\n        public ForecastWeatherModel getForecastInfoByCity(int counter , String cityValue) {\r\n    \r\n            ForecastWeatherModel result = restTemplate.getForObject(forecastApiBaseUrl+counter+&quot;&amp;appid=&quot;+apiKey+forecastApiAdditionalUrl+cityValue+&quot;&amp;units=metric&quot; , ForecastWeatherModel.class);\r\n    \r\n            return result;\r\n        }\r\n\r\n**application.properties**\r\n\r\n   \r\n\r\n     external.api.url=  https://api.openweathermap.org/data/2.5/weather?q= \r\n        api.key = ApiKeyExample\r\n        server.port = 8080\r\n        \r\n        # ---------------------------FORECAST---------------------------\r\n        \r\n        forecast.url = https://api.openweathermap.org/data/2.5/forecast?cnt=\r\n        additional.url = &amp;q=\r\n\r\nDo i have to loop inside getInfo method and home2.html or i should make a ForecastWeatherModel List and loop the elements? \r\n","title":"Display a list of weather info in a table (OpenWeather API)","body":"<p>I use OpenWeather API to make an app in which you can search for the city you want to view its weather info(temp,weather description,min temp...). I made this part but i m stuck when i try to add forecast option in which you can see 5 Day / 3 Hour Forecast weather.</p>\n<p><a href=\"https://i.stack.imgur.com/jBMkL.png\" rel=\"nofollow noreferrer\">This is what i receive as a response</a></p>\n<p>The correct response would display a table that shows every 3 hours weather info but now i receive only one row with one date info.</p>\n<p>I tried some loops but didn't work.</p>\n<p><strong>ForecastWeatherController.java</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/&quot;)\npublic class ForecastWeatherController{\n\n\n    @Autowired\n    private ForecastWeatherService forecastWeatherService;\n\n\n    @GetMapping(&quot;/info/{counterValue}/info/{cityValue}&quot;)\n    public String getInfo(@PathVariable(&quot;counterValue&quot;) int counterValue, @PathVariable(&quot;cityValue&quot;) String cityValue , Model model){\n\n        String name = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getCity().getName();\n        double temp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp();\n        String desc = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getWeather().listIterator().next().getDescription();\n        double minTemp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp_min();\n        double maxTemp = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getMain().getTemp_max();\n        String date = forecastWeatherService.getForecastInfoByCity(counterValue, cityValue).getList().listIterator().next().getDt_txt();\n\n        model.addAttribute(&quot;cityName&quot;, name);\n        model.addAttribute(&quot;weatherTemp&quot;, temp);\n        model.addAttribute(&quot;weatherDesc&quot;, desc);\n        model.addAttribute(&quot;weatherMinTemp&quot;, minTemp);\n        model.addAttribute(&quot;weatherMaxTemp&quot;, maxTemp);\n        model.addAttribute(&quot;weatherDate&quot;, date);\n\n\n        return &quot;home2&quot;;\n    }\n</code></pre>\n<p><strong>home2.html</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Weather API Application&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;h1&gt;Weather Tracker API&lt;/h1&gt;\n    &lt;p&gt;Search for the city you want to view weather details&lt;/p&gt;\n\n    &lt;table class=&quot;table&quot;&gt;\n        &lt;tr&gt;\n            &lt;th&gt;\n                City&lt;/th&gt;\n            &lt;th&gt;\n                Temperature Now&lt;/th&gt;\n            &lt;th&gt;\n                Weather Description&lt;/th&gt;\n            &lt;th&gt;\n                Minimum Temperature&lt;/th&gt;\n            &lt;th&gt;\n                Maximum Temperature&lt;/th&gt;\n            &lt;th&gt;Date&lt;/th&gt;\n        &lt;/tr&gt;\n\n        &lt;td th:text=&quot;${cityName}&quot;&gt;\n        &lt;td th:text=&quot;${weatherTemp}&quot;&gt;\n        &lt;td th:text=&quot;${weatherDesc}&quot;&gt;\n        &lt;td th:text=&quot;${weatherMinTemp}&quot;&gt;\n        &lt;td th:text=&quot;${weatherMaxTemp}&quot;&gt;\n        &lt;td th:text=&quot;${weatherDate}&quot;/&gt;\n\n    &lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>ForecastWeatherService.java</strong></p>\n<pre><code> public interface ForecastWeatherService {\n    \n        public ForecastWeatherModel getForecastInfoByCity(int counter , String cityValue);\n    \n    }\n</code></pre>\n<p><strong>ForecastWeatherServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class ForecastWeatherServiceImpl implements ForecastWeatherService{\n\n    @Value(&quot;${forecast.url}&quot;)\n    private String forecastApiBaseUrl;\n\n    @Value(&quot;${additional.url}&quot;)\n    private String forecastApiAdditionalUrl;\n\n\n    @Value(&quot;${api.key}&quot;)\n    private String apiKey;\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n\n    @Override\n    public ForecastWeatherModel getForecastInfoByCity(int counter , String cityValue) {\n\n        ForecastWeatherModel result = restTemplate.getForObject(forecastApiBaseUrl+counter+&quot;&amp;appid=&quot;+apiKey+forecastApiAdditionalUrl+cityValue+&quot;&amp;units=metric&quot; , ForecastWeatherModel.class);\n\n        return result;\n    }\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code> external.api.url=  https://api.openweathermap.org/data/2.5/weather?q= \n    api.key = ApiKeyExample\n    server.port = 8080\n    \n    # ---------------------------FORECAST---------------------------\n    \n    forecast.url = https://api.openweathermap.org/data/2.5/forecast?cnt=\n    additional.url = &amp;q=\n</code></pre>\n<p>Do i have to loop inside getInfo method and home2.html or i should make a ForecastWeatherModel List and loop the elements?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-kotlin"],"answers":[{"tags":[],"owner":{"account_id":12488260,"reputation":9988,"user_id":9090751,"display_name":"Mafor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665244217,"creation_date":1665244217,"answer_id":73998403,"question_id":73997290,"body_markdown":"One of strategies often used is creating an interface (e.g. `PersonApi` in your case) and moving all swagger annotations there. The actual controller should implement this interface.\r\n\r\nIn regard to the error responses: you may consider adding them programatically to all operations/endpoints using [OpenApiCustomiser](https://github.com/springdoc/springdoc-openapi/issues/381#issuecomment-579583870).","title":"How to reduce or organize swagger declarations with Kotlin","body":"<p>One of strategies often used is creating an interface (e.g. <code>PersonApi</code> in your case) and moving all swagger annotations there. The actual controller should implement this interface.</p>\n<p>In regard to the error responses: you may consider adding them programatically to all operations/endpoints using <a href=\"https://github.com/springdoc/springdoc-openapi/issues/381#issuecomment-579583870\" rel=\"nofollow noreferrer\">OpenApiCustomiser</a>.</p>\n"}],"owner":{"account_id":13797456,"reputation":24,"user_id":9958300,"display_name":"Igor Bittencourt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665244217,"creation_date":1665235001,"question_id":73997290,"body_markdown":"how can I organize the swagger annotations, for example I have an endpoint that catches all the users, so the swagger statements were huge. Is there any way I can organize this in another file to be more organized?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d1Kod.png","title":"How to reduce or organize swagger declarations with Kotlin","body":"<p>how can I organize the swagger annotations, for example I have an endpoint that catches all the users, so the swagger statements were huge. Is there any way I can organize this in another file to be more organized?</p>\n<p><a href=\"https://i.stack.imgur.com/d1Kod.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d1Kod.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","validation","spring-mvc","javax.validation"],"comments":[{"owner":{"account_id":5128092,"reputation":890,"user_id":5700434,"accept_rate":50,"display_name":"Sasuke Uchiha"},"score":0,"creation_date":1665229271,"post_id":73996455,"comment_id":130653724,"body_markdown":"you can create your own custom validation\nhttps://www.baeldung.com/spring-mvc-custom-validator","body":"you can create your own custom validation <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-custom-validator</a>"},{"owner":{"account_id":5749694,"reputation":397,"user_id":4539789,"display_name":"Mayur Gite"},"score":0,"creation_date":1665241880,"post_id":73996455,"comment_id":130656069,"body_markdown":"@SasukeUchiha - I tried that but validator&#39;s isValid() method returns true/false, which is not solving my multi-validation  problem.","body":"@SasukeUchiha - I tried that but validator&#39;s isValid() method returns true/false, which is not solving my multi-validation  problem."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1667566124,"post_id":73996455,"comment_id":131202455,"body_markdown":"@MayurGite did you check my answer?","body":"@MayurGite did you check my answer?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665244164,"creation_date":1665243861,"answer_id":73998358,"question_id":73996455,"body_markdown":"`NotBlank` is a combination of both functionalities that `NotNull` and `NotEmpty` validate. Therefore `@NotBlank` will fire both when the bound pathVariable is `null` and when `empty`.\r\n\r\nSince you already have `@Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)` you are already checking if `not empty`. This annotation will fire at the same time with `@NotBlank` in case the pathVariable is `empty` string.\r\n\r\nSo you only need a different constraint validation for when it is `null`, so that the 2 annotations that enforce constraints do not override each other. \r\n\r\nAs a solution you can replace `@NotBlank` with `@NotNull`.\r\n\r\n    @PathVariable(name = &quot;id&quot;)\r\n      @NotNull(message = &quot;Missing required field&quot;)\r\n      @Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)\r\n    String id","title":"Multiple javax.validation.constraints validations on @PathVariable","body":"<p><code>NotBlank</code> is a combination of both functionalities that <code>NotNull</code> and <code>NotEmpty</code> validate. Therefore <code>@NotBlank</code> will fire both when the bound pathVariable is <code>null</code> and when <code>empty</code>.</p>\n<p>Since you already have <code>@Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)</code> you are already checking if <code>not empty</code>. This annotation will fire at the same time with <code>@NotBlank</code> in case the pathVariable is <code>empty</code> string.</p>\n<p>So you only need a different constraint validation for when it is <code>null</code>, so that the 2 annotations that enforce constraints do not override each other.</p>\n<p>As a solution you can replace <code>@NotBlank</code> with <code>@NotNull</code>.</p>\n<pre><code>@PathVariable(name = &quot;id&quot;)\n  @NotNull(message = &quot;Missing required field&quot;)\n  @Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)\nString id\n</code></pre>\n"}],"owner":{"account_id":5749694,"reputation":397,"user_id":4539789,"display_name":"Mayur Gite"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73998358,"answer_count":1,"score":2,"last_activity_date":1665244164,"creation_date":1665227077,"question_id":73996455,"body_markdown":"I am applying multiple validations on path variable \r\n\r\n    @PathVariable(name = &quot;id&quot;)\r\n      @NotBlank(message = &quot;Missing required field&quot;)\r\n      @Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)\r\n    String id\r\n\r\nNow, when I am sending empty string in path param then I am getting both messages because both validations are failing.\r\n\r\nFor my param **id**, I want both validations but it should not throw both error messages at a time when I am sending empty string.\r\n\r\nI want it to throw only \r\n\r\n&gt; &quot;Missing required field&quot;\r\n\r\nand not both.\r\n","title":"Multiple javax.validation.constraints validations on @PathVariable","body":"<p>I am applying multiple validations on path variable</p>\n<pre><code>@PathVariable(name = &quot;id&quot;)\n  @NotBlank(message = &quot;Missing required field&quot;)\n  @Size(min = 1, max = 3, message = &quot;Invalid input size&quot;)\nString id\n</code></pre>\n<p>Now, when I am sending empty string in path param then I am getting both messages because both validations are failing.</p>\n<p>For my param <strong>id</strong>, I want both validations but it should not throw both error messages at a time when I am sending empty string.</p>\n<p>I want it to throw only</p>\n<blockquote>\n<p>&quot;Missing required field&quot;</p>\n</blockquote>\n<p>and not both.</p>\n"},{"tags":["java","xml","gradle","javafx","jlink"],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1665295460,"post_id":73998378,"comment_id":130663714,"body_markdown":"Note that the &quot;better&quot; solution is to use `--add-modules` when executing `jlink`, as it is [not recommended](https://stackoverflow.com/questions/73422270/why-should-an-application-module-not-require-a-module-that-provides-a-service/73422988#73422988) for an application module to explicitly require a provider module. But your approach will work just fine.","body":"Note that the &quot;better&quot; solution is to use <code>--add-modules</code> when executing <code>jlink</code>, as it is <a href=\"https://stackoverflow.com/questions/73422270/why-should-an-application-module-not-require-a-module-that-provides-a-service/73422988#73422988\">not recommended</a> for an application module to explicitly require a provider module. But your approach will work just fine."}],"tags":[],"owner":{"account_id":1351225,"reputation":507,"user_id":1290778,"accept_rate":100,"display_name":"phanteh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665244023,"creation_date":1665244023,"answer_id":73998378,"question_id":73997099,"body_markdown":"So I managed to fix my issue after a little more time... Typical!\r\n\r\nIf anyone else happens across this, it was indeed due to a missing transitive dependency. Looking at my project&#39;s dependencies (using VS Code):\r\n\r\n[![dependency view][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rx9dn.jpg\r\n\r\nLooking at the `module-info` for `woodstox-core` I found:\r\n\r\n```\r\nmodule-info module com.ctc.wstx  {\r\n  ...\r\n  provides javax.xml.stream.XMLEventFactory with com.ctc.wstx.stax.WstxEventFactory;\r\n  provides javax.xml.stream.XMLInputFactory with com.ctc.wstx.stax.WstxInputFactory;\r\n  provides javax.xml.stream.XMLOutputFactory with com.ctc.wstx.stax.WstxOutputFactory;\r\n  ...\r\n}\r\n```\r\n\r\nAnd so, I have fixed the issue by adding this to my module&#39;s `module-info`:\r\n\r\n```\r\nmodule expmanager {\r\n    ...\r\n    requires transitive com.ctc.wstx;\r\n    ...\r\n}\r\n```","title":"JLink XML dependency issue","body":"<p>So I managed to fix my issue after a little more time... Typical!</p>\n<p>If anyone else happens across this, it was indeed due to a missing transitive dependency. Looking at my project's dependencies (using VS Code):</p>\n<p><a href=\"https://i.stack.imgur.com/Rx9dn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rx9dn.jpg\" alt=\"dependency view\" /></a></p>\n<p>Looking at the <code>module-info</code> for <code>woodstox-core</code> I found:</p>\n<pre><code>module-info module com.ctc.wstx  {\n  ...\n  provides javax.xml.stream.XMLEventFactory with com.ctc.wstx.stax.WstxEventFactory;\n  provides javax.xml.stream.XMLInputFactory with com.ctc.wstx.stax.WstxInputFactory;\n  provides javax.xml.stream.XMLOutputFactory with com.ctc.wstx.stax.WstxOutputFactory;\n  ...\n}\n</code></pre>\n<p>And so, I have fixed the issue by adding this to my module's <code>module-info</code>:</p>\n<pre><code>module expmanager {\n    ...\n    requires transitive com.ctc.wstx;\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":1351225,"reputation":507,"user_id":1290778,"accept_rate":100,"display_name":"phanteh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73998378,"answer_count":1,"score":2,"last_activity_date":1665244023,"creation_date":1665233207,"question_id":73997099,"body_markdown":"So I recently took a Java job and needed a project to brush up on my Java skills (been a few years). I started writing a JavaFX app - some game mod tooling, essentially - and used JLink / plugin to make sure I could build a standalone executable. This all went smoothly and I started developing my app. I&#39;ve now tried to build an executable for a friend to help test out, and I&#39;ve hit a dependency issue when I run the app as an executable or from the packaged jar file:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; javax.xml.stream.FactoryConfigurationError: Provider for javax.xml.stream.XMLInputFactory cannot be found\r\n        at java.xml/javax.xml.stream.FactoryFinder.find(Unknown Source)\r\n        at java.xml/javax.xml.stream.XMLInputFactory.newFactory(Unknown Source)\r\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\r\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\r\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\r\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlMapper.&lt;init&gt;(Unknown Source)\r\n        at expmanager/expmanager.data.FileManager.&lt;init&gt;(Unknown Source)\r\n        at expmanager/expmanager.project.Project.&lt;init&gt;(Unknown Source)\r\n        at expmanager/expmanager.controller.SelectorController.handleLoadClick(Unknown Source)\r\n```\r\nMy module-info.java:\r\n```java\r\nmodule expmanager {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires com.fasterxml.jackson.core;\r\n    requires com.fasterxml.jackson.dataformat.xml;\r\n    requires com.fasterxml.jackson.databind;\r\n    requires transitive javafx.graphics;\r\n\r\n    opens expmanager.controller to javafx.fxml;\r\n    opens expmanager.controller.listItem to javafx.fxml;\r\n    opens expmanager.controller.tab to javafx.fxml;\r\n    opens expmanager.controller.component to javafx.fxml;\r\n    opens expmanager.data.itemtypes to com.fasterxml.jackson.databind;\r\n    opens expmanager.data.core to com.fasterxml.jackson.databind;\r\n    opens expmanager.data.expansion to com.fasterxml.jackson.databind;\r\n    opens expmanager.project.expansion to javafx.base;\r\n    opens expmanager.project.mission to javafx.base;\r\n\r\n    exports expmanager;\r\n    exports expmanager.data.core;\r\n    exports expmanager.data.itemtypes;\r\n    exports expmanager.data.expansion;\r\n    exports expmanager.project;\r\n    exports expmanager.project.expansion;\r\n    exports expmanager.project.mission;\r\n}\r\n```\r\nAnd build.gradle:\r\n```groovy\r\nplugins {\r\n  id &#39;application&#39;\r\n  id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n  id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n  id &quot;com.diffplug.spotless&quot; version &quot;6.11.0&quot;\r\n}\r\n\r\nspotless {\r\n    ratchetFrom &#39;main&#39;\r\n    java {\r\n        eclipse().configFile(&#39;formatter.xml&#39;)\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njavafx {\r\n    version = &quot;19&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n}\r\n\r\napplication {\r\n    mainClass = &quot;expmanager.SelectorApp&quot;\r\n    mainModule = &quot;expmanager&quot;\r\n}\r\n\r\njlink {\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    mergedModule {\r\n        requires &#39;java.xml&#39;\r\n    }\r\n    launcher {\r\n        name = &#39;expmanager&#39;\r\n    }\r\n    jpackage {\r\n        imageOptions = [&#39;--win-console&#39;]\r\n        skipInstaller = &#39;true&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.4&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.4&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.4&#39;\r\n    implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.4&#39;\r\n}\r\n```\r\n\r\nThe app works perfectly when I `run`. Based on some googling, I have tried including `java.xml` as a `mergedModule` but this has no effect. Attempting to do the same with the missing library throws errors, as does attempting to add it as a dependency to gradle.\r\n\r\nThis is my first time using j-link, j-modules etc. any help diagnosing this would be appreciated!","title":"JLink XML dependency issue","body":"<p>So I recently took a Java job and needed a project to brush up on my Java skills (been a few years). I started writing a JavaFX app - some game mod tooling, essentially - and used JLink / plugin to make sure I could build a standalone executable. This all went smoothly and I started developing my app. I've now tried to build an executable for a friend to help test out, and I've hit a dependency issue when I run the app as an executable or from the packaged jar file:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; javax.xml.stream.FactoryConfigurationError: Provider for javax.xml.stream.XMLInputFactory cannot be found\n        at java.xml/javax.xml.stream.FactoryFinder.find(Unknown Source)\n        at java.xml/javax.xml.stream.XMLInputFactory.newFactory(Unknown Source)\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlFactory.&lt;init&gt;(Unknown Source)\n        at com.fasterxml.jackson.dataformat.xml@2.13.4/com.fasterxml.jackson.dataformat.xml.XmlMapper.&lt;init&gt;(Unknown Source)\n        at expmanager/expmanager.data.FileManager.&lt;init&gt;(Unknown Source)\n        at expmanager/expmanager.project.Project.&lt;init&gt;(Unknown Source)\n        at expmanager/expmanager.controller.SelectorController.handleLoadClick(Unknown Source)\n</code></pre>\n<p>My module-info.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module expmanager {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires com.fasterxml.jackson.core;\n    requires com.fasterxml.jackson.dataformat.xml;\n    requires com.fasterxml.jackson.databind;\n    requires transitive javafx.graphics;\n\n    opens expmanager.controller to javafx.fxml;\n    opens expmanager.controller.listItem to javafx.fxml;\n    opens expmanager.controller.tab to javafx.fxml;\n    opens expmanager.controller.component to javafx.fxml;\n    opens expmanager.data.itemtypes to com.fasterxml.jackson.databind;\n    opens expmanager.data.core to com.fasterxml.jackson.databind;\n    opens expmanager.data.expansion to com.fasterxml.jackson.databind;\n    opens expmanager.project.expansion to javafx.base;\n    opens expmanager.project.mission to javafx.base;\n\n    exports expmanager;\n    exports expmanager.data.core;\n    exports expmanager.data.itemtypes;\n    exports expmanager.data.expansion;\n    exports expmanager.project;\n    exports expmanager.project.expansion;\n    exports expmanager.project.mission;\n}\n</code></pre>\n<p>And build.gradle:</p>\n<pre><code>plugins {\n  id 'application'\n  id 'org.openjfx.javafxplugin' version '0.0.10'\n  id 'org.beryx.jlink' version '2.25.0'\n  id &quot;com.diffplug.spotless&quot; version &quot;6.11.0&quot;\n}\n\nspotless {\n    ratchetFrom 'main'\n    java {\n        eclipse().configFile('formatter.xml')\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;19&quot;\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n\napplication {\n    mainClass = &quot;expmanager.SelectorApp&quot;\n    mainModule = &quot;expmanager&quot;\n}\n\njlink {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    mergedModule {\n        requires 'java.xml'\n    }\n    launcher {\n        name = 'expmanager'\n    }\n    jpackage {\n        imageOptions = ['--win-console']\n        skipInstaller = 'true'\n    }\n}\n\ndependencies {\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.4'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.4'\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.4'\n    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.4'\n}\n</code></pre>\n<p>The app works perfectly when I <code>run</code>. Based on some googling, I have tried including <code>java.xml</code> as a <code>mergedModule</code> but this has no effect. Attempting to do the same with the missing library throws errors, as does attempting to add it as a dependency to gradle.</p>\n<p>This is my first time using j-link, j-modules etc. any help diagnosing this would be appreciated!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","entitymanager"],"comments":[{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1665044618,"post_id":73954014,"comment_id":130608228,"body_markdown":"Why do you manually create the entitymanager and control transactions in the first place?","body":"Why do you manually create the entitymanager and control transactions in the first place?"},{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1665044683,"post_id":73954014,"comment_id":130608251,"body_markdown":"Please ask only one question per post.","body":"Please ask only one question per post."},{"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"score":0,"creation_date":1665244268,"post_id":73954014,"comment_id":130656592,"body_markdown":"@JensSchauder, because I want to receive the new Entity id, but to not commit it yet. If I use Transactional annotation, the new created entity will automatically be saved. But I want first to build the entity, upload it&#39;s image to s3, and then after doing some additional processes, to save the entity.","body":"@JensSchauder, because I want to receive the new Entity id, but to not commit it yet. If I use Transactional annotation, the new created entity will automatically be saved. But I want first to build the entity, upload it&#39;s image to s3, and then after doing some additional processes, to save the entity."}],"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665243997,"creation_date":1664920811,"question_id":73954014,"body_markdown":"I have a simple situation and don&#39;t know what method/solution is better in performance. \r\n\r\n**In the following current method:** \r\n 1. I am persisting the entity in order to receive the entity id in order to upload it to s3. I am getting the id with help of Lifecycle.\r\n 2. If I generate entity id using UUID.randomUUID().toString() -&gt; spring boot will generate an additional MySQL &#39;select statement&#39; before insertion which would affect the application performance.\r\n 3. When I use emf.createEntityManager(), a new Database connection is created. And the hikari pool size freeze after a while, due to active not closed connections.\r\n\r\n\r\n**Questions:** \r\nHow is it possible to configure EntityManagerFactory, so it uses the current database connection, instead of opening a new one ? \r\n\r\n        private ProductImage addProductImage(Product product, String url, Boolean uploadImageToS3) {\r\n        EntityManager em = emf.createEntityManager();\r\n        String productImageUrl = null;\r\n        String productImageId = null;\r\n        try {\r\n            EntityTransaction transaction = em.getTransaction();\r\n            transaction.begin();\r\n\r\n            ProductImage productImage = new ProductImage();\r\n            productImage.setOriginalUrl(url);\r\n\r\n            InputStream inputStream = null;\r\n            if(uploadImageToS3) {\r\n                inputStream = getInputStreamFromUrl(url);\r\n                productImage.setSize(getInputStreamSizeOrZero(inputStream));\r\n                productImage.setS3BucketAndEndpoint(storageProperties.getStorageS3ImagesBucketName() + &quot;.&quot; + storageProperties.getStorageS3EndPoint());\r\n                productImage.setS3FolderName(S3FolderName.PRODUCTS);\r\n                productImage.setS3Size(S3Size.FULL);\r\n                productImage.setS3Production(storageProperties.getStorageS3Production());\r\n                productImage.setS3CloudFrontDomain(storageProperties.getStorageS3CloudFrontDomain());\r\n            } else {\r\n                productImage.setUri(url);\r\n            }\r\n\r\n            em.persist(productImage);\r\n            productImageId = productImage.getId();\r\n\r\n            if(uploadImageToS3) {\r\n                productImageUrl = s3StorageService.uploadImage(inputStream, S3FolderName.PRODUCTS, productImageId, S3Size.FULL, allowedImageFormat);\r\n                try {\r\n                    inputStream.close();\r\n                } catch (IOException e) {\r\n                    throw new CustomGraphQLException(&quot;Input stream of the product image could not be closed.&quot;);\r\n                } finally {\r\n                    em.close();\r\n                }\r\n            } else {\r\n                em.close();\r\n            }\r\n            return productImage;\r\n        } catch (Exception e) {\r\n            em.getTransaction().rollback();\r\n            em.close();\r\n            if(productImageUrl!=null &amp;&amp; uploadImageToS3) {\r\n                s3StorageService.deleteImage(S3FolderName.PRODUCTS, productImageId , S3Size.FULL, allowedImageFormat);\r\n            }\r\n            throw new CustomGraphQLException(&quot;Product image could not be inserted. &quot; + e.getMessage());\r\n        }","title":"Spring boot - Multiple Database connections generated by entityManagerFactory.createEntityManager();","body":"<p>I have a simple situation and don't know what method/solution is better in performance.</p>\n<p><strong>In the following current method:</strong></p>\n<ol>\n<li>I am persisting the entity in order to receive the entity id in order to upload it to s3. I am getting the id with help of Lifecycle.</li>\n<li>If I generate entity id using UUID.randomUUID().toString() -&gt; spring boot will generate an additional MySQL 'select statement' before insertion which would affect the application performance.</li>\n<li>When I use emf.createEntityManager(), a new Database connection is created. And the hikari pool size freeze after a while, due to active not closed connections.</li>\n</ol>\n<p><strong>Questions:</strong>\nHow is it possible to configure EntityManagerFactory, so it uses the current database connection, instead of opening a new one ?</p>\n<pre><code>    private ProductImage addProductImage(Product product, String url, Boolean uploadImageToS3) {\n    EntityManager em = emf.createEntityManager();\n    String productImageUrl = null;\n    String productImageId = null;\n    try {\n        EntityTransaction transaction = em.getTransaction();\n        transaction.begin();\n\n        ProductImage productImage = new ProductImage();\n        productImage.setOriginalUrl(url);\n\n        InputStream inputStream = null;\n        if(uploadImageToS3) {\n            inputStream = getInputStreamFromUrl(url);\n            productImage.setSize(getInputStreamSizeOrZero(inputStream));\n            productImage.setS3BucketAndEndpoint(storageProperties.getStorageS3ImagesBucketName() + &quot;.&quot; + storageProperties.getStorageS3EndPoint());\n            productImage.setS3FolderName(S3FolderName.PRODUCTS);\n            productImage.setS3Size(S3Size.FULL);\n            productImage.setS3Production(storageProperties.getStorageS3Production());\n            productImage.setS3CloudFrontDomain(storageProperties.getStorageS3CloudFrontDomain());\n        } else {\n            productImage.setUri(url);\n        }\n\n        em.persist(productImage);\n        productImageId = productImage.getId();\n\n        if(uploadImageToS3) {\n            productImageUrl = s3StorageService.uploadImage(inputStream, S3FolderName.PRODUCTS, productImageId, S3Size.FULL, allowedImageFormat);\n            try {\n                inputStream.close();\n            } catch (IOException e) {\n                throw new CustomGraphQLException(&quot;Input stream of the product image could not be closed.&quot;);\n            } finally {\n                em.close();\n            }\n        } else {\n            em.close();\n        }\n        return productImage;\n    } catch (Exception e) {\n        em.getTransaction().rollback();\n        em.close();\n        if(productImageUrl!=null &amp;&amp; uploadImageToS3) {\n            s3StorageService.deleteImage(S3FolderName.PRODUCTS, productImageId , S3Size.FULL, allowedImageFormat);\n        }\n        throw new CustomGraphQLException(&quot;Product image could not be inserted. &quot; + e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","json","gson"],"answers":[{"comments":[{"owner":{"account_id":26564771,"reputation":1,"user_id":20192026,"display_name":"Pokahondas33"},"score":0,"creation_date":1665243511,"post_id":73998215,"comment_id":130656417,"body_markdown":"Thank you i may try this, there is no faster way with gson to automatically match the objects with my class?\nBecause i see a lot of examples and they just pass the String into the User.class and it matches everything automatically.","body":"Thank you i may try this, there is no faster way with gson to automatically match the objects with my class? Because i see a lot of examples and they just pass the String into the User.class and it matches everything automatically."}],"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665242781,"creation_date":1665242781,"answer_id":73998215,"question_id":73998014,"body_markdown":"First thing I don&#39;t know is how one can define a class like this `Class User() {}`.\r\n\r\nYou can use this class `com.fasterxml.jackson.databind.ObjectMapper` to convert a reference to a JSON, and you can pass a `List&lt;User&gt;` to get the JSON array\r\n\r\n\r\n    public static String asJsonString(final Object obj) {\r\n    \ttry {\r\n    \t\treturn new ObjectMapper().writeValueAsString(obj);\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(&quot;Cannot convert to JSON&quot;);\r\n    \t}\r\n    }\r\n\r\nThis is a sample main method\r\n\r\n    public static void main(String[] args) {\r\n    \tSystem.out.println(asJsonString(new User(&quot;John&quot;, &quot;Doe&quot;, 100, 200)));\r\n    \t\r\n    \tUser user1 = new User(&quot;John&quot;, &quot;Doe&quot;, 100, 200);\r\n    \tUser user2 = new User(&quot;John&quot;, &quot;Snow&quot;, 200, 300);\r\n    \tUser user3 = new User(&quot;John&quot;, &quot;Pit&quot;, 300, 400);\r\n    \t\r\n    \tList&lt;User&gt; list = new ArrayList&lt;User&gt;();\r\n    \tlist.add(user1);\r\n    \tlist.add(user2);\r\n    \tlist.add(user3);\r\n    \t\r\n    \tSystem.out.println(asJsonString(list));\r\n    }\r\n\r\nThis will be the respective output\r\n\r\n    {&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Doe&quot;,&quot;num&quot;:100,&quot;numb&quot;:200}\r\n    [{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Doe&quot;,&quot;num&quot;:100,&quot;numb&quot;:200},{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Snow&quot;,&quot;num&quot;:200,&quot;numb&quot;:300},{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Pit&quot;,&quot;num&quot;:300,&quot;numb&quot;:400}]\r\n\r\n","title":"How to transform a JSONarray to a JSONObject in Java","body":"<p>First thing I don't know is how one can define a class like this <code>Class User() {}</code>.</p>\n<p>You can use this class <code>com.fasterxml.jackson.databind.ObjectMapper</code> to convert a reference to a JSON, and you can pass a <code>List&lt;User&gt;</code> to get the JSON array</p>\n<pre><code>public static String asJsonString(final Object obj) {\n    try {\n        return new ObjectMapper().writeValueAsString(obj);\n    } catch (Exception e) {\n        System.out.println(&quot;Cannot convert to JSON&quot;);\n    }\n}\n</code></pre>\n<p>This is a sample main method</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(asJsonString(new User(&quot;John&quot;, &quot;Doe&quot;, 100, 200)));\n    \n    User user1 = new User(&quot;John&quot;, &quot;Doe&quot;, 100, 200);\n    User user2 = new User(&quot;John&quot;, &quot;Snow&quot;, 200, 300);\n    User user3 = new User(&quot;John&quot;, &quot;Pit&quot;, 300, 400);\n    \n    List&lt;User&gt; list = new ArrayList&lt;User&gt;();\n    list.add(user1);\n    list.add(user2);\n    list.add(user3);\n    \n    System.out.println(asJsonString(list));\n}\n</code></pre>\n<p>This will be the respective output</p>\n<pre><code>{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Doe&quot;,&quot;num&quot;:100,&quot;numb&quot;:200}\n[{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Doe&quot;,&quot;num&quot;:100,&quot;numb&quot;:200},{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Snow&quot;,&quot;num&quot;:200,&quot;numb&quot;:300},{&quot;name&quot;:&quot;John&quot;,&quot;lastName&quot;:&quot;Pit&quot;,&quot;num&quot;:300,&quot;numb&quot;:400}]\n</code></pre>\n"}],"owner":{"account_id":26564771,"reputation":1,"user_id":20192026,"display_name":"Pokahondas33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665243336,"creation_date":1665241285,"question_id":73998014,"body_markdown":"I know this has been asked a lot but i really can&#39;t find any working solution.\r\n\r\nI am requesting an API and if i print the parameter \r\n\r\n```\r\nString result = api.Request();\r\nSystem.out.println(result);\r\n```\r\n\r\nThe respose is in the following form:\r\n\r\n```\r\n    [\r\n        [ Jon, Doe , 18 , 18],\r\n        [ Jon, Doe , 18 , 18],\r\n        [ Jon, Doe , 18 , 18]\r\n    ]\r\n```\r\nAt the moment a working solution i have is \r\n```   \r\n   JSONArray arr = new JSONArray(result);\r\n   User user = new User(arr.getJSONArray(i).get(j).....)\r\n   You get the point\r\n```\r\n\r\n```\r\n    Class User\r\n    {\r\n       public String name;\r\n       public String lastName;\r\n       public int num;\r\n       public int numb;\r\n      //getters setters\r\n    }\r\n```\r\n\r\nI want to use gson or something else to tranform my JSONArray to a Java object.\r\n```\r\n     User[] user = new Gson().fromJson(result,User[].class);\r\n```\r\n\r\n```\r\n     expected BEGIN_OBJECT but was BEGIN_ARRAY\r\n\r\n```\r\nAny help is appreciated. \r\n","title":"How to transform a JSONarray to a JSONObject in Java","body":"<p>I know this has been asked a lot but i really can't find any working solution.</p>\n<p>I am requesting an API and if i print the parameter</p>\n<pre><code>String result = api.Request();\nSystem.out.println(result);\n</code></pre>\n<p>The respose is in the following form:</p>\n<pre><code>    [\n        [ Jon, Doe , 18 , 18],\n        [ Jon, Doe , 18 , 18],\n        [ Jon, Doe , 18 , 18]\n    ]\n</code></pre>\n<p>At the moment a working solution i have is</p>\n<pre><code>   JSONArray arr = new JSONArray(result);\n   User user = new User(arr.getJSONArray(i).get(j).....)\n   You get the point\n</code></pre>\n<pre><code>    Class User\n    {\n       public String name;\n       public String lastName;\n       public int num;\n       public int numb;\n      //getters setters\n    }\n</code></pre>\n<p>I want to use gson or something else to tranform my JSONArray to a Java object.</p>\n<pre><code>     User[] user = new Gson().fromJson(result,User[].class);\n</code></pre>\n<pre><code>     expected BEGIN_OBJECT but was BEGIN_ARRAY\n\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","oracle","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1665243377,"post_id":73998206,"comment_id":130656380,"body_markdown":"Probably the sequence named &quot;hibernate_sequence&quot; is missing in your schema.\nBetter to use &quot;strategy = GenerationType.SEQUENCE&quot; and have a different sequence per entity.","body":"Probably the sequence named &quot;hibernate_sequence&quot; is missing in your schema. Better to use &quot;strategy = GenerationType.SEQUENCE&quot; and have a different sequence per entity."},{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1665384943,"post_id":73998206,"comment_id":130678839,"body_markdown":"@p3consulting Why would that be better?","body":"@p3consulting Why would that be better?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1665386816,"post_id":73998206,"comment_id":130679394,"body_markdown":"One sequence per entity: you control the name, DB schema and application easier to refactor, DB schema easier to reuse in other context, less likely to reach the MAX of the sequence, ... matter of taste if you like...","body":"One sequence per entity: you control the name, DB schema and application easier to refactor, DB schema easier to reuse in other context, less likely to reach the MAX of the sequence, ... matter of taste if you like..."}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665242675,"creation_date":1665242675,"question_id":73998206,"body_markdown":"**I am trying to perform regular CRUD operations using Spring data JPA on an oracle database. Here are the details:**\r\n\r\n**1. Entity details:**\r\n\r\n\r\n\r\n    @Entity\r\n    @Table\r\n    public class Employee {\r\n\r\n    private long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String emailId;\r\n \r\n    public Employee() {\r\n  \r\n    }\r\n \r\n    public Employee(String firstName, String lastName, String emailId) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.emailId = emailId;\r\n    }\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    public long getId() {\r\n        return id;\r\n    }\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n \r\n    @Column(name = &quot;first_name&quot;, nullable = false)\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n \r\n    @Column(name = &quot;last_name&quot;, nullable = false)\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n \r\n    @Column(name = &quot;email_address&quot;, nullable = false)\r\n    public String getEmailId() {\r\n        return emailId;\r\n    }\r\n    public void setEmailId(String emailId) {\r\n        this.emailId = emailId;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, emailId=&quot; + emailId\r\n    + &quot;]&quot;;\r\n    }\r\n \r\n}\r\n\r\n\r\n\r\n\r\n\r\n**2. Here is my Runner :**\r\n\r\n\r\n        @Component\r\n    public class MyRunner implements CommandLineRunner {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(MyRunner.class);\r\n\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @Override\r\n    public void run(String...args) throws Exception {\r\n\r\n        employeeRepository.save(new Employee(&quot;Ramesh&quot;, &quot;Fadatare&quot;, &quot;ramesh@gmail.com&quot;));\r\n        employeeRepository.save(new Employee(&quot;Tom&quot;, &quot;Cruise&quot;, &quot;tom@gmail.com&quot;));\r\n        employeeRepository.save(new Employee(&quot;John&quot;, &quot;Cena&quot;, &quot;john@gmail.com&quot;));\r\n        employeeRepository.save(new Employee(&quot;tony&quot;, &quot;stark&quot;, &quot;stark@gmail.com&quot;));\r\n\r\n        logger.info(&quot;# of employees: {}&quot;, employeeRepository.count());\r\n\r\n        logger.info(&quot;All employees unsorted:&quot;);\r\n\r\n        Iterable &lt; Employee &gt; employees = employeeRepository.findAll();\r\n        Iterator &lt; Employee &gt; iterator = employees.iterator();\r\n        while (iterator.hasNext()) {\r\n            logger.info(&quot;{}&quot;, iterator.next().toString());\r\n        }\r\n\r\n        logger.info(&quot;------------------------&quot;);\r\n\r\n            logger.info(&quot;Deleting employee with id 1&quot;);\r\n    //        employeeRepository.deleteById(1 L);\r\n    \r\n            logger.info(&quot;# of employees: {}&quot;, employeeRepository.count());\r\n    \r\n    //        employeeRepository.existsById(2 L);\r\n    //        employeeRepository.findById(2 L);\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nHere is the table thats getting created by name &quot;HTE_EMPLOYEES&quot; :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ri060.png\r\n\r\n\r\n\r\n\r\n\r\n**I am getting error due to which its not able to fetch the details or write entries to the table of the repo.Any idea on where is the mistake ? Thanks in advance.**\r\n\r\n**Logs :**\r\n\r\n2022-10-08T19:22:23.131+05:30 ERROR 51791 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1323) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\tat com.example.JPAReadFromOracle.Application.main(Application.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M5.jar:3.0.0-M5]\r\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:221) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy100.save(Unknown Source) ~[na:na]\r\n\tat com.example.JPAReadFromOracle.MyRunner.run(MyRunner.java:25) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\r\n\t... 10 common frames omitted\r\n**Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet**\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:102) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:536) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy97.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0-M6.jar:3.0.0-M6]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:135) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\r\n\t... 19 common frames omitted\r\n**Caused by: java.sql.SQLSyntaxErrorException: ORA-02289: sequence does not exist**\r\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:629) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:563) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1150) ~[ojdbc8-21.7.0.0.jar:21.6.0.0\r\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:770) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:298) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:497) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:151) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:936) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1171) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1100) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1425) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1308) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3745) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3854) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1097) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\r\n    \t... 55 common frames omitted\r\n ***Caused by: oracle.jdbc.OracleDatabaseException: ORA-02289: sequence does not exist***\r\n    \r\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:636) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\r\n    \t... 72 common frames omitted\r\n\r\n\r\n","title":"Error while using spring data JPA to fetch from oracle database","body":"<p><strong>I am trying to perform regular CRUD operations using Spring data JPA on an oracle database. Here are the details:</strong></p>\n<p><strong>1. Entity details:</strong></p>\n<pre><code>@Entity\n@Table\npublic class Employee {\n\nprivate long id;\nprivate String firstName;\nprivate String lastName;\nprivate String emailId;\n\npublic Employee() {\n\n}\n\npublic Employee(String firstName, String lastName, String emailId) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.emailId = emailId;\n}\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\npublic long getId() {\n    return id;\n}\npublic void setId(long id) {\n    this.id = id;\n}\n\n@Column(name = &quot;first_name&quot;, nullable = false)\npublic String getFirstName() {\n    return firstName;\n}\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\n@Column(name = &quot;last_name&quot;, nullable = false)\npublic String getLastName() {\n    return lastName;\n}\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\n@Column(name = &quot;email_address&quot;, nullable = false)\npublic String getEmailId() {\n    return emailId;\n}\npublic void setEmailId(String emailId) {\n    this.emailId = emailId;\n}\n\n@Override\npublic String toString() {\n    return &quot;Employee [id=&quot; + id + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, emailId=&quot; + emailId\n+ &quot;]&quot;;\n}\n</code></pre>\n<p>}</p>\n<p><strong>2. Here is my Runner :</strong></p>\n<pre><code>    @Component\npublic class MyRunner implements CommandLineRunner {\n\nprivate static final Logger logger = LoggerFactory.getLogger(MyRunner.class);\n\n@Autowired\nprivate EmployeeRepository employeeRepository;\n\n@Override\npublic void run(String...args) throws Exception {\n\n    employeeRepository.save(new Employee(&quot;Ramesh&quot;, &quot;Fadatare&quot;, &quot;ramesh@gmail.com&quot;));\n    employeeRepository.save(new Employee(&quot;Tom&quot;, &quot;Cruise&quot;, &quot;tom@gmail.com&quot;));\n    employeeRepository.save(new Employee(&quot;John&quot;, &quot;Cena&quot;, &quot;john@gmail.com&quot;));\n    employeeRepository.save(new Employee(&quot;tony&quot;, &quot;stark&quot;, &quot;stark@gmail.com&quot;));\n\n    logger.info(&quot;# of employees: {}&quot;, employeeRepository.count());\n\n    logger.info(&quot;All employees unsorted:&quot;);\n\n    Iterable &lt; Employee &gt; employees = employeeRepository.findAll();\n    Iterator &lt; Employee &gt; iterator = employees.iterator();\n    while (iterator.hasNext()) {\n        logger.info(&quot;{}&quot;, iterator.next().toString());\n    }\n\n    logger.info(&quot;------------------------&quot;);\n\n        logger.info(&quot;Deleting employee with id 1&quot;);\n//        employeeRepository.deleteById(1 L);\n\n        logger.info(&quot;# of employees: {}&quot;, employeeRepository.count());\n\n//        employeeRepository.existsById(2 L);\n//        employeeRepository.findById(2 L);\n        \n    }\n}\n</code></pre>\n<p>Here is the table thats getting created by name &quot;HTE_EMPLOYEES&quot; :</p>\n<p><a href=\"https://i.stack.imgur.com/ri060.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ri060.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>I am getting error due to which its not able to fetch the details or write entries to the table of the repo.Any idea on where is the mistake ? Thanks in advance.</strong></p>\n<p><strong>Logs :</strong></p>\n<p>2022-10-08T19:22:23.131+05:30 ERROR 51791 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed</p>\n<p>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:791) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1323) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\nat com.example.JPAReadFromOracle.Application.main(Application.java:10) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0-M5.jar:3.0.0-M5]\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:221) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat jdk.proxy4/jdk.proxy4.$Proxy100.save(Unknown Source) ~[na:na]\nat com.example.JPAReadFromOracle.MyRunner.run(MyRunner.java:25) ~[classes/:na]\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788) ~[spring-boot-3.0.0-M5.jar:3.0.0-M5]\n... 10 common frames omitted\n<strong>Caused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet</strong>\nat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:102) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:536) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.0-M6.jar:6.0.0-M6]\nat jdk.proxy4/jdk.proxy4.$Proxy97.persist(Unknown Source) ~[na:na]\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0-M6.jar:3.0.0-M6]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:135) ~[spring-data-commons-3.0.0-M6.jar:3.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.0-M6.jar:6.0.0-M6]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.0-M6.jar:6.0.0-M6]\n... 19 common frames omitted\n<strong>Caused by: java.sql.SQLSyntaxErrorException: ORA-02289: sequence does not exist</strong>\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:629) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:563) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1150) ~[ojdbc8-21.7.0.0.jar:21.6.0.0\nat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:770) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:298) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:497) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:151) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:936) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1171) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1100) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1425) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1308) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3745) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3854) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1097) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57) ~[hibernate-core-6.1.3.Final.jar:6.1.3.Final]\n... 55 common frames omitted\n<em><strong>Caused by: oracle.jdbc.OracleDatabaseException: ORA-02289: sequence does not exist</strong></em></p>\n<p>at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:636) ~[ojdbc8-21.7.0.0.jar:21.6.0.0.0]\n... 72 common frames omitted</p>\n"},{"tags":["java","android","api","android-studio","braille"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1665245041,"post_id":73998093,"comment_id":130656765,"body_markdown":"You can probably use it as module .. See [This thread](https://stackoverflow.com/questions/31463908/how-to-import-a-maven-module-to-an-android-studio-project) maybe it can help .. You can download the source and add it module .. and dependencies from POM to gradle this can be done manually also .. try it","body":"You can probably use it as module .. See <a href=\"https://stackoverflow.com/questions/31463908/how-to-import-a-maven-module-to-an-android-studio-project\">This thread</a> maybe it can help .. You can download the source and add it module .. and dependencies from POM to gradle this can be done manually also .. try it"},{"owner":{"account_id":24362400,"reputation":1,"user_id":18296570,"display_name":"Minh Hiếu"},"score":0,"creation_date":1665305134,"post_id":73998093,"comment_id":130665064,"body_markdown":"Thank you for your help!.But i can&#39;t add it module anymore. May be my mistakes or it can&#39;t","body":"Thank you for your help!.But i can&#39;t add it module anymore. May be my mistakes or it can&#39;t"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1665306143,"post_id":73998093,"comment_id":130665243,"body_markdown":"Create your own module as java library and copy paste the code .. add the dependency fro  Pom to gradle . you can find same gradle dependencies for Maven one ..","body":"Create your own module as java library and copy paste the code .. add the dependency fro  Pom to gradle . you can find same gradle dependencies for Maven one .."}],"owner":{"account_id":24362400,"reputation":1,"user_id":18296570,"display_name":"Minh Hiếu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665242231,"creation_date":1665241851,"question_id":73998093,"body_markdown":"i am student and i am trying to use liblouis on java , but I don&#39;t know how to use and install.\r\nFor example , I want to read text from editText and translte it to braille word. How can i do? Thank you a lot!\r\n\r\nEDIT: I found this on github , but still don&#39;t know how to use :\r\nhttps://github.com/liblouis/liblouis-java","title":"How to use liblouis on java ( Android)?","body":"<p>i am student and i am trying to use liblouis on java , but I don't know how to use and install.\nFor example , I want to read text from editText and translte it to braille word. How can i do? Thank you a lot!</p>\n<p>EDIT: I found this on github , but still don't know how to use :\n<a href=\"https://github.com/liblouis/liblouis-java\" rel=\"nofollow noreferrer\">https://github.com/liblouis/liblouis-java</a></p>\n"},{"tags":["java","c#","loops","iterator"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1665244109,"post_id":73998098,"comment_id":130656549,"body_markdown":"this is also not allowed in Java, it throws `ConcurrentModificationException`: https://ideone.com/CLf5Si || A counter is used in Java to check for *structural* modifications (`if (modCount != expectedModCount) { throw new ConcurrentModificationException(); }`","body":"this is also not allowed in Java, it throws <code>ConcurrentModificationException</code>: <a href=\"https://ideone.com/CLf5Si\" rel=\"nofollow noreferrer\">ideone.com/CLf5Si</a> || A counter is used in Java to check for <i>structural</i> modifications (<code>if (modCount != expectedModCount) { throw new ConcurrentModificationException(); }</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665244632,"post_id":73998098,"comment_id":130656678,"body_markdown":"Source code of [`AbstractList`](https://github.com/openjdk/jdk/blob/542cc602a7f023d3351133a321c4fa57249b8765/src/java.base/share/classes/java/util/AbstractList.java#L605)","body":"Source code of <a href=\"https://github.com/openjdk/jdk/blob/542cc602a7f023d3351133a321c4fa57249b8765/src/java.base/share/classes/java/util/AbstractList.java#L605\" rel=\"nofollow noreferrer\"><code>AbstractList</code></a>"},{"owner":{"account_id":18348055,"reputation":67,"user_id":14973835,"display_name":"VladisS"},"score":0,"creation_date":1665317473,"post_id":73998098,"comment_id":130667281,"body_markdown":"@user16320675 - it was extemly helpful. Remove in enumerator dissapoints me...","body":"@user16320675 - it was extemly helpful. Remove in enumerator dissapoints me..."}],"answers":[{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1665247452,"post_id":73998099,"comment_id":130657281,"body_markdown":"&quot;the internal struct in List what i can&#39;t do in java&quot;: you can (not a struct but an object). See the implemenation of [`AbstractList.Itr`](https://github.com/openjdk/jdk/blob/542cc602a7f023d3351133a321c4fa57249b8765/src/java.base/share/classes/java/util/AbstractList.java#L345)","body":"&quot;the internal struct in List what i can&#39;t do in java&quot;: you can (not a struct but an object). See the implemenation of <a href=\"https://github.com/openjdk/jdk/blob/542cc602a7f023d3351133a321c4fa57249b8765/src/java.base/share/classes/java/util/AbstractList.java#L345\" rel=\"nofollow noreferrer\"><code>AbstractList.Itr</code></a>"}],"tags":[],"owner":{"account_id":18348055,"reputation":67,"user_id":14973835,"display_name":"VladisS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665241879,"creation_date":1665241879,"answer_id":73998099,"question_id":73998098,"body_markdown":"ok i found the answer\r\n```\r\npublic class List&lt;T&gt; {\r\n...\r\n    public struct Enumerator : IEnumerator&lt;T&gt;, System.Collections.IEnumerator\r\n        {\r\n            private List&lt;T&gt; list;\r\n            private int index;\r\n            private int version; // there it is\r\n            private T current;\r\n \r\n            internal Enumerator(List&lt;T&gt; list) {\r\n                this.list = list;\r\n                index = 0;\r\n                version = list._version;\r\n                current = default(T);\r\n            }\r\n...\r\n```\r\nThere the internal struct in List&lt;T&gt; what i can&#39;t do in java. Probably i should declare open ```Version``` property and pass the collection inside Enumerator.","title":"How foreach loop handle changes in non-binding collections? c#","body":"<p>ok i found the answer</p>\n<pre><code>public class List&lt;T&gt; {\n...\n    public struct Enumerator : IEnumerator&lt;T&gt;, System.Collections.IEnumerator\n        {\n            private List&lt;T&gt; list;\n            private int index;\n            private int version; // there it is\n            private T current;\n \n            internal Enumerator(List&lt;T&gt; list) {\n                this.list = list;\n                index = 0;\n                version = list._version;\n                current = default(T);\n            }\n...\n</code></pre>\n<p>There the internal struct in List what i can't do in java. Probably i should declare open <code>Version</code> property and pass the collection inside Enumerator.</p>\n"}],"owner":{"account_id":18348055,"reputation":67,"user_id":14973835,"display_name":"VladisS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665241879,"creation_date":1665241879,"question_id":73998098,"body_markdown":"As we all know, you can&#39;t modify a collection inside a foreach loop as the ```InvalidOperationException```.\r\nBut how does the foreach loop checkouts any changes?\r\nI mean, if i have that code:\r\n```\r\nforeach(var item in List&lt;int&gt; list) {\r\n    list.Add(5);\r\n    list.Remove(5);\r\n}\r\n```\r\n...it still casts exception.\r\nThere is no any version control of the collection in the IEnumerator interface.\r\nSo how this works?\r\nI am asking for this because in java you can modify the collection easely during loop, and this is the problem in my own HashCollection&lt;T&gt; implimentation, and i have no idea how to checks any collection changes.","title":"How foreach loop handle changes in non-binding collections? c#","body":"<p>As we all know, you can't modify a collection inside a foreach loop as the <code>InvalidOperationException</code>.\nBut how does the foreach loop checkouts any changes?\nI mean, if i have that code:</p>\n<pre><code>foreach(var item in List&lt;int&gt; list) {\n    list.Add(5);\n    list.Remove(5);\n}\n</code></pre>\n<p>...it still casts exception.\nThere is no any version control of the collection in the IEnumerator interface.\nSo how this works?\nI am asking for this because in java you can modify the collection easely during loop, and this is the problem in my own HashCollection implimentation, and i have no idea how to checks any collection changes.</p>\n"},{"tags":["java","datetime","datetime-comparison"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":4,"creation_date":1583268782,"post_id":60515213,"comment_id":107057353,"body_markdown":"You can&#39;t because the second one is missing timezone information. If you assume a timezone for the second one then you can just use [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html). It has all parsing tools you need.","body":"You can&#39;t because the second one is missing timezone information. If you assume a timezone for the second one then you can just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a>. It has all parsing tools you need."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1583270556,"post_id":60515213,"comment_id":107058079,"body_markdown":"[I downvoted because research must be done to ask a good question](http://idownvotedbecau.se/noresearch/). I don’t see any report of any here?","body":"<a href=\"http://idownvotedbecau.se/noresearch/\" rel=\"nofollow noreferrer\">I downvoted because research must be done to ask a good question</a>. I don’t see any report of any here?"},{"owner":{"account_id":8555343,"reputation":2025,"user_id":6411079,"display_name":"MaThMaX"},"score":0,"creation_date":1583289302,"post_id":60515213,"comment_id":107062768,"body_markdown":"Does this answer your question? [How to compare two dates along with time in java](https://stackoverflow.com/questions/22039991/how-to-compare-two-dates-along-with-time-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22039991/how-to-compare-two-dates-along-with-time-in-java\">How to compare two dates along with time in java</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1583302666,"post_id":60515213,"comment_id":107065611,"body_markdown":"@MaThMaX Thanks for searching for similar questions, I’m sure there are more. This one is not an exact duplicate of the one you’re linking to, though: That one wants to compare to the time now (current time) and only has one date-time format, not two different ones.","body":"@MaThMaX Thanks for searching for similar questions, I’m sure there are more. This one is not an exact duplicate of the one you’re linking to, though: That one wants to compare to the time now (current time) and only has one date-time format, not two different ones."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1583270757,"post_id":60515478,"comment_id":107058157,"body_markdown":"Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. Today we have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`.","body":"Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. Today we have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>."}],"tags":[],"owner":{"account_id":12499000,"reputation":359,"user_id":9098032,"display_name":"Neetesh Bhardwaj"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583491524,"creation_date":1583269448,"answer_id":60515478,"question_id":60515213,"body_markdown":"First of all these two dates are not comparable because of missing timezone in the second date.\r\n\r\nSecondly, If you still want to do that with system&#39;s default time zone then you need to bring both the dates into common format. \r\n\r\nParse the dates into `Date` object and then you can play around it:\r\n```\r\nDateFormat dateFormat1 = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss Z yyyy&quot;);\r\nDate date1 = dateFormat1.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;);\r\n\r\nDateFormat dateFormat2 = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\nDate date2 = dateFormat2.parse(&quot;2020-02-04 02:10:58&quot;);\r\n\r\nSystem.out.println(date1.after(date2));\r\n```","title":"How to compare the datetime of format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot; and &quot;yyyy-MM-dd hh:mm:sss&quot; in java?","body":"<p>First of all these two dates are not comparable because of missing timezone in the second date.</p>\n\n<p>Secondly, If you still want to do that with system's default time zone then you need to bring both the dates into common format. </p>\n\n<p>Parse the dates into <code>Date</code> object and then you can play around it:</p>\n\n<pre><code>DateFormat dateFormat1 = new SimpleDateFormat(\"EEE MMM dd HH:mm:ss Z yyyy\");\nDate date1 = dateFormat1.parse(\"Wed Mar 04 03:34:45 GMT+08:00 2020\");\n\nDateFormat dateFormat2 = new SimpleDateFormat(\"yyyy-MM-dd hh:mm:ss\");\nDate date2 = dateFormat2.parse(\"2020-02-04 02:10:58\");\n\nSystem.out.println(date1.after(date2));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1538541,"reputation":548,"user_id":1433835,"accept_rate":100,"display_name":"wlfbck"},"score":0,"creation_date":1628174695,"post_id":60515696,"comment_id":121355512,"body_markdown":"Sorry to say this, but your answer doesn&#39;t actually work:\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;Wed Mar 04 03:34:45 GMT+08:00 2020&#39; could not be parsed at index 0","body":"Sorry to say this, but your answer doesn&#39;t actually work: Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;Wed Mar 04 03:34:45 GMT+08:00 2020&#39; could not be parsed at index 0"},{"owner":{"account_id":1538541,"reputation":548,"user_id":1433835,"accept_rate":100,"display_name":"wlfbck"},"score":0,"creation_date":1628176076,"post_id":60515696,"comment_id":121356164,"body_markdown":"Found the problem: A locale must be specified for some reason, credits to [this answer](https://stackoverflow.com/questions/4713825/how-to-parse-output-of-new-date-tostring#comment5234499_4713846)\n\nFor me Locale.ROOT and Locale.US both worked (I&#39;m from Germany).","body":"Found the problem: A locale must be specified for some reason, credits to <a href=\"https://stackoverflow.com/questions/4713825/how-to-parse-output-of-new-date-tostring#comment5234499_4713846\">this answer</a>  For me Locale.ROOT and Locale.US both worked (I&#39;m from Germany)."},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":1,"creation_date":1628185302,"post_id":60515696,"comment_id":121359979,"body_markdown":"@wlfbck The JVM uses the default locale of the OS, you can see it with `Locale.getDefault()`. A `DateTimeFormatter` will also use this locale as the default to parse inputs, i.e. it assumes that the inputs are in the locale&#39;s language. When your default is `Locale.GERMANY`, then it can&#39;t parse `Wed`. You can set the `Locale` for the formatter via `DateTimeFormatter.ofPattern(...).withLocale(Locale.ENGLISH)`. You can also set the locale of the JVM via `Locale.setDefault(...)`.","body":"@wlfbck The JVM uses the default locale of the OS, you can see it with <code>Locale.getDefault()</code>. A <code>DateTimeFormatter</code> will also use this locale as the default to parse inputs, i.e. it assumes that the inputs are in the locale&#39;s language. When your default is <code>Locale.GERMANY</code>, then it can&#39;t parse <code>Wed</code>. You can set the <code>Locale</code> for the formatter via <code>DateTimeFormatter.ofPattern(...).withLocale(Locale.ENGLISH)</code>. You can also set the locale of the JVM via <code>Locale.setDefault(...)</code>."}],"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1583270895,"creation_date":1583270448,"answer_id":60515696,"question_id":60515213,"body_markdown":"If you assume that the timezone of the second date is the same as for the first one then you can just use [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html). It has all parsing tools you need. Any other fixed timezone works as well.\r\n\r\nHere is an example:\r\n\r\n```java\r\nString a = &quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;;\r\nString b = &quot;2020-02-04 02:10:58&quot;;\r\n\t\t\r\nZonedDateTime parsedA;\r\nZonedDateTime parsedB;\r\n\t\t\r\nDateTimeFormatter formatterA = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;);\r\nparsedA = ZonedDateTime.parse(a, formatterA);\r\nDateTimeFormatter formatterB = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\nparsedB = LocalDateTime.parse(b, formatterB).atZone(parsedA.getZone());\r\n\t\t\r\n// What do you want to compare? For example you can tell if a is after b.\r\nSystem.out.println(parsedA.isAfter(parsedB));\r\n```\r\n\r\nHave a look [here](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html) if you need another format and need a listing of *Pattern Letters and Symbols*.","title":"How to compare the datetime of format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot; and &quot;yyyy-MM-dd hh:mm:sss&quot; in java?","body":"<p>If you assume that the timezone of the second date is the same as for the first one then you can just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a>. It has all parsing tools you need. Any other fixed timezone works as well.</p>\n\n<p>Here is an example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String a = \"Wed Mar 04 03:34:45 GMT+08:00 2020\";\nString b = \"2020-02-04 02:10:58\";\n\nZonedDateTime parsedA;\nZonedDateTime parsedB;\n\nDateTimeFormatter formatterA = DateTimeFormatter.ofPattern(\"EEE MMM dd HH:mm:ss zzz yyyy\");\nparsedA = ZonedDateTime.parse(a, formatterA);\nDateTimeFormatter formatterB = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nparsedB = LocalDateTime.parse(b, formatterB).atZone(parsedA.getZone());\n\n// What do you want to compare? For example you can tell if a is after b.\nSystem.out.println(parsedA.isAfter(parsedB));\n</code></pre>\n\n<p>Have a look <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">here</a> if you need another format and need a listing of <em>Pattern Letters and Symbols</em>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665241663,"creation_date":1665241663,"answer_id":73998071,"question_id":60515213,"body_markdown":" - There is a difference between time zone and time zone offset. The Date-Time string Wed Mar 04 03:34:45 GMT+08:00 2020 has a time zone offset, not a time zone. A time zone is unique and therefore it has an ID e.g. `ZoneId.of(&quot;America/New_York&quot;)` whereas a time zone offset tells you about the amount of time by which a given time is offset from the UTC time. There can be many time zones falling on the same time zone offset. Check **[List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)** to learn more about it. So, the most appropriate type to parse Wed Mar 04 03:34:45 GMT+08:00 2020 into is `OffsetDateTime`.\r\n\r\n - Since the second Date-Time string 2020-02-04 02:10:58 has neither a time zone nor a time zone offset, parse it into `LocalDateTime`.\r\n\r\n - Make sure to use `Locale` with the formatter because [Date-Time parsing/formatting API is Locale-sensitive](https://stackoverflow.com/a/65544056/10819573).\r\n\r\n - As long as the second Date-Time string refers to a Date-Time at the same timezone offset (i.e. GMT+08:00), you can do either of the two to compare them\r\n\r\n    1. Convert the first Date-Time string into `LocalDateTime` after parsing and then compare it with the second Date-Time string parsed into a `LocalDateTime`.\r\n    2. Convert the second Date-Time string into an `OffsetDateTime` after parsing and then compare it with the first Date-Time string parsed into an `OffsetDateTime`.\r\n\r\nI would prefer the first approach as it is simpler. However, for the sake of completeness, I&#39;ve shown below both approaches.\r\n\r\n\r\n**First approach**:\r\n\r\n    DateTimeFormatter odtFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss O uuuu&quot;, Locale.ENGLISH);\r\n    OffsetDateTime firstOffsetDateTime = OffsetDateTime.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;, odtFormatter);\r\n    LocalDateTime firstLocalDateTime = firstOffsetDateTime.toLocalDateTime();\r\n    \r\n    DateTimeFormatter ldtFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n    LocalDateTime secondLocalDateTime = LocalDateTime.parse(&quot;2020-02-04 02:10:58&quot;, ldtFormatter);\r\n    \r\n    // Compare the two LocalDateTime values using isBefore, isAfter, equals etc.\r\n    if (firstLocalDateTime.isBefore(secondLocalDateTime)) {\r\n        // ...\r\n    }\r\n\r\n**Second approach**:\r\n\r\n    DateTimeFormatter odtFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss O uuuu&quot;, Locale.ENGLISH);\r\n    OffsetDateTime firstOffsetDateTime = OffsetDateTime.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;, odtFormatter);\r\n    \r\n    DateTimeFormatter ldtFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n    LocalDateTime secondLocalDateTime = LocalDateTime.parse(&quot;2020-02-04 02:10:58&quot;, ldtFormatter);\r\n    OffsetDateTime secondOffsetDateTime = secondLocalDateTime.atOffset(firstOffsetDateTime.getOffset());\r\n    \r\n    // Compare the two OffsetDateTime values using isBefore, isAfter, equals etc.\r\n    if (firstOffsetDateTime.isBefore(secondOffsetDateTime)) {\r\n        // ...\r\n    }\r\n\r\n\r\n\r\nI also [prefer u to y](https://stackoverflow.com/questions/65908827/kotlin-datetimeparseexception/65928023#65928023) with a `DateTimeFormatter`.\r\n\r\nLearn more about the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to compare the datetime of format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot; and &quot;yyyy-MM-dd hh:mm:sss&quot; in java?","body":"<ul>\n<li><p>There is a difference between time zone and time zone offset. The Date-Time string Wed Mar 04 03:34:45 GMT+08:00 2020 has a time zone offset, not a time zone. A time zone is unique and therefore it has an ID e.g. <code>ZoneId.of(&quot;America/New_York&quot;)</code> whereas a time zone offset tells you about the amount of time by which a given time is offset from the UTC time. There can be many time zones falling on the same time zone offset. Check <strong><a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">List of tz database time zones</a></strong> to learn more about it. So, the most appropriate type to parse Wed Mar 04 03:34:45 GMT+08:00 2020 into is <code>OffsetDateTime</code>.</p>\n</li>\n<li><p>Since the second Date-Time string 2020-02-04 02:10:58 has neither a time zone nor a time zone offset, parse it into <code>LocalDateTime</code>.</p>\n</li>\n<li><p>Make sure to use <code>Locale</code> with the formatter because <a href=\"https://stackoverflow.com/a/65544056/10819573\">Date-Time parsing/formatting API is Locale-sensitive</a>.</p>\n</li>\n<li><p>As long as the second Date-Time string refers to a Date-Time at the same timezone offset (i.e. GMT+08:00), you can do either of the two to compare them</p>\n<ol>\n<li>Convert the first Date-Time string into <code>LocalDateTime</code> after parsing and then compare it with the second Date-Time string parsed into a <code>LocalDateTime</code>.</li>\n<li>Convert the second Date-Time string into an <code>OffsetDateTime</code> after parsing and then compare it with the first Date-Time string parsed into an <code>OffsetDateTime</code>.</li>\n</ol>\n</li>\n</ul>\n<p>I would prefer the first approach as it is simpler. However, for the sake of completeness, I've shown below both approaches.</p>\n<p><strong>First approach</strong>:</p>\n<pre><code>DateTimeFormatter odtFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss O uuuu&quot;, Locale.ENGLISH);\nOffsetDateTime firstOffsetDateTime = OffsetDateTime.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;, odtFormatter);\nLocalDateTime firstLocalDateTime = firstOffsetDateTime.toLocalDateTime();\n\nDateTimeFormatter ldtFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\nLocalDateTime secondLocalDateTime = LocalDateTime.parse(&quot;2020-02-04 02:10:58&quot;, ldtFormatter);\n\n// Compare the two LocalDateTime values using isBefore, isAfter, equals etc.\nif (firstLocalDateTime.isBefore(secondLocalDateTime)) {\n    // ...\n}\n</code></pre>\n<p><strong>Second approach</strong>:</p>\n<pre><code>DateTimeFormatter odtFormatter = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss O uuuu&quot;, Locale.ENGLISH);\nOffsetDateTime firstOffsetDateTime = OffsetDateTime.parse(&quot;Wed Mar 04 03:34:45 GMT+08:00 2020&quot;, odtFormatter);\n\nDateTimeFormatter ldtFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\nLocalDateTime secondLocalDateTime = LocalDateTime.parse(&quot;2020-02-04 02:10:58&quot;, ldtFormatter);\nOffsetDateTime secondOffsetDateTime = secondLocalDateTime.atOffset(firstOffsetDateTime.getOffset());\n\n// Compare the two OffsetDateTime values using isBefore, isAfter, equals etc.\nif (firstOffsetDateTime.isBefore(secondOffsetDateTime)) {\n    // ...\n}\n</code></pre>\n<p>I also <a href=\"https://stackoverflow.com/questions/65908827/kotlin-datetimeparseexception/65928023#65928023\">prefer u to y</a> with a <code>DateTimeFormatter</code>.</p>\n<p>Learn more about the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":8872026,"reputation":64,"user_id":6625472,"display_name":"Pravin Pundge"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7252,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":60515696,"answer_count":3,"score":2,"last_activity_date":1665241663,"creation_date":1583268202,"question_id":60515213,"body_markdown":"I have date of type &quot;EEE MM DD HH:mm:ss zzz yyyy&quot; (Wed Mar 04 03:34:45 GMT+08:00 2020) and &quot;yyyy-MM-dd hh:mm:ss&quot; (2020-02-04 02:10:58).How to compare this two date in java?\r\n\r\nBoth dates are in same timezone.","title":"How to compare the datetime of format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot; and &quot;yyyy-MM-dd hh:mm:sss&quot; in java?","body":"<p>I have date of type \"EEE MM DD HH:mm:ss zzz yyyy\" (Wed Mar 04 03:34:45 GMT+08:00 2020) and \"yyyy-MM-dd hh:mm:ss\" (2020-02-04 02:10:58).How to compare this two date in java?</p>\n\n<p>Both dates are in same timezone.</p>\n"},{"tags":["java","eclipse","gwt","web-applications","tomcat6"],"answers":[{"tags":[],"owner":{"account_id":196062,"reputation":20700,"user_id":439317,"accept_rate":84,"display_name":"Riley Lark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1352995498,"creation_date":1352995498,"answer_id":13401459,"question_id":13399733,"body_markdown":"You can right-click the deployment line to get other browser options:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aFdmR.png\r\n\r\nThat said, I&#39;ve taken to just opening the browser I want first and typing the address in by hand - the browsers know me well enough to auto-complete the whole thing at this point.","title":"Changing External Browser in Eclipse [Linux, GWT, Tomcat6]","body":"<p>You can right-click the deployment line to get other browser options:</p>\n\n<p><img src=\"https://i.stack.imgur.com/aFdmR.png\" alt=\"enter image description here\"></p>\n\n<p>That said, I've taken to just opening the browser I want first and typing the address in by hand - the browsers know me well enough to auto-complete the whole thing at this point.</p>\n"},{"tags":[],"owner":{"account_id":16598426,"reputation":99,"user_id":11994767,"display_name":"Umakanth Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665241537,"creation_date":1665241537,"answer_id":73998056,"question_id":13399733,"body_markdown":"You can add a web browser by going to Window &gt; Preferences &gt; General &gt; Web Browser\r\n\r\nIf you can see desired web browser then select it.\r\nIn my case running on Ubuntu 22.04 and Eclipse 2022-09, I cannot see any browser\r\n\r\nClick on New button, you will see a pop up form.\r\nadd your Browser Name, now you need location\r\n\r\ngo to terminal type `whereis firefox` firefox. In my case, I got result as `snap/bin/firefox`\r\n\r\ntype the same in location and hit ok button. \r\n\r\nSelect the browser and Start the server it should run on the desired browser.\r\n\r\n\r\nNote: sometimes after server startup firefox may not be launched. In such case manually launch and close and then start the server","title":"Changing External Browser in Eclipse [Linux, GWT, Tomcat6]","body":"<p>You can add a web browser by going to Window &gt; Preferences &gt; General &gt; Web Browser</p>\n<p>If you can see desired web browser then select it.\nIn my case running on Ubuntu 22.04 and Eclipse 2022-09, I cannot see any browser</p>\n<p>Click on New button, you will see a pop up form.\nadd your Browser Name, now you need location</p>\n<p>go to terminal type <code>whereis firefox</code> firefox. In my case, I got result as <code>snap/bin/firefox</code></p>\n<p>type the same in location and hit ok button.</p>\n<p>Select the browser and Start the server it should run on the desired browser.</p>\n<p>Note: sometimes after server startup firefox may not be launched. In such case manually launch and close and then start the server</p>\n"}],"owner":{"display_name":"user1260503"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13401459,"answer_count":2,"score":0,"last_activity_date":1665241537,"creation_date":1352990273,"question_id":13399733,"body_markdown":"Upon attempting to deploy my GWT application, Eclipse constantly deploys to Aurora (bleeding-edge Firefox build - located in /usr/bin/firefox). Are there programmatic steps to follow, or do I need to modify external configuration files to change the web browser?\r\n\r\n**Steps taken:**\r\n\r\nWindow -&gt; General -&gt; Web Browser:\r\n\r\n[New External Browser]\r\n\r\n 1. Name: Google Chrome\r\n 2. Location: /usr/bin/google-chrome\r\n 3. Parameters: \r\n\r\n\r\nWindow -&gt; Web Browser -&gt; Google Chrome[x]\r\n\r\nAny suggestions? Is there some kind of persistent variable, or configuration file that I&#39;ve looked over?\r\n\r\nThanks.\r\n \r\n","title":"Changing External Browser in Eclipse [Linux, GWT, Tomcat6]","body":"<p>Upon attempting to deploy my GWT application, Eclipse constantly deploys to Aurora (bleeding-edge Firefox build - located in /usr/bin/firefox). Are there programmatic steps to follow, or do I need to modify external configuration files to change the web browser?</p>\n\n<p><strong>Steps taken:</strong></p>\n\n<p>Window -> General -> Web Browser:</p>\n\n<p>[New External Browser]</p>\n\n<ol>\n<li>Name: Google Chrome</li>\n<li>Location: /usr/bin/google-chrome</li>\n<li>Parameters: </li>\n</ol>\n\n<p>Window -> Web Browser -> Google Chrome[x]</p>\n\n<p>Any suggestions? Is there some kind of persistent variable, or configuration file that I've looked over?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","for-loop","if-statement","lambda","stream"],"answers":[{"comments":[{"owner":{"account_id":15345495,"reputation":41,"user_id":11071040,"display_name":"Cam"},"score":0,"creation_date":1665255103,"post_id":73997786,"comment_id":130658875,"body_markdown":"Thank you so much, this is also a solution for my problem. Unfortunately I can only choose one in this site :(","body":"Thank you so much, this is also a solution for my problem. Unfortunately I can only choose one in this site :("}],"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665239268,"creation_date":1665239268,"answer_id":73997786,"question_id":73997458,"body_markdown":"&gt; I know that there is more faster ways than this\r\n\r\nOnly faster to write and some may find it more readable.\r\n\r\nIn this example I&#39;m removing the cars, that have a driver with 15 years experience and aren&#39;t listed in the names list, from the stream. Then I just collect the result into a map. Key is the car. Value is the sum of the drivers years - the drivers that have 15 years of experience. \r\n\r\n        Map&lt;Car, Integer&gt; filteredCars = cars.stream()\r\n                .filter(car -&gt; car.driversWhoDrivesIt().stream().allMatch(driver -&gt; driver.yearsInMotorsport() != 15 || names.contains(driver.name())))\r\n                .collect(Collectors.toMap(\r\n                        Function.identity(),\r\n                        car -&gt; car.driversWhoDrivesIt().stream()\r\n                                .mapToInt(Driver::yearsInMotorsport)\r\n                                .filter(y -&gt; y != 15)\r\n                                .sum()));","title":"Replace IFs and FOR LOOPs with STREAMs and LAMBDAs","body":"<blockquote>\n<p>I know that there is more faster ways than this</p>\n</blockquote>\n<p>Only faster to write and some may find it more readable.</p>\n<p>In this example I'm removing the cars, that have a driver with 15 years experience and aren't listed in the names list, from the stream. Then I just collect the result into a map. Key is the car. Value is the sum of the drivers years - the drivers that have 15 years of experience.</p>\n<pre><code>    Map&lt;Car, Integer&gt; filteredCars = cars.stream()\n            .filter(car -&gt; car.driversWhoDrivesIt().stream().allMatch(driver -&gt; driver.yearsInMotorsport() != 15 || names.contains(driver.name())))\n            .collect(Collectors.toMap(\n                    Function.identity(),\n                    car -&gt; car.driversWhoDrivesIt().stream()\n                            .mapToInt(Driver::yearsInMotorsport)\n                            .filter(y -&gt; y != 15)\n                            .sum()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665241243,"creation_date":1665239888,"answer_id":73997850,"question_id":73997458,"body_markdown":"Instead of the list of names I would advise defining a `Set`. For each `Car` filter drivers that have exactly `15` year of experience and then check whether all they are present in the user-difined set of names using `allMatch()` operation.\r\n\r\nThen collect all the `Car` objects remained in the stream into a map using collector `toMap()`:\r\n\r\n```\r\nSet&lt;String&gt; names = Set.of(&quot;Lewis&quot;, &quot;Bob&quot;, &quot;Amanda&quot;, &quot;Lando&quot;, &quot;Max&quot;);\r\n            \r\nList&lt;Car&gt; cars = List.of(\r\n    new Car(&quot;Car1&quot;, List.of(new Driver(&quot;Lewis&quot;, 15),\r\n                new Driver(&quot;Marco&quot;, 4),\r\n                new Driver(&quot;Sebastian&quot;, 15))\r\n            ),\r\n    new Car(&quot;Car2&quot;, List.of(new Driver(&quot;Max&quot;, 15),\r\n                new Driver(&quot;Amanda&quot;, 7))\r\n            ),\r\n    new Car(&quot;Car3&quot;, List.of(new Driver(&quot;Bob&quot;, 15),\r\n                new Driver(&quot;George&quot;, 3),\r\n                new Driver(&quot;Lando&quot;, 15))\r\n            )\r\n);\r\n            \r\nMap&lt;Car, Integer&gt; pointByCar = cars.stream()\r\n    .filter(car -&gt; car.getDrivers().stream()\r\n        .filter(driver -&gt; driver.getYearsInMotorsport() == 15)\r\n        .map(Driver::getName)\r\n        .allMatch(names::contains)\r\n    )\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        car -&gt; car.getDrivers().stream()\r\n            .mapToInt(Driver::getYearsInMotorsport)\r\n            .filter(i -&gt; i == 7 || i == 3)\r\n            .sum()\r\n    ));\r\n            \r\npointByCar.forEach((car, points) -&gt; System.out.println(car + &quot; -&gt; &quot; + points));\r\n```\r\n*Output:*\r\n```\r\nCar{name=&#39;Car2&#39;} -&gt; 7\r\nCar{name=&#39;Car3&#39;} -&gt; 3\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/wYJ)","title":"Replace IFs and FOR LOOPs with STREAMs and LAMBDAs","body":"<p>Instead of the list of names I would advise defining a <code>Set</code>. For each <code>Car</code> filter drivers that have exactly <code>15</code> year of experience and then check whether all they are present in the user-difined set of names using <code>allMatch()</code> operation.</p>\n<p>Then collect all the <code>Car</code> objects remained in the stream into a map using collector <code>toMap()</code>:</p>\n<pre><code>Set&lt;String&gt; names = Set.of(&quot;Lewis&quot;, &quot;Bob&quot;, &quot;Amanda&quot;, &quot;Lando&quot;, &quot;Max&quot;);\n            \nList&lt;Car&gt; cars = List.of(\n    new Car(&quot;Car1&quot;, List.of(new Driver(&quot;Lewis&quot;, 15),\n                new Driver(&quot;Marco&quot;, 4),\n                new Driver(&quot;Sebastian&quot;, 15))\n            ),\n    new Car(&quot;Car2&quot;, List.of(new Driver(&quot;Max&quot;, 15),\n                new Driver(&quot;Amanda&quot;, 7))\n            ),\n    new Car(&quot;Car3&quot;, List.of(new Driver(&quot;Bob&quot;, 15),\n                new Driver(&quot;George&quot;, 3),\n                new Driver(&quot;Lando&quot;, 15))\n            )\n);\n            \nMap&lt;Car, Integer&gt; pointByCar = cars.stream()\n    .filter(car -&gt; car.getDrivers().stream()\n        .filter(driver -&gt; driver.getYearsInMotorsport() == 15)\n        .map(Driver::getName)\n        .allMatch(names::contains)\n    )\n    .collect(Collectors.toMap(\n        Function.identity(),\n        car -&gt; car.getDrivers().stream()\n            .mapToInt(Driver::getYearsInMotorsport)\n            .filter(i -&gt; i == 7 || i == 3)\n            .sum()\n    ));\n            \npointByCar.forEach((car, points) -&gt; System.out.println(car + &quot; -&gt; &quot; + points));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Car{name='Car2'} -&gt; 7\nCar{name='Car3'} -&gt; 3\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/wYJ\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":15345495,"reputation":41,"user_id":11071040,"display_name":"Cam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73997850,"answer_count":2,"score":0,"last_activity_date":1665241243,"creation_date":1665236545,"question_id":73997458,"body_markdown":"I want to optimalize my code. I used to use for loops and ifs, but I know that there is more faster ways than this. I am still pretty new to the lambdas and streams. For practise, I decided I replace my old codes with them. \r\nI am curious, how this code below could change.\r\n        \r\n            int counter = 0;\r\n            List&lt;Integer&gt; points = new ArrayList&lt;&gt;();\r\n    \r\n            for (String name : names) {\r\n    \r\n                for (Car car : cars) {\r\n                    if (counter != 0) {\r\n                        points.add(counter);\r\n                    }\r\n                    counter= 0;\r\n    \r\n                    for (Driver driver : car.getDriversWhoDrivesIt()) {\r\n                        if (driver.getYearsInMotorsport() == 15) {\r\n                            if (!(names.contains(driver.getName()))) {\r\n                                filteredCars.remove(car);\r\n                                counter= 0;\r\n                                break;\r\n                            }\r\n                        }\r\n    \r\n                        if (driver.getYearsInMotorsport() == 7 ) {\r\n                            counter+= 7;\r\n                        }\r\n    \r\n                        if (driver.getYearsInMotorsport() == 3) {\r\n                            counter+= 3;\r\n                        }\r\n                       \r\n                    }\r\n    \r\n                }\r\n            }\r\n\r\nSo the task here is that there is a list (names) with the drivers which earlier the user define. After that I iterate through all the drivers that drive that cars and if somebody has exactly 15 years of experience and the user not selected it (in the names list), than the car that the driver drived got eliminated (removed from the filteredCar and no need to continue with that car).\r\n\r\nSo for example I have 3 cars and the drivers with exp:\r\n1. car : Lewis(15years), Marco(4), Sebastian(15)\r\n2. car: Max(15), Amanda(7)\r\n3. car: Bob(15), George(3), Lando(15)\r\n\r\nThan the user defines the names:\r\nLewis, Bob, Amanda, Lando, Max\r\n\r\nIf the driver has 15 years of exp and the user not defined it, than I dont want that car in my filteredCars. \r\nAnd if all the 15 years of exp drivers defined I want to collect the other drivers exp(counter) \r\n\r\nSo in the end I want my filteredCar list like this:\r\n2. car - 7\r\n3.car - 3\r\n\r\nExplanation:\r\nThe first car got eliminated, because the user not defined Sebastian who has 15 years. \r\nThe second and third car got promoted, because the user defined all the 15 years experienced drivers, and the second car got 7 point(cuz Amanda), and the third got 3 (George).\r\n\r\nI tried to solve this problem with flatMap. But I am got stucked with the if-s. My problem is that I need to use inline if in lambdas but my if-s dont have else part.\r\n\r\n            names.stream()\r\n                    .flatMap(name -&gt; cars.stream()\r\n                        .flatMap(car -&gt; car.getDriversWhoDrivesIt().stream()\r\n    //                        .flatMap(driver -&gt; driver.getYearsInMotorsport() == 5 ? ) //?? now what?\r\n                        )\r\n                    );\r\n\r\nI hope somebody can help me with this.","title":"Replace IFs and FOR LOOPs with STREAMs and LAMBDAs","body":"<p>I want to optimalize my code. I used to use for loops and ifs, but I know that there is more faster ways than this. I am still pretty new to the lambdas and streams. For practise, I decided I replace my old codes with them.\nI am curious, how this code below could change.</p>\n<pre><code>        int counter = 0;\n        List&lt;Integer&gt; points = new ArrayList&lt;&gt;();\n\n        for (String name : names) {\n\n            for (Car car : cars) {\n                if (counter != 0) {\n                    points.add(counter);\n                }\n                counter= 0;\n\n                for (Driver driver : car.getDriversWhoDrivesIt()) {\n                    if (driver.getYearsInMotorsport() == 15) {\n                        if (!(names.contains(driver.getName()))) {\n                            filteredCars.remove(car);\n                            counter= 0;\n                            break;\n                        }\n                    }\n\n                    if (driver.getYearsInMotorsport() == 7 ) {\n                        counter+= 7;\n                    }\n\n                    if (driver.getYearsInMotorsport() == 3) {\n                        counter+= 3;\n                    }\n                   \n                }\n\n            }\n        }\n</code></pre>\n<p>So the task here is that there is a list (names) with the drivers which earlier the user define. After that I iterate through all the drivers that drive that cars and if somebody has exactly 15 years of experience and the user not selected it (in the names list), than the car that the driver drived got eliminated (removed from the filteredCar and no need to continue with that car).</p>\n<p>So for example I have 3 cars and the drivers with exp:</p>\n<ol>\n<li>car : Lewis(15years), Marco(4), Sebastian(15)</li>\n<li>car: Max(15), Amanda(7)</li>\n<li>car: Bob(15), George(3), Lando(15)</li>\n</ol>\n<p>Than the user defines the names:\nLewis, Bob, Amanda, Lando, Max</p>\n<p>If the driver has 15 years of exp and the user not defined it, than I dont want that car in my filteredCars.\nAnd if all the 15 years of exp drivers defined I want to collect the other drivers exp(counter)</p>\n<p>So in the end I want my filteredCar list like this:\n2. car - 7\n3.car - 3</p>\n<p>Explanation:\nThe first car got eliminated, because the user not defined Sebastian who has 15 years.\nThe second and third car got promoted, because the user defined all the 15 years experienced drivers, and the second car got 7 point(cuz Amanda), and the third got 3 (George).</p>\n<p>I tried to solve this problem with flatMap. But I am got stucked with the if-s. My problem is that I need to use inline if in lambdas but my if-s dont have else part.</p>\n<pre><code>        names.stream()\n                .flatMap(name -&gt; cars.stream()\n                    .flatMap(car -&gt; car.getDriversWhoDrivesIt().stream()\n//                        .flatMap(driver -&gt; driver.getYearsInMotorsport() == 5 ? ) //?? now what?\n                    )\n                );\n</code></pre>\n<p>I hope somebody can help me with this.</p>\n"},{"tags":["java","oop","arraylist","hashmap"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":3,"creation_date":1665239800,"post_id":73997806,"comment_id":130655674,"body_markdown":"You&#39;re reusing the same array list each time. Construct new ones.","body":"You&#39;re reusing the same array list each time. Construct new ones."},{"owner":{"account_id":19357395,"reputation":19,"user_id":14153441,"display_name":"newbie"},"score":0,"creation_date":1665240393,"post_id":73997806,"comment_id":130655788,"body_markdown":"But I am clearing it using marks.clear( ) for each entry... Why isn&#39;t it working?","body":"But I am clearing it using marks.clear( ) for each entry... Why isn&#39;t it working?"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":2,"creation_date":1665245508,"post_id":73997806,"comment_id":130656857,"body_markdown":"Because you&#39;re clearing, and then reusing, *the same one*","body":"Because you&#39;re clearing, and then reusing, <i>the same one</i>"}],"answers":[{"comments":[{"owner":{"account_id":17859989,"reputation":61,"user_id":12973717,"display_name":"Gary Liao"},"score":1,"creation_date":1665240698,"post_id":73997894,"comment_id":130655852,"body_markdown":"You can try to verify by not to add anything into marks after you do marks.clear().  See what you get from the outputs.","body":"You can try to verify by not to add anything into marks after you do marks.clear().  See what you get from the outputs."},{"owner":{"account_id":17859989,"reputation":61,"user_id":12973717,"display_name":"Gary Liao"},"score":1,"creation_date":1665241574,"post_id":73997894,"comment_id":130656012,"body_markdown":"I think you can have a good use of this [primitive-and-reference-variables](https://java-programming.mooc.fi/part-5/3-primitive-and-reference-variables)","body":"I think you can have a good use of this <a href=\"https://java-programming.mooc.fi/part-5/3-primitive-and-reference-variables\" rel=\"nofollow noreferrer\">primitive-and-reference-variables</a>"}],"tags":[],"owner":{"account_id":17859989,"reputation":61,"user_id":12973717,"display_name":"Gary Liao"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665240309,"creation_date":1665240309,"answer_id":73997894,"question_id":73997806,"body_markdown":"The reason is because your array list is the same object from beginning to end.\r\n\r\nThe ArrayList&lt;Integer&gt; that your Map&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt; mp stores are all pointing to same object&#39;s memory address, therefore, you will always have same value being print out from your output.\r\n\r\nLike @nanofarad said, construct a new ones like you did to StudentDetails obj","title":"Why is the map displaying same value for all entries?","body":"<p>The reason is because your array list is the same object from beginning to end.</p>\n<p>The ArrayList that your Map&lt;StudentDetails,ArrayList&gt; mp stores are all pointing to same object's memory address, therefore, you will always have same value being print out from your output.</p>\n<p>Like @nanofarad said, construct a new ones like you did to StudentDetails obj</p>\n"}],"owner":{"account_id":19357395,"reputation":19,"user_id":14153441,"display_name":"newbie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1665244560,"accepted_answer_id":73997894,"answer_count":1,"score":-3,"last_activity_date":1665240309,"creation_date":1665239439,"question_id":73997806,"body_markdown":"I&#39;ve recently been learning Java. So basically I created a Student Model class which consists of student&#39;s info along with their marks info. And then I created a Student Main Class where I created an object of type Student Model Class. I wanted to create a map of type **Map&lt;StudentModelClass,ArrayList&lt;Integer&lt;Integer&gt;&gt;**. \r\n\r\nI want to store student details as a key and only their marks which is a list as value in a map. I wrote the code but I don&#39;t know why is my map taking all the values in map entries the same marks.\r\n\r\nThis is my Student Model Class\r\n\r\n    package com.src.StudentDetailsAsMap;\r\n    \r\n    public class StudentDetails {\r\n    \r\n    \tprivate int stdid;\r\n    \tprivate String name;\r\n    \tprivate int age;\r\n    \tprivate String mobileNumber; \r\n    \tprivate int m1,m2,m3;\r\n    \tprivate int total_marks_secured=0;\r\n        private double avg_marks_secured=0.0;\r\n    \r\n    \t\r\n    \t\r\n    \tpublic StudentDetails(int stdid, String name, int age, String mobileNumber, int m1, int m2, int m3) {\r\n    \t\tthis.setStdid(stdid);\r\n    \t\tthis.setName(name);\r\n    \t\tthis.setAge(age);\r\n    \t\tthis.setMobileNumber(mobileNumber);\r\n    \t\tthis.setM1(m1);\r\n    \t\tthis.setM2(m2);\r\n    \t\tthis.setM3(m3);\r\n    \t\tthis.setTotal_marks_secured(m1+m2+m3);\r\n    \t\tthis.setAvg_marks_secured(this.getTotal_marks_secured()/3);\r\n    \t}\r\n    \tpublic StudentDetails() {\r\n    \t}\r\n    \tpublic int getStdid() {\r\n    \t\treturn stdid;\r\n    \t}\r\n    \tpublic void setStdid(int stdid) {\r\n    \t\tthis.stdid = stdid;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic int getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \tpublic void setAge(int age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \tpublic String getMobileNumber() {\r\n    \t\treturn mobileNumber;\r\n    \t}\r\n    \tpublic void setMobileNumber(String mobileNumber) {\r\n    \t\tthis.mobileNumber = mobileNumber;\r\n    \t}\r\n    \tpublic int getM1() {\r\n    \t\treturn this.m1;\r\n    \t}\r\n    \tpublic void setM1(int m1) {\r\n    \t\tthis.m1 = m1;\r\n    \t}\r\n    \tpublic int getM2() {\r\n    \t\treturn this.m2;\r\n    \t}\r\n    \tpublic void setM2(int m2) {\r\n    \t\tthis.m2 = m2;\r\n    \t}\r\n    \tpublic int getM3() {\r\n    \t\treturn this.m3;\r\n    \t}\r\n    \tpublic void setM3(int m3) {\r\n    \t\tthis.m3 = m3;\r\n    \t}\r\n    \tpublic int getTotal_marks_secured() {\r\n    \t\treturn total_marks_secured;\r\n    \t}\r\n    \tpublic void setTotal_marks_secured(int total_marks_secured) {\r\n    \t\tthis.total_marks_secured = total_marks_secured;\r\n    \t}\r\n    \tpublic double getAvg_marks_secured() {\r\n    \t\treturn avg_marks_secured;\r\n    \t}\r\n    \tpublic void setAvg_marks_secured(double avg_marks_secured) {\r\n    \t\tthis.avg_marks_secured = avg_marks_secured;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic void display() {\r\n    \t\tSystem.out.println(&quot;Student [stdid=&quot; + stdid + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;, mobileNumber=&quot; + mobileNumber\r\n    \t\t\t\t+ &quot;, m1=&quot; + m1 + &quot;, m2=&quot; + m2 + &quot;, m3=&quot; + m3 + &quot;, total_marks_secured=&quot; + total_marks_secured\r\n    \t\t\t\t+ &quot;, avg_marks_secured=&quot; + avg_marks_secured + &quot;]&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis is my Student Main Class\r\n\r\n   \r\n\r\n     package com.src.StudentDetailsAsMap;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class StudentMap {\r\n    \tpublic static void main(String[] arg) {\r\n    \t\tStudentDetails obj = new StudentDetails();\r\n    \t\tArrayList&lt;Integer&gt; marks = new ArrayList&lt;Integer&gt;();\r\n    \t\tMap&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt; mp = new HashMap&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt;();\r\n    \t\t\r\n    \t\tobj = new StudentDetails(1,&quot;kevin&quot;,20,&quot;23425&quot;,89,98,89);\r\n    \t\tmarks.add(obj.getM1());\r\n    \t\tmarks.add(obj.getM2());\r\n    \t\tmarks.add(obj.getM3());\r\n    \t\tSystem.out.println(&quot;marks1: &quot; + marks.get(0) + &quot; &quot; + marks.get(1) +&quot; &quot; + marks.get(2));\r\n    \t\tmp.put(obj,marks);\r\n    \t\t\r\n    \t\tmarks.clear();\r\n    \t\tobj = new StudentDetails(2,&quot;fred&quot;,20,&quot;12345&quot;,81,98,89);\r\n    \t\tmarks.add(obj.getM1());\r\n    \t\tmarks.add(obj.getM2());\r\n    \t\tmarks.add(obj.getM3());\r\n    \t\tSystem.out.println(&quot;marks2 &quot; + marks.get(0) + &quot; &quot; + marks.get(1) +&quot; &quot; + marks.get(2));\r\n    \t\tmp.put(obj,marks);\r\n    \t\t\r\n    \t\tobj = new StudentDetails(3,&quot;rue&quot;,20,&quot;24564&quot;,89,56,89);\r\n    \t\tmarks.clear();\r\n    \t\tmarks.add(obj.getM1());\r\n    \t\tmarks.add(obj.getM2());\r\n    \t\tmarks.add(obj.getM3());\r\n    \t\tmp.put(obj,marks);\r\n    \t\t\r\n    \t\t\r\n    \t\tobj = new StudentDetails(4,&quot;paxton&quot;,20,&quot;85756&quot;,89,35,89);\r\n    \t\tmarks.clear();\r\n    \t\tmarks.add(obj.getM1());\r\n    \t\tmarks.add(obj.getM2());\r\n    \t\tmarks.add(obj.getM3());\r\n    \t\tmp.put(obj,marks);\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(Entry mp1 : mp.entrySet()) {\r\n    \t\t\tStudentDetails s = (StudentDetails) mp1.getKey();\r\n    \t\t\tSystem.out.println(&quot;Key: &quot;);\r\n    \t\t\ts.display();\r\n    \t\t\tSystem.out.println(&quot;Value: &quot;);\r\n    \t\t\tArrayList&lt;Integer&gt; arr = (ArrayList&lt;Integer&gt;)mp1.getValue();\r\n    \t\t\tSystem.out.println(arr);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n[![This is the output I got][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UeUVM.png","title":"Why is the map displaying same value for all entries?","body":"<p>I've recently been learning Java. So basically I created a Student Model class which consists of student's info along with their marks info. And then I created a Student Main Class where I created an object of type Student Model Class. I wanted to create a map of type <strong>Map&lt;StudentModelClass,ArrayList&lt;Integer&gt;</strong>.</p>\n<p>I want to store student details as a key and only their marks which is a list as value in a map. I wrote the code but I don't know why is my map taking all the values in map entries the same marks.</p>\n<p>This is my Student Model Class</p>\n<pre><code>package com.src.StudentDetailsAsMap;\n\npublic class StudentDetails {\n\n    private int stdid;\n    private String name;\n    private int age;\n    private String mobileNumber; \n    private int m1,m2,m3;\n    private int total_marks_secured=0;\n    private double avg_marks_secured=0.0;\n\n    \n    \n    public StudentDetails(int stdid, String name, int age, String mobileNumber, int m1, int m2, int m3) {\n        this.setStdid(stdid);\n        this.setName(name);\n        this.setAge(age);\n        this.setMobileNumber(mobileNumber);\n        this.setM1(m1);\n        this.setM2(m2);\n        this.setM3(m3);\n        this.setTotal_marks_secured(m1+m2+m3);\n        this.setAvg_marks_secured(this.getTotal_marks_secured()/3);\n    }\n    public StudentDetails() {\n    }\n    public int getStdid() {\n        return stdid;\n    }\n    public void setStdid(int stdid) {\n        this.stdid = stdid;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getAge() {\n        return age;\n    }\n    public void setAge(int age) {\n        this.age = age;\n    }\n    public String getMobileNumber() {\n        return mobileNumber;\n    }\n    public void setMobileNumber(String mobileNumber) {\n        this.mobileNumber = mobileNumber;\n    }\n    public int getM1() {\n        return this.m1;\n    }\n    public void setM1(int m1) {\n        this.m1 = m1;\n    }\n    public int getM2() {\n        return this.m2;\n    }\n    public void setM2(int m2) {\n        this.m2 = m2;\n    }\n    public int getM3() {\n        return this.m3;\n    }\n    public void setM3(int m3) {\n        this.m3 = m3;\n    }\n    public int getTotal_marks_secured() {\n        return total_marks_secured;\n    }\n    public void setTotal_marks_secured(int total_marks_secured) {\n        this.total_marks_secured = total_marks_secured;\n    }\n    public double getAvg_marks_secured() {\n        return avg_marks_secured;\n    }\n    public void setAvg_marks_secured(double avg_marks_secured) {\n        this.avg_marks_secured = avg_marks_secured;\n    }\n    \n    \n    public void display() {\n        System.out.println(&quot;Student [stdid=&quot; + stdid + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;, mobileNumber=&quot; + mobileNumber\n                + &quot;, m1=&quot; + m1 + &quot;, m2=&quot; + m2 + &quot;, m3=&quot; + m3 + &quot;, total_marks_secured=&quot; + total_marks_secured\n                + &quot;, avg_marks_secured=&quot; + avg_marks_secured + &quot;]&quot;);\n    }\n    \n}\n</code></pre>\n<p>This is my Student Main Class</p>\n<pre><code> package com.src.StudentDetailsAsMap;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\npublic class StudentMap {\n    public static void main(String[] arg) {\n        StudentDetails obj = new StudentDetails();\n        ArrayList&lt;Integer&gt; marks = new ArrayList&lt;Integer&gt;();\n        Map&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt; mp = new HashMap&lt;StudentDetails,ArrayList&lt;Integer&gt;&gt;();\n        \n        obj = new StudentDetails(1,&quot;kevin&quot;,20,&quot;23425&quot;,89,98,89);\n        marks.add(obj.getM1());\n        marks.add(obj.getM2());\n        marks.add(obj.getM3());\n        System.out.println(&quot;marks1: &quot; + marks.get(0) + &quot; &quot; + marks.get(1) +&quot; &quot; + marks.get(2));\n        mp.put(obj,marks);\n        \n        marks.clear();\n        obj = new StudentDetails(2,&quot;fred&quot;,20,&quot;12345&quot;,81,98,89);\n        marks.add(obj.getM1());\n        marks.add(obj.getM2());\n        marks.add(obj.getM3());\n        System.out.println(&quot;marks2 &quot; + marks.get(0) + &quot; &quot; + marks.get(1) +&quot; &quot; + marks.get(2));\n        mp.put(obj,marks);\n        \n        obj = new StudentDetails(3,&quot;rue&quot;,20,&quot;24564&quot;,89,56,89);\n        marks.clear();\n        marks.add(obj.getM1());\n        marks.add(obj.getM2());\n        marks.add(obj.getM3());\n        mp.put(obj,marks);\n        \n        \n        obj = new StudentDetails(4,&quot;paxton&quot;,20,&quot;85756&quot;,89,35,89);\n        marks.clear();\n        marks.add(obj.getM1());\n        marks.add(obj.getM2());\n        marks.add(obj.getM3());\n        mp.put(obj,marks);\n        \n        \n        for(Entry mp1 : mp.entrySet()) {\n            StudentDetails s = (StudentDetails) mp1.getKey();\n            System.out.println(&quot;Key: &quot;);\n            s.display();\n            System.out.println(&quot;Value: &quot;);\n            ArrayList&lt;Integer&gt; arr = (ArrayList&lt;Integer&gt;)mp1.getValue();\n            System.out.println(arr);\n        }\n        \n        \n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UeUVM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UeUVM.png\" alt=\"This is the output I got\" /></a></p>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1665158844,"post_id":73989847,"comment_id":130641911,"body_markdown":"One option - on detection of `pointsList` is null, then return an empty `PointElement` list.","body":"One option - on detection of <code>pointsList</code> is null, then return an empty <code>PointElement</code> list."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1665160114,"post_id":73989847,"comment_id":130642358,"body_markdown":"This question cannot be answered until you first explain what `null` would _mean_. When `getPoints()` returns `null`, what does that imply? If it implies &#39;no points exist&#39;, then __your code is currently wrong__ - it should then return an empty list instead of `null`. If it means something else, then what is that, and why is it correct to act the same way as an empty list (do nothing)? Generally, either [A] this question is moot (as an empty list is returned, which you can just `stream()` as normal), or [B] The NPE is correct - you _want_ `retrievePoints` to crash, as the state isn&#39;t valid.","body":"This question cannot be answered until you first explain what <code>null</code> would <i>mean</i>. When <code>getPoints()</code> returns <code>null</code>, what does that imply? If it implies &#39;no points exist&#39;, then <b>your code is currently wrong</b> - it should then return an empty list instead of <code>null</code>. If it means something else, then what is that, and why is it correct to act the same way as an empty list (do nothing)? Generally, either [A] this question is moot (as an empty list is returned, which you can just <code>stream()</code> as normal), or [B] The NPE is correct - you <i>want</i> <code>retrievePoints</code> to crash, as the state isn&#39;t valid."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665159104,"creation_date":1665159104,"answer_id":73989923,"question_id":73989847,"body_markdown":"`Optional&lt;Collection&lt;T&gt;&gt;` is generally frowned upon. Return an empty collection instead.\r\n\r\n```\r\npublic static List&lt;PointElement&gt; retrievePoints(\r\n    FullResponse responseWrapper) {\r\n  List&lt;PointElement&gt; pointsList =\r\n      responseWrapper.getFullBreakdownResult().getPoints();\r\n  if (pointsList == null) return Collections.emptyList();\r\n\r\n  return pointsList.stream()\r\n      .map(\r\n          point -&gt;\r\n              new PointElement(\r\n                  null,\r\n                  null,\r\n                  point.getRefNum(),\r\n                  point.getPointCode()))\r\n      .collect(Collectors.toList());\r\n  }\r\n}\r\n```","title":"How to handle null if an element may not exist when returning from List&lt;&gt; method","body":"<p><code>Optional&lt;Collection&lt;T&gt;&gt;</code> is generally frowned upon. Return an empty collection instead.</p>\n<pre><code>public static List&lt;PointElement&gt; retrievePoints(\n    FullResponse responseWrapper) {\n  List&lt;PointElement&gt; pointsList =\n      responseWrapper.getFullBreakdownResult().getPoints();\n  if (pointsList == null) return Collections.emptyList();\n\n  return pointsList.stream()\n      .map(\n          point -&gt;\n              new PointElement(\n                  null,\n                  null,\n                  point.getRefNum(),\n                  point.getPointCode()))\n      .collect(Collectors.toList());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22576767,"reputation":169,"user_id":16762098,"display_name":"AbrahamSantos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665160468,"creation_date":1665160468,"answer_id":73990148,"question_id":73989847,"body_markdown":"May be you need filter the data inside in your stream&lt;PointElement&gt;, using filter is perfect for this case.\r\n\r\n```java\r\n        public static List&lt;PointElement&gt; retrievePoint(FullResponse responseWrapper){\r\n        List&lt;PointElement&gt; pointsList = responseWrapper.getFullBreakdownResult().getPoints();\r\n        if(pointsList == null)return Collections.emptyList();\r\n        return pointsList.stream().filter(point -&gt; points!=null).map(point -&gt;newPointElement(null,null,point.getRefNum(),point.getPointCode())).collections(Collectors.toList());\r\n        }\r\n```\r\nIf you prefer use Objects from java.util, to validate if a Object is null, like:\r\n\r\n```java\r\nif(Objects.isNull(pointsList)) return Collections.emptyList();\r\n```\r\n\r\nAnd you can use in a stream like:\r\n```java\r\nreturn list.stream().filter(e-&gt; Objects.nonNull(e)).collect(Collectors.toList());\r\n```\r\n\r\nOr \r\n\r\n```java\r\nreturn list.stream().filter(Objects::nonNull).collect(Collectors.toList());\r\n```","title":"How to handle null if an element may not exist when returning from List&lt;&gt; method","body":"<p>May be you need filter the data inside in your stream, using filter is perfect for this case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public static List&lt;PointElement&gt; retrievePoint(FullResponse responseWrapper){\n        List&lt;PointElement&gt; pointsList = responseWrapper.getFullBreakdownResult().getPoints();\n        if(pointsList == null)return Collections.emptyList();\n        return pointsList.stream().filter(point -&gt; points!=null).map(point -&gt;newPointElement(null,null,point.getRefNum(),point.getPointCode())).collections(Collectors.toList());\n        }\n</code></pre>\n<p>If you prefer use Objects from java.util, to validate if a Object is null, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(Objects.isNull(pointsList)) return Collections.emptyList();\n</code></pre>\n<p>And you can use in a stream like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return list.stream().filter(e-&gt; Objects.nonNull(e)).collect(Collectors.toList());\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>return list.stream().filter(Objects::nonNull).collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665239845,"post_id":73990225,"comment_id":130655684,"body_markdown":"Won&#39;t `Stream.ofNullable` here return a `Stream&lt;List&lt;PointElement&gt;&gt;` instead of the required `Stream&lt;PointElement&gt;`? I think you want `Objects.requireNonNullElseGet(getPoints(), emptyList()).stream()` here","body":"Won&#39;t <code>Stream.ofNullable</code> here return a <code>Stream&lt;List&lt;PointElement&gt;&gt;</code> instead of the required <code>Stream&lt;PointElement&gt;</code>? I think you want <code>Objects.requireNonNullElseGet(getPoints(), emptyList()).stream()</code> here"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665240150,"post_id":73990225,"comment_id":130655740,"body_markdown":"@knittl Good point, amended.","body":"@knittl Good point, amended."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665240594,"post_id":73990225,"comment_id":130655832,"body_markdown":"@knittl Regarding `Objects.requireNonNullElseGet()`, it&#39;s also a possible option. It appears at the same language level (JDK 9), and expressive enough as well as `Stream.ofNullable`","body":"@knittl Regarding <code>Objects.requireNonNullElseGet()</code>, it&#39;s also a possible option. It appears at the same language level (JDK 9), and expressive enough as well as <code>Stream.ofNullable</code>"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665240128,"creation_date":1665160976,"answer_id":73990225,"question_id":73989847,"body_markdown":"As *@knittl* has pointed out in his answer, wrapping a Collection with an `Optional` doesn&#39;t make sense.\r\n\r\n`Optional` was designed as a container of nullable data, and you can safely interact with the container regardless whether it contains a value or not. But Collections and arrays by their nature are also **containers of data**, they can represent the absence of data by being empty and that can be verified without any issues.\r\n\r\nTherefore, `List` would be sufficient as a return value.\r\n\r\nSince you&#39;re not treating the case when `responseWrapper.getFullBreakdownResult().getPoints()` doesn&#39;t return a data as a normal event and not going to throw an exception or log this information, then you can use Java 9 method [`Stream.ofNullable()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#ofNullable(T)) to generate a stream pipeline from the nullable source.\r\n\r\n    public static List&lt;PointElement&gt; retrievePoints(FullResponse responseWrapper) {\r\n        \r\n        return Stream.ofNullable(responseWrapper.getFullBreakdownResult().getPoints())\r\n            .flatMap(Collection::stream)\r\n            .map(point -&gt;\r\n                    new PointElement(\r\n                        null,\r\n                        null,\r\n                        point.getRefNum(),\r\n                        point.getPointCode())\r\n            )\r\n            .toList(); // for Java 16 or collect(Collectors.toList())\r\n    }","title":"How to handle null if an element may not exist when returning from List&lt;&gt; method","body":"<p>As <em>@knittl</em> has pointed out in his answer, wrapping a Collection with an <code>Optional</code> doesn't make sense.</p>\n<p><code>Optional</code> was designed as a container of nullable data, and you can safely interact with the container regardless whether it contains a value or not. But Collections and arrays by their nature are also <strong>containers of data</strong>, they can represent the absence of data by being empty and that can be verified without any issues.</p>\n<p>Therefore, <code>List</code> would be sufficient as a return value.</p>\n<p>Since you're not treating the case when <code>responseWrapper.getFullBreakdownResult().getPoints()</code> doesn't return a data as a normal event and not going to throw an exception or log this information, then you can use Java 9 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#ofNullable(T)\" rel=\"nofollow noreferrer\"><code>Stream.ofNullable()</code></a> to generate a stream pipeline from the nullable source.</p>\n<pre><code>public static List&lt;PointElement&gt; retrievePoints(FullResponse responseWrapper) {\n    \n    return Stream.ofNullable(responseWrapper.getFullBreakdownResult().getPoints())\n        .flatMap(Collection::stream)\n        .map(point -&gt;\n                new PointElement(\n                    null,\n                    null,\n                    point.getRefNum(),\n                    point.getPointCode())\n        )\n        .toList(); // for Java 16 or collect(Collectors.toList())\n}\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":3,"score":-3,"last_activity_date":1665240128,"creation_date":1665158694,"question_id":73989847,"body_markdown":"I have this method:\r\n\r\n```Java\r\npublic static List&lt;PointElement&gt; retrievePoints(\r\n    FullResponse responseWrapper) {\r\n  List&lt;PointElement&gt; pointsList =\r\n      responseWrapper.getFullBreakdownResult().getPoints();\r\n  return pointsList.stream()\r\n      .map(\r\n          point -&gt;\r\n              new PointElement(\r\n                  null,\r\n                  null,\r\n                  point.getRefNum(),\r\n                  point.getPointCode()))\r\n      .collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\nIt&#39;s possible that `pointsList` might be a null value. Currently if that&#39;s the case I get a `NullPointerException` at the `return`.\r\n\r\nI thought maybe I could change it to:\r\n\r\n```Java\r\npublic static Optional&lt;List&lt;PointElement&gt;&gt; retrievePoints(\r\n    FullResponse responseWrapper) {\r\n  Optional&lt;List&lt;PointElement&gt;&gt; pointsList =\r\n      responseWrapper.getFullBreakdownResult().getPoints();\r\n  return pointsList.stream()\r\n      .map(\r\n          point -&gt;\r\n              new PointElement(\r\n                  null,\r\n                  null,\r\n                  point.getRefNum(),\r\n                  point.getPointCode()))\r\n      .collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\nThat causes other issues in that methods `point.getRefNum()` and `point.getPointCode()` cannot be resolved?\r\n\r\nHow do I resolve this issue?","title":"How to handle null if an element may not exist when returning from List&lt;&gt; method","body":"<p>I have this method:</p>\n<pre><code>public static List&lt;PointElement&gt; retrievePoints(\n    FullResponse responseWrapper) {\n  List&lt;PointElement&gt; pointsList =\n      responseWrapper.getFullBreakdownResult().getPoints();\n  return pointsList.stream()\n      .map(\n          point -&gt;\n              new PointElement(\n                  null,\n                  null,\n                  point.getRefNum(),\n                  point.getPointCode()))\n      .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>It's possible that <code>pointsList</code> might be a null value. Currently if that's the case I get a <code>NullPointerException</code> at the <code>return</code>.</p>\n<p>I thought maybe I could change it to:</p>\n<pre><code>public static Optional&lt;List&lt;PointElement&gt;&gt; retrievePoints(\n    FullResponse responseWrapper) {\n  Optional&lt;List&lt;PointElement&gt;&gt; pointsList =\n      responseWrapper.getFullBreakdownResult().getPoints();\n  return pointsList.stream()\n      .map(\n          point -&gt;\n              new PointElement(\n                  null,\n                  null,\n                  point.getRefNum(),\n                  point.getPointCode()))\n      .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>That causes other issues in that methods <code>point.getRefNum()</code> and <code>point.getPointCode()</code> cannot be resolved?</p>\n<p>How do I resolve this issue?</p>\n"},{"tags":["java","android","gradle","netbeans","emulation"],"comments":[{"owner":{"account_id":6994799,"reputation":11485,"user_id":5362795,"display_name":"Nagev"},"score":0,"creation_date":1665240319,"post_id":73922119,"comment_id":130655772,"body_markdown":"See also: [Can I develop Android Apps without an IDE](https://stackoverflow.com/questions/29290588/can-i-develop-android-apps-without-an-ide)","body":"See also: <a href=\"https://stackoverflow.com/questions/29290588/can-i-develop-android-apps-without-an-ide\">Can I develop Android Apps without an IDE</a>"},{"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"score":0,"creation_date":1683113804,"post_id":73922119,"comment_id":134315910,"body_markdown":"Meanwhile a more current answer can be found here: https://stackoverflow.com/a/76150499/19980636","body":"Meanwhile a more current answer can be found here: <a href=\"https://stackoverflow.com/a/76150499/19980636\">stackoverflow.com/a/76150499/19980636</a>"}],"answers":[{"tags":[],"owner":{"account_id":23860974,"reputation":41,"user_id":17863927,"display_name":"Ehsan Abid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664667283,"creation_date":1664667283,"answer_id":73922433,"question_id":73922119,"body_markdown":"You actually can make Android Apps on Netbeans, but the setup is a bit too complicated. and also emulator will not work on 2 Gb Ram you need 8Gb ram to run emulator","title":"Can I build Android apps without Android Studio and Intelij idea and just with netbeans by knowing how to make android apps","body":"<p>You actually can make Android Apps on Netbeans, but the setup is a bit too complicated. and also emulator will not work on 2 Gb Ram you need 8Gb ram to run emulator</p>\n"}],"owner":{"account_id":26068930,"reputation":11,"user_id":19768972,"display_name":"Mohammadreza Hashemzadeh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665240078,"creation_date":1664662516,"question_id":73922119,"body_markdown":"I am beginner in Java and I want to build Android apps. Android Studio is installed on my system but will not run, because I have a PC with 2 GB RAM, 32 bit Windows 7 and a 200 GB disk drive.\r\n\r\nIntelliJ IDEA didn&#39;t work either. I can work with NetBeans. I can&#39;t upgrade the RAM, etc. But I am serious on Android app building. Can I install just an emulator and code on NetBeans (XML, Gradle, Java, SDK, etc.) and then run on emulator and finally convert it to APK? If yes, please tell me how to convert to APK, but if not, please advise me to do anything. I appreciate it in advance.","title":"Can I build Android apps without Android Studio and Intelij idea and just with netbeans by knowing how to make android apps","body":"<p>I am beginner in Java and I want to build Android apps. Android Studio is installed on my system but will not run, because I have a PC with 2 GB RAM, 32 bit Windows 7 and a 200 GB disk drive.</p>\n<p>IntelliJ IDEA didn't work either. I can work with NetBeans. I can't upgrade the RAM, etc. But I am serious on Android app building. Can I install just an emulator and code on NetBeans (XML, Gradle, Java, SDK, etc.) and then run on emulator and finally convert it to APK? If yes, please tell me how to convert to APK, but if not, please advise me to do anything. I appreciate it in advance.</p>\n"},{"tags":["java","android","slack-api"],"answers":[{"comments":[{"owner":{"display_name":"user10217645"},"score":0,"creation_date":1536678489,"post_id":52278812,"comment_id":91505947,"body_markdown":"Thanks! Also, I can use the HTTP POST to use discord webhooks as well? (sorry for being a noob)","body":"Thanks! Also, I can use the HTTP POST to use discord webhooks as well? (sorry for being a noob)"},{"owner":{"account_id":5513612,"reputation":31129,"user_id":4379151,"display_name":"Erik Kalkoken"},"score":0,"creation_date":1536679051,"post_id":52278812,"comment_id":91506326,"body_markdown":"yes. Discord webhooks work similar and you can also use HTTP POST requests to use them. See the documentation for it here: https://discordapp.com/developers/docs/resources/webhook#execute-webhook","body":"yes. Discord webhooks work similar and you can also use HTTP POST requests to use them. See the documentation for it here: <a href=\"https://discordapp.com/developers/docs/resources/webhook#execute-webhook\" rel=\"nofollow noreferrer\">discordapp.com/developers/docs/resources/&hellip;</a>"},{"owner":{"display_name":"user10217645"},"score":0,"creation_date":1536680265,"post_id":52278812,"comment_id":91507094,"body_markdown":"Cool, ill try it and I will ask if I have any problems, thanks for your help","body":"Cool, ill try it and I will ask if I have any problems, thanks for your help"}],"tags":[],"owner":{"account_id":5513612,"reputation":31129,"user_id":4379151,"display_name":"Erik Kalkoken"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536677799,"creation_date":1536677799,"answer_id":52278812,"question_id":52278246,"body_markdown":"Incoming webhooks on Slack are very easy to use and basically work with any programming language / platform as long as you are able to send a HTTP POST request. \r\n\r\nFirst I would recommend to check out the [excellent documentation][1] with step-by-step instructions on how to get started with webhooks.\r\n\r\nThen to get the feel for how webhooks I would advise playing around with it using tools like [Postman][2] or [cURL][3].\r\n\r\nLast but not least: if you want to learn how to make a HTTP POST request in Java, check out [this answer][4].\r\n\r\n\r\n  [1]: https://api.slack.com/incoming-webhooks#getting-started\r\n  [2]: https://www.getpostman.com/\r\n  [3]: https://curl.haxx.se/\r\n  [4]: https://stackoverflow.com/questions/3324717/sending-http-post-request-in-java","title":"Send messages using Slack Incoming webhooks","body":"<p>Incoming webhooks on Slack are very easy to use and basically work with any programming language / platform as long as you are able to send a HTTP POST request. </p>\n\n<p>First I would recommend to check out the <a href=\"https://api.slack.com/incoming-webhooks#getting-started\" rel=\"nofollow noreferrer\">excellent documentation</a> with step-by-step instructions on how to get started with webhooks.</p>\n\n<p>Then to get the feel for how webhooks I would advise playing around with it using tools like <a href=\"https://www.getpostman.com/\" rel=\"nofollow noreferrer\">Postman</a> or <a href=\"https://curl.haxx.se/\" rel=\"nofollow noreferrer\">cURL</a>.</p>\n\n<p>Last but not least: if you want to learn how to make a HTTP POST request in Java, check out <a href=\"https://stackoverflow.com/questions/3324717/sending-http-post-request-in-java\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":4215032,"reputation":11,"user_id":3451534,"display_name":"Learning Technology"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665239261,"creation_date":1665216217,"answer_id":73995377,"question_id":52278246,"body_markdown":"You can follow below steps: \r\n\r\n 1. First create your app for custom messages using this [URL][1]\r\n\r\n\r\n2. If you want to send messages in various beautiful layouts, follow this [link][2]\r\n\r\n\r\n3. Sample working code for aforementioned layouts:\r\n\r\nCode:\r\n\r\n    \t\tList&lt;LayoutBlock&gt; message = new ArrayList&lt;&gt;();\r\n            message.add(SectionBlock.builder()\r\n\t\t\t\t.text(MarkdownTextObject.builder().text(&quot;*&quot;Subject of the message &quot;*&quot;).build()).build());\r\n\r\n    message.add(\r\n\t\t\t\tSectionBlock\r\n\t\t\t\t\t\t.builder().fields(\r\n\t\t\t\t\t\t\t\tArrays.asList(\r\n\t\t\t\t\t\t\t\t\t\tMarkdownTextObject.builder()\r\n\t\t\t\t\t\t\t\t\t\t\t\t.text(&quot;*First Topic:* &quot;Your text&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.build(),\r\n    MarkdownTextObject.builder().text(&quot;*Second topic:* &quot;Your text &quot;).build())).build());\r\n\r\n    message.add(DividerBlock.builder().build());\r\n\r\n    ChatPostMessageRequest request = ChatPostMessageRequest.builder().channel(&quot;Your Slack Channel ID&quot;).blocks(message)\r\n\t\t\t\t.build();\r\n    ChatPostMessageResponse response = methodsClient.chatPostMessage(request);\r\n    response.getChannel();\r\n\r\nPS: If you want to add any link in your message:\r\n\r\n    MarkdownTextObject.builder().text(&quot;*Link Text:* &lt;&quot;https://..&quot;|click here&gt;&quot;).build()\r\n\r\nNote: You can edit the layout as per your ease, [refer this url][3]\r\n\r\n\r\n  [1]: https://api.slack.com/messaging/webhooks#getting-started\r\n  [2]: https://api.slack.com/messaging/composing/layouts\r\n  [3]: https://app.slack.com/block-kit-builder/T033N74ES4U#%7B%22blocks%22:%5B%7B%22type%22:%22header%22,%22text%22:%7B%22type%22:%22plain_text%22,%22text%22:%22New%20request%22,%22emoji%22:true%7D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Type:*%5CnPaid%20Time%20Off%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Created%20by:*%5Cn%3Cexample.com%7CFred%20Enriquez%3E%22%7D%5D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*When:*%5CnAug%2010%20-%20Aug%2013%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Type:*%5CnPaid%20time%20off%22%7D%5D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Hours:*%5Cn16.0%20(2%20days)%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Remaining%20balance:*%5Cn32.0%20hours%20(4%20days)%22%7D%5D%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22%3Chttps://example.com%7CView%20request%3E%22%7D%7D%5D%7D","title":"Send messages using Slack Incoming webhooks","body":"<p>You can follow below steps:</p>\n<ol>\n<li><p>First create your app for custom messages using this <a href=\"https://api.slack.com/messaging/webhooks#getting-started\" rel=\"nofollow noreferrer\">URL</a></p>\n</li>\n<li><p>If you want to send messages in various beautiful layouts, follow this <a href=\"https://api.slack.com/messaging/composing/layouts\" rel=\"nofollow noreferrer\">link</a></p>\n</li>\n<li><p>Sample working code for aforementioned layouts:</p>\n</li>\n</ol>\n<p>Code:</p>\n<pre><code>        List&lt;LayoutBlock&gt; message = new ArrayList&lt;&gt;();\n        message.add(SectionBlock.builder()\n            .text(MarkdownTextObject.builder().text(&quot;*&quot;Subject of the message &quot;*&quot;).build()).build());\n\nmessage.add(\n            SectionBlock\n                    .builder().fields(\n                            Arrays.asList(\n                                    MarkdownTextObject.builder()\n                                            .text(&quot;*First Topic:* &quot;Your text&quot;)\n                                            .build(),\nMarkdownTextObject.builder().text(&quot;*Second topic:* &quot;Your text &quot;).build())).build());\n\nmessage.add(DividerBlock.builder().build());\n\nChatPostMessageRequest request = ChatPostMessageRequest.builder().channel(&quot;Your Slack Channel ID&quot;).blocks(message)\n            .build();\nChatPostMessageResponse response = methodsClient.chatPostMessage(request);\nresponse.getChannel();\n</code></pre>\n<p>PS: If you want to add any link in your message:</p>\n<pre><code>MarkdownTextObject.builder().text(&quot;*Link Text:* &lt;&quot;https://..&quot;|click here&gt;&quot;).build()\n</code></pre>\n<p>Note: You can edit the layout as per your ease, <a href=\"https://app.slack.com/block-kit-builder/T033N74ES4U#%7B%22blocks%22:%5B%7B%22type%22:%22header%22,%22text%22:%7B%22type%22:%22plain_text%22,%22text%22:%22New%20request%22,%22emoji%22:true%7D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Type:*%5CnPaid%20Time%20Off%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Created%20by:*%5Cn%3Cexample.com%7CFred%20Enriquez%3E%22%7D%5D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*When:*%5CnAug%2010%20-%20Aug%2013%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Type:*%5CnPaid%20time%20off%22%7D%5D%7D,%7B%22type%22:%22section%22,%22fields%22:%5B%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Hours:*%5Cn16.0%20(2%20days)%22%7D,%7B%22type%22:%22mrkdwn%22,%22text%22:%22*Remaining%20balance:*%5Cn32.0%20hours%20(4%20days)%22%7D%5D%7D,%7B%22type%22:%22section%22,%22text%22:%7B%22type%22:%22mrkdwn%22,%22text%22:%22%3Chttps://example.com%7CView%20request%3E%22%7D%7D%5D%7D\" rel=\"nofollow noreferrer\">refer this url</a></p>\n"}],"owner":{"display_name":"user10217645"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665239261,"creation_date":1536676086,"question_id":52278246,"body_markdown":"I want to send a message in a channel in my slack workspace. I have seen many tutorials on how to use it but they are all in node.js, python but not java. Is there any way I could send a message at the slack channel #general when someone opens my app?\r\nThanks in advance","title":"Send messages using Slack Incoming webhooks","body":"<p>I want to send a message in a channel in my slack workspace. I have seen many tutorials on how to use it but they are all in node.js, python but not java. Is there any way I could send a message at the slack channel #general when someone opens my app?\nThanks in advance</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1665229771,"post_id":73996285,"comment_id":130653803,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":26563212,"reputation":9,"user_id":20190718,"display_name":"NK Developer"},"score":0,"creation_date":1665234363,"post_id":73996285,"comment_id":130654613,"body_markdown":"no sir logcat is correct and working fine but when i use download my app from playstore or use signed apk than it shows error","body":"no sir logcat is correct and working fine but when i use download my app from playstore or use signed apk than it shows error"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1665235170,"post_id":73996285,"comment_id":130654787,"body_markdown":"That&#39;s a crash. That&#39;s why I asked for a stack trace.","body":"That&#39;s a crash. That&#39;s why I asked for a stack trace."}],"answers":[{"tags":[],"owner":{"account_id":26563212,"reputation":9,"user_id":20190718,"display_name":"NK Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665238771,"creation_date":1665236371,"answer_id":73997435,"question_id":73996285,"body_markdown":"I solved this problem by adding these lines in my app gradle build (Build Types) Section:\r\n\r\n    shrinkResources false\r\n        minifyEnabled false\r\n        signingConfig signingConfigs.debug\r\n\r\n","title":"My Signed APK Crash when i read or write data from Firebase Android Studio","body":"<p>I solved this problem by adding these lines in my app gradle build (Build Types) Section:</p>\n<pre><code>shrinkResources false\n    minifyEnabled false\n    signingConfig signingConfigs.debug\n</code></pre>\n"}],"owner":{"account_id":26563212,"reputation":9,"user_id":20190718,"display_name":"NK Developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665238783,"creation_date":1665225261,"question_id":73996285,"body_markdown":"Basically i am using Both Firestore and Firebase realtime in my App. Once user signup in my app i saved user UID in realtime and than my recycler view fetch some category icon and name from my Firestore. Everything is working fine when i test my app on emulator directly from Android Studio\r\nbut when i generate Signed APK and when i install this app on mobile or emulator it show error when i signup the user.\r\n\r\nAuthentication System works fine user Email and UID is created Sucessfully in Firebase Auth system but realtime database not collecting data from my App Model classes.\r\n\r\nI hope you will understand my problem\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PohiM.png","title":"My Signed APK Crash when i read or write data from Firebase Android Studio","body":"<p>Basically i am using Both Firestore and Firebase realtime in my App. Once user signup in my app i saved user UID in realtime and than my recycler view fetch some category icon and name from my Firestore. Everything is working fine when i test my app on emulator directly from Android Studio\nbut when i generate Signed APK and when i install this app on mobile or emulator it show error when i signup the user.</p>\n<p>Authentication System works fine user Email and UID is created Sucessfully in Firebase Auth system but realtime database not collecting data from my App Model classes.</p>\n<p>I hope you will understand my problem</p>\n<p><img src=\"https://i.stack.imgur.com/PohiM.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","json","apache-kafka","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665237747,"creation_date":1665237747,"answer_id":73997630,"question_id":73988786,"body_markdown":"You will need the schema locally, but you can automatically download it during project compilation with the Schema Registry Maven plugin, for example. ","title":"JSON Schema + Schema registry + Kafka serialization","body":"<p>You will need the schema locally, but you can automatically download it during project compilation with the Schema Registry Maven plugin, for example.</p>\n"}],"owner":{"account_id":7166551,"reputation":31,"user_id":5475487,"display_name":"bahamut06"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665237747,"creation_date":1665153271,"question_id":73988786,"body_markdown":"I&#39;m trying to use JSON Schema with Kafka following https://docs.confluent.io/platform/current/schema-registry/serdes-develop/serdes-json.html#json-schema-serializer-and-deserializer\r\n\r\nI&#39;m using a generic class that gets built depending on the information coming from the DB. In that link there are 2 ways to serialize a message, to have a POJO class to derive the schema from it or to pass the schema directly to the producer using the @Schema annotation on a java class.\r\n\r\nI&#39;m storing the JSON schema on the confluent schema registry, so it doesn&#39;t make any sense to also have the schema hardcoded in the repository for serializing purposes.\r\nWe also took the effort to generify the Java class we use to come back to a POJO.\r\n\r\nIs there any way to use the schema fetched from the schema repository and use generic types, avoiding the use of POJOs with the same properties as the schema and plugins like jsonschema2pojo to send a message with Kafka?","title":"JSON Schema + Schema registry + Kafka serialization","body":"<p>I'm trying to use JSON Schema with Kafka following <a href=\"https://docs.confluent.io/platform/current/schema-registry/serdes-develop/serdes-json.html#json-schema-serializer-and-deserializer\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/schema-registry/serdes-develop/serdes-json.html#json-schema-serializer-and-deserializer</a></p>\n<p>I'm using a generic class that gets built depending on the information coming from the DB. In that link there are 2 ways to serialize a message, to have a POJO class to derive the schema from it or to pass the schema directly to the producer using the @Schema annotation on a java class.</p>\n<p>I'm storing the JSON schema on the confluent schema registry, so it doesn't make any sense to also have the schema hardcoded in the repository for serializing purposes.\nWe also took the effort to generify the Java class we use to come back to a POJO.</p>\n<p>Is there any way to use the schema fetched from the schema repository and use generic types, avoiding the use of POJOs with the same properties as the schema and plugins like jsonschema2pojo to send a message with Kafka?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665237627,"creation_date":1665236092,"answer_id":73997408,"question_id":73997282,"body_markdown":"You can assign attribute `access` of `@JsonProperty` to [`JsonProperty.Access.WRITE_ONLY`](https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.Access.html#WRITE_ONLY) in order to be able to receive this property but exclude it while serializing a POJO.\r\n\r\n    @Getter\r\n    @ToString\r\n    @Builder\r\n    public static class User {\r\n        \r\n        private final UUID userUid;\r\n        private final String firstName;\r\n        private final String lastName;\r\n        private final Gender gender;\r\n        private final Integer age;\r\n        private final String email;\r\n        \r\n        public User(@JsonProperty(&quot;userUid&quot;) UUID userUid,\r\n                    @JsonProperty(value = &quot;firstName&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n                        String firstName,\r\n                    @JsonProperty(value = &quot;lastName&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n                        String lastName,\r\n                    @JsonProperty(&quot;gender&quot;) Gender gender,\r\n                    @JsonProperty(&quot;age&quot;) Integer age,\r\n                    @JsonProperty(&quot;email&quot;) String email) {\r\n            \r\n            this.userUid = userUid;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.gender = gender;\r\n            this.age = age;\r\n            this.email = email;\r\n        }\r\n        \r\n        // the rest code\r\n    }\r\n\r\n*Usage example:*\r\n```\r\nString user = mapper.writerWithDefaultPrettyPrinter()\r\n    .writeValueAsString(\r\n        User.builder()\r\n            .userUid(new UUID(1, 1))\r\n            .firstName(&quot;firstName&quot;)\r\n            .lastName(&quot;lastName&quot;)\r\n            .gender(User.Gender.MALE)\r\n            .age(1000)\r\n            .email(&quot;email@example.com&quot;)\r\n            .build()\r\n    );\r\n    \r\nSystem.out.println(user);\r\n```\r\n*Output:*\r\n```\r\n{\r\n  &quot;userUid&quot; : &quot;00000000-0000-0001-0000-000000000001&quot;,\r\n  &quot;gender&quot; : &quot;MALE&quot;,\r\n  &quot;age&quot; : 1000,\r\n  &quot;email&quot; : &quot;email@example.com&quot;,\r\n  &quot;fullName&quot; : &quot;firstName lastName&quot;,\r\n  &quot;dateOfBirth&quot; : 1022\r\n}\r\n```\r\n**Note:** there are no attributes `firstName` and `lastName`, but instead `fullName` is present because of the `public` method `getFullName()` which would be treated by Jackson as a plain getter (I&#39;m sure that was precisely the original intention of the OP, but it&#39;s worth to draw the reader&#39;s attention to this fact)","title":"jackson anotations with lombok @Getter dont work","body":"<p>You can assign attribute <code>access</code> of <code>@JsonProperty</code> to <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.Access.html#WRITE_ONLY\" rel=\"nofollow noreferrer\"><code>JsonProperty.Access.WRITE_ONLY</code></a> in order to be able to receive this property but exclude it while serializing a POJO.</p>\n<pre><code>@Getter\n@ToString\n@Builder\npublic static class User {\n    \n    private final UUID userUid;\n    private final String firstName;\n    private final String lastName;\n    private final Gender gender;\n    private final Integer age;\n    private final String email;\n    \n    public User(@JsonProperty(&quot;userUid&quot;) UUID userUid,\n                @JsonProperty(value = &quot;firstName&quot;, access = JsonProperty.Access.WRITE_ONLY)\n                    String firstName,\n                @JsonProperty(value = &quot;lastName&quot;, access = JsonProperty.Access.WRITE_ONLY)\n                    String lastName,\n                @JsonProperty(&quot;gender&quot;) Gender gender,\n                @JsonProperty(&quot;age&quot;) Integer age,\n                @JsonProperty(&quot;email&quot;) String email) {\n        \n        this.userUid = userUid;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.gender = gender;\n        this.age = age;\n        this.email = email;\n    }\n    \n    // the rest code\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>String user = mapper.writerWithDefaultPrettyPrinter()\n    .writeValueAsString(\n        User.builder()\n            .userUid(new UUID(1, 1))\n            .firstName(&quot;firstName&quot;)\n            .lastName(&quot;lastName&quot;)\n            .gender(User.Gender.MALE)\n            .age(1000)\n            .email(&quot;email@example.com&quot;)\n            .build()\n    );\n    \nSystem.out.println(user);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{\n  &quot;userUid&quot; : &quot;00000000-0000-0001-0000-000000000001&quot;,\n  &quot;gender&quot; : &quot;MALE&quot;,\n  &quot;age&quot; : 1000,\n  &quot;email&quot; : &quot;email@example.com&quot;,\n  &quot;fullName&quot; : &quot;firstName lastName&quot;,\n  &quot;dateOfBirth&quot; : 1022\n}\n</code></pre>\n<p><strong>Note:</strong> there are no attributes <code>firstName</code> and <code>lastName</code>, but instead <code>fullName</code> is present because of the <code>public</code> method <code>getFullName()</code> which would be treated by Jackson as a plain getter (I'm sure that was precisely the original intention of the OP, but it's worth to draw the reader's attention to this fact)</p>\n"}],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73997408,"answer_count":1,"score":0,"last_activity_date":1665237627,"creation_date":1665234962,"question_id":73997282,"body_markdown":"having class, the data goes into the map\r\n\r\n    @Getter\r\n    @ToString\r\n    @Builder\r\n    //@FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\r\n    //@JsonIgnoreProperties(value = {&quot;firstName&quot;, &quot;lastName&quot;})\r\n    public class User {\r\n    \r\n    //    @JsonProperty(&quot;id&quot;)\r\n        private final UUID userUid;\r\n    \r\n        @JsonIgnore\r\n        private final String firstName;\r\n        @JsonIgnore\r\n        private final String lastName;\r\n        private final Gender gender;\r\n        private final Integer age;\r\n        private final String email;\r\n    \r\n        public enum Gender {\r\n            MALE, FEMALE\r\n        }\r\n    \r\n        public String getFullName() {\r\n            return this.firstName + &quot; &quot; + this.lastName;\r\n        }\r\n    \r\n        public int getDateOfBirth() {\r\n            return LocalDate.now().minusYears(age).getYear();\r\n        }\r\n    \r\n        public User(@JsonProperty(&quot;userUid&quot;) UUID userUid\r\n                , @JsonProperty(&quot;firstName&quot;) String firstName\r\n                , @JsonProperty(&quot;lastName&quot;) String lastName\r\n                , @JsonProperty(&quot;gender&quot;) Gender gender\r\n                , @JsonProperty(&quot;age&quot;) Integer age\r\n                , @JsonProperty(&quot;email&quot;) String email) {\r\n            this.userUid = userUid;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.gender = gender;\r\n            this.age = age;\r\n            this.email = email;\r\n        }\r\n    \r\n        public static User newUser(UUID userUid, User user) {\r\n            return User.builder()\r\n                    .userUid(userUid)\r\n                    .firstName(user.getFirstName())\r\n                    .lastName(user.getLastName())\r\n                    .gender(user.getGender())\r\n                    .age(user.getAge())\r\n                    .email(user.email)\r\n                    .build();\r\n        }\r\n    }    \r\n@JsonIgnore annotations on the field do not work, the fields are displayed in the response.  \r\nthe data is hidden when I annotate class by @JsonIgnoreProperties or by adding annotations over the getter.  \r\nand @JsonProperty above the field generally throws a 500 error ...\r\nIt turns out that jackson annotations with lombok @Getter do not work, and it is necessary to annotate getters, or am I doing something wrong?","title":"jackson anotations with lombok @Getter dont work","body":"<p>having class, the data goes into the map</p>\n<pre><code>@Getter\n@ToString\n@Builder\n//@FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\n//@JsonIgnoreProperties(value = {&quot;firstName&quot;, &quot;lastName&quot;})\npublic class User {\n\n//    @JsonProperty(&quot;id&quot;)\n    private final UUID userUid;\n\n    @JsonIgnore\n    private final String firstName;\n    @JsonIgnore\n    private final String lastName;\n    private final Gender gender;\n    private final Integer age;\n    private final String email;\n\n    public enum Gender {\n        MALE, FEMALE\n    }\n\n    public String getFullName() {\n        return this.firstName + &quot; &quot; + this.lastName;\n    }\n\n    public int getDateOfBirth() {\n        return LocalDate.now().minusYears(age).getYear();\n    }\n\n    public User(@JsonProperty(&quot;userUid&quot;) UUID userUid\n            , @JsonProperty(&quot;firstName&quot;) String firstName\n            , @JsonProperty(&quot;lastName&quot;) String lastName\n            , @JsonProperty(&quot;gender&quot;) Gender gender\n            , @JsonProperty(&quot;age&quot;) Integer age\n            , @JsonProperty(&quot;email&quot;) String email) {\n        this.userUid = userUid;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.gender = gender;\n        this.age = age;\n        this.email = email;\n    }\n\n    public static User newUser(UUID userUid, User user) {\n        return User.builder()\n                .userUid(userUid)\n                .firstName(user.getFirstName())\n                .lastName(user.getLastName())\n                .gender(user.getGender())\n                .age(user.getAge())\n                .email(user.email)\n                .build();\n    }\n}    \n</code></pre>\n<p>@JsonIgnore annotations on the field do not work, the fields are displayed in the response.<br />\nthe data is hidden when I annotate class by @JsonIgnoreProperties or by adding annotations over the getter.<br />\nand @JsonProperty above the field generally throws a 500 error ...\nIt turns out that jackson annotations with lombok @Getter do not work, and it is necessary to annotate getters, or am I doing something wrong?</p>\n"},{"tags":["java","apache-spark","apache-kafka","hive","spark-streaming"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665237281,"creation_date":1665237281,"answer_id":73997569,"question_id":73990792,"body_markdown":"Yes, you can use filter operator of Structured Streaming to create distinct dataframes which can be individually written to other locations ","title":"Can we write to multiple hive tables based on the input events from a single kafka topic","body":"<p>Yes, you can use filter operator of Structured Streaming to create distinct dataframes which can be individually written to other locations</p>\n"}],"owner":{"account_id":23662858,"reputation":33,"user_id":17690699,"display_name":"L2607"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665237281,"creation_date":1665164429,"question_id":73990792,"body_markdown":"I have a scenario where im producing message from Oracle Db to kafka topic\r\n\r\nNow I’m consuming the messages from kafka using Java-Spark and I want to write it to respective hive tables based on the events consumed \r\n\r\nSay there are two tables where the message is received in kafka:\r\n\r\n    Table 1 has received 1 event \r\n    Table 2 has received 2events\r\n\r\nNow I want write :\r\n\r\n    table1.event —&gt; hive.table1 (1event)\r\n    Table2.event —&gt; hive.table2(2 events)\r\n\r\nI knew if have multiple topics we can implement it but here i have only one topic and write to hive table based on its conditions","title":"Can we write to multiple hive tables based on the input events from a single kafka topic","body":"<p>I have a scenario where im producing message from Oracle Db to kafka topic</p>\n<p>Now I’m consuming the messages from kafka using Java-Spark and I want to write it to respective hive tables based on the events consumed</p>\n<p>Say there are two tables where the message is received in kafka:</p>\n<pre><code>Table 1 has received 1 event \nTable 2 has received 2events\n</code></pre>\n<p>Now I want write :</p>\n<pre><code>table1.event —&gt; hive.table1 (1event)\nTable2.event —&gt; hive.table2(2 events)\n</code></pre>\n<p>I knew if have multiple topics we can implement it but here i have only one topic and write to hive table based on its conditions</p>\n"},{"tags":["java","spring","spring-boot","junit","junit5"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1592477763,"post_id":62448186,"comment_id":110442486,"body_markdown":"Why do you Spy the UserRestService? And to use @NoArgsConstructor you have to remove final on the specified member declarations","body":"Why do you Spy the UserRestService? And to use @NoArgsConstructor you have to remove final on the specified member declarations"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1592477863,"post_id":62448186,"comment_id":110442550,"body_markdown":"I received this code as it is. Is there a better way to implement this test?","body":"I received this code as it is. Is there a better way to implement this test?"}],"answers":[{"tags":[],"owner":{"account_id":9929807,"reputation":562,"user_id":7350192,"accept_rate":100,"display_name":"KUSH42"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592477560,"creation_date":1592477560,"answer_id":62448300,"question_id":62448186,"body_markdown":"You have two options:\r\n\r\n1) Remove final declaration from fields so that the default constructor becomes available for Mockito to use.\r\n\r\n2) Provide a no-args Constructor (simply a constructor that does not take any parameters) and initialize the fields in question yourself. ","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>You have two options:</p>\n\n<p>1) Remove final declaration from fields so that the default constructor becomes available for Mockito to use.</p>\n\n<p>2) Provide a no-args Constructor (simply a constructor that does not take any parameters) and initialize the fields in question yourself. </p>\n"},{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1592482000,"post_id":62448479,"comment_id":110444668,"body_markdown":"Ok, Should I remove everywhere @Spe and replace it with @Mock?","body":"Ok, Should I remove everywhere @Spe and replace it with @Mock?"}],"tags":[],"owner":{"account_id":18132043,"reputation":77,"user_id":13187025,"display_name":"El Merrouni"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1592478859,"creation_date":1592478098,"answer_id":62448479,"question_id":62448186,"body_markdown":"Please do these two steps to resolve the issues\r\n\r\n 1. Try to use `@Mock` annotation instead of `@Spy` annotation\r\nOR\r\n 2. Remove `@Autowired` annotation from constructor as it&#39;s automatically injected. [Read this for more information ...](https://github.com/rcbandit111/wiki/blob/a7001be08c2df46db46d209d53bf86c809a85d3f/src/main/java/org/engine/service/UserRestService.java#L30)","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>Please do these two steps to resolve the issues</p>\n\n<ol>\n<li>Try to use <code>@Mock</code> annotation instead of <code>@Spy</code> annotation\nOR</li>\n<li>Remove <code>@Autowired</code> annotation from constructor as it's automatically injected. <a href=\"https://github.com/rcbandit111/wiki/blob/a7001be08c2df46db46d209d53bf86c809a85d3f/src/main/java/org/engine/service/UserRestService.java#L30\" rel=\"nofollow noreferrer\">Read this for more information ...</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1592479895,"creation_date":1592479895,"answer_id":62449041,"question_id":62448186,"body_markdown":"Another option is to create the Spy userRestService explicitly\r\n\r\n    @Spy\r\n    private UserRestService userRestService = new UserRestService(...);\r\n\r\nand use created Spys or Mocks(as needed) as arguments \r\n\r\n","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>Another option is to create the Spy userRestService explicitly</p>\n\n<pre><code>@Spy\nprivate UserRestService userRestService = new UserRestService(...);\n</code></pre>\n\n<p>and use created Spys or Mocks(as needed) as arguments </p>\n"},{"tags":[],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1665237056,"creation_date":1665237056,"answer_id":73997527,"question_id":62448186,"body_markdown":"This happens when you use @Spy on a class that has no no-args constructors.\r\nSo, it means you have to pass arguments, most likely mocks.\r\nYou have to use both `@Spy` and `@InjectMocks`. E.g.:\r\n```java\r\n@Mock\r\nMyMockClass2 mock1;\r\n@Mock\r\nMyMockClass2 mock2;\r\n@Spy\r\n@InjectMocks\r\nMySpiedClass spy;\r\n```\r\n\r\nThe important thing is that dependencies are declared in the order that are required, otherwise Mockito doesn&#39;t have a mock/spy to inject.","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>This happens when you use @Spy on a class that has no no-args constructors.\nSo, it means you have to pass arguments, most likely mocks.\nYou have to use both <code>@Spy</code> and <code>@InjectMocks</code>. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock\nMyMockClass2 mock1;\n@Mock\nMyMockClass2 mock2;\n@Spy\n@InjectMocks\nMySpiedClass spy;\n</code></pre>\n<p>The important thing is that dependencies are declared in the order that are required, otherwise Mockito doesn't have a mock/spy to inject.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15682,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":62448479,"answer_count":4,"score":4,"last_activity_date":1665237056,"creation_date":1592477222,"question_id":62448186,"body_markdown":"I want to create JUnit5 tests for Rest API.\r\n\r\n    @Test\r\n    public void resetRequest_NAME_AND_EMAIL_MISMATCH() throws Exception {\r\n        when(userRestService.resetRequest(anyString(), anyString())).thenReturn(Boolean.valueOf(&quot;test&quot;));\r\n\r\n        MvcResult result = mockMvc.perform(post(&quot;/users/reset_request&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(ResetUserDTO))\r\n                .andExpect(status().isBadRequest())\r\n                .andReturn();\r\n\r\n        assertEquals(result.getResponse().getContentAsString(), &quot;NAME_AND_EMAIL_MISMATCH&quot;);\r\n    }\r\n\r\nFull code: [Github][1]\r\n\r\nBut when I run the test I get exception\r\n\r\n    org.mockito.exceptions.base.MockitoException: Unable to initialize @Spy annotated field &#39;userRestService&#39;.\r\n    Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor.\r\n    .....\r\n    Caused by: org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor.\r\n    \t... 68 more\r\n\r\nRest service code: [GitHub][2]\r\n\r\nI tried to add @NoArgsConstructor but I get warning that variables (UsersService userService, PasswordAdminResetHandler resetHandler and etc...) are not initialized.\r\n\r\nDo you know how I can fix this issue?\r\n\r\n\r\n  [1]: https://github.com/rcbandit111/wiki/blob/master/src/test/org/engine/rest/UsersControllerTest.java#L187\r\n  [2]: https://github.com/rcbandit111/wiki/blob/master/src/main/java/org/engine/service/UserRestService.java","title":"org.mockito.exceptions.base.MockitoException: Please ensure that the type &#39;UserRestService&#39; has a no-arg constructor","body":"<p>I want to create JUnit5 tests for Rest API.</p>\n\n<pre><code>@Test\npublic void resetRequest_NAME_AND_EMAIL_MISMATCH() throws Exception {\n    when(userRestService.resetRequest(anyString(), anyString())).thenReturn(Boolean.valueOf(\"test\"));\n\n    MvcResult result = mockMvc.perform(post(\"/users/reset_request\")\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(ResetUserDTO))\n            .andExpect(status().isBadRequest())\n            .andReturn();\n\n    assertEquals(result.getResponse().getContentAsString(), \"NAME_AND_EMAIL_MISMATCH\");\n}\n</code></pre>\n\n<p>Full code: <a href=\"https://github.com/rcbandit111/wiki/blob/master/src/test/org/engine/rest/UsersControllerTest.java#L187\" rel=\"nofollow noreferrer\">Github</a></p>\n\n<p>But when I run the test I get exception</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: Unable to initialize @Spy annotated field 'userRestService'.\nPlease ensure that the type 'UserRestService' has a no-arg constructor.\n.....\nCaused by: org.mockito.exceptions.base.MockitoException: Please ensure that the type 'UserRestService' has a no-arg constructor.\n    ... 68 more\n</code></pre>\n\n<p>Rest service code: <a href=\"https://github.com/rcbandit111/wiki/blob/master/src/main/java/org/engine/service/UserRestService.java\" rel=\"nofollow noreferrer\">GitHub</a></p>\n\n<p>I tried to add @NoArgsConstructor but I get warning that variables (UsersService userService, PasswordAdminResetHandler resetHandler and etc...) are not initialized.</p>\n\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7306153,"reputation":2760,"user_id":5567009,"display_name":"Nigam Patro"},"score":0,"creation_date":1450765389,"post_id":34409637,"comment_id":56560622,"body_markdown":"One number when run the program means?","body":"One number when run the program means?"},{"owner":{"account_id":3296070,"reputation":4445,"user_id":2773311,"accept_rate":73,"display_name":"Arc676"},"score":2,"creation_date":1450765448,"post_id":34409637,"comment_id":56560642,"body_markdown":"&quot;I want only one number&quot; Why do you have a loop that runs from 10 to 99? That will give you 89 numbers between 0 and 99.","body":"&quot;I want only one number&quot; Why do you have a loop that runs from 10 to 99? That will give you 89 numbers between 0 and 99."},{"owner":{"account_id":7164872,"reputation":494,"user_id":5474328,"display_name":"Haseeb Anser"},"score":0,"creation_date":1450765715,"post_id":34409637,"comment_id":56560762,"body_markdown":"Possible duplicate of [Generating random integers in a range with Java](http://stackoverflow.com/questions/363681/generating-random-integers-in-a-range-with-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/363681/generating-random-integers-in-a-range-with-java\">Generating random integers in a range with Java</a>"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1450765924,"post_id":34409637,"comment_id":56560837,"body_markdown":"Simple. `random.nextInt(90) + 10 ;` will always give you a number between 10 and 99.","body":"Simple. <code>random.nextInt(90) + 10 ;</code> will always give you a number between 10 and 99."}],"answers":[{"tags":[],"owner":{"account_id":3251380,"reputation":159,"user_id":2741520,"display_name":"Adarsh Bhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450767945,"creation_date":1450765853,"answer_id":34409763,"question_id":34409637,"body_markdown":"You can use this method: \r\n\r\n    private static int showRandomInteger(int aStart, int aEnd, Random aRandom){\r\n        if (aStart &gt; aEnd) {\r\n          throw new IllegalArgumentException(&quot;Start cannot exceed End.&quot;);\r\n        }\r\n        //get the range, casting to long to avoid overflow problems\r\n        long range = (long)aEnd - (long)aStart + 1;\r\n        // compute a fraction of the range, 0 &lt;= frac &lt; range\r\n        long fraction = (long)(range * aRandom.nextDouble());\r\n        int randomNumber =  (int)(fraction + aStart);    \r\n        return randomNumber;\r\n    }\r\n\r\n\r\nThe parameters you have to pass to this method are: \r\n\r\n - `aStart` : your starting value(i.e. 10 in you case)\r\n - `aEnd` : your ending value(i.e 99 in your case)\r\n - `aRandom` : this would be an object of the `Random` class.(`Random random=new Random();`)","title":"Random number generator two digit","body":"<p>You can use this method: </p>\n\n<pre><code>private static int showRandomInteger(int aStart, int aEnd, Random aRandom){\n    if (aStart &gt; aEnd) {\n      throw new IllegalArgumentException(\"Start cannot exceed End.\");\n    }\n    //get the range, casting to long to avoid overflow problems\n    long range = (long)aEnd - (long)aStart + 1;\n    // compute a fraction of the range, 0 &lt;= frac &lt; range\n    long fraction = (long)(range * aRandom.nextDouble());\n    int randomNumber =  (int)(fraction + aStart);    \n    return randomNumber;\n}\n</code></pre>\n\n<p>The parameters you have to pass to this method are: </p>\n\n<ul>\n<li><code>aStart</code> : your starting value(i.e. 10 in you case)</li>\n<li><code>aEnd</code> : your ending value(i.e 99 in your case)</li>\n<li><code>aRandom</code> : this would be an object of the <code>Random</code> class.(<code>Random random=new Random();</code>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7511154,"reputation":381,"user_id":5706032,"display_name":"James Cootware"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450765993,"creation_date":1450765993,"answer_id":34409790,"question_id":34409637,"body_markdown":"With random numbers, if you need to start at a certain number, just add the random number to that lower limit. The upper limit passed to the random number will be the upper bounds minus the lower limit. \r\n\r\n    int num = random.nextInt(90) + 10;","title":"Random number generator two digit","body":"<p>With random numbers, if you need to start at a certain number, just add the random number to that lower limit. The upper limit passed to the random number will be the upper bounds minus the lower limit. </p>\n\n<pre><code>int num = random.nextInt(90) + 10;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7985591,"reputation":75,"user_id":6025240,"display_name":"Colthurling"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512564657,"creation_date":1512564657,"answer_id":47674740,"question_id":34409637,"body_markdown":"Random random = new Random();\r\n\r\n// generate a random integer from 10 to 90 i.e 2 digit random no.\r\n\r\n    int abc =  10+random.nextInt(90);","title":"Random number generator two digit","body":"<p>Random random = new Random();</p>\n\n<p>// generate a random integer from 10 to 90 i.e 2 digit random no.</p>\n\n<pre><code>int abc =  10+random.nextInt(90);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20471398,"reputation":191,"user_id":15021738,"display_name":"dust"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665236621,"creation_date":1616041226,"answer_id":66684726,"question_id":34409637,"body_markdown":"java code to generate random two digit number.\r\n\r\n        import java.util.*;\r\n\r\n    public class RandomNumbers{\r\n            public static void main(String[] args){\r\n                    Random rand = new Random();\r\n                    int random=rand.nextInt(90)+10; //generates random no. between 10 and 100\r\n                    System.out.println(random);\r\n            }\r\n    }\r\n\r\n\r\n","title":"Random number generator two digit","body":"<p>java code to generate random two digit number.</p>\n<pre><code>    import java.util.*;\n\npublic class RandomNumbers{\n        public static void main(String[] args){\n                Random rand = new Random();\n                int random=rand.nextInt(90)+10; //generates random no. between 10 and 100\n                System.out.println(random);\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":7507348,"reputation":19,"user_id":5703471,"display_name":"rakeshchowdary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16576,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"answer_count":4,"score":-6,"last_activity_date":1665236621,"creation_date":1450765270,"question_id":34409637,"body_markdown":"    package com.nusecond.Code;\r\n    import java.util.*;\r\n    \r\n    public class Code {\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n\r\n    \t\tRandom random=new Random();\r\n            for(int j=10;j&lt;=99;j++){\t\t\r\n    \t\t   int num=random.nextInt(100) ;\r\n    \t\t   //ssLong i=System.currentTimeMillis();\r\n         \t   //String result = String.format(&quot;%04d&quot;, i % 10000);\r\n        \t   System.out.println(&quot;Code generated:&quot;  +num);\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\nI want to print two digit random numbers between 10 and 99.\r\n\r\nNote : I want only one number every time I run the program.\r\n\r\n","title":"Random number generator two digit","body":"<pre><code>package com.nusecond.Code;\nimport java.util.*;\n\npublic class Code {\n\n    public static void main(String args[]){\n\n        Random random=new Random();\n        for(int j=10;j&lt;=99;j++){        \n           int num=random.nextInt(100) ;\n           //ssLong i=System.currentTimeMillis();\n           //String result = String.format(\"%04d\", i % 10000);\n           System.out.println(\"Code generated:\"  +num);\n        }\n    }\n}\n</code></pre>\n\n<p>I want to print two digit random numbers between 10 and 99.</p>\n\n<p>Note : I want only one number every time I run the program.</p>\n"},{"tags":["java","csv","class","class-constructors"],"answers":[{"comments":[{"owner":{"account_id":22146679,"reputation":11,"user_id":16395800,"display_name":"DeviceGucci"},"score":0,"creation_date":1665164416,"post_id":73990751,"comment_id":130643676,"body_markdown":"Thank you for your answer! Unfortunately, I am not allowed to use that dependency, sorry about that, I forgot to specify on the question (I am not allowed to use any dependencies other than the Scanner)","body":"Thank you for your answer! Unfortunately, I am not allowed to use that dependency, sorry about that, I forgot to specify on the question (I am not allowed to use any dependencies other than the Scanner)"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665164515,"post_id":73990751,"comment_id":130643706,"body_markdown":"What library you allowed to use?","body":"What library you allowed to use?"},{"owner":{"account_id":22146679,"reputation":11,"user_id":16395800,"display_name":"DeviceGucci"},"score":0,"creation_date":1665164708,"post_id":73990751,"comment_id":130643786,"body_markdown":"Only java.io.File , java.util.Scanner , and java.util.HashMap","body":"Only java.io.File , java.util.Scanner , and java.util.HashMap"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665164884,"post_id":73990751,"comment_id":130643842,"body_markdown":"That is harsh. CSV is not as simple as it looks. It will be hard to implement correct parser by yourself. Is it school project? If so, is it allowed to cut corners. Like doesn&#39;t support escaping?","body":"That is harsh. CSV is not as simple as it looks. It will be hard to implement correct parser by yourself. Is it school project? If so, is it allowed to cut corners. Like doesn&#39;t support escaping?"},{"owner":{"account_id":22146679,"reputation":11,"user_id":16395800,"display_name":"DeviceGucci"},"score":0,"creation_date":1665165235,"post_id":73990751,"comment_id":130643928,"body_markdown":"Yes, it is a school project, and I am a little stuck on that. Can you please specify what do you mean by &quot;cut corners&quot; and &quot;escaping&quot;? english is not my native language. I was thinking that maybe I can create a HashMap with the labels as the key and the info as the values, and then I would be able to retrieve the correct index of the labels, but I am still working on that.","body":"Yes, it is a school project, and I am a little stuck on that. Can you please specify what do you mean by &quot;cut corners&quot; and &quot;escaping&quot;? english is not my native language. I was thinking that maybe I can create a HashMap with the labels as the key and the info as the values, and then I would be able to retrieve the correct index of the labels, but I am still working on that."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665165409,"post_id":73990751,"comment_id":130643990,"body_markdown":"I mean do you need to support `&quot;aaa,bbb&quot;,ccc` in your app. This `csv` have only two columns. Value in first column contains separator(`,`).","body":"I mean do you need to support <code>&quot;aaa,bbb&quot;,ccc</code> in your app. This <code>csv</code> have only two columns. Value in first column contains separator(<code>,</code>)."},{"owner":{"account_id":22146679,"reputation":11,"user_id":16395800,"display_name":"DeviceGucci"},"score":0,"creation_date":1665165509,"post_id":73990751,"comment_id":130644012,"body_markdown":"In my assignment, that would be considered 3 columns, I don&#39;t need to worry about that","body":"In my assignment, that would be considered 3 columns, I don&#39;t need to worry about that"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665165554,"post_id":73990751,"comment_id":130644025,"body_markdown":"Ok then I&#39;ll try to help you.","body":"Ok then I&#39;ll try to help you."},{"owner":{"account_id":22146679,"reputation":11,"user_id":16395800,"display_name":"DeviceGucci"},"score":0,"creation_date":1665165743,"post_id":73990751,"comment_id":130644075,"body_markdown":"Do you think that my approach with the hashMap could work? Storing the label as the key and the corresponding index as the value? I feel like that&#39;s the solution but I get very confused when trying to implement it","body":"Do you think that my approach with the hashMap could work? Storing the label as the key and the corresponding index as the value? I feel like that&#39;s the solution but I get very confused when trying to implement it"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665166090,"post_id":73990751,"comment_id":130644168,"body_markdown":"Yes. Look at my other answer.","body":"Yes. Look at my other answer."}],"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665164203,"creation_date":1665164203,"answer_id":73990751,"question_id":73990502,"body_markdown":"Here is a little example:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        CSVReader csvReader = new CSVReader(new StringReader(\r\n                &quot;&quot;&quot;\r\n                        Col1, Col2\r\n                        aa, bb\r\n                        cc, dd\r\n                        &quot;&quot;&quot;));\r\n        CsvToBean&lt;MyBean&gt; parser = new CsvToBeanBuilder&lt;MyBean&gt;(csvReader)\r\n                .withType(MyBean.class).build();\r\n        List&lt;MyBean&gt; beans = parser.parse();\r\n\r\n        System.out.println(beans);\r\n    }\r\n    \r\n    @Data\r\n    public static class MyBean {\r\n        @CsvBindByName(column = &quot;Col1&quot;)\r\n        private String colum1;\r\n        @CsvBindByName(column = &quot;Col2&quot;)\r\n        private String colum2;\r\n    }\r\n}\r\n```\r\n\r\nHere is required dependencies:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nLombock is optional. You can create your bean the way you want.","title":"How to read a CSV file and store the information in a class, when I don&#39;t know the order of the columns that will be in the CSV file?","body":"<p>Here is a little example:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        CSVReader csvReader = new CSVReader(new StringReader(\n                &quot;&quot;&quot;\n                        Col1, Col2\n                        aa, bb\n                        cc, dd\n                        &quot;&quot;&quot;));\n        CsvToBean&lt;MyBean&gt; parser = new CsvToBeanBuilder&lt;MyBean&gt;(csvReader)\n                .withType(MyBean.class).build();\n        List&lt;MyBean&gt; beans = parser.parse();\n\n        System.out.println(beans);\n    }\n    \n    @Data\n    public static class MyBean {\n        @CsvBindByName(column = &quot;Col1&quot;)\n        private String colum1;\n        @CsvBindByName(column = &quot;Col2&quot;)\n        private String colum2;\n    }\n}\n</code></pre>\n<p>Here is required dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Lombock is optional. You can create your bean the way you want.</p>\n"},{"comments":[{"owner":{"account_id":22146679,"reputation":11,"user_id":16395800,"display_name":"DeviceGucci"},"score":0,"creation_date":1665167268,"post_id":73991104,"comment_id":130644513,"body_markdown":"Thank you so much! For some reason it never occurred to me to use the setters instead of the constructors, but this should work now, thanks!","body":"Thank you so much! For some reason it never occurred to me to use the setters instead of the constructors, but this should work now, thanks!"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665167831,"post_id":73991104,"comment_id":130644647,"body_markdown":"You can use constructor. It won&#39;t change much.","body":"You can use constructor. It won&#39;t change much."},{"owner":{"account_id":22146679,"reputation":11,"user_id":16395800,"display_name":"DeviceGucci"},"score":0,"creation_date":1665168158,"post_id":73991104,"comment_id":130644742,"body_markdown":"Yeah I ended up using the constructor, I don&#39;t know why I was getting super confused on this assignment, thank you so much","body":"Yeah I ended up using the constructor, I don&#39;t know why I was getting super confused on this assignment, thank you so much"}],"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665166125,"creation_date":1665166125,"answer_id":73991104,"question_id":73990502,"body_markdown":"If you want to use core java only you can try this:\r\n\r\n```\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        StringReader reader = new StringReader(\r\n                &quot;&quot;&quot;\r\n                        Col1,Col2\r\n                        aa,bb\r\n                        cc,dd\r\n                        &quot;&quot;&quot;);\r\n\r\n        Scanner scanner = new Scanner(reader);\r\n\r\n        String[] header = scanner.nextLine().split(&quot;,&quot;);\r\n        Map&lt;String, Integer&gt; mapping = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; header.length; i++) {\r\n            mapping.put(header[i].trim(), i);\r\n        }\r\n\r\n        List&lt;MyBean&gt; list = new ArrayList&lt;&gt;();\r\n        while (scanner.hasNext()) {\r\n            String[] data = scanner.nextLine().split(&quot;,&quot;);\r\n            MyBean value = new MyBean();\r\n            value.setColum1(data[mapping.get(&quot;Col1&quot;)]);\r\n            value.setColum2(data[mapping.get(&quot;Col2&quot;)]);\r\n            list.add(value);\r\n        }\r\n\r\n        System.out.println(list);\r\n    }\r\n\r\n    @Data\r\n    public static class MyBean {\r\n        private String colum1;\r\n        private String colum2;\r\n    }\r\n}\r\n```","title":"How to read a CSV file and store the information in a class, when I don&#39;t know the order of the columns that will be in the CSV file?","body":"<p>If you want to use core java only you can try this:</p>\n<pre><code>\npublic class Main {\n    public static void main(String[] args) {\n        StringReader reader = new StringReader(\n                &quot;&quot;&quot;\n                        Col1,Col2\n                        aa,bb\n                        cc,dd\n                        &quot;&quot;&quot;);\n\n        Scanner scanner = new Scanner(reader);\n\n        String[] header = scanner.nextLine().split(&quot;,&quot;);\n        Map&lt;String, Integer&gt; mapping = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; header.length; i++) {\n            mapping.put(header[i].trim(), i);\n        }\n\n        List&lt;MyBean&gt; list = new ArrayList&lt;&gt;();\n        while (scanner.hasNext()) {\n            String[] data = scanner.nextLine().split(&quot;,&quot;);\n            MyBean value = new MyBean();\n            value.setColum1(data[mapping.get(&quot;Col1&quot;)]);\n            value.setColum2(data[mapping.get(&quot;Col2&quot;)]);\n            list.add(value);\n        }\n\n        System.out.println(list);\n    }\n\n    @Data\n    public static class MyBean {\n        private String colum1;\n        private String colum2;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22146679,"reputation":11,"user_id":16395800,"display_name":"DeviceGucci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73991104,"answer_count":2,"score":-1,"last_activity_date":1665235251,"creation_date":1665162628,"question_id":73990502,"body_markdown":"I have an assignment, where I need to read a CSV file. I know that the first line of the CSV file will have the following information:\r\n\r\nLabelA,LabelB,LabelC,LabelD\r\n\r\nand that all of the lines below will have the corresponding information, so all the following lines of the CSV file looks like this:\r\n\r\nInfoA,InfoB,InfoC,InfoD\r\n\r\nI have created a class that stores all of that information, and then I need to create a HashMap to store all of those objects, each object with the information of a different line, however, the CSV File that I will be reading has a randomized order of the columns, so I might receive a CSV File that has the first line as:\r\n\r\nLabelD,LabelA,LabelB,LabelC\r\n\r\nWhich would make the following lines as:\r\n\r\nInfoD,InfoA,InfoB,InfoC\r\n\r\nHow can I approach this? Regardless of the order of the columns of the CSV file, I need to correctly store that information in an object.\r\n\r\nBefore this assignment, the order of the columns was always the same, so I was storing each line on a string, then splitting the string, and then putting the information in that order in the constructor of the object, but I can no longer do this, since the order will be randomized.\r\n\r\nI am not allowed to use any dependency other than java.io.File, java.util.Scanner, and java.util.HashMap.","title":"How to read a CSV file and store the information in a class, when I don&#39;t know the order of the columns that will be in the CSV file?","body":"<p>I have an assignment, where I need to read a CSV file. I know that the first line of the CSV file will have the following information:</p>\n<p>LabelA,LabelB,LabelC,LabelD</p>\n<p>and that all of the lines below will have the corresponding information, so all the following lines of the CSV file looks like this:</p>\n<p>InfoA,InfoB,InfoC,InfoD</p>\n<p>I have created a class that stores all of that information, and then I need to create a HashMap to store all of those objects, each object with the information of a different line, however, the CSV File that I will be reading has a randomized order of the columns, so I might receive a CSV File that has the first line as:</p>\n<p>LabelD,LabelA,LabelB,LabelC</p>\n<p>Which would make the following lines as:</p>\n<p>InfoD,InfoA,InfoB,InfoC</p>\n<p>How can I approach this? Regardless of the order of the columns of the CSV file, I need to correctly store that information in an object.</p>\n<p>Before this assignment, the order of the columns was always the same, so I was storing each line on a string, then splitting the string, and then putting the information in that order in the constructor of the object, but I can no longer do this, since the order will be randomized.</p>\n<p>I am not allowed to use any dependency other than java.io.File, java.util.Scanner, and java.util.HashMap.</p>\n"},{"tags":["java","multithreading","selector","socketchannel"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1665200588,"post_id":73994150,"comment_id":130649637,"body_markdown":"Did you de-register the `SelectKey.OP_WRITE`? If you didn&#39;t, well, you _can_ write, so, `select()` returns immediately.","body":"Did you de-register the <code>SelectKey.OP_WRITE</code>? If you didn&#39;t, well, you <i>can</i> write, so, <code>select()</code> returns immediately."},{"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"score":0,"creation_date":1665209021,"post_id":73994150,"comment_id":130650520,"body_markdown":"@rzwitserloot, That helped, but now the loop runs exactly twice. The select blocked the second time through. Any ideas on why it would loop twice before blocking instead of a single time?","body":"@rzwitserloot, That helped, but now the loop runs exactly twice. The select blocked the second time through. Any ideas on why it would loop twice before blocking instead of a single time?"},{"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"score":0,"creation_date":1665209056,"post_id":73994150,"comment_id":130650528,"body_markdown":"I thought you needed OP_WRITE because I was going to use the SocketChannel to actually write too...","body":"I thought you needed OP_WRITE because I was going to use the SocketChannel to actually write too..."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1665212175,"post_id":73994150,"comment_id":130650966,"body_markdown":"You only need OP_WRITE if you were not able to write all data. So you want to be notified when more space in the socket send buffer comes available. If you managed to write all data, you do not want to register OP_WRITE.","body":"You only need OP_WRITE if you were not able to write all data. So you want to be notified when more space in the socket send buffer comes available. If you managed to write all data, you do not want to register OP_WRITE."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1665212436,"post_id":73994150,"comment_id":130650999,"body_markdown":"When you create the channel, typically you only want to register OP_READ, not OP_WRITE.","body":"When you create the channel, typically you only want to register OP_READ, not OP_WRITE."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1665232793,"post_id":73994150,"comment_id":130654373,"body_markdown":"Your last flip should be a clear (or compact) For more info see https://www.tutorialspoint.com/java_nio/java_nio_socket_channel.htm","body":"Your last flip should be a clear (or compact) For more info see <a href=\"https://www.tutorialspoint.com/java_nio/java_nio_socket_channel.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/java_nio/java_nio_socket_channel.htm</a>"}],"answers":[{"comments":[{"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"score":0,"creation_date":1665207505,"post_id":73994184,"comment_id":130650311,"body_markdown":"I tried adding both clear, reset, and compact and it still kept on looping. If the buffer is independent of the selector, how and why would it know if the buffer is in a state like that?","body":"I tried adding both clear, reset, and compact and it still kept on looping. If the buffer is independent of the selector, how and why would it know if the buffer is in a state like that?"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1665207742,"post_id":73994184,"comment_id":130650334,"body_markdown":"Can you update the code with these changes @Matthew","body":"Can you update the code with these changes @Matthew"}],"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665202998,"creation_date":1665200148,"answer_id":73994184,"question_id":73994150,"body_markdown":"When you call the buffer.array() to create the String, the ByteBuffer has no clue that the bytes have been consumed, so the state of the ByteBuffer remains unchanged. It still contains the read bytes and still wants them to be consumed. This causes the rereading of the same message.\r\n\r\nThe array returned on ByteBuffer.array(), has no clue about how many useful bytes are available. If the array has a capacity of 10 and only 8 byte has been set, you are trying to create a String with 2 bogus bytes. And if only 2 bytes have been read, you try to create as string based on 2 instead of 8 bytes. The string creation approach is incorrect.\r\n\r\nAfter you do a channel.write, you should do a compact or clear depending on if data is still available or not.\r\n\r\nI normally use 2 separate ByteBuffers; one for reading and one for writing.\r\n","title":"Selector.select() is not blocking after a SelectionKey.isReadable is read","body":"<p>When you call the buffer.array() to create the String, the ByteBuffer has no clue that the bytes have been consumed, so the state of the ByteBuffer remains unchanged. It still contains the read bytes and still wants them to be consumed. This causes the rereading of the same message.</p>\n<p>The array returned on ByteBuffer.array(), has no clue about how many useful bytes are available. If the array has a capacity of 10 and only 8 byte has been set, you are trying to create a String with 2 bogus bytes. And if only 2 bytes have been read, you try to create as string based on 2 instead of 8 bytes. The string creation approach is incorrect.</p>\n<p>After you do a channel.write, you should do a compact or clear depending on if data is still available or not.</p>\n<p>I normally use 2 separate ByteBuffers; one for reading and one for writing.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665235109,"creation_date":1665235109,"answer_id":73997299,"question_id":73994150,"body_markdown":"Multiple issues at work.\r\n\r\n## Buffer Management\r\n\r\n\r\n### String creation broken\r\n\r\nYou create a ByteBuffer and like all BBs they have a set capacity. You then read into it (`int numRead = channel.read(buffer)`) and this does one of two things:\r\n\r\n1. The capacity of the BB is _less_ than the amount of bytes that can be immediately stuffed into that buffer, copied straight over from your network card&#39;s buffers.\r\n\r\nIn this case, the entire BB is filled (`numRead` will be equal to the BB&#39;s capacity), and the &#39;READ READY&#39; status of that channel remains up (because there are still more bytes ready to copy over).\r\n\r\nNote that `bb.array()` returns _the entire backing array_, but in this scenario, given that the whole BB is filled to capacity, that &#39;works out&#39; so to speak.\r\n\r\n2. The capacity of the BB is _more_ than the amount of bytes that can be immediately stuffed into that buffer.\r\n\r\nIn this case, `numRead` will be _less_ than the total capacity of that bytebuffer, and `new String(bb.array())` __is broken__ - that would attempt to turn into a string the bytes you read so far _and_ a whole bunch of garbage at the end.\r\n\r\n`new String(bb.array(), 0, bb.position())` would do the job, but in general this isn&#39;t how you&#39;re meant to be doing things. For starters, you&#39;re now charset-confused (You really should be using `new String(bb.array(), 0, bb.position(), StandardCharsets.UTF_8)` - do not ever convert bytes to chars or vice versa unless you specify which encoding is being used, otherwise the system chooses for you and that&#39;s rarely correct, and always confusing).\r\n\r\n## No proper resetting\r\n\r\nThe general way a buffer is meant to be used is like this:\r\n\r\n* fill it (either you fill it, or you call read() on something).\r\n* flip it.\r\n* process with it (either you give it to something that sends the data in it, or you go through the bytes).\r\n* clear it.\r\n* repeat.\r\n\r\nYou fill it (`channel.read()`), then use direct array manipulation instead of flip+reads to &#39;process&#39; it (by passing the backing array to a string constructor), and then you `.flip()` it which is the wrong call, you want `.clear()`.\r\n\r\nBBs work that way because, well, logic:\r\n\r\n* They have a set capacity and you don&#39;t necessarily use _all_ of that capacity. Often you use a little less. So, you first fill it, and then you want that BB to allow injecting data from 0 all the way up to capacity: the &#39;position&#39; is 0 (and as we fill this thing it updates), the &#39;limit&#39; is set to the capacity.\r\n* Then to process it, we want position to be 0 again (we start processing from the beginning of course), but we want `limit` __not__ to be the end, because maybe it wasn&#39;t fully filled up exactly to capacity by whatever process put data into this thing... we want `limit` to be the position as it was (as that&#39;s where the &#39;process that filled the buffer&#39; left things). `flip()` does this: It sets position back to 0 and limit to where the position was.\r\n\r\nOnce you&#39;ve read data into your buffer and then processed that data, you want __clear__: You want position back to 0 and the limit back to the capacity, ready for the process that fills the buffer to star filling it again. `clear()` does that. Your code calls `flip()` which is wrong.\r\n\r\n### Confusion about selectors\r\n\r\nA selector is set up with certain thing you are &#39;interested in&#39;. When you ask it to `.select()`, you&#39;re saying:\r\n\r\n1. Is any of the stuff I&#39;m interested in possible right now? If yes, __return immediately__.\r\n2. If not, go to sleep until something I&#39;m interested in _might_ be possible.\r\n\r\nThe thing is, as you process a channel your opinion on what you&#39;re interested in __changes over time__, and you need to update that selector and turn on/off `SelectorKey`s as needed.\r\n\r\nFor example, let&#39;s say you are writing a simple chat program. Alice just pasted half of the collected works of shakespeare and your chat program now needs to send all this to Bob. You should now _turn on_ `SelectorKey.OP_WRITE` on bob&#39;s network channel. It should have been off before as you did not have anything to send to bob. But you have something to send now, so turn it on.\r\n\r\nYou then go to `select()` which is highly likely to return immediately (the network card has free buffer space for bob&#39;s connection). You start copying those collected works of shakespeare over into the bytebuffer but you won&#39;t &#39;make it&#39; - that buffer&#39;s capacity is less than shakespeare&#39;s total size. That&#39;s the point, that&#39;s fine. You then hand that buffer to the network and go back to selecting _while still interested in `OP_WRITE`_ because  you haven&#39;t copied all of shakespeare&#39;s collected works yet, you only did like a quarter so far.\r\n\r\nEventually the network clears that buffer out through the network cable, and only then will your selector go: Oh, hey, we&#39;re ready for some more writing!\r\n\r\nYou keep doing this process (add some more of the shakespeare you need to send) until you stuff the last of it in the buffer you then hand to the channel. You should then __remove__ `SelectorKey.OP_WRITE` because you now no longer care that the network buffer has room.\r\n\r\nWhilst all this was going on, you have a problem: What if Alice keeps sending more and more books, and she sends them faster than bob can receive them? That&#39;s possible, of course - maybe Alice is on glass fiber and Bob is on a satellite phone. You can of course choose to buffer all of this server side, but all things are limited: There comes a point when Alice has queued up 50GB worth of book content that you still have to send to Bob. You can either decide that your server will just  crash if Alice does this, or, you&#39;re going to have to put in a limit: Once the &#39;data that alice sent that I have yet to shove into the bob&#39;s channel&#39; reaches a certain amount, you have to go: Okay, Alice, no more.\r\n\r\nWhen that happens, __you have to deregister the `OP_READ` key__ - you know alice has sent you some data that is ready to read, but you don&#39;t want to read it, your buffers are full. This is sensible: If Bob has the slower connection and alice is sending heaps of data to bob, you can&#39;t process alice&#39;s bytes as fast as she can send them.\r\n\r\nRemember also that `.select()` is free to return spuriously (for no reason). Your code cannot assume &#39;oh hey `select()` returned therefore there MUST be at least one thing ready to do here&#39;. Maybe not. Why does it &#39;quickly return twice&#39;? Cuz. the JVM is allowed to.\r\n\r\nLow-level async NIO like this tends to cause spinning fans. This is the logic:\r\n\r\n1. Your code loop works very simply: You `while (true) {}` your way through: Do whatever I can do. Write whatever I can write, read whatever I can read, and then loop to do it over again forever and ever.\r\n2. The `x.select()` call __is the only thing__ stopping a runaway while loop. That is the only place you ever &#39;sleep&#39;. It&#39;s async: Thread sleeping is the death of your app (in an async model nothing is ever allowed to sleep except when selecting).\r\n3. If the selector is misconfigured, for example you have `OP_WRITE` registered and nothing to write, the selector will always instantly return.\r\n4. Thus, your code is runaway: It loops forever never sleeping, causing 100% CPU usage, fans turn on, laptops drain their battery in minutes, power is wasted, things get hot, IAAS costs go through the roof.\r\n\r\nasync NIO is rocket science; it&#39;s really really hard to do it correctly. Usually you want to use frameworks that make things easier like grizzly or netty.\r\n\r\n## Likely: Focusing on the wrong thing\r\n\r\nWriting low-level async code is like writing an app in low-level machine code. People tend to do it because &#39;they think it will be faster&#39; but the only thing they accomplish is that they make a task that took an hour to program, and made it a thing that takes a week, the end result is a hard to test, buggy mess, and is _actually slower_ because you don&#39;t know what you are doing and you underestimate how well all the middle layers (the compiler, the runtime, the OS, and so on) optimize.\r\n\r\nThere _are_ reasons to want to go that low level (when you&#39;re writing a kernel driver, for example), but usually you don&#39;t.\r\n\r\nSame here. Why are you using NIO here, exactly? It&#39;s not faster except in quite exotic circumstances, and it&#39;s definitely a lot harder to code for it. Java suffers (like most languages) from [&#39;the red/blue&#39; problem](https://will-keleher.com/posts/red-blue-function-mistakes-in-JS.html) quite severely.\r\n\r\nOSes have absolutely no issue handling 5000 threads and can do it quite efficiently. Yes, &#39;oh no the context switch&#39;, but note that context switching is intrinsic to handling many connections simultaneously: Cache misses are going to be frequent and async doesn&#39;t solve that problem. The blog posts writing about how async is cool because it avoids &#39;context switches&#39; all seem to forget that a cache miss due to having to hop to the buffers of another connection are just as much a &#39;context switch&#39; as a thread hop.\r\n\r\nThe one thing that you need to take care of when writing this code in a threaded fashion which is way, way simpler to write and maintain and test, is that you want to manage the stack sizes of your thread: You both want your threads to use limited stack size (if an exception occurs and the stack trace is a screen ful, that&#39;s a problem), and you want to set them up with limited sizes. You can specify stack sizes when creating threads (the thread constructor allows it, and various things that make threads such as a threaded `ExecutorPool` let you specify either the stack size, or a closure that makes threads). Use that and you can just write code that swiftly processes 5000 simultaneous connections using 10,000 threads, and it&#39;s all __much, much simpler__ to write than async. If you must go with async, use a framework to avoid the complications.\r\n\r\nTo go back to that alice sends faster than bob can receive model, note how much easier it is:\r\n\r\n1. You ask alice&#39;s `InputStream` to fill some byte array.\r\n2. You then ask bob&#39;s `OutputStream` to send the bytes in that array from 0 to however many you read.\r\n3. Go back to 1.\r\n\r\nThat&#39;s it. With the async stuff, either alice outpaces bob (in which case you better be turning off `OP_READ` on alice&#39;s connection to gate her input), or, bob outpaces alice (in which case you need to be turning off and on bob&#39;s `OP_WRITE`), or even that due to vagaries in network speeds, sometimes alice outpaces bob, and sometimes bob outpaces alice.\r\n\r\nWith sync, as above, __none of that matters__ - alice&#39;s `read()` call or bob&#39;s `write()` call, as needed, blocks, and that fixes all. See how much simpler that is?\r\n","title":"Selector.select() is not blocking after a SelectionKey.isReadable is read","body":"<p>Multiple issues at work.</p>\n<h2>Buffer Management</h2>\n<h3>String creation broken</h3>\n<p>You create a ByteBuffer and like all BBs they have a set capacity. You then read into it (<code>int numRead = channel.read(buffer)</code>) and this does one of two things:</p>\n<ol>\n<li>The capacity of the BB is <em>less</em> than the amount of bytes that can be immediately stuffed into that buffer, copied straight over from your network card's buffers.</li>\n</ol>\n<p>In this case, the entire BB is filled (<code>numRead</code> will be equal to the BB's capacity), and the 'READ READY' status of that channel remains up (because there are still more bytes ready to copy over).</p>\n<p>Note that <code>bb.array()</code> returns <em>the entire backing array</em>, but in this scenario, given that the whole BB is filled to capacity, that 'works out' so to speak.</p>\n<ol start=\"2\">\n<li>The capacity of the BB is <em>more</em> than the amount of bytes that can be immediately stuffed into that buffer.</li>\n</ol>\n<p>In this case, <code>numRead</code> will be <em>less</em> than the total capacity of that bytebuffer, and <code>new String(bb.array())</code> <strong>is broken</strong> - that would attempt to turn into a string the bytes you read so far <em>and</em> a whole bunch of garbage at the end.</p>\n<p><code>new String(bb.array(), 0, bb.position())</code> would do the job, but in general this isn't how you're meant to be doing things. For starters, you're now charset-confused (You really should be using <code>new String(bb.array(), 0, bb.position(), StandardCharsets.UTF_8)</code> - do not ever convert bytes to chars or vice versa unless you specify which encoding is being used, otherwise the system chooses for you and that's rarely correct, and always confusing).</p>\n<h2>No proper resetting</h2>\n<p>The general way a buffer is meant to be used is like this:</p>\n<ul>\n<li>fill it (either you fill it, or you call read() on something).</li>\n<li>flip it.</li>\n<li>process with it (either you give it to something that sends the data in it, or you go through the bytes).</li>\n<li>clear it.</li>\n<li>repeat.</li>\n</ul>\n<p>You fill it (<code>channel.read()</code>), then use direct array manipulation instead of flip+reads to 'process' it (by passing the backing array to a string constructor), and then you <code>.flip()</code> it which is the wrong call, you want <code>.clear()</code>.</p>\n<p>BBs work that way because, well, logic:</p>\n<ul>\n<li>They have a set capacity and you don't necessarily use <em>all</em> of that capacity. Often you use a little less. So, you first fill it, and then you want that BB to allow injecting data from 0 all the way up to capacity: the 'position' is 0 (and as we fill this thing it updates), the 'limit' is set to the capacity.</li>\n<li>Then to process it, we want position to be 0 again (we start processing from the beginning of course), but we want <code>limit</code> <strong>not</strong> to be the end, because maybe it wasn't fully filled up exactly to capacity by whatever process put data into this thing... we want <code>limit</code> to be the position as it was (as that's where the 'process that filled the buffer' left things). <code>flip()</code> does this: It sets position back to 0 and limit to where the position was.</li>\n</ul>\n<p>Once you've read data into your buffer and then processed that data, you want <strong>clear</strong>: You want position back to 0 and the limit back to the capacity, ready for the process that fills the buffer to star filling it again. <code>clear()</code> does that. Your code calls <code>flip()</code> which is wrong.</p>\n<h3>Confusion about selectors</h3>\n<p>A selector is set up with certain thing you are 'interested in'. When you ask it to <code>.select()</code>, you're saying:</p>\n<ol>\n<li>Is any of the stuff I'm interested in possible right now? If yes, <strong>return immediately</strong>.</li>\n<li>If not, go to sleep until something I'm interested in <em>might</em> be possible.</li>\n</ol>\n<p>The thing is, as you process a channel your opinion on what you're interested in <strong>changes over time</strong>, and you need to update that selector and turn on/off <code>SelectorKey</code>s as needed.</p>\n<p>For example, let's say you are writing a simple chat program. Alice just pasted half of the collected works of shakespeare and your chat program now needs to send all this to Bob. You should now <em>turn on</em> <code>SelectorKey.OP_WRITE</code> on bob's network channel. It should have been off before as you did not have anything to send to bob. But you have something to send now, so turn it on.</p>\n<p>You then go to <code>select()</code> which is highly likely to return immediately (the network card has free buffer space for bob's connection). You start copying those collected works of shakespeare over into the bytebuffer but you won't 'make it' - that buffer's capacity is less than shakespeare's total size. That's the point, that's fine. You then hand that buffer to the network and go back to selecting <em>while still interested in <code>OP_WRITE</code></em> because  you haven't copied all of shakespeare's collected works yet, you only did like a quarter so far.</p>\n<p>Eventually the network clears that buffer out through the network cable, and only then will your selector go: Oh, hey, we're ready for some more writing!</p>\n<p>You keep doing this process (add some more of the shakespeare you need to send) until you stuff the last of it in the buffer you then hand to the channel. You should then <strong>remove</strong> <code>SelectorKey.OP_WRITE</code> because you now no longer care that the network buffer has room.</p>\n<p>Whilst all this was going on, you have a problem: What if Alice keeps sending more and more books, and she sends them faster than bob can receive them? That's possible, of course - maybe Alice is on glass fiber and Bob is on a satellite phone. You can of course choose to buffer all of this server side, but all things are limited: There comes a point when Alice has queued up 50GB worth of book content that you still have to send to Bob. You can either decide that your server will just  crash if Alice does this, or, you're going to have to put in a limit: Once the 'data that alice sent that I have yet to shove into the bob's channel' reaches a certain amount, you have to go: Okay, Alice, no more.</p>\n<p>When that happens, <strong>you have to deregister the <code>OP_READ</code> key</strong> - you know alice has sent you some data that is ready to read, but you don't want to read it, your buffers are full. This is sensible: If Bob has the slower connection and alice is sending heaps of data to bob, you can't process alice's bytes as fast as she can send them.</p>\n<p>Remember also that <code>.select()</code> is free to return spuriously (for no reason). Your code cannot assume 'oh hey <code>select()</code> returned therefore there MUST be at least one thing ready to do here'. Maybe not. Why does it 'quickly return twice'? Cuz. the JVM is allowed to.</p>\n<p>Low-level async NIO like this tends to cause spinning fans. This is the logic:</p>\n<ol>\n<li>Your code loop works very simply: You <code>while (true) {}</code> your way through: Do whatever I can do. Write whatever I can write, read whatever I can read, and then loop to do it over again forever and ever.</li>\n<li>The <code>x.select()</code> call <strong>is the only thing</strong> stopping a runaway while loop. That is the only place you ever 'sleep'. It's async: Thread sleeping is the death of your app (in an async model nothing is ever allowed to sleep except when selecting).</li>\n<li>If the selector is misconfigured, for example you have <code>OP_WRITE</code> registered and nothing to write, the selector will always instantly return.</li>\n<li>Thus, your code is runaway: It loops forever never sleeping, causing 100% CPU usage, fans turn on, laptops drain their battery in minutes, power is wasted, things get hot, IAAS costs go through the roof.</li>\n</ol>\n<p>async NIO is rocket science; it's really really hard to do it correctly. Usually you want to use frameworks that make things easier like grizzly or netty.</p>\n<h2>Likely: Focusing on the wrong thing</h2>\n<p>Writing low-level async code is like writing an app in low-level machine code. People tend to do it because 'they think it will be faster' but the only thing they accomplish is that they make a task that took an hour to program, and made it a thing that takes a week, the end result is a hard to test, buggy mess, and is <em>actually slower</em> because you don't know what you are doing and you underestimate how well all the middle layers (the compiler, the runtime, the OS, and so on) optimize.</p>\n<p>There <em>are</em> reasons to want to go that low level (when you're writing a kernel driver, for example), but usually you don't.</p>\n<p>Same here. Why are you using NIO here, exactly? It's not faster except in quite exotic circumstances, and it's definitely a lot harder to code for it. Java suffers (like most languages) from <a href=\"https://will-keleher.com/posts/red-blue-function-mistakes-in-JS.html\" rel=\"nofollow noreferrer\">'the red/blue' problem</a> quite severely.</p>\n<p>OSes have absolutely no issue handling 5000 threads and can do it quite efficiently. Yes, 'oh no the context switch', but note that context switching is intrinsic to handling many connections simultaneously: Cache misses are going to be frequent and async doesn't solve that problem. The blog posts writing about how async is cool because it avoids 'context switches' all seem to forget that a cache miss due to having to hop to the buffers of another connection are just as much a 'context switch' as a thread hop.</p>\n<p>The one thing that you need to take care of when writing this code in a threaded fashion which is way, way simpler to write and maintain and test, is that you want to manage the stack sizes of your thread: You both want your threads to use limited stack size (if an exception occurs and the stack trace is a screen ful, that's a problem), and you want to set them up with limited sizes. You can specify stack sizes when creating threads (the thread constructor allows it, and various things that make threads such as a threaded <code>ExecutorPool</code> let you specify either the stack size, or a closure that makes threads). Use that and you can just write code that swiftly processes 5000 simultaneous connections using 10,000 threads, and it's all <strong>much, much simpler</strong> to write than async. If you must go with async, use a framework to avoid the complications.</p>\n<p>To go back to that alice sends faster than bob can receive model, note how much easier it is:</p>\n<ol>\n<li>You ask alice's <code>InputStream</code> to fill some byte array.</li>\n<li>You then ask bob's <code>OutputStream</code> to send the bytes in that array from 0 to however many you read.</li>\n<li>Go back to 1.</li>\n</ol>\n<p>That's it. With the async stuff, either alice outpaces bob (in which case you better be turning off <code>OP_READ</code> on alice's connection to gate her input), or, bob outpaces alice (in which case you need to be turning off and on bob's <code>OP_WRITE</code>), or even that due to vagaries in network speeds, sometimes alice outpaces bob, and sometimes bob outpaces alice.</p>\n<p>With sync, as above, <strong>none of that matters</strong> - alice's <code>read()</code> call or bob's <code>write()</code> call, as needed, blocks, and that fixes all. See how much simpler that is?</p>\n"}],"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73997299,"answer_count":2,"score":-1,"last_activity_date":1665235109,"creation_date":1665199660,"question_id":73994150,"body_markdown":"I have a Socket that connects to a ServerSocketChannel which passes off to another Selector. The client socket sends a one time message of 8 bytes, I successfully read it, but then selector which I call `selectorIO` should block on the `select()` method, but it immediately returns and then re-reads the same message that was already sent.\r\n\r\n```\r\npublic void readData()\r\n\t{\r\n\t\tint numberOfKeys = 0;\r\n\t\tbuffer = ByteBuffer.allocate(8);\r\n\t\tbuffer.clear();\r\n\t\t\r\n\t\twhile(true)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\t//This is not blocking anymore?!\r\n\t\t\t\tnumberOfKeys = selectorIO.select();\r\n\t\t\t\t\r\n\t\t\t\tSet&lt;SelectionKey&gt; keys = selectorIO.selectedKeys();\r\n\t\t\t\tIterator&lt;SelectionKey&gt; itr = keys.iterator();\r\n\t\t\t\t\r\n\t\t\t\twhile(itr.hasNext())\r\n\t\t\t\t{\r\n\t\t\t\t\tSelectionKey key = itr.next();\r\n\t\t\t\t\tif(key.isReadable())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSocketChannel channel = (SocketChannel)key.channel();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tint numread = channel.read(buffer);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tString s = new String(buffer.array());\r\n\t\t\t\t\t\tSystem.out.println(s);\r\n\t\t\t\t\t\tSystem.out.println(numread);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbuffer.flip();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//channel.write(buffer);\r\n\t\t\t\t\t\tint numwrote = channel.write(buffer);\r\n\t\t\t\t\t\tSystem.out.println(numwrote+&quot; Bytes writtent&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tbuffer.flip();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//buffer.reset();\r\n\t\t\t\t\t}\t\r\n\t\t\t\t\titr.remove();\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"Selector.select() is not blocking after a SelectionKey.isReadable is read","body":"<p>I have a Socket that connects to a ServerSocketChannel which passes off to another Selector. The client socket sends a one time message of 8 bytes, I successfully read it, but then selector which I call <code>selectorIO</code> should block on the <code>select()</code> method, but it immediately returns and then re-reads the same message that was already sent.</p>\n<pre><code>public void readData()\n    {\n        int numberOfKeys = 0;\n        buffer = ByteBuffer.allocate(8);\n        buffer.clear();\n        \n        while(true)\n        {\n            try\n            {\n                //This is not blocking anymore?!\n                numberOfKeys = selectorIO.select();\n                \n                Set&lt;SelectionKey&gt; keys = selectorIO.selectedKeys();\n                Iterator&lt;SelectionKey&gt; itr = keys.iterator();\n                \n                while(itr.hasNext())\n                {\n                    SelectionKey key = itr.next();\n                    if(key.isReadable())\n                    {\n                        SocketChannel channel = (SocketChannel)key.channel();\n                        \n                        int numread = channel.read(buffer);\n                    \n                        String s = new String(buffer.array());\n                        System.out.println(s);\n                        System.out.println(numread);\n                        \n                        \n                        buffer.flip();\n                        \n                        //channel.write(buffer);\n                        int numwrote = channel.write(buffer);\n                        System.out.println(numwrote+&quot; Bytes writtent&quot;);\n                    \n                    \n                        buffer.flip();\n                        \n                        //buffer.reset();\n                    }   \n                    itr.remove();\n                }\n        \n            }\n            catch(Exception e)\n            {\n                System.out.println(e);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","smtp","jakarta-mail"],"owner":{"account_id":12810677,"reputation":569,"user_id":9269017,"display_name":"kk luo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4600,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1665235025,"creation_date":1649397435,"question_id":71792256,"body_markdown":"I use JavaMail to send email to a customer email address and has error:\r\n\r\n&gt; com.sun.mail.smtp.SMTPAddressFailedException: 550 5.7.54 SMTP; Unable\r\n&gt; to relay recipient in non-accepted domain\r\n\r\n  The code is below:\r\n\r\n    String to = &quot;customer@customer.COM&quot;;// change accordingly\r\n\tString from = &quot;email@mycompany.com&quot;;\r\n\tString host = &quot;mail.mycompany.com&quot;;// or IP address\r\n\r\n\t// Get the session object\r\n\tProperties properties = System.getProperties();\r\n\tproperties.setProperty(&quot;mail.smtp.host&quot;, &quot;10.10.14.3&quot;);\r\n\tproperties.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n\tproperties.setProperty(&quot;mail.smtp.port&quot;, &quot;25&quot;);// \r\n\t// Session session = Session.getDefaultInstance(properties);\r\n\tSession session = Session.getInstance(properties, new Authenticator() {\r\n\t\t@Override\r\n\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t return new PasswordAuthentication(&quot;customer_service@mycompany.com&quot;, &quot;Passat2020..&quot;);\r\n\t\t\t}\r\n\t});\r\n\t// compose the message\r\n\ttry {\r\n\t\tMimeMessage message = new MimeMessage(session);\r\n\t\tmessage.setFrom(new InternetAddress(from));\r\n\t\tmessage.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n\t\tmessage.setSubject(&quot;Ping&quot;);\r\n\t\tmessage.setText(&quot;Hello, this is example of sending email  &quot;);\r\n\t\t// Send message\r\n\t\tTransport.send(message);\r\n\t\tSystem.out.println(&quot;message sent successfully....&quot;);\r\n\t} catch (MessagingException mex) {\r\n\t\tmex.printStackTrace();\r\n\t}\r\n\r\nIf I send to customer using outlook it work. Sending to myaddress@mycompany.com instead with this code and it work too. So is this something wrong with the relay setting of SMTP server? And if receiver and sender in same domain or in outlook, it will not use relay service?","title":"Error &quot;550 5.7.54 SMTP; Unable to relay recipient in non-accepted domain&quot;","body":"<p>I use JavaMail to send email to a customer email address and has error:</p>\n<blockquote>\n<p>com.sun.mail.smtp.SMTPAddressFailedException: 550 5.7.54 SMTP; Unable\nto relay recipient in non-accepted domain</p>\n</blockquote>\n<p>The code is below:</p>\n<pre><code>String to = &quot;customer@customer.COM&quot;;// change accordingly\nString from = &quot;email@mycompany.com&quot;;\nString host = &quot;mail.mycompany.com&quot;;// or IP address\n\n// Get the session object\nProperties properties = System.getProperties();\nproperties.setProperty(&quot;mail.smtp.host&quot;, &quot;10.10.14.3&quot;);\nproperties.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\nproperties.setProperty(&quot;mail.smtp.port&quot;, &quot;25&quot;);// \n// Session session = Session.getDefaultInstance(properties);\nSession session = Session.getInstance(properties, new Authenticator() {\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication() {\n         return new PasswordAuthentication(&quot;customer_service@mycompany.com&quot;, &quot;Passat2020..&quot;);\n        }\n});\n// compose the message\ntry {\n    MimeMessage message = new MimeMessage(session);\n    message.setFrom(new InternetAddress(from));\n    message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n    message.setSubject(&quot;Ping&quot;);\n    message.setText(&quot;Hello, this is example of sending email  &quot;);\n    // Send message\n    Transport.send(message);\n    System.out.println(&quot;message sent successfully....&quot;);\n} catch (MessagingException mex) {\n    mex.printStackTrace();\n}\n</code></pre>\n<p>If I send to customer using outlook it work. Sending to myaddress@mycompany.com instead with this code and it work too. So is this something wrong with the relay setting of SMTP server? And if receiver and sender in same domain or in outlook, it will not use relay service?</p>\n"},{"tags":["java","apache-flink","flink-cep"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665234156,"creation_date":1665233308,"answer_id":73997111,"question_id":73996083,"body_markdown":"The PrintSink does not write to the task manager logs. Instead it writes to separate files (with names ending in `.out`) also located in the log directory. Could it be that the pattern matched, but you overlooked the output?\r\n\r\nBTW, you should ignore the fact that the web UI shows 0 records sent from the print sink to STDOUT. The metrics showing records (and bytes) sent (and received) only include traffic flowing through Flink&#39;s internal network stack. Connections to external systems (sources and sinks) are not included in these metrics.\r\n\r\nHowever, I doubt `notNext` supports being used in this fashion, so I won&#39;t be surprised if there truly is no output.\r\n\r\nWhat will work is if you define the pattern to match the case where the reply does occur in time, and then capture the cases you really want (i.e., when it times out) with the `processTimedOutMatch` method.\r\n\r\nSee [Handling Timed Out Partial Patterns](https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/libs/cep/#handling-timed-out-partial-patterns) for more details.","title":"Why does Flink CEP not match the pattern?","body":"<p>The PrintSink does not write to the task manager logs. Instead it writes to separate files (with names ending in <code>.out</code>) also located in the log directory. Could it be that the pattern matched, but you overlooked the output?</p>\n<p>BTW, you should ignore the fact that the web UI shows 0 records sent from the print sink to STDOUT. The metrics showing records (and bytes) sent (and received) only include traffic flowing through Flink's internal network stack. Connections to external systems (sources and sinks) are not included in these metrics.</p>\n<p>However, I doubt <code>notNext</code> supports being used in this fashion, so I won't be surprised if there truly is no output.</p>\n<p>What will work is if you define the pattern to match the case where the reply does occur in time, and then capture the cases you really want (i.e., when it times out) with the <code>processTimedOutMatch</code> method.</p>\n<p>See <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/libs/cep/#handling-timed-out-partial-patterns\" rel=\"nofollow noreferrer\">Handling Timed Out Partial Patterns</a> for more details.</p>\n"}],"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73997111,"answer_count":1,"score":0,"last_activity_date":1665234156,"creation_date":1665223496,"question_id":73996083,"body_markdown":"Flink newbie here.  \r\n\r\nI have a local setup where Flink processes JSON events generated by Debezium. The idea is to monitor conversations happening between a customer support agent and a customer. If the customer support agent does not reply to a message within a certain time frame, I&#39;d like to raise an alert.   \r\n\r\nMy Flink CEP code looks as follows:  \r\n\r\n        // We create a watermark strategy\r\n        WatermarkStrategy&lt;MessageEvent&gt; watermarkStrategy = WatermarkStrategy\r\n                .&lt;MessageEvent&gt;forMonotonousTimestamps()\r\n                .withTimestampAssigner((event, ts) -&gt; event.getPayload().getAfter().getCreatedAt().longValue());\r\n\r\n        // We get our inputs here\r\n        KafkaSource&lt;String&gt; msgTopic = Sources.kafkaSource(&quot;message&quot;, &quot;flink&quot;);\r\n        DataStream&lt;String&gt; input = env.fromSource(msgTopic, WatermarkStrategy.noWatermarks(), &quot;Message Source&quot;);\r\n\r\n        // Convert the Debezium payload into MessageEvent and assign watermarks\r\n        // Partition by thread ID\r\n        DataStream&lt;MessageEvent&gt; msgStream = input.map(new MessageMapper())\r\n                .assignTimestampsAndWatermarks(watermarkStrategy)\r\n                .keyBy(msg -&gt; msg.getPayload().getAfter().getThreadId());\r\n\r\n        Pattern&lt;MessageEvent, ?&gt; pattern = Pattern.&lt;MessageEvent&gt;begin(&quot;start&quot;, AfterMatchSkipStrategy.skipPastLastEvent())\r\n                        .where(new MessageEventDirectionFilter(&quot;INCOMING&quot;))\r\n                        .oneOrMore()\r\n                        .greedy()\r\n                        .notNext(&quot;end&quot;)\r\n                        .where(new MessageEventDirectionFilter(&quot;OUTGOING&quot;))\r\n                        .within(Time.seconds(10));\r\n\r\n        CEP.pattern(msgStream, pattern)\r\n                .inEventTime()\r\n                .process(new IdleConversationProcessFunction())\r\n                .print();\r\n\r\n`INCOMING` messages are those which are sent by the customer where as `OUTGOING` messages are the ones sent by the support agent. This is what I am trying to capture.  I can see records being sent to the STDOUT operator but nothing shows up in the task manager logs.  \r\n\r\n[![enter image description here][1]][1]  \r\n\r\n\r\nWhy does the pattern defined not match?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IT0aC.png","title":"Why does Flink CEP not match the pattern?","body":"<p>Flink newbie here.</p>\n<p>I have a local setup where Flink processes JSON events generated by Debezium. The idea is to monitor conversations happening between a customer support agent and a customer. If the customer support agent does not reply to a message within a certain time frame, I'd like to raise an alert.</p>\n<p>My Flink CEP code looks as follows:</p>\n<pre><code>    // We create a watermark strategy\n    WatermarkStrategy&lt;MessageEvent&gt; watermarkStrategy = WatermarkStrategy\n            .&lt;MessageEvent&gt;forMonotonousTimestamps()\n            .withTimestampAssigner((event, ts) -&gt; event.getPayload().getAfter().getCreatedAt().longValue());\n\n    // We get our inputs here\n    KafkaSource&lt;String&gt; msgTopic = Sources.kafkaSource(&quot;message&quot;, &quot;flink&quot;);\n    DataStream&lt;String&gt; input = env.fromSource(msgTopic, WatermarkStrategy.noWatermarks(), &quot;Message Source&quot;);\n\n    // Convert the Debezium payload into MessageEvent and assign watermarks\n    // Partition by thread ID\n    DataStream&lt;MessageEvent&gt; msgStream = input.map(new MessageMapper())\n            .assignTimestampsAndWatermarks(watermarkStrategy)\n            .keyBy(msg -&gt; msg.getPayload().getAfter().getThreadId());\n\n    Pattern&lt;MessageEvent, ?&gt; pattern = Pattern.&lt;MessageEvent&gt;begin(&quot;start&quot;, AfterMatchSkipStrategy.skipPastLastEvent())\n                    .where(new MessageEventDirectionFilter(&quot;INCOMING&quot;))\n                    .oneOrMore()\n                    .greedy()\n                    .notNext(&quot;end&quot;)\n                    .where(new MessageEventDirectionFilter(&quot;OUTGOING&quot;))\n                    .within(Time.seconds(10));\n\n    CEP.pattern(msgStream, pattern)\n            .inEventTime()\n            .process(new IdleConversationProcessFunction())\n            .print();\n</code></pre>\n<p><code>INCOMING</code> messages are those which are sent by the customer where as <code>OUTGOING</code> messages are the ones sent by the support agent. This is what I am trying to capture.  I can see records being sent to the STDOUT operator but nothing shows up in the task manager logs.</p>\n<p><a href=\"https://i.stack.imgur.com/IT0aC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IT0aC.png\" alt=\"enter image description here\" /></a></p>\n<p>Why does the pattern defined not match?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680152510,"post_id":73995878,"comment_id":133850109,"body_markdown":"Hey Yousef. Have you tried my solution above, does it work?","body":"Hey Yousef. Have you tried my solution above, does it work?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665221520,"creation_date":1665221520,"answer_id":73995878,"question_id":73990189,"body_markdown":"Each time you&#39;re calling `.document()` without passing anything as an argument in the following reference:\r\n\r\n    db.collection(currentUser)\r\n       .document() //&#128072;\r\n       .update(&quot;deviceWat&quot;, hours);\r\n\r\nIt means that you&#39;re generating a brand new unique document ID. When you call `.update()`, you&#39;re trying to update a document that actually doesn&#39;t exist, since you only reserved a document ID and nothing more.\r\n\r\nIf you want to create a reference that points to a particular document inside the &quot;currentUser&quot; collection, then you have to pass the document ID of that document, which already exists in the database, and not generate a new one. So to solve this, get the document ID of the item you want to update and pass it to the `.document()` function like this:\r\n\r\n    db.collection(currentUser)\r\n       .document(&quot;hnx81...803tY&quot;) //&#128072;\r\n       .update(&quot;deviceWat&quot;, hours);","title":"How to update value of a specific field in Firestore document?","body":"<p>Each time you're calling <code>.document()</code> without passing anything as an argument in the following reference:</p>\n<pre><code>db.collection(currentUser)\n   .document() //👈\n   .update(&quot;deviceWat&quot;, hours);\n</code></pre>\n<p>It means that you're generating a brand new unique document ID. When you call <code>.update()</code>, you're trying to update a document that actually doesn't exist, since you only reserved a document ID and nothing more.</p>\n<p>If you want to create a reference that points to a particular document inside the &quot;currentUser&quot; collection, then you have to pass the document ID of that document, which already exists in the database, and not generate a new one. So to solve this, get the document ID of the item you want to update and pass it to the <code>.document()</code> function like this:</p>\n<pre><code>db.collection(currentUser)\n   .document(&quot;hnx81...803tY&quot;) //👈\n   .update(&quot;deviceWat&quot;, hours);\n</code></pre>\n"}],"owner":{"account_id":21525560,"reputation":37,"user_id":15865909,"display_name":"Yousef Hashem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665234065,"creation_date":1665160743,"question_id":73990189,"body_markdown":"How do I get its ID only Android Firebase Firestore and update a specific field only?\r\n\r\nI just want to update the &#39;consumption&#39; value of electricity without updating all the data for one device.\r\n\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        DeviceModel modal = deviceModelArrayList.get(position);\r\n\r\n        holder.showName.setText(modal.getDeviceName());\r\n        holder.showWat.setText(modal.getDeviceWat());\r\n        holder.showUse.setText(modal.getDeviceUse());\r\n\r\n\r\n        holder.addBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                hours = Integer.parseInt(String.valueOf(holder.showUse.getText()));\r\n                if (hours &lt; 24) {\r\n                    holder.showUse.setText(String.valueOf(++hours));\r\n                    db.collection(currentUser)\r\n                            .document()\r\n                            .update(&quot;deviceWat&quot;, hours);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7oAZb.png","title":"How to update value of a specific field in Firestore document?","body":"<p>How do I get its ID only Android Firebase Firestore and update a specific field only?</p>\n<p>I just want to update the 'consumption' value of electricity without updating all the data for one device.</p>\n<pre><code>public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    DeviceModel modal = deviceModelArrayList.get(position);\n\n    holder.showName.setText(modal.getDeviceName());\n    holder.showWat.setText(modal.getDeviceWat());\n    holder.showUse.setText(modal.getDeviceUse());\n\n\n    holder.addBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            hours = Integer.parseInt(String.valueOf(holder.showUse.getText()));\n            if (hours &lt; 24) {\n                holder.showUse.setText(String.valueOf(++hours));\n                db.collection(currentUser)\n                        .document()\n                        .update(&quot;deviceWat&quot;, hours);\n            }\n        }\n    });\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7oAZb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7oAZb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multidimensional-array","type-conversion","char"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1665229714,"post_id":73996719,"comment_id":130653787,"body_markdown":"1) Loop through the first dimension of the 2d array; 2) Put at the same index of the second array the result of `charAt(0)` of the first element of the `n`th element of the first array.","body":"1) Loop through the first dimension of the 2d array; 2) Put at the same index of the second array the result of <code>charAt(0)</code> of the first element of the <code>n</code>th element of the first array."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665229968,"post_id":73996719,"comment_id":130653845,"body_markdown":"Hello and Welcome! Please share what have you tried and describe your specific issue. If you had no attempt, then use the logic [described by Federico](https://stackoverflow.com/questions/73996719/java-convert-a-2d-array-of-string-in-a-1d-array-of-char#comment130653787_73996719) and return if you would have a specific problem with your code. Also get familiar with the guide-lines on how to ask questions [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Hello and Welcome! Please share what have you tried and describe your specific issue. If you had no attempt, then use the logic <a href=\"https://stackoverflow.com/questions/73996719/java-convert-a-2d-array-of-string-in-a-1d-array-of-char#comment130653787_73996719\">described by Federico</a> and return if you would have a specific problem with your code. Also get familiar with the guide-lines on how to ask questions <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665232791,"post_id":73996719,"comment_id":130654371,"body_markdown":"*char[] c = {&quot;A&quot;,&quot;B&quot;}* Assuming you mean ```char[] c = {&#39;A&#39;,&#39;B&#39;}``` ? If so, you don&#39;t need that array as I&#39;m guessing that required character ```c[n]```  can be obtained with ```char x = (char)(&#39;A&#39; + n)```","body":"<i>char[] c = {&quot;A&quot;,&quot;B&quot;}</i> Assuming you mean <code>char[] c = {&#39;A&#39;,&#39;B&#39;}</code> ? If so, you don&#39;t need that array as I&#39;m guessing that required character <code>c[n]</code>  can be obtained with <code>char x = (char)(&#39;A&#39; + n)</code>"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665231533,"creation_date":1665231533,"answer_id":73996917,"question_id":73996719,"body_markdown":"You have an `input` and you create an `output` of the same `.length` as the `input`&#39;s `.length`, then loop an `i` index through the range of 0 ...length - 1 and get the `i`&#39;th record&#39;s 0&#39;th record (the letter) and get its first `char` via `charAt(0)`.\r\n\r\n```\r\nString[][] input = new String[][] {{&quot;A&quot;, &quot;-.-&quot;},{&quot;B&quot;, &quot;..-&quot;}};\r\nchar[] output = new char[input.length];\r\nfor (int i = 0; i &lt; input.length; i++) {\r\n    output[i] = input[i][0].charAt(0);\r\n}\r\n```","title":"Java: Convert a 2d Array of String in a 1d Array of char","body":"<p>You have an <code>input</code> and you create an <code>output</code> of the same <code>.length</code> as the <code>input</code>'s <code>.length</code>, then loop an <code>i</code> index through the range of 0 ...length - 1 and get the <code>i</code>'th record's 0'th record (the letter) and get its first <code>char</code> via <code>charAt(0)</code>.</p>\n<pre><code>String[][] input = new String[][] {{&quot;A&quot;, &quot;-.-&quot;},{&quot;B&quot;, &quot;..-&quot;}};\nchar[] output = new char[input.length];\nfor (int i = 0; i &lt; input.length; i++) {\n    output[i] = input[i][0].charAt(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665232417,"creation_date":1665232417,"answer_id":73997019,"question_id":73996719,"body_markdown":"Using streams.\r\n\r\n```java\r\nfinal char[] result = Arrays.stream(input)\r\n                .map(i -&gt; String.valueOf(i[0].charAt(0)))\r\n                .collect(Collectors.joining())\r\n                .toCharArray();\r\n```","title":"Java: Convert a 2d Array of String in a 1d Array of char","body":"<p>Using streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final char[] result = Arrays.stream(input)\n                .map(i -&gt; String.valueOf(i[0].charAt(0)))\n                .collect(Collectors.joining())\n                .toCharArray();\n</code></pre>\n"}],"owner":{"account_id":18945100,"reputation":3,"user_id":13824184,"display_name":"Gaby Zech"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73996917,"answer_count":2,"score":-2,"last_activity_date":1665232417,"creation_date":1665229560,"question_id":73996719,"body_markdown":"how can I convert a 2d Array of String: `String[][] = {{&quot;A&quot;, &quot;-.-&quot;},{&quot;B&quot;, &quot;..-&quot;}}` into a array of char: `char[] c = {&quot;A&quot;,&quot;B&quot;}`?\r\n\r\nCan somebody help me?\r\n\r\n","title":"Java: Convert a 2d Array of String in a 1d Array of char","body":"<p>how can I convert a 2d Array of String: <code>String[][] = {{&quot;A&quot;, &quot;-.-&quot;},{&quot;B&quot;, &quot;..-&quot;}}</code> into a array of char: <code>char[] c = {&quot;A&quot;,&quot;B&quot;}</code>?</p>\n<p>Can somebody help me?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc","sequential"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664862849,"post_id":73938751,"comment_id":130561413,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":14775211,"reputation":3,"user_id":10670367,"display_name":"krishna_38"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665232062,"creation_date":1665232062,"answer_id":73996975,"question_id":73938751,"body_markdown":"I used multiple Executor channel which can be configured with the thread executor, so I used single thread only for the Executor channel and provided a some capacity for blocking queue. ","title":"Spring Direct Channel - multiple send message at the same time","body":"<p>I used multiple Executor channel which can be configured with the thread executor, so I used single thread only for the Executor channel and provided a some capacity for blocking queue.</p>\n"}],"owner":{"account_id":14775211,"reputation":3,"user_id":10670367,"display_name":"krishna_38"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73996975,"answer_count":1,"score":0,"last_activity_date":1665232062,"creation_date":1664817360,"question_id":73938751,"body_markdown":"I know some basics about Spring Integration channels as there are two types of channel as SubscribableChannel channel and Pollable channel and out of it, Directchannel is one of the type of Subscribablechannel. \r\nI have a scenario, where I can send the continuous message to direct channel after every 2 millisecond, but at consumer end i.e. (I am using service activator) it can take 1 second to process after receiving the message. on the basis of implementation I am returning the failure or success response to caller. the requirement here is that I must need to process them sequentially, i.e. I cannot execute it in a synchronous way.\r\nI have the following questions as,\r\n\r\n 1. From web resources I read that, direct channel can block the sender, but I did not get clearly in which case ?\r\n 2. can I make use of direct channel to send the continuous message after every 2-3 milliseconds, and if service activator returning the response, to whom it returns ? Is it to caller thread of DirectChannel? (Also I want those messages to be get executed sequentially, that&#39;s why I am choosing Direct channel)\r\n 3. if DirectChannel won&#39;t fit in above scenario, then which SubscribableChannel\r\n channel I can make use of? \r\n\r\nI am describing my scenario one more time, \r\n\r\nMy application receiving REST request after every 2 or 3 millisecond, and I want to return success or failure to the caller on the basis of process execution. here the one more things is that, I cannot execute the above request asynchronously, I want to execute them sequentially only. So I decided to send those request to DirectChannel. \r\n\r\nplease suggest any good way to tackle it ? ","title":"Spring Direct Channel - multiple send message at the same time","body":"<p>I know some basics about Spring Integration channels as there are two types of channel as SubscribableChannel channel and Pollable channel and out of it, Directchannel is one of the type of Subscribablechannel.\nI have a scenario, where I can send the continuous message to direct channel after every 2 millisecond, but at consumer end i.e. (I am using service activator) it can take 1 second to process after receiving the message. on the basis of implementation I am returning the failure or success response to caller. the requirement here is that I must need to process them sequentially, i.e. I cannot execute it in a synchronous way.\nI have the following questions as,</p>\n<ol>\n<li>From web resources I read that, direct channel can block the sender, but I did not get clearly in which case ?</li>\n<li>can I make use of direct channel to send the continuous message after every 2-3 milliseconds, and if service activator returning the response, to whom it returns ? Is it to caller thread of DirectChannel? (Also I want those messages to be get executed sequentially, that's why I am choosing Direct channel)</li>\n<li>if DirectChannel won't fit in above scenario, then which SubscribableChannel\nchannel I can make use of?</li>\n</ol>\n<p>I am describing my scenario one more time,</p>\n<p>My application receiving REST request after every 2 or 3 millisecond, and I want to return success or failure to the caller on the basis of process execution. here the one more things is that, I cannot execute the above request asynchronously, I want to execute them sequentially only. So I decided to send those request to DirectChannel.</p>\n<p>please suggest any good way to tackle it ?</p>\n"},{"tags":["java","arrays","algorithm","duplicates","integer"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1665145743,"post_id":73986783,"comment_id":130637233,"body_markdown":"Are you required to use arrays? Can you use something more appropriate for the task, like a `Map`?","body":"Are you required to use arrays? Can you use something more appropriate for the task, like a <code>Map</code>?"}],"answers":[{"comments":[{"owner":{"account_id":7970581,"reputation":375,"user_id":6015444,"display_name":"Touniouk"},"score":0,"creation_date":1665146567,"post_id":73987115,"comment_id":130637523,"body_markdown":"You can use the same solution but with a hashMap so you can store the number as key and the number of times it appears as value. The benefit of this solution is that it only goes through the array once. However a HashMap is unordered so you will know which elements are duplicate and how many times they appear, but not in which order","body":"You can use the same solution but with a hashMap so you can store the number as key and the number of times it appears as value. The benefit of this solution is that it only goes through the array once. However a HashMap is unordered so you will know which elements are duplicate and how many times they appear, but not in which order"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665151272,"creation_date":1665145425,"answer_id":73987115,"question_id":73986783,"body_markdown":"First of all the code from `javatpoint.com` you&#39;ve listed is **bad** because it&#39;s based on assumption that the given array is sorted (only in such case duplicated elements are guaranteed to be consecutive). And it doesn&#39;t even mention in the article, that the reason such resources should be avoided.\r\n\r\nTo find all duplicated elements in the given array, you can use a [`HashSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html), which is an implementation of `Set` interface which contract ensures that implementing collection should contain only unique elements. `HashSet` make use of the `equals/hashCode` implementation of the stored objects to guarantee uniqueness.\r\n\r\nJust iterate through the array and offer the element to the set using its method `add()` which returns a `boolean` value indicating whether the set was modified or not. If the element gets rejected, that means it has been already encountered.\r\n\r\nTo see the unique duplicated values, you can declare you might declare a separate set.\r\n\r\n```\r\nint[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\r\n        \r\nSet&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\nSet&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\r\n        \r\nfor (int next: arr) {\r\n    if (!seen.add(next)) {\r\n        System.out.print(next + &quot; &quot;);\r\n        \r\n        if (duplicates.add(next)) System.out.print(next + &quot; &quot;);\r\n    }\r\n}\r\n    \r\nSystem.out.println(&quot;\\nunique duplicated values: &quot; + duplicates);\r\n```\r\n*Output:*\r\n```\r\n5 5 5 4 4 4 4 5 2 2 3 3 3 5 \r\nunique duplicated values: [2, 3, 4, 5]\r\n```\r\n\r\nThis approach is hi-performant and has linear time complexity **O(n)**.\r\n\r\nAnd it&#39;s much better than brute-force iteration using two nested `for`-loops with quadratic time complexity **O(n^2)**. While solving various coding challenges and algorithmic problems, you should avoid brute-force solutions because they always have the **worst** possible performance.\r\n\r\nThere&#39;s one more useful and performant technic for finding duplicates that worth to be aware of.\r\n\r\nOftentimes, you might find that values have some constraints. For instance, integer elements can be limited to a range `[-1000,1000]` (whilst the possible range of `int` is much broader: from -2&lt;sup&gt;31&lt;/sup&gt; to 2&lt;sup&gt;31&lt;/sup&gt; - 1).\r\n\r\nIn such cases, you can create an auxiliary array with the size equal to the range of values and count frequencies of each element. That&#39;s basically the first step of the [Counting sort algorithm](https://en.wikipedia.org/wiki/Counting_sort#Complexity_analysis).\r\n\r\nThat&#39;s how it might look like. Let&#39;s assume that the range is `[1,100]`:\r\n\r\n```\r\nint[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\r\n        \r\nint[] freq = new int[100];\r\nfinal int minValue = 1; // constraint: values are in range [1, 100]\r\n        \r\nfor (int next: arr) {\r\n    freq[next - minValue]++;\r\n}\r\n        \r\nfor (int i = 0; i &lt; freq.length; i++) {\r\n    if (freq[i] &gt; 1) System.out.print((i + minValue + &quot; &quot;).repeat(freq[i]));\r\n}\r\n```\r\n*Output:*\r\n```\r\n2 2 3 3 3 4 4 4 4 5 5 5 5 5\r\n```\r\n\r\nAnd here&#39;s an bit advance solution using Stream API.\r\n\r\n```\r\nint[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\r\n     \r\nArrays.stream(arr)\r\n    .boxed()\r\n    .collect(Collectors.toMap(\r\n        Function.identity(), // key\r\n        i -&gt; 1,              // value\r\n        Integer::sum         // resolving duplicates\r\n    ))\r\n    .entrySet().stream()\r\n    .filter(e -&gt; e.getValue() &gt; 1) // retaining entries with duplicated keys\r\n    .forEach(e -&gt; System.out.print((e.getKey() + &quot; &quot;).repeat(e.getValue())));\r\n```\r\n*Output:*\r\n```\r\n2 2 3 3 3 4 4 4 4 5 5 5 5 5\r\n```","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>First of all the code from <code>javatpoint.com</code> you've listed is <strong>bad</strong> because it's based on assumption that the given array is sorted (only in such case duplicated elements are guaranteed to be consecutive). And it doesn't even mention in the article, that the reason such resources should be avoided.</p>\n<p>To find all duplicated elements in the given array, you can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a>, which is an implementation of <code>Set</code> interface which contract ensures that implementing collection should contain only unique elements. <code>HashSet</code> make use of the <code>equals/hashCode</code> implementation of the stored objects to guarantee uniqueness.</p>\n<p>Just iterate through the array and offer the element to the set using its method <code>add()</code> which returns a <code>boolean</code> value indicating whether the set was modified or not. If the element gets rejected, that means it has been already encountered.</p>\n<p>To see the unique duplicated values, you can declare you might declare a separate set.</p>\n<pre><code>int[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\n        \nSet&lt;Integer&gt; seen = new HashSet&lt;&gt;();\nSet&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\n        \nfor (int next: arr) {\n    if (!seen.add(next)) {\n        System.out.print(next + &quot; &quot;);\n        \n        if (duplicates.add(next)) System.out.print(next + &quot; &quot;);\n    }\n}\n    \nSystem.out.println(&quot;\\nunique duplicated values: &quot; + duplicates);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>5 5 5 4 4 4 4 5 2 2 3 3 3 5 \nunique duplicated values: [2, 3, 4, 5]\n</code></pre>\n<p>This approach is hi-performant and has linear time complexity <strong>O(n)</strong>.</p>\n<p>And it's much better than brute-force iteration using two nested <code>for</code>-loops with quadratic time complexity <strong>O(n^2)</strong>. While solving various coding challenges and algorithmic problems, you should avoid brute-force solutions because they always have the <strong>worst</strong> possible performance.</p>\n<p>There's one more useful and performant technic for finding duplicates that worth to be aware of.</p>\n<p>Oftentimes, you might find that values have some constraints. For instance, integer elements can be limited to a range <code>[-1000,1000]</code> (whilst the possible range of <code>int</code> is much broader: from -2<sup>31</sup> to 2<sup>31</sup> - 1).</p>\n<p>In such cases, you can create an auxiliary array with the size equal to the range of values and count frequencies of each element. That's basically the first step of the <a href=\"https://en.wikipedia.org/wiki/Counting_sort#Complexity_analysis\" rel=\"nofollow noreferrer\">Counting sort algorithm</a>.</p>\n<p>That's how it might look like. Let's assume that the range is <code>[1,100]</code>:</p>\n<pre><code>int[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\n        \nint[] freq = new int[100];\nfinal int minValue = 1; // constraint: values are in range [1, 100]\n        \nfor (int next: arr) {\n    freq[next - minValue]++;\n}\n        \nfor (int i = 0; i &lt; freq.length; i++) {\n    if (freq[i] &gt; 1) System.out.print((i + minValue + &quot; &quot;).repeat(freq[i]));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2 2 3 3 3 4 4 4 4 5 5 5 5 5\n</code></pre>\n<p>And here's an bit advance solution using Stream API.</p>\n<pre><code>int[] arr = {5, 5, 5, 6, 7, 3, 4, 4, 4, 4, 5, 1, 2, 2, 3, 3, 5, 8, 9, 10};\n     \nArrays.stream(arr)\n    .boxed()\n    .collect(Collectors.toMap(\n        Function.identity(), // key\n        i -&gt; 1,              // value\n        Integer::sum         // resolving duplicates\n    ))\n    .entrySet().stream()\n    .filter(e -&gt; e.getValue() &gt; 1) // retaining entries with duplicated keys\n    .forEach(e -&gt; System.out.print((e.getKey() + &quot; &quot;).repeat(e.getValue())));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2 2 3 3 3 4 4 4 4 5 5 5 5 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7970581,"reputation":375,"user_id":6015444,"display_name":"Touniouk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665145644,"creation_date":1665145644,"answer_id":73987163,"question_id":73986783,"body_markdown":"It&#39;s a fairly simple program so I&#39;m not going to share code, but I will try and explain as best as I can what you can do for it to work.\r\n\r\nNote that I am not aiming for optimal solution here, just workable.\r\n\r\n**What is currently happening**:\r\n\r\nYou have two loops, and outer loop (i) and an inner loop (j), the outer loop goes through the array normally so you can *see* every number in it, the inner loop goes through the array starting in front of where the outer loop is currently, and printing every number that is a duplicate of the number the outer loop is currently on. This means if a number appears multiple times in the inner loop, it will be printed multiple times. And because it only starts from after the outer loop, if a number appears before that, it won&#39;t be detected as a duplicate.\r\n\r\nFor example 5. When you reach 5 with the outer loop, the inner loop will go through the other four times 5 appears and print it. Then the outer loop goes forward one and the inner loop goes and prints the 3 appearances of 5, etc. You get ten 5s at the end, 4+3+2+1=10 (it decreases in number because the inner loop never goes to numbers before where the outer loop is)\r\n\r\n**What you can do:**\r\n\r\n- On the outer loop and before the inner loop starts, add a boolean that keeps track of weather or not this number is a duplicate, it should be false by default\r\n- Then have the inner loop start from the beginning of the array and continue throught the entire array until it finds a duplicate. Make sure to skip the position the outer loop is currently on, you can do so by checking that i and j are the same and using the keyword `continue`. If you do find a duplicate, switch the boolean to `true` and break the inner loop with the keyword `break`\r\n- Now back in the outer loop, just check the boolean and if it is true, print the current outer loop number","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>It's a fairly simple program so I'm not going to share code, but I will try and explain as best as I can what you can do for it to work.</p>\n<p>Note that I am not aiming for optimal solution here, just workable.</p>\n<p><strong>What is currently happening</strong>:</p>\n<p>You have two loops, and outer loop (i) and an inner loop (j), the outer loop goes through the array normally so you can <em>see</em> every number in it, the inner loop goes through the array starting in front of where the outer loop is currently, and printing every number that is a duplicate of the number the outer loop is currently on. This means if a number appears multiple times in the inner loop, it will be printed multiple times. And because it only starts from after the outer loop, if a number appears before that, it won't be detected as a duplicate.</p>\n<p>For example 5. When you reach 5 with the outer loop, the inner loop will go through the other four times 5 appears and print it. Then the outer loop goes forward one and the inner loop goes and prints the 3 appearances of 5, etc. You get ten 5s at the end, 4+3+2+1=10 (it decreases in number because the inner loop never goes to numbers before where the outer loop is)</p>\n<p><strong>What you can do:</strong></p>\n<ul>\n<li>On the outer loop and before the inner loop starts, add a boolean that keeps track of weather or not this number is a duplicate, it should be false by default</li>\n<li>Then have the inner loop start from the beginning of the array and continue throught the entire array until it finds a duplicate. Make sure to skip the position the outer loop is currently on, you can do so by checking that i and j are the same and using the keyword <code>continue</code>. If you do find a duplicate, switch the boolean to <code>true</code> and break the inner loop with the keyword <code>break</code></li>\n<li>Now back in the outer loop, just check the boolean and if it is true, print the current outer loop number</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665148110,"creation_date":1665146436,"answer_id":73987306,"question_id":73986783,"body_markdown":" - One issue with your code is that your inner-loop starts at: j = i + 1;\r\n - When i = 2 and j = 3 then the second two in the array will not find another duplicate.\r\n - Second issue is that you do not break from your inner-loop when you find a duplicate and continue to compare arr[i] to arr[j] and print out to console.\r\n\r\n```\r\nint[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\r\n\t\t\r\nfor(int i = 0; i &lt; arr.length; i++) {\r\n   for(int j = 0; j &lt; arr.length; j++) {\r\n      if(arr[i] == arr[j] &amp;&amp; i != j) {\r\n         System.out.print(arr[i] + &quot; &quot;);\r\n\t\t break;\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nIf the array is guaranteed to be sorted then you don&#39;t need an additional data structure to check for duplicates. \r\n\r\n - Check to the right of the current index for a duplicate. If duplicate doesn&#39;t exist in front, then check behind. Be mindful of your array bounds too.\r\n\r\n```\r\nfor(int i = 0; i &lt; arr.length ; i++) {\r\n\tif((i+1) &lt; arr.length &amp;&amp; arr[i] == arr[i+1]) {\r\n\t     System.out.print(arr[i] + &quot; &quot;);\r\n\t} else if((i-1) &gt;= 0 &amp;&amp; arr[i] == arr[i-1]) {\r\n\t     System.out.print(arr[i] + &quot; &quot;);\r\n\t}\r\n}\r\n```","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<ul>\n<li>One issue with your code is that your inner-loop starts at: j = i + 1;</li>\n<li>When i = 2 and j = 3 then the second two in the array will not find another duplicate.</li>\n<li>Second issue is that you do not break from your inner-loop when you find a duplicate and continue to compare arr[i] to arr[j] and print out to console.</li>\n</ul>\n<pre><code>int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\n        \nfor(int i = 0; i &lt; arr.length; i++) {\n   for(int j = 0; j &lt; arr.length; j++) {\n      if(arr[i] == arr[j] &amp;&amp; i != j) {\n         System.out.print(arr[i] + &quot; &quot;);\n         break;\n      }\n   }\n}\n</code></pre>\n<p>If the array is guaranteed to be sorted then you don't need an additional data structure to check for duplicates.</p>\n<ul>\n<li>Check to the right of the current index for a duplicate. If duplicate doesn't exist in front, then check behind. Be mindful of your array bounds too.</li>\n</ul>\n<pre><code>for(int i = 0; i &lt; arr.length ; i++) {\n    if((i+1) &lt; arr.length &amp;&amp; arr[i] == arr[i+1]) {\n         System.out.print(arr[i] + &quot; &quot;);\n    } else if((i-1) &gt;= 0 &amp;&amp; arr[i] == arr[i-1]) {\n         System.out.print(arr[i] + &quot; &quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665152580,"creation_date":1665146595,"answer_id":73987343,"question_id":73986783,"body_markdown":"**Using Java 8 groupingBy:**\r\n\r\nYou can use the **`groupingBy`** feature by which you can easily get the **frequency of each unique element present in the array**,and then filter the data whose **frequency is greater than 1** and iterating on this map, you can create a **`StringBuilder`.**\r\n\r\n**My approach:**\r\n\r\n1) I have first created a `Map&lt;Integer,Integer&gt; frequencyGreaterThanOne`, it will hold the array element and its frequency as a key-value pair with the data whose frequency is greater than 1.\r\n\r\n2) `TreeMap::new`: It will create the sorted map.\r\n\r\n3) On this map `frequencyGreaterThanOne`, I have iterated over it and created the `StringBuilder` as required.\r\n\r\n\r\n***The code as follows:***\r\n\r\n    \r\n    public class Test {\r\n       public static void main(String[] args) {\r\n\r\n        int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5,11,11,5, 5, 5, 5, 6, 7, 8, 9, 10,10,7,7};\r\n\r\n        Map&lt;Integer,Integer&gt; frequencyGreaterThanOne =\r\n                Arrays.stream(arr).boxed().sorted()\r\n                        .collect(Collectors.groupingBy(Object::toString,Collectors.counting()))\r\n                        .entrySet().stream()\r\n                        .filter(x -&gt; x.getValue() &gt; 1)\r\n                        .collect(Collectors.toMap(x -&gt; Integer.valueOf(x.getKey()),\r\n                                x -&gt; x.getValue().intValue(),(a, b) -&gt; a,TreeMap::new));\r\n\r\n        System.out.println(frequencyGreaterThanOne);\r\n\r\n        StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n\r\n        frequencyGreaterThanOne.forEach((key, value) -&gt; {\r\n            for (int i = 0; i &lt; value; i++) {\r\n                sb.append(key).append(&quot; &quot;);\r\n            }\r\n        });\r\n\r\n        System.out.println(sb);\r\n    }\r\n}\r\n\r\n**Output:**\r\n\r\n    {2=2, 3=3, 4=4, 5=6, 7=3, 10=2, 11=2}\r\n    2 2 3 3 3 4 4 4 4 5 5 5 5 5 5 7 7 7 10 10 11 11","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p><strong>Using Java 8 groupingBy:</strong></p>\n<p>You can use the <strong><code>groupingBy</code></strong> feature by which you can easily get the <strong>frequency of each unique element present in the array</strong>,and then filter the data whose <strong>frequency is greater than 1</strong> and iterating on this map, you can create a <strong><code>StringBuilder</code>.</strong></p>\n<p><strong>My approach:</strong></p>\n<ol>\n<li><p>I have first created a <code>Map&lt;Integer,Integer&gt; frequencyGreaterThanOne</code>, it will hold the array element and its frequency as a key-value pair with the data whose frequency is greater than 1.</p>\n</li>\n<li><p><code>TreeMap::new</code>: It will create the sorted map.</p>\n</li>\n<li><p>On this map <code>frequencyGreaterThanOne</code>, I have iterated over it and created the <code>StringBuilder</code> as required.</p>\n</li>\n</ol>\n<p><em><strong>The code as follows:</strong></em></p>\n<pre><code>public class Test {\n   public static void main(String[] args) {\n\n    int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5,11,11,5, 5, 5, 5, 6, 7, 8, 9, 10,10,7,7};\n\n    Map&lt;Integer,Integer&gt; frequencyGreaterThanOne =\n            Arrays.stream(arr).boxed().sorted()\n                    .collect(Collectors.groupingBy(Object::toString,Collectors.counting()))\n                    .entrySet().stream()\n                    .filter(x -&gt; x.getValue() &gt; 1)\n                    .collect(Collectors.toMap(x -&gt; Integer.valueOf(x.getKey()),\n                            x -&gt; x.getValue().intValue(),(a, b) -&gt; a,TreeMap::new));\n\n    System.out.println(frequencyGreaterThanOne);\n\n    StringBuilder sb = new StringBuilder(&quot;&quot;);\n\n    frequencyGreaterThanOne.forEach((key, value) -&gt; {\n        for (int i = 0; i &lt; value; i++) {\n            sb.append(key).append(&quot; &quot;);\n        }\n    });\n\n    System.out.println(sb);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Output:</strong></p>\n<pre><code>{2=2, 3=3, 4=4, 5=6, 7=3, 10=2, 11=2}\n2 2 3 3 3 4 4 4 4 5 5 5 5 5 5 7 7 7 10 10 11 11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665146692,"creation_date":1665146692,"answer_id":73987365,"question_id":73986783,"body_markdown":"What your nested for loops do, is that for each element of the array, it (the inner loop) searches *everything after that element* for the same number as `arr[i]`. See how the inner loop starts from `i + 1`?\r\n\r\nBut for your program to be correct, you need to search the whole array for the same number as `arr[i]`, in order to determine whether `arr[i]` is duplicated somewhere in the array.\r\n\r\nThis means starting the inner loop at 0, and `break`ing the loop as soon as you find one, using a `boolean` variable to keep track of whether you found one. If you did find one, print `arr[i]`.\r\n\r\n    int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\r\n    for(int i = 0; i &lt; arr.length; i++) {\r\n        boolean found = false;\r\n        for(int j = 0; j &lt; arr.length; j++) {\r\n            if (arr[i] == arr[j] &amp;&amp; i != j) {\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n        if (found) {\r\n            System.out.print(arr[i] + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nNotice that this is a lot of waste. For the first `5`, we searched through the array to find another `5`, and for the second `5`, we are doing the same thing again! We can improve this by using a `HashSet`. Determining whether something is in a `HashSet` is asymptotically faster than looping through an array.\r\n\r\n    Set&lt;Integer&gt; appearedOnce = new HashSet&lt;&gt;();\r\n    Set&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\r\n    for (int i : arr) {\r\n        if (!appearedOnce.add(i)) { // add would return false if i is already in the set\r\n            duplicates.add(i);\r\n        }\r\n    }\r\n    for (int i : arr) {\r\n        if (duplicates.contains(i)) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nThe first part is similar to Alexander Ivanchenko&#39;s answer, finding out what the duplicates are. Then, you loop through the array only one more time, conditionally printing out those elements that are in the `duplicates` set.","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>What your nested for loops do, is that for each element of the array, it (the inner loop) searches <em>everything after that element</em> for the same number as <code>arr[i]</code>. See how the inner loop starts from <code>i + 1</code>?</p>\n<p>But for your program to be correct, you need to search the whole array for the same number as <code>arr[i]</code>, in order to determine whether <code>arr[i]</code> is duplicated somewhere in the array.</p>\n<p>This means starting the inner loop at 0, and <code>break</code>ing the loop as soon as you find one, using a <code>boolean</code> variable to keep track of whether you found one. If you did find one, print <code>arr[i]</code>.</p>\n<pre><code>int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\nfor(int i = 0; i &lt; arr.length; i++) {\n    boolean found = false;\n    for(int j = 0; j &lt; arr.length; j++) {\n        if (arr[i] == arr[j] &amp;&amp; i != j) {\n            found = true;\n            break;\n        }\n    }\n    if (found) {\n        System.out.print(arr[i] + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>Notice that this is a lot of waste. For the first <code>5</code>, we searched through the array to find another <code>5</code>, and for the second <code>5</code>, we are doing the same thing again! We can improve this by using a <code>HashSet</code>. Determining whether something is in a <code>HashSet</code> is asymptotically faster than looping through an array.</p>\n<pre><code>Set&lt;Integer&gt; appearedOnce = new HashSet&lt;&gt;();\nSet&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\nfor (int i : arr) {\n    if (!appearedOnce.add(i)) { // add would return false if i is already in the set\n        duplicates.add(i);\n    }\n}\nfor (int i : arr) {\n    if (duplicates.contains(i)) {\n        System.out.print(i + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>The first part is similar to Alexander Ivanchenko's answer, finding out what the duplicates are. Then, you loop through the array only one more time, conditionally printing out those elements that are in the <code>duplicates</code> set.</p>\n"},{"tags":[],"owner":{"account_id":22466920,"reputation":321,"user_id":16667945,"display_name":"AbdullahSaidAbdeaaziz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665147985,"creation_date":1665147881,"answer_id":73987609,"question_id":73986783,"body_markdown":"# Alogrithm #\r\n----\r\n 1. I sorted the list using [Arrays.sort()][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/arrays-sort-in-java-with-examples/\r\n \r\n 2. Then check if the first element is equal second element **(As they sorted so element that has at least identical values should appear)** and if the first element is equal to the previous element **(As the last element of identical and included it in the result)**\r\n\r\n        int[] arr = new int[] {1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,6,7,8,9,10};\r\n        // Sort Array\r\n        Arrays.sort(arr);\r\n\r\n        for (int i = 1; i &lt; arr.length-1 ; i++) {\r\n            if(arr[i] == arr[i+1] | arr[i-1] == arr[i]){\r\n                System.out.print(arr[i]+ &quot; &quot;);\r\n            }\r\n        }\r\n\r\n&gt; Output\r\n\r\n    2 2 3 3 3 4 4 4 4 5 5 5 5 5","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<h1>Alogrithm</h1>\n<hr />\n<ol>\n<li>I sorted the list using <a href=\"https://www.geeksforgeeks.org/arrays-sort-in-java-with-examples/\" rel=\"nofollow noreferrer\">Arrays.sort()</a></li>\n</ol>\n<ol start=\"2\">\n<li><p>Then check if the first element is equal second element <strong>(As they sorted so element that has at least identical values should appear)</strong> and if the first element is equal to the previous element <strong>(As the last element of identical and included it in the result)</strong></p>\n<pre><code>int[] arr = new int[] {1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,6,7,8,9,10};\n// Sort Array\nArrays.sort(arr);\n\nfor (int i = 1; i &lt; arr.length-1 ; i++) {\n    if(arr[i] == arr[i+1] | arr[i-1] == arr[i]){\n        System.out.print(arr[i]+ &quot; &quot;);\n    }\n}\n</code></pre>\n</li>\n</ol>\n<blockquote>\n<p>Output</p>\n</blockquote>\n<pre><code>2 2 3 3 3 4 4 4 4 5 5 5 5 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665219107,"creation_date":1665148325,"answer_id":73987690,"question_id":73986783,"body_markdown":"In order to keep duplicates in encounter order, you can use `Map&lt;Integer, List&lt;Integer&gt;&gt;`, with keys being elements of the array, and values being indexes, where element exists in the array. Elements with more than one index are duplicates.\r\n```\r\npublic class Temp {\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = new int[]{1, 2, 2, 3, 3, 3, 2, 4, 1, 5, 3};\r\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        for (int index = 0; index &lt; arr.length; index++) {\r\n            List&lt;Integer&gt; indexes = map.computeIfAbsent(arr[index], element -&gt; new ArrayList&lt;&gt;());\r\n            indexes.add(index);\r\n        }\r\n        String duplicates = map.values()\r\n                .stream()\r\n                .filter(indexes -&gt; indexes.size() &gt; 1)\r\n                .flatMap(Collection::stream)\r\n                .sorted()\r\n                .map(index -&gt; Integer.toString(arr[index]))\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        System.out.println(duplicates);\r\n    }\r\n}\r\n```\r\nIndexes won&#39;t be ordered, that requires sorting in order to gather the elements in encounter order.","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>In order to keep duplicates in encounter order, you can use <code>Map&lt;Integer, List&lt;Integer&gt;&gt;</code>, with keys being elements of the array, and values being indexes, where element exists in the array. Elements with more than one index are duplicates.</p>\n<pre><code>public class Temp {\n\n    public static void main(String[] args) {\n        int[] arr = new int[]{1, 2, 2, 3, 3, 3, 2, 4, 1, 5, 3};\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n        for (int index = 0; index &lt; arr.length; index++) {\n            List&lt;Integer&gt; indexes = map.computeIfAbsent(arr[index], element -&gt; new ArrayList&lt;&gt;());\n            indexes.add(index);\n        }\n        String duplicates = map.values()\n                .stream()\n                .filter(indexes -&gt; indexes.size() &gt; 1)\n                .flatMap(Collection::stream)\n                .sorted()\n                .map(index -&gt; Integer.toString(arr[index]))\n                .collect(Collectors.joining(&quot; &quot;));\n        System.out.println(duplicates);\n    }\n}\n</code></pre>\n<p>Indexes won't be ordered, that requires sorting in order to gather the elements in encounter order.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665149176,"creation_date":1665148620,"answer_id":73987746,"question_id":73986783,"body_markdown":"You&#39;ve got more than enough answers. This one fits into one long line using stream / grouping by to find the duplicates, joins those values and then printing:\r\n\r\n\tSystem.out.println(Arrays.stream(arr).boxed()\r\n\t\t.collect(Collectors.groupingBy(Object::toString,LinkedHashMap::new,Collectors.counting()))\r\n\t\t.entrySet().stream().filter(entry -&gt; entry.getValue() &gt; 1)\r\n\t\t.map(entry -&gt; (&quot; &quot;+entry.getKey()).repeat(entry.getValue().intValue()))\r\n\t\t.collect(Collectors.joining(&quot;&quot;)).trim());\r\n\r\nNote that the above won&#39;t work if the integer values repeat later - example `{1,2,1}`","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>You've got more than enough answers. This one fits into one long line using stream / grouping by to find the duplicates, joins those values and then printing:</p>\n<pre><code>System.out.println(Arrays.stream(arr).boxed()\n    .collect(Collectors.groupingBy(Object::toString,LinkedHashMap::new,Collectors.counting()))\n    .entrySet().stream().filter(entry -&gt; entry.getValue() &gt; 1)\n    .map(entry -&gt; (&quot; &quot;+entry.getKey()).repeat(entry.getValue().intValue()))\n    .collect(Collectors.joining(&quot;&quot;)).trim());\n</code></pre>\n<p>Note that the above won't work if the integer values repeat later - example <code>{1,2,1}</code></p>\n"}],"owner":{"account_id":26235223,"reputation":39,"user_id":19910496,"display_name":"askein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":8,"score":2,"last_activity_date":1665230516,"creation_date":1665143641,"question_id":73986783,"body_markdown":"I used this [Java Program to Print Duplicate Elements in an Array][1] as reference.\r\n\r\n    int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\r\n    for(int i = 0; i &lt; arr.length; i++) {\r\n      for(int j = i + 1; j &lt; arr.length; j++) {\r\n        if(arr[i] == arr[j]) {\r\n          System.out.print(arr[j] + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    2 3 3 3 4 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5 \r\n\r\nI think you can already see the problem here. It only works well when there are only two elements that have the same value. But even then, it won&#39;t display both the two said values. I&#39;ve tried to only display arr[i], arr[j], and both arr[i] and arr[j]. But nothing. I am fairly new. I can&#39;t get anywhere.\r\n\r\nWhat I want is to display all elements in the array that have at least one identical value.\r\n\r\nThe result should be:\r\n\r\n    2 2 3 3 3 4 4 4 4 5 5 5 5 5\r\n\r\nTeach me.\r\n\r\nI have also tried this [GeeksForGeeks: Array elements that appear more than once][2]. Changed the integer array into the same that I have above. It only displayed:\r\n\r\n    2 3 4 5\r\n\r\n\r\n  [1]: https://www.javatpoint.com/java-program-to-print-the-duplicate-elements-of-an-array\r\n  [2]: https://www.geeksforgeeks.org/array-elements-that-appear-more-than-once/","title":"How to display all elements in a Java integer array that have at least one identical value?","body":"<p>I used this <a href=\"https://www.javatpoint.com/java-program-to-print-the-duplicate-elements-of-an-array\" rel=\"nofollow noreferrer\">Java Program to Print Duplicate Elements in an Array</a> as reference.</p>\n<pre><code>int[] arr = new int[] {1, 2, 2, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 7, 8, 9, 10};\nfor(int i = 0; i &lt; arr.length; i++) {\n  for(int j = i + 1; j &lt; arr.length; j++) {\n    if(arr[i] == arr[j]) {\n      System.out.print(arr[j] + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>2 3 3 3 4 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5 \n</code></pre>\n<p>I think you can already see the problem here. It only works well when there are only two elements that have the same value. But even then, it won't display both the two said values. I've tried to only display arr[i], arr[j], and both arr[i] and arr[j]. But nothing. I am fairly new. I can't get anywhere.</p>\n<p>What I want is to display all elements in the array that have at least one identical value.</p>\n<p>The result should be:</p>\n<pre><code>2 2 3 3 3 4 4 4 4 5 5 5 5 5\n</code></pre>\n<p>Teach me.</p>\n<p>I have also tried this <a href=\"https://www.geeksforgeeks.org/array-elements-that-appear-more-than-once/\" rel=\"nofollow noreferrer\">GeeksForGeeks: Array elements that appear more than once</a>. Changed the integer array into the same that I have above. It only displayed:</p>\n<pre><code>2 3 4 5\n</code></pre>\n"},{"tags":["java","android","android-studio","admob","ads"],"owner":{"account_id":25389047,"reputation":25,"user_id":19200377,"display_name":"Pronner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1665230458,"creation_date":1665229567,"question_id":73996720,"body_markdown":"There&#39;s an issue when trying to use Interstitial ads on `MainFragment.java` for `fragment_main.xml`.\r\n\r\nI get the errors:\r\n```\r\n&#39;load(android.content.Context, java.lang.String, com.google.android.gms.ads.AdRequest, com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback)&#39; in &#39;com.google.android.gms.ads.interstitial.InterstitialAd&#39; cannot be applied to &#39;(com.pronner.ragtagvpn.view.MainFragment, java.lang.String, com.google.android.gms.ads.AdRequest, anonymous com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback)&#39;\r\n\r\n&#39;show(android.app.Activity)&#39; in &#39;com.google.android.gms.ads.interstitial.InterstitialAd&#39; cannot be applied to &#39;(com.pronner.ragtagvpn.view.MainFragment)&#39;\r\n```\r\nBut when I use `MainActivity.java` instead, there are no errors however the application crashes meaning it couldn&#39;t find `vpnBtn` in `activity_main.xml`.\r\n\r\nMainFragment.java Interstitial ad part:\r\n```java\r\npackage com.pronner.ragtagvpn.view;\r\n\r\nimport static android.app.Activity.RESULT_OK;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.net.VpnService;\r\nimport android.os.Bundle;\r\nimport android.os.RemoteException;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.localbroadcastmanager.content.LocalBroadcastManager;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.google.android.gms.ads.LoadAdError;\r\nimport com.pronner.ragtagvpn.R;\r\nimport com.pronner.ragtagvpn.databinding.FragmentMainBinding;\r\nimport com.pronner.ragtagvpn.CheckInternetConnection;\r\nimport com.pronner.ragtagvpn.SharedPreference;\r\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\r\nimport com.pronner.ragtagvpn.model.Server;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\n\r\nimport de.blinkt.openvpn.OpenVpnApi;\r\nimport de.blinkt.openvpn.core.OpenVPNService;\r\nimport de.blinkt.openvpn.core.OpenVPNThread;\r\nimport de.blinkt.openvpn.core.VpnStatus;\r\n\r\nimport com.google.android.gms.ads.AdError;\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdView;\r\nimport com.google.android.gms.ads.FullScreenContentCallback;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\r\nimport com.google.android.gms.ads.interstitial.*;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\r\nimport com.pronner.ragtagvpn.R;\r\nimport com.pronner.ragtagvpn.Utils;\r\nimport com.pronner.ragtagvpn.adapter.ServerListRVAdapter;\r\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\r\nimport com.pronner.ragtagvpn.interfaces.NavItemClickListener;\r\nimport com.pronner.ragtagvpn.model.Server;\r\n\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\n\r\npublic class MainFragment extends Fragment implements View.OnClickListener, ChangeServer {\r\n\r\n    private Server server;\r\n    private CheckInternetConnection connection;\r\n\r\n    private OpenVPNThread vpnThread = new OpenVPNThread();\r\n    private OpenVPNService vpnService = new OpenVPNService();\r\n    boolean vpnStart = false;\r\n    private SharedPreference preference;\r\n\r\n    private FragmentMainBinding binding;\r\n\r\n    private Button mButton;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_main, container, false);\r\n\r\n        View view = binding.getRoot();\r\n        initializeAll();\r\n\r\n        loadInterstitialAds();\r\n\r\n        mButton = mButton.findViewById(R.id.vpnBtn);\r\n        mButton.setOnClickListener(new View.OnClickListener() {\r\n\r\n\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (mInterstationalAd!=null) {\r\n                    mInterstationalAd.show(MainFragment.this);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    private InterstitialAd mInterstationalAd=null;\r\n    public static final String INTERESTRIAL_AD_UNIT_ID=&quot;ca-app-pub-1yyyyyyyy/1xxxxxxxx&quot;; // I put this in the real code\r\n\r\n    void loadInterstitialAds() {\r\n\r\n        AdRequest adRequest=new AdRequest.Builder().build();\r\n        InterstitialAd.load(this, INTERESTRIAL_AD_UNIT_ID, adRequest, new InterstitialAdLoadCallback() {\r\n            @Override\r\n            public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                super.onAdFailedToLoad(loadAdError);\r\n            }\r\n\r\n            @Override\r\n            public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                super.onAdLoaded(interstitialAd);\r\n                mInterstationalAd=interstitialAd;\r\n\r\n                interstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                    @Override\r\n                    public void onAdClicked() {\r\n                        super.onAdClicked();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdDismissedFullScreenContent() {\r\n                        super.onAdDismissedFullScreenContent();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\r\n                        super.onAdFailedToShowFullScreenContent(adError);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdImpression() {\r\n                        super.onAdImpression();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdShowedFullScreenContent() {\r\n                        super.onAdShowedFullScreenContent();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI&#39;m 90% sure if I were able to fix the errors, the Interstitial ad would work. Because that&#39;s the same thing that happened with my Banner ad (which works now), I had to put the `adView` inside the `activity_main.xml` instead, but adding the button into the `activity_main.xml` makes the process so much longer and I might face even more errors, so this fix would be a lot easier I reckon.","title":"android | Issue with &quot;mInterstationalAd.show(MainFragment.this);&quot;","body":"<p>There's an issue when trying to use Interstitial ads on <code>MainFragment.java</code> for <code>fragment_main.xml</code>.</p>\n<p>I get the errors:</p>\n<pre><code>'load(android.content.Context, java.lang.String, com.google.android.gms.ads.AdRequest, com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback)' in 'com.google.android.gms.ads.interstitial.InterstitialAd' cannot be applied to '(com.pronner.ragtagvpn.view.MainFragment, java.lang.String, com.google.android.gms.ads.AdRequest, anonymous com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback)'\n\n'show(android.app.Activity)' in 'com.google.android.gms.ads.interstitial.InterstitialAd' cannot be applied to '(com.pronner.ragtagvpn.view.MainFragment)'\n</code></pre>\n<p>But when I use <code>MainActivity.java</code> instead, there are no errors however the application crashes meaning it couldn't find <code>vpnBtn</code> in <code>activity_main.xml</code>.</p>\n<p>MainFragment.java Interstitial ad part:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.pronner.ragtagvpn.view;\n\nimport static android.app.Activity.RESULT_OK;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.net.VpnService;\nimport android.os.Bundle;\nimport android.os.RemoteException;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.databinding.DataBindingUtil;\nimport androidx.fragment.app.Fragment;\nimport androidx.localbroadcastmanager.content.LocalBroadcastManager;\n\nimport com.bumptech.glide.Glide;\nimport com.google.android.gms.ads.LoadAdError;\nimport com.pronner.ragtagvpn.R;\nimport com.pronner.ragtagvpn.databinding.FragmentMainBinding;\nimport com.pronner.ragtagvpn.CheckInternetConnection;\nimport com.pronner.ragtagvpn.SharedPreference;\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\nimport com.pronner.ragtagvpn.model.Server;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\nimport de.blinkt.openvpn.OpenVpnApi;\nimport de.blinkt.openvpn.core.OpenVPNService;\nimport de.blinkt.openvpn.core.OpenVPNThread;\nimport de.blinkt.openvpn.core.VpnStatus;\n\nimport com.google.android.gms.ads.AdError;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdView;\nimport com.google.android.gms.ads.FullScreenContentCallback;\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.*;\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\nimport com.pronner.ragtagvpn.R;\nimport com.pronner.ragtagvpn.Utils;\nimport com.pronner.ragtagvpn.adapter.ServerListRVAdapter;\nimport com.pronner.ragtagvpn.interfaces.ChangeServer;\nimport com.pronner.ragtagvpn.interfaces.NavItemClickListener;\nimport com.pronner.ragtagvpn.model.Server;\n\nimport com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\n\npublic class MainFragment extends Fragment implements View.OnClickListener, ChangeServer {\n\n    private Server server;\n    private CheckInternetConnection connection;\n\n    private OpenVPNThread vpnThread = new OpenVPNThread();\n    private OpenVPNService vpnService = new OpenVPNService();\n    boolean vpnStart = false;\n    private SharedPreference preference;\n\n    private FragmentMainBinding binding;\n\n    private Button mButton;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_main, container, false);\n\n        View view = binding.getRoot();\n        initializeAll();\n\n        loadInterstitialAds();\n\n        mButton = mButton.findViewById(R.id.vpnBtn);\n        mButton.setOnClickListener(new View.OnClickListener() {\n\n\n            @Override\n            public void onClick(View view) {\n\n                if (mInterstationalAd!=null) {\n                    mInterstationalAd.show(MainFragment.this);\n                }\n\n            }\n        });\n\n        return view;\n    }\n\n    private InterstitialAd mInterstationalAd=null;\n    public static final String INTERESTRIAL_AD_UNIT_ID=&quot;ca-app-pub-1yyyyyyyy/1xxxxxxxx&quot;; // I put this in the real code\n\n    void loadInterstitialAds() {\n\n        AdRequest adRequest=new AdRequest.Builder().build();\n        InterstitialAd.load(this, INTERESTRIAL_AD_UNIT_ID, adRequest, new InterstitialAdLoadCallback() {\n            @Override\n            public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                super.onAdFailedToLoad(loadAdError);\n            }\n\n            @Override\n            public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                super.onAdLoaded(interstitialAd);\n                mInterstationalAd=interstitialAd;\n\n                interstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                    @Override\n                    public void onAdClicked() {\n                        super.onAdClicked();\n                    }\n\n                    @Override\n                    public void onAdDismissedFullScreenContent() {\n                        super.onAdDismissedFullScreenContent();\n                    }\n\n                    @Override\n                    public void onAdFailedToShowFullScreenContent(@NonNull AdError adError) {\n                        super.onAdFailedToShowFullScreenContent(adError);\n                    }\n\n                    @Override\n                    public void onAdImpression() {\n                        super.onAdImpression();\n                    }\n\n                    @Override\n                    public void onAdShowedFullScreenContent() {\n                        super.onAdShowedFullScreenContent();\n                    }\n                });\n            }\n        });\n    }\n</code></pre>\n<p>I'm 90% sure if I were able to fix the errors, the Interstitial ad would work. Because that's the same thing that happened with my Banner ad (which works now), I had to put the <code>adView</code> inside the <code>activity_main.xml</code> instead, but adding the button into the <code>activity_main.xml</code> makes the process so much longer and I might face even more errors, so this fix would be a lot easier I reckon.</p>\n"},{"tags":["java","mysql","sql","jpa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665224470,"post_id":73996151,"comment_id":130652965,"body_markdown":"*Now I want to add one more data in That.* So why are you using an update statement then, *and* with the same ID as the one before? You should be using an *insert* statement","body":"<i>Now I want to add one more data in That.</i> So why are you using an update statement then, <i>and</i> with the same ID as the one before? You should be using an <i>insert</i> statement"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1665224619,"post_id":73996151,"comment_id":130652992,"body_markdown":"No `insert` statement is for insertion the row, in same record I want to add data in my `columnJson ` column where already I have two data, I wann add one more.","body":"No <code>insert</code> statement is for insertion the row, in same record I want to add data in my <code>columnJson </code> column where already I have two data, I wann add one more."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665225039,"post_id":73996151,"comment_id":130653042,"body_markdown":"Oh right, then you&#39;ll have to select, append, *then* update. Or use [this](https://stackoverflow.com/questions/13926239/mysql-append-column-value#13926382) technique","body":"Oh right, then you&#39;ll have to select, append, <i>then</i> update. Or use <a href=\"https://stackoverflow.com/questions/13926239/mysql-append-column-value#13926382\">this</a> technique"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1665225395,"post_id":73996151,"comment_id":130653091,"body_markdown":"let me try, thanks, Not sure will work on json or not.","body":"let me try, thanks, Not sure will work on json or not."},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1665226239,"post_id":73996151,"comment_id":130653232,"body_markdown":"you need to use one of these https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html","body":"you need to use one of these <a href=\"https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1665298294,"post_id":73996581,"comment_id":130664032,"body_markdown":"It is adding as another array, Is there any possiblity that it should add in same array. @nbk","body":"It is adding as another array, Is there any possiblity that it should add in same array. @nbk"},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":1,"creation_date":1665301651,"post_id":73996581,"comment_id":130664541,"body_markdown":"Make a fiddle and can have a look, you have as I mentioned in my answer to learn how to handle it by yourself, so take the fiddle add  data and play with it and the other funtions","body":"Make a fiddle and can have a look, you have as I mentioned in my answer to learn how to handle it by yourself, so take the fiddle add  data and play with it and the other funtions"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1665307101,"post_id":73996581,"comment_id":130665434,"body_markdown":"Thanks, I have played with the fiddle, I removed `$[0]` to `$` and worked like charm. Also lots of learning here. Thanks again nbk","body":"Thanks, I have played with the fiddle, I removed <code>$[0]</code> to <code>$</code> and worked like charm. Also lots of learning here. Thanks again nbk"}],"tags":[],"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665229965,"creation_date":1665228180,"answer_id":73996581,"question_id":73996151,"body_markdown":"You need JSON functions like `JSON_ARRAY_APPEND` see more [functions][1] to mani&#252;ulate.\r\n\r\nJson needs some special function which have to be learned, we usually recomend nit to use JSON, because in a normalized table you can use all the sql functionality there exists, \r\n\r\nJSON needs always a moderate learn effort \r\n\r\n\r\n``` \r\nupdate myTable \r\nset columnJson = &#39;[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\r\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]&#39; \r\nwhere id = &quot;rowID1&quot;;\r\n```\r\n\r\n&gt; ``` status\r\n&gt; Rows matched: 1  Changed: 1  Warnings: 0\r\n&gt; ```\r\n\r\n``` \r\nupdate myTable \r\nset columnJson = JSON_ARRAY_APPEND(columnJson, &#39;$[0]&#39;, &#39;{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}&#39;)\r\n```\r\n\r\n&gt; ``` status\r\n&gt; Rows matched: 1  Changed: 1  Warnings: 0\r\n&gt; ```\r\n\r\n``` \r\nSELECT * FROM myTable\r\n```\r\n| id | columnJson |\r\n|:---|:-----------|\r\n| rowID1 | \\[\\[{&quot;id&quot;: &quot;someId1&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, &quot;{\\&quot;id\\&quot; : \\&quot;someId3\\&quot;, \\&quot;name\\&quot;: \\&quot;someNamme3\\&quot;}&quot;], {&quot;id&quot;: &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}] |\r\n\r\n[fiddle](https://dbfiddle.uk/zPfmyb4H)\r\n\r\nAnd if you want another position you change te point where it shold change\r\n\r\n``` \r\nupdate myTable \r\nset columnJson = &#39;[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\r\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]&#39; \r\nwhere id = &quot;rowID1&quot;;\r\n```\r\n\r\n&gt; ``` status\r\n&gt; Rows matched: 1  Changed: 1  Warnings: 0\r\n&gt; ```\r\n\r\n``` \r\nupdate myTable \r\nset columnJson = JSON_ARRAY_APPEND(columnJson, &#39;$[1]&#39;, &#39;{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}&#39;)\r\n```\r\n\r\n&gt; ``` status\r\n&gt; Rows matched: 1  Changed: 1  Warnings: 0\r\n&gt; ```\r\n\r\n``` \r\nSELECT * FROM myTable\r\n```\r\n| id | columnJson |\r\n|:---|:-----------|\r\n| rowID1 | \\[{&quot;id&quot;: &quot;someId1&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, \\[{&quot;id&quot;: &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, &quot;{\\&quot;id\\&quot; : \\&quot;someId3\\&quot;, \\&quot;name\\&quot;: \\&quot;someNamme3\\&quot;}&quot;]] |\r\n\r\n[fiddle](https://dbfiddle.uk/wQdEc-HD)\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html","title":"How to add another data in my sql column of type JSON","body":"<p>You need JSON functions like <code>JSON_ARRAY_APPEND</code> see more <a href=\"https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html\" rel=\"nofollow noreferrer\">functions</a> to maniüulate.</p>\n<p>Json needs some special function which have to be learned, we usually recomend nit to use JSON, because in a normalized table you can use all the sql functionality there exists,</p>\n<p>JSON needs always a moderate learn effort</p>\n<pre><code>update myTable \nset columnJson = '[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]' \nwhere id = &quot;rowID1&quot;;\n</code></pre>\n<blockquote>\n<pre><code>Rows matched: 1  Changed: 1  Warnings: 0\n</code></pre>\n</blockquote>\n<pre><code>update myTable \nset columnJson = JSON_ARRAY_APPEND(columnJson, '$[0]', '{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}')\n</code></pre>\n<blockquote>\n<pre><code>Rows matched: 1  Changed: 1  Warnings: 0\n</code></pre>\n</blockquote>\n<pre><code>SELECT * FROM myTable\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">columnJson</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">rowID1</td>\n<td style=\"text-align: left;\">[[{&quot;id&quot;: &quot;someId1&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, &quot;{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}&quot;], {&quot;id&quot;: &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://dbfiddle.uk/zPfmyb4H\" rel=\"nofollow noreferrer\">fiddle</a></p>\n<p>And if you want another position you change te point where it shold change</p>\n<pre><code>update myTable \nset columnJson = '[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]' \nwhere id = &quot;rowID1&quot;;\n</code></pre>\n<blockquote>\n<pre><code>Rows matched: 1  Changed: 1  Warnings: 0\n</code></pre>\n</blockquote>\n<pre><code>update myTable \nset columnJson = JSON_ARRAY_APPEND(columnJson, '$[1]', '{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}')\n</code></pre>\n<blockquote>\n<pre><code>Rows matched: 1  Changed: 1  Warnings: 0\n</code></pre>\n</blockquote>\n<pre><code>SELECT * FROM myTable\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">id</th>\n<th style=\"text-align: left;\">columnJson</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">rowID1</td>\n<td style=\"text-align: left;\">[{&quot;id&quot;: &quot;someId1&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, [{&quot;id&quot;: &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}, &quot;{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}&quot;]]</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://dbfiddle.uk/wQdEc-HD\" rel=\"nofollow noreferrer\">fiddle</a></p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73996581,"answer_count":1,"score":1,"last_activity_date":1665229965,"creation_date":1665224128,"question_id":73996151,"body_markdown":"How to add another data in my sql column of type JSON.\r\n\r\nIn my table I have one column of json type null.\r\n\r\nso I using this command to update the value.\r\n\r\n    update myTable \r\n    set columnJson = &#39;[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\r\n                      ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]&#39; \r\n    where id = &quot;rowID1&quot;;\r\n\r\nthis is working fine. and I hve two data. \r\n\r\nNow I want to add one more data in That.\r\n\r\nI am using same command\r\n\r\n    update myTable  \r\n      set columnJson = &#39;[{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}]&#39;  \r\n     where id = &quot;rowID1&quot;;\r\n\r\n\r\nBut the previous value is getting washed away. Is there anyway I can add n number of values. I am doing this in Java.","title":"How to add another data in my sql column of type JSON","body":"<p>How to add another data in my sql column of type JSON.</p>\n<p>In my table I have one column of json type null.</p>\n<p>so I using this command to update the value.</p>\n<pre><code>update myTable \nset columnJson = '[{&quot;id&quot; : &quot;someId1&quot; , &quot;name&quot;: &quot;someNamme2&quot;}\n                  ,{&quot;id&quot; : &quot;someId2&quot;, &quot;name&quot;: &quot;someNamme2&quot;}]' \nwhere id = &quot;rowID1&quot;;\n</code></pre>\n<p>this is working fine. and I hve two data.</p>\n<p>Now I want to add one more data in That.</p>\n<p>I am using same command</p>\n<pre><code>update myTable  \n  set columnJson = '[{&quot;id&quot; : &quot;someId3&quot;, &quot;name&quot;: &quot;someNamme3&quot;}]'  \n where id = &quot;rowID1&quot;;\n</code></pre>\n<p>But the previous value is getting washed away. Is there anyway I can add n number of values. I am doing this in Java.</p>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1664555769,"post_id":73911550,"comment_id":130506445,"body_markdown":"Build a HashMap where the keys are the numbers, and the values are the number of occurrences of that number.","body":"Build a HashMap where the keys are the numbers, and the values are the number of occurrences of that number."},{"owner":{"account_id":17673712,"reputation":487,"user_id":12829221,"display_name":"Sumit Singh"},"score":0,"creation_date":1664556136,"post_id":73911550,"comment_id":130506554,"body_markdown":"ryt said @AndyTurner same question as [TWO SUM](https://leetcode.com/problems/two-sum/) with a little twist","body":"ryt said @AndyTurner same question as <a href=\"https://leetcode.com/problems/two-sum/\" rel=\"nofollow noreferrer\">TWO SUM</a> with a little twist"},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":2,"creation_date":1664556374,"post_id":73911550,"comment_id":130506618,"body_markdown":"The best that I see is `O(n log(n))`.  The first step is to sort them.","body":"The best that I see is <code>O(n log(n))</code>.  The first step is to sort them."},{"owner":{"account_id":229381,"reputation":3734,"user_id":492307,"accept_rate":96,"display_name":"Tryer"},"score":3,"creation_date":1664556715,"post_id":73911550,"comment_id":130506703,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans `k` can very well be greater than `n`. All that matters is that it is a constant independent of `n`.","body":"@Mike&#39;Pomax&#39;Kamermans <code>k</code> can very well be greater than <code>n</code>. All that matters is that it is a constant independent of <code>n</code>."},{"owner":{"account_id":8063194,"reputation":1145,"user_id":6078157,"accept_rate":60,"display_name":"ThisGuyCantEven"},"score":0,"creation_date":1664556768,"post_id":73911550,"comment_id":130506723,"body_markdown":"the HashMap described by @AndyTurner is also known as a frequency histogram","body":"the HashMap described by @AndyTurner is also known as a frequency histogram"},{"owner":{"account_id":229381,"reputation":3734,"user_id":492307,"accept_rate":96,"display_name":"Tryer"},"score":3,"creation_date":1664557132,"post_id":73911550,"comment_id":130506846,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans Big O captures the worst case bound for *any* given `n`. So, the average value of `n` is immaterial when writing down an algorithm&#39;s Big O(n) function. You are talking about the average run time, which Big O does not care for.","body":"@Mike&#39;Pomax&#39;Kamermans Big O captures the worst case bound for <i>any</i> given <code>n</code>. So, the average value of <code>n</code> is immaterial when writing down an algorithm&#39;s Big O(n) function. You are talking about the average run time, which Big O does not care for."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664641428,"post_id":73911550,"comment_id":130520421,"body_markdown":"@btilly radix sort is linear.","body":"@btilly radix sort is linear."},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664649636,"post_id":73911550,"comment_id":130522091,"body_markdown":"@Tryer You have fallen prey to misconception 4 in http://ssp.impulsetrain.com/big-o.html. Big-O is about mathematical functions.  They can be best case, average case, worst case, etc.","body":"@Tryer You have fallen prey to misconception 4 in <a href=\"http://ssp.impulsetrain.com/big-o.html\" rel=\"nofollow noreferrer\">ssp.impulsetrain.com/big-o.html</a>. Big-O is about mathematical functions.  They can be best case, average case, worst case, etc."},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664649737,"post_id":73911550,"comment_id":130522113,"body_markdown":"@WillNess Yes, with a number of passes proportional to the number of bits in the integer.  In a low-level language like C you can make this faster than comparison based sorts.  In a high-level language like Python, you can&#39;t.","body":"@WillNess Yes, with a number of passes proportional to the number of bits in the integer.  In a low-level language like C you can make this faster than comparison based sorts.  In a high-level language like Python, you can&#39;t."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664650138,"post_id":73911550,"comment_id":130522194,"body_markdown":"@btilly btw I don&#39;t see why would it be impossible. Python has arrays with O(1) access; each number can be turned into an array of its digits in whatever *base*; then we sort by *k=0,1,...,d* -th digit. This assumes these ints are bounded from above (i.e. not bignums, but have finite range, up to *base^d* or so). we just needs a lot of space (length(array)*base), but the time complexity is still O(n).","body":"@btilly btw I don&#39;t see why would it be impossible. Python has arrays with O(1) access; each number can be turned into an array of its digits in whatever <i>base</i>; then we sort by <i>k=0,1,...,d</i> -th digit. This assumes these ints are bounded from above (i.e. not bignums, but have finite range, up to <i>base^d</i> or so). we just needs a lot of space (length(array)*base), but the time complexity is still O(n)."},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664650260,"post_id":73911550,"comment_id":130522224,"body_markdown":"@WillNess I&#39;d need to see benchmarks for Java. As for Python, you can write the code, but the performance overhead of writing in Python is such you&#39;ll probably lose to the library `sort` until your arrays have too much data to fit in memory.  Try writing it and see.","body":"@WillNess I&#39;d need to see benchmarks for Java. As for Python, you can write the code, but the performance overhead of writing in Python is such you&#39;ll probably lose to the library <code>sort</code> until your arrays have too much data to fit in memory.  Try writing it and see."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664650296,"post_id":73911550,"comment_id":130522229,"body_markdown":"@btilly yes but this is an *algorithmic* question. We only care about big-O, not the actual performance.","body":"@btilly yes but this is an <i>algorithmic</i> question. We only care about big-O, not the actual performance."},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664659766,"post_id":73911550,"comment_id":130523767,"body_markdown":"@WillNess You have to define &quot;we&quot; carefully. I am usually uninterested in algorithms that are worse for all datasets that we can manage to run for.","body":"@WillNess You have to define &quot;we&quot; carefully. I am usually uninterested in algorithms that are worse for all datasets that we can manage to run for."},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":0,"creation_date":1664661838,"post_id":73911550,"comment_id":130524071,"body_markdown":"Since you can reduce element distinctness to this problem, proving a worst-case O(n) algorithm requires discussion about allowed models of computation or unmentioned constraints on the input. That doesn&#39;t preclude an O(n) randomized expected time complexity; you should specify what  &#39;complexity&#39; was sought.","body":"Since you can reduce element distinctness to this problem, proving a worst-case O(n) algorithm requires discussion about allowed models of computation or unmentioned constraints on the input. That doesn&#39;t preclude an O(n) randomized expected time complexity; you should specify what  &#39;complexity&#39; was sought."},{"owner":{"account_id":229381,"reputation":3734,"user_id":492307,"accept_rate":96,"display_name":"Tryer"},"score":0,"creation_date":1664681475,"post_id":73911550,"comment_id":130526143,"body_markdown":"@btilly Fair enough. *Usually* Big O notation *is* used to indicate worst case performance. My post was made under that assumption. If we are talking about the worst case performance, then it is indeed true that all that we care is how big n is and n alone is as long as k is a constant independent of n.","body":"@btilly Fair enough. <i>Usually</i> Big O notation <i>is</i> used to indicate worst case performance. My post was made under that assumption. If we are talking about the worst case performance, then it is indeed true that all that we care is how big n is and n alone is as long as k is a constant independent of n."},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1664693679,"post_id":73911550,"comment_id":130527352,"body_markdown":"@Tryer Oh, really? Watch how many discussions talk about using a hash algorithm to achieve `O(1)` performance. In fact the worst case of common hashing implementations is `O(n)` and `O(1)` is the average case.","body":"@Tryer Oh, really? Watch how many discussions talk about using a hash algorithm to achieve <code>O(1)</code> performance. In fact the worst case of common hashing implementations is <code>O(n)</code> and <code>O(1)</code> is the average case."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664702753,"post_id":73911550,"comment_id":130528582,"body_markdown":"The question wants certain complexity, constant factors i.e. performance do not matter.","body":"The question wants certain complexity, constant factors i.e. performance do not matter."}],"answers":[{"comments":[{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":1,"creation_date":1664659725,"post_id":73920029,"comment_id":130523756,"body_markdown":"The assumption that the inputs are small enough to be radix-sorted in O(n) is key here. It may be necessary for an O(n) algorithm, but it should be explicitly stated when such an assumption is added to the problem.","body":"The assumption that the inputs are small enough to be radix-sorted in O(n) is key here. It may be necessary for an O(n) algorithm, but it should be explicitly stated when such an assumption is added to the problem."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664662361,"post_id":73920029,"comment_id":130524153,"body_markdown":"`int`s are not bignums, in Java. their range is bounded. there is no &quot;small enough&quot;, any bound will do. @kcsquared","body":"<code>int</code>s are not bignums, in Java. their range is bounded. there is no &quot;small enough&quot;, any bound will do. @kcsquared"},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1664703014,"post_id":73920029,"comment_id":130528609,"body_markdown":"Again, that comment is wrong. All that is needed for radix sort is to know in advance the maximum number of digits an integer can have, i.e. the range of the int data type.","body":"Again, that comment is wrong. All that is needed for radix sort is to know in advance the maximum number of digits an integer can have, i.e. the range of the int data type."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":1,"creation_date":1665229838,"post_id":73920029,"comment_id":130653817,"body_markdown":"@kcsquared I&#39;ve amended the algorithm to also apply for *positive bignums* case.","body":"@kcsquared I&#39;ve amended the algorithm to also apply for <i>positive bignums</i> case."}],"tags":[],"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665229785,"creation_date":1664642027,"answer_id":73920029,"question_id":73911550,"body_markdown":"To find the number of pairs of elements in an array summing up to a value within given range, we will use radix sort, which applies in any case where we know in advance the maximum number of digits in any given number under consideration.\r\n\r\nThis trivially holds when the integer values are of some usual bounded `int` type, i.e. not bignums.\r\n\r\nOtherwise, assuming all integers are positive, we first partition the array *in place* with the `r` value as the pivot, henceforth forgetting about the upper part of the array altogether. \r\n\r\nNow,\r\n\r\n 1. Sort the array by [radix sort][1] in *O(n)* in ascending order.\r\n 2. Scan the array from `i=0` with `j=1` incrementing `j` while `a[i]+a[j] &lt; l`, next with `k=j` incrementing `k` until `a[i]+a[k] &gt; r`. Decrement `k`. Set `count = k-j+1`.\r\n 3. Increment `i` once, possibly repeatedly decrementing `j` and `k` to maintain the boundary conditions, making sure `i =&lt; j =&lt; k`  and `i,j,k` are valid access. \r\n 4. If there are no valid `i,j,k`, go to 6. Otherwise,\r\n 5. Increment `count` by `k-j+1` and go back to 3.\r\n 6. Stop. `count` is the result.\r\n\r\n(adjust the above for corner cases as needed.)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Radix_sort","title":"How can I reduce the time complexity from O(n^2) to O(n)","body":"<p>To find the number of pairs of elements in an array summing up to a value within given range, we will use radix sort, which applies in any case where we know in advance the maximum number of digits in any given number under consideration.</p>\n<p>This trivially holds when the integer values are of some usual bounded <code>int</code> type, i.e. not bignums.</p>\n<p>Otherwise, assuming all integers are positive, we first partition the array <em>in place</em> with the <code>r</code> value as the pivot, henceforth forgetting about the upper part of the array altogether.</p>\n<p>Now,</p>\n<ol>\n<li>Sort the array by <a href=\"https://en.wikipedia.org/wiki/Radix_sort\" rel=\"nofollow noreferrer\">radix sort</a> in <em>O(n)</em> in ascending order.</li>\n<li>Scan the array from <code>i=0</code> with <code>j=1</code> incrementing <code>j</code> while <code>a[i]+a[j] &lt; l</code>, next with <code>k=j</code> incrementing <code>k</code> until <code>a[i]+a[k] &gt; r</code>. Decrement <code>k</code>. Set <code>count = k-j+1</code>.</li>\n<li>Increment <code>i</code> once, possibly repeatedly decrementing <code>j</code> and <code>k</code> to maintain the boundary conditions, making sure <code>i =&lt; j =&lt; k</code>  and <code>i,j,k</code> are valid access.</li>\n<li>If there are no valid <code>i,j,k</code>, go to 6. Otherwise,</li>\n<li>Increment <code>count</code> by <code>k-j+1</code> and go back to 3.</li>\n<li>Stop. <code>count</code> is the result.</li>\n</ol>\n<p>(adjust the above for corner cases as needed.)</p>\n"},{"tags":[],"owner":{"account_id":5046303,"reputation":6678,"user_id":4052193,"accept_rate":50,"display_name":"Columbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664708003,"creation_date":1664664608,"answer_id":73922249,"question_id":73911550,"body_markdown":"Here&#39;s my approach using a cumulative histogram instead of a sort. In c++, sorry.\r\n\r\n    static int sumPairsLinear(int *pArray,int iArraySize, int l, int r)\r\n    {\r\n        int iResult = 0;\r\n        // 1. Iterate the array and toss any entries larger than r\r\n        for (int i=0;i&lt;iArraySize;)\r\n        {\r\n            if (pArray[i] &gt; r)\r\n                pArray[i] = pArray[--iArraySize];\r\n            else\r\n                i++;\r\n        }\r\n        // 2. Allocate a zero initialised array of ints, of size `r+1`.\r\n        int *pHistogram = new int[r+1];\r\n        memset(pHistogram, 0, sizeof(int)*(r+1));\r\n        // 3. Fill the histogram\r\n        for (int i=0;i&lt;iArraySize;i++)\r\n        {\r\n            pHistogram[pArray[i]]++;\r\n        }\r\n        // 4. Convert it to a cumulative histogram. \r\n        for (int i=1;i&lt;=r;i++)\r\n        {\r\n            pHistogram[i] += pHistogram[i-1];\r\n        }\r\n        // 5. Iterate through the values again. Use the cumulative histogram to calculate the number of valid pairs.\r\n        for (int i=0;i&lt;iArraySize;i++)\r\n        {\r\n            int iVal = pArray[i];\r\n            int iIndex = l-iVal-1;\r\n            iResult += pHistogram[r-iVal] - ((iIndex &gt;= 0) ? pHistogram[iIndex] : 0);\r\n            // Don&#39;t pair with self\r\n            iVal *= 2;\r\n            if (iVal &lt;= r &amp;&amp;\r\n                iVal &gt;= l)\r\n            {\r\n                iResult--;\r\n            }\r\n        }\r\n        // 6. Half iResult because we counted each pair twice.\r\n        iResult /= 2;\r\n    \r\n        delete[] pHistogram;\r\n        return iResult;\r\n    }\r\n\r\nHorrible performance if `r` is large but otherwise reasonable and still O(N).","title":"How can I reduce the time complexity from O(n^2) to O(n)","body":"<p>Here's my approach using a cumulative histogram instead of a sort. In c++, sorry.</p>\n<pre><code>static int sumPairsLinear(int *pArray,int iArraySize, int l, int r)\n{\n    int iResult = 0;\n    // 1. Iterate the array and toss any entries larger than r\n    for (int i=0;i&lt;iArraySize;)\n    {\n        if (pArray[i] &gt; r)\n            pArray[i] = pArray[--iArraySize];\n        else\n            i++;\n    }\n    // 2. Allocate a zero initialised array of ints, of size `r+1`.\n    int *pHistogram = new int[r+1];\n    memset(pHistogram, 0, sizeof(int)*(r+1));\n    // 3. Fill the histogram\n    for (int i=0;i&lt;iArraySize;i++)\n    {\n        pHistogram[pArray[i]]++;\n    }\n    // 4. Convert it to a cumulative histogram. \n    for (int i=1;i&lt;=r;i++)\n    {\n        pHistogram[i] += pHistogram[i-1];\n    }\n    // 5. Iterate through the values again. Use the cumulative histogram to calculate the number of valid pairs.\n    for (int i=0;i&lt;iArraySize;i++)\n    {\n        int iVal = pArray[i];\n        int iIndex = l-iVal-1;\n        iResult += pHistogram[r-iVal] - ((iIndex &gt;= 0) ? pHistogram[iIndex] : 0);\n        // Don't pair with self\n        iVal *= 2;\n        if (iVal &lt;= r &amp;&amp;\n            iVal &gt;= l)\n        {\n            iResult--;\n        }\n    }\n    // 6. Half iResult because we counted each pair twice.\n    iResult /= 2;\n\n    delete[] pHistogram;\n    return iResult;\n}\n</code></pre>\n<p>Horrible performance if <code>r</code> is large but otherwise reasonable and still O(N).</p>\n"}],"owner":{"account_id":7838032,"reputation":2366,"user_id":5925291,"accept_rate":84,"display_name":"ArrchanaMohan"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1765,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":73922249,"answer_count":2,"score":8,"last_activity_date":1665229785,"creation_date":1664555032,"question_id":73911550,"body_markdown":"I recently attended an interview and they asked me to solve the below problem by using `O(n)` time complexity. (Hackerranker)\r\n\r\n**Problem:**\r\n\r\nGiven an integer array and there will be `l` integer and `r` integer. Need to find the which are all the pair of elements sum will be equal and in between `l` and `r` value;\r\n\r\n&gt; Example: \r\n&gt; \r\n&gt;     int[] array = {2,3,4,5}; int l=5, int r=7;\r\n&gt; \r\n&gt; Output: 4\r\n\r\nInput properties:\r\n\r\n- The input is unsorted. \r\n- The input will have duplicate elements. \r\n- The input array is non-negative.\r\n\r\nThe below combination will return the sum which will be equal and in between `l` and `r` range value, where if the pair is less than `l` or greater than `r` it should be skipped. And pairs can&#39;t be duplicated:\r\n\r\n    array[0] + array[1] = 5 -&gt; counter++\r\n    array[0] + array[2] = 6 -&gt; counter++\r\n    array[0] + array[3] = 7 -&gt; counter++\r\n    array[1] + array[2] = 7 -&gt; counter++\r\n    array[1] + array[3] = 8 -&gt; greater than r, no counter increment\r\n\r\nI tried the below approach and it works fine but its time complexity is O(n^2):\r\n\r\n     public static int sumPairs(int[] array,int l, int r)\r\n        {\r\n            int counter=0;\r\n            for(int i=0;i&lt;array.length;i++)\r\n            {\r\n                for(int j=i+1;j&lt;array.length;j++)\r\n                {\r\n                    int sum = array[i]+array[j];\r\n                    \r\n                    if(sum&lt;=r &amp;&amp; sum&gt;=l)\r\n                    {\r\n                        counter++;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return counter;\r\n        }\r\n\r\nCan someone help me to find a way to optimize the above code to become `O(n)` time complexity?\r\n\r\n\r\n","title":"How can I reduce the time complexity from O(n^2) to O(n)","body":"<p>I recently attended an interview and they asked me to solve the below problem by using <code>O(n)</code> time complexity. (Hackerranker)</p>\n<p><strong>Problem:</strong></p>\n<p>Given an integer array and there will be <code>l</code> integer and <code>r</code> integer. Need to find the which are all the pair of elements sum will be equal and in between <code>l</code> and <code>r</code> value;</p>\n<blockquote>\n<p>Example:</p>\n<pre><code>int[] array = {2,3,4,5}; int l=5, int r=7;\n</code></pre>\n<p>Output: 4</p>\n</blockquote>\n<p>Input properties:</p>\n<ul>\n<li>The input is unsorted.</li>\n<li>The input will have duplicate elements.</li>\n<li>The input array is non-negative.</li>\n</ul>\n<p>The below combination will return the sum which will be equal and in between <code>l</code> and <code>r</code> range value, where if the pair is less than <code>l</code> or greater than <code>r</code> it should be skipped. And pairs can't be duplicated:</p>\n<pre><code>array[0] + array[1] = 5 -&gt; counter++\narray[0] + array[2] = 6 -&gt; counter++\narray[0] + array[3] = 7 -&gt; counter++\narray[1] + array[2] = 7 -&gt; counter++\narray[1] + array[3] = 8 -&gt; greater than r, no counter increment\n</code></pre>\n<p>I tried the below approach and it works fine but its time complexity is O(n^2):</p>\n<pre><code> public static int sumPairs(int[] array,int l, int r)\n    {\n        int counter=0;\n        for(int i=0;i&lt;array.length;i++)\n        {\n            for(int j=i+1;j&lt;array.length;j++)\n            {\n                int sum = array[i]+array[j];\n                \n                if(sum&lt;=r &amp;&amp; sum&gt;=l)\n                {\n                    counter++;\n                }\n            }\n        }\n        \n        return counter;\n    }\n</code></pre>\n<p>Can someone help me to find a way to optimize the above code to become <code>O(n)</code> time complexity?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665004273,"post_id":73920521,"comment_id":130600724,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73920521/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664646398,"creation_date":1664646398,"answer_id":73920521,"question_id":73920390,"body_markdown":"    @OneToMany\r\n    @JoinColumn(name=&quot;room_id&quot;)\r\n    private List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\r\nAdd here referenced column name, now spring dont know what is id in rooms class","title":"Java Spring one-to-many many-to-one","body":"<pre><code>@OneToMany\n@JoinColumn(name=&quot;room_id&quot;)\nprivate List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\n</code></pre>\n<p>Add here referenced column name, now spring dont know what is id in rooms class</p>\n"},{"tags":[],"owner":{"account_id":26552141,"reputation":61,"user_id":20181285,"display_name":"Sk Nur Hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665228263,"creation_date":1665228220,"answer_id":73996586,"question_id":73920390,"body_markdown":"try this:\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Product product;","title":"Java Spring one-to-many many-to-one","body":"<p>try this:</p>\n<pre><code>@OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\nprivate List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\n\n\n\n@ManyToOne(fetch = FetchType.LAZY)\nprivate Product product;\n</code></pre>\n"}],"owner":{"account_id":13745207,"reputation":39,"user_id":9919120,"display_name":"G&#246;khan Şahiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665228263,"creation_date":1664645258,"question_id":73920390,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VeVIg.jpg\r\n\r\n\r\nIn my spring project, I want to connect the entities named room and product to each other. &lt;br&gt;\r\nFirst i will add a hotel then i will add the rooms of the hotels&lt;br&gt;\r\nA hotel will have more than one room and a room will have a hotel &lt;br&gt;\r\nI connected using ManyToOne and OneToMany, but the room array is empty when listing.&lt;br&gt;\r\nI want list rooms in product. How should I write a code\r\n\r\nLike This\r\n\r\n    {\r\n      &quot;status&quot;: true,\r\n      &quot;result&quot;: [\r\n        {\r\n          &quot;pid&quot;: 28,\r\n          &quot;otel_name&quot;: &quot;Hi Otel&quot;,\r\n          &quot;rooms&quot;: [],\r\n          &quot;description&quot;: &quot;hi otel&quot;,\r\n          &quot;location&quot;: {\r\n            &quot;lid&quot;: 11,\r\n            &quot;city&quot;: &quot;Antalya&quot;,\r\n            &quot;district&quot;: &quot;Kaş&quot;\r\n          },\r\n          &quot;taxonomies&quot;: [\r\n            {\r\n              &quot;tax_id&quot;: 25,\r\n              &quot;name&quot;: &quot;Disco&quot;,\r\n              &quot;description&quot;: &quot;Disco&quot;,\r\n              &quot;product&quot;: null\r\n            },\r\n            {\r\n              &quot;tax_id&quot;: 26,\r\n              &quot;name&quot;: &quot;Suitable for family&quot;,\r\n              &quot;description&quot;: &quot;suitable for family&quot;,\r\n              &quot;product&quot;: null\r\n            }\r\n          ],\r\n          &quot;star_ratings&quot;: 5\r\n        }\r\n      ]\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nProduct.java\r\n\r\n  \r\n\r\n     @Entity\r\n    @Data\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer pid;\r\n    \r\n        @NotBlank(message = &quot;Otel name can not be blank&quot;)\r\n        @Length(message = &quot;Otel name must contain min 2 max 50&quot;, min = 2, max=50)\r\n        private String otel_name;\r\n    \r\n    \r\n        @OneToMany\r\n        @JoinColumn(name=&quot;room_id&quot;)\r\n        private List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\r\n    \r\n        @NotBlank(message = &quot;Description name can not be blank&quot;)\r\n        @Length(message = &quot;Description must contain min 2 max&quot;, min = 2)\r\n        private String description;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;lId&quot;,referencedColumnName = &quot;lid&quot;)\r\n        private Location location;\r\n    \r\n    \r\n    \r\n        @OneToMany(cascade ={CascadeType.MERGE})\r\n        @JoinTable(name=&quot;products_taxonomy&quot;,joinColumns = @JoinColumn(name=&quot;p_id&quot; ),\r\n                inverseJoinColumns = @JoinColumn( name = &quot;t_id&quot;, referencedColumnName = &quot;tax_id&quot;)\r\n        )\r\n        private List&lt;Taxonomy&gt; taxonomies;\r\n    \r\n    \r\n        @PositiveOrZero(message = &quot;Star ratings must be between 0 5&quot;)\r\n        @NotNull(message = &quot;Star ratings must be between 0 5&quot;)\r\n        @Max(value = 5, message = &quot;Star ratings must be between 0 5&quot;)\r\n        private Integer star_ratings;\r\n    \r\n    }\r\n\r\n\r\n\r\nRooms.java\r\n\r\n        @Entity\r\n    @Data\r\n    public class Rooms {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer room_id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;p_id&quot;,referencedColumnName = &quot;pid&quot;)\r\n        private Product product;\r\n    \r\n        @NotBlank(message = &quot;Name can not be blank&quot;)\r\n        @Length(message = &quot;Name must contain min 2 max  20 character.&quot;, min = 2, max = 20)\r\n        private String name;\r\n    \r\n        @NotBlank(message = &quot;Description can not be blank&quot;)\r\n        @Length(message = &quot;Description must contain min 2 max  255 character.&quot;, min = 2, max = 255)\r\n        private String description;\r\n    \r\n    \r\n        @PositiveOrZero(message = &quot;Star ratings must be positive&quot;)\r\n        @NotNull(message = &quot;Bed not null&quot;)\r\n        private Integer bed;\r\n    \r\n        @PositiveOrZero(message = &quot;Price must be positive&quot;)\r\n        @NotNull(message = &quot;price not null&quot;)\r\n        private Integer price;\r\n    \r\n        @PositiveOrZero(message = &quot;Price must be positive&quot;)\r\n        @NotNull(message = &quot;price not null&quot;)\r\n        private Integer quantity;\r\n    \r\n    }\r\n\r\n","title":"Java Spring one-to-many many-to-one","body":"<p><a href=\"https://i.stack.imgur.com/VeVIg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VeVIg.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In my spring project, I want to connect the entities named room and product to each other. <br>\nFirst i will add a hotel then i will add the rooms of the hotels<br>\nA hotel will have more than one room and a room will have a hotel <br>\nI connected using ManyToOne and OneToMany, but the room array is empty when listing.<br>\nI want list rooms in product. How should I write a code</p>\n<p>Like This</p>\n<pre><code>{\n  &quot;status&quot;: true,\n  &quot;result&quot;: [\n    {\n      &quot;pid&quot;: 28,\n      &quot;otel_name&quot;: &quot;Hi Otel&quot;,\n      &quot;rooms&quot;: [],\n      &quot;description&quot;: &quot;hi otel&quot;,\n      &quot;location&quot;: {\n        &quot;lid&quot;: 11,\n        &quot;city&quot;: &quot;Antalya&quot;,\n        &quot;district&quot;: &quot;Kaş&quot;\n      },\n      &quot;taxonomies&quot;: [\n        {\n          &quot;tax_id&quot;: 25,\n          &quot;name&quot;: &quot;Disco&quot;,\n          &quot;description&quot;: &quot;Disco&quot;,\n          &quot;product&quot;: null\n        },\n        {\n          &quot;tax_id&quot;: 26,\n          &quot;name&quot;: &quot;Suitable for family&quot;,\n          &quot;description&quot;: &quot;suitable for family&quot;,\n          &quot;product&quot;: null\n        }\n      ],\n      &quot;star_ratings&quot;: 5\n    }\n  ]\n}\n</code></pre>\n<p>Product.java</p>\n<pre><code> @Entity\n@Data\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer pid;\n\n    @NotBlank(message = &quot;Otel name can not be blank&quot;)\n    @Length(message = &quot;Otel name must contain min 2 max 50&quot;, min = 2, max=50)\n    private String otel_name;\n\n\n    @OneToMany\n    @JoinColumn(name=&quot;room_id&quot;)\n    private List&lt;Rooms&gt; rooms =  new ArrayList&lt;&gt;();\n\n    @NotBlank(message = &quot;Description name can not be blank&quot;)\n    @Length(message = &quot;Description must contain min 2 max&quot;, min = 2)\n    private String description;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;lId&quot;,referencedColumnName = &quot;lid&quot;)\n    private Location location;\n\n\n\n    @OneToMany(cascade ={CascadeType.MERGE})\n    @JoinTable(name=&quot;products_taxonomy&quot;,joinColumns = @JoinColumn(name=&quot;p_id&quot; ),\n            inverseJoinColumns = @JoinColumn( name = &quot;t_id&quot;, referencedColumnName = &quot;tax_id&quot;)\n    )\n    private List&lt;Taxonomy&gt; taxonomies;\n\n\n    @PositiveOrZero(message = &quot;Star ratings must be between 0 5&quot;)\n    @NotNull(message = &quot;Star ratings must be between 0 5&quot;)\n    @Max(value = 5, message = &quot;Star ratings must be between 0 5&quot;)\n    private Integer star_ratings;\n\n}\n</code></pre>\n<p>Rooms.java</p>\n<pre><code>    @Entity\n@Data\npublic class Rooms {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer room_id;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;p_id&quot;,referencedColumnName = &quot;pid&quot;)\n    private Product product;\n\n    @NotBlank(message = &quot;Name can not be blank&quot;)\n    @Length(message = &quot;Name must contain min 2 max  20 character.&quot;, min = 2, max = 20)\n    private String name;\n\n    @NotBlank(message = &quot;Description can not be blank&quot;)\n    @Length(message = &quot;Description must contain min 2 max  255 character.&quot;, min = 2, max = 255)\n    private String description;\n\n\n    @PositiveOrZero(message = &quot;Star ratings must be positive&quot;)\n    @NotNull(message = &quot;Bed not null&quot;)\n    private Integer bed;\n\n    @PositiveOrZero(message = &quot;Price must be positive&quot;)\n    @NotNull(message = &quot;price not null&quot;)\n    private Integer price;\n\n    @PositiveOrZero(message = &quot;Price must be positive&quot;)\n    @NotNull(message = &quot;price not null&quot;)\n    private Integer quantity;\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","scheduler"],"answers":[{"tags":[],"owner":{"account_id":26562582,"reputation":71,"user_id":20190174,"display_name":"Sumit Dhyani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665227605,"creation_date":1665227605,"answer_id":73996517,"question_id":73996379,"body_markdown":"\r\nHibernate has an interceptor mecanism that allows you to get notified, at specific times, when database events occurs.\r\n\r\nSuch events are creation/deletion/flush of the session. As you get access to the objects being subject to the given event, you have a mean to fire a process when a given object of a given class (which you can easily map to a table in your schema) is modified.\r\n\r\nThe javadoc can be found here :\r\n https://docs.jboss.org/hibernate/orm/4.0/manual/en-US/html/events.html\r\n\r\nYou can use the interceptor mecanism along with Java&#39;s **ScheduledExecutorService** to schedule a task when hibernate intercepts the save operation. You can create your business logic under that interceptor.","title":"how to run scheduler just after inserting data into database in spring boot?","body":"<p>Hibernate has an interceptor mecanism that allows you to get notified, at specific times, when database events occurs.</p>\n<p>Such events are creation/deletion/flush of the session. As you get access to the objects being subject to the given event, you have a mean to fire a process when a given object of a given class (which you can easily map to a table in your schema) is modified.</p>\n<p>The javadoc can be found here :\n<a href=\"https://docs.jboss.org/hibernate/orm/4.0/manual/en-US/html/events.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/4.0/manual/en-US/html/events.html</a></p>\n<p>You can use the interceptor mecanism along with Java's <strong>ScheduledExecutorService</strong> to schedule a task when hibernate intercepts the save operation. You can create your business logic under that interceptor.</p>\n"},{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665228029,"creation_date":1665228029,"answer_id":73996564,"question_id":73996379,"body_markdown":"Scheduling is not enabled by default. Before adding any scheduled jobs we need to enable scheduling explicitly by adding the @enableScheduling annotation.\r\n\r\nNow with the help of the ScheduledTaskRegistrar#addTriggerTask method, we can add a Runnable task and a Trigger implementation to recalculate the next execution time after the end of each execution.\r\n```@Configuration\r\n@EnableScheduling\r\npublic class DynamicSchedulingConfig implements SchedulingConfigurer {\r\n\r\n    @Autowired\r\n    private TickService tickService;\r\n\r\n    @Bean\r\n    public Executor taskExecutor() {\r\n        return Executors.newSingleThreadScheduledExecutor();\r\n    }\r\n\r\n    @Override\r\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n        taskRegistrar.setScheduler(taskExecutor());\r\n        taskRegistrar.addTriggerTask(\r\n          new Runnable() {\r\n              @Override\r\n              public void run() {\r\n                  tickService.tick();\r\n              }\r\n          },\r\n          new Trigger() {\r\n              @Override\r\n              public Date nextExecutionTime(TriggerContext context) {\r\n                  Optional&lt;Date&gt; lastCompletionTime =\r\n                    Optional.ofNullable(context.lastCompletionTime());\r\n                  Instant nextExecutionTime =\r\n                    lastCompletionTime.orElseGet(Date::new).toInstant()\r\n                      .plusMillis(tickService.getDelay());\r\n                  return Date.from(nextExecutionTime);\r\n              }\r\n          }\r\n        )\r\n    }\r\n\r\n}\r\n```\r\n","title":"how to run scheduler just after inserting data into database in spring boot?","body":"<p>Scheduling is not enabled by default. Before adding any scheduled jobs we need to enable scheduling explicitly by adding the @enableScheduling annotation.</p>\n<p>Now with the help of the ScheduledTaskRegistrar#addTriggerTask method, we can add a Runnable task and a Trigger implementation to recalculate the next execution time after the end of each execution.</p>\n<pre><code>@EnableScheduling\npublic class DynamicSchedulingConfig implements SchedulingConfigurer {\n\n    @Autowired\n    private TickService tickService;\n\n    @Bean\n    public Executor taskExecutor() {\n        return Executors.newSingleThreadScheduledExecutor();\n    }\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskExecutor());\n        taskRegistrar.addTriggerTask(\n          new Runnable() {\n              @Override\n              public void run() {\n                  tickService.tick();\n              }\n          },\n          new Trigger() {\n              @Override\n              public Date nextExecutionTime(TriggerContext context) {\n                  Optional&lt;Date&gt; lastCompletionTime =\n                    Optional.ofNullable(context.lastCompletionTime());\n                  Instant nextExecutionTime =\n                    lastCompletionTime.orElseGet(Date::new).toInstant()\n                      .plusMillis(tickService.getDelay());\n                  return Date.from(nextExecutionTime);\n              }\n          }\n        )\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11521080,"reputation":39,"user_id":8442830,"display_name":"Deep Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665228029,"creation_date":1665226148,"question_id":73996379,"body_markdown":"I am new to spring boot and I have a requirement in which I have to run scheduler only if new data is inserted into table. Thanks for any help","title":"how to run scheduler just after inserting data into database in spring boot?","body":"<p>I am new to spring boot and I have a requirement in which I have to run scheduler only if new data is inserted into table. Thanks for any help</p>\n"},{"tags":["java","dll","g++","native"],"comments":[{"owner":{"account_id":26112234,"reputation":1,"user_id":19805959,"display_name":"59273661 186"},"score":0,"creation_date":1664688612,"post_id":73923282,"comment_id":130526770,"body_markdown":"path is wrong now update:g++ -shared -o d:\\MinGW\\bin\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias","body":"path is wrong now update:g++ -shared -o d:\\MinGW\\bin\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664691907,"post_id":73923282,"comment_id":130527135,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6141164,"reputation":38981,"user_id":4788546,"display_name":"CristiFati"},"score":0,"creation_date":1664732226,"post_id":73923282,"comment_id":130534274,"body_markdown":"Make sure to create the folder ***..\\..\\..\\native\\win32*** prior that command.","body":"Make sure to create the folder <b><i>..\\..\\..\\native\\win32</i></b> prior that command."},{"owner":{"account_id":26112234,"reputation":1,"user_id":19805959,"display_name":"59273661 186"},"score":0,"creation_date":1665219981,"post_id":73923282,"comment_id":130652192,"body_markdown":"@CristiFati Thank you, now is ok. g++ -shared -o &quot;D:\\Program Files\\mingw64\\bin\\native.dll&quot;","body":"@CristiFati Thank you, now is ok. g++ -shared -o &quot;D:\\Program Files\\mingw64\\bin\\native.dll&quot;"}],"answers":[{"tags":[],"owner":{"account_id":6141164,"reputation":38981,"user_id":4788546,"display_name":"CristiFati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665227040,"creation_date":1665226628,"answer_id":73996421,"question_id":73923282,"body_markdown":"Apparently, *GCC* (or *G++*) needs the output (might also apply to others: dump, auxiliary, ...) directory to exist&lt;sup&gt;***\\****&lt;/sup&gt;.&lt;br&gt;\r\nBy default, the output directory is *CWD* (***.***), which exists (in most cases).\r\n\r\nHere&#39;s a dummy examle.\r\n\r\n*sample.c*:\r\n\r\n```c\r\n#include &lt;stdio.h&gt;\r\n\r\n\r\nint main()\r\n{\r\n    printf(&quot;Dummy text\\n&quot;);\r\n    return 0;\r\n}\r\n```\r\n\r\n&gt;    ```lang-bash\r\n&gt;    (qaic-env) [cfati@cfati-5510-0:/mnt/e/Work/Dev/StackOverflow/q073923282]&gt; ~/sopr.sh\r\n&gt;    ### Set shorter prompt to better fit when pasted in StackOverflow (or other) pages ###\r\n&gt;\r\n&gt;    [064bit prompt]&gt; ls\r\n&gt;    sample.c\r\n&gt;    [064bit prompt]&gt;\r\n&gt;    [064bit prompt]&gt; OUT_DIR=.\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    [064bit prompt]&gt; ./sample.out\r\n&gt;    Dummy text\r\n&gt;    [064bit prompt]&gt;\r\n&gt;    [064bit prompt]&gt; OUT_DIR=inner0\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    /usr/bin/ld: cannot open output file inner0/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    [064bit prompt]&gt; mkdir -p ${OUT_DIR}\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    [064bit prompt]&gt; ./inner0/sample.out\r\n&gt;    Dummy text\r\n&gt;    [064bit prompt]&gt;\r\n&gt;    [064bit prompt]&gt; OUT_DIR=inner1/inner11\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    /usr/bin/ld: cannot open output file inner1/inner11/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    [064bit prompt]&gt; mkdir inner1\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    /usr/bin/ld: cannot open output file inner1/inner11/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    [064bit prompt]&gt; mkdir -p ${OUT_DIR}\r\n&gt;    [064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\r\n&gt;    [064bit prompt]&gt; ./inner1/inner11/sample.out\r\n&gt;    Dummy text\r\n&gt;    ```\r\n\r\n[\\[GNU.GCC\\]: Options Controlling the Kind of Output](https://gcc.gnu.org/onlinedocs/gcc/Overall-Options.html#Overall-Options) (*-o file* section) doesn&#39;t mention anything about this (which makes it strange, as *GCC* is well documented).&lt;br&gt;\r\nAlso, the error message suggest otherwise:\r\n&gt;    ```\r\n&gt;    /usr/bin/ld: cannot open output file inner0/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    ```\r\n\r\nGoing further (passing ***-v*** (verbose) option to *GCC*):\r\n\r\n&gt;    ```\r\n&gt;    [064bit prompt]&gt; gcc -v -o inexistent/sample.out sample.c\r\n&gt;    Using built-in specs.\r\n&gt;    COLLECT_GCC=gcc\r\n&gt;    COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper\r\n&gt;    OFFLOAD_TARGET_NAMES=nvptx-none:hsa\r\n&gt;    OFFLOAD_TARGET_DEFAULT=1\r\n&gt;    Target: x86_64-linux-gnu\r\n&gt;    Configured with: ../src/configure -v --with-pkgversion=&#39;Ubuntu 9.4.0-1ubuntu1~20.04.1&#39; --with-bugurl=file:///usr/share/doc/gcc-9/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++,gm2 --prefix=/usr --with-gcc-major-version-only --program-suffix=-9 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib=auto --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none=/build/gcc-9-Av3uEd/gcc-9-9.4.0/debian/tmp-nvptx/usr,hsa --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu \r\n&gt;    --host=x86_64-linux-gnu --target=x86_64-linux-gnu\r\n&gt;    Thread model: posix\r\n&gt;    gcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\r\n&gt;    COLLECT_GCC_OPTIONS=&#39;-v&#39; &#39;-o&#39; &#39;inexistent/sample.out&#39; &#39;-mtune=generic&#39; &#39;-march=x86-64&#39;\r\n&gt;     /usr/lib/gcc/x86_64-linux-gnu/9/cc1 -quiet -v -imultiarch x86_64-linux-gnu sample.c -quiet -dumpbase sample.c -mtune=generic -march=x86-64 -auxbase sample -version -fasynchronous-unwind-tables -fstack-protector-strong -Wformat -Wformat-security -fstack-clash-protection -fcf-protection -o /tmp/ccjdCTrC.s\r\n&gt;    GNU C17 (Ubuntu 9.4.0-1ubuntu1~20.04.1) version 9.4.0 (x86_64-linux-gnu)\r\n&gt;            compiled by GNU C version 9.4.0, GMP version 6.2.0, MPFR version 4.0.2, MPC version 1.1.0, isl version isl-0.22.1-GMP\r\n&gt;\r\n&gt;    GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\r\n&gt;    ignoring nonexistent directory &quot;/usr/local/include/x86_64-linux-gnu&quot;\r\n&gt;    ignoring nonexistent directory &quot;/usr/lib/gcc/x86_64-linux-gnu/9/include-fixed&quot;\r\n&gt;    ignoring nonexistent directory &quot;/usr/lib/gcc/x86_64-linux-gnu/9/../../../../x86_64-linux-gnu/include&quot;\r\n&gt;    #include &quot;...&quot; search starts here:\r\n&gt;    #include &lt;...&gt; search starts here:\r\n&gt;     /usr/lib/gcc/x86_64-linux-gnu/9/include\r\n&gt;     /usr/local/include\r\n&gt;     /usr/include/x86_64-linux-gnu\r\n&gt;     /usr/include\r\n&gt;    End of search list.\r\n&gt;    GNU C17 (Ubuntu 9.4.0-1ubuntu1~20.04.1) version 9.4.0 (x86_64-linux-gnu)\r\n&gt;            compiled by GNU C version 9.4.0, GMP version 6.2.0, MPFR version 4.0.2, MPC version 1.1.0, isl version isl-0.22.1-GMP\r\n&gt;\r\n&gt;    GGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\r\n&gt;    Compiler executable checksum: c0c95c0b4209efec1c1892d5ff24030b\r\n&gt;    COLLECT_GCC_OPTIONS=&#39;-v&#39; &#39;-o&#39; &#39;inexistent/sample.out&#39; &#39;-mtune=generic&#39; &#39;-march=x86-64&#39;\r\n&gt;     as -v --64 -o /tmp/ccP79PwB.o /tmp/ccjdCTrC.s\r\n&gt;    GNU assembler version 2.34 (x86_64-linux-gnu) using BFD version (GNU Binutils for Ubuntu) 2.34\r\n&gt;    COMPILER_PATH=/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/\r\n&gt;    LIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../:/lib/:/usr/lib/\r\n&gt;    COLLECT_GCC_OPTIONS=&#39;-v&#39; &#39;-o&#39; &#39;inexistent/sample.out&#39; &#39;-mtune=generic&#39; &#39;-march=x86-64&#39;\r\n&gt;     /usr/lib/gcc/x86_64-linux-gnu/9/collect2 -plugin /usr/lib/gcc/x86_64-linux-gnu/9/liblto_plugin.so -plugin-opt=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper -plugin-opt=-fresolution=/tmp/cc3Q3S6A.res -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s -plugin-opt=-pass-through=-lc -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s --build-id --eh-frame-hdr -m elf_x86_64 --hash-style=gnu --as-needed -dynamic-linker /lib64/ld-linux-x86-64.so.2 -pie -z now -z relro -o inexistent/sample.out /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/Scrt1.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crti.o /usr/lib/gcc/x86_64-linux-gnu/9/crtbeginS.o -L/usr/lib/gcc/x86_64-linux-gnu/9 -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib -L/lib/x86_64-linux-gnu -L/lib/../lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-linux-gnu/9/../../.. /tmp/ccP79PwB.o -lgcc --push-state --as-needed -lgcc_s --po\r\n&gt;    p-state -lc -lgcc --push-state --as-needed -lgcc_s --pop-state /usr/lib/gcc/x86_64-linux-gnu/9/crtendS.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crtn.o\r\n&gt;    /usr/bin/ld: cannot open output file inexistent/sample.out: No such file or directory\r\n&gt;    collect2: error: ld returned 1 exit status\r\n&gt;    ```\r\n\r\n\r\nIt becomes obvious that **not *GCC* is having trouble creating the output directory, but the *GNU Linker*** ([\\[Man7\\]: LD(1)](https://man7.org/linux/man-pages/man1/ld.1.html)) which *GCC* invokes under the hood (other linkers might behave differently).\r\n\r\nAs a side note, not only the linker is experiencing this issue, but also the preprocessor, compiler, assembler - which is visible by passing to *GCC* **one of** ***-E***, ***-S***, ***-c*** flags.\r\n\r\nI&#39;ve browsed a bit *LD*&#39;s documentation, but I couldn&#39;t find a way to make it create the intermediary directories.\r\n\r\n**The fix** (workaround) **is simple: create the directory** (`mkdir -p`) **before invoking *GCC* (G++)**.&lt;br&gt;\r\nIt&#39;s a common practice (which is most visible inside *Makefile*s).\r\n","title":"g++ cannot open output file ..\\..\\..\\native\\win32\\native.dll: No such file or directory","body":"<p>Apparently, <em>GCC</em> (or <em>G++</em>) needs the output (might also apply to others: dump, auxiliary, ...) directory to exist<sup><em><strong>*</strong></em></sup>.<br>\nBy default, the output directory is <em>CWD</em> (<em><strong>.</strong></em>), which exists (in most cases).</p>\n<p>Here's a dummy examle.</p>\n<p><em>sample.c</em>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\n\n\nint main()\n{\n    printf(&quot;Dummy text\\n&quot;);\n    return 0;\n}\n</code></pre>\n<blockquote>\n<pre class=\"lang-bash prettyprint-override\"><code>(qaic-env) [cfati@cfati-5510-0:/mnt/e/Work/Dev/StackOverflow/q073923282]&gt; ~/sopr.sh\n### Set shorter prompt to better fit when pasted in StackOverflow (or other) pages ###\n\n[064bit prompt]&gt; ls\nsample.c\n[064bit prompt]&gt;\n[064bit prompt]&gt; OUT_DIR=.\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n[064bit prompt]&gt; ./sample.out\nDummy text\n[064bit prompt]&gt;\n[064bit prompt]&gt; OUT_DIR=inner0\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n/usr/bin/ld: cannot open output file inner0/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n[064bit prompt]&gt; mkdir -p ${OUT_DIR}\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n[064bit prompt]&gt; ./inner0/sample.out\nDummy text\n[064bit prompt]&gt;\n[064bit prompt]&gt; OUT_DIR=inner1/inner11\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n/usr/bin/ld: cannot open output file inner1/inner11/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n[064bit prompt]&gt; mkdir inner1\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n/usr/bin/ld: cannot open output file inner1/inner11/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n[064bit prompt]&gt; mkdir -p ${OUT_DIR}\n[064bit prompt]&gt; gcc -o ${OUT_DIR}/sample.out sample.c\n[064bit prompt]&gt; ./inner1/inner11/sample.out\nDummy text\n</code></pre>\n</blockquote>\n<p><a href=\"https://gcc.gnu.org/onlinedocs/gcc/Overall-Options.html#Overall-Options\" rel=\"nofollow noreferrer\">[GNU.GCC]: Options Controlling the Kind of Output</a> (<em>-o file</em> section) doesn't mention anything about this (which makes it strange, as <em>GCC</em> is well documented).<br>\nAlso, the error message suggest otherwise:</p>\n<blockquote>\n<pre><code>/usr/bin/ld: cannot open output file inner0/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n</code></pre>\n</blockquote>\n<p>Going further (passing <em><strong>-v</strong></em> (verbose) option to <em>GCC</em>):</p>\n<blockquote>\n<pre><code>[064bit prompt]&gt; gcc -v -o inexistent/sample.out sample.c\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper\nOFFLOAD_TARGET_NAMES=nvptx-none:hsa\nOFFLOAD_TARGET_DEFAULT=1\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 9.4.0-1ubuntu1~20.04.1' --with-bugurl=file:///usr/share/doc/gcc-9/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++,gm2 --prefix=/usr --with-gcc-major-version-only --program-suffix=-9 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib=auto --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none=/build/gcc-9-Av3uEd/gcc-9-9.4.0/debian/tmp-nvptx/usr,hsa --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu \n--host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 9.4.0 (Ubuntu 9.4.0-1ubuntu1~20.04.1)\nCOLLECT_GCC_OPTIONS='-v' '-o' 'inexistent/sample.out' '-mtune=generic' '-march=x86-64'\n /usr/lib/gcc/x86_64-linux-gnu/9/cc1 -quiet -v -imultiarch x86_64-linux-gnu sample.c -quiet -dumpbase sample.c -mtune=generic -march=x86-64 -auxbase sample -version -fasynchronous-unwind-tables -fstack-protector-strong -Wformat -Wformat-security -fstack-clash-protection -fcf-protection -o /tmp/ccjdCTrC.s\nGNU C17 (Ubuntu 9.4.0-1ubuntu1~20.04.1) version 9.4.0 (x86_64-linux-gnu)\n        compiled by GNU C version 9.4.0, GMP version 6.2.0, MPFR version 4.0.2, MPC version 1.1.0, isl version isl-0.22.1-GMP\n\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nignoring nonexistent directory &quot;/usr/local/include/x86_64-linux-gnu&quot;\nignoring nonexistent directory &quot;/usr/lib/gcc/x86_64-linux-gnu/9/include-fixed&quot;\nignoring nonexistent directory &quot;/usr/lib/gcc/x86_64-linux-gnu/9/../../../../x86_64-linux-gnu/include&quot;\n#include &quot;...&quot; search starts here:\n#include &lt;...&gt; search starts here:\n /usr/lib/gcc/x86_64-linux-gnu/9/include\n /usr/local/include\n /usr/include/x86_64-linux-gnu\n /usr/include\nEnd of search list.\nGNU C17 (Ubuntu 9.4.0-1ubuntu1~20.04.1) version 9.4.0 (x86_64-linux-gnu)\n        compiled by GNU C version 9.4.0, GMP version 6.2.0, MPFR version 4.0.2, MPC version 1.1.0, isl version isl-0.22.1-GMP\n\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nCompiler executable checksum: c0c95c0b4209efec1c1892d5ff24030b\nCOLLECT_GCC_OPTIONS='-v' '-o' 'inexistent/sample.out' '-mtune=generic' '-march=x86-64'\n as -v --64 -o /tmp/ccP79PwB.o /tmp/ccjdCTrC.s\nGNU assembler version 2.34 (x86_64-linux-gnu) using BFD version (GNU Binutils for Ubuntu) 2.34\nCOMPILER_PATH=/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/\nLIBRARY_PATH=/usr/lib/gcc/x86_64-linux-gnu/9/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-linux-gnu/9/../../../:/lib/:/usr/lib/\nCOLLECT_GCC_OPTIONS='-v' '-o' 'inexistent/sample.out' '-mtune=generic' '-march=x86-64'\n /usr/lib/gcc/x86_64-linux-gnu/9/collect2 -plugin /usr/lib/gcc/x86_64-linux-gnu/9/liblto_plugin.so -plugin-opt=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper -plugin-opt=-fresolution=/tmp/cc3Q3S6A.res -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s -plugin-opt=-pass-through=-lc -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-through=-lgcc_s --build-id --eh-frame-hdr -m elf_x86_64 --hash-style=gnu --as-needed -dynamic-linker /lib64/ld-linux-x86-64.so.2 -pie -z now -z relro -o inexistent/sample.out /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/Scrt1.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crti.o /usr/lib/gcc/x86_64-linux-gnu/9/crtbeginS.o -L/usr/lib/gcc/x86_64-linux-gnu/9 -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu -L/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib -L/lib/x86_64-linux-gnu -L/lib/../lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/../lib -L/usr/lib/gcc/x86_64-linux-gnu/9/../../.. /tmp/ccP79PwB.o -lgcc --push-state --as-needed -lgcc_s --po\np-state -lc -lgcc --push-state --as-needed -lgcc_s --pop-state /usr/lib/gcc/x86_64-linux-gnu/9/crtendS.o /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/crtn.o\n/usr/bin/ld: cannot open output file inexistent/sample.out: No such file or directory\ncollect2: error: ld returned 1 exit status\n</code></pre>\n</blockquote>\n<p>It becomes obvious that <strong>not <em>GCC</em> is having trouble creating the output directory, but the <em>GNU Linker</em></strong> (<a href=\"https://man7.org/linux/man-pages/man1/ld.1.html\" rel=\"nofollow noreferrer\">[Man7]: LD(1)</a>) which <em>GCC</em> invokes under the hood (other linkers might behave differently).</p>\n<p>As a side note, not only the linker is experiencing this issue, but also the preprocessor, compiler, assembler - which is visible by passing to <em>GCC</em> <strong>one of</strong> <em><strong>-E</strong></em>, <em><strong>-S</strong></em>, <em><strong>-c</strong></em> flags.</p>\n<p>I've browsed a bit <em>LD</em>'s documentation, but I couldn't find a way to make it create the intermediary directories.</p>\n<p><strong>The fix</strong> (workaround) <strong>is simple: create the directory</strong> (<code>mkdir -p</code>) <strong>before invoking <em>GCC</em> (G++)</strong>.<br>\nIt's a common practice (which is most visible inside <em>Makefile</em>s).</p>\n"}],"owner":{"account_id":26112234,"reputation":1,"user_id":19805959,"display_name":"59273661 186"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665227040,"creation_date":1664682866,"question_id":73923282,"body_markdown":"```\r\nREM Create the header with javac -h . ClassName.java\r\nREM Remember to set your JAVA_HOME env var\r\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_HelloWorldJNI.cpp -o com_baeldung_jni_HelloWorldJNI.o\r\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_ExampleParametersJNI.cpp -o com_baeldung_jni_ExampleParametersJNI.o\r\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_ExampleObjectsJNI.cpp -o com_baeldung_jni_ExampleObjectsJNI.o\r\ng++ -shared -o ..\\..\\..\\native\\win32\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias\r\n```\r\n\r\nOutput :\r\n\r\n```\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;REM Create the header with javac -h . ClassName.java \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;REM Remember to set your JAVA_HOME env var \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_HelloWorldJNI.cpp -o com_baeldung_jni_HelloWorldJNI.o \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_ExampleParametersJNI.cpp -o com_baeldung_jni_ExampleParametersJNI.o \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_ExampleObjectsJNI.cpp -o com_baeldung_jni_ExampleObjectsJNI.o \r\n\r\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -shared -o ..\\..\\..\\native\\win32\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias \r\n**d:/mingw/bin/../lib/gcc/mingw32/6.3.0/../../../../mingw32/bin/ld.exe: cannot open output file ..\\..\\..\\native\\win32\\native.dll: No such file or directory**\r\ncollect2.exe: error: ld returned 1 exit status\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n[enter image description here][1]\r\n\r\nWhat&#39;s wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dmZik.png","title":"g++ cannot open output file ..\\..\\..\\native\\win32\\native.dll: No such file or directory","body":"<pre><code>REM Create the header with javac -h . ClassName.java\nREM Remember to set your JAVA_HOME env var\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_HelloWorldJNI.cpp -o com_baeldung_jni_HelloWorldJNI.o\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_ExampleParametersJNI.cpp -o com_baeldung_jni_ExampleParametersJNI.o\ng++ -c -I &quot;%JAVA_HOME%\\include&quot; -I &quot;%JAVA_HOME%\\include\\win32&quot; com_baeldung_jni_ExampleObjectsJNI.cpp -o com_baeldung_jni_ExampleObjectsJNI.o\ng++ -shared -o ..\\..\\..\\native\\win32\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias\n</code></pre>\n<p>Output :</p>\n<pre><code>D:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;REM Create the header with javac -h . ClassName.java \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;REM Remember to set your JAVA_HOME env var \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_HelloWorldJNI.cpp -o com_baeldung_jni_HelloWorldJNI.o \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_ExampleParametersJNI.cpp -o com_baeldung_jni_ExampleParametersJNI.o \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -c -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include&quot; -I &quot;D:\\Program Files\\Java\\jdk1.8.0_101\\include\\win32&quot; com_baeldung_jni_ExampleObjectsJNI.cpp -o com_baeldung_jni_ExampleObjectsJNI.o \n\nD:\\work\\git\\project\\tutorials-master\\java-native\\src\\main\\cpp&gt;g++ -shared -o ..\\..\\..\\native\\win32\\native.dll com_baeldung_jni_HelloWorldJNI.o com_baeldung_jni_ExampleParametersJNI.o com_baeldung_jni_ExampleObjectsJNI.o -Wl,--add-stdcall-alias \n**d:/mingw/bin/../lib/gcc/mingw32/6.3.0/../../../../mingw32/bin/ld.exe: cannot open output file ..\\..\\..\\native\\win32\\native.dll: No such file or directory**\ncollect2.exe: error: ld returned 1 exit status\n\nProcess finished with exit code 1\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dmZik.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>What's wrong?</p>\n"},{"tags":["java","java-stream","comparator","collectors","groupingby"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665226948,"creation_date":1665221133,"answer_id":73995830,"question_id":73995793,"body_markdown":"To sort each list of `StudentDTO` by `score` in descending order, you can use the following comparator:\r\n\r\n```\r\nComparator.comparingInt(StudentDTO::getScore).reversed()\r\n```\r\n\r\nAnd to apply sorting while collecting the result, you can use collector [`collectingAndThen()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)) as the downstream of `groupingBy()`\r\n\r\n```\r\nList&lt;Student&gt; students = List.of(student1, student2, student3);\r\n\r\nMap&lt;Integer, List&lt;StudentDTO&gt;&gt; map = students.stream()\r\n    .collect(Collectors.groupingBy(\r\n        Student::getAge,\r\n        Collectors.collectingAndThen(\r\n            Collectors.mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\r\n                Collectors.toList()),\r\n            list -&gt; { list.sort(Comparator.comparingInt(StudentDTO::getScore).reversed()); return list; }\r\n        )\r\n    ));\r\n```\r\n**Note:** writing the code against concrete implementation makes it inflexible, you might want to learn what are the benefits of using abstractions. See https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"Java-Stream - How to apply sorting while using Collector groupingBy","body":"<p>To sort each list of <code>StudentDTO</code> by <code>score</code> in descending order, you can use the following comparator:</p>\n<pre><code>Comparator.comparingInt(StudentDTO::getScore).reversed()\n</code></pre>\n<p>And to apply sorting while collecting the result, you can use collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a> as the downstream of <code>groupingBy()</code></p>\n<pre><code>List&lt;Student&gt; students = List.of(student1, student2, student3);\n\nMap&lt;Integer, List&lt;StudentDTO&gt;&gt; map = students.stream()\n    .collect(Collectors.groupingBy(\n        Student::getAge,\n        Collectors.collectingAndThen(\n            Collectors.mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\n                Collectors.toList()),\n            list -&gt; { list.sort(Comparator.comparingInt(StudentDTO::getScore).reversed()); return list; }\n        )\n    ));\n</code></pre>\n<p><strong>Note:</strong> writing the code against concrete implementation makes it inflexible, you might want to learn what are the benefits of using abstractions. See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665225876,"creation_date":1665225876,"answer_id":73996345,"question_id":73995793,"body_markdown":"Try this.  (I added `import static java.util.stream.Collectors.*;`)\r\n\r\n    Map&lt;Integer, List&lt;StudentDTO&gt;&gt; map = list.stream()\r\n        .collect(groupingBy(Student::getAge,\r\n            mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\r\n                collectingAndThen(toList(),\r\n                    x -&gt; x.stream()\r\n                        .sorted(Comparator.comparing(StudentDTO::getScore).reversed())\r\n                        .collect(toList())))));\r\n","title":"Java-Stream - How to apply sorting while using Collector groupingBy","body":"<p>Try this.  (I added <code>import static java.util.stream.Collectors.*;</code>)</p>\n<pre><code>Map&lt;Integer, List&lt;StudentDTO&gt;&gt; map = list.stream()\n    .collect(groupingBy(Student::getAge,\n        mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\n            collectingAndThen(toList(),\n                x -&gt; x.stream()\n                    .sorted(Comparator.comparing(StudentDTO::getScore).reversed())\n                    .collect(toList())))));\n</code></pre>\n"}],"owner":{"account_id":19917235,"reputation":61,"user_id":14593897,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73995830,"answer_count":2,"score":1,"last_activity_date":1665226948,"creation_date":1665220709,"question_id":73995793,"body_markdown":"I&#39;m using `Collectors.groupingBy` to group may objects into list. Examples are as follows:\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Student student1 = new Student(98,&quot;man&quot;,&quot;CHEN&quot;,20);\r\n            Student student2 = new Student(100,&quot;man&quot;,&quot;PETER&quot;,20);\r\n            Student student3 = new Student(100,&quot;man&quot;,&quot;TMAC&quot;,21);\r\n            ArrayList&lt;Student&gt; list = Lists.newArrayList(student1, student2, student3);\r\n\r\n            Map&lt;Integer, List&lt;StudentDTO&gt;&gt; map = list.stream()\r\n                .collect(Collectors.groupingBy(Student::getAge,\r\n                    Collectors.mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\r\n                        Collectors.toList())\r\n                ));\r\n\r\n            System.out.println(map);\r\n        }\r\n    \r\n        @Data\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        public static class Student {\r\n            private Integer score;\r\n            private String sex;\r\n            private String name;\r\n            private Integer age;\r\n        }\r\n    \r\n        @Data\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        public static class StudentDTO {\r\n            private Integer score;\r\n            private String name;\r\n        }\r\n    \r\n    }\r\n\r\n*Output:*\r\n```\r\n{20=[Test.StudentDTO(score=98, name=CHEN),\r\n     Test.StudentDTO(score=100, name=PETER)],\r\n 21=[Test.StudentDTO(score=100, name=TMAC)]}\r\n```\r\n\r\nBut my goal is to sort `StudentDTO` by `score` using `Comparator.comparing` with streams. How can I achieve this?\r\n\r\n*Desired output:*\r\n```\r\n{20=[Test.StudentDTO(score=100, name=PETER),\r\n     Test.StudentDTO(score=98, name=CHEN)],\r\n 21=[Test.StudentDTO(score=100, name=TMAC)]}\r\n```","title":"Java-Stream - How to apply sorting while using Collector groupingBy","body":"<p>I'm using <code>Collectors.groupingBy</code> to group may objects into list. Examples are as follows:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Student student1 = new Student(98,&quot;man&quot;,&quot;CHEN&quot;,20);\n        Student student2 = new Student(100,&quot;man&quot;,&quot;PETER&quot;,20);\n        Student student3 = new Student(100,&quot;man&quot;,&quot;TMAC&quot;,21);\n        ArrayList&lt;Student&gt; list = Lists.newArrayList(student1, student2, student3);\n\n        Map&lt;Integer, List&lt;StudentDTO&gt;&gt; map = list.stream()\n            .collect(Collectors.groupingBy(Student::getAge,\n                Collectors.mapping(e -&gt; new StudentDTO(e.getScore(), e.getName()),\n                    Collectors.toList())\n            ));\n\n        System.out.println(map);\n    }\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public static class Student {\n        private Integer score;\n        private String sex;\n        private String name;\n        private Integer age;\n    }\n\n    @Data\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public static class StudentDTO {\n        private Integer score;\n        private String name;\n    }\n\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{20=[Test.StudentDTO(score=98, name=CHEN),\n     Test.StudentDTO(score=100, name=PETER)],\n 21=[Test.StudentDTO(score=100, name=TMAC)]}\n</code></pre>\n<p>But my goal is to sort <code>StudentDTO</code> by <code>score</code> using <code>Comparator.comparing</code> with streams. How can I achieve this?</p>\n<p><em>Desired output:</em></p>\n<pre><code>{20=[Test.StudentDTO(score=100, name=PETER),\n     Test.StudentDTO(score=98, name=CHEN)],\n 21=[Test.StudentDTO(score=100, name=TMAC)]}\n</code></pre>\n"},{"tags":["java","android","exif","android-exifinterface"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1665390310,"post_id":73996441,"comment_id":130680487,"body_markdown":"Documentation on that page says: *&quot;Note: It is recommended to use the AndroidX [ExifInterface Library](https://developer.android.com/reference/androidx/exifinterface/media/ExifInterface) since it is a superset of this class. In addition to the functionalities of this class, it supports parsing extra metadata such as exposure and data compression information as well as setting extra metadata such as GPS and datetime information.&quot;* It seems like most of your missing tags can be found there.","body":"Documentation on that page says: <i>&quot;Note: It is recommended to use the AndroidX <a href=\"https://developer.android.com/reference/androidx/exifinterface/media/ExifInterface\" rel=\"nofollow noreferrer\">ExifInterface Library</a> since it is a superset of this class. In addition to the functionalities of this class, it supports parsing extra metadata such as exposure and data compression information as well as setting extra metadata such as GPS and datetime information.&quot;</i> It seems like most of your missing tags can be found there."},{"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"score":0,"creation_date":1665404160,"post_id":73996441,"comment_id":130685107,"body_markdown":"Oh thank you very much @HaraldK it seems you are right indeed i will be using this !","body":"Oh thank you very much @HaraldK it seems you are right indeed i will be using this !"}],"owner":{"account_id":12023734,"reputation":2598,"user_id":11665178,"display_name":"Tom3652"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665226864,"creation_date":1665226864,"question_id":73996441,"body_markdown":"Hello i am trying to write custom values in EXIF of my `.jpg` images but i can&#39;t find some of the `TAG` that would be equivalent to the following : \r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nI have tried to find the `TAG`s here : https://developer.android.com/reference/android/media/ExifInterface#TAG_FOCAL_PLANE_X_RESOLUTION \r\n\r\nBut could not find the matching TAG / code to save these values using `Exif.saveAttributes(TAG, value)`\r\n\r\nThanks in advance\r\n\r\n  [1]: https://i.stack.imgur.com/Vksnl.png\r\n  [2]: https://i.stack.imgur.com/mXAKK.png","title":"Find TAGS for custom values in exif Android","body":"<p>Hello i am trying to write custom values in EXIF of my <code>.jpg</code> images but i can't find some of the <code>TAG</code> that would be equivalent to the following :</p>\n<p><a href=\"https://i.stack.imgur.com/Vksnl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vksnl.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/mXAKK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXAKK.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried to find the <code>TAG</code>s here : <a href=\"https://developer.android.com/reference/android/media/ExifInterface#TAG_FOCAL_PLANE_X_RESOLUTION\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/ExifInterface#TAG_FOCAL_PLANE_X_RESOLUTION</a></p>\n<p>But could not find the matching TAG / code to save these values using <code>Exif.saveAttributes(TAG, value)</code></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665226041,"post_id":73996301,"comment_id":130653191,"body_markdown":"`C:\\Users\\Crank\\dev\\dock\\target&gt;` ... maybe `cd..`?","body":"<code>C:\\Users\\Crank\\dev\\dock\\target&gt;</code> ... maybe <code>cd..</code>?"},{"owner":{"account_id":26370194,"reputation":21,"user_id":20025005,"display_name":"Dmitriy Kandalov"},"score":0,"creation_date":1665226505,"post_id":73996301,"comment_id":130653281,"body_markdown":"can you give more detail?","body":"can you give more detail?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665226689,"post_id":73996301,"comment_id":130653315,"body_markdown":"I mean you are (executing docker/referring) in(/to) wrong folder!? :)","body":"I mean you are (executing docker/referring) in(/to) wrong folder!? :)"}],"answers":[{"tags":[],"owner":{"account_id":25783342,"reputation":301,"user_id":19528631,"display_name":"Anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665226573,"creation_date":1665226573,"answer_id":73996413,"question_id":73996301,"body_markdown":"    PS C:\\Users\\Crank\\dev\\dock\\target&gt; docker build -t dock_image .docker build -t dock_image .\r\n\r\nYou are executing the build from &quot;C:\\Users\\Crank\\dev\\dock\\target&quot; and then copying files from &quot;target/*.jar&quot;:\r\n\r\n    COPY target/*.jar app.jar\r\n\r\nThat means you are trying to copy from the directory &quot;C:\\Users\\Crank\\dev\\dock\\target\\target\\&quot;, which doesn&#39;t exist according to the build log:\r\n\r\n    lstat /var/lib/docker/tmp/buildkit-mount4242467964/target: no such file or directory\r\n\r\nJust try changing the COPY directive in your Dockerfile:\r\n\r\n    FROM amazoncorretto:11-alpine-jdk\r\n    COPY *.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n\r\n","title":"I can&#39;t build a docker image java","body":"<pre><code>PS C:\\Users\\Crank\\dev\\dock\\target&gt; docker build -t dock_image .docker build -t dock_image .\n</code></pre>\n<p>You are executing the build from &quot;C:\\Users\\Crank\\dev\\dock\\target&quot; and then copying files from &quot;target/*.jar&quot;:</p>\n<pre><code>COPY target/*.jar app.jar\n</code></pre>\n<p>That means you are trying to copy from the directory &quot;C:\\Users\\Crank\\dev\\dock\\target\\target&quot;, which doesn't exist according to the build log:</p>\n<pre><code>lstat /var/lib/docker/tmp/buildkit-mount4242467964/target: no such file or directory\n</code></pre>\n<p>Just try changing the COPY directive in your Dockerfile:</p>\n<pre><code>FROM amazoncorretto:11-alpine-jdk\nCOPY *.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":26370194,"reputation":21,"user_id":20025005,"display_name":"Dmitriy Kandalov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73996413,"answer_count":1,"score":0,"last_activity_date":1665226573,"creation_date":1665225478,"question_id":73996301,"body_markdown":"When trying to assemble an image, I get an error\r\n\r\n    [+] Building 0.8s (2/3)\r\n     =&gt; [internal] load build definition from Dockerfile                                                               0.0s\r\n    [+] Building 1.0s (2/3)\r\n     =&gt; [internal] load build definition from Dockerfile                                                               0.0s\r\n    [+] Building 2.1s (7/7) FINISHED\r\n     =&gt; [internal] load build definition from Dockerfile                                                               0.0s\r\n     =&gt; =&gt; transferring dockerfile: 31B                                                                                0.0so\r\n     =&gt; [internal] load .dockerignore                                                                                  0.0s\r\n     =&gt; =&gt; transferring context: 2B                                                                                    0.0so\r\n     =&gt; [internal] load metadata for docker.io/library/amazoncorretto:11-alpine-jdk                                    1.9s\r\n     =&gt; [auth] library/amazoncorretto:pull token for registry-1.docker.io                                              0.0s\r\n     =&gt; [internal] load build context                                                                                  0.0s\r\n     =&gt; =&gt; transferring context: 2B                                                                                    0.0s\r\n     =&gt; CACHED [1/2] FROM docker.io/library/amazoncorretto:11-alpine-jdk@sha256:c9b2999792a19feebe9ccd5e7afd1e1aee857  0.0s\r\n     =&gt; ERROR [2/2] COPY target/*.jar app.jar                                                                          0.0s\r\n    ------\r\n     &gt; [2/2] COPY target/*.jar app.jar:\r\n    ------\r\n    lstat /var/lib/docker/tmp/buildkit-mount4242467964/target: no such file or directory\r\n    PS C:\\Users\\Crank\\dev\\dock\\target&gt; docker build -t dock_image .docker build -t dock_image .\r\n\r\n\r\nDockerfile contains \r\n```lang-dockerfile\r\nFROM amazoncorretto:11-alpine-jdk\r\nCOPY target/*.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```","title":"I can&#39;t build a docker image java","body":"<p>When trying to assemble an image, I get an error</p>\n<pre><code>[+] Building 0.8s (2/3)\n =&gt; [internal] load build definition from Dockerfile                                                               0.0s\n[+] Building 1.0s (2/3)\n =&gt; [internal] load build definition from Dockerfile                                                               0.0s\n[+] Building 2.1s (7/7) FINISHED\n =&gt; [internal] load build definition from Dockerfile                                                               0.0s\n =&gt; =&gt; transferring dockerfile: 31B                                                                                0.0so\n =&gt; [internal] load .dockerignore                                                                                  0.0s\n =&gt; =&gt; transferring context: 2B                                                                                    0.0so\n =&gt; [internal] load metadata for docker.io/library/amazoncorretto:11-alpine-jdk                                    1.9s\n =&gt; [auth] library/amazoncorretto:pull token for registry-1.docker.io                                              0.0s\n =&gt; [internal] load build context                                                                                  0.0s\n =&gt; =&gt; transferring context: 2B                                                                                    0.0s\n =&gt; CACHED [1/2] FROM docker.io/library/amazoncorretto:11-alpine-jdk@sha256:c9b2999792a19feebe9ccd5e7afd1e1aee857  0.0s\n =&gt; ERROR [2/2] COPY target/*.jar app.jar                                                                          0.0s\n------\n &gt; [2/2] COPY target/*.jar app.jar:\n------\nlstat /var/lib/docker/tmp/buildkit-mount4242467964/target: no such file or directory\nPS C:\\Users\\Crank\\dev\\dock\\target&gt; docker build -t dock_image .docker build -t dock_image .\n</code></pre>\n<p>Dockerfile contains</p>\n<pre class=\"lang-dockerfile prettyprint-override\"><code>FROM amazoncorretto:11-alpine-jdk\nCOPY target/*.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n"},{"tags":["java","datetime","java-8","java-time"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1454518886,"post_id":35183146,"comment_id":58083380,"body_markdown":"Well you have to start by working out what time zone you care about. A &quot;milliseconds since epoch&quot; value gives you an instant in time... that could refer to different dates in different time zones. Bear in mind that `java.util.Date` was never really a date in the way that `LocalDate` is - it was an instant in time as well.","body":"Well you have to start by working out what time zone you care about. A &quot;milliseconds since epoch&quot; value gives you an instant in time... that could refer to different dates in different time zones. Bear in mind that <code>java.util.Date</code> was never really a date in the way that <code>LocalDate</code> is - it was an instant in time as well."},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":2,"creation_date":1454519077,"post_id":35183146,"comment_id":58083516,"body_markdown":"Check this question: http://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate, which covers the conversion of `java.util.Date` into `LocalDate`","body":"Check this question: <a href=\"http://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate\" title=\"convert java util date to java time localdate\">stackoverflow.com/questions/21242110/&hellip;</a>, which covers the conversion of <code>java.util.Date</code> into <code>LocalDate</code>"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":4,"creation_date":1490606846,"post_id":35183146,"comment_id":73169610,"body_markdown":"Note: This Q&amp;A is also valuable for those trying to convert `File.lastModified()` (epoch millis) to `LocalDate(Time)`.","body":"Note: This Q&amp;A is also valuable for those trying to convert <code>File.lastModified()</code> (epoch millis) to <code>LocalDate(Time)</code>."},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":0,"creation_date":1612860091,"post_id":35183146,"comment_id":116891433,"body_markdown":"Does this answer your question? [How to get milliseconds from LocalDateTime in Java 8](https://stackoverflow.com/questions/23944370/how-to-get-milliseconds-from-localdatetime-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23944370/how-to-get-milliseconds-from-localdatetime-in-java-8\">How to get milliseconds from LocalDateTime in Java 8</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1612869202,"post_id":35183146,"comment_id":116895275,"body_markdown":"@GeorgeSiggouroglou That questions asks the opposite of this question, so it is not a duplicate.","body":"@GeorgeSiggouroglou That questions asks the opposite of this question, so it is not a duplicate."},{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":0,"creation_date":1612907489,"post_id":35183146,"comment_id":116912175,"body_markdown":"@MarkRotteveel you are correct, I hurried, I removed the vote to close.","body":"@MarkRotteveel you are correct, I hurried, I removed the vote to close."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":8,"creation_date":1454536815,"post_id":35186993,"comment_id":58094333,"body_markdown":"+1 for being explicit about time zone. If omitted, the JVM’s current default time zone is implicitly applied in determining the date. For any given moment the date varies around the world by time zone as a new day dawns earlier in the east.","body":"+1 for being explicit about time zone. If omitted, the JVM’s current default time zone is implicitly applied in determining the date. For any given moment the date varies around the world by time zone as a new day dawns earlier in the east."}],"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"comment_count":1,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1454531087,"creation_date":1454531087,"answer_id":35186993,"question_id":35183146,"body_markdown":"You can start with [Instant.ofEpochMilli(long)][1]:\r\n\r\n    LocalDate date =\r\n      Instant.ofEpochMilli(startDateLong)\r\n      .atZone(ZoneId.systemDefault())\r\n      .toLocalDate();\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>You can start with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-\" rel=\"noreferrer\">Instant.ofEpochMilli(long)</a>:</p>\n\n<pre><code>LocalDate date =\n  Instant.ofEpochMilli(startDateLong)\n  .atZone(ZoneId.systemDefault())\n  .toLocalDate();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":2,"creation_date":1454574019,"post_id":35187046,"comment_id":58108051,"body_markdown":"+1 from me for more detailed explanation. By the way, even a non-system zone can change (by tzupdater-tool or by jdk-change) and hence produce different results before and after.","body":"+1 from me for more detailed explanation. By the way, even a non-system zone can change (by tzupdater-tool or by jdk-change) and hence produce different results before and after."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1454577221,"post_id":35187046,"comment_id":58109938,"body_markdown":"@Meno Hochschild: I wasn’t focusing on hardcoded timezones but rather comparing with timezones specified by the user, read from a configuration file or environment variables, where the programmer naturally assumes that the may change. Hardcoded timezones are indeed much like the system default; the programmer is tempted into thinking they were never changing…","body":"@Meno Hochschild: I wasn’t focusing on hardcoded timezones but rather comparing with timezones specified by the user, read from a configuration file or environment variables, where the programmer naturally assumes that the may change. Hardcoded timezones are indeed much like the system default; the programmer is tempted into thinking they were never changing…"},{"owner":{"account_id":4376692,"reputation":5272,"user_id":3569545,"display_name":"Demigod"},"score":1,"creation_date":1532093884,"post_id":35187046,"comment_id":89857529,"body_markdown":"Can I use `LocalDateTime.ofEpochSecond()` with, for example `milliseconds / 1000` ?","body":"Can I use <code>LocalDateTime.ofEpochSecond()</code> with, for example <code>milliseconds &#47; 1000</code> ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1532100101,"post_id":35187046,"comment_id":89861706,"body_markdown":"@Demigod you can, when you think specifying a `ZoneOffset` is better than specifying a `ZoneId` (you can not use `ZoneId.systemDefault()` anymore, or at least not without converting it for a particular `Instant`, but when you have an `Instant`, why not use `LocalDateTime.ofInstant`…).","body":"@Demigod you can, when you think specifying a <code>ZoneOffset</code> is better than specifying a <code>ZoneId</code> (you can not use <code>ZoneId.systemDefault()</code> anymore, or at least not without converting it for a particular <code>Instant</code>, but when you have an <code>Instant</code>, why not use <code>LocalDateTime.ofInstant</code>…)."},{"owner":{"account_id":4376692,"reputation":5272,"user_id":3569545,"display_name":"Demigod"},"score":0,"creation_date":1532188473,"post_id":35187046,"comment_id":89884852,"body_markdown":"@holger, I have a long (millis). Why ZoneId.systemDefault() cannot be used?","body":"@holger, I have a long (millis). Why ZoneId.systemDefault() cannot be used?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1532450256,"post_id":35187046,"comment_id":89975954,"body_markdown":"@Demigod `LocalDateTime.ofEpochSecond(…)` requires an actual `ZoneOffset`, but  `ZoneId.systemDefault()` returns a `ZoneId`. A `ZoneId` can map to different offsets, depending on the point of time you’re referring to. That’s what `LocalDateTime.ofInstant` does for you, converting the specified `ZoneId` according to the provided `Instant`.","body":"@Demigod <code>LocalDateTime.ofEpochSecond(…)</code> requires an actual <code>ZoneOffset</code>, but  <code>ZoneId.systemDefault()</code> returns a <code>ZoneId</code>. A <code>ZoneId</code> can map to different offsets, depending on the point of time you’re referring to. That’s what <code>LocalDateTime.ofInstant</code> does for you, converting the specified <code>ZoneId</code> according to the provided <code>Instant</code>."},{"owner":{"account_id":1114026,"reputation":193,"user_id":1103841,"display_name":"Mihai Morcov"},"score":1,"creation_date":1541684254,"post_id":35187046,"comment_id":93305623,"body_markdown":"I came hoping to find a more readable solution than this, what a downgrade from the old java.util approach....","body":"I came hoping to find a more readable solution than this, what a downgrade from the old java.util approach...."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1541687028,"post_id":35187046,"comment_id":93307295,"body_markdown":"@MihaiMorcov it’s exactly the problem of the “old java.util approach” that it didn’t handle the semantic difference between a *local* data-time and a long value representing an *instant*.","body":"@MihaiMorcov it’s exactly the problem of the “old java.util approach” that it didn’t handle the semantic difference between a <i>local</i> data-time and a long value representing an <i>instant</i>."},{"owner":{"account_id":220145,"reputation":3091,"user_id":477399,"accept_rate":53,"display_name":"PlexQ"},"score":6,"creation_date":1546642288,"post_id":35187046,"comment_id":94929853,"body_markdown":"Epoch is defined as UTC and should be therefore be timezone independent, so the ZoneId should always be UTC.","body":"Epoch is defined as UTC and should be therefore be timezone independent, so the ZoneId should always be UTC."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1546852298,"post_id":35187046,"comment_id":94975389,"body_markdown":"@PlexQ The specified timezone is not relevant for the Epoch, which indeed is timezone independent, but for the semantics of the resulting `LocalDate` or `LocalDateTime`. You can specify any timezone you want, as long as it is consistent with the subsequent use of these result objects. Think of what happens when you deal with multiple objects created by different methods. The typical use cases for *local* date or datetimes incorporate the system default timezone, e.g. `LocalDateTime.now()` ≈ `LocalDateTime.ofInstant(Instant.ofEpochMilli(System.currentTimeMillis()), ZoneId.systemDefault())`…","body":"@PlexQ The specified timezone is not relevant for the Epoch, which indeed is timezone independent, but for the semantics of the resulting <code>LocalDate</code> or <code>LocalDateTime</code>. You can specify any timezone you want, as long as it is consistent with the subsequent use of these result objects. Think of what happens when you deal with multiple objects created by different methods. The typical use cases for <i>local</i> date or datetimes incorporate the system default timezone, e.g. <code>LocalDateTime.now()</code> ≈ <code>LocalDateTime.ofInstant(Instant.ofEpochMilli(System.currentT&zwnj;&#8203;imeMillis()), ZoneId.systemDefault())</code>…"},{"owner":{"account_id":426689,"reputation":191,"user_id":808032,"accept_rate":40,"display_name":"fjjiaboming"},"score":0,"creation_date":1556164605,"post_id":35187046,"comment_id":98346179,"body_markdown":"Some ZoneID miss nanosecond and millisecond.","body":"Some ZoneID miss nanosecond and millisecond."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1556183938,"post_id":35187046,"comment_id":98353824,"body_markdown":"@fjjiaboming there are no nanoseconds in the epochmillis in the first place. For any other loss of precision, name an actual example.","body":"@fjjiaboming there are no nanoseconds in the epochmillis in the first place. For any other loss of precision, name an actual example."},{"owner":{"account_id":4979946,"reputation":192,"user_id":9205647,"display_name":"Pryftan"},"score":0,"creation_date":1593190522,"post_id":35187046,"comment_id":110702943,"body_markdown":"@MihaiMorcov Agreed. What a nightmare. I am converting some really old code and I wanted a simple way to use the long value of a file last mod date and I have to do all this? A real shame.","body":"@MihaiMorcov Agreed. What a nightmare. I am converting some really old code and I wanted a simple way to use the long value of a file last mod date and I have to do all this? A real shame."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1593193618,"post_id":35187046,"comment_id":110704272,"body_markdown":"@Pryftan “to use the long value of a file last mod date” is a very unspecific task. Are you sure you actually need a `LocalDate`? Maybe whatever you actually want to do with the long value, can be done with the `Instant` created via `Instant.ofEpochMilli(longValue)` too.","body":"@Pryftan “to use the long value of a file last mod date” is a very unspecific task. Are you sure you actually need a <code>LocalDate</code>? Maybe whatever you actually want to do with the long value, can be done with the <code>Instant</code> created via <code>Instant.ofEpochMilli(longValue)</code> too."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":14,"down_vote_count":0,"up_vote_count":592,"is_accepted":true,"score":592,"last_activity_date":1662472275,"creation_date":1454531270,"answer_id":35187046,"question_id":35183146,"body_markdown":"If you have the milliseconds since the Epoch and want to convert them to a local date using the current local timezone, you can use [`Instant.ofEpochMilli(long epochMilli)`][1]\r\n\r\n    LocalDate date =\r\n        Instant.ofEpochMilli(longValue).atZone(ZoneId.systemDefault()).toLocalDate();\r\nbut keep in mind that even the system’s default time zone may change, thus the same `long` value may produce different result in subsequent runs, even on the same machine.\r\n\r\nFurther, keep in mind that `LocalDate`, unlike `java.util.Date`, really represents a date, not a date and time.\r\n\r\nOtherwise, you may use a `LocalDateTime`:\r\n\r\n    LocalDateTime date =\r\n        LocalDateTime.ofInstant(Instant.ofEpochMilli(longValue), ZoneId.systemDefault());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>If you have the milliseconds since the Epoch and want to convert them to a local date using the current local timezone, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochMilli-long-\" rel=\"noreferrer\"><code>Instant.ofEpochMilli(long epochMilli)</code></a></p>\n<pre><code>LocalDate date =\n    Instant.ofEpochMilli(longValue).atZone(ZoneId.systemDefault()).toLocalDate();\n</code></pre>\n<p>but keep in mind that even the system’s default time zone may change, thus the same <code>long</code> value may produce different result in subsequent runs, even on the same machine.</p>\n<p>Further, keep in mind that <code>LocalDate</code>, unlike <code>java.util.Date</code>, really represents a date, not a date and time.</p>\n<p>Otherwise, you may use a <code>LocalDateTime</code>:</p>\n<pre><code>LocalDateTime date =\n    LocalDateTime.ofInstant(Instant.ofEpochMilli(longValue), ZoneId.systemDefault());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4534566,"reputation":4099,"user_id":3684132,"accept_rate":63,"display_name":"BAERUS"},"score":11,"creation_date":1496224605,"post_id":43318605,"comment_id":75569740,"body_markdown":"I think you should at least explain what the 86400000L stands for.","body":"I think you should at least explain what the 86400000L stands for."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":5,"creation_date":1496303715,"post_id":43318605,"comment_id":75608597,"body_markdown":"I thought it was very easy to spot that it’s the number of milliseconds in a day.","body":"I thought it was very easy to spot that it’s the number of milliseconds in a day."},{"owner":{"account_id":4534566,"reputation":4099,"user_id":3684132,"accept_rate":63,"display_name":"BAERUS"},"score":14,"creation_date":1496306447,"post_id":43318605,"comment_id":75610351,"body_markdown":"For some it is, and I figured that only that would make sense, but without recalculation how many ms a day really has, I wouldn&#39;t be sure. Just speaking for myself, I don&#39;t know this number so well that I automatically know what it stands for.","body":"For some it is, and I figured that only that would make sense, but without recalculation how many ms a day really has, I wouldn&#39;t be sure. Just speaking for myself, I don&#39;t know this number so well that I automatically know what it stands for."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1496320976,"post_id":43318605,"comment_id":75620904,"body_markdown":"Note also that the accepted answer really is the best answer, it just looks overwhelming. My simple hack just my be enough in many case. It’s a pity that `java.time` does not include `DateTimeConstants` as Joda did.","body":"Note also that the accepted answer really is the best answer, it just looks overwhelming. My simple hack just my be enough in many case. It’s a pity that <code>java.time</code> does not include <code>DateTimeConstants</code> as Joda did."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":4,"creation_date":1521381054,"post_id":43318605,"comment_id":85696877,"body_markdown":"`java.util.concurrent.TimeUnit.MILLISECONDS.toDays(startDateLong)`","body":"<code>java.util.concurrent.TimeUnit.MILLISECONDS.toDays(startDateL&zwnj;&#8203;ong)</code>"}],"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"comment_count":5,"down_vote_count":5,"up_vote_count":12,"is_accepted":false,"score":7,"last_activity_date":1491814014,"creation_date":1491814014,"answer_id":43318605,"question_id":35183146,"body_markdown":"Timezones and stuff aside, a very simple alternative to `new Date(startDateLong)` could be `LocalDate.ofEpochDay(startDateLong / 86400000L)`","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>Timezones and stuff aside, a very simple alternative to <code>new Date(startDateLong)</code> could be <code>LocalDate.ofEpochDay(startDateLong / 86400000L)</code></p>\n"},{"comments":[{"owner":{"account_id":244340,"reputation":8860,"user_id":517073,"accept_rate":87,"display_name":"Stepan Yakovenko"},"score":0,"creation_date":1545947992,"post_id":50985848,"comment_id":94741232,"body_markdown":"new Timestamp(ts).toLocalDateTime().toLocalDate()","body":"new Timestamp(ts).toLocalDateTime().toLocalDate()"},{"owner":{"account_id":220145,"reputation":3091,"user_id":477399,"accept_rate":53,"display_name":"PlexQ"},"score":9,"creation_date":1546642395,"post_id":50985848,"comment_id":94929871,"body_markdown":"I mean - if you don&#39;t mind importing javal.sql.Timestamp, which, given Java&#39;s monolithic nature I suppose is fine because it&#39;s just all part of the JVM... but feels a bit smelly, but I still like it better as it recognized epoch is fundamentally in UTC.","body":"I mean - if you don&#39;t mind importing javal.sql.Timestamp, which, given Java&#39;s monolithic nature I suppose is fine because it&#39;s just all part of the JVM... but feels a bit smelly, but I still like it better as it recognized epoch is fundamentally in UTC."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1568127083,"post_id":50985848,"comment_id":102171547,"body_markdown":"The `Timestamp` class is poorly designed and long outdated. Your code will use the JVM’s time zone setting, but since this setting can be changed by another part of your program or another program running in the same JVM, we cannot be quite sure what it is.","body":"The <code>Timestamp</code> class is poorly designed and long outdated. Your code will use the JVM’s time zone setting, but since this setting can be changed by another part of your program or another program running in the same JVM, we cannot be quite sure what it is."},{"owner":{"account_id":2315538,"reputation":3123,"user_id":2032701,"accept_rate":100,"display_name":"Ruslan"},"score":1,"creation_date":1569509675,"post_id":50985848,"comment_id":102628011,"body_markdown":"It&#39;s always better to be explicit about which timezone is used. Using the old java.sql.Timestamp has the drawback of having the system timezone applied implicitly which usually causes confusion among developers.","body":"It&#39;s always better to be explicit about which timezone is used. Using the old java.sql.Timestamp has the drawback of having the system timezone applied implicitly which usually causes confusion among developers."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651650581,"post_id":50985848,"comment_id":127410950,"body_markdown":"@PlexQ Java is not monolithic anymore. To use `java.sql.Timestamp` when using modules, you have to declare a dependency to the [module `java.sql`](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/module-summary.html), which will in turn introduce dependencies to `java.xml` and `java.logging`.","body":"@PlexQ Java is not monolithic anymore. To use <code>java.sql.Timestamp</code> when using modules, you have to declare a dependency to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/module-summary.html\" rel=\"nofollow noreferrer\">module <code>java.sql</code></a>, which will in turn introduce dependencies to <code>java.xml</code> and <code>java.logging</code>."},{"owner":{"account_id":220145,"reputation":3091,"user_id":477399,"accept_rate":53,"display_name":"PlexQ"},"score":0,"creation_date":1651759503,"post_id":50985848,"comment_id":127443473,"body_markdown":"@Holger True, though I haven&#39;t seen anyone building on anything above Java 11 in the wild yet.","body":"@Holger True, though I haven&#39;t seen anyone building on anything above Java 11 in the wild yet."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651760583,"post_id":50985848,"comment_id":127443971,"body_markdown":"@PlexQ well, the modularization has been introduced in Java&#160;9.","body":"@PlexQ well, the modularization has been introduced in Java 9."}],"tags":[],"owner":{"account_id":4821010,"reputation":697,"user_id":3891698,"accept_rate":62,"display_name":"Abhijeet"},"comment_count":7,"down_vote_count":8,"up_vote_count":27,"is_accepted":false,"score":19,"last_activity_date":1529662936,"creation_date":1529662936,"answer_id":50985848,"question_id":35183146,"body_markdown":"I think I have a better answer. \r\n\r\n    new Timestamp(longEpochTime).toLocalDateTime();","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>I think I have a better answer. </p>\n\n<pre><code>new Timestamp(longEpochTime).toLocalDateTime();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5665950,"reputation":4149,"user_id":4482132,"display_name":"Ketan R"},"score":2,"creation_date":1576824213,"post_id":52816552,"comment_id":105028408,"body_markdown":"This does not really relate much to the asked question","body":"This does not really relate much to the asked question"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1576843364,"post_id":52816552,"comment_id":105035963,"body_markdown":"@KetanR, I disagree. The question is &quot;how to obtain a `LocalDate` from `epoch-millis`&quot;, and I show how, using `java.sql.Date` for shorthand. This approach makes sense in code that&#39;s already dealing with JDBC in some capacity, and it works just fine. If you still not convinced, explain how is it not related to initial question.","body":"@KetanR, I disagree. The question is &quot;how to obtain a <code>LocalDate</code> from <code>epoch-millis</code>&quot;, and I show how, using <code>java.sql.Date</code> for shorthand. This approach makes sense in code that&#39;s already dealing with JDBC in some capacity, and it works just fine. If you still not convinced, explain how is it not related to initial question."},{"owner":{"account_id":5665950,"reputation":4149,"user_id":4482132,"display_name":"Ketan R"},"score":2,"creation_date":1577094760,"post_id":52816552,"comment_id":105088152,"body_markdown":"If you read the question, it says &quot;external API that returns me dates as longs&quot; and you are explaining how this conversion can be done if you are receiving long date from SQL. Your answer does explain a very specific case of the date conversion but its not really relevant to question that has been ask ed.Your explanation could be a valid answer to some other related quesiton though.","body":"If you read the question, it says &quot;external API that returns me dates as longs&quot; and you are explaining how this conversion can be done if you are receiving long date from SQL. Your answer does explain a very specific case of the date conversion but its not really relevant to question that has been ask ed.Your explanation could be a valid answer to some other related quesiton though."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1577125755,"post_id":52816552,"comment_id":105100873,"body_markdown":"@KetanR, if one receives long date from SQL, I&#39;d advise to change his schema so he no longer receives dates in such form. However, if one receives dates as millis-timestamps from elsewhere (the external API), and immediately uses these dates to make JDBC queries, then `java.sql.Date` approach is among the shortest available, code-wise, and I&#39;d say it&#39;s not all that useful to go though `Instant` with all the intermediate temporal objects when the end result is the same.","body":"@KetanR, if one receives long date from SQL, I&#39;d advise to change his schema so he no longer receives dates in such form. However, if one receives dates as millis-timestamps from elsewhere (the external API), and immediately uses these dates to make JDBC queries, then <code>java.sql.Date</code> approach is among the shortest available, code-wise, and I&#39;d say it&#39;s not all that useful to go though <code>Instant</code> with all the intermediate temporal objects when the end result is the same."},{"owner":{"account_id":5665950,"reputation":4149,"user_id":4482132,"display_name":"Ketan R"},"score":2,"creation_date":1577367540,"post_id":52816552,"comment_id":105152837,"body_markdown":"As i have already said and is evident from your latest explanation, your answer is correct but not for the question at hand  Question says: &quot;I am interested in converting the point in time represented by the long to a LocalDate in my current local timezone.\n&quot; your answer tells: &quot;receive dates as millis-timestamps, and immediately use these dates to make JDBC queries&quot;. I dont understand what is not clear here ?","body":"As i have already said and is evident from your latest explanation, your answer is correct but not for the question at hand  Question says: &quot;I am interested in converting the point in time represented by the long to a LocalDate in my current local timezone. &quot; your answer tells: &quot;receive dates as millis-timestamps, and immediately use these dates to make JDBC queries&quot;. I dont understand what is not clear here ?"}],"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"comment_count":5,"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1539605652,"creation_date":1539605652,"answer_id":52816552,"question_id":35183146,"body_markdown":"In a specific case where your epoch seconds timestamp comes from SQL or is related to SQL somehow, you can obtain it like this:\r\n\r\n    long startDateLong = &lt;...&gt;\r\n\r\n    LocalDate theDate = new java.sql.Date(startDateLong).toLocalDate();","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>In a specific case where your epoch seconds timestamp comes from SQL or is related to SQL somehow, you can obtain it like this:</p>\n\n<pre><code>long startDateLong = &lt;...&gt;\n\nLocalDate theDate = new java.sql.Date(startDateLong).toLocalDate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5555252,"reputation":830,"user_id":4406873,"display_name":"Santhosh Hirekerur"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582855465,"creation_date":1582853444,"answer_id":60444089,"question_id":35183146,"body_markdown":"replace now.getTime() with your long value. \r\n```\r\n//GET UTC time for current date\r\n\t\tDate now= new Date();\r\n        //LocalDateTime utcDateTimeForCurrentDateTime = Instant.ofEpochMilli(now.getTime()).atZone(ZoneId.of(&quot;UTC&quot;)).toLocalDateTime();\r\n        LocalDate localDate = Instant.ofEpochMilli(now.getTime()).atZone(ZoneId.of(&quot;UTC&quot;)).toLocalDate();\r\n        DateTimeFormatter dTF2 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;);\r\n\t\tSystem.out.println(&quot; formats as &quot; + dTF2.format(utcDateTimeForCurrentDateTime));","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>replace now.getTime() with your long value. </p>\n\n<pre><code>//GET UTC time for current date\n        Date now= new Date();\n        //LocalDateTime utcDateTimeForCurrentDateTime = Instant.ofEpochMilli(now.getTime()).atZone(ZoneId.of(\"UTC\")).toLocalDateTime();\n        LocalDate localDate = Instant.ofEpochMilli(now.getTime()).atZone(ZoneId.of(\"UTC\")).toLocalDate();\n        DateTimeFormatter dTF2 = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm\");\n        System.out.println(\" formats as \" + dTF2.format(utcDateTimeForCurrentDateTime));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":1,"creation_date":1680704641,"post_id":71428162,"comment_id":133943602,"body_markdown":"This works perfectly well as it takes leap years into account.","body":"This works perfectly well as it takes leap years into account."}],"tags":[],"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1646932355,"creation_date":1646932355,"answer_id":71428162,"question_id":35183146,"body_markdown":"A simple version based on [@Michael Piefel answer](https://stackoverflow.com/a/43318605/5006866):\r\n\r\n```java\r\nLocalDate myDate = LocalDate.ofEpochDay(Duration.ofMillis(epochMillis).toDays());\r\n```","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>A simple version based on <a href=\"https://stackoverflow.com/a/43318605/5006866\">@Michael Piefel answer</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate myDate = LocalDate.ofEpochDay(Duration.ofMillis(epochMillis).toDays());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14636270,"reputation":133,"user_id":10570318,"display_name":"BeatEngine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665226299,"creation_date":1665226299,"answer_id":73996394,"question_id":35183146,"body_markdown":"I have tested this alternative solution for LocalDateTime:\r\n\r\n    public static LocalDateTime increaseByMillis(final LocalDateTime ldt, final long millis)\r\n        {\r\n            return LocalDateTime.ofInstant(Instant.ofEpochMilli(ldt.toInstant(ZoneOffset.UTC).toEpochMilli()+millis), ZoneId.of(ZoneOffset.UTC.getId()));\r\n        }\r\n\r\nTest:\r\n\r\n    LocalDateTime test = LocalDateTime.now();\r\n            LocalDateTime increased = MyUtilsAbc.increaseByMillis(test, 1000);\r\n    \r\n            Assert.assertEquals(&quot;Increase of LocalDateTime not working (anymore)!&quot;, test.toEpochSecond(ZoneOffset.UTC) +1, increased.toEpochSecond(ZoneOffset.UTC));","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>I have tested this alternative solution for LocalDateTime:</p>\n<pre><code>public static LocalDateTime increaseByMillis(final LocalDateTime ldt, final long millis)\n    {\n        return LocalDateTime.ofInstant(Instant.ofEpochMilli(ldt.toInstant(ZoneOffset.UTC).toEpochMilli()+millis), ZoneId.of(ZoneOffset.UTC.getId()));\n    }\n</code></pre>\n<p>Test:</p>\n<pre><code>LocalDateTime test = LocalDateTime.now();\n        LocalDateTime increased = MyUtilsAbc.increaseByMillis(test, 1000);\n\n        Assert.assertEquals(&quot;Increase of LocalDateTime not working (anymore)!&quot;, test.toEpochSecond(ZoneOffset.UTC) +1, increased.toEpochSecond(ZoneOffset.UTC));\n</code></pre>\n"}],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317856,"favorite_count":0,"down_vote_count":2,"up_vote_count":327,"accepted_answer_id":35187046,"answer_count":8,"score":325,"last_activity_date":1665226299,"creation_date":1454518706,"question_id":35183146,"body_markdown":"I have an external API that returns me dates as `long`s, represented as milliseconds since the beginning of the Epoch.\r\n\r\nWith the old style Java API, I would simply construct a `Date` from it with\r\n\r\n    Date myDate = new Date(startDateLong)\r\n\r\nWhat is the equivalent in Java 8&#39;s `LocalDate`/`LocalDateTime` classes?\r\n\r\nI am interested in converting the point in time represented by the `long` to a `LocalDate` in my current local timezone.","title":"How can I create a Java 8 LocalDate from a long Epoch time in Milliseconds?","body":"<p>I have an external API that returns me dates as <code>long</code>s, represented as milliseconds since the beginning of the Epoch.</p>\n\n<p>With the old style Java API, I would simply construct a <code>Date</code> from it with</p>\n\n<pre><code>Date myDate = new Date(startDateLong)\n</code></pre>\n\n<p>What is the equivalent in Java 8's <code>LocalDate</code>/<code>LocalDateTime</code> classes?</p>\n\n<p>I am interested in converting the point in time represented by the <code>long</code> to a <code>LocalDate</code> in my current local timezone.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664851344,"creation_date":1664851344,"answer_id":73942665,"question_id":73942634,"body_markdown":"You have the same port, because PostgreSQL is using port 5432, server.port is to install the port for spring to run, you can change server.port to another port eg: 80, 8080,...\r\nyou should add this line to your configuration to load the PostgreSQL driver\r\n\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\nThe last line should be changed to the following:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect","title":"HikariPool-1 Exception during pool initialization","body":"<p>You have the same port, because PostgreSQL is using port 5432, server.port is to install the port for spring to run, you can change server.port to another port eg: 80, 8080,...\nyou should add this line to your configuration to load the PostgreSQL driver</p>\n<pre><code>spring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n<p>The last line should be changed to the following:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26552141,"reputation":61,"user_id":20181285,"display_name":"Sk Nur Hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665226298,"creation_date":1665226298,"answer_id":73996393,"question_id":73942634,"body_markdown":"try this properties:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/&lt;database name&gt;\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=&lt;db password&gt;","title":"HikariPool-1 Exception during pool initialization","body":"<p>try this properties:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n\nspring.datasource.url=jdbc:postgresql://localhost:5432/&lt;database name&gt;\nspring.datasource.username=postgres\nspring.datasource.password=&lt;db password&gt;\n</code></pre>\n"}],"owner":{"account_id":26520960,"reputation":1,"user_id":20154638,"display_name":"ShawnPei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665226298,"creation_date":1664850876,"question_id":73942634,"body_markdown":"Hello guys， I am running into this error on my first trial on springboot, and the exception message makes no sense to me, the error message is as follows:\r\n    \r\n    2022-10-03 22:27:15.801 ERROR 22836 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    org.postgresql.util.PSQLException: ��������: ���ݿ� &quot;db_name&quot; ������\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:173) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \r\n    And my application.properties is like this:\r\n    server.port=5432\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/db_name\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=password\r\n    \r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgresSQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n","title":"HikariPool-1 Exception during pool initialization","body":"<p>Hello guys， I am running into this error on my first trial on springboot, and the exception message makes no sense to me, the error message is as follows:</p>\n<pre><code>2022-10-03 22:27:15.801 ERROR 22836 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: ��������: ���ݿ� &quot;db_name&quot; ������\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:173) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.7.jar:42.3.7]\n\nAnd my application.properties is like this:\nserver.port=5432\nspring.datasource.url=jdbc:postgresql://localhost:5432/db_name\nspring.datasource.username=postgres\nspring.datasource.password=password\n\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgresSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n"},{"tags":["java","ofbiz"],"comments":[{"owner":{"account_id":293721,"reputation":591,"user_id":597189,"display_name":"JacquesLeRoux"},"score":0,"creation_date":1664459607,"post_id":73866182,"comment_id":130480782,"body_markdown":"Hi Maxwel, I&#39;m not sure to understand. &quot;amountToPay&quot; must be a BigDecimal passed to createTransaction(). So you want to check amountToPay upstream of a call to createTransaction() to see if not a string would be passed there, right?","body":"Hi Maxwel, I&#39;m not sure to understand. &quot;amountToPay&quot; must be a BigDecimal passed to createTransaction(). So you want to check amountToPay upstream of a call to createTransaction() to see if not a string would be passed there, right?"},{"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"score":0,"creation_date":1664733391,"post_id":73866182,"comment_id":130534505,"body_markdown":"yes @JacquesLeRoux that is my question.","body":"yes @JacquesLeRoux that is my question."}],"answers":[{"tags":[],"owner":{"account_id":293721,"reputation":591,"user_id":597189,"display_name":"JacquesLeRoux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665224918,"creation_date":1665224918,"answer_id":73996239,"question_id":73866182,"body_markdown":"It depends of what is your call stack at the moment. I guess you use a service to call createTransaction. Then you can check that in the service. Else we need to know what is the call stack at the moment. \r\n\r\nHTH","title":"Check value in field before proceeding to delagator.create()","body":"<p>It depends of what is your call stack at the moment. I guess you use a service to call createTransaction. Then you can check that in the service. Else we need to know what is the call stack at the moment.</p>\n<p>HTH</p>\n"}],"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665224918,"creation_date":1664274872,"question_id":73866182,"body_markdown":"I have GenericValue called value that I use to put transaction details before proceeding to the delegator.create(makevalue) inside try-catch block\r\n\r\nI want to check the amount inside the delegator before that try-catch block if it&#39;s really a BigDecimal or a String was put inside and return the error to the client before I get that database error.\r\n\r\nHow can I get that amount field inside that makevalue GenericValue?\r\n\r\n```java\r\npublic static Map&lt;String, Object&gt; createTransaction(Delegator delegator, String caseIds, BigDecimal amountToPay,String createdBy) {\r\n\t\t\r\n\t\tString caseId = caseIds.replaceAll(&quot;,&quot;, &quot;&quot;);\r\n\t\tGenericValue caseELI = getEntityValue(delegator,&quot;Cases&quot;, &quot;caseId&quot;, caseId);\r\n\t\tGenericValue makeValue = delegator.makeValue(&quot;AccountTransaction&quot;);\r\n\t\t\tLong accountTransactionId = delegator.getNextSeqIdLong(&quot;AccountTransaction&quot;);\r\n\t\t\t\r\n\t\t\tmakeValue.put(&quot;accountTransactionId&quot;, accountTransactionId);\r\n\t\t\tmakeValue.put(&quot;caseId&quot;,caseId);\r\n\t\t\tmakeValue.put(&quot;clientId&quot;, caseELI.getString(&quot;clientId&quot;));\r\n\t\t\tmakeValue.put(&quot;amount&quot;,amountToPay);\r\n\t\t\tmakeValue.put(&quot;isCash&quot;,&quot;Y&quot;);\r\n\t\t\tmakeValue.put(&quot;isPosted&quot;,&quot;Y&quot;);\r\n\t\t\tmakeValue.put(&quot;createdBy&quot;,createdBy);\r\n\r\n\t\t\t\r\n\r\n\r\n\t\t\ttry {\r\n\t\t\t\tdelegator.create(makeValue);\r\n\t\t\t} catch(GenericEntityException e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t  Map&lt;String, Object&gt; result = ServiceUtil.returnSuccess(&quot;Transaction processed successfully&quot;);\r\n\t\t  return result;\r\n\t}\r\n```\r\n\r\n","title":"Check value in field before proceeding to delagator.create()","body":"<p>I have GenericValue called value that I use to put transaction details before proceeding to the delegator.create(makevalue) inside try-catch block</p>\n<p>I want to check the amount inside the delegator before that try-catch block if it's really a BigDecimal or a String was put inside and return the error to the client before I get that database error.</p>\n<p>How can I get that amount field inside that makevalue GenericValue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, Object&gt; createTransaction(Delegator delegator, String caseIds, BigDecimal amountToPay,String createdBy) {\n        \n        String caseId = caseIds.replaceAll(&quot;,&quot;, &quot;&quot;);\n        GenericValue caseELI = getEntityValue(delegator,&quot;Cases&quot;, &quot;caseId&quot;, caseId);\n        GenericValue makeValue = delegator.makeValue(&quot;AccountTransaction&quot;);\n            Long accountTransactionId = delegator.getNextSeqIdLong(&quot;AccountTransaction&quot;);\n            \n            makeValue.put(&quot;accountTransactionId&quot;, accountTransactionId);\n            makeValue.put(&quot;caseId&quot;,caseId);\n            makeValue.put(&quot;clientId&quot;, caseELI.getString(&quot;clientId&quot;));\n            makeValue.put(&quot;amount&quot;,amountToPay);\n            makeValue.put(&quot;isCash&quot;,&quot;Y&quot;);\n            makeValue.put(&quot;isPosted&quot;,&quot;Y&quot;);\n            makeValue.put(&quot;createdBy&quot;,createdBy);\n\n            \n\n\n            try {\n                delegator.create(makeValue);\n            } catch(GenericEntityException e){\n                e.printStackTrace();\n            }\n\n          Map&lt;String, Object&gt; result = ServiceUtil.returnSuccess(&quot;Transaction processed successfully&quot;);\n          return result;\n    }\n</code></pre>\n"},{"tags":["java","android","progress-bar","android-drawable"],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665224582,"creation_date":1665219875,"question_id":73995702,"body_markdown":"I was using layout to display splash screen but is loading with delay and is having a time period when the screen is white now I implement to show the splash screen from drawable with background image, but I can&#39;t find a way to visualise a progress bar.\r\nThis is the theme, and I am including the splash screen background image. Is has a way to add item as progress bar some way. I try some ways with drawable but I didn&#39;t see it on the screen. Thank you\r\n   \r\n\r\n   \r\n\r\n         &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n            &lt;style name=&quot;Theme.AppName.SplashScreen&quot; parent=&quot;Theme.MaterialComponents.NoActionBar&quot;&gt;\r\n                &lt;!-- Primary brand color. --&gt;\r\n                &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n                &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n                &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n                &lt;!-- Secondary brand color. --&gt;\r\n                &lt;item name=&quot;colorSecondary&quot;&gt;@color/red&lt;/item&gt;\r\n                &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/red&lt;/item&gt;\r\n                &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n                &lt;!-- Status bar color. --&gt;\r\n                &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n                &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/screen&lt;/item&gt;\r\n        \r\n            &lt;/style&gt;\r\n        \r\n        &lt;/resources&gt;\r\n    \r\n    \r\n    \r\n    \r\n\r\nProgressBar Drawable.\r\n\r\n    &lt;rotate\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:fromDegrees=&quot;270&quot;\r\n        android:toDegrees=&quot;270&quot;&gt;\r\n    \r\n        &lt;!--styling the progress bar--&gt;\r\n        &lt;shape\r\n            android:innerRadiusRatio=&quot;2.5&quot;\r\n            android:shape=&quot;ring&quot;\r\n            android:thickness=&quot;8dp&quot;\r\n            android:useLevel=&quot;true&quot;&gt;\r\n            &lt;gradient\r\n                android:angle=&quot;0&quot;\r\n                android:endColor=&quot;@color/red&quot;\r\n                android:startColor=&quot;#000000&quot;\r\n                android:type=&quot;sweep&quot;\r\n                android:useLevel=&quot;false&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    \r\n    &lt;/rotate&gt;","title":"Adding progress bar to theme from drawable file","body":"<p>I was using layout to display splash screen but is loading with delay and is having a time period when the screen is white now I implement to show the splash screen from drawable with background image, but I can't find a way to visualise a progress bar.\nThis is the theme, and I am including the splash screen background image. Is has a way to add item as progress bar some way. I try some ways with drawable but I didn't see it on the screen. Thank you</p>\n<pre><code>     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n        &lt;style name=&quot;Theme.AppName.SplashScreen&quot; parent=&quot;Theme.MaterialComponents.NoActionBar&quot;&gt;\n            &lt;!-- Primary brand color. --&gt;\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n            &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n            &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n            &lt;!-- Secondary brand color. --&gt;\n            &lt;item name=&quot;colorSecondary&quot;&gt;@color/red&lt;/item&gt;\n            &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/red&lt;/item&gt;\n            &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n            &lt;!-- Status bar color. --&gt;\n            &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/screen&lt;/item&gt;\n    \n        &lt;/style&gt;\n    \n    &lt;/resources&gt;\n</code></pre>\n<p>ProgressBar Drawable.</p>\n<pre><code>&lt;rotate\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:fromDegrees=&quot;270&quot;\n    android:toDegrees=&quot;270&quot;&gt;\n\n    &lt;!--styling the progress bar--&gt;\n    &lt;shape\n        android:innerRadiusRatio=&quot;2.5&quot;\n        android:shape=&quot;ring&quot;\n        android:thickness=&quot;8dp&quot;\n        android:useLevel=&quot;true&quot;&gt;\n        &lt;gradient\n            android:angle=&quot;0&quot;\n            android:endColor=&quot;@color/red&quot;\n            android:startColor=&quot;#000000&quot;\n            android:type=&quot;sweep&quot;\n            android:useLevel=&quot;false&quot; /&gt;\n    &lt;/shape&gt;\n\n&lt;/rotate&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665212627,"creation_date":1665212627,"answer_id":73995059,"question_id":73994930,"body_markdown":"that&#39;s because you have an infinite loop\r\n```\r\ndo {\r\n            bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\r\n            months ++; \r\n        }\r\n        while (bal &gt; 0);\r\n```\r\nthis loop could only end if your balance reaches 0 \r\n\r\nwhich it wont if the interest per month is larger than your withdraw.\r\n\r\nthis happens when your balance is larger than 100000  (500/(0.06/12.0))","title":"Why can&#39;t my program process when I input a number above 99999","body":"<p>that's because you have an infinite loop</p>\n<pre><code>do {\n            bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\n            months ++; \n        }\n        while (bal &gt; 0);\n</code></pre>\n<p>this loop could only end if your balance reaches 0</p>\n<p>which it wont if the interest per month is larger than your withdraw.</p>\n<p>this happens when your balance is larger than 100000  (500/(0.06/12.0))</p>\n"},{"tags":[],"owner":{"account_id":19972669,"reputation":79,"user_id":14637775,"display_name":"Victor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665224494,"creation_date":1665224494,"answer_id":73996190,"question_id":73994930,"body_markdown":"actually when you input a number above 100000,the monthly interest has exceeded the monthly withdraw amount,so your money will grow more and more until the bar overflow.\r\nbut the max value of the bar = MAX_VALUE = 1.7976931348623157e+308 is too huge\r\n\r\nthe algorithm to calculate the bar\r\n```\r\nbal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\r\n```\r\ngrows too slowly(It takes about 2000 loops to increase tenfold),but init value you input(eg:1 billion) is 10^300 times worse than the Double.MAX_VALUE,that means the cpu needs to compute about 10^300 to overflow.the time of compute will contines to the end of the world\r\n\r\nAfter the bal value is set to overflow, bal=infinite&gt;0, any addition or subtraction operation on bal at this time is bal, so it will never exit the loop\r\n","title":"Why can&#39;t my program process when I input a number above 99999","body":"<p>actually when you input a number above 100000,the monthly interest has exceeded the monthly withdraw amount,so your money will grow more and more until the bar overflow.\nbut the max value of the bar = MAX_VALUE = 1.7976931348623157e+308 is too huge</p>\n<p>the algorithm to calculate the bar</p>\n<pre><code>bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\n</code></pre>\n<p>grows too slowly(It takes about 2000 loops to increase tenfold),but init value you input(eg:1 billion) is 10^300 times worse than the Double.MAX_VALUE,that means the cpu needs to compute about 10^300 to overflow.the time of compute will contines to the end of the world</p>\n<p>After the bal value is set to overflow, bal=infinite&gt;0, any addition or subtraction operation on bal at this time is bal, so it will never exit the loop</p>\n"}],"owner":{"account_id":25397583,"reputation":13,"user_id":19207614,"display_name":"Zeyar Htoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73995059,"answer_count":2,"score":1,"last_activity_date":1665224494,"creation_date":1665211076,"question_id":73994930,"body_markdown":"I am trying to create a simple program where it calculates how much time I have left considering my only expense is 500 each month and I can only put an initial amount one time. But when I start inputting a number larger than 99999 for the initial value, the program keeps buffering and do not load anymore. I have tried changing data types such as long but it still loads forever. Any logic or idea behind this, I am new to this so please educate me. \r\n\r\n```\r\nimport java.lang.String;\r\nimport java.util.Scanner;\r\n\r\npublic class Lab3 {\r\n    \r\n    public static void main(String[] args) {\r\n        final double WITHDRAW = 500.00; \r\n        final double INTEREST_RATE_PER_MONTH =  0.06/12.0;\r\n        int months = 0;\r\n        int years; \r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter the amount of money you are going to deposit to your Initial Balance:&quot;);\r\n        double bal = in.nextDouble();\r\n\r\n        do {\r\n            bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\r\n            months ++; \r\n        }\r\n        while (bal &gt; 0);\r\n\r\n        years = months / 12; \r\n        \r\n        if (years == 0) {\r\n\r\n            String msg = &quot;&quot;;\r\n            msg = months + &quot; month&quot;;\r\n\r\n            if (months &gt; 1){\r\n                msg = msg + &quot;s&quot;;\r\n                System.out.println(msg);\r\n            }\r\n            else\r\n                System.out.println(msg);\r\n        }\r\n        else if (years == 1){\r\n            months = months - 12;\r\n            String msg = &quot;&quot;;\r\n            msg =  years + &quot; year and &quot; +  months + &quot; month&quot;;\r\n\r\n            if (months &gt; 1){\r\n                msg = msg + &quot;s&quot;;\r\n                System.out.println(msg);\r\n            }\r\n            else\r\n                System.out.println(msg);\r\n            \r\n        }\r\n        else if (years &gt; 1){\r\n            months = months % years; \r\n            String msg = &quot;&quot;;\r\n            msg = years + &quot; years and &quot; + months + &quot; month&quot;;\r\n\r\n            if (months &gt; 1){\r\n                msg = msg + &quot;s&quot;;\r\n                System.out.println(msg);\r\n            }\r\n            else\r\n                System.out.println(msg);\r\n        }\r\n        else\r\n            System.out.println(&quot;0 month&quot;);\r\n    }\r\n}\r\n```","title":"Why can&#39;t my program process when I input a number above 99999","body":"<p>I am trying to create a simple program where it calculates how much time I have left considering my only expense is 500 each month and I can only put an initial amount one time. But when I start inputting a number larger than 99999 for the initial value, the program keeps buffering and do not load anymore. I have tried changing data types such as long but it still loads forever. Any logic or idea behind this, I am new to this so please educate me.</p>\n<pre><code>import java.lang.String;\nimport java.util.Scanner;\n\npublic class Lab3 {\n    \n    public static void main(String[] args) {\n        final double WITHDRAW = 500.00; \n        final double INTEREST_RATE_PER_MONTH =  0.06/12.0;\n        int months = 0;\n        int years; \n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Please enter the amount of money you are going to deposit to your Initial Balance:&quot;);\n        double bal = in.nextDouble();\n\n        do {\n            bal += (INTEREST_RATE_PER_MONTH * bal) - WITHDRAW;\n            months ++; \n        }\n        while (bal &gt; 0);\n\n        years = months / 12; \n        \n        if (years == 0) {\n\n            String msg = &quot;&quot;;\n            msg = months + &quot; month&quot;;\n\n            if (months &gt; 1){\n                msg = msg + &quot;s&quot;;\n                System.out.println(msg);\n            }\n            else\n                System.out.println(msg);\n        }\n        else if (years == 1){\n            months = months - 12;\n            String msg = &quot;&quot;;\n            msg =  years + &quot; year and &quot; +  months + &quot; month&quot;;\n\n            if (months &gt; 1){\n                msg = msg + &quot;s&quot;;\n                System.out.println(msg);\n            }\n            else\n                System.out.println(msg);\n            \n        }\n        else if (years &gt; 1){\n            months = months % years; \n            String msg = &quot;&quot;;\n            msg = years + &quot; years and &quot; + months + &quot; month&quot;;\n\n            if (months &gt; 1){\n                msg = msg + &quot;s&quot;;\n                System.out.println(msg);\n            }\n            else\n                System.out.println(msg);\n        }\n        else\n            System.out.println(&quot;0 month&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","mutex"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1665148527,"post_id":73981619,"comment_id":130638220,"body_markdown":"FYI, Your array of flags is _not_ `volatile`. There are no volatile arrays in Java. There are no volatile objects. The only thing that can be volatile is a _variable_ (including member variables, which some people call _fields._)  `volatile&#160;boolean&#160;flag[]` means that if one thread in your code executes `flag=...;` then that assignment is guaranteed to promptly become visible to other threads. But, if a thread assigns a _member_ of the array, `flag[i]=...`, as opposed to assigning the array variable itself, then the `volatile` guarantee does not apply.","body":"FYI, Your array of flags is <i>not</i> <code>volatile</code>. There are no volatile arrays in Java. There are no volatile objects. The only thing that can be volatile is a <i>variable</i> (including member variables, which some people call <i>fields.</i>)  <code>volatile boolean flag[]</code> means that if one thread in your code executes <code>flag=...;</code> then that assignment is guaranteed to promptly become visible to other threads. But, if a thread assigns a <i>member</i> of the array, <code>flag[i]=...</code>, as opposed to assigning the array variable itself, then the <code>volatile</code> guarantee does not apply."},{"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"score":0,"creation_date":1665166721,"post_id":73981619,"comment_id":130644343,"body_markdown":"Nothing in this example assigns another value to `flag`. The textbook authors (whose verbatim code this is) state that the `volatile` is to prevent the compiler from optimizing accesses. This is verbatim textbook code that is presented by the authors as correct code, not pseudocode.","body":"Nothing in this example assigns another value to <code>flag</code>. The textbook authors (whose verbatim code this is) state that the <code>volatile</code> is to prevent the compiler from optimizing accesses. This is verbatim textbook code that is presented by the authors as correct code, not pseudocode."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1665171112,"post_id":73981619,"comment_id":130645469,"body_markdown":"Interesting. Which edition were you reading? `flag` is not `volatile` in the first edition. I would have said that the `volatile` keyword is meaningless because `flag` is never assigned. I tried reading what the _JLS, Java SE 17 Edition_ has to say about `volatile`, but in the limited time I have to spend, I could not decide how it answers either question A, Does the JLS permit the optimization that you are worried about if you take `volatile` out of your example? Or, question B, Does the JLS forbid the optimization if you leave it in?","body":"Interesting. Which edition were you reading? <code>flag</code> is not <code>volatile</code> in the first edition. I would have said that the <code>volatile</code> keyword is meaningless because <code>flag</code> is never assigned. I tried reading what the <i>JLS, Java SE 17 Edition</i> has to say about <code>volatile</code>, but in the limited time I have to spend, I could not decide how it answers either question A, Does the JLS permit the optimization that you are worried about if you take <code>volatile</code> out of your example? Or, question B, Does the JLS forbid the optimization if you leave it in?"},{"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"score":0,"creation_date":1665185610,"post_id":73981619,"comment_id":130648235,"body_markdown":"Second edition (2020). I suspect that the main concern was that `while (!flag[slot]) {}` would turn into `while (true) {}`, but I haven&#39;t actually been able to produce a deadlock this way.","body":"Second edition (2020). I suspect that the main concern was that <code>while (!flag[slot]) {}</code> would turn into <code>while (true) {}</code>, but I haven&#39;t actually been able to produce a deadlock this way."}],"answers":[{"comments":[{"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"score":0,"creation_date":1665134354,"post_id":73984674,"comment_id":130633281,"body_markdown":"What is the mechanism by which &quot;one thread may appear to be favored over others&quot;? I can see the difference in behavior with `Thread.yield()`, but it&#39;s not clear how it&#39;s achieved since threads can only acquire and release the lock in sequence.","body":"What is the mechanism by which &quot;one thread may appear to be favored over others&quot;? I can see the difference in behavior with <code>Thread.yield()</code>, but it&#39;s not clear how it&#39;s achieved since threads can only acquire and release the lock in sequence."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1665141597,"post_id":73984674,"comment_id":130635731,"body_markdown":"The threads 0/1/2 are running lock/unlock many times before 3+ are even started causing an inbalance you&#39;ve observed. Also contributing to this issue is if NUM_THREAD is much bigger than CPU cores - those early threads are hogging cpu and so adding `Thread.yield()` is giving another thread an opportunity to run.","body":"The threads 0/1/2 are running lock/unlock many times before 3+ are even started causing an inbalance you&#39;ve observed. Also contributing to this issue is if NUM_THREAD is much bigger than CPU cores - those early threads are hogging cpu and so adding <code>Thread.yield()</code> is giving another thread an opportunity to run."},{"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"score":0,"creation_date":1665167549,"post_id":73984674,"comment_id":130644579,"body_markdown":"You have edited your answer to provide more detail, but your answer only makes my original question more salient. If you claim the lock is literally *erroneous*, I should be writing to the textbook authors to tell them they have no business writing textbooks about locks. If each thread can only acquire the lock after the preceding thread has released it, it&#39;s not clear how it can release and reacquire the same lock immediately. After a thread tries to acquire the lock, it should spin, rather than try to reacquire the lock multiple times. If you think that&#39;s happening, I&#39;d like to know how.","body":"You have edited your answer to provide more detail, but your answer only makes my original question more salient. If you claim the lock is literally <i>erroneous</i>, I should be writing to the textbook authors to tell them they have no business writing textbooks about locks. If each thread can only acquire the lock after the preceding thread has released it, it&#39;s not clear how it can release and reacquire the same lock immediately. After a thread tries to acquire the lock, it should spin, rather than try to reacquire the lock multiple times. If you think that&#39;s happening, I&#39;d like to know how."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1665168467,"post_id":73984674,"comment_id":130644821,"body_markdown":"The code `while (!flag[slot]) {}` is not going to behave nicely with other thread. It&#39;s like revving a car to maximum when not in gear, or leaving a light on in a room no one is in. You can do it, but it is wasting a resource unnecessarily - in this case, CPU cycles that could be used by other threads.","body":"The code <code>while (!flag[slot]) {}</code> is not going to behave nicely with other thread. It&#39;s like revving a car to maximum when not in gear, or leaving a light on in a room no one is in. You can do it, but it is wasting a resource unnecessarily - in this case, CPU cycles that could be used by other threads."},{"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"score":0,"creation_date":1665171013,"post_id":73984674,"comment_id":130645448,"body_markdown":"This is a basic spinlock. That&#39;s what spinning *is*.","body":"This is a basic spinlock. That&#39;s what spinning <i>is</i>."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1665180646,"post_id":73984674,"comment_id":130647509,"body_markdown":"Your test code appears to work fine. `ALock` does not - it gives unfair results when number of threads exceeds CPUs. Using spin lock is not effective programming.","body":"Your test code appears to work fine. <code>ALock</code> does not - it gives unfair results when number of threads exceeds CPUs. Using spin lock is not effective programming."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665223865,"creation_date":1665132609,"answer_id":73984674,"question_id":73981619,"body_markdown":"Your test code has non-threadsafe update for `COUNT++`. Switch to `COUNT.incrementAndGet()` and:\r\n\r\n    static AtomicLong COUNT = new AtomicLong();\r\n\r\n`ALock` will give unfair results especially when number of threads exceeds CPUs. The implementation relies on high CPU spin loop `while (!flag[slot])` and not all threads are having same opportunity to enter their lock spin-loops - the first few threads are performing more of the `lock-unlock` cycles. Adding `Thread.yield` should balance out the thread access to the boolean array so all threads have similar opportunities to run through their own lock spin loop.\r\n\r\n    while (!flag[slot]) {\r\n       Thread.yield();\r\n    }\r\n\r\nYou should see different results if you try setting `NUM_THREADS` to be same or less than `Runtime.getRuntime().availableProcessors()` - the use of `Thread.yield()` may not make a difference compared to when `NUM_THREADS &gt; Runtime.getRuntime().availableProcessors()`.\r\n\r\nUsing this lock class will lead to slower throughput as at any one time up to `N-1` threads are in high CPU spin loop waiting for the current locking thread to call `unlock()`. In ideal lock implementations, `N-1` waiters won&#39;t be consuming CPU.\r\n\r\nThe `ALock` locking stategy will only work if the exact same number of threads is used as provided `new ALock(NUM_THREADS)` because otherwise the use of `int slot = tail.getAndIncrement() % size;` may result in 2 threads reading from the same `slot`. \r\n\r\nNote that any code relying on spin loop or `Thread.yield()` to work is not an effective implementation and should not be used in production code. Both can be avoided with the classes of `java.util.concurrent.*`.\r\n","title":"Why does a FIFO array queue lock not seem fair?","body":"<p>Your test code has non-threadsafe update for <code>COUNT++</code>. Switch to <code>COUNT.incrementAndGet()</code> and:</p>\n<pre><code>static AtomicLong COUNT = new AtomicLong();\n</code></pre>\n<p><code>ALock</code> will give unfair results especially when number of threads exceeds CPUs. The implementation relies on high CPU spin loop <code>while (!flag[slot])</code> and not all threads are having same opportunity to enter their lock spin-loops - the first few threads are performing more of the <code>lock-unlock</code> cycles. Adding <code>Thread.yield</code> should balance out the thread access to the boolean array so all threads have similar opportunities to run through their own lock spin loop.</p>\n<pre><code>while (!flag[slot]) {\n   Thread.yield();\n}\n</code></pre>\n<p>You should see different results if you try setting <code>NUM_THREADS</code> to be same or less than <code>Runtime.getRuntime().availableProcessors()</code> - the use of <code>Thread.yield()</code> may not make a difference compared to when <code>NUM_THREADS &gt; Runtime.getRuntime().availableProcessors()</code>.</p>\n<p>Using this lock class will lead to slower throughput as at any one time up to <code>N-1</code> threads are in high CPU spin loop waiting for the current locking thread to call <code>unlock()</code>. In ideal lock implementations, <code>N-1</code> waiters won't be consuming CPU.</p>\n<p>The <code>ALock</code> locking stategy will only work if the exact same number of threads is used as provided <code>new ALock(NUM_THREADS)</code> because otherwise the use of <code>int slot = tail.getAndIncrement() % size;</code> may result in 2 threads reading from the same <code>slot</code>.</p>\n<p>Note that any code relying on spin loop or <code>Thread.yield()</code> to work is not an effective implementation and should not be used in production code. Both can be avoided with the classes of <code>java.util.concurrent.*</code>.</p>\n"}],"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665223865,"creation_date":1665108021,"question_id":73981619,"body_markdown":"In &#167;7.5.1 of *The Art of Multiprocessor Programming* by Herlihy et al. (2nd ed., 2020), the authors present a simple lock that uses an array queue to achieve FIFO locking. Intuitively, the *n*th thread has a (thread-local) index into an array, and then spins on that array element until the *n - 1* thread unlocks the lock. Its code looks like this:\r\n```java\r\npublic class ALock {\r\n    ThreadLocal&lt;Integer&gt; mySlotIndex = new ThreadLocal&lt;&gt;() {\r\n        @Override protected Integer initialValue() { return 0; }\r\n    };\r\n    AtomicInteger tail;\r\n    volatile boolean[] flag;\r\n    int size;\r\n\r\n    public ALock(int capacity) {\r\n        size = capacity;\r\n        tail = new AtomicInteger(0);\r\n        flag = new boolean[capacity];\r\n        flag[0] = true;\r\n    }\r\n\r\n    public void lock() {\r\n        int slot = tail.getAndIncrement() % size;\r\n        mySlotIndex.set(slot);\r\n        while (!flag[slot]) {};\r\n    }\r\n\r\n    public void unlock() {\r\n        int slot = mySlotIndex.get();\r\n        flag[slot] = false;\r\n        flag[(slot + 1) % size] = true;\r\n    }\r\n}\r\n```\r\nI am using a minimal test program to check that this lock is fair. In a nutshell, I create `NUM_THREADS` threads and map each one to an array index `id`. Each thread tries to acquire the same lock. Once it succeeds, it increments a global `COUNT` and also increments `RUNS_PER_THREAD[id]`.\r\n\r\nIf the lock is correct, the final value of `COUNT` should equal the sum of the values in `RUNS_PER_THREAD`. If the lock is fair, the elements of `RUNS_PER_THREAD` should be approximately equal.\r\n```java\r\npublic class Main {\r\n    static long COUNT = 0;\r\n    static int NUM_THREADS = 16;\r\n//    static Lock LOCK = new ReentrantLock(true);\r\n    static ALock LOCK = new ALock(NUM_THREADS);\r\n    static long[] RUNS_PER_THREAD = new long[NUM_THREADS];\r\n    static Map&lt;Long, Integer&gt; THREAD_IDS = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        var threads = IntStream.range(0, NUM_THREADS).mapToObj(Main::makeWorker).toArray(Thread[]::new);\r\n        for (int i = 0; i &lt; threads.length; i++) THREAD_IDS.put(threads[i].getId(), i);\r\n        for (var thread: threads) thread.start();\r\n        try { Thread.sleep(300L); } catch (InterruptedException e) {}\r\n        for (var thread: threads) thread.interrupt();\r\n        try { Thread.sleep(100L); } catch (InterruptedException e) {}\r\n        for (int i = 0; i &lt; NUM_THREADS; i++) System.out.printf(&quot;Thread %d:\\t%12d%n&quot;, i, RUNS_PER_THREAD[i]);\r\n        System.out.println(&quot;Counted up to: \\t\\t\\t&quot; + COUNT);\r\n        System.out.println(&quot;Sum for all threads: \\t&quot; + Arrays.stream(RUNS_PER_THREAD).sum());\r\n    }\r\n\r\n    private static Thread makeWorker(int i) {\r\n        return new Thread(() -&gt; {\r\n            while (true) {\r\n                if (Thread.interrupted()) return;\r\n                LOCK.lock();\r\n                try {\r\n                    COUNT++;\r\n                    var id = THREAD_IDS.get(Thread.currentThread().getId());\r\n                    RUNS_PER_THREAD[id]++;\r\n                } finally {\r\n                    LOCK.unlock();\r\n                }}});\r\n    }\r\n}\r\n```\r\nIf the test program is run with a fair `ReentrantLock`, the final count of runs per thread with 16 threads (on my M1 Max Mac with Java 17) is almost exactly equal. If the same test is run with `ALock`, the first few threads seem to acquire the lock approximately 10 times more frequently than the last few threads.\r\n\r\nIs `ALock`, as presented, unfair, and if so, why? Alternatively, is my minimal test flawed, and if so, why does it seem to demonstrate the fairness of `ReentrantLock`?","title":"Why does a FIFO array queue lock not seem fair?","body":"<p>In §7.5.1 of <em>The Art of Multiprocessor Programming</em> by Herlihy et al. (2nd ed., 2020), the authors present a simple lock that uses an array queue to achieve FIFO locking. Intuitively, the <em>n</em>th thread has a (thread-local) index into an array, and then spins on that array element until the <em>n - 1</em> thread unlocks the lock. Its code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ALock {\n    ThreadLocal&lt;Integer&gt; mySlotIndex = new ThreadLocal&lt;&gt;() {\n        @Override protected Integer initialValue() { return 0; }\n    };\n    AtomicInteger tail;\n    volatile boolean[] flag;\n    int size;\n\n    public ALock(int capacity) {\n        size = capacity;\n        tail = new AtomicInteger(0);\n        flag = new boolean[capacity];\n        flag[0] = true;\n    }\n\n    public void lock() {\n        int slot = tail.getAndIncrement() % size;\n        mySlotIndex.set(slot);\n        while (!flag[slot]) {};\n    }\n\n    public void unlock() {\n        int slot = mySlotIndex.get();\n        flag[slot] = false;\n        flag[(slot + 1) % size] = true;\n    }\n}\n</code></pre>\n<p>I am using a minimal test program to check that this lock is fair. In a nutshell, I create <code>NUM_THREADS</code> threads and map each one to an array index <code>id</code>. Each thread tries to acquire the same lock. Once it succeeds, it increments a global <code>COUNT</code> and also increments <code>RUNS_PER_THREAD[id]</code>.</p>\n<p>If the lock is correct, the final value of <code>COUNT</code> should equal the sum of the values in <code>RUNS_PER_THREAD</code>. If the lock is fair, the elements of <code>RUNS_PER_THREAD</code> should be approximately equal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static long COUNT = 0;\n    static int NUM_THREADS = 16;\n//    static Lock LOCK = new ReentrantLock(true);\n    static ALock LOCK = new ALock(NUM_THREADS);\n    static long[] RUNS_PER_THREAD = new long[NUM_THREADS];\n    static Map&lt;Long, Integer&gt; THREAD_IDS = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n        var threads = IntStream.range(0, NUM_THREADS).mapToObj(Main::makeWorker).toArray(Thread[]::new);\n        for (int i = 0; i &lt; threads.length; i++) THREAD_IDS.put(threads[i].getId(), i);\n        for (var thread: threads) thread.start();\n        try { Thread.sleep(300L); } catch (InterruptedException e) {}\n        for (var thread: threads) thread.interrupt();\n        try { Thread.sleep(100L); } catch (InterruptedException e) {}\n        for (int i = 0; i &lt; NUM_THREADS; i++) System.out.printf(&quot;Thread %d:\\t%12d%n&quot;, i, RUNS_PER_THREAD[i]);\n        System.out.println(&quot;Counted up to: \\t\\t\\t&quot; + COUNT);\n        System.out.println(&quot;Sum for all threads: \\t&quot; + Arrays.stream(RUNS_PER_THREAD).sum());\n    }\n\n    private static Thread makeWorker(int i) {\n        return new Thread(() -&gt; {\n            while (true) {\n                if (Thread.interrupted()) return;\n                LOCK.lock();\n                try {\n                    COUNT++;\n                    var id = THREAD_IDS.get(Thread.currentThread().getId());\n                    RUNS_PER_THREAD[id]++;\n                } finally {\n                    LOCK.unlock();\n                }}});\n    }\n}\n</code></pre>\n<p>If the test program is run with a fair <code>ReentrantLock</code>, the final count of runs per thread with 16 threads (on my M1 Max Mac with Java 17) is almost exactly equal. If the same test is run with <code>ALock</code>, the first few threads seem to acquire the lock approximately 10 times more frequently than the last few threads.</p>\n<p>Is <code>ALock</code>, as presented, unfair, and if so, why? Alternatively, is my minimal test flawed, and if so, why does it seem to demonstrate the fairness of <code>ReentrantLock</code>?</p>\n"},{"tags":["java","android","firebase","connection"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1665082567,"post_id":73977643,"comment_id":130622468,"body_markdown":"Is any of the onDataChange or onCancelled even triggered?","body":"Is any of the onDataChange or onCancelled even triggered?"}],"answers":[{"comments":[{"owner":{"account_id":26547945,"reputation":1,"user_id":20177751,"display_name":"helpMe"},"score":0,"creation_date":1665223711,"post_id":73977727,"comment_id":130652835,"body_markdown":"I see!! I put the image of firebase. Click &#39;enter image description here&#39; below the code.  I will change the code!!","body":"I see!! I put the image of firebase. Click &#39;enter image description here&#39; below the code.  I will change the code!!"}],"tags":[],"owner":{"account_id":18045227,"reputation":61,"user_id":13116405,"display_name":"Abdlhay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665076625,"creation_date":1665076625,"answer_id":73977727,"question_id":73977643,"body_markdown":"Can you show us your database structure and what value you are trying to reach?.\r\nprobably you are  trying to retrive data from an invaild path.\r\n\r\nalso just noticed you have initialized your database twice\r\nremove this second initialization and try again `cageStatus = FirebaseDatabase.getInstance().getReference();`\r\n\r\n","title":"Can&#39;t work addValueEventListener (Andriod Studio with Java)","body":"<p>Can you show us your database structure and what value you are trying to reach?.\nprobably you are  trying to retrive data from an invaild path.</p>\n<p>also just noticed you have initialized your database twice\nremove this second initialization and try again <code>cageStatus = FirebaseDatabase.getInstance().getReference();</code></p>\n"}],"owner":{"account_id":26547945,"reputation":1,"user_id":20177751,"display_name":"helpMe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665223510,"creation_date":1665076193,"question_id":73977643,"body_markdown":"I&#39;m not good at using English. You may think my question is little hard to understand. &lt;br&gt;(Sorry!! It&#39;s my first time to write in stackoverflow...)\r\n\r\nI linked to Firebase (tool &gt; firebase &gt; realtime db &gt; connect) and put the sdk Firebase said. &lt;br&gt;\r\nAnd I wrote the Main code like below code. &lt;br&gt;\r\nWhen I executed android emulator, there is no error (red line X, Warning sign X) &lt;br&gt;\r\nBut, data of the connected Firebase didn&#39;t get to android studio. &lt;br&gt;\r\nEven onCancelled() didn&#39;t working. &lt;br&gt;\r\n-&gt; I think addValueEventListener can&#39;t working.. &lt;br&gt;\r\nPlease,, Help me &lt;br&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.example.chart2;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.IgnoreExtraProperties;\r\n    import com.google.firebase.database.ValueEventListener;\r\n\r\n    public  class MainActivity extends AppCompatActivity {\r\n        ProgressBar progressBar;\r\n        TextView textView;\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference cageStatus = database.getReference(&quot;cageStatus&quot;);\r\n\r\n        private final String TAG = &quot;MainActivityLog&quot;;\r\n\r\n        int temp = 0;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            cageStatus = FirebaseDatabase.getInstance().getReference();\r\n\r\n            progressBar = findViewById(R.id.progress2);\r\n            textView = findViewById(R.id.text2);\r\n\r\n            cageStatus.child(&quot;temp&quot;).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    temp = (int) dataSnapshot.child(&quot;temp&quot;).getValue();\r\n                    progressBar.setProgress(temp);\r\n                    Log.d(TAG, &quot;temp is: &quot; + temp);\r\n                    textView.setText(temp+&quot;%&quot;);\r\n                }\r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    Log.w(TAG, &quot;Failed to read value.&quot;, databaseError.toException());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n[enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/bM6V0.png\r\n ","title":"Can&#39;t work addValueEventListener (Andriod Studio with Java)","body":"<p>I'm not good at using English. You may think my question is little hard to understand. <br>(Sorry!! It's my first time to write in stackoverflow...)</p>\n<p>I linked to Firebase (tool &gt; firebase &gt; realtime db &gt; connect) and put the sdk Firebase said. <br>\nAnd I wrote the Main code like below code. <br>\nWhen I executed android emulator, there is no error (red line X, Warning sign X) <br>\nBut, data of the connected Firebase didn't get to android studio. <br>\nEven onCancelled() didn't working. <br>\n-&gt; I think addValueEventListener can't working.. <br>\nPlease,, Help me <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.chart2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.IgnoreExtraProperties;\nimport com.google.firebase.database.ValueEventListener;\n\npublic  class MainActivity extends AppCompatActivity {\n    ProgressBar progressBar;\n    TextView textView;\n\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference cageStatus = database.getReference(&quot;cageStatus&quot;);\n\n    private final String TAG = &quot;MainActivityLog&quot;;\n\n    int temp = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        cageStatus = FirebaseDatabase.getInstance().getReference();\n\n        progressBar = findViewById(R.id.progress2);\n        textView = findViewById(R.id.text2);\n\n        cageStatus.child(&quot;temp&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                temp = (int) dataSnapshot.child(&quot;temp&quot;).getValue();\n                progressBar.setProgress(temp);\n                Log.d(TAG, &quot;temp is: &quot; + temp);\n                textView.setText(temp+&quot;%&quot;);\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Log.w(TAG, &quot;Failed to read value.&quot;, databaseError.toException());\n            }\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bM6V0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","jvm"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665220318,"post_id":73995705,"comment_id":130652258,"body_markdown":"I don&#39;t know those parameters but they look as if preceded by underscores instead of dashes","body":"I don&#39;t know those parameters but they look as if preceded by underscores instead of dashes"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665220348,"post_id":73995705,"comment_id":130652263,"body_markdown":"Try putting `-jar` before `/data/code/application.jar`. Looks like java doesn&#39;t recognize `‐XX:MetaspaceSize=256M` as option for some reason?","body":"Try putting <code>-jar</code> before <code>&#47;data&#47;code&#47;application.jar</code>. Looks like java doesn&#39;t recognize <code>‐XX:MetaspaceSize=256M</code> as option for some reason?"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1665222801,"post_id":73995705,"comment_id":130652658,"body_markdown":"My bad, it is due to typo. `-` which I copied from Google is not in English.......@talex","body":"My bad, it is due to typo. <code>-</code> which I copied from Google is not in English.......@talex"}],"answers":[{"tags":[],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665222668,"creation_date":1665222668,"answer_id":73996009,"question_id":73995705,"body_markdown":"My bad, copy from google but never check the words,`-` was a wrong word(not in English) which leads to the error. Just type it manually again in English, the problem solved.....","title":"unable to start jar file with metaspace parameter","body":"<p>My bad, copy from google but never check the words,<code>-</code> was a wrong word(not in English) which leads to the error. Just type it manually again in English, the problem solved.....</p>\n"}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665222668,"creation_date":1665219921,"question_id":73995705,"body_markdown":"Here I have a command line to start a jarfile.\r\nAnd it is correct and was able to start my `application.jar` file.\r\n\r\n```\r\nnohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\r\n```\r\n\r\nWhen I tried to add metaspace parameters `‐XX:MetaspaceSize=256M ‐XX:MaxMetaspaceSize=256M` into my start-up-command, which is showing below:\r\n```\r\nnohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 ‐XX:MetaspaceSize=256M ‐XX:MaxMetaspaceSize=256M -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\r\n```\r\n the JVM crashed with log`Error: Unable to access jarfile ‐XX:MetaspaceSize=256M`.\r\nIs there any thing that I missed? It seems that JVM not recognizing  metaspace parameters in commandline, and treated it as an illegal jarfile.\r\n\r\nThe jdk version by `java -version` is showing below:\r\n```\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n```","title":"unable to start jar file with metaspace parameter","body":"<p>Here I have a command line to start a jarfile.\nAnd it is correct and was able to start my <code>application.jar</code> file.</p>\n<pre><code>nohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\n</code></pre>\n<p>When I tried to add metaspace parameters <code>‐XX:MetaspaceSize=256M ‐XX:MaxMetaspaceSize=256M</code> into my start-up-command, which is showing below:</p>\n<pre><code>nohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 ‐XX:MetaspaceSize=256M ‐XX:MaxMetaspaceSize=256M -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\n</code></pre>\n<p>the JVM crashed with log<code>Error: Unable to access jarfile ‐XX:MetaspaceSize=256M</code>.\nIs there any thing that I missed? It seems that JVM not recognizing  metaspace parameters in commandline, and treated it as an illegal jarfile.</p>\n<p>The jdk version by <code>java -version</code> is showing below:</p>\n<pre><code>openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\n</code></pre>\n"},{"tags":["java","arrays","data-structures","hash"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1665215185,"post_id":73995214,"comment_id":130651457,"body_markdown":"are you sure you read it correctly? &quot;Subsequently, all elements following e will have their index incremented by 1.&quot; doen&#39;t seem like a O(1) operation to me","body":"are you sure you read it correctly? &quot;Subsequently, all elements following e will have their index incremented by 1.&quot; doen&#39;t seem like a O(1) operation to me"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1665215525,"post_id":73995214,"comment_id":130651507,"body_markdown":"What happens after remove? I guess elements following `i` need to be shifted to the left(index decrement by one)?","body":"What happens after remove? I guess elements following <code>i</code> need to be shifted to the left(index decrement by one)?"},{"owner":{"account_id":9291246,"reputation":29,"user_id":20005994,"display_name":"Enzo"},"score":0,"creation_date":1665216285,"post_id":73995214,"comment_id":130651607,"body_markdown":"@Icarus i asked whether it&#39;s correct, and i was told yes - and that i was also allowed to operate using multiple separate data structures if needed","body":"@Icarus i asked whether it&#39;s correct, and i was told yes - and that i was also allowed to operate using multiple separate data structures if needed"},{"owner":{"account_id":9291246,"reputation":29,"user_id":20005994,"display_name":"Enzo"},"score":0,"creation_date":1665216300,"post_id":73995214,"comment_id":130651611,"body_markdown":"@Chaosfire you are correct","body":"@Chaosfire you are correct"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1665216820,"post_id":73995214,"comment_id":130651691,"body_markdown":"in arraylist the remove() has O(n). O(1) for deleting at index O(n) for shifting","body":"in arraylist the remove() has O(n). O(1) for deleting at index O(n) for shifting"},{"owner":{"account_id":9291246,"reputation":29,"user_id":20005994,"display_name":"Enzo"},"score":0,"creation_date":1665217104,"post_id":73995214,"comment_id":130651729,"body_markdown":"@Icarus i am aware of that. the problem is that shifting itself has a time complexity, and it defeats the purpose of making remove() O(1) if its going to take another O(n) to shift the rest of the elements","body":"@Icarus i am aware of that. the problem is that shifting itself has a time complexity, and it defeats the purpose of making remove() O(1) if its going to take another O(n) to shift the rest of the elements"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1665217331,"post_id":73995214,"comment_id":130651764,"body_markdown":"i don&#39;t believe it is possible. in fact, if sth like that does exist, we would all be using it.","body":"i don&#39;t believe it is possible. in fact, if sth like that does exist, we would all be using it."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":2,"creation_date":1665233084,"post_id":73995214,"comment_id":130654415,"body_markdown":"This is not possible.  You can do all operations in O(log n) time using a B-tree-like structure similar to a rope: https://en.wikipedia.org/wiki/Rope_(data_structure)  If you explain your use case, we might be able to advise about how it&#39;s usually done.","body":"This is not possible.  You can do all operations in O(log n) time using a B-tree-like structure similar to a rope: <a href=\"https://en.wikipedia.org/wiki/Rope_(data_structure)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Rope_(data_structure)</a>  If you explain your use case, we might be able to advise about how it&#39;s usually done."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1665222523,"creation_date":1665218761,"answer_id":73995598,"question_id":73995214,"body_markdown":"I can&#39;t think of any combination of data structures, which can achieve such performance for all methods, because you have to keep the data in all of them in sync.\r\n\r\nSome kind of a workaround that comes to mind is to use array as the backing structure - O(1) for getting by index. Removal at index and setting at index are O(1) as well for the operation itself, the problem is the subsequent need to shift the backing array.\r\n\r\nTo somewhat fix performance of the shifting, you should **not** use loops, but [System.arraycopy()][1] instead. It&#39;s extremely efficient, because it won&#39;t do `n` copy operations, but instead copy entire chunk of the memory at once. You can read more on the topic in [Why is System.arraycopy native in Java?][2] and [Is it better to use System.arraycopy(...) than a for loop for copying arrays?][3] This is probably what `ArrayList` is doing under the hood when resizing and shifting.\r\n\r\nStrictly speaking, this is not O(1) time complexity, but due to the efficiency of `System.arraycopy()` you can get close to it, especially for large arrays.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\r\n  [2]: https://stackoverflow.com/questions/2772152/why-is-system-arraycopy-native-in-java\r\n  [3]: https://stackoverflow.com/questions/18638743/is-it-better-to-use-system-arraycopy-than-a-for-loop-for-copying-arrays","title":"A data structure that supports get(i), remove(i) and add(i, e) in O(1) time","body":"<p>I can't think of any combination of data structures, which can achieve such performance for all methods, because you have to keep the data in all of them in sync.</p>\n<p>Some kind of a workaround that comes to mind is to use array as the backing structure - O(1) for getting by index. Removal at index and setting at index are O(1) as well for the operation itself, the problem is the subsequent need to shift the backing array.</p>\n<p>To somewhat fix performance of the shifting, you should <strong>not</strong> use loops, but <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\" rel=\"nofollow noreferrer\">System.arraycopy()</a> instead. It's extremely efficient, because it won't do <code>n</code> copy operations, but instead copy entire chunk of the memory at once. You can read more on the topic in <a href=\"https://stackoverflow.com/questions/2772152/why-is-system-arraycopy-native-in-java\">Why is System.arraycopy native in Java?</a> and <a href=\"https://stackoverflow.com/questions/18638743/is-it-better-to-use-system-arraycopy-than-a-for-loop-for-copying-arrays\">Is it better to use System.arraycopy(...) than a for loop for copying arrays?</a> This is probably what <code>ArrayList</code> is doing under the hood when resizing and shifting.</p>\n<p>Strictly speaking, this is not O(1) time complexity, but due to the efficiency of <code>System.arraycopy()</code> you can get close to it, especially for large arrays.</p>\n"}],"owner":{"account_id":9291246,"reputation":29,"user_id":20005994,"display_name":"Enzo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1665222523,"creation_date":1665214532,"question_id":73995214,"body_markdown":"I&#39;ve been tasked with the creation of a data structure that can do the following in `O(1)` time:\r\n\r\n`get(i)`: return the element at index `i`. \r\n\r\n`remove(i)`: remove the element at index `i`.\r\n\r\n`add(i, e)`: add the element `e` at index `i`. Subsequently, all elements following `e` will have their index incremented by 1.\r\n\r\nAny suggestions? I&#39;m quite puzzled as to how I can even create something that can do all of this.","title":"A data structure that supports get(i), remove(i) and add(i, e) in O(1) time","body":"<p>I've been tasked with the creation of a data structure that can do the following in <code>O(1)</code> time:</p>\n<p><code>get(i)</code>: return the element at index <code>i</code>.</p>\n<p><code>remove(i)</code>: remove the element at index <code>i</code>.</p>\n<p><code>add(i, e)</code>: add the element <code>e</code> at index <code>i</code>. Subsequently, all elements following <code>e</code> will have their index incremented by 1.</p>\n<p>Any suggestions? I'm quite puzzled as to how I can even create something that can do all of this.</p>\n"},{"tags":["java","spring","spring-boot","security","prometheus"],"answers":[{"comments":[{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1665154460,"post_id":73988987,"comment_id":130640381,"body_markdown":"I am trying to implement HTTP and HTTPS simutaneously. The method I wrote above works just fine on &quot;https: //localhost:8443/greeting&quot; but not on &quot;http: //localhost:8081/greeting&quot;. With that implementation what should I change besides your proposal?","body":"I am trying to implement HTTP and HTTPS simutaneously. The method I wrote above works just fine on &quot;https: //localhost:8443/greeting&quot; but not on &quot;http: //localhost:8081/greeting&quot;. With that implementation what should I change besides your proposal?"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665155089,"post_id":73988987,"comment_id":130640620,"body_markdown":"https://stackoverflow.com/a/36853652/19476294","body":"<a href=\"https://stackoverflow.com/a/36853652/19476294\">stackoverflow.com/a/36853652/19476294</a>"},{"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"score":0,"creation_date":1665155113,"post_id":73988987,"comment_id":130640632,"body_markdown":"Refer to the above answer . I hope this will sort what  you are trying to acheive","body":"Refer to the above answer . I hope this will sort what  you are trying to acheive"},{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1665156030,"post_id":73988987,"comment_id":130640962,"body_markdown":"I&#39;ve already mentioned that answer in my initial question. Unfortunately, it doesn&#39;t work for me.","body":"I&#39;ve already mentioned that answer in my initial question. Unfortunately, it doesn&#39;t work for me."}],"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665154210,"creation_date":1665154210,"answer_id":73988987,"question_id":73988873,"body_markdown":"This exception can occur when you try to execute https request from on endpoint which isn&#39;t https enabled. It will encrypt request data when server is expecting raw data.\r\n\r\nChange https:// to http:// for that endpoint manually which is designed to take http requests. \r\n","title":"Spring Boot App with Spring Security and HTTPS Enabled, not Possible to Expose HTTP URL endpoint","body":"<p>This exception can occur when you try to execute https request from on endpoint which isn't https enabled. It will encrypt request data when server is expecting raw data.</p>\n<p>Change https:// to http:// for that endpoint manually which is designed to take http requests.</p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665222077,"creation_date":1665153739,"question_id":73988873,"body_markdown":"I am having an issue with my Spring Boot app in which I&#39;ve implemented Spring Security with custom login page and verification system. The whole app runs on HTTPS but I want to expose a certain URL on HTTP in order to Prometheus gets metrics from. I want to avoid in getting Prometheus TLS support.\r\n\r\nI &#39;ve tried the following tutorials:\r\n\r\n1. [How to Enable HTTP and HTTPS in Spring Boot](https://www.javadevjournal.com/spring-boot/how-to-enable-http-https-in-spring-boot/)\r\n\r\n2. [How set up Spring Boot to run HTTPS / HTTP ports](https://stackoverflow.com/questions/30896234/how-set-up-spring-boot-to-run-https-http-ports)\r\n\r\n3. [Monitoring and management over HTTP](https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/production-ready-monitoring.html#production-ready-management-specific-ssl)\r\n\r\nBut I am having the following stack trace when I am writing http://localhost:8081/greeting on my browser which corrensponds to a method (written below). The https://localhost:8443/greeting works just fine. Possibly this happens since I am calling the method from a HTTPS environment but I don&#39;t know what to change in security config class (presuming that is where I should start from).\r\n\r\nAny advices? Thank you...\r\n\r\n```\r\n2022-10-07 17:21:01.190  INFO 14776 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n\r\njava.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x020x000x010x000x010xfc0x030x030xedv0x87l0xf9G0xb80xf10xae}0xd00x130x1e0xe10x0az0x810xc50xee0xd220xb10xf10xb2O%k0x92Ipd0x95 ]. HTTP method names must be tokens\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n**Security Config Class**\r\n\r\n```\r\npackage com.andrekreou.iot.authentication.security;\r\n\r\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    private final ApplicationUserService applicationUserService;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .requiresChannel()\r\n                    .antMatchers(&quot;/greeting&quot;)\r\n                    .requiresInsecure()\r\n                .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .usernameParameter(&quot;email&quot;)\r\n                    .permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;,true)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .clearAuthentication(true)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider =\r\n                new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\n**Main Class**\r\n\r\n```\r\npackage com.andrekreou.iot;\r\n\r\nimport io.micrometer.core.aop.TimedAspect;\r\nimport io.micrometer.core.instrument.MeterRegistry;\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class IotApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(IotApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TimedAspect timedAspect(MeterRegistry registry) {\r\n\t\treturn new TimedAspect(registry);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ServletWebServerFactory servletContainer() {\r\n\t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n\t\ttomcat.addAdditionalTomcatConnectors(createStandardConnector());\r\n\t\treturn tomcat;\r\n\t}\r\n\r\n\tprivate Connector createStandardConnector() {\r\n\t\tConnector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n\t\tconnector.setPort(httpPort);\r\n\t\treturn connector;\r\n\t}\r\n\r\n\t@Value(&quot;${server.http.port}&quot;)\r\n\tprivate int httpPort;\r\n}\r\n```\r\n\r\n**Application.properties**\r\n\r\n```\r\n#Server properties for HTTPS configuration\r\nserver.ssl.enabled=true\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-store=classpath:local-ssl.p12\r\nserver.ssl.key-store-password=Puredrummer1\r\nserver.ssl.key-password=Puredrummer1\r\nserver.servlet.context-path=/\r\nserver.ssl.key-alias=local_ssl\r\nserver.port=8443\r\nserver.http.port=8081\r\n```\r\n\r\n**Rest Controller Class**\r\n```\r\npackage com.andrekreou.iot.control.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class Sample {\r\n\r\n    @GetMapping(value = &quot;/greeting&quot;)\r\n    public String greeting() {\r\n        return &quot;I am working with both HTTP and HTTPS&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**UPDATE**\r\n\r\nChanged the code of Security Config Class and although the error hasn&#39;t gone I am getting redirection from 8443 to 8080, as I think it should.","title":"Spring Boot App with Spring Security and HTTPS Enabled, not Possible to Expose HTTP URL endpoint","body":"<p>I am having an issue with my Spring Boot app in which I've implemented Spring Security with custom login page and verification system. The whole app runs on HTTPS but I want to expose a certain URL on HTTP in order to Prometheus gets metrics from. I want to avoid in getting Prometheus TLS support.</p>\n<p>I 've tried the following tutorials:</p>\n<ol>\n<li><p><a href=\"https://www.javadevjournal.com/spring-boot/how-to-enable-http-https-in-spring-boot/\" rel=\"nofollow noreferrer\">How to Enable HTTP and HTTPS in Spring Boot</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/30896234/how-set-up-spring-boot-to-run-https-http-ports\">How set up Spring Boot to run HTTPS / HTTP ports</a></p>\n</li>\n<li><p><a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/production-ready-monitoring.html#production-ready-management-specific-ssl\" rel=\"nofollow noreferrer\">Monitoring and management over HTTP</a></p>\n</li>\n</ol>\n<p>But I am having the following stack trace when I am writing http://localhost:8081/greeting on my browser which corrensponds to a method (written below). The https://localhost:8443/greeting works just fine. Possibly this happens since I am calling the method from a HTTPS environment but I don't know what to change in security config class (presuming that is where I should start from).</p>\n<p>Any advices? Thank you...</p>\n<pre><code>2022-10-07 17:21:01.190  INFO 14776 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x020x000x010x000x010xfc0x030x030xedv0x87l0xf9G0xb80xf10xae}0xd00x130x1e0xe10x0az0x810xc50xee0xd220xb10xf10xb2O%k0x92Ipd0x95 ]. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p><strong>Security Config Class</strong></p>\n<pre><code>package com.andrekreou.iot.authentication.security;\n\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    private final ApplicationUserService applicationUserService;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .requiresChannel()\n                    .antMatchers(&quot;/greeting&quot;)\n                    .requiresInsecure()\n                .and()\n                .authorizeRequests()\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .usernameParameter(&quot;email&quot;)\n                    .permitAll()\n                    .defaultSuccessUrl(&quot;/&quot;,true)\n                .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .clearAuthentication(true)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\n                    .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider =\n                new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>package com.andrekreou.iot;\n\nimport io.micrometer.core.aop.TimedAspect;\nimport io.micrometer.core.instrument.MeterRegistry;\nimport org.apache.catalina.connector.Connector;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class IotApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(IotApplication.class, args);\n    }\n\n    @Bean\n    public TimedAspect timedAspect(MeterRegistry registry) {\n        return new TimedAspect(registry);\n    }\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n        tomcat.addAdditionalTomcatConnectors(createStandardConnector());\n        return tomcat;\n    }\n\n    private Connector createStandardConnector() {\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n        connector.setPort(httpPort);\n        return connector;\n    }\n\n    @Value(&quot;${server.http.port}&quot;)\n    private int httpPort;\n}\n</code></pre>\n<p><strong>Application.properties</strong></p>\n<pre><code>#Server properties for HTTPS configuration\nserver.ssl.enabled=true\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:local-ssl.p12\nserver.ssl.key-store-password=Puredrummer1\nserver.ssl.key-password=Puredrummer1\nserver.servlet.context-path=/\nserver.ssl.key-alias=local_ssl\nserver.port=8443\nserver.http.port=8081\n</code></pre>\n<p><strong>Rest Controller Class</strong></p>\n<pre><code>package com.andrekreou.iot.control.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Sample {\n\n    @GetMapping(value = &quot;/greeting&quot;)\n    public String greeting() {\n        return &quot;I am working with both HTTP and HTTPS&quot;;\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Changed the code of Security Config Class and although the error hasn't gone I am getting redirection from 8443 to 8080, as I think it should.</p>\n"},{"tags":["java","android","macos","cordova"],"answers":[{"comments":[{"owner":{"account_id":23264980,"reputation":11,"user_id":17350675,"display_name":"Boon Chye Phang"},"score":1,"creation_date":1665221892,"post_id":73995902,"comment_id":130652498,"body_markdown":"How do I get JDK 1.8? And after installed JDK 1.8 how do I switch to use that version?","body":"How do I get JDK 1.8? And after installed JDK 1.8 how do I switch to use that version?"}],"tags":[],"owner":{"account_id":26562695,"reputation":16,"user_id":20190265,"display_name":"nick"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665221709,"creation_date":1665221709,"answer_id":73995902,"question_id":73995826,"body_markdown":"The build process shows that installation is required JDK 1.8, but you install JDK 19\r\n\r\n    JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\r\n    Requirements check failed for JDK 1.8\r\n","title":"Requirements check failed for JDK 1.8 in Cordova build android","body":"<p>The build process shows that installation is required JDK 1.8, but you install JDK 19</p>\n<pre><code>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\nRequirements check failed for JDK 1.8\n</code></pre>\n"}],"owner":{"account_id":23264980,"reputation":11,"user_id":17350675,"display_name":"Boon Chye Phang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665221709,"creation_date":1665221064,"question_id":73995826,"body_markdown":"Running the command ```cordova build android``` to use Cordova to build an Android app failed.\r\n    \r\n\r\nThe response is:\r\n```\r\ncordova-android-support-gradle-release: Android platform: V7.1.2+\r\ncordova-android-support-gradle-release: Wrote custom version &#39;27.+&#39; to /Users/Phang/Projects/JAppName/platforms/android/app/build.gradle\r\ncordova-android-support-gradle-release: Wrote custom version &#39;27.+&#39; to /Users/Phang/Projects/JAppName/platforms/android/app/src/main/cordova-android-support-gradle-release/properties.gradle\r\ncordova-custom-config: Skipping auto-restore of config file backup(s)\r\nAndroid Studio project detected\r\ncordova-android-support-gradle-release: Android platform: V7.1.2+\r\ncordova-android-support-gradle-release: Wrote custom version &#39;27.+&#39; to /Users/Phang/Projects/JAppName/platforms/android/app/build.gradle\r\ncordova-android-support-gradle-release: Wrote custom version &#39;27.+&#39; to /Users/Phang/Projects/JAppName/platforms/android/app/src/main/cordova-android-support-gradle-release/properties.gradle\r\nANDROID_HOME=/Users/Phang/Library/Android/sdk\r\nJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\r\nRequirements check failed for JDK 1.8\r\n```\r\nI am using MacOS 12.5.1, installed Java 19 and Java SE Development Kit 8u341 from https://www.oracle.com/java/technologies/downloads/#java19\r\n\r\nMy *.bash_profile* file doesn&#39;t have anything with Java. What am I missing out to build?","title":"Requirements check failed for JDK 1.8 in Cordova build android","body":"<p>Running the command <code>cordova build android</code> to use Cordova to build an Android app failed.</p>\n<p>The response is:</p>\n<pre><code>cordova-android-support-gradle-release: Android platform: V7.1.2+\ncordova-android-support-gradle-release: Wrote custom version '27.+' to /Users/Phang/Projects/JAppName/platforms/android/app/build.gradle\ncordova-android-support-gradle-release: Wrote custom version '27.+' to /Users/Phang/Projects/JAppName/platforms/android/app/src/main/cordova-android-support-gradle-release/properties.gradle\ncordova-custom-config: Skipping auto-restore of config file backup(s)\nAndroid Studio project detected\ncordova-android-support-gradle-release: Android platform: V7.1.2+\ncordova-android-support-gradle-release: Wrote custom version '27.+' to /Users/Phang/Projects/JAppName/platforms/android/app/build.gradle\ncordova-android-support-gradle-release: Wrote custom version '27.+' to /Users/Phang/Projects/JAppName/platforms/android/app/src/main/cordova-android-support-gradle-release/properties.gradle\nANDROID_HOME=/Users/Phang/Library/Android/sdk\nJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\nRequirements check failed for JDK 1.8\n</code></pre>\n<p>I am using MacOS 12.5.1, installed Java 19 and Java SE Development Kit 8u341 from <a href=\"https://www.oracle.com/java/technologies/downloads/#java19\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#java19</a></p>\n<p>My <em>.bash_profile</em> file doesn't have anything with Java. What am I missing out to build?</p>\n"},{"tags":["java","process"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665221652,"creation_date":1665220628,"answer_id":73995783,"question_id":73991013,"body_markdown":"This looks like homework, so I don&#39;t wish to post a working answer. However here are some hints that may help you towards your own solution.\r\n\r\n1) use try with resources for all streams you open, this ensures they are closed in timely manner:\r\n\r\n        try(BufferedXXXX stream = ... ) {\r\n            ... do something to input or output\r\n        }\r\n\r\n2) You do need to re-instate the `while` loop in `Subprocess`, otherwise the sub-process can never handle more than one line of input. Test your sub-process independently of `MainProcess`, it must exit when the input ends:\r\n\r\n       // should print HELLO and exit:\r\n       echo hello | java Subprocess    \r\n       // Windows should uppercase the file and exit:\r\n       type somefile.txt | java Subprocess\r\n       // Linux should uppercase the file and exit:\r\n       cat somefile.txt | java Subprocess\r\n\r\n3) The `subprocess.waitFor()` must be at the end after dealing with the sub-process `subprocess.getInputStream()` and `subprocess.getOutputStream()`. Those streams won&#39;t be valid after this call ends:\r\n\r\n        int rc = subprocess.waitFor();\r\n\r\n4) You have one loop that tries to deal with reading both scanner and stdout of sub-process at same time - this won&#39;t work reliably. The main loop should not care how many lines the sub-process writes for each line sent to it. You can avoid linking the two problems by using a background thread to copy all the STDOUT of the subprocess and leaving the main loop to handle your scanner input only. Make sure the background thread has ended before calling `subprocess.waitFor()`.\r\n\r\n5) The loop over scanner is incorrect, it does not deal with `scanner.readLine()` is null.","title":"How can I make a Java subprocess communicate back and forth with parent process in a loop?","body":"<p>This looks like homework, so I don't wish to post a working answer. However here are some hints that may help you towards your own solution.</p>\n<ol>\n<li><p>use try with resources for all streams you open, this ensures they are closed in timely manner:</p>\n<pre><code> try(BufferedXXXX stream = ... ) {\n     ... do something to input or output\n }\n</code></pre>\n</li>\n<li><p>You do need to re-instate the <code>while</code> loop in <code>Subprocess</code>, otherwise the sub-process can never handle more than one line of input. Test your sub-process independently of <code>MainProcess</code>, it must exit when the input ends:</p>\n<pre><code>// should print HELLO and exit:\necho hello | java Subprocess    \n// Windows should uppercase the file and exit:\ntype somefile.txt | java Subprocess\n// Linux should uppercase the file and exit:\ncat somefile.txt | java Subprocess\n</code></pre>\n</li>\n<li><p>The <code>subprocess.waitFor()</code> must be at the end after dealing with the sub-process <code>subprocess.getInputStream()</code> and <code>subprocess.getOutputStream()</code>. Those streams won't be valid after this call ends:</p>\n<pre><code> int rc = subprocess.waitFor();\n</code></pre>\n</li>\n<li><p>You have one loop that tries to deal with reading both scanner and stdout of sub-process at same time - this won't work reliably. The main loop should not care how many lines the sub-process writes for each line sent to it. You can avoid linking the two problems by using a background thread to copy all the STDOUT of the subprocess and leaving the main loop to handle your scanner input only. Make sure the background thread has ended before calling <code>subprocess.waitFor()</code>.</p>\n</li>\n<li><p>The loop over scanner is incorrect, it does not deal with <code>scanner.readLine()</code> is null.</p>\n</li>\n</ol>\n"}],"owner":{"display_name":"user8225131"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665221652,"creation_date":1665165575,"question_id":73991013,"body_markdown":"I&#39;m currently learning about processes and I&#39;ve been trying with no luck to make a process (the class that I execute directly from terminal) call a subprocess, send it a message, and then receive a message in return, and that process should repeat infinitely. This should be possible without re-creating the subprocess over and over.\r\n\r\nI&#39;ve been told that I&#39;d need to use a loop inside the subprocess class, but doing so just makes my program hang, because it keeps waiting infinitely for the subprocess to finish. I&#39;ve been searching the web for a long while but haven&#39;t found a solution yet.\r\n\r\nHere&#39;s the code:\r\n\r\n    import java.io.*;\r\n    \r\n    \r\n    public class MainProcess {\r\n    \r\n        static BufferedReader scanner = new BufferedReader(new InputStreamReader(System.in));\r\n    \r\n        public static void main(String[] args) {\r\n       \tString s = &quot;&quot;;\r\n    \tProcess subprocess = null;\r\n    \ttry { \r\n                subprocess = new ProcessBuilder(&quot;java&quot;, &quot;Subprocess&quot;).start();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            while (!s.equals(&quot;exit&quot;)) {\r\n                try {\r\n                    s = scanner.readLine();            \r\n                    OutputStream os = subprocess.getOutputStream();\r\n                    BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(os));\r\n                    bw.write(s+&quot;\\r&quot;);\r\n                    bw.flush();\r\n    \r\n                    try{\r\n                        subprocess.waitFor();\r\n                    }catch (Exception ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                    InputStream inputStream = subprocess.getInputStream();\r\n                    BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\r\n    \r\n                    String linea;\r\n                    while ((linea = br.readLine()) != null)\r\n                        System.out.println(linea);\r\n    \t\t\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd this is the child process code:\r\n\r\n    import java.io.*;\r\n    \r\n    public class Subprocess {\r\n        public static void main(String[] args) {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n            try {\r\n                 System.out.println(reader.readLine().toUpperCase());  \r\n            } catch (IOException ex){\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nNow, if I execute it like this, the program would ask me for input. For example if I send &quot;message&quot;, I get back &quot;MESSAGE&quot; in this case. It doesn&#39;t work again of course, because then the subprocess is over (I get a error message about the Stream being closed). I&#39;ve used a while loop for the readLine() call in the subprocess class, but that just makes the Main program wait forever for the subprocess to finish, and that never happens. I don&#39;t know what I&#39;m missing.","title":"How can I make a Java subprocess communicate back and forth with parent process in a loop?","body":"<p>I'm currently learning about processes and I've been trying with no luck to make a process (the class that I execute directly from terminal) call a subprocess, send it a message, and then receive a message in return, and that process should repeat infinitely. This should be possible without re-creating the subprocess over and over.</p>\n<p>I've been told that I'd need to use a loop inside the subprocess class, but doing so just makes my program hang, because it keeps waiting infinitely for the subprocess to finish. I've been searching the web for a long while but haven't found a solution yet.</p>\n<p>Here's the code:</p>\n<pre><code>import java.io.*;\n\n\npublic class MainProcess {\n\n    static BufferedReader scanner = new BufferedReader(new InputStreamReader(System.in));\n\n    public static void main(String[] args) {\n    String s = &quot;&quot;;\n    Process subprocess = null;\n    try { \n            subprocess = new ProcessBuilder(&quot;java&quot;, &quot;Subprocess&quot;).start();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        while (!s.equals(&quot;exit&quot;)) {\n            try {\n                s = scanner.readLine();            \n                OutputStream os = subprocess.getOutputStream();\n                BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(os));\n                bw.write(s+&quot;\\r&quot;);\n                bw.flush();\n\n                try{\n                    subprocess.waitFor();\n                }catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n                InputStream inputStream = subprocess.getInputStream();\n                BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\n\n                String linea;\n                while ((linea = br.readLine()) != null)\n                    System.out.println(linea);\n        \n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>And this is the child process code:</p>\n<pre><code>import java.io.*;\n\npublic class Subprocess {\n    public static void main(String[] args) {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        try {\n             System.out.println(reader.readLine().toUpperCase());  \n        } catch (IOException ex){\n\n        }\n    }\n}\n</code></pre>\n<p>Now, if I execute it like this, the program would ask me for input. For example if I send &quot;message&quot;, I get back &quot;MESSAGE&quot; in this case. It doesn't work again of course, because then the subprocess is over (I get a error message about the Stream being closed). I've used a while loop for the readLine() call in the subprocess class, but that just makes the Main program wait forever for the subprocess to finish, and that never happens. I don't know what I'm missing.</p>\n"},{"tags":["java","certificate","jnlp"],"answers":[{"comments":[{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1376318593,"post_id":18189950,"comment_id":26654597,"body_markdown":"The information I have says that self-signed JNLP launches are deprecated as of Java 7U21.  :(","body":"The information I have says that self-signed JNLP launches are deprecated as of Java 7U21.  :("},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1376318696,"post_id":18189950,"comment_id":26654688,"body_markdown":"It really feels like Oracle is abandoning JNLP.  It just doesn&#39;t seem to get any love anymore.  Is there a new technology coming along in Java that I can migrate to?  Or perhaps something 3rd party?  I hate to reinvent the wheel by writing my own launcher...","body":"It really feels like Oracle is abandoning JNLP.  It just doesn&#39;t seem to get any love anymore.  Is there a new technology coming along in Java that I can migrate to?  Or perhaps something 3rd party?  I hate to reinvent the wheel by writing my own launcher..."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1376320552,"post_id":18189950,"comment_id":26656018,"body_markdown":"@BrianKnoblauch One thing with self signed certificate is that you get a warning - but I don&#39;t think it is deprecated","body":"@BrianKnoblauch One thing with self signed certificate is that you get a warning - but I don&#39;t think it is deprecated"},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":1,"creation_date":1376321054,"post_id":18189950,"comment_id":26656344,"body_markdown":"The Netbeans &quot;Web Start&quot; configuration panel states: &quot;Warning: Unsigned and self-signed WebStart Applications and Applets are deprecated from JDK7u21 onwards. To ensure future correct functionality please use trusted certificate.&quot; [sic]","body":"The Netbeans &quot;Web Start&quot; configuration panel states: &quot;Warning: Unsigned and self-signed WebStart Applications and Applets are deprecated from JDK7u21 onwards. To ensure future correct functionality please use trusted certificate.&quot; [sic]"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1376356699,"post_id":18189950,"comment_id":26671891,"body_markdown":"*&quot;Each JNLP-component has to be signed AND they all have to be signed with the SAME certificate for the application to run. You also have to sign foreign libraries ( jars etc. ) that you want to include in your app.&quot;*  Not entirely relevant to this question, but that is misleading.  All Java files in any ***one*** JNLP file should be signed using the same certificate, but each extension/component JNLP can (and normally would) be signed by a 3rd party using a different certificate.","body":"<i>&quot;Each JNLP-component has to be signed AND they all have to be signed with the SAME certificate for the application to run. You also have to sign foreign libraries ( jars etc. ) that you want to include in your app.&quot;</i>  Not entirely relevant to this question, but that is misleading.  All Java files in any <b><i>one</i></b> JNLP file should be signed using the same certificate, but each extension/component JNLP can (and normally would) be signed by a 3rd party using a different certificate."}],"tags":[],"owner":{"account_id":1479453,"reputation":1399,"user_id":1389153,"display_name":"Christopher Stock"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376318531,"creation_date":1376318531,"answer_id":18189950,"question_id":18189742,"body_markdown":"No, sorry. :)\r\n\r\nEach JNLP-component has to be signed AND they all have to be signed with the SAME certificate for the application to run. You also have to sign foreign libraries ( jars etc. ) that you want to include in your app.\r\n\r\nI have no information, that self-signing jnlp components may be deprecated?\r\nYou can use the keytool to create a keystore and the certificate.\r\n\r\nFind Oracle&#39;s documentation about JNLP here:\r\n**[http://www.oracle.com/technetwork/java/javase/index-142562.html][1]**\r\n\r\nHope this may help you?\r\n\r\nGreetings\r\nChristopher\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/index-142562.html","title":"Is there a way to do JNLP without certificates?","body":"<p>No, sorry. :)</p>\n\n<p>Each JNLP-component has to be signed AND they all have to be signed with the SAME certificate for the application to run. You also have to sign foreign libraries ( jars etc. ) that you want to include in your app.</p>\n\n<p>I have no information, that self-signing jnlp components may be deprecated?\nYou can use the keytool to create a keystore and the certificate.</p>\n\n<p>Find Oracle's documentation about JNLP here:\n<strong><a href=\"http://www.oracle.com/technetwork/java/javase/index-142562.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/index-142562.html</a></strong></p>\n\n<p>Hope this may help you?</p>\n\n<p>Greetings\nChristopher</p>\n"},{"comments":[{"owner":{"account_id":2289067,"reputation":3571,"user_id":2012441,"accept_rate":86,"display_name":"mschenk74"},"score":2,"creation_date":1376407503,"post_id":18211597,"comment_id":26695765,"body_markdown":"but this will only work with Java versions having multiple levels of security settings. In future versions there will only be the &quot;highest&quot; level according to some oracle statements","body":"but this will only work with Java versions having multiple levels of security settings. In future versions there will only be the &quot;highest&quot; level according to some oracle statements"},{"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"score":0,"creation_date":1389192682,"post_id":18211597,"comment_id":31556068,"body_markdown":"to me setting the security to &quot;middle&quot; didn&#180;t help.","body":"to me setting the security to &quot;middle&quot; didn&#180;t help."}],"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1376403444,"creation_date":1376403444,"answer_id":18211597,"question_id":18189742,"body_markdown":"Yes, possible (but not recommended).\r\n\r\nIf you are using it only internally (locally) you could lower your java security settings from high to middle then you are able to execute your app again. But then I would probably deactivate your web browser plugin...","title":"Is there a way to do JNLP without certificates?","body":"<p>Yes, possible (but not recommended).</p>\n\n<p>If you are using it only internally (locally) you could lower your java security settings from high to middle then you are able to execute your app again. But then I would probably deactivate your web browser plugin...</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1376427589,"creation_date":1376427589,"answer_id":18219124,"question_id":18189742,"body_markdown":"It seems that the [coming Java 7u40][1] recognises the need for a solution and provides a new feature:\r\n\r\n&gt; In an enterprise that provides a common execution environment and manages the applications that employees access, the Deployment Rule Set feature enables the enterprise to establish a whitelist and a blacklist of known applications.\r\n\r\n [1]: http://jdk7.java.net/EA_features_changes.html","title":"Is there a way to do JNLP without certificates?","body":"<p>It seems that the <a href=\"http://jdk7.java.net/EA_features_changes.html\" rel=\"noreferrer\">coming Java 7u40</a> recognises the need for a solution and provides a new feature:</p>\n\n<blockquote>\n  <p>In an enterprise that provides a common execution environment and manages the applications that employees access, the Deployment Rule Set feature enables the enterprise to establish a whitelist and a blacklist of known applications.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2324653,"reputation":2869,"user_id":2039455,"display_name":"Laura Liparulo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383642171,"creation_date":1383642171,"answer_id":19785097,"question_id":18189742,"body_markdown":"I have just made a &quot;Java-Application with a certification with a trusted authority&quot; in Java 7u45 with a self-signed certificate.\r\n\r\nIn the Manifest I have set the Permissions as &quot;all-permissions&quot; and I have deleted the tags about security in the jnlp. Then I have exported my own self signed certificate and imported in the Java Control Panel of my Desktop \r\n\r\nIn this way there is no Warning about the future release blocking the application.\r\n\r\nI hope this helps.\r\n","title":"Is there a way to do JNLP without certificates?","body":"<p>I have just made a \"Java-Application with a certification with a trusted authority\" in Java 7u45 with a self-signed certificate.</p>\n\n<p>In the Manifest I have set the Permissions as \"all-permissions\" and I have deleted the tags about security in the jnlp. Then I have exported my own self signed certificate and imported in the Java Control Panel of my Desktop </p>\n\n<p>In this way there is no Warning about the future release blocking the application.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3114310,"reputation":2877,"user_id":2635443,"accept_rate":88,"display_name":"Orsiris de Jong"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665220716,"creation_date":1665220716,"answer_id":73995794,"question_id":18189742,"body_markdown":"I&#39;ve built a portable JAVAWS launcher for JNLP files that come from IPMI / IMM / ILO / IRMC / IDRAC / KVM servers that should work on a fair high number of old servers. Security settings in my portable launcher are already preset to support prehistoric devices.\r\n\r\nYou can find the project at https://github.com/netinvent/ipmi-starter\r\n\r\nYou can also check out the explanation of `jre\\lib\\security\\java.security` settings in the README, allowing to tweak various security settings, allowing to use old java apps with expired certificates.","title":"Is there a way to do JNLP without certificates?","body":"<p>I've built a portable JAVAWS launcher for JNLP files that come from IPMI / IMM / ILO / IRMC / IDRAC / KVM servers that should work on a fair high number of old servers. Security settings in my portable launcher are already preset to support prehistoric devices.</p>\n<p>You can find the project at <a href=\"https://github.com/netinvent/ipmi-starter\" rel=\"nofollow noreferrer\">https://github.com/netinvent/ipmi-starter</a></p>\n<p>You can also check out the explanation of <code>jre\\lib\\security\\java.security</code> settings in the README, allowing to tweak various security settings, allowing to use old java apps with expired certificates.</p>\n"}],"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12822,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":18211597,"answer_count":5,"score":8,"last_activity_date":1665220716,"creation_date":1376318020,"question_id":18189742,"body_markdown":"I&#39;ve got an internal only app that I&#39;ve historically self-signed.  With the latest version of Java, self-signing for JNLP is deprecated.  I have also experienced strange problems with opening sockets from self-signed apps with Java 7U25 (but work fine when run as a normal jar from the command line).\r\n\r\nIs there a way to do JNLP without signing at all?  Given that it&#39;s an internal only app, signing is not necessary (to me).  I really don&#39;t want to spend money buying a certificate when it&#39;s not truly necessary.","title":"Is there a way to do JNLP without certificates?","body":"<p>I've got an internal only app that I've historically self-signed.  With the latest version of Java, self-signing for JNLP is deprecated.  I have also experienced strange problems with opening sockets from self-signed apps with Java 7U25 (but work fine when run as a normal jar from the command line).</p>\n\n<p>Is there a way to do JNLP without signing at all?  Given that it's an internal only app, signing is not necessary (to me).  I really don't want to spend money buying a certificate when it's not truly necessary.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9244,"page":979,"page_size":100}
