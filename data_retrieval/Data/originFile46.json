{"items":[{"tags":["java","microservices","keycloak","keycloak-spi"],"owner":{"account_id":1741891,"reputation":887,"user_id":1593058,"accept_rate":61,"display_name":"BUKTOP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700612710,"creation_date":1700612710,"question_id":77526681,"body_markdown":"I have a Keycloak instance that I use as an IAM via OAuth2 for my services. Upon user registration and login, I need to prepare some additional data to be used later by the services. To achieve this, I have implemented a dedicated service with the endpoint protected by the same IAM. This endpoint should be called on each user&#39; login or registration, initiating data preparation process. My idea was, that upon login or registration, Keycloak should pass user ID and action (login or registration) to the Service initiating required actions in it:\r\n```\r\nUser              :        Service        :         Keycloak          :            Keycloak EventListener\r\n------------------+-----------------------+---------------------------+--------------------------------------\r\n                  :                       :                           :\r\n                  :                       :                           :\r\n [Login/Register]-------------[OAuth2]----------------&gt;               :\r\n                  :                       :           ------------[Login/Create event]-----------&gt;\r\n                  :                       :                           :\r\n                  :                       :           &lt;---[Get token, client credentials flow]----\r\n                  :                       :                           :\r\n                  :                       :           -----------------[Token]-------------------&gt;\r\n                  :                       :                           :\r\n                  :         &lt;--------------------[Access resource endpoint]-----------------------\r\n                  :                       :                           :\r\n                  :  [Do required tasks]  :                           :\r\n                  :                       :                           :\r\n                  :                       :                           :\r\n```\r\nSo, currently &quot;Service&quot; has a protected endpoint allowed to access by some particular client only, using client credentials flow (via dedicated role, but doesn&#39;t matter, I suppose). My EventListener ``public class LoginEventListenerProvider implements EventListenerProvider`` obtains the token from the ``.../token`` Keycloak&#39;s endpoint via HTTP request, then use this token to access &quot;Service&quot; endpoint, passing user id and action there, which initiates required tasks on the &quot;Service&quot; side.\r\n\r\nMy question is, could it be simplified? At least, since my EventListener is already running as a part of the Keycloak, is it possible to use some API to get the token? Or maybe there is another approach to implement things like this?\r\n\r\nThank you!\r\n","title":"Perform tasks upon keycloak&#39;s login/register events","body":"<p>I have a Keycloak instance that I use as an IAM via OAuth2 for my services. Upon user registration and login, I need to prepare some additional data to be used later by the services. To achieve this, I have implemented a dedicated service with the endpoint protected by the same IAM. This endpoint should be called on each user' login or registration, initiating data preparation process. My idea was, that upon login or registration, Keycloak should pass user ID and action (login or registration) to the Service initiating required actions in it:</p>\n<pre><code>User              :        Service        :         Keycloak          :            Keycloak EventListener\n------------------+-----------------------+---------------------------+--------------------------------------\n                  :                       :                           :\n                  :                       :                           :\n [Login/Register]-------------[OAuth2]----------------&gt;               :\n                  :                       :           ------------[Login/Create event]-----------&gt;\n                  :                       :                           :\n                  :                       :           &lt;---[Get token, client credentials flow]----\n                  :                       :                           :\n                  :                       :           -----------------[Token]-------------------&gt;\n                  :                       :                           :\n                  :         &lt;--------------------[Access resource endpoint]-----------------------\n                  :                       :                           :\n                  :  [Do required tasks]  :                           :\n                  :                       :                           :\n                  :                       :                           :\n</code></pre>\n<p>So, currently &quot;Service&quot; has a protected endpoint allowed to access by some particular client only, using client credentials flow (via dedicated role, but doesn't matter, I suppose). My EventListener <code>public class LoginEventListenerProvider implements EventListenerProvider</code> obtains the token from the <code>.../token</code> Keycloak's endpoint via HTTP request, then use this token to access &quot;Service&quot; endpoint, passing user id and action there, which initiates required tasks on the &quot;Service&quot; side.</p>\n<p>My question is, could it be simplified? At least, since my EventListener is already running as a part of the Keycloak, is it possible to use some API to get the token? Or maybe there is another approach to implement things like this?</p>\n<p>Thank you!</p>\n"},{"tags":["java","json","schemacrawler"],"answers":[{"comments":[{"owner":{"account_id":29947870,"reputation":1,"user_id":22950711,"display_name":"Anna Głowiak"},"score":0,"creation_date":1700730070,"post_id":77526620,"comment_id":136690998,"body_markdown":"Thank you for your answer and creating an example. I am sorry to bother you again, but I am afraid the usage of the current version of SchemaCrawler is still not clear for me. I should mention that my database types are DB2 and MSSQL. In version 11.01.01 the command that I execute is &quot;details&quot;. When I use this command now, I get the exception: schemacrawler.schemacrawler.exceptions.ConfigurationException: Output format &lt;json&gt; not supported for command &lt;details&gt;. When I use &quot;serialize&quot; then I get: schemacrawler.schemacrawler.exceptions.ExecutionRuntimeException: Unknown command &lt;serialize&gt;.","body":"Thank you for your answer and creating an example. I am sorry to bother you again, but I am afraid the usage of the current version of SchemaCrawler is still not clear for me. I should mention that my database types are DB2 and MSSQL. In version 11.01.01 the command that I execute is &quot;details&quot;. When I use this command now, I get the exception: schemacrawler.schemacrawler.exceptions.ConfigurationExceptio&zwnj;&#8203;n: Output format &lt;json&gt; not supported for command &lt;details&gt;. When I use &quot;serialize&quot; then I get: schemacrawler.schemacrawler.exceptions.ExecutionRuntimeExcep&zwnj;&#8203;tion: Unknown command &lt;serialize&gt;."},{"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"score":0,"creation_date":1700837397,"post_id":77526620,"comment_id":136705441,"body_markdown":"Anna, the example above is a working example using the latest ScheamCrawler version, v16.20.6. Please use that as a starting point. Did you get the example working?\n\nIf you are getting an unknown command error, check your classpath, and make sure it is the same as in the example.","body":"Anna, the example above is a working example using the latest ScheamCrawler version, v16.20.6. Please use that as a starting point. Did you get the example working?  If you are getting an unknown command error, check your classpath, and make sure it is the same as in the example."},{"owner":{"account_id":29947870,"reputation":1,"user_id":22950711,"display_name":"Anna Głowiak"},"score":0,"creation_date":1701780768,"post_id":77526620,"comment_id":136815584,"body_markdown":"Yes, I get the example and my code working. I had in fact a mistake in classpath, thank you for pointing that out. Now I am able to use the &#39;serialize&#39; command, but in the older version I used the command &#39;details&#39;, which causes an exception in the new version: schemacrawler.schemacrawler.exceptions.ConfigurationException: Output format &lt;json&gt; not supported for command &lt;details&gt;. Is there a way for me to get an output identical as before or do I have to adjust my code to the new output?","body":"Yes, I get the example and my code working. I had in fact a mistake in classpath, thank you for pointing that out. Now I am able to use the &#39;serialize&#39; command, but in the older version I used the command &#39;details&#39;, which causes an exception in the new version: schemacrawler.schemacrawler.exceptions.ConfigurationExceptio&zwnj;&#8203;n: Output format &lt;json&gt; not supported for command &lt;details&gt;. Is there a way for me to get an output identical as before or do I have to adjust my code to the new output?"},{"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"score":0,"creation_date":1701822890,"post_id":77526620,"comment_id":136822455,"body_markdown":"Anna, the JSON output in previous versions was hand-crafted, but in this version, the JSON is generated using Jackson. Sorry, there is no way to get the old format in the new version.","body":"Anna, the JSON output in previous versions was hand-crafted, but in this version, the JSON is generated using Jackson. Sorry, there is no way to get the old format in the new version."},{"owner":{"account_id":29947870,"reputation":1,"user_id":22950711,"display_name":"Anna Głowiak"},"score":1,"creation_date":1701850348,"post_id":77526620,"comment_id":136824814,"body_markdown":"Thank you again for all your help! Everything is now clear to me.","body":"Thank you again for all your help! Everything is now clear to me."}],"tags":[],"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700611356,"creation_date":1700611356,"answer_id":77526620,"question_id":77515429,"body_markdown":"Anna,\r\n\r\nYou need to use the `serialize` command with [SchemaCrawler][1], as well as set the output format to JSON. There are now builders to build the options. Since you are jumping ahead by a few major versions of [SchemaCrawler][1], I have created a working example for you at https://github.com/sualeh/sc-example Please use this as a starting point for your code.\r\n\r\nSualeh Fatehi  \r\n[SchemaCrawler][1]\r\n\r\n\r\n  [1]: https://www.schemacrawler.com/","title":"How to serialize output from schemacrawler to JSON in Java?","body":"<p>Anna,</p>\n<p>You need to use the <code>serialize</code> command with <a href=\"https://www.schemacrawler.com/\" rel=\"nofollow noreferrer\">SchemaCrawler</a>, as well as set the output format to JSON. There are now builders to build the options. Since you are jumping ahead by a few major versions of <a href=\"https://www.schemacrawler.com/\" rel=\"nofollow noreferrer\">SchemaCrawler</a>, I have created a working example for you at <a href=\"https://github.com/sualeh/sc-example\" rel=\"nofollow noreferrer\">https://github.com/sualeh/sc-example</a> Please use this as a starting point for your code.</p>\n<p>Sualeh Fatehi<br />\n<a href=\"https://www.schemacrawler.com/\" rel=\"nofollow noreferrer\">SchemaCrawler</a></p>\n"}],"owner":{"account_id":29947870,"reputation":1,"user_id":22950711,"display_name":"Anna Głowiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700611356,"creation_date":1700478794,"question_id":77515429,"body_markdown":"I would like to upgrade schemacrawler that I use from version 11.01.01 to version 16.20.5. I&#39;ve already managed to adapt most of the code, but there is this one last thing I can&#39;t figure out.\r\n\r\nThe code using schemacrawler 11.01.01 created a JSON output this way:\r\n```\r\nOutputOptions outputOptions = new OutputOptions(TextOutputFormat.json.getFormat(), file);\r\n```\r\nBoth `OutputOptions` and `TextOutputFormat` were in `schemacrawler.tools.options` package.\r\n\r\nHow to implement this functionality in the new version? Could you please help me?\r\n\r\nI found the information that writing output to JSON should be possible and how to do it using the command line. But I need an example of how to do it in **Java**. I see that there is Jackson, but I still don&#39;t know how to use it with schemacrawler.","title":"How to serialize output from schemacrawler to JSON in Java?","body":"<p>I would like to upgrade schemacrawler that I use from version 11.01.01 to version 16.20.5. I've already managed to adapt most of the code, but there is this one last thing I can't figure out.</p>\n<p>The code using schemacrawler 11.01.01 created a JSON output this way:</p>\n<pre><code>OutputOptions outputOptions = new OutputOptions(TextOutputFormat.json.getFormat(), file);\n</code></pre>\n<p>Both <code>OutputOptions</code> and <code>TextOutputFormat</code> were in <code>schemacrawler.tools.options</code> package.</p>\n<p>How to implement this functionality in the new version? Could you please help me?</p>\n<p>I found the information that writing output to JSON should be possible and how to do it using the command line. But I need an example of how to do it in <strong>Java</strong>. I see that there is Jackson, but I still don't know how to use it with schemacrawler.</p>\n"},{"tags":["java","android","android-permissions","android-glide"],"owner":{"account_id":19710493,"reputation":3,"user_id":15680620,"display_name":"Дмитрий Воликов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700611062,"creation_date":1700611062,"question_id":77526611,"body_markdown":"In my app I has page that displays a list of images. I use Glide library to load images.\r\nSo, the problem is landscape orientation. If device orientation is portrait - all good, but if landscape - &quot;Permission denial opening provider requires that you obtain access using ACTION_GET_DOCUMENT or related APIs&quot;.\r\n\r\nI have only one permission in my manifest file:\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;32&quot; /&gt;`.\r\n\r\nThis is my Glide code for loading image:\r\n\r\n```\r\nGlide\r\n    .with(context)\r\n    .load(uriArrayList.get(position))\r\n    .dontAnimate()\r\n    .into(holder.imageView);\r\n```\r\n\r\n\r\nI tried to find information about this but couldn&#39;t find anything that I really needed.\r\n\r\nAdding `android:requestLegacyExternalStorage=&quot;true&quot;` was not helpful.","title":"Why bumptech/glide does not loading images when device has landscape orientation?","body":"<p>In my app I has page that displays a list of images. I use Glide library to load images.\nSo, the problem is landscape orientation. If device orientation is portrait - all good, but if landscape - &quot;Permission denial opening provider requires that you obtain access using ACTION_GET_DOCUMENT or related APIs&quot;.</p>\n<p>I have only one permission in my manifest file:\n<code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;32&quot; /&gt;</code>.</p>\n<p>This is my Glide code for loading image:</p>\n<pre><code>Glide\n    .with(context)\n    .load(uriArrayList.get(position))\n    .dontAnimate()\n    .into(holder.imageView);\n</code></pre>\n<p>I tried to find information about this but couldn't find anything that I really needed.</p>\n<p>Adding <code>android:requestLegacyExternalStorage=&quot;true&quot;</code> was not helpful.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1700610583,"post_id":77526586,"comment_id":136675328,"body_markdown":"Sure, you can do it all in memory, assuming the data is not too big.","body":"Sure, you can do it all in memory, assuming the data is not too big."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1700611677,"post_id":77526586,"comment_id":136675412,"body_markdown":"Doing the job in memory (or a RAM Disk) will likely help performance, but you seem to have functional problem.  Can you provide the stack trace?","body":"Doing the job in memory (or a RAM Disk) will likely help performance, but you seem to have functional problem.  Can you provide the stack trace?"},{"owner":{"account_id":27274263,"reputation":21,"user_id":20795134,"display_name":"Trần Phước Lộc"},"score":0,"creation_date":1700637361,"post_id":77526586,"comment_id":136677662,"body_markdown":"@AndrewL sorry but can you explain your comment for me ? My english is not well , i dont know what is stack trace.","body":"@AndrewL sorry but can you explain your comment for me ? My english is not well , i dont know what is stack trace."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1700644102,"post_id":77526586,"comment_id":136678731,"body_markdown":"See: https://stackoverflow.com/questions/3988788","body":"See: <a href=\"https://stackoverflow.com/questions/3988788\">stackoverflow.com/questions/3988788</a>"}],"owner":{"account_id":27274263,"reputation":21,"user_id":20795134,"display_name":"Trần Phước Lộc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700610481,"creation_date":1700610481,"question_id":77526586,"body_markdown":"I have a task about working with file in java,user will push your file to api endpoint, i will unzip it, then modify it(ex: add some file, change some file), then return it to user.\r\nThis is my strategy:\r\n\r\n 1. Get .zip file (save it on disk)\r\n 2. Unzip it (save it on disk)\r\n 3. Get some .zip file on S3 (save it on disk)\r\n 4. Unzip s3 file to user upload file (save it on disk)\r\n 5. zip user upload file again (save it on disk)\r\n 6. return it to user\r\n 7. Clean up file on disk\r\n\r\nThis is my code\r\n```\r\npublic Object deliveryApp(MultipartFile file, String s3KeyName, String fileNameTemporary) {\r\n        try {\r\n\r\n            //Save fileUpload to disk (.zip file)\r\n            OutputStream osFileUpload = new FileOutputStream(&quot;filesDelivery/upload/&quot; + fileNameTemporary);\r\n            osFileUpload.write(file.getBytes());\r\n\r\n            //Unzip fileUpload\r\n            ZipFile zipFileUpload = new ZipFile(&quot;filesDelivery/upload/&quot; + fileNameTemporary);\r\n            List&lt;FileHeader&gt; fileHeaders = zipFileUpload.getFileHeaders();\r\n\r\n\r\n            //If .zip file have mutiple root folder -&gt; return error\r\n            String rootFolderOfZipFile = fileHeaders.get(0).getFileName();\r\n            boolean isOneRootFolderInsideZipFile = true;\r\n\r\n            for (FileHeader fileHeader : fileHeaders) {\r\n                if (!fileHeader.getFileName().startsWith(rootFolderOfZipFile)) {\r\n                    isOneRootFolderInsideZipFile = false;\r\n                }\r\n            }\r\n\r\n            if (!isOneRootFolderInsideZipFile) return ResponseEntity.badRequest().body(&quot;have mutiple root folder inside .zip file&quot;);\r\n\r\n\r\n            //change root folder to avoid same app name of user\r\n            try {\r\n                zipFileUpload.getFileHeader(fileHeaders.get(0).getFileName());\r\n                zipFileUpload.renameFile(fileHeaders.get(0).getFileName(), fileNameTemporary);\r\n            } catch (ZipException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            //Extract file to upload-extraction\r\n            zipFileUpload.extractAll(&quot;filesDelivery/upload-extraction&quot;);\r\n\r\n            //Get s3 object\r\n            GetObjectRequest getObjectRequest = GetObjectRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .key(s3KeyName)\r\n                    .build();\r\n            ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3Client.getObjectAsBytes(getObjectRequest);\r\n            byte[] data = objectBytes.asByteArray();\r\n\r\n            //Save s3 object to disk (.zip file)\r\n            File fileFromS3 = new File(&quot;filesDelivery/s3/&quot; + s3KeyName);\r\n            OutputStream osS3 = new FileOutputStream(fileFromS3);\r\n            osS3.write(data);\r\n            osS3.close();\r\n\r\n            //Unzip s3 object to fileUpload of user\r\n            ZipFile zipFiles3 = new ZipFile(&quot;filesDelivery/s3/&quot; + s3KeyName);\r\n            zipFiles3.extractAll(&quot;filesDelivery/upload-extraction/&quot; + fileNameTemporary);\r\n\r\n            //zip file response\r\n            new ZipFile(&quot;filesDelivery/response/&quot; + fileNameTemporary).addFolder(\r\n                    new File(&quot;filesDelivery/upload-extraction/&quot; + fileNameTemporary));\r\n\r\n            File fileResponse = new File(&quot;filesDelivery/response/&quot; + fileNameTemporary);\r\n            //return\r\n            InputStreamResource resource = new InputStreamResource(new FileInputStream(fileResponse));\r\n            return ResponseEntity.ok()\r\n                    .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                    .body(resource);\r\n        } catch (AwsServiceException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\nIt work well for small request , but when i use the for loop to send over 100 or 1000 request, it not work well, some request get status 500 with some error\r\n\r\nThis is my code to send request to server\r\n```\r\n  const array =  [...Array(100).keys()]\r\n\r\n    \r\n     Promise.all&lt;any&gt;(array.map(async item =&gt; {\r\n        formData.set(&quot;fileNameTemporary&quot;,fileInput.value.name + &quot;__&quot; + Date.now() + &quot;__&quot; + uuidv4());\r\n       \r\n        const response = await axios.post(\r\n      &quot;http://localhost:8080/delivery&quot;,\r\n      formData,\r\n      {\r\n        responseType: &quot;blob&quot;,\r\n      }\r\n    );\r\n    return response.data\r\n    \r\n    })).then(data =&gt;{\r\n        console.log({data})\r\n    }).catch(err =&gt;{\r\n        console.log({err})\r\n    })\r\n```\r\nThis is some error\r\n```\r\nnet.lingala.zip4j.exception.ZipException: Could not fill buffer\r\n```\r\n```\r\njava.io.EOFException: null\r\n```\r\nIs seem mess and some people recommend do not save file on disk, is it true?\r\nIf it true, are there any solution ?\r\n\r\n**THANKS FOR ALL**","title":"is it possible to working with complex file without save it on disk?","body":"<p>I have a task about working with file in java,user will push your file to api endpoint, i will unzip it, then modify it(ex: add some file, change some file), then return it to user.\nThis is my strategy:</p>\n<ol>\n<li>Get .zip file (save it on disk)</li>\n<li>Unzip it (save it on disk)</li>\n<li>Get some .zip file on S3 (save it on disk)</li>\n<li>Unzip s3 file to user upload file (save it on disk)</li>\n<li>zip user upload file again (save it on disk)</li>\n<li>return it to user</li>\n<li>Clean up file on disk</li>\n</ol>\n<p>This is my code</p>\n<pre><code>public Object deliveryApp(MultipartFile file, String s3KeyName, String fileNameTemporary) {\n        try {\n\n            //Save fileUpload to disk (.zip file)\n            OutputStream osFileUpload = new FileOutputStream(&quot;filesDelivery/upload/&quot; + fileNameTemporary);\n            osFileUpload.write(file.getBytes());\n\n            //Unzip fileUpload\n            ZipFile zipFileUpload = new ZipFile(&quot;filesDelivery/upload/&quot; + fileNameTemporary);\n            List&lt;FileHeader&gt; fileHeaders = zipFileUpload.getFileHeaders();\n\n\n            //If .zip file have mutiple root folder -&gt; return error\n            String rootFolderOfZipFile = fileHeaders.get(0).getFileName();\n            boolean isOneRootFolderInsideZipFile = true;\n\n            for (FileHeader fileHeader : fileHeaders) {\n                if (!fileHeader.getFileName().startsWith(rootFolderOfZipFile)) {\n                    isOneRootFolderInsideZipFile = false;\n                }\n            }\n\n            if (!isOneRootFolderInsideZipFile) return ResponseEntity.badRequest().body(&quot;have mutiple root folder inside .zip file&quot;);\n\n\n            //change root folder to avoid same app name of user\n            try {\n                zipFileUpload.getFileHeader(fileHeaders.get(0).getFileName());\n                zipFileUpload.renameFile(fileHeaders.get(0).getFileName(), fileNameTemporary);\n            } catch (ZipException e) {\n                throw new RuntimeException(e);\n            }\n\n            //Extract file to upload-extraction\n            zipFileUpload.extractAll(&quot;filesDelivery/upload-extraction&quot;);\n\n            //Get s3 object\n            GetObjectRequest getObjectRequest = GetObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(s3KeyName)\n                    .build();\n            ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3Client.getObjectAsBytes(getObjectRequest);\n            byte[] data = objectBytes.asByteArray();\n\n            //Save s3 object to disk (.zip file)\n            File fileFromS3 = new File(&quot;filesDelivery/s3/&quot; + s3KeyName);\n            OutputStream osS3 = new FileOutputStream(fileFromS3);\n            osS3.write(data);\n            osS3.close();\n\n            //Unzip s3 object to fileUpload of user\n            ZipFile zipFiles3 = new ZipFile(&quot;filesDelivery/s3/&quot; + s3KeyName);\n            zipFiles3.extractAll(&quot;filesDelivery/upload-extraction/&quot; + fileNameTemporary);\n\n            //zip file response\n            new ZipFile(&quot;filesDelivery/response/&quot; + fileNameTemporary).addFolder(\n                    new File(&quot;filesDelivery/upload-extraction/&quot; + fileNameTemporary));\n\n            File fileResponse = new File(&quot;filesDelivery/response/&quot; + fileNameTemporary);\n            //return\n            InputStreamResource resource = new InputStreamResource(new FileInputStream(fileResponse));\n            return ResponseEntity.ok()\n                    .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                    .body(resource);\n        } catch (AwsServiceException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>It work well for small request , but when i use the for loop to send over 100 or 1000 request, it not work well, some request get status 500 with some error</p>\n<p>This is my code to send request to server</p>\n<pre><code>  const array =  [...Array(100).keys()]\n\n    \n     Promise.all&lt;any&gt;(array.map(async item =&gt; {\n        formData.set(&quot;fileNameTemporary&quot;,fileInput.value.name + &quot;__&quot; + Date.now() + &quot;__&quot; + uuidv4());\n       \n        const response = await axios.post(\n      &quot;http://localhost:8080/delivery&quot;,\n      formData,\n      {\n        responseType: &quot;blob&quot;,\n      }\n    );\n    return response.data\n    \n    })).then(data =&gt;{\n        console.log({data})\n    }).catch(err =&gt;{\n        console.log({err})\n    })\n</code></pre>\n<p>This is some error</p>\n<pre><code>net.lingala.zip4j.exception.ZipException: Could not fill buffer\n</code></pre>\n<pre><code>java.io.EOFException: null\n</code></pre>\n<p>Is seem mess and some people recommend do not save file on disk, is it true?\nIf it true, are there any solution ?</p>\n<p><strong>THANKS FOR ALL</strong></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1700493113,"post_id":77512697,"comment_id":136658043,"body_markdown":"*Two of those work perfectly fine* - which two? *But one of them* - which one? How is the code different between the two that work and the one that doesn&#39;t? That is what debugging is about. The code you posted doesn&#39;t help because you use 3rd party classes. When asking a question post a proper [mre]. Also, there is no need for a &quot;CardManager&quot; class. To swap panels you should be using a [Card Layout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)","body":"<i>Two of those work perfectly fine</i> - which two? <i>But one of them</i> - which one? How is the code different between the two that work and the one that doesn&#39;t? That is what debugging is about. The code you posted doesn&#39;t help because you use 3rd party classes. When asking a question post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, there is no need for a &quot;CardManager&quot; class. To swap panels you should be using a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">Card Layout</a>"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1700505087,"post_id":77512697,"comment_id":136660386,"body_markdown":"Answering the question in your title, you create an instance of the panel class and get the `JPanel` instance using a panel class getter.","body":"Answering the question in your title, you create an instance of the panel class and get the <code>JPanel</code> instance using a panel class getter."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700505385,"post_id":77512697,"comment_id":136660442,"body_markdown":"@camickr It is called CardManager because there will be some other functionality, buttons and etc., not because I manage the layout with it. For a Layout Manager I&#39;m using MigLayout. I added more code and a bit more explanation of what happens.","body":"@camickr It is called CardManager because there will be some other functionality, buttons and etc., not because I manage the layout with it. For a Layout Manager I&#39;m using MigLayout. I added more code and a bit more explanation of what happens."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700505472,"post_id":77512697,"comment_id":136660458,"body_markdown":"@GilbertLeBlanc That&#39;s exactly what I did, I think. I created an instance of CardManager in GUI class. CardManager class has a getter method, which just returns the main panel of the CardManager class. And then in switchToSettingsMenu method of GUI class, I call add function ```cardManager = new CardManager();\n        add(cardManager.getPanel(), BorderLayout.CENTER);```, but before that I remove the mainMenu panel. Unless I&#39;m not doing it the right way?","body":"@GilbertLeBlanc That&#39;s exactly what I did, I think. I created an instance of CardManager in GUI class. CardManager class has a getter method, which just returns the main panel of the CardManager class. And then in switchToSettingsMenu method of GUI class, I call add function <code>cardManager = new CardManager();         add(cardManager.getPanel(), BorderLayout.CENTER);</code>, but before that I remove the mainMenu panel. Unless I&#39;m not doing it the right way?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700506206,"post_id":77512697,"comment_id":136660563,"body_markdown":"1) The &quot;CardLayout&quot; should be the top level layout manager. It is used to swap panels. The MigLayout can be used on individual panels. Did you read the tutorial for a working example? 2) You still haven&#39;t stated which buttons work and which don&#39;t and what the code difference is? 3) Still haven&#39;t posted an [mre]. An MRE should be a single class that simulates the problem you are describing. We are not interest in the entire application. The tutorial I linked to has an MRE for you to understand and modify to meet your requirements.","body":"1) The &quot;CardLayout&quot; should be the top level layout manager. It is used to swap panels. The MigLayout can be used on individual panels. Did you read the tutorial for a working example? 2) You still haven&#39;t stated which buttons work and which don&#39;t and what the code difference is? 3) Still haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. An MRE should be a single class that simulates the problem you are describing. We are not interest in the entire application. The tutorial I linked to has an MRE for you to understand and modify to meet your requirements."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700506677,"post_id":77512697,"comment_id":136660644,"body_markdown":"@camickr BorderLayout should work fine, too, no?  Which is used as a top level layout manager. MigLayout is only used for other panels. I have stated which buttons work and which don&#39;t. And there&#39;s no code difference in how I&#39;m switching between panels. And I don&#39;t see how a single class example would help here, because maybe the problem lies in how I&#39;m getting stuff FROM ANOTHER CLASS. As per my understanding, it should be fine, but as I have already stated, I&#39;m new and still figuring stuff out, so I&#39;m not 100% sure.","body":"@camickr BorderLayout should work fine, too, no?  Which is used as a top level layout manager. MigLayout is only used for other panels. I have stated which buttons work and which don&#39;t. And there&#39;s no code difference in how I&#39;m switching between panels. And I don&#39;t see how a single class example would help here, because maybe the problem lies in how I&#39;m getting stuff FROM ANOTHER CLASS. As per my understanding, it should be fine, but as I have already stated, I&#39;m new and still figuring stuff out, so I&#39;m not 100% sure."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700509310,"post_id":77512697,"comment_id":136661055,"body_markdown":"So you still haven&#39;t read the CardLayout tutorial have you??? Yes, the frame uses a BorderLayout. The CardLayout is used on the panel holding the panels you want to swap. Read the tutorial and download the test code. That is how you learn. Start from a working example.  *I have stated which buttons work and which don&#39;t* - finally. *there&#39;s no code difference in how I&#39;m switching between panels* - what??? Have you actually looked at the methods &quot;switchToGame&quot; and &quot;switchToSettingsMenu&quot;? They look different to me.","body":"So you still haven&#39;t read the CardLayout tutorial have you??? Yes, the frame uses a BorderLayout. The CardLayout is used on the panel holding the panels you want to swap. Read the tutorial and download the test code. That is how you learn. Start from a working example.  <i>I have stated which buttons work and which don&#39;t</i> - finally. <i>there&#39;s no code difference in how I&#39;m switching between panels</i> - what??? Have you actually looked at the methods &quot;switchToGame&quot; and &quot;switchToSettingsMenu&quot;? They look different to me."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700509366,"post_id":77512697,"comment_id":136661059,"body_markdown":"*the problem lies in how I&#39;m getting stuff FROM ANOTHER CLASS* - once you understand how CardLayout works you can simply use the `getParent()` method of the child panels to access the panel using the CardLayout. Then you use the CardLayout to swap panels. But first you need to understand how to use CardLayout.","body":"<i>the problem lies in how I&#39;m getting stuff FROM ANOTHER CLASS</i> - once you understand how CardLayout works you can simply use the <code>getParent()</code> method of the child panels to access the panel using the CardLayout. Then you use the CardLayout to swap panels. But first you need to understand how to use CardLayout."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700520937,"post_id":77512697,"comment_id":136662650,"body_markdown":"Okey, let&#39;s say I use the CardLayout, but that still doesn&#39;t do anything good for me, because I want to understand what&#39;s exactly wrong with my own method. Like, I appreciate the help, but right now you&#39;re just saying use that, not this, but not explaining why this doesn&#39;t work. And now I really did read through the CardLayout tutorial and while it seems easier, I still want to understand what I did wrong with my own method. Because switching to gamePanel works fine, but not to cardManager.","body":"Okey, let&#39;s say I use the CardLayout, but that still doesn&#39;t do anything good for me, because I want to understand what&#39;s exactly wrong with my own method. Like, I appreciate the help, but right now you&#39;re just saying use that, not this, but not explaining why this doesn&#39;t work. And now I really did read through the CardLayout tutorial and while it seems easier, I still want to understand what I did wrong with my own method. Because switching to gamePanel works fine, but not to cardManager."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700521054,"post_id":77512697,"comment_id":136662664,"body_markdown":"And I really don&#39;t see how those two methods are different, they both do the same thing, they both have same lines. The only difference is in which panels they add. And both panel classes, have the same getters method. Just returns a panel specific to the class. Even constructors for both classes are technically the same. So I really don&#39;t see, how you look at that and see two completely different methods, to be honest. I really appreciate the help, but right now you&#39;re just poking with that only method, like it&#39;s the only method you can do, not really explaining why my method doesn&#39;t work.","body":"And I really don&#39;t see how those two methods are different, they both do the same thing, they both have same lines. The only difference is in which panels they add. And both panel classes, have the same getters method. Just returns a panel specific to the class. Even constructors for both classes are technically the same. So I really don&#39;t see, how you look at that and see two completely different methods, to be honest. I really appreciate the help, but right now you&#39;re just poking with that only method, like it&#39;s the only method you can do, not really explaining why my method doesn&#39;t work."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700528871,"post_id":77512697,"comment_id":136663388,"body_markdown":"And I already told you I can&#39;t help because you haven&#39;t posted an [mre]. You posted incomplete blocks of code an expect us to understand it. It doesn&#39;t work that way.  It is NOT easy to visualize the GUI in our heads to see what happens when one button is clicked vs another button. We need to be able to debug the code to see how it works. Notice how no other person has commented? That is because you haven&#39;t made it easy to answer the question without the MRE.","body":"And I already told you I can&#39;t help because you haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You posted incomplete blocks of code an expect us to understand it. It doesn&#39;t work that way.  It is NOT easy to visualize the GUI in our heads to see what happens when one button is clicked vs another button. We need to be able to debug the code to see how it works. Notice how no other person has commented? That is because you haven&#39;t made it easy to answer the question without the MRE."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700528958,"post_id":77512697,"comment_id":136663395,"body_markdown":"Again you issue is with the swapping of panels when you click a button. The logic behind the game is irrelevant. The [mre] should be a simple version of your application that simply swaps panels. You have been given a working example from the tutorial showing the concept of an MRE. Take time to create your own if you want help with your design. And as I stated the MigLayout is a 3rd party class is irrelevant to the concept of swapping panels, unless maybe it is the reason why it doesn&#39;t work? So the MRE should use standard JDK classes.","body":"Again you issue is with the swapping of panels when you click a button. The logic behind the game is irrelevant. The <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be a simple version of your application that simply swaps panels. You have been given a working example from the tutorial showing the concept of an MRE. Take time to create your own if you want help with your design. And as I stated the MigLayout is a 3rd party class is irrelevant to the concept of swapping panels, unless maybe it is the reason why it doesn&#39;t work? So the MRE should use standard JDK classes."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1700530148,"post_id":77512697,"comment_id":136663498,"body_markdown":"Maybe the issue is that you keep creating a new instance of the CardManager class. Maybe the reference to the &quot;cardManager&quot; variable is not what you expect because the methods that create and then reference the variable are not in the order you think. I would only ever create a single instance of the CardManager class.","body":"Maybe the issue is that you keep creating a new instance of the CardManager class. Maybe the reference to the &quot;cardManager&quot; variable is not what you expect because the methods that create and then reference the variable are not in the order you think. I would only ever create a single instance of the CardManager class."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700609677,"post_id":77512697,"comment_id":136675257,"body_markdown":"@camickr Thank you and sorry if I came out rude. Actually, trying to create an MRE helped find the problem. I rewrote the whole post, only providing code blocks, which were problematic and I would really like to know if the way I&#39;m doing it is right or should I do it another way?","body":"@camickr Thank you and sorry if I came out rude. Actually, trying to create an MRE helped find the problem. I rewrote the whole post, only providing code blocks, which were problematic and I would really like to know if the way I&#39;m doing it is right or should I do it another way?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700619420,"post_id":77512697,"comment_id":136676063,"body_markdown":"No it is NOT an MRE. We can&#39;t copy/paste/compile/test code blocks. I&#39;ve already told you that the tutorial link provides a simple example of an MRE with all the logic in one file.","body":"No it is NOT an MRE. We can&#39;t copy/paste/compile/test code blocks. I&#39;ve already told you that the tutorial link provides a simple example of an MRE with all the logic in one file."},{"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"score":0,"creation_date":1700664679,"post_id":77512697,"comment_id":136682580,"body_markdown":"You’re right, it’s not minimal variant, but complete, which is mentioned in the link you provided. I left code blocks, snippets of the code of each file, which is mentioned that you can do, where I need more help understanding how it should be done the right way. And I tried to provide as much information as possible in the text.","body":"You’re right, it’s not minimal variant, but complete, which is mentioned in the link you provided. I left code blocks, snippets of the code of each file, which is mentioned that you can do, where I need more help understanding how it should be done the right way. And I tried to provide as much information as possible in the text."}],"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700609605,"creation_date":1700431981,"question_id":77512697,"body_markdown":"so I&#39;m still a newbie to all this Java and Swing GUI thing. I switch between the panels from time to time and pretty much all of them has a Back button to go back to the main panel. The problem is, the method that I use to switch to that panel is in my main GUI class, if you can call that and I create an ActionListener in GUIUtils class, where I have all different methods to create stuff in the UI, so I don&#39;t need to rewrite everything every single time. The problem is, I asked for help from ChatGPT and I kind of understood how it works, but right now, I understand that I don&#39;t. So I would appreciate the help to make it right.\r\n\r\nI will just give you a few CodeBlocks that would recreate the problem. \r\n\r\nMy main GUI class has this method\r\n\r\n```\r\npublic void switchToMainMenu() {\r\n        getContentPane().remove(cardManager.getPanel());\r\n        add(createMainMenu(), BorderLayout.CENTER);\r\n        revalidate();\r\n        repaint();\r\n    }\r\n```\r\n\r\nWhich, right now, isn&#39;t really flexible, but for my app, it does the job. Because at the moment, I really only have one panel, that has a Back button, so this code deletes that panel, and adds a main menu panel.\r\n\r\nAnd this is a snippet from my GUIUtils class. I create a BackButtonActionListener with a reference, I think that&#39;s the right word for it, to the GUI class, so that it can use it&#39;s method. And a getter for it, not sure if it&#39;s a 100% needed, but without it, it won&#39;t work.\r\n\r\n```java\r\npublic static class BackButtonAction implements ActionListener {\r\n        private final GUI interfaceAssociation;\r\n\r\n        public BackButtonAction(GUI gui) {\r\n            this.interfaceAssociation = gui;\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            interfaceAssociation.switchToMainMenu();\r\n        }\r\n    }\r\n\r\n    public static ActionListener getBackButtonAction(GUI gui) {\r\n        return new BackButtonAction(gui);\r\n    }\r\n```\r\n\r\nAnd lastly, my CardManager panel&#39;s creation of a button\r\n\r\n```java\r\nJButton backButton = GUIUtils.createButton(&quot;Back&quot;, GUIUtils.getBackButtonAction(new GUI()));\r\n```\r\n\r\nAs I understand, I create a new GUI in it instead of passing a reference to it. I understood that and I fixed by passing a reference to the GUI class in the CardManager&#39;s constructor, not sure if those are the right words for it. \r\n\r\n```java\r\nprivate GUI gui;\r\n\r\n    public CardManager(GUI gui) {\r\n        this.gui = gui;\r\n    }\r\n```\r\n\r\nAnd creating a button like this\r\n\r\n```java\r\nJButton backButton = GUIUtils.createButton(&quot;Back&quot;, GUIUtils.getBackButtonAction(gui));\r\n```\r\n\r\nSo, what I wanna know, is this the only way to do it, or is there a more elegant, right method to do something like this?\r\n\r\n","title":"How to properly link classes, so I can use it&#39;s methods in other classes?","body":"<p>so I'm still a newbie to all this Java and Swing GUI thing. I switch between the panels from time to time and pretty much all of them has a Back button to go back to the main panel. The problem is, the method that I use to switch to that panel is in my main GUI class, if you can call that and I create an ActionListener in GUIUtils class, where I have all different methods to create stuff in the UI, so I don't need to rewrite everything every single time. The problem is, I asked for help from ChatGPT and I kind of understood how it works, but right now, I understand that I don't. So I would appreciate the help to make it right.</p>\n<p>I will just give you a few CodeBlocks that would recreate the problem.</p>\n<p>My main GUI class has this method</p>\n<pre><code>public void switchToMainMenu() {\n        getContentPane().remove(cardManager.getPanel());\n        add(createMainMenu(), BorderLayout.CENTER);\n        revalidate();\n        repaint();\n    }\n</code></pre>\n<p>Which, right now, isn't really flexible, but for my app, it does the job. Because at the moment, I really only have one panel, that has a Back button, so this code deletes that panel, and adds a main menu panel.</p>\n<p>And this is a snippet from my GUIUtils class. I create a BackButtonActionListener with a reference, I think that's the right word for it, to the GUI class, so that it can use it's method. And a getter for it, not sure if it's a 100% needed, but without it, it won't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class BackButtonAction implements ActionListener {\n        private final GUI interfaceAssociation;\n\n        public BackButtonAction(GUI gui) {\n            this.interfaceAssociation = gui;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            interfaceAssociation.switchToMainMenu();\n        }\n    }\n\n    public static ActionListener getBackButtonAction(GUI gui) {\n        return new BackButtonAction(gui);\n    }\n</code></pre>\n<p>And lastly, my CardManager panel's creation of a button</p>\n<pre class=\"lang-java prettyprint-override\"><code>JButton backButton = GUIUtils.createButton(&quot;Back&quot;, GUIUtils.getBackButtonAction(new GUI()));\n</code></pre>\n<p>As I understand, I create a new GUI in it instead of passing a reference to it. I understood that and I fixed by passing a reference to the GUI class in the CardManager's constructor, not sure if those are the right words for it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private GUI gui;\n\n    public CardManager(GUI gui) {\n        this.gui = gui;\n    }\n</code></pre>\n<p>And creating a button like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>JButton backButton = GUIUtils.createButton(&quot;Back&quot;, GUIUtils.getBackButtonAction(gui));\n</code></pre>\n<p>So, what I wanna know, is this the only way to do it, or is there a more elegant, right method to do something like this?</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1700627151,"post_id":77526519,"comment_id":136676659,"body_markdown":"_Exactly_ what version of Java&#39;s `keytool` did you use to create the keystore and what version to run the server? Some versions more than about 2 years old had bugs in the handling of PBES2Parameters and they varied over time. If you have or can get OpenSSL do `openssl pkcs12 -in keystorefile -info -noout` and see if it thinks the structure is okay. Or a cheap workaround is to use storetype JKS instead; although noninteroperable _and_ weak by design, this has never had implementation bugs :-?","body":"<i>Exactly</i> what version of Java&#39;s <code>keytool</code> did you use to create the keystore and what version to run the server? Some versions more than about 2 years old had bugs in the handling of PBES2Parameters and they varied over time. If you have or can get OpenSSL do <code>openssl pkcs12 -in keystorefile -info -noout</code> and see if it thinks the structure is okay. Or a cheap workaround is to use storetype JKS instead; although noninteroperable <i>and</i> weak by design, this has never had implementation bugs :-?"},{"owner":{"account_id":20583247,"reputation":58,"user_id":15108786,"display_name":"Marcus Rost"},"score":0,"creation_date":1700645227,"post_id":77526519,"comment_id":136678921,"body_markdown":"@dave_thompson_085 \nIt&#39;s actually very strange: when running the server I get an weird illegal option message\nI tried to reinstall it but with no success :(","body":"@dave_thompson_085  It&#39;s actually very strange: when running the server I get an weird illegal option message I tried to reinstall it but with no success :("}],"owner":{"account_id":20583247,"reputation":58,"user_id":15108786,"display_name":"Marcus Rost"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700609380,"creation_date":1700609380,"question_id":77526519,"body_markdown":"\r\nI&#39;m trying to write a SSL server in Java\r\n\r\nHere&#39;s my server\r\n\r\n    private final static String pathToStores = &quot;C:\\\\Users\\\\Sky&quot;;\r\n    private final static String keyStoreFile = &quot;server1.keystore&quot;;\r\n    private final static String passwd = &quot;123456&quot;;\r\n\r\n    private final static int theServerPort = 8443;\r\n\r\n    private static boolean debug = false;\r\n\r\n    private void doServerSide() throws Exception {\r\n        SSLServerSocketFactory sslssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\r\n        SSLServerSocket sslServerSocket = (SSLServerSocket) sslssf.createServerSocket(theServerPort);\r\n\r\n        SSLSocket sslSocket = (SSLSocket) sslServerSocket.accept();\r\n        InputStream sslIS = sslSocket.getInputStream();\r\n\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(sslIS));\r\n\r\n        String string = null;\r\n        while ((string = bufferedReader.readLine()) != null) {\r\n            System.out.println(string);\r\n            System.out.flush();\r\n        }\r\n        sslSocket.close();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;PKCS12&quot;); // NOT SURE!!!\r\n\r\n        String trustFilename = pathToStores + &quot;\\\\&quot; + keyStoreFile;\r\n\r\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, trustFilename);\r\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, passwd);\r\n\r\n        if (debug) {\r\n            System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n        }\r\n\r\n        new TLSServer().doServerSide();\r\n    }\r\n\r\nI generate a key using this:\r\n    keytool -genkey -keystore server1.keystore -keyalg RSA\r\nIn my C:\\Users\\Sky\r\n\r\nBut I&#39;m getting this error:\r\n\r\n\r\n \r\n\r\n        Exception in thread &quot;main&quot; java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n    \tat javax.net.ssl.DefaultSSLServerSocketFactory.throwException(SSLServerSocketFactory.java:160)\r\n    \tat javax.net.ssl.DefaultSSLServerSocketFactory.createServerSocket(SSLServerSocketFactory.java:173)\r\n    \tat org.example.TLSServer.doServerSide(TLSServer.java:58)\r\n    \tat org.example.TLSServer.main(TLSServer.java:85)\r\n    Caused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n    \tat java.security.Provider$Service.newInstance(Provider.java:1617)\r\n    \tat sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\r\n    \tat sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\r\n    \tat javax.net.ssl.SSLContext.getInstance(SSLContext.java:156)\r\n    \tat javax.net.ssl.SSLContext.getDefault(SSLContext.java:96)\r\n    \tat javax.net.ssl.SSLServerSocketFactory.getDefault(SSLServerSocketFactory.java:113)\r\n    \tat org.example.TLSServer.doServerSide(TLSServer.java:57)\r\n    \t... 1 more\r\n    Caused by: java.io.IOException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:816)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2018)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n    \tat sun.security.ssl.SSLContextImpl$DefaultManagersHolder.getKeyManagers(SSLContextImpl.java:965)\r\n    \tat sun.security.ssl.SSLContextImpl$DefaultManagersHolder.&lt;clinit&gt;(SSLContextImpl.java:864)\r\n    \tat sun.security.ssl.SSLContextImpl$DefaultSSLContext.&lt;init&gt;(SSLContextImpl.java:1027)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat java.security.Provider$Service.newInstance(Provider.java:1595)\r\n    \t... 7 more\r\n    Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n    \tat sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257)\r\n    \tat sun.security.util.DerInputStream.getOID(DerInputStream.java:314)\r\n    \tat com.sun.crypto.provider.PBES2Parameters.engineInit(PBES2Parameters.java:267)\r\n    \tat java.security.AlgorithmParameters.init(AlgorithmParameters.java:293)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:812)\r\n    \t... 17 more\r\n\r\nI have asolutely no clue why this happens. The key was generated... I&#39;ve been stuck with this for a few hours.\r\n\r\nBesides this I got this client:\r\n\r\n    private final static String pathToStores = &quot;C:\\\\Users\\\\Sky&quot;;\r\n        //private final static String trustStoreFile = &quot;keystore1,jks&quot;;\r\n        private final static String trustStoreFile = &quot;mytruststore.truststore&quot;;\r\n        private final static String passwd = &quot;123456&quot;;\r\n    \r\n        private static String theServerName = &quot;localhost&quot;;\r\n        private final static int theServerPort = 12345;\r\n    \r\n        private static boolean debug = false;\r\n    \r\n        private void doClientSide() throws Exception {\r\n            SSLSocketFactory sslsf = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n            SSLSocket sslSocket = (SSLSocket) sslsf.createSocket(theServerName, theServerPort);\r\n    \r\n            OutputStream sslOS = sslSocket.getOutputStream();\r\n            sslOS.write(&quot;Hello from TLS Client!\\n&quot;.getBytes());\r\n            sslOS.flush();\r\n            sslSocket.close();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String trustFilename = pathToStores + &quot;/&quot; + trustStoreFile;\r\n    \r\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustFilename);\r\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, passwd);\r\n    \r\n            if (debug) {\r\n                System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n            }\r\n    \r\n            new TLSClient().doClientSide();\r\n        }\r\n\r\nHow do I generate a truststore?\r\n\r\n\r\nThe end goal should be to convert it to a TLS server. It shouldn&#39;t be too dificult if I solve this.\r\nAny help would be highly appreciated. Sincerely.","title":"How to properly generate an SSL key?","body":"<p>I'm trying to write a SSL server in Java</p>\n<p>Here's my server</p>\n<pre><code>private final static String pathToStores = &quot;C:\\\\Users\\\\Sky&quot;;\nprivate final static String keyStoreFile = &quot;server1.keystore&quot;;\nprivate final static String passwd = &quot;123456&quot;;\n\nprivate final static int theServerPort = 8443;\n\nprivate static boolean debug = false;\n\nprivate void doServerSide() throws Exception {\n    SSLServerSocketFactory sslssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\n    SSLServerSocket sslServerSocket = (SSLServerSocket) sslssf.createServerSocket(theServerPort);\n\n    SSLSocket sslSocket = (SSLSocket) sslServerSocket.accept();\n    InputStream sslIS = sslSocket.getInputStream();\n\n    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(sslIS));\n\n    String string = null;\n    while ((string = bufferedReader.readLine()) != null) {\n        System.out.println(string);\n        System.out.flush();\n    }\n    sslSocket.close();\n}\n\npublic static void main(String[] args) throws Exception {\n    System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;PKCS12&quot;); // NOT SURE!!!\n\n    String trustFilename = pathToStores + &quot;\\\\&quot; + keyStoreFile;\n\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, trustFilename);\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, passwd);\n\n    if (debug) {\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n    }\n\n    new TLSServer().doServerSide();\n}\n</code></pre>\n<p>I generate a key using this:\nkeytool -genkey -keystore server1.keystore -keyalg RSA\nIn my C:\\Users\\Sky</p>\n<p>But I'm getting this error:</p>\n<pre><code>    Exception in thread &quot;main&quot; java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n    at javax.net.ssl.DefaultSSLServerSocketFactory.throwException(SSLServerSocketFactory.java:160)\n    at javax.net.ssl.DefaultSSLServerSocketFactory.createServerSocket(SSLServerSocketFactory.java:173)\n    at org.example.TLSServer.doServerSide(TLSServer.java:58)\n    at org.example.TLSServer.main(TLSServer.java:85)\nCaused by: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n    at java.security.Provider$Service.newInstance(Provider.java:1617)\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\n    at javax.net.ssl.SSLContext.getInstance(SSLContext.java:156)\n    at javax.net.ssl.SSLContext.getDefault(SSLContext.java:96)\n    at javax.net.ssl.SSLServerSocketFactory.getDefault(SSLServerSocketFactory.java:113)\n    at org.example.TLSServer.doServerSide(TLSServer.java:57)\n    ... 1 more\nCaused by: java.io.IOException: parseAlgParameters failed: ObjectIdentifier() -- data isn't an object ID (tag = 48)\n    at sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:816)\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2018)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n    at sun.security.ssl.SSLContextImpl$DefaultManagersHolder.getKeyManagers(SSLContextImpl.java:965)\n    at sun.security.ssl.SSLContextImpl$DefaultManagersHolder.&lt;clinit&gt;(SSLContextImpl.java:864)\n    at sun.security.ssl.SSLContextImpl$DefaultSSLContext.&lt;init&gt;(SSLContextImpl.java:1027)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.security.Provider$Service.newInstance(Provider.java:1595)\n    ... 7 more\nCaused by: java.io.IOException: ObjectIdentifier() -- data isn't an object ID (tag = 48)\n    at sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257)\n    at sun.security.util.DerInputStream.getOID(DerInputStream.java:314)\n    at com.sun.crypto.provider.PBES2Parameters.engineInit(PBES2Parameters.java:267)\n    at java.security.AlgorithmParameters.init(AlgorithmParameters.java:293)\n    at sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:812)\n    ... 17 more\n</code></pre>\n<p>I have asolutely no clue why this happens. The key was generated... I've been stuck with this for a few hours.</p>\n<p>Besides this I got this client:</p>\n<pre><code>private final static String pathToStores = &quot;C:\\\\Users\\\\Sky&quot;;\n    //private final static String trustStoreFile = &quot;keystore1,jks&quot;;\n    private final static String trustStoreFile = &quot;mytruststore.truststore&quot;;\n    private final static String passwd = &quot;123456&quot;;\n\n    private static String theServerName = &quot;localhost&quot;;\n    private final static int theServerPort = 12345;\n\n    private static boolean debug = false;\n\n    private void doClientSide() throws Exception {\n        SSLSocketFactory sslsf = (SSLSocketFactory) SSLSocketFactory.getDefault();\n        SSLSocket sslSocket = (SSLSocket) sslsf.createSocket(theServerName, theServerPort);\n\n        OutputStream sslOS = sslSocket.getOutputStream();\n        sslOS.write(&quot;Hello from TLS Client!\\n&quot;.getBytes());\n        sslOS.flush();\n        sslSocket.close();\n\n    }\n\n    public static void main(String[] args) throws Exception {\n        String trustFilename = pathToStores + &quot;/&quot; + trustStoreFile;\n\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustFilename);\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, passwd);\n\n        if (debug) {\n            System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n        }\n\n        new TLSClient().doClientSide();\n    }\n</code></pre>\n<p>How do I generate a truststore?</p>\n<p>The end goal should be to convert it to a TLS server. It shouldn't be too dificult if I solve this.\nAny help would be highly appreciated. Sincerely.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1700471191,"post_id":77514367,"comment_id":136654141,"body_markdown":"can you please add the error message of the stacktrace following the &quot;Caused by&quot; that&#39;s visible in your screenshot to your question?","body":"can you please add the error message of the stacktrace following the &quot;Caused by&quot; that&#39;s visible in your screenshot to your question?"},{"owner":{"account_id":29085139,"reputation":1,"user_id":22280181,"display_name":"Aditya"},"score":0,"creation_date":1700471427,"post_id":77514367,"comment_id":136654173,"body_markdown":"@cyberbrain : Updated the complete error stack trace","body":"@cyberbrain : Updated the complete error stack trace"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1700471631,"post_id":77514367,"comment_id":136654197,"body_markdown":"Let me guess you are &quot;following&quot; a tutorial and decided to upgrade to the newest available library versions. Then you got compilation errors and decided to add a dependency to fix the compilation errors. In your entity replace the `javax.persistence` imports with `jakarta.persistence` and remove the additional dependencies you have.","body":"Let me guess you are &quot;following&quot; a tutorial and decided to upgrade to the newest available library versions. Then you got compilation errors and decided to add a dependency to fix the compilation errors. In your entity replace the <code>javax.persistence</code> imports with <code>jakarta.persistence</code> and remove the additional dependencies you have."},{"owner":{"account_id":29085139,"reputation":1,"user_id":22280181,"display_name":"Aditya"},"score":0,"creation_date":1700485445,"post_id":77514367,"comment_id":136656585,"body_markdown":"Hello @M.Deinum, thanks a lot, it worked. Also, you guessed everything right!! :)","body":"Hello @M.Deinum, thanks a lot, it worked. Also, you guessed everything right!! :)"}],"owner":{"account_id":29085139,"reputation":1,"user_id":22280181,"display_name":"Aditya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700608896,"creation_date":1700468721,"question_id":77514367,"body_markdown":"I am new to Spring Boot and created a basic Restful CRUD API project: OnlineNotes using Spring Boot-JPA-MySQL(Maven-based).\r\nI am trying to run the project in IntelliJ and facing below error:\r\n\r\n``` lang-none\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;noteController&#39;: Unsatisfied dependency expressed through field &#39;noteRepository&#39;: Error creating bean with name &#39;noteRepository&#39; defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\r\n2023-11-17T13:26:26.210+05:30 ERROR 25956 --- [main] o.s.boot.SpringApplication: Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;noteController&#39;: Unsatisfied dependency expressed through field &#39;noteRepository&#39;: Error creating bean with name &#39;noteRepository&#39; defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:747) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat com.example.notesApp.NotesAppApplication.main(NotesAppApplication.java:13) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;noteRepository&#39; defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:764) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.notesApp.model.Notes\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 30 common frames omitted\r\n\r\n\r\n```\r\n![screenshot of stacktrace](https://i.stack.imgur.com/qln3u.png)\r\n\r\nI checked other answers in stackOverFlow and implemented the solution, still facing the issue.\r\n\r\n\r\nI have created project structure from Spring Initialzr with below structure:\r\n\r\n```    \r\n    notesApp\r\n├── src\r\n│   ├── main\r\n│   │   ├── java\r\n│   │   │   ├── com\r\n│   │   │   │   ├── example\r\n│   │   │   │   │   ├── notesApp\r\n│   │   │   │   │   │   ├── controller\r\n│   │   │   │   │   │   │   ├── NoteController.java\r\n│   │   │   │   │   │   ├── model\r\n│   │   │   │   │   │   │   ├── Notes.java\r\n│   │   │   │   │   │   ├── repository\r\n│   │   │   │   │   │   │   ├── NoteRepository.java\r\n│   │   │   │   │   │   ├── NotesAppApplication.java\r\n```\r\nBelow is the list of project files created:\r\n\r\n1. Model class: Notes.java \r\n\r\n``` lang-java\r\n@Entity//Marks class as entity class for component scan\r\n@Table (name = &quot;notes&quot;)//Creates table named notes in DB\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;,&quot;updatedAt&quot;}, allowGetters = true)//Makes variables un-editable for users by ignoring values if client provides in put/update service call\r\n\r\npublic class Notes implements Serializable {\r\n\r\n    @Id//Defines upcoming var as primary key in table\r\n    @GeneratedValue (strategy = GenerationType.IDENTITY)//Allows auto-increment for primary key\r\n    private long id;\r\n\r\n    @NotBlank\r\n    private String title;\r\n\r\n    @NotBlank\r\n    private String content;\r\n\r\n    @Column(nullable = false, updatable = false)//Defines column properties in DB\r\n    @Temporal(TemporalType.TIMESTAMP)//Converts dates in appropriate formats in DB\r\n    @CreatedDate\r\n    private Date createdAt;\r\n\r\n    @Column(nullable = false, updatable = false)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @LastModifiedDate\r\n    private Date updatedAt;\r\n```\r\n\r\n2. Repository class: NoteRepository.java\r\n\r\n\r\n``` lang-java\r\npackage com.example.notesApp.repository;\r\n\r\nimport com.example.notesApp.model.Notes;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository//Asks Spring to bootstrap the repository during component scan\r\npublic interface NoteRepository extends JpaRepository&lt;Notes, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n3.Controller : NoteController.java\r\n\r\n\r\n``` lang-java\r\n//Controller to create, retrieve, Update, delete a note\r\n@RestController //Combination of @Controller and @ResponseBody\r\n//@Controller defines this class is Controller to be bootstrapped while component scan\r\n//@ResponseBody indicates the return value of method will be the response body\r\n@RequestMapping(value = &quot;/api&quot;)\r\n//@RequestMapping defines the pattern of request URL\r\npublic class NoteController {\r\n\r\n\r\n    @Autowired\r\n    NoteRepository noteRepository;\r\n\r\n    //Get all notes\r\n    @GetMapping(value = &quot;/notes&quot;)//@GetMapping handles the HTTP Get request and maps GET /notes/ URL to getAllNotes method\r\n    public List&lt;Notes&gt; getAllNotes(){\r\n        return noteRepository.findAll();\r\n    }\r\n\r\n    //Get a single note\r\n    @GetMapping(value = &quot;notes/{id}&quot;) //@GetMapping handles the HTTP Get request and maps GET /notes/{id} URL to getNotesById method\r\n    public Notes getNotesById(@PathVariable(value = &quot;id&quot;) long id){\r\n        return noteRepository.findById(id).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,id));\r\n\r\n    }\r\n\r\n    //Create a note\r\n    @PostMapping (value = &quot;/notes&quot;)//@PostMapping handles the HTTP POST request and maps POST /notes/ URL to createNote method\r\n    public Notes createNote (@Valid @RequestBody Notes notes){\r\n        //@Valid makes sure Request Body is valid as Title and Content of request is assigned to @NotNull annotation\r\n        //@RequestBody binds request with method parameters\r\n        return noteRepository.save(notes);\r\n    }\r\n\r\n    //Update a note\r\n    @PutMapping(value = &quot;notes/{id}&quot;)//@PutMapping handles the PUT request and maps PUT /notes/{Id} URl to updateNote method\r\n    public Notes updateNote(@PathVariable(value = &quot;id&quot;)long noteId, Notes UpdatedNote){\r\n        Notes note = noteRepository.findById(noteId).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,noteId));\r\n        //Only Title and content are eligible for update\r\n        note.setTitle(UpdatedNote.getTitle());\r\n        note.setContent(UpdatedNote.getContent());\r\n\r\n        return noteRepository.save(note);\r\n    }\r\n\r\n    //Delete a note\r\n    @DeleteMapping(value = &quot;notes/{id}&quot;)//@DeleteMapping handles DELETE request and maps DELETE notes/{id} to deleteNote method\r\n    public void deleteNote(@PathVariable(value = &quot;id&quot;)long id){\r\n        Notes note = noteRepository.findById(id).orElseThrow(()-&gt; new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,id));\r\n        noteRepository.delete(note);\r\n    }\r\n}\r\n```\r\n\r\nPlease help in resolving the error.\r\n","title":"The SpringBoot application fails to load with error org.springframework.beans.factory.UnsatisfiedDependencyException","body":"<p>I am new to Spring Boot and created a basic Restful CRUD API project: OnlineNotes using Spring Boot-JPA-MySQL(Maven-based).\nI am trying to run the project in IntelliJ and facing below error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'noteController': Unsatisfied dependency expressed through field 'noteRepository': Error creating bean with name 'noteRepository' defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\n2023-11-17T13:26:26.210+05:30 ERROR 25956 --- [main] o.s.boot.SpringApplication: Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'noteController': Unsatisfied dependency expressed through field 'noteRepository': Error creating bean with name 'noteRepository' defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:747) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\n    at com.example.notesApp.NotesAppApplication.main(NotesAppApplication.java:13) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'noteRepository' defined in com.example.notesApp.repository.NoteRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.notesApp.model.Notes\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:764) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 20 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.example.notesApp.model.Notes\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97) ~[hibernate-core-6.2.13.Final.jar:6.2.13.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 30 common frames omitted\n\n\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/qln3u.png\" alt=\"screenshot of stacktrace\" /></p>\n<p>I checked other answers in stackOverFlow and implemented the solution, still facing the issue.</p>\n<p>I have created project structure from Spring Initialzr with below structure:</p>\n<pre><code>    notesApp\n├── src\n│   ├── main\n│   │   ├── java\n│   │   │   ├── com\n│   │   │   │   ├── example\n│   │   │   │   │   ├── notesApp\n│   │   │   │   │   │   ├── controller\n│   │   │   │   │   │   │   ├── NoteController.java\n│   │   │   │   │   │   ├── model\n│   │   │   │   │   │   │   ├── Notes.java\n│   │   │   │   │   │   ├── repository\n│   │   │   │   │   │   │   ├── NoteRepository.java\n│   │   │   │   │   │   ├── NotesAppApplication.java\n</code></pre>\n<p>Below is the list of project files created:</p>\n<ol>\n<li>Model class: Notes.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity//Marks class as entity class for component scan\n@Table (name = &quot;notes&quot;)//Creates table named notes in DB\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;,&quot;updatedAt&quot;}, allowGetters = true)//Makes variables un-editable for users by ignoring values if client provides in put/update service call\n\npublic class Notes implements Serializable {\n\n    @Id//Defines upcoming var as primary key in table\n    @GeneratedValue (strategy = GenerationType.IDENTITY)//Allows auto-increment for primary key\n    private long id;\n\n    @NotBlank\n    private String title;\n\n    @NotBlank\n    private String content;\n\n    @Column(nullable = false, updatable = false)//Defines column properties in DB\n    @Temporal(TemporalType.TIMESTAMP)//Converts dates in appropriate formats in DB\n    @CreatedDate\n    private Date createdAt;\n\n    @Column(nullable = false, updatable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    @LastModifiedDate\n    private Date updatedAt;\n</code></pre>\n<ol start=\"2\">\n<li>Repository class: NoteRepository.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.notesApp.repository;\n\nimport com.example.notesApp.model.Notes;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository//Asks Spring to bootstrap the repository during component scan\npublic interface NoteRepository extends JpaRepository&lt;Notes, Long&gt; {\n\n}\n\n</code></pre>\n<p>3.Controller : NoteController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Controller to create, retrieve, Update, delete a note\n@RestController //Combination of @Controller and @ResponseBody\n//@Controller defines this class is Controller to be bootstrapped while component scan\n//@ResponseBody indicates the return value of method will be the response body\n@RequestMapping(value = &quot;/api&quot;)\n//@RequestMapping defines the pattern of request URL\npublic class NoteController {\n\n\n    @Autowired\n    NoteRepository noteRepository;\n\n    //Get all notes\n    @GetMapping(value = &quot;/notes&quot;)//@GetMapping handles the HTTP Get request and maps GET /notes/ URL to getAllNotes method\n    public List&lt;Notes&gt; getAllNotes(){\n        return noteRepository.findAll();\n    }\n\n    //Get a single note\n    @GetMapping(value = &quot;notes/{id}&quot;) //@GetMapping handles the HTTP Get request and maps GET /notes/{id} URL to getNotesById method\n    public Notes getNotesById(@PathVariable(value = &quot;id&quot;) long id){\n        return noteRepository.findById(id).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,id));\n\n    }\n\n    //Create a note\n    @PostMapping (value = &quot;/notes&quot;)//@PostMapping handles the HTTP POST request and maps POST /notes/ URL to createNote method\n    public Notes createNote (@Valid @RequestBody Notes notes){\n        //@Valid makes sure Request Body is valid as Title and Content of request is assigned to @NotNull annotation\n        //@RequestBody binds request with method parameters\n        return noteRepository.save(notes);\n    }\n\n    //Update a note\n    @PutMapping(value = &quot;notes/{id}&quot;)//@PutMapping handles the PUT request and maps PUT /notes/{Id} URl to updateNote method\n    public Notes updateNote(@PathVariable(value = &quot;id&quot;)long noteId, Notes UpdatedNote){\n        Notes note = noteRepository.findById(noteId).orElseThrow(()-&gt;new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,noteId));\n        //Only Title and content are eligible for update\n        note.setTitle(UpdatedNote.getTitle());\n        note.setContent(UpdatedNote.getContent());\n\n        return noteRepository.save(note);\n    }\n\n    //Delete a note\n    @DeleteMapping(value = &quot;notes/{id}&quot;)//@DeleteMapping handles DELETE request and maps DELETE notes/{id} to deleteNote method\n    public void deleteNote(@PathVariable(value = &quot;id&quot;)long id){\n        Notes note = noteRepository.findById(id).orElseThrow(()-&gt; new ResourceNotFoundException(&quot;Note&quot;,&quot;Id&quot;,id));\n        noteRepository.delete(note);\n    }\n}\n</code></pre>\n<p>Please help in resolving the error.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1700650181,"post_id":77526489,"comment_id":136679878,"body_markdown":"You are more likely to get a useful answer if you slim down your question. You could start [here](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You are more likely to get a useful answer if you slim down your question. You could start <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">here</a>"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1700668011,"post_id":77526489,"comment_id":136683339,"body_markdown":"I have provided classes, mappers, and a runnable test. I could also edit the code to group my code so that it makes more sense as a whole. Would a visual diagram be helpful? I could draw one up. This is rather hard to describe. &#128517;","body":"I have provided classes, mappers, and a runnable test. I could also edit the code to group my code so that it makes more sense as a whole. Would a visual diagram be helpful? I could draw one up. This is rather hard to describe. 😅"}],"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700608852,"creation_date":1700608852,"question_id":77526489,"body_markdown":"So, I have a lilttle bit of a conundrum. I know these class names might be a little confusing, apologies.\r\n\r\nLet’s say these are the objects I’m working with:\r\n\r\n```jsx\r\n@Getter\r\n@Setter\r\npublic class EntityPO {\r\n\t\tprivate String firstName\r\n\t\tprivate String businessName;\r\n}\r\n```\r\n\r\n```jsx\r\n@Getter\r\n@Setter\r\npublic class AIOwner {\r\n\t  private String firstName;\r\n\t\tprivate String name1;\r\n}\r\n```\r\n\r\n```jsx\r\npublic class AICoBorrower extends AIOwner {\r\n\t\t// blank for clarity \r\n}\r\n```\r\n\r\n```jsx\r\npublic class CoBorrowerPO {\r\n\t\t//this class itself does not contain firstName or name1/businessName fields.\r\n\t\tprotected EntityPO entity;\r\n}\r\n```\r\n\r\nand I have  a mapper that basically maps `entityPO` &amp; `aiowner`.\r\n\r\ntest:\r\n\r\n```jsx\r\n@Test\r\n  public void coBorrowerMappingTest() {\r\n\r\n    CoBorrowerPO coPO = srp.makeCoBorrowerPO();\r\n    //map to ai\r\n    AICoBorrower coAI = AICoBorrowerMapper.INSTANCE.toAICoBorrower(coPO);\r\n    //assert all fields\r\n    assertEquals(coPO.getEntity().getFirstName(), coAI.getFirstName());\r\n\r\n  }\r\n```\r\n\r\nmapper code:\r\n\r\n```jsx\r\n@Mapper(uses = { AIPhoneMapper.class, AIAddressMapper.class })\r\npublic interface AIOwnerMapper {\r\n  AIOwnerMapper INSTANCE = Mappers.getMapper(AIOwnerMapper.class);\r\n\r\n  @Mapping(target = &quot;name1&quot;, source = &quot;businessName&quot;)\r\n  AIOwner toAIOwner(EntityPO entityPO);\r\n\r\n  @InheritInverseConfiguration\r\n  EntityPO toEntityPO(AIOwner aiOwner);\r\n\r\n}\r\n```\r\n\r\n```jsx\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE, uses = { AIOwnerMapper.class })\r\npublic interface AICoBorrowerMapper extends AIOwnerMapper {\r\n  AICoBorrowerMapper INSTANCE = Mappers.getMapper(AICoBorrowerMapper.class);\r\n\r\n  AICoBorrower toAICoBorrower(CoBorrowerPO coBorrower);\r\n\r\n  @AfterMapping\r\n  default AICoBorrower afterMapping(CoBorrowerPO coBorrowerPO) {\r\n    if (coBorrowerPO == null) {\r\n      return null;\r\n    }\r\n\r\n    AICoBorrower aiCoBorrower = new AICoBorrower();\r\n    AIOwner aiOwner = AIOwnerMapper.INSTANCE.toAIOwner(coBorrowerPO.getEntity());\r\n    aiCoBorrower.setName1(aiOwner.getName1());\r\n    aiCoBorrower.setFirstName(aiOwner.getFirstName());\r\n\r\n    return aiCoBorrower;\r\n  }\r\n}\r\n```\r\n\r\nMy requirements involve using MapStruct to map fields from the `EntityPO` class to the base class `AICoBorrower`. Within the `CoBorrowerPO` class, there is a nested `EntityPO` object.\r\n\r\nI wish to map `EntityPO` fields’ values directly to the `AICoBorrower`class field values, which extends the `AIOwner`class so it inherited those fields from aiOwner.\r\n\r\nTo achieve this, the existing `AIOwnerMapper` that i already have is needed to be used, which maps fields from `EntityPO` to `aiowner`. it does this successfully for the fields i wish to map. The issue lies in the extension of the functionality to `AICoBorrower` that also extends `AIOwner`. The desired outcome is to map fields from the nested `entityPO` directly to `AICoBorrower`, not through an additional class/object layer. `AICoBorrower`does not contain an `AIOwner`, it **is** the `AIOwner`.\r\n\r\n⚠️***NOTE***⚠️:\r\n\r\n*I want to avoid writing duplicate code in the field mappings (`@Mapping`) across multiple mappers that extend a common base mapper (**`AIOwnerMapper`** in this case). This way, any changes to the mappings in the base mapper will automatically apply to all the child mappers.*\r\n\r\nI should also mention that this code I wrote works as it is. But i would prefer to not have to do all of the setters myself for this case, as that is what i am using mapstruct for. And imagine i have 3 of these objects that extend `AIOwner` and have the same behavior where the `entityPO` inside of the mirror object  should actually map the fields directly onto the AI object, not in a separate class/object layer.\r\n\r\nas mentioned before, the code I have works, but I have to write code manually. I would preferrably *AVOID *something like this:\r\n\r\n```\r\n    @Mapping(source = &quot;entityPO.field1&quot;, target = &quot;field1&quot;) // Map fields from EntityPO to AICoborrower\r\n    @Mapping(source = &quot;entityPO.field2&quot;, target = &quot;field2&quot;)\r\n    // Add other fields as needed\r\n    AICoborrower map(CoborrowerPO coborrowerPO);\r\n```\r\n&#128683;&#128078; If I can, I would like to not use `.`s because the field names are subject to change and I want all objects that extend AIOwner to have their own mapper that recognizes the changes to the AIOwnerMapper.\r\n\r\n##### These tickets are the closest to what I am looking for, but I have not found a solution following them:\r\n\r\n[mapstruct - map object with nested list to flat list](https://stackoverflow.com/questions/67430184/mapstruct-map-object-with-nested-list-to-flat-list)\r\n\r\n[How to flatten nested references into a simple target?](https://stackoverflow.com/questions/54580824/how-to-flatten-nested-references-into-a-simple-target)","title":"(Java, MapStruct) Is it possible to map fields from a nested object to an extended target object that shares a common base class?","body":"<p>So, I have a lilttle bit of a conundrum. I know these class names might be a little confusing, apologies.</p>\n<p>Let’s say these are the objects I’m working with:</p>\n<pre><code>@Getter\n@Setter\npublic class EntityPO {\n        private String firstName\n        private String businessName;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\npublic class AIOwner {\n      private String firstName;\n        private String name1;\n}\n</code></pre>\n<pre><code>public class AICoBorrower extends AIOwner {\n        // blank for clarity \n}\n</code></pre>\n<pre><code>public class CoBorrowerPO {\n        //this class itself does not contain firstName or name1/businessName fields.\n        protected EntityPO entity;\n}\n</code></pre>\n<p>and I have  a mapper that basically maps <code>entityPO</code> &amp; <code>aiowner</code>.</p>\n<p>test:</p>\n<pre><code>@Test\n  public void coBorrowerMappingTest() {\n\n    CoBorrowerPO coPO = srp.makeCoBorrowerPO();\n    //map to ai\n    AICoBorrower coAI = AICoBorrowerMapper.INSTANCE.toAICoBorrower(coPO);\n    //assert all fields\n    assertEquals(coPO.getEntity().getFirstName(), coAI.getFirstName());\n\n  }\n</code></pre>\n<p>mapper code:</p>\n<pre><code>@Mapper(uses = { AIPhoneMapper.class, AIAddressMapper.class })\npublic interface AIOwnerMapper {\n  AIOwnerMapper INSTANCE = Mappers.getMapper(AIOwnerMapper.class);\n\n  @Mapping(target = &quot;name1&quot;, source = &quot;businessName&quot;)\n  AIOwner toAIOwner(EntityPO entityPO);\n\n  @InheritInverseConfiguration\n  EntityPO toEntityPO(AIOwner aiOwner);\n\n}\n</code></pre>\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE, uses = { AIOwnerMapper.class })\npublic interface AICoBorrowerMapper extends AIOwnerMapper {\n  AICoBorrowerMapper INSTANCE = Mappers.getMapper(AICoBorrowerMapper.class);\n\n  AICoBorrower toAICoBorrower(CoBorrowerPO coBorrower);\n\n  @AfterMapping\n  default AICoBorrower afterMapping(CoBorrowerPO coBorrowerPO) {\n    if (coBorrowerPO == null) {\n      return null;\n    }\n\n    AICoBorrower aiCoBorrower = new AICoBorrower();\n    AIOwner aiOwner = AIOwnerMapper.INSTANCE.toAIOwner(coBorrowerPO.getEntity());\n    aiCoBorrower.setName1(aiOwner.getName1());\n    aiCoBorrower.setFirstName(aiOwner.getFirstName());\n\n    return aiCoBorrower;\n  }\n}\n</code></pre>\n<p>My requirements involve using MapStruct to map fields from the <code>EntityPO</code> class to the base class <code>AICoBorrower</code>. Within the <code>CoBorrowerPO</code> class, there is a nested <code>EntityPO</code> object.</p>\n<p>I wish to map <code>EntityPO</code> fields’ values directly to the <code>AICoBorrower</code>class field values, which extends the <code>AIOwner</code>class so it inherited those fields from aiOwner.</p>\n<p>To achieve this, the existing <code>AIOwnerMapper</code> that i already have is needed to be used, which maps fields from <code>EntityPO</code> to <code>aiowner</code>. it does this successfully for the fields i wish to map. The issue lies in the extension of the functionality to <code>AICoBorrower</code> that also extends <code>AIOwner</code>. The desired outcome is to map fields from the nested <code>entityPO</code> directly to <code>AICoBorrower</code>, not through an additional class/object layer. <code>AICoBorrower</code>does not contain an <code>AIOwner</code>, it <strong>is</strong> the <code>AIOwner</code>.</p>\n<p>⚠️<em><strong>NOTE</strong></em>⚠️:</p>\n<p><em>I want to avoid writing duplicate code in the field mappings (<code>@Mapping</code>) across multiple mappers that extend a common base mapper (<strong><code>AIOwnerMapper</code></strong> in this case). This way, any changes to the mappings in the base mapper will automatically apply to all the child mappers.</em></p>\n<p>I should also mention that this code I wrote works as it is. But i would prefer to not have to do all of the setters myself for this case, as that is what i am using mapstruct for. And imagine i have 3 of these objects that extend <code>AIOwner</code> and have the same behavior where the <code>entityPO</code> inside of the mirror object  should actually map the fields directly onto the AI object, not in a separate class/object layer.</p>\n<p>as mentioned before, the code I have works, but I have to write code manually. I would preferrably *AVOID *something like this:</p>\n<pre><code>    @Mapping(source = &quot;entityPO.field1&quot;, target = &quot;field1&quot;) // Map fields from EntityPO to AICoborrower\n    @Mapping(source = &quot;entityPO.field2&quot;, target = &quot;field2&quot;)\n    // Add other fields as needed\n    AICoborrower map(CoborrowerPO coborrowerPO);\n</code></pre>\n<p>🚫👎 If I can, I would like to not use <code>.</code>s because the field names are subject to change and I want all objects that extend AIOwner to have their own mapper that recognizes the changes to the AIOwnerMapper.</p>\n<h5>These tickets are the closest to what I am looking for, but I have not found a solution following them:</h5>\n<p><a href=\"https://stackoverflow.com/questions/67430184/mapstruct-map-object-with-nested-list-to-flat-list\">mapstruct - map object with nested list to flat list</a></p>\n<p><a href=\"https://stackoverflow.com/questions/54580824/how-to-flatten-nested-references-into-a-simple-target\">How to flatten nested references into a simple target?</a></p>\n"},{"tags":["java","kotlin","gradle","build.gradle","kotlin-multiplatform"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1700384007,"post_id":77509830,"comment_id":136645989,"body_markdown":"Try to launch your program using command line. It should print more details about the error. It might help you solve the problem. If not, paste the error stack-trace in your question. Without it, it is difficult to know what is the problem.","body":"Try to launch your program using command line. It should print more details about the error. It might help you solve the problem. If not, paste the error stack-trace in your question. Without it, it is difficult to know what is the problem."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1700393753,"post_id":77509830,"comment_id":136646755,"body_markdown":"As a general rule of thumb, do NOT use `exception.message` as an error message. The exception type is part of the message.","body":"As a general rule of thumb, do NOT use <code>exception.message</code> as an error message. The exception type is part of the message."},{"owner":{"account_id":14612946,"reputation":817,"user_id":10553893,"display_name":"Raphael Tarita"},"score":0,"creation_date":1700519534,"post_id":77509830,"comment_id":136662486,"body_markdown":"without more context it&#39;s hard to tell what you mean by &quot;I&#39;m developing with Kotlin Multiplatform&quot; but if you want to run your code on non-JVM platforms it can obviously not be using anything from the Java stdlib. Not sure if this error is in any way related to this.","body":"without more context it&#39;s hard to tell what you mean by &quot;I&#39;m developing with Kotlin Multiplatform&quot; but if you want to run your code on non-JVM platforms it can obviously not be using anything from the Java stdlib. Not sure if this error is in any way related to this."}],"answers":[{"tags":[],"owner":{"account_id":28708952,"reputation":21,"user_id":21984792,"display_name":"oberon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700608761,"creation_date":1700608761,"answer_id":77526480,"question_id":77509830,"body_markdown":"It appears that HttpClient was still being called despite my switch to OkHttp. If you&#39;re utilizing HttpClient within Desktop&#39;s Compose, this issue may arise. Ensure you&#39;re using OkHttp instead, as it currently proves effective for API function calls. In my case, I had to recreate everything. Clearing the cache might have resolved the issue, even after changing the HTTP tool.","title":"&quot;java/net/http/HttpClient&quot; Error after compile and run","body":"<p>It appears that HttpClient was still being called despite my switch to OkHttp. If you're utilizing HttpClient within Desktop's Compose, this issue may arise. Ensure you're using OkHttp instead, as it currently proves effective for API function calls. In my case, I had to recreate everything. Clearing the cache might have resolved the issue, even after changing the HTTP tool.</p>\n"}],"owner":{"account_id":28708952,"reputation":21,"user_id":21984792,"display_name":"oberon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700608761,"creation_date":1700374841,"question_id":77509830,"body_markdown":"I&#39;m developin with Kotlin Multiplatform and Desktop Compose\r\n\r\nAny idea why this happens? \r\nWhen I run my app in the IDE (IntellijIDE) it runs perfectly fine, but after gradle createDistributable or any kind of compilation.\r\n\r\nif I try to run it I get this error &quot;java/net/http/HttpClient&quot; I already tried different JDK(17, 18, 20, 21), different Kotlin(default and 1.9.20) versions and gradle (7.5.1 and 8.4).\r\nIt was working before, I haven&#39;t been able to pin point if it&#39;s something I added\r\n\r\n[![enter image description here](https://i.stack.imgur.com/hoK38.png)](https://i.stack.imgur.com/hoK38.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/B0hBI.png)](https://i.stack.imgur.com/B0hBI.png)","title":"&quot;java/net/http/HttpClient&quot; Error after compile and run","body":"<p>I'm developin with Kotlin Multiplatform and Desktop Compose</p>\n<p>Any idea why this happens?\nWhen I run my app in the IDE (IntellijIDE) it runs perfectly fine, but after gradle createDistributable or any kind of compilation.</p>\n<p>if I try to run it I get this error &quot;java/net/http/HttpClient&quot; I already tried different JDK(17, 18, 20, 21), different Kotlin(default and 1.9.20) versions and gradle (7.5.1 and 8.4).\nIt was working before, I haven't been able to pin point if it's something I added</p>\n<p><a href=\"https://i.stack.imgur.com/hoK38.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hoK38.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/B0hBI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B0hBI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1700568014,"post_id":77521214,"comment_id":136668165,"body_markdown":"IMHO your answer is here: _this method is called in a GET request_. If two clients send that GET request your method will execute twice (once for every GET request). And since there are multiple threads handling GET requests there are multiple threads calling your method.","body":"IMHO your answer is here: <i>this method is called in a GET request</i>. If two clients send that GET request your method will execute twice (once for every GET request). And since there are multiple threads handling GET requests there are multiple threads calling your method."}],"answers":[{"comments":[{"owner":{"account_id":29955378,"reputation":1,"user_id":22956387,"display_name":"Teck"},"score":0,"creation_date":1700559537,"post_id":77521552,"comment_id":136666624,"body_markdown":"I tried this method too, same behavior.","body":"I tried this method too, same behavior."}],"tags":[],"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700561723,"creation_date":1700557707,"answer_id":77521552,"question_id":77521214,"body_markdown":"IMHO, in your use case, behind the scenes you create a new request every iteration sometimes it opens a new thread.\r\n\r\nYou can use `connect()` that returns new Connection object and then to make sure the connection ends in the end of iteration.\r\n\r\nhttps://jsoup.org/apidocs/org/jsoup/Jsoup.html#connect(java.lang.String)     \r\n\r\n\r\n\r\n_________\r\n##### UPDATE:\r\n\r\nTry to work on other objects and not the same objects you iterating on.\r\n\r\n    public List&lt;Item&gt; parseAndSaveItems(String type, String baseUrl) {\r\n        List&lt;Item&gt; originalItemList = itemRepository.findAllByType(type);\r\n        List&lt;Item&gt; newItemList = new ArrayList&lt;&gt;();\r\n    \r\n        for (Item originalItem : originalItemList) {\r\n            Item newItem = processItem(originalItem, baseUrl);\r\n            newItemList.add(newItem);\r\n        }\r\n    \r\n        itemRepository.saveAll(newItemList);\r\n        return newItemList;\r\n    }\r\n    \r\n    private Item processItem(Item originalItem, String baseUrl) {\r\n        Item newItem = new Item();\r\n    \r\n        // Copy relevant properties from the original item to the new item\r\n        newItem.setType(originalItem.getType());\r\n        newItem.setBuffId(originalItem.getBuffId());\r\n        // Copy other properties as needed\r\n    \r\n        String url = baseUrl + originalItem.getBuffId();\r\n        try {\r\n            Document page = getPage(url);\r\n            Thread.sleep(2000);\r\n    \r\n            Elements elements = page.getElementsByAttribute(&quot;data-goods-sell-min-price&quot;);\r\n            double price = parsePrice(elements.attr(&quot;data-goods-sell-min-price&quot;));\r\n            double buy = parsePrice(elements.attr(&quot;data-goods-buy-max-price&quot;));\r\n    \r\n            updateItemDetails(newItem, price, buy);\r\n        } catch (IOException | InterruptedException e) {\r\n            // Handle exceptions appropriately, log, and continue or rethrow based on requirements.\r\n            log.error(&quot;Error processing item: {}&quot;, originalItem.getName(), e);\r\n        }\r\n    \r\n        return newItem;\r\n    }\r\n    private Document getPage(String url) throws IOException {\r\n        return Jsoup.parse(new URL(url), 20000);\r\n    }\r\n    \r\n    private double parsePrice(String priceString) {\r\n        return Double.parseDouble(priceString) / 100;\r\n    }\r\n    \r\n    private void updateItemDetails(Item item, double price, double buy) {\r\n        item.setPrice(price);\r\n        item.setBuyOrder(buy);\r\n    \r\n        try {\r\n            item.setPercentage(round((100 * ((price * 0.975) - buy) / buy), 4));\r\n        } catch (NumberFormatException e) {\r\n            log.error(&quot;Error calculating percentage for item: {}&quot;, item.getName(), e);\r\n        }\r\n    \r\n        item.setProfit(round((price * 0.975 - buy), 2));\r\n    }\r\n\r\n","title":"Jsoup parsing weird behavior","body":"<p>IMHO, in your use case, behind the scenes you create a new request every iteration sometimes it opens a new thread.</p>\n<p>You can use <code>connect()</code> that returns new Connection object and then to make sure the connection ends in the end of iteration.</p>\n<p><a href=\"https://jsoup.org/apidocs/org/jsoup/Jsoup.html#connect(java.lang.String)\" rel=\"nofollow noreferrer\">https://jsoup.org/apidocs/org/jsoup/Jsoup.html#connect(java.lang.String)</a></p>\n<hr />\n<h5>UPDATE:</h5>\n<p>Try to work on other objects and not the same objects you iterating on.</p>\n<pre><code>public List&lt;Item&gt; parseAndSaveItems(String type, String baseUrl) {\n    List&lt;Item&gt; originalItemList = itemRepository.findAllByType(type);\n    List&lt;Item&gt; newItemList = new ArrayList&lt;&gt;();\n\n    for (Item originalItem : originalItemList) {\n        Item newItem = processItem(originalItem, baseUrl);\n        newItemList.add(newItem);\n    }\n\n    itemRepository.saveAll(newItemList);\n    return newItemList;\n}\n\nprivate Item processItem(Item originalItem, String baseUrl) {\n    Item newItem = new Item();\n\n    // Copy relevant properties from the original item to the new item\n    newItem.setType(originalItem.getType());\n    newItem.setBuffId(originalItem.getBuffId());\n    // Copy other properties as needed\n\n    String url = baseUrl + originalItem.getBuffId();\n    try {\n        Document page = getPage(url);\n        Thread.sleep(2000);\n\n        Elements elements = page.getElementsByAttribute(&quot;data-goods-sell-min-price&quot;);\n        double price = parsePrice(elements.attr(&quot;data-goods-sell-min-price&quot;));\n        double buy = parsePrice(elements.attr(&quot;data-goods-buy-max-price&quot;));\n\n        updateItemDetails(newItem, price, buy);\n    } catch (IOException | InterruptedException e) {\n        // Handle exceptions appropriately, log, and continue or rethrow based on requirements.\n        log.error(&quot;Error processing item: {}&quot;, originalItem.getName(), e);\n    }\n\n    return newItem;\n}\nprivate Document getPage(String url) throws IOException {\n    return Jsoup.parse(new URL(url), 20000);\n}\n\nprivate double parsePrice(String priceString) {\n    return Double.parseDouble(priceString) / 100;\n}\n\nprivate void updateItemDetails(Item item, double price, double buy) {\n    item.setPrice(price);\n    item.setBuyOrder(buy);\n\n    try {\n        item.setPercentage(round((100 * ((price * 0.975) - buy) / buy), 4));\n    } catch (NumberFormatException e) {\n        log.error(&quot;Error calculating percentage for item: {}&quot;, item.getName(), e);\n    }\n\n    item.setProfit(round((price * 0.975 - buy), 2));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29955378,"reputation":1,"user_id":22956387,"display_name":"Teck"},"score":0,"creation_date":1700653510,"post_id":77526340,"comment_id":136680491,"body_markdown":"Yes, looks like it&#39;s a get request cause. It works without problems in a POST request. Is there any way to implement normal behavior via a get request?","body":"Yes, looks like it&#39;s a get request cause. It works without problems in a POST request. Is there any way to implement normal behavior via a get request?"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700606466,"creation_date":1700606466,"answer_id":77526340,"question_id":77521214,"body_markdown":"You give the answer yourself:\r\n\r\n&gt; _this method is called in a GET request_\r\n\r\nSpring (or the webserver it contains) starts multiple threads so that it can handle multiple GET requests in parallel.\r\n\r\nAs soon as a second (*) client sends second GET request your method will be executed in parallel.\r\n\r\nIf you mark your method as `synchronized` only one thread after the other will be able to execute it - at the expense of longer response times for other clients.\r\n\r\n---\r\n*) if the execution of your method takes too long it could even be that the request of the first client times out and this first client resends the same request again which would still end up in a second thread running your method.","title":"Jsoup parsing weird behavior","body":"<p>You give the answer yourself:</p>\n<blockquote>\n<p><em>this method is called in a GET request</em></p>\n</blockquote>\n<p>Spring (or the webserver it contains) starts multiple threads so that it can handle multiple GET requests in parallel.</p>\n<p>As soon as a second (*) client sends second GET request your method will be executed in parallel.</p>\n<p>If you mark your method as <code>synchronized</code> only one thread after the other will be able to execute it - at the expense of longer response times for other clients.</p>\n<hr />\n<p>*) if the execution of your method takes too long it could even be that the request of the first client times out and this first client resends the same request again which would still end up in a second thread running your method.</p>\n"}],"owner":{"account_id":29955378,"reputation":1,"user_id":22956387,"display_name":"Teck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700608007,"creation_date":1700554230,"question_id":77521214,"body_markdown":"I&#39;m trying do parsing with jsoup in loop, but after several iterations the loop starts all over again like in parallel thread, why does this happen?\r\n\r\nCode of my method:\r\n\r\n```\r\npublic void parser(String type, String someUrl) throws InterruptedException {\r\n        List&lt;Item&gt; list = itemRepository.findAllByType(type);\r\n        int count = 0;\r\n        Document page;\r\n        String url;\r\n        Elements el;\r\n        double price;\r\n        double buy;\r\n\r\n        for (Item item : list) {\r\n            count++;\r\n            System.out.println(&quot;iteration    &quot; + count);\r\n            url = someUrl + item.getBuffId();\r\n\r\n            try {\r\n                page = Jsoup.parse(new URL(url), 20000);\r\n                Thread.sleep(2000);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            el = page.getElementsByAttribute(&quot;data-goods-sell-min-price&quot;);\r\n            price = Double.parseDouble(el.attr(&quot;data-goods-sell-min-price&quot;)) / 100;\r\n            buy = Double.parseDouble(el.attr(&quot;data-goods-buy-max-price&quot;)) / 100;\r\n            item.setPrice(price);\r\n            item.setBuyOrder(buy);\r\n            try {\r\n                item.setPercentage(round((100 * ((price * 0.975) - buy) / buy), 4));\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(item.getName());\r\n                System.out.println(price);\r\n                System.out.println(buy);\r\n            }\r\n            item.setProfit(round((price * 0.975 - buy), 2));\r\n        }\r\n        itemRepository.saveAll(list);\r\n    }\r\n```\r\nConsole output: \r\niteration    1\r\niteration    2\r\niteration    3\r\niteration    4\r\niteration    5\r\niteration    6\r\niteration    1\r\niteration    7\r\niteration    2\r\niteration    8\r\niteration    3\r\n\r\n\r\nSometimes, but in very rare cases, everything works fine, usually the second thread starts after 7-10 iterations, sometimes after 30+ iterations.\r\n\r\nP.S. May be this is improtant: I&#39;m using spring boot application and this method is called in a GET request.\r\nP.P.S. Also tried make method synchronised but after last loop iteration, it&#39;s starts from begginning ","title":"Jsoup parsing weird behavior","body":"<p>I'm trying do parsing with jsoup in loop, but after several iterations the loop starts all over again like in parallel thread, why does this happen?</p>\n<p>Code of my method:</p>\n<pre><code>public void parser(String type, String someUrl) throws InterruptedException {\n        List&lt;Item&gt; list = itemRepository.findAllByType(type);\n        int count = 0;\n        Document page;\n        String url;\n        Elements el;\n        double price;\n        double buy;\n\n        for (Item item : list) {\n            count++;\n            System.out.println(&quot;iteration    &quot; + count);\n            url = someUrl + item.getBuffId();\n\n            try {\n                page = Jsoup.parse(new URL(url), 20000);\n                Thread.sleep(2000);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            el = page.getElementsByAttribute(&quot;data-goods-sell-min-price&quot;);\n            price = Double.parseDouble(el.attr(&quot;data-goods-sell-min-price&quot;)) / 100;\n            buy = Double.parseDouble(el.attr(&quot;data-goods-buy-max-price&quot;)) / 100;\n            item.setPrice(price);\n            item.setBuyOrder(buy);\n            try {\n                item.setPercentage(round((100 * ((price * 0.975) - buy) / buy), 4));\n            } catch (NumberFormatException e) {\n                System.out.println(item.getName());\n                System.out.println(price);\n                System.out.println(buy);\n            }\n            item.setProfit(round((price * 0.975 - buy), 2));\n        }\n        itemRepository.saveAll(list);\n    }\n</code></pre>\n<p>Console output:\niteration    1\niteration    2\niteration    3\niteration    4\niteration    5\niteration    6\niteration    1\niteration    7\niteration    2\niteration    8\niteration    3</p>\n<p>Sometimes, but in very rare cases, everything works fine, usually the second thread starts after 7-10 iterations, sometimes after 30+ iterations.</p>\n<p>P.S. May be this is improtant: I'm using spring boot application and this method is called in a GET request.\nP.P.S. Also tried make method synchronised but after last loop iteration, it's starts from begginning</p>\n"},{"tags":["java","dom","junit"],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700603462,"creation_date":1700603462,"answer_id":77526127,"question_id":77525024,"body_markdown":"You can create simple XML document using `DocumentBuilder`:\r\n\r\n```\r\nimport org.junit.Test;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\n\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class MyTest {\r\n\r\n    @Test\r\n    public void myTest() throws Exception {\r\n        Document xmlDocument = createDocument();\r\n\r\n        String result = new MyTransformer().convertDocumentToString(xmlDocument);\r\n\r\n        String expected = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;root&gt;&lt;element&gt;value&lt;/element&gt;&lt;/root&gt;&quot;;\r\n\r\n        assertEquals(expected, result);\r\n    }\r\n\r\n    private Document createDocument() throws Exception {\r\n\r\n        Document document = DocumentBuilderFactory.newInstance()\r\n                .newDocumentBuilder()\r\n                .newDocument();\r\n\r\n        // Create root element\r\n        Element rootElement = document.createElement(&quot;root&quot;);\r\n        document.appendChild(rootElement);\r\n\r\n        // Create child element\r\n        Element childElement = document.createElement(&quot;element&quot;);\r\n        childElement.appendChild(document.createTextNode(&quot;value&quot;));\r\n\r\n        rootElement.appendChild(childElement);\r\n\r\n        return document;\r\n    }\r\n}\r\n```","title":"How to unit test a XML document to string transformation method","body":"<p>You can create simple XML document using <code>DocumentBuilder</code>:</p>\n<pre><code>import org.junit.Test;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class MyTest {\n\n    @Test\n    public void myTest() throws Exception {\n        Document xmlDocument = createDocument();\n\n        String result = new MyTransformer().convertDocumentToString(xmlDocument);\n\n        String expected = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;no\\&quot;?&gt;&lt;root&gt;&lt;element&gt;value&lt;/element&gt;&lt;/root&gt;&quot;;\n\n        assertEquals(expected, result);\n    }\n\n    private Document createDocument() throws Exception {\n\n        Document document = DocumentBuilderFactory.newInstance()\n                .newDocumentBuilder()\n                .newDocument();\n\n        // Create root element\n        Element rootElement = document.createElement(&quot;root&quot;);\n        document.appendChild(rootElement);\n\n        // Create child element\n        Element childElement = document.createElement(&quot;element&quot;);\n        childElement.appendChild(document.createTextNode(&quot;value&quot;));\n\n        rootElement.appendChild(childElement);\n\n        return document;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700607913,"creation_date":1700607913,"answer_id":77526429,"question_id":77525024,"body_markdown":"The simplest/easiest way is just to parse an XML string and verify that you get the same string back:\r\n\r\n    @Test\r\n    void test() throws Exception {\r\n        var xml = &quot;&quot;&quot;\r\n                &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;root/&gt;&quot;&quot;&quot;;\r\n        \r\n        var doc = DocumentBuilderFactory\r\n                .newDefaultInstance()\r\n                .newDocumentBuilder()\r\n                .parse(new InputSource(new StringReader(xml)));\r\n\r\n        assertEquals(xml, convertDocumentToString(doc));\r\n    }\r\nNote that there is an implicit static import of `convertDocumentToString`.\r\n\r\nTesting that the method returns null on an exception will be quite difficult since the transformer delivers the XML prolog even if the input document is null or empty, and constructing an illegal Document structure should not be possible (there might be some corner cases).\r\n\r\nReturning null on an exception is actually hiding a severe error condition. Something is wrong with the platform/setup of java itself. I recommend throwing a custom RuntimeException instead.","title":"How to unit test a XML document to string transformation method","body":"<p>The simplest/easiest way is just to parse an XML string and verify that you get the same string back:</p>\n<pre><code>@Test\nvoid test() throws Exception {\n    var xml = &quot;&quot;&quot;\n            &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;root/&gt;&quot;&quot;&quot;;\n    \n    var doc = DocumentBuilderFactory\n            .newDefaultInstance()\n            .newDocumentBuilder()\n            .parse(new InputSource(new StringReader(xml)));\n\n    assertEquals(xml, convertDocumentToString(doc));\n}\n</code></pre>\n<p>Note that there is an implicit static import of <code>convertDocumentToString</code>.</p>\n<p>Testing that the method returns null on an exception will be quite difficult since the transformer delivers the XML prolog even if the input document is null or empty, and constructing an illegal Document structure should not be possible (there might be some corner cases).</p>\n<p>Returning null on an exception is actually hiding a severe error condition. Something is wrong with the platform/setup of java itself. I recommend throwing a custom RuntimeException instead.</p>\n"}],"owner":{"account_id":7046613,"reputation":1,"user_id":5397270,"display_name":"britney1994"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700607913,"creation_date":1700589941,"question_id":77525024,"body_markdown":"    \r\n```\r\npublic static String convertDocumentToString(Document xmlDocument) {\r\n\r\n        TransformerFactory tf = TransformerFactory.newInstance();\r\n        Transformer transformer;\r\n        try {\r\n            transformer = tf.newTransformer();\r\n            StringWriter writer = new StringWriter();\r\n\r\n            transformer.transform(new DOMSource(xmlDocument), new StreamResult(writer));\r\n\r\n            return writer.getBuffer().toString();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI am trying to unit test (junit) the following method \r\nwhat would be the easiest/simplest approach to creating the document in the unit test? \r\n\r\nAny suggestions? Mockito isn&#39;t something feasible here \r\n\r\nfor example the test \r\n\r\n \r\n```\r\n1. @Test\r\n1. public void convertDocumentToString() {\r\n1. Document document = ??\r\n1. \r\n1. class.convertDocumentToString(document)\r\n```\r\nhow would I build a Document variable to pass to the method \r\n","title":"How to unit test a XML document to string transformation method","body":"<pre><code>public static String convertDocumentToString(Document xmlDocument) {\n\n        TransformerFactory tf = TransformerFactory.newInstance();\n        Transformer transformer;\n        try {\n            transformer = tf.newTransformer();\n            StringWriter writer = new StringWriter();\n\n            transformer.transform(new DOMSource(xmlDocument), new StreamResult(writer));\n\n            return writer.getBuffer().toString();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>I am trying to unit test (junit) the following method\nwhat would be the easiest/simplest approach to creating the document in the unit test?</p>\n<p>Any suggestions? Mockito isn't something feasible here</p>\n<p>for example the test</p>\n<pre><code>1. @Test\n1. public void convertDocumentToString() {\n1. Document document = ??\n1. \n1. class.convertDocumentToString(document)\n</code></pre>\n<p>how would I build a Document variable to pass to the method</p>\n"},{"tags":["java","spring-boot","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":8894632,"reputation":63,"user_id":6640121,"display_name":"Raba_Ababa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700607475,"creation_date":1700607475,"answer_id":77526398,"question_id":77524517,"body_markdown":"I found solution. On my table t_order_aud I had primaryKey constraint set only on &quot;rev&quot; column. I set primaryKey as combined on columns (rev,id) and it worked now. ","title":"Hibernate Envers inserts same revision into two audit records in same transaction","body":"<p>I found solution. On my table t_order_aud I had primaryKey constraint set only on &quot;rev&quot; column. I set primaryKey as combined on columns (rev,id) and it worked now.</p>\n"}],"owner":{"account_id":8894632,"reputation":63,"user_id":6640121,"display_name":"Raba_Ababa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700607475,"creation_date":1700584902,"question_id":77524517,"body_markdown":"I have problem, becouse while same transaction I want to insert new order Entity, and delete another as below.\r\n```   \r\n@Transactional \r\npublic void execute(OrderEntity orderToRenew) {\r\n        OrderEntity newOrder = orderRepositoryPort.save(new OrderEntity(orderToRenew, orderToRenew.getEmailRequestId(), OrderDeliveryStatus.IN_PROGRESS));\r\n\r\n        orderRepositoryPort.deleteById(orderToRenew.getId());\r\n}\r\n```\r\nFrom logs I can see, that envers invokes 2 inserts into t_order_aud with same revision, which cause excpetion:\r\n\r\n```\r\n2023-11-21T17:26:23.088+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : delete from t_order where id=?\r\n2023-11-21T17:26:23.089+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BIGINT] - [1]\r\n2023-11-21T17:26:23.092+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into revinfo (rev, revtstmp) values (default, ?)               \r\n2023-11-21T17:26:23.092+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BIGINT] - [1700583983091]\r\n\r\n                                          FIRST INSERT T_ORDER_AUD BELOW (with rev = 1)\r\n\t\t\t\t\t\t\t\t\t\t  \r\n2023-11-21T17:26:23.095+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [VARCHAR] - [ANONYMOUS_USER]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [3] as [TIMESTAMP] - [2023-11-21T17:26:23.072916200]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [4] as [VARCHAR] - [EMAIL]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [5] as [TIMESTAMP] - [2021-07-23T00:00]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [6] as [VARCHAR] - [FAILURE]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [7] as [BIGINT] - [1]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [8] as [VARCHAR] - [Niespodziewany błąd]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [9] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [10] as [VARCHAR] - [3d87f-3458-414e-8649-047cb8ca29fd-144-0]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [11] as [VARCHAR] - [FAILURE]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [12] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [13] as [TIMESTAMP] - [null]\r\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [14] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [15] as [INTEGER] - [1]        &lt;&lt;&lt;&lt;------- REV = 1\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [16] as [BIGINT] - [3]\r\n\r\n                                   SECOND INSERT T_ORDER_AUD BELOW (with rev = 1)\r\n\t\t\t\t\t\t\t\t   \r\n2023-11-21T17:26:23.096+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [3] as [TIMESTAMP] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [4] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [5] as [TIMESTAMP] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [6] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [7] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [8] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [9] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [10] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [11] as [VARCHAR] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [12] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [13] as [TIMESTAMP] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [14] as [BIGINT] - [null]\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [15] as [INTEGER] - [1]          &lt;&lt;&lt;&lt;--------- REV = 1\r\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [16] as [BIGINT] - [1]\r\n2023-11-21T17:26:23.099+01:00  WARN 24232 --- [nio-8084-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505\r\n2023-11-21T17:26:23.099+01:00 ERROR 24232 --- [nio-8084-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Naruszenie ograniczenia Klucza Gł&#243;wnego lub Indeksu Unikalnego: &quot;PRIMARY KEY ON PUBLIC.t_order_aud(rev) ( /* key:1 */ CAST(3 AS BIGINT), &#39;sopel_aaf3d87f-3458-414e-8649-047cb8ca29fd-144-0&#39;, &#39;EMAIL&#39;, &#39;FAILURE&#39;, &#39;FAILURE&#39;, U&amp;&#39;Niespodziewany b\\\\0142\\\\0105d&#39;, NULL, NULL, CAST(1 AS BIGINT), NULL, TIMESTAMP &#39;2021-07-23 00:00:00&#39;, TIMESTAMP &#39;2023-11-21 17:26:23.072916&#39;, &#39;ANONYMOUS_USER&#39;, 1, CAST(0 AS TINYINT), NULL)&quot;\r\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.t_order_aud(rev) ( /* key:1 */ CAST(3 AS BIGINT), &#39;sopel_aaf3d87f-3458-414e-8649-047cb8ca29fd-144-0&#39;, &#39;EMAIL&#39;, &#39;FAILURE&#39;, &#39;FAILURE&#39;, U&amp;&#39;Niespodziewany b\\\\0142\\\\0105d&#39;, NULL, NULL, CAST(1 AS BIGINT), NULL, TIMESTAMP &#39;2021-07-23 00:00:00&#39;, TIMESTAMP &#39;2023-11-21 17:26:23.072916&#39;, &#39;ANONYMOUS_USER&#39;, 1, CAST(0 AS TINYINT), NULL)&quot;; SQL statement:\r\ninsert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-214]\r\n2023-11-21T17:26:23.100+01:00  INFO 24232 --- [nio-8084-exec-1] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n2023-11-21T17:26:23.108+01:00 ERROR 24232 --- [nio-8084-exec-1] p.p.s.p.a.rest.GlobalExceptionHandler    : Unable to perform beforeTransactionCompletion callback: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement\r\n```\r\n\r\nFirst time i have such problem, that envers inserts same ids into two different aud objects. I would be gratefull if someone can explain me how can I solve this","title":"Hibernate Envers inserts same revision into two audit records in same transaction","body":"<p>I have problem, becouse while same transaction I want to insert new order Entity, and delete another as below.</p>\n<pre><code>@Transactional \npublic void execute(OrderEntity orderToRenew) {\n        OrderEntity newOrder = orderRepositoryPort.save(new OrderEntity(orderToRenew, orderToRenew.getEmailRequestId(), OrderDeliveryStatus.IN_PROGRESS));\n\n        orderRepositoryPort.deleteById(orderToRenew.getId());\n}\n</code></pre>\n<p>From logs I can see, that envers invokes 2 inserts into t_order_aud with same revision, which cause excpetion:</p>\n<pre><code>2023-11-21T17:26:23.088+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : delete from t_order where id=?\n2023-11-21T17:26:23.089+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BIGINT] - [1]\n2023-11-21T17:26:23.092+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into revinfo (rev, revtstmp) values (default, ?)               \n2023-11-21T17:26:23.092+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [1] as [BIGINT] - [1700583983091]\n\n                                          FIRST INSERT T_ORDER_AUD BELOW (with rev = 1)\n                                          \n2023-11-21T17:26:23.095+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [VARCHAR] - [ANONYMOUS_USER]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [3] as [TIMESTAMP] - [2023-11-21T17:26:23.072916200]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [4] as [VARCHAR] - [EMAIL]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [5] as [TIMESTAMP] - [2021-07-23T00:00]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [6] as [VARCHAR] - [FAILURE]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [7] as [BIGINT] - [1]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [8] as [VARCHAR] - [Niespodziewany błąd]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [9] as [VARCHAR] - [null]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [10] as [VARCHAR] - [3d87f-3458-414e-8649-047cb8ca29fd-144-0]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [11] as [VARCHAR] - [FAILURE]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [12] as [BIGINT] - [null]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [13] as [TIMESTAMP] - [null]\n2023-11-21T17:26:23.095+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [14] as [BIGINT] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [15] as [INTEGER] - [1]        &lt;&lt;&lt;&lt;------- REV = 1\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [16] as [BIGINT] - [3]\n\n                                   SECOND INSERT T_ORDER_AUD BELOW (with rev = 1)\n                                   \n2023-11-21T17:26:23.096+01:00 DEBUG 24232 --- [nio-8084-exec-1] org.hibernate.SQL                        : insert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [2] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [3] as [TIMESTAMP] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [4] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [5] as [TIMESTAMP] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [6] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [7] as [BIGINT] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [8] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [9] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [10] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [11] as [VARCHAR] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [12] as [BIGINT] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [13] as [TIMESTAMP] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [14] as [BIGINT] - [null]\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [15] as [INTEGER] - [1]          &lt;&lt;&lt;&lt;--------- REV = 1\n2023-11-21T17:26:23.096+01:00 TRACE 24232 --- [nio-8084-exec-1] org.hibernate.orm.jdbc.bind              : binding parameter [16] as [BIGINT] - [1]\n2023-11-21T17:26:23.099+01:00  WARN 24232 --- [nio-8084-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505\n2023-11-21T17:26:23.099+01:00 ERROR 24232 --- [nio-8084-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Naruszenie ograniczenia Klucza Głównego lub Indeksu Unikalnego: &quot;PRIMARY KEY ON PUBLIC.t_order_aud(rev) ( /* key:1 */ CAST(3 AS BIGINT), 'sopel_aaf3d87f-3458-414e-8649-047cb8ca29fd-144-0', 'EMAIL', 'FAILURE', 'FAILURE', U&amp;'Niespodziewany b\\\\0142\\\\0105d', NULL, NULL, CAST(1 AS BIGINT), NULL, TIMESTAMP '2021-07-23 00:00:00', TIMESTAMP '2023-11-21 17:26:23.072916', 'ANONYMOUS_USER', 1, CAST(0 AS TINYINT), NULL)&quot;\nUnique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.t_order_aud(rev) ( /* key:1 */ CAST(3 AS BIGINT), 'sopel_aaf3d87f-3458-414e-8649-047cb8ca29fd-144-0', 'EMAIL', 'FAILURE', 'FAILURE', U&amp;'Niespodziewany b\\\\0142\\\\0105d', NULL, NULL, CAST(1 AS BIGINT), NULL, TIMESTAMP '2021-07-23 00:00:00', TIMESTAMP '2023-11-21 17:26:23.072916', 'ANONYMOUS_USER', 1, CAST(0 AS TINYINT), NULL)&quot;; SQL statement:\ninsert into t_order_aud (revtype, modified_by, modify_date, channel, create_date, delivery_status, email_request_id, error_info, file_location, message_id, order_status, report_request_id, sent_date, sms_request_id, rev, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-214]\n2023-11-21T17:26:23.100+01:00  INFO 24232 --- [nio-8084-exec-1] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2023-11-21T17:26:23.108+01:00 ERROR 24232 --- [nio-8084-exec-1] p.p.s.p.a.rest.GlobalExceptionHandler    : Unable to perform beforeTransactionCompletion callback: Converting `org.hibernate.exception.ConstraintViolationException` to JPA `PersistenceException` : could not execute statement\n</code></pre>\n<p>First time i have such problem, that envers inserts same ids into two different aud objects. I would be gratefull if someone can explain me how can I solve this</p>\n"},{"tags":["java","scala","java-8"],"comments":[{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":1,"creation_date":1594980090,"post_id":26162407,"comment_id":111322920,"body_markdown":"Still no standard implementation after all this time :(","body":"Still no standard implementation after all this time :("},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1601018460,"post_id":26162407,"comment_id":113278543,"body_markdown":"There is always `java.lang.Object`  ... sad.","body":"There is always <code>java.lang.Object</code>  ... sad."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1700086646,"post_id":26162407,"comment_id":136613074,"body_markdown":"I&#39;ve been using Scala since 2011/Jan, and returned to Java (Started in 1997) hoping that an `java.utils.Either` might have finally be provided. Nope. So, I just created something as close as I could to what I loved in Scala: https://stackoverflow.com/a/76435293/501113","body":"I&#39;ve been using Scala since 2011/Jan, and returned to Java (Started in 1997) hoping that an <code>java.utils.Either</code> might have finally be provided. Nope. So, I just created something as close as I could to what I loved in Scala: <a href=\"https://stackoverflow.com/a/76435293/501113\">stackoverflow.com/a/76435293/501113</a>"}],"answers":[{"comments":[{"owner":{"account_id":1100050,"reputation":3094,"user_id":1092672,"accept_rate":90,"display_name":"Cannoliopsida"},"score":9,"creation_date":1443646229,"post_id":26163072,"comment_id":53582162,"body_markdown":"Do you have a source on that?","body":"Do you have a source on that?"},{"owner":{"account_id":3765736,"reputation":890,"user_id":3129333,"display_name":"RonyHe"},"score":3,"creation_date":1472724646,"post_id":26163072,"comment_id":65871819,"body_markdown":"@akroy, this seems to be correct, Brian Goetz wrote as much in this answer: [link](http://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555).","body":"@akroy, this seems to be correct, Brian Goetz wrote as much in this answer: <a href=\"http://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555\">link</a>."},{"owner":{"account_id":4406643,"reputation":7421,"user_id":3590849,"accept_rate":40,"display_name":"tamas.kenez"},"score":4,"creation_date":1540041276,"post_id":26163072,"comment_id":92722735,"body_markdown":"For me `Either` does arise naturally. Maybe I&#39;m doing it wrong. What do you do when a method could return two different things? Like, `Either&lt;List&lt;String&gt;, SomeOtherClass&gt;`?","body":"For me <code>Either</code> does arise naturally. Maybe I&#39;m doing it wrong. What do you do when a method could return two different things? Like, <code>Either&lt;List&lt;String&gt;, SomeOtherClass&gt;</code>?"},{"owner":{"account_id":56970,"reputation":1143,"user_id":170637,"display_name":"Olivier G&#233;rardin"},"score":6,"creation_date":1557932903,"post_id":26163072,"comment_id":98934433,"body_markdown":"I would object too that Either arises naturally, for me in a stream where a map operation could potentially throw an exception, so I map to a stream of Either&lt;Exception, Result&gt;","body":"I would object too that Either arises naturally, for me in a stream where a map operation could potentially throw an exception, so I map to a stream of Either&lt;Exception, Result&gt;"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1686266808,"post_id":26163072,"comment_id":134779284,"body_markdown":"It arose natually for me, too. So much so, I took @Holder&#39;s first implementation with two `Optional`s and polished it to be more useful to me: https://stackoverflow.com/a/76435293/501113","body":"It arose natually for me, too. So much so, I took @Holder&#39;s first implementation with two <code>Optional</code>s and polished it to be more useful to me: <a href=\"https://stackoverflow.com/a/76435293/501113\">stackoverflow.com/a/76435293/501113</a>"}],"tags":[],"owner":{"account_id":414154,"reputation":122081,"user_id":788207,"accept_rate":84,"display_name":"Vladimir Matveev"},"comment_count":5,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1412260084,"creation_date":1412260084,"answer_id":26163072,"question_id":26162407,"body_markdown":"No, there is none.\r\n\r\nJava language developers explicitly state that types like `Option&lt;T&gt;` are intended to be used only as temporary values (e.g. in stream operations results), so while they *are* the same thing as in other languages, they are *not supposed* to be used as they are used in other languages. So it is not surprising that there is no such thing as `Either` because it does not arise naturally (e.g. from stream operations) like `Optional` does.","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>No, there is none.</p>\n\n<p>Java language developers explicitly state that types like <code>Option&lt;T&gt;</code> are intended to be used only as temporary values (e.g. in stream operations results), so while they <em>are</em> the same thing as in other languages, they are <em>not supposed</em> to be used as they are used in other languages. So it is not surprising that there is no such thing as <code>Either</code> because it does not arise naturally (e.g. from stream operations) like <code>Optional</code> does.</p>\n"},{"comments":[{"owner":{"account_id":1410746,"reputation":16908,"user_id":1337392,"accept_rate":98,"display_name":"Flame_Phoenix"},"score":0,"creation_date":1547139086,"post_id":26163151,"comment_id":95098189,"body_markdown":"The link to Either seems to have been deleted. Are you sure the project is still being supported ?","body":"The link to Either seems to have been deleted. Are you sure the project is still being supported ?"},{"owner":{"account_id":4872307,"reputation":1139,"user_id":3928365,"display_name":"Ravi Kiran"},"score":0,"creation_date":1553889750,"post_id":26163151,"comment_id":97568602,"body_markdown":"I have updated the link. The project is still being actively maintained AFAIK.","body":"I have updated the link. The project is still being actively maintained AFAIK."},{"owner":{"account_id":1317437,"reputation":802,"user_id":1263999,"display_name":"Misha Tavkhelidze"},"score":0,"creation_date":1557638418,"post_id":26163151,"comment_id":98828450,"body_markdown":"It is, but documentation is abysmal. :(","body":"It is, but documentation is abysmal. :("}],"tags":[],"owner":{"account_id":4872307,"reputation":1139,"user_id":3928365,"display_name":"Ravi Kiran"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1553889723,"creation_date":1412260345,"answer_id":26163151,"question_id":26162407,"body_markdown":"There is no Either in the Java Standard Library. However there is an implementation of [Either][1] in [FunctionalJava][2], along with many other nice classes.\r\n\r\n\r\n  [1]: https://github.com/functionaljava/functionaljava/blob/series/5.x/core/src/main/java/fj/data/Either.java\r\n  [2]: https://github.com/functionaljava/functionaljava","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>There is no Either in the Java Standard Library. However there is an implementation of <a href=\"https://github.com/functionaljava/functionaljava/blob/series/5.x/core/src/main/java/fj/data/Either.java\" rel=\"noreferrer\">Either</a> in <a href=\"https://github.com/functionaljava/functionaljava\" rel=\"noreferrer\">FunctionalJava</a>, along with many other nice classes.</p>\n"},{"comments":[{"owner":{"account_id":2312480,"reputation":1316,"user_id":2030301,"accept_rate":56,"display_name":"Mysterious Dan"},"score":12,"creation_date":1412265134,"post_id":26164155,"comment_id":41019297,"body_markdown":"Keep in mind that while this behaves like `Either`, the type is in some sense &quot;too big&quot;, since your `left` and `right` fields could in principle both be empty or both be defined. You&#39;ve hidden the constructors that would make that possible, but the approach still leaves potential for bugs in your implementation. In simple type arithmetic terms, you&#39;re trying to get `a + b` out of `(1 + a) * (1 + b)`. Sure, `a + b` occurs in the result of that expression, but so is `1` and `a * b`.","body":"Keep in mind that while this behaves like <code>Either</code>, the type is in some sense &quot;too big&quot;, since your <code>left</code> and <code>right</code> fields could in principle both be empty or both be defined. You&#39;ve hidden the constructors that would make that possible, but the approach still leaves potential for bugs in your implementation. In simple type arithmetic terms, you&#39;re trying to get <code>a + b</code> out of <code>(1 + a) * (1 + b)</code>. Sure, <code>a + b</code> occurs in the result of that expression, but so is <code>1</code> and <code>a * b</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":9,"creation_date":1412583432,"post_id":26164155,"comment_id":41106986,"body_markdown":"@Mysterious Dan: forbidding certain kind of state during object construction is the preferred way in Java. Otherwise you would have to invent a new “valid range” type for almost every use case of `int` as using the entire value range of `int` when using an `int` variable is the exception, just as an example. After all, `Optional` does the same, enforcing the invariants during object construction.","body":"@Mysterious Dan: forbidding certain kind of state during object construction is the preferred way in Java. Otherwise you would have to invent a new “valid range” type for almost every use case of <code>int</code> as using the entire value range of <code>int</code> when using an <code>int</code> variable is the exception, just as an example. After all, <code>Optional</code> does the same, enforcing the invariants during object construction."},{"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"score":2,"creation_date":1465473151,"post_id":26164155,"comment_id":62921554,"body_markdown":"@Holger: `Either.left(42).map(left -&gt; null, right -&gt; right)` throws `NoSuchElementException` (correct) on `this.right.get()` (incorrect). Also, one can bypass the invariants enforcement and produce `Either&lt;empty, empty&gt;` by `Either.left(42).mapLeft(left -&gt; null)`. Or when put together, fail again on `Either.left(42).mapLeft(left -&gt; null).map(left -&gt; left, right -&gt; right)`.","body":"@Holger: <code>Either.left(42).map(left -&gt; null, right -&gt; right)</code> throws <code>NoSuchElementException</code> (correct) on <code>this.right.get()</code> (incorrect). Also, one can bypass the invariants enforcement and produce <code>Either&lt;empty, empty&gt;</code> by <code>Either.left(42).mapLeft(left -&gt; null)</code>. Or when put together, fail again on <code>Either.left(42).mapLeft(left -&gt; null).map(left -&gt; left, right -&gt; right)</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1465473938,"post_id":26164155,"comment_id":62922149,"body_markdown":"@charlie: this solution does not consider that `Optional.map` allows the function to return `null`, turning it to an empty `Optional`. However, besides the opportunity to detect that and throw immediately, I don’t see any alternative solution that is “more correct”. Afaik, there is no reference behavior, as in Scala, you can’t map to `null`…","body":"@charlie: this solution does not consider that <code>Optional.map</code> allows the function to return <code>null</code>, turning it to an empty <code>Optional</code>. However, besides the opportunity to detect that and throw immediately, I don’t see any alternative solution that is “more correct”. Afaik, there is no reference behavior, as in Scala, you can’t map to <code>null</code>…"},{"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"score":1,"creation_date":1465575453,"post_id":26164155,"comment_id":62975248,"body_markdown":"@Holger: I agree there is no &quot;more correct&quot; way, I just didn&#39;t like the fact that the `Right` code path is executed at all for a `Left` instance, even though the error is the same. And yes, I&#39;d prefer failing right away instead of receiving an `&lt;empty, empty&gt;` and failing later on. But again, it&#39;s all just a matter of a taste / style.","body":"@Holger: I agree there is no &quot;more correct&quot; way, I just didn&#39;t like the fact that the <code>Right</code> code path is executed at all for a <code>Left</code> instance, even though the error is the same. And yes, I&#39;d prefer failing right away instead of receiving an <code>&lt;empty, empty&gt;</code> and failing later on. But again, it&#39;s all just a matter of a taste / style."},{"owner":{"account_id":22022,"reputation":6448,"user_id":53974,"display_name":"Blaisorblade"},"score":2,"creation_date":1477567236,"post_id":26164155,"comment_id":67824753,"body_markdown":"@Holger You could have `class Left extends Either` and `class Right extends Either`—that&#39;s perfectly Java-style, since it&#39;s an use of the Strategy pattern.","body":"@Holger You could have <code>class Left extends Either</code> and <code>class Right extends Either</code>—that&#39;s perfectly Java-style, since it&#39;s an use of the Strategy pattern."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1477568046,"post_id":26164155,"comment_id":67825298,"body_markdown":"@Blaisorblade: that would be an alternative implementation and the unavoidable code duplication would be minimal, so, yes, that would be an option. But for the users of the class, it doesn’t make a difference anyway. Note that the JRE implementors decided not to create `EmptyOptional` and `NonEmptyOptional` implementation classes, but use conditionals internally. That likely reduces the MetaSpace consumption, however, I think the technical differences are too small to call one approach superor to the other. I wrote this class ad-hoc two years ago and there surely are alternatives…","body":"@Blaisorblade: that would be an alternative implementation and the unavoidable code duplication would be minimal, so, yes, that would be an option. But for the users of the class, it doesn’t make a difference anyway. Note that the JRE implementors decided not to create <code>EmptyOptional</code> and <code>NonEmptyOptional</code> implementation classes, but use conditionals internally. That likely reduces the MetaSpace consumption, however, I think the technical differences are too small to call one approach superor to the other. I wrote this class ad-hoc two years ago and there surely are alternatives…"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1477568205,"post_id":26164155,"comment_id":67825412,"body_markdown":"@Blaisorblade: thinking about it, using `class Left extends Either` and `class Right extends Either` without `Optional`s might make more robust code, so perhaps, that would be the better choice for production code, but anyway, the answer to the actually asked question doesn’t change, there is no such built-in solution and you have to implement it yourself or use a 3rd party solution.","body":"@Blaisorblade: thinking about it, using <code>class Left extends Either</code> and <code>class Right extends Either</code> without <code>Optional</code>s might make more robust code, so perhaps, that would be the better choice for production code, but anyway, the answer to the actually asked question doesn’t change, there is no such built-in solution and you have to implement it yourself or use a 3rd party solution."},{"owner":{"account_id":22022,"reputation":6448,"user_id":53974,"display_name":"Blaisorblade"},"score":0,"creation_date":1478125690,"post_id":26164155,"comment_id":68033455,"body_markdown":"@Holger StackOverflow tries to have accurate answers, and this answer still has buggy code and claims rolling your own solution is easy. I&#39;ve edited the answer to warn users, and my downvote stays.","body":"@Holger StackOverflow tries to have accurate answers, and this answer still has buggy code and claims rolling your own solution is easy. I&#39;ve edited the answer to warn users, and my downvote stays."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1478165895,"post_id":26164155,"comment_id":68046246,"body_markdown":"@Blaisorblade: there is no bug mentioned here, there’s only an unsupported case, that has no well-defined behavior given by the question, as only Scala’s `Either` has been specified and Scala has no `null`. Once there is a specified behavior for that case, adapting this code to that behavior *is* easy.","body":"@Blaisorblade: there is no bug mentioned here, there’s only an unsupported case, that has no well-defined behavior given by the question, as only Scala’s <code>Either</code> has been specified and Scala has no <code>null</code>. Once there is a specified behavior for that case, adapting this code to that behavior <i>is</i> easy."},{"owner":{"account_id":22022,"reputation":6448,"user_id":53974,"display_name":"Blaisorblade"},"score":0,"creation_date":1478248907,"post_id":26164155,"comment_id":68085743,"body_markdown":"@Holger FWIW Scala definitely has `null`. I guess the best answer is &quot;people should not roll their own&quot;.","body":"@Holger FWIW Scala definitely has <code>null</code>. I guess the best answer is &quot;people should not roll their own&quot;."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1478249211,"post_id":26164155,"comment_id":68085900,"body_markdown":"@Blaisorblade: and you can have an `Either` containing a `null`? That would render the entire concept of `Option[T]` and `Either[L, R]` useless.","body":"@Blaisorblade: and you can have an <code>Either</code> containing a <code>null</code>? That would render the entire concept of <code>Option[T]</code> and <code>Either[L, R]</code> useless."},{"owner":{"account_id":22022,"reputation":6448,"user_id":53974,"display_name":"Blaisorblade"},"score":0,"creation_date":1478645988,"post_id":26164155,"comment_id":68239895,"body_markdown":"@Holger While I see your point, to the contrary, Java forbids `Optional.of(null)`, but that turns out to make it useless for many uses—see\nhttps://developer.atlassian.com/blog/2015/08/optional-broken/ or search &quot;optional is not a monad&quot;. In fact, that&#39;s what introduces the problem with your library.\n\nIn practice I&#39;d want to prevent `Some(null)` or replace it by `None`, but that should be an explicit operation.\n\nEither way, function returning `null` (on purpose) abound in Java, so you don&#39;t want to use a library not supporting them.","body":"@Holger While I see your point, to the contrary, Java forbids <code>Optional.of(null)</code>, but that turns out to make it useless for many uses—see <a href=\"https://developer.atlassian.com/blog/2015/08/optional-broken/\" rel=\"nofollow noreferrer\">developer.atlassian.com/blog/2015/08/optional-broken</a> or search &quot;optional is not a monad&quot;. In fact, that&#39;s what introduces the problem with your library.  In practice I&#39;d want to prevent <code>Some(null)</code> or replace it by <code>None</code>, but that should be an explicit operation.  Either way, function returning <code>null</code> (on purpose) abound in Java, so you don&#39;t want to use a library not supporting them."},{"owner":{"account_id":5853491,"reputation":8043,"user_id":4611488,"display_name":"Stephan Herrmann"},"score":0,"creation_date":1492113471,"post_id":26164155,"comment_id":73862077,"body_markdown":"Heads-up: in version 9 javac rejects the `map` method, because two distinct captures cannot be compatible. ecj reports the same since version 4.5","body":"Heads-up: in version 9 javac rejects the <code>map</code> method, because two distinct captures cannot be compatible. ecj reports the same since version 4.5"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1492538666,"post_id":26164155,"comment_id":74013855,"body_markdown":"@Stephan Herrmann: I have inserted the necessary `&lt;T&gt;`, but I’m hoping for a future, when compilers try inferring ground types first, instead of useless wildcards…","body":"@Stephan Herrmann: I have inserted the necessary <code>&lt;T&gt;</code>, but I’m hoping for a future, when compilers try inferring ground types first, instead of useless wildcards…"},{"owner":{"account_id":5853491,"reputation":8043,"user_id":4611488,"display_name":"Stephan Herrmann"},"score":0,"creation_date":1492550644,"post_id":26164155,"comment_id":74020883,"body_markdown":"@Holger: are there plans to improve this in JLS? If so, do you have a bug number I can follow?","body":"@Holger: are there plans to improve this in JLS? If so, do you have a bug number I can follow?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1492585287,"post_id":26164155,"comment_id":74032194,"body_markdown":"@Stephan Herrmann: I don’t know of any actual plans, that’s why I said, I’m “hoping”. Since apparently implementing the JLS as-is does already consume all resources, I’m not too optimistic.","body":"@Stephan Herrmann: I don’t know of any actual plans, that’s why I said, I’m “hoping”. Since apparently implementing the JLS as-is does already consume all resources, I’m not too optimistic."},{"owner":{"account_id":1107521,"reputation":168,"user_id":1098637,"accept_rate":75,"display_name":"ula.uvula"},"score":1,"creation_date":1596122915,"post_id":26164155,"comment_id":111716662,"body_markdown":"Sorry, my Java skill is to weak.The second `Either` class, where I do not have a field. How can I decide that a object is Left or Right?","body":"Sorry, my Java skill is to weak.The second <code>Either</code> class, where I do not have a field. How can I decide that a object is Left or Right?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1596182958,"post_id":26164155,"comment_id":111736042,"body_markdown":"@ula.uvula the left and right cases are implemented via two anonymous subclasses. Since they don’t have names, you can’t test an instance for being the left or right class. But you can simply use the program logic, e.g. `either.map(x -&gt; &quot;left&quot;, x -&gt; &quot;right&quot;)` will return the answer. Or `static boolean isLeft(Either&lt;?,?&gt; either) { return either.map(x -&gt; true, x -&gt; false); }`","body":"@ula.uvula the left and right cases are implemented via two anonymous subclasses. Since they don’t have names, you can’t test an instance for being the left or right class. But you can simply use the program logic, e.g. <code>either.map(x -&gt; &quot;left&quot;, x -&gt; &quot;right&quot;)</code> will return the answer. Or <code>static boolean isLeft(Either&lt;?,?&gt; either) { return either.map(x -&gt; true, x -&gt; false); }</code>"},{"owner":{"account_id":1107521,"reputation":168,"user_id":1098637,"accept_rate":75,"display_name":"ula.uvula"},"score":1,"creation_date":1596222000,"post_id":26164155,"comment_id":111753328,"body_markdown":"@Holger: thanks, it work, also as as object method. So, I changed your second approach that I can run also function with checked exceptions. So if I get an exception, I return a &quot;Left&quot; (containing the exception and the value, raising the exception). In combination with streams: I convert a stream first all in Either object (Rights), than I can use map/filter etc. All without dying. The terminal operation of the stream can decide, what to do with the Left object.\nI can now run stream, without d","body":"@Holger: thanks, it work, also as as object method. So, I changed your second approach that I can run also function with checked exceptions. So if I get an exception, I return a &quot;Left&quot; (containing the exception and the value, raising the exception). In combination with streams: I convert a stream first all in Either object (Rights), than I can use map/filter etc. All without dying. The terminal operation of the stream can decide, what to do with the Left object. I can now run stream, without d"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1686264170,"post_id":26164155,"comment_id":134779022,"body_markdown":"I&#39;ve created a polished version of the first solution @Holger provided: https://stackoverflow.com/a/76435293/501113","body":"I&#39;ve created a polished version of the first solution @Holger provided: <a href=\"https://stackoverflow.com/a/76435293/501113\">stackoverflow.com/a/76435293/501113</a>"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":21,"down_vote_count":3,"up_vote_count":83,"is_accepted":true,"score":80,"last_activity_date":1492537905,"creation_date":1412263401,"answer_id":26164155,"question_id":26162407,"body_markdown":"There is no `Either` type is Java&#160;8, so you need to create one yourself or use some third-party library.\r\n\r\nYou may build such a feature using the new `Optional` type (but read to the end of this answer):\r\n\r\n    final class Either&lt;L,R&gt;\r\n    {\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; left(L value) {\r\n            return new Either&lt;&gt;(Optional.of(value), Optional.empty());\r\n        }\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; right(R value) {\r\n            return new Either&lt;&gt;(Optional.empty(), Optional.of(value));\r\n        }\r\n        private final Optional&lt;L&gt; left;\r\n        private final Optional&lt;R&gt; right;\r\n        private Either(Optional&lt;L&gt; l, Optional&lt;R&gt; r) {\r\n          left=l;\r\n          right=r;\r\n        }\r\n        public &lt;T&gt; T map(\r\n            Function&lt;? super L, ? extends T&gt; lFunc,\r\n            Function&lt;? super R, ? extends T&gt; rFunc)\r\n        {\r\n            return left.&lt;T&gt;map(lFunc).orElseGet(()-&gt;right.map(rFunc).get());\r\n        }\r\n        public &lt;T&gt; Either&lt;T,R&gt; mapLeft(Function&lt;? super L, ? extends T&gt; lFunc)\r\n        {\r\n            return new Either&lt;&gt;(left.map(lFunc),right);\r\n        }\r\n        public &lt;T&gt; Either&lt;L,T&gt; mapRight(Function&lt;? super R, ? extends T&gt; rFunc)\r\n        {\r\n            return new Either&lt;&gt;(left, right.map(rFunc));\r\n        }\r\n        public void apply(Consumer&lt;? super L&gt; lFunc, Consumer&lt;? super R&gt; rFunc)\r\n        {\r\n            left.ifPresent(lFunc);\r\n            right.ifPresent(rFunc);\r\n        }\r\n    }\r\n\r\nExample use case:\r\n\r\n    new Random().ints(20, 0, 2).mapToObj(i -&gt; (Either&lt;String,Integer&gt;)(i==0?\r\n      Either.left(&quot;left value (String)&quot;):\r\n      Either.right(42)))\r\n    .forEach(either-&gt;either.apply(\r\n      left -&gt;{ System.out.println(&quot;received left value: &quot;+left.substring(11));},\r\n      right-&gt;{ System.out.println(&quot;received right value: 0x&quot;+Integer.toHexString(right));}\r\n    ));\r\n\r\nIn retrospective, the `Optional` based solution is more like an academic example, but not a recommended approach. One problem is the treatment of `null` as “empty” which contradicts the meaning of “either”.\r\n\r\nThe following code shows an `Either` that considers `null` a possible value, so it’s strictly “either”, left or right, even if the value is `null`:\r\n\r\n    abstract class Either&lt;L,R&gt;\r\n    {\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; left(L value) {\r\n            return new Either&lt;L,R&gt;() {\r\n                @Override public &lt;T&gt; T map(Function&lt;? super L, ? extends T&gt; lFunc,\r\n                                           Function&lt;? super R, ? extends T&gt; rFunc) {\r\n                    return lFunc.apply(value);\r\n                }\r\n            };\r\n        }\r\n        public static &lt;L,R&gt; Either&lt;L,R&gt; right(R value) {\r\n            return new Either&lt;L,R&gt;() {\r\n                @Override public &lt;T&gt; T map(Function&lt;? super L, ? extends T&gt; lFunc,\r\n                                           Function&lt;? super R, ? extends T&gt; rFunc) {\r\n                    return rFunc.apply(value);\r\n                }\r\n\r\n            };\r\n        }\r\n        private Either() {}\r\n        public abstract &lt;T&gt; T map(\r\n          Function&lt;? super L, ? extends T&gt; lFunc, Function&lt;? super R, ? extends T&gt; rFunc);\r\n\r\n        public &lt;T&gt; Either&lt;T,R&gt; mapLeft(Function&lt;? super L, ? extends T&gt; lFunc) {\r\n            return this.&lt;Either&lt;T,R&gt;&gt;map(t -&gt; left(lFunc.apply(t)), t -&gt; (Either&lt;T,R&gt;)this);\r\n        }\r\n        public &lt;T&gt; Either&lt;L,T&gt; mapRight(Function&lt;? super R, ? extends T&gt; lFunc) {\r\n            return this.&lt;Either&lt;L,T&gt;&gt;map(t -&gt; (Either&lt;L,T&gt;)this, t -&gt; right(lFunc.apply(t)));\r\n        }\r\n        public void apply(Consumer&lt;? super L&gt; lFunc, Consumer&lt;? super R&gt; rFunc) {\r\n            map(consume(lFunc), consume(rFunc));\r\n        }\r\n        private &lt;T&gt; Function&lt;T,Void&gt; consume(Consumer&lt;T&gt; c) {\r\n            return t -&gt; { c.accept(t); return null; };\r\n        }\r\n    }\r\nIt’s easy to change that to a strict rejection of `null` by simply inserting an `Objects.requireNonNull(value)` at the beginning of both factory methods. Likewise, adding support for an empty either would be imaginable.\r\n","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>There is no <code>Either</code> type is Java 8, so you need to create one yourself or use some third-party library.</p>\n\n<p>You may build such a feature using the new <code>Optional</code> type (but read to the end of this answer):</p>\n\n<pre><code>final class Either&lt;L,R&gt;\n{\n    public static &lt;L,R&gt; Either&lt;L,R&gt; left(L value) {\n        return new Either&lt;&gt;(Optional.of(value), Optional.empty());\n    }\n    public static &lt;L,R&gt; Either&lt;L,R&gt; right(R value) {\n        return new Either&lt;&gt;(Optional.empty(), Optional.of(value));\n    }\n    private final Optional&lt;L&gt; left;\n    private final Optional&lt;R&gt; right;\n    private Either(Optional&lt;L&gt; l, Optional&lt;R&gt; r) {\n      left=l;\n      right=r;\n    }\n    public &lt;T&gt; T map(\n        Function&lt;? super L, ? extends T&gt; lFunc,\n        Function&lt;? super R, ? extends T&gt; rFunc)\n    {\n        return left.&lt;T&gt;map(lFunc).orElseGet(()-&gt;right.map(rFunc).get());\n    }\n    public &lt;T&gt; Either&lt;T,R&gt; mapLeft(Function&lt;? super L, ? extends T&gt; lFunc)\n    {\n        return new Either&lt;&gt;(left.map(lFunc),right);\n    }\n    public &lt;T&gt; Either&lt;L,T&gt; mapRight(Function&lt;? super R, ? extends T&gt; rFunc)\n    {\n        return new Either&lt;&gt;(left, right.map(rFunc));\n    }\n    public void apply(Consumer&lt;? super L&gt; lFunc, Consumer&lt;? super R&gt; rFunc)\n    {\n        left.ifPresent(lFunc);\n        right.ifPresent(rFunc);\n    }\n}\n</code></pre>\n\n<p>Example use case:</p>\n\n<pre><code>new Random().ints(20, 0, 2).mapToObj(i -&gt; (Either&lt;String,Integer&gt;)(i==0?\n  Either.left(\"left value (String)\"):\n  Either.right(42)))\n.forEach(either-&gt;either.apply(\n  left -&gt;{ System.out.println(\"received left value: \"+left.substring(11));},\n  right-&gt;{ System.out.println(\"received right value: 0x\"+Integer.toHexString(right));}\n));\n</code></pre>\n\n<p>In retrospective, the <code>Optional</code> based solution is more like an academic example, but not a recommended approach. One problem is the treatment of <code>null</code> as “empty” which contradicts the meaning of “either”.</p>\n\n<p>The following code shows an <code>Either</code> that considers <code>null</code> a possible value, so it’s strictly “either”, left or right, even if the value is <code>null</code>:</p>\n\n<pre><code>abstract class Either&lt;L,R&gt;\n{\n    public static &lt;L,R&gt; Either&lt;L,R&gt; left(L value) {\n        return new Either&lt;L,R&gt;() {\n            @Override public &lt;T&gt; T map(Function&lt;? super L, ? extends T&gt; lFunc,\n                                       Function&lt;? super R, ? extends T&gt; rFunc) {\n                return lFunc.apply(value);\n            }\n        };\n    }\n    public static &lt;L,R&gt; Either&lt;L,R&gt; right(R value) {\n        return new Either&lt;L,R&gt;() {\n            @Override public &lt;T&gt; T map(Function&lt;? super L, ? extends T&gt; lFunc,\n                                       Function&lt;? super R, ? extends T&gt; rFunc) {\n                return rFunc.apply(value);\n            }\n\n        };\n    }\n    private Either() {}\n    public abstract &lt;T&gt; T map(\n      Function&lt;? super L, ? extends T&gt; lFunc, Function&lt;? super R, ? extends T&gt; rFunc);\n\n    public &lt;T&gt; Either&lt;T,R&gt; mapLeft(Function&lt;? super L, ? extends T&gt; lFunc) {\n        return this.&lt;Either&lt;T,R&gt;&gt;map(t -&gt; left(lFunc.apply(t)), t -&gt; (Either&lt;T,R&gt;)this);\n    }\n    public &lt;T&gt; Either&lt;L,T&gt; mapRight(Function&lt;? super R, ? extends T&gt; lFunc) {\n        return this.&lt;Either&lt;L,T&gt;&gt;map(t -&gt; (Either&lt;L,T&gt;)this, t -&gt; right(lFunc.apply(t)));\n    }\n    public void apply(Consumer&lt;? super L&gt; lFunc, Consumer&lt;? super R&gt; rFunc) {\n        map(consume(lFunc), consume(rFunc));\n    }\n    private &lt;T&gt; Function&lt;T,Void&gt; consume(Consumer&lt;T&gt; c) {\n        return t -&gt; { c.accept(t); return null; };\n    }\n}\n</code></pre>\n\n<p>It’s easy to change that to a strict rejection of <code>null</code> by simply inserting an <code>Objects.requireNonNull(value)</code> at the beginning of both factory methods. Likewise, adding support for an empty either would be imaginable.</p>\n"},{"tags":[],"owner":{"account_id":973816,"reputation":1039,"user_id":995737,"display_name":"Dominic Fox"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1458042296,"creation_date":1457961935,"answer_id":35988832,"question_id":26162407,"body_markdown":"There is a stand-alone implementation of `Either` in a small library, &quot;ambivalence&quot;: http://github.com/poetix/ambivalence\r\n\r\nYou can get it from Maven central:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.codepoetics&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ambivalence&lt;/artifactId&gt;\r\n        &lt;version&gt;0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>There is a stand-alone implementation of <code>Either</code> in a small library, \"ambivalence\": <a href=\"http://github.com/poetix/ambivalence\" rel=\"noreferrer\">http://github.com/poetix/ambivalence</a></p>\n\n<p>You can get it from Maven central:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.codepoetics&lt;/groupId&gt;\n    &lt;artifactId&gt;ambivalence&lt;/artifactId&gt;\n    &lt;version&gt;0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1410746,"reputation":16908,"user_id":1337392,"accept_rate":98,"display_name":"Flame_Phoenix"},"score":3,"creation_date":1547139120,"post_id":36217704,"comment_id":95098207,"body_markdown":"Project is no longer under maintenance.","body":"Project is no longer under maintenance."},{"owner":{"account_id":12054288,"reputation":2518,"user_id":8815948,"accept_rate":0,"display_name":"RAM"},"score":0,"creation_date":1697225791,"post_id":36217704,"comment_id":136258237,"body_markdown":"The project now recommends [vavr](https://vavr.io/).","body":"The project now recommends <a href=\"https://vavr.io/\" rel=\"nofollow noreferrer\">vavr</a>."}],"tags":[],"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1458899746,"creation_date":1458899746,"answer_id":36217704,"question_id":26162407,"body_markdown":"[lambda-companion][1] has an `Either` type (and a few other functional types e.g. `Try`)\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;no.finn.lambda&lt;/groupId&gt;\r\n     \t&lt;artifactId&gt;lambda-companion&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.25&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUsing it is easy:\r\n\r\n    final String myValue = Either.right(&quot;example&quot;).fold(failure -&gt; handleFailure(failure), Function.identity())\r\n\r\n\r\n\r\n  [1]: https://github.com/finn-no/lambda-companion","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p><a href=\"https://github.com/finn-no/lambda-companion\" rel=\"noreferrer\">lambda-companion</a> has an <code>Either</code> type (and a few other functional types e.g. <code>Try</code>)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;no.finn.lambda&lt;/groupId&gt;\n    &lt;artifactId&gt;lambda-companion&lt;/artifactId&gt;\n    &lt;version&gt;0.25&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Using it is easy:</p>\n\n<pre><code>final String myValue = Either.right(\"example\").fold(failure -&gt; handleFailure(failure), Function.identity())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1518553915,"creation_date":1478183084,"answer_id":40404026,"question_id":26162407,"body_markdown":"\r\nAt the time of writing, [vavr][2] (formerly javaslang) is probably the most popular functional Java 8 library. It is pretty similar to lambda-companion&#39;s Either in my other answer.\r\n\r\n    Either&lt;String,Integer&gt; value = compute().right().map(i -&gt; i * 2).toEither();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VYFra.png\r\n  [2]: http://www.vavr.io/","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>At the time of writing, <a href=\"http://www.vavr.io/\" rel=\"noreferrer\">vavr</a> (formerly javaslang) is probably the most popular functional Java 8 library. It is pretty similar to lambda-companion's Either in my other answer.</p>\n\n<pre><code>Either&lt;String,Integer&gt; value = compute().right().map(i -&gt; i * 2).toEither();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"score":3,"creation_date":1535003791,"post_id":40658056,"comment_id":90907981,"body_markdown":"`Xor` was [renamed](https://github.com/aol/cyclops-react/issues/749) to `Either` in Cyclops X: https://static.javadoc.io/com.oath.cyclops/cyclops/10.0.0-FINAL/cyclops/control/Either.html","body":"<code>Xor</code> was <a href=\"https://github.com/aol/cyclops-react/issues/749\" rel=\"nofollow noreferrer\">renamed</a> to <code>Either</code> in Cyclops X: <a href=\"https://static.javadoc.io/com.oath.cyclops/cyclops/10.0.0-FINAL/cyclops/control/Either.html\" rel=\"nofollow noreferrer\">static.javadoc.io/com.oath.cyclops/cyclops/10.0.0-FINAL/cycl&zwnj;&#8203;ops/&hellip;</a>"}],"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1479394504,"creation_date":1479394504,"answer_id":40658056,"question_id":26162407,"body_markdown":"[cyclops-react](http://cyclops-react.io/) has a &#39;right&#39; biased either implementation called [Xor](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.2/com/aol/cyclops/control/Xor.html).\r\n\r\n     Xor.primary(&quot;hello&quot;)\r\n        .map(s-&gt;s+&quot; world&quot;)\r\n        \r\n     //Primary[&quot;hello world&quot;]\r\n\r\n     Xor.secondary(&quot;hello&quot;)\r\n        .map(s-&gt;s+&quot; world&quot;)\r\n   \r\n     //Secondary[&quot;hello&quot;]\r\n\r\n     Xor.secondary(&quot;hello&quot;)\r\n        .swap()\r\n        .map(s-&gt;s+&quot; world&quot;)\r\n   \r\n     //Primary[&quot;hello world&quot;]\r\n\r\n    Xor.accumulateSecondary(ListX.of(Xor.secondary(&quot;failed1&quot;),\r\n                                     Xor.secondary(&quot;failed2&quot;),\r\n                                     Xor.primary(&quot;success&quot;)),\r\n                                     Semigroups.stringConcat)\r\n   \r\n    //failed1failed2\r\n\r\nThere is also a related type [Ior](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.2/com/aol/cyclops/control/Ior.html) which can act as an either or a tuple2.\r\n\r\n* disclosure I am the author of cyclops-react.","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p><a href=\"http://cyclops-react.io/\" rel=\"noreferrer\">cyclops-react</a> has a 'right' biased either implementation called <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.2/com/aol/cyclops/control/Xor.html\" rel=\"noreferrer\">Xor</a>.</p>\n\n<pre><code> Xor.primary(\"hello\")\n    .map(s-&gt;s+\" world\")\n\n //Primary[\"hello world\"]\n\n Xor.secondary(\"hello\")\n    .map(s-&gt;s+\" world\")\n\n //Secondary[\"hello\"]\n\n Xor.secondary(\"hello\")\n    .swap()\n    .map(s-&gt;s+\" world\")\n\n //Primary[\"hello world\"]\n\nXor.accumulateSecondary(ListX.of(Xor.secondary(\"failed1\"),\n                                 Xor.secondary(\"failed2\"),\n                                 Xor.primary(\"success\")),\n                                 Semigroups.stringConcat)\n\n//failed1failed2\n</code></pre>\n\n<p>There is also a related type <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.2/com/aol/cyclops/control/Ior.html\" rel=\"noreferrer\">Ior</a> which can act as an either or a tuple2.</p>\n\n<ul>\n<li>disclosure I am the author of cyclops-react.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700607314,"creation_date":1686254098,"answer_id":76435293,"question_id":26162407,"body_markdown":"**NOTE:** For an enhanced and fully documented version of the `Either` class shown below (including `equals`, `hashCode`, `flatMap`, and other miscellaneous helper functions), please visit [this Gist][1].\r\n\r\n\r\n----------\r\n\r\n\r\nI have taken the implementation @Holger provided in his (currently top voted) [Answer][2], and polished it a bit to eliminate all the `null` issues I could find.\r\n\r\nI refactored it to be more naming convention aligned with the OpenJDK.\r\n\r\nI then read through the comments, and made tweaks and adjustments to further improve the quality of the implementation.\r\n\r\nI have also added state validation to the constructor, and added a couple of helper methods, `isLeft()`, `isRight()`, `getLeft()`, and `getRight()`.\r\n\r\n```java\r\n/**\r\n * Implementation of Either&lt;L, R&gt; via a pair of Optionals which explicitly\r\n * reject null values.\r\n * &lt;p&gt;\r\n * Inspired by the (first) solution presented in this StackOverflow Answer:\r\n * &lt;a href=&quot;https://stackoverflow.com/a/26164155/501113&quot;&gt;...&lt;/a&gt;\r\n **/\r\npublic static final class Either&lt;L, R&gt; {\r\n\r\n  public static &lt;L, R&gt; Either&lt;L, R&gt; left(L value) {\r\n    return new Either&lt;&gt;(Optional.of(value), Optional.empty());\r\n  }\r\n\r\n  public static &lt;L, R&gt; Either&lt;L, R&gt; right(R value) {\r\n    return new Either&lt;&gt;(Optional.empty(), Optional.of(value));\r\n  }\r\n\r\n  private final Optional&lt;L&gt; left;\r\n  private final Optional&lt;R&gt; right;\r\n\r\n  private Either(Optional&lt;L&gt; left, Optional&lt;R&gt; right) {\r\n    if (left.isEmpty() == right.isEmpty()) {\r\n      throw new IllegalArgumentException(\r\n          &quot;left.isEmpty() and right.isEmpty() cannot be equal&quot;);\r\n    }\r\n    this.left = left;\r\n    this.right = right;\r\n  }\r\n\r\n  public boolean isLeft() {\r\n    return this.left.isPresent();\r\n  }\r\n\r\n  public boolean isRight() {\r\n    return this.right.isPresent();\r\n  }\r\n\r\n  public L getLeft() {\r\n    return this.left.get();\r\n  }\r\n\r\n  public R getRight() {\r\n    return this.right.get();\r\n  }\r\n\r\n  public &lt;T&gt; T map(\r\n      Function&lt;? super L, ? extends T&gt; leftFunction,\r\n      Function&lt;? super R, ? extends T&gt; rightFunction\r\n  ) {\r\n    return this.left\r\n        .&lt;T&gt;map(l -&gt; Objects.requireNonNull(leftFunction.apply(l)))\r\n        .orElseGet(() -&gt;\r\n            this.right\r\n                .map(r -&gt; Objects.requireNonNull(rightFunction.apply(r)))\r\n                .orElseThrow(() -&gt;\r\n                    new IllegalStateException(\r\n                        &quot;should never get here&quot;)));\r\n  }\r\n\r\n  public &lt;T&gt; Either&lt;T, R&gt; mapLeft(\r\n    Function&lt;? super L, ? extends T&gt; leftFunction\r\n  ) {\r\n    return new Either&lt;&gt;(\r\n        this.left.map(l -&gt;\r\n            Objects.requireNonNull(leftFunction.apply(l))),\r\n        this.right);\r\n  }\r\n\r\n  public &lt;T&gt; Either&lt;L, T&gt; mapRight(\r\n    Function&lt;? super R, ? extends T&gt; rightFunction\r\n  ) {\r\n    return new Either&lt;&gt;(\r\n        this.left,\r\n        this.right.map(r -&gt; \r\n            Objects.requireNonNull(rightFunction.apply(r))));\r\n  }\r\n\r\n  public void forEach(\r\n    Consumer&lt;? super L&gt; leftAction,\r\n    Consumer&lt;? super R&gt; rightAction\r\n  ) {\r\n    this.left.ifPresent(leftAction);\r\n    this.right.ifPresent(rightAction);\r\n  }\r\n}\r\n```\r\n\r\n----------\r\n\r\n\r\n**NOTE:** For an enhanced and fully documented version of the `Either` class shown below (including `equals`, `hashCode`, `flatMap`, and other miscellaneous helper functions), please visit [this Gist][1].\r\n\r\n\r\n  [1]: https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\r\n  [2]: https://stackoverflow.com/a/26164155/501113","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p><strong>NOTE:</strong> For an enhanced and fully documented version of the <code>Either</code> class shown below (including <code>equals</code>, <code>hashCode</code>, <code>flatMap</code>, and other miscellaneous helper functions), please visit <a href=\"https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\" rel=\"nofollow noreferrer\">this Gist</a>.</p>\n<hr />\n<p>I have taken the implementation @Holger provided in his (currently top voted) <a href=\"https://stackoverflow.com/a/26164155/501113\">Answer</a>, and polished it a bit to eliminate all the <code>null</code> issues I could find.</p>\n<p>I refactored it to be more naming convention aligned with the OpenJDK.</p>\n<p>I then read through the comments, and made tweaks and adjustments to further improve the quality of the implementation.</p>\n<p>I have also added state validation to the constructor, and added a couple of helper methods, <code>isLeft()</code>, <code>isRight()</code>, <code>getLeft()</code>, and <code>getRight()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Implementation of Either&lt;L, R&gt; via a pair of Optionals which explicitly\n * reject null values.\n * &lt;p&gt;\n * Inspired by the (first) solution presented in this StackOverflow Answer:\n * &lt;a href=&quot;https://stackoverflow.com/a/26164155/501113&quot;&gt;...&lt;/a&gt;\n **/\npublic static final class Either&lt;L, R&gt; {\n\n  public static &lt;L, R&gt; Either&lt;L, R&gt; left(L value) {\n    return new Either&lt;&gt;(Optional.of(value), Optional.empty());\n  }\n\n  public static &lt;L, R&gt; Either&lt;L, R&gt; right(R value) {\n    return new Either&lt;&gt;(Optional.empty(), Optional.of(value));\n  }\n\n  private final Optional&lt;L&gt; left;\n  private final Optional&lt;R&gt; right;\n\n  private Either(Optional&lt;L&gt; left, Optional&lt;R&gt; right) {\n    if (left.isEmpty() == right.isEmpty()) {\n      throw new IllegalArgumentException(\n          &quot;left.isEmpty() and right.isEmpty() cannot be equal&quot;);\n    }\n    this.left = left;\n    this.right = right;\n  }\n\n  public boolean isLeft() {\n    return this.left.isPresent();\n  }\n\n  public boolean isRight() {\n    return this.right.isPresent();\n  }\n\n  public L getLeft() {\n    return this.left.get();\n  }\n\n  public R getRight() {\n    return this.right.get();\n  }\n\n  public &lt;T&gt; T map(\n      Function&lt;? super L, ? extends T&gt; leftFunction,\n      Function&lt;? super R, ? extends T&gt; rightFunction\n  ) {\n    return this.left\n        .&lt;T&gt;map(l -&gt; Objects.requireNonNull(leftFunction.apply(l)))\n        .orElseGet(() -&gt;\n            this.right\n                .map(r -&gt; Objects.requireNonNull(rightFunction.apply(r)))\n                .orElseThrow(() -&gt;\n                    new IllegalStateException(\n                        &quot;should never get here&quot;)));\n  }\n\n  public &lt;T&gt; Either&lt;T, R&gt; mapLeft(\n    Function&lt;? super L, ? extends T&gt; leftFunction\n  ) {\n    return new Either&lt;&gt;(\n        this.left.map(l -&gt;\n            Objects.requireNonNull(leftFunction.apply(l))),\n        this.right);\n  }\n\n  public &lt;T&gt; Either&lt;L, T&gt; mapRight(\n    Function&lt;? super R, ? extends T&gt; rightFunction\n  ) {\n    return new Either&lt;&gt;(\n        this.left,\n        this.right.map(r -&gt; \n            Objects.requireNonNull(rightFunction.apply(r))));\n  }\n\n  public void forEach(\n    Consumer&lt;? super L&gt; leftAction,\n    Consumer&lt;? super R&gt; rightAction\n  ) {\n    this.left.ifPresent(leftAction);\n    this.right.ifPresent(rightAction);\n  }\n}\n</code></pre>\n<hr />\n<p><strong>NOTE:</strong> For an enhanced and fully documented version of the <code>Either</code> class shown below (including <code>equals</code>, <code>hashCode</code>, <code>flatMap</code>, and other miscellaneous helper functions), please visit <a href=\"https://gist.github.com/chaotic3quilibrium/8b5116dbc2957cfea22032924935f10e\" rel=\"nofollow noreferrer\">this Gist</a>.</p>\n"}],"owner":{"account_id":53922,"reputation":17217,"user_id":161257,"accept_rate":66,"display_name":"HRJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70625,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":26164155,"answer_count":8,"score":92,"last_activity_date":1700607314,"creation_date":1412258100,"question_id":26162407,"body_markdown":"Just like `java.util.Optional&lt;T&gt;` in Java 8 is (somewhat) equivalent to Scala&#39;s `Option[T]` type, is there an equivalent to Scala&#39;s `Either[L, R]`?","title":"Is there an equivalent of Scala&#39;s Either in Java 8?","body":"<p>Just like <code>java.util.Optional&lt;T&gt;</code> in Java 8 is (somewhat) equivalent to Scala's <code>Option[T]</code> type, is there an equivalent to Scala's <code>Either[L, R]</code>?</p>\n"},{"tags":["java","lambda","memoization"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1418916029,"post_id":27549864,"comment_id":43525915,"body_markdown":"Look into proxying mechanisms with Java. You can create a proxy of an object which intercepts method calls, storing the return value. If you call the method with the same arguments as a previous invocation, you&#39;d get the same result without having to invoke the underlying method. Spring caching does this for you.","body":"Look into proxying mechanisms with Java. You can create a proxy of an object which intercepts method calls, storing the return value. If you call the method with the same arguments as a previous invocation, you&#39;d get the same result without having to invoke the underlying method. Spring caching does this for you."}],"answers":[{"comments":[{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":1,"creation_date":1418916446,"post_id":27549948,"comment_id":43526179,"body_markdown":"Although that is a nice snippet it doesn&#39;t answer the OPs question which was how to memoize *any* function","body":"Although that is a nice snippet it doesn&#39;t answer the OPs question which was how to memoize <i>any</i> function"},{"owner":{"account_id":3034088,"reputation":2104,"user_id":2572585,"display_name":"code monkey"},"score":0,"creation_date":1418976716,"post_id":27549948,"comment_id":43549603,"body_markdown":"@MrWiggles You didn&#39;t read the link, right? I edited my post so that it is clearer.","body":"@MrWiggles You didn&#39;t read the link, right? I edited my post so that it is clearer."},{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":2,"creation_date":1418990457,"post_id":27549948,"comment_id":43556354,"body_markdown":"You&#39;re right, I didn&#39;t, thanks for clarifying, I&#39;ve removed the -1","body":"You&#39;re right, I didn&#39;t, thanks for clarifying, I&#39;ve removed the -1"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1571915550,"post_id":27549948,"comment_id":103402052,"body_markdown":"`computeIfAbsent(key, function::apply)` is functionally equivalent to just using function as `computeIfAbsent(key, function)`. Except latter creates one less lambda instance.","body":"<code>computeIfAbsent(key, function::apply)</code> is functionally equivalent to just using function as <code>computeIfAbsent(key, function)</code>. Except latter creates one less lambda instance."},{"owner":{"display_name":"user4910279"},"score":1,"creation_date":1594965562,"post_id":27549948,"comment_id":111316204,"body_markdown":"The first example must be `Integer addOne(Integer n) {\n    return cache.computeIfAbsent(n, x -&gt; x + 1);\n}`","body":"The first example must be <code>Integer addOne(Integer n) {     return cache.computeIfAbsent(n, x -&gt; x + 1); }</code>"},{"owner":{"account_id":142820,"reputation":5470,"user_id":350761,"accept_rate":86,"display_name":"Eliot"},"score":0,"creation_date":1595440310,"post_id":27549948,"comment_id":111478346,"body_markdown":"Thanks. Link is broken but it appears to have moved to https://dzone.com/articles/java-8-automatic-memoization","body":"Thanks. Link is broken but it appears to have moved to <a href=\"https://dzone.com/articles/java-8-automatic-memoization\" rel=\"nofollow noreferrer\">dzone.com/articles/java-8-automatic-memoization</a>"},{"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"score":0,"creation_date":1627821497,"post_id":27549948,"comment_id":121253448,"body_markdown":"This doesn&#39;t work for recursive functions. You&#39;ll get a `ConcurrentModificationException` if `computeIfAbsent` recursively calls `computeIfAbsent` on the same map.","body":"This doesn&#39;t work for recursive functions. You&#39;ll get a <code>ConcurrentModificationException</code> if <code>computeIfAbsent</code> recursively calls <code>computeIfAbsent</code> on the same map."}],"tags":[],"owner":{"account_id":3034088,"reputation":2104,"user_id":2572585,"display_name":"code monkey"},"comment_count":7,"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1602268374,"creation_date":1418916153,"answer_id":27549948,"question_id":27549864,"body_markdown":"In Java 8 you can use [`ConcurrentHashMap.computeIfAbsent`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-):\r\n\r\n    Map&lt;Integer, Integer&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    Integer addOne(Integer x) {\r\n        return cache.computeIfAbsent(x -&gt; x + 1);\r\n    }\r\n\r\n\r\nDZone has [a good tutorial](https://dzone.com/articles/java-8-automatic-memoization) which provides a solution that will work for any method:\r\n\r\n&gt; The `Memoizer` class is quite simple:\r\n&gt; \r\n&gt; ```java\r\n&gt; public class Memoizer&lt;T, U&gt; {\r\n&gt; \r\n&gt;   private final Map&lt;T, U&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n&gt; \r\n&gt;   private Memoizer() {}\r\n&gt; \r\n&gt;   private Function&lt;T, U&gt; doMemoize(final Function&lt;T, U&gt; function) {\r\n&gt;     return input -&gt; cache.computeIfAbsent(input, function::apply);\r\n&gt;   }\r\n&gt; \r\n&gt;   public static &lt;T, U&gt; Function&lt;T, U&gt; memoize(final Function&lt;T, U&gt; function) {\r\n&gt;     return new Memoizer&lt;T, U&gt;().doMemoize(function);\r\n&gt;   }\r\n&gt; }\r\n&gt; ```\r\n&gt;\r\n&gt; Using this class is also extremely simple:\r\n&gt; \r\n&gt; ```java\r\n&gt; Integer longCalculation(Integer x) {\r\n&gt;   try {\r\n&gt;     Thread.sleep(1_000);\r\n&gt;   } catch (InterruptedException ignored) {\r\n&gt;   }\r\n&gt;   return x * 2;\r\n&gt; }\r\n&gt; Function&lt;Integer, Integer&gt; f = this::longCalculation;\r\n&gt; Function&lt;Integer, Integer&gt; g = Memoizer.memoize(f);\r\n&gt; \r\n&gt; public void automaticMemoizationExample() {\r\n&gt;   long startTime = System.currentTimeMillis();\r\n&gt;   Integer result1 = g.apply(1);\r\n&gt;   long time1 = System.currentTimeMillis() - startTime;\r\n&gt;   startTime = System.currentTimeMillis();\r\n&gt;   Integer result2 = g.apply(1);\r\n&gt;   long time2 = System.currentTimeMillis() - startTime;\r\n&gt;   System.out.println(result1);\r\n&gt;   System.out.println(result2);\r\n&gt;   System.out.println(time1);\r\n&gt;   System.out.println(time2);\r\n&gt; }\r\n&gt; ```\r\n&gt; \r\n&gt; Running the `automaticMemoizationExample` method will produce the following result:\r\n&gt; \r\n&gt; ```none\r\n&gt; 2\r\n&gt; 2\r\n&gt; 1000\r\n&gt; 0\r\n&gt; ```","title":"Java memoization method","body":"<p>In Java 8 you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"noreferrer\"><code>ConcurrentHashMap.computeIfAbsent</code></a>:</p>\n<pre><code>Map&lt;Integer, Integer&gt; cache = new ConcurrentHashMap&lt;&gt;();\n\nInteger addOne(Integer x) {\n    return cache.computeIfAbsent(x -&gt; x + 1);\n}\n</code></pre>\n<p>DZone has <a href=\"https://dzone.com/articles/java-8-automatic-memoization\" rel=\"noreferrer\">a good tutorial</a> which provides a solution that will work for any method:</p>\n<blockquote>\n<p>The <code>Memoizer</code> class is quite simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Memoizer&lt;T, U&gt; {\n\n  private final Map&lt;T, U&gt; cache = new ConcurrentHashMap&lt;&gt;();\n\n  private Memoizer() {}\n\n  private Function&lt;T, U&gt; doMemoize(final Function&lt;T, U&gt; function) {\n    return input -&gt; cache.computeIfAbsent(input, function::apply);\n  }\n\n  public static &lt;T, U&gt; Function&lt;T, U&gt; memoize(final Function&lt;T, U&gt; function) {\n    return new Memoizer&lt;T, U&gt;().doMemoize(function);\n  }\n}\n</code></pre>\n<p>Using this class is also extremely simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer longCalculation(Integer x) {\n  try {\n    Thread.sleep(1_000);\n  } catch (InterruptedException ignored) {\n  }\n  return x * 2;\n}\nFunction&lt;Integer, Integer&gt; f = this::longCalculation;\nFunction&lt;Integer, Integer&gt; g = Memoizer.memoize(f);\n\npublic void automaticMemoizationExample() {\n  long startTime = System.currentTimeMillis();\n  Integer result1 = g.apply(1);\n  long time1 = System.currentTimeMillis() - startTime;\n  startTime = System.currentTimeMillis();\n  Integer result2 = g.apply(1);\n  long time2 = System.currentTimeMillis() - startTime;\n  System.out.println(result1);\n  System.out.println(result2);\n  System.out.println(time1);\n  System.out.println(time2);\n}\n</code></pre>\n<p>Running the <code>automaticMemoizationExample</code> method will produce the following result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2\n2\n1000\n0\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3983106,"reputation":313,"user_id":3284549,"accept_rate":100,"display_name":"user3284549"},"score":0,"creation_date":1524945135,"post_id":27550960,"comment_id":87176904,"body_markdown":"Nice one! Was there some plan to use the returnType argument which is currently unused?","body":"Nice one! Was there some plan to use the returnType argument which is currently unused?"},{"owner":{"account_id":78033,"reputation":3457,"user_id":222364,"display_name":"Darth Android"},"score":1,"creation_date":1525281990,"post_id":27550960,"comment_id":87298878,"body_markdown":"I think it was meant to be used to validate the return type of the `Method`, and was simply forgot.","body":"I think it was meant to be used to validate the return type of the <code>Method</code>, and was simply forgot."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1571915784,"post_id":27550960,"comment_id":103402159,"body_markdown":"@DarthAndroid, shouldn&#39;t return type be bound as `? extends V` instead? If method actually returns something that is `? super V`, then it&#39;s not really an `args -&gt; V` lambda, and casting returned value like that is not safe.","body":"@DarthAndroid, shouldn&#39;t return type be bound as <code>? extends V</code> instead? If method actually returns something that is <code>? super V</code>, then it&#39;s not really an <code>args -&gt; V</code> lambda, and casting returned value like that is not safe."},{"owner":{"account_id":78033,"reputation":3457,"user_id":222364,"display_name":"Darth Android"},"score":0,"creation_date":1572451764,"post_id":27550960,"comment_id":103566265,"body_markdown":"It&#39;s a trade-off with generics. If we don&#39;t `? super`, then `V` is at most a raw type (Because `Class&lt;List&lt;String&gt;&gt;`, for example, is unfortunately not a thing in java), so the caller can&#39;t specify the actual return type of `method` in a way the compiler can understand. All we can do is tighten `V` down to its raw type, but that still loses type safety with generic return types. No matter what you do, the compiler won&#39;t be able to enforce type safety for generic return types, and if we don&#39;t use the `? super V` bit, it&#39;ll throw warnings about using raw types even when all the types are correct","body":"It&#39;s a trade-off with generics. If we don&#39;t <code>? super</code>, then <code>V</code> is at most a raw type (Because <code>Class&lt;List&lt;String&gt;&gt;</code>, for example, is unfortunately not a thing in java), so the caller can&#39;t specify the actual return type of <code>method</code> in a way the compiler can understand. All we can do is tighten <code>V</code> down to its raw type, but that still loses type safety with generic return types. No matter what you do, the compiler won&#39;t be able to enforce type safety for generic return types, and if we don&#39;t use the <code>? super V</code> bit, it&#39;ll throw warnings about using raw types even when all the types are correct"}],"tags":[],"owner":{"account_id":78033,"reputation":3457,"user_id":222364,"display_name":"Darth Android"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1418919092,"creation_date":1418919092,"answer_id":27550960,"question_id":27549864,"body_markdown":"You can memoize any function with Java 8&#39;s `MethodHandle`s and lambdas if you&#39;re willing to give up type safety on the parameters:\r\n\r\n    public interface MemoizedFunction&lt;V&gt; {\r\n        V call(Object... args);\r\n    }\r\n\r\n    private static class ArgList {\r\n        public Object[] args;\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) {\r\n                return true;\r\n            }\r\n            if (!(o instanceof ArgList)) {\r\n                return false;\r\n            }\r\n\r\n            ArgList argList = (ArgList) o;\r\n\r\n            // Probably incorrect - comparing Object[] arrays with Arrays.equals\r\n            return Arrays.equals(args, argList.args);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return args != null ? Arrays.hashCode(args) : 0;\r\n        }\r\n    }\r\n\r\n    public static &lt;V&gt; MemoizedFunction&lt;V&gt; memoizeFunction(Class&lt;? super V&gt; returnType, Method method) throws\r\n                                                                                                      IllegalAccessException {\r\n        final Map&lt;ArgList, V&gt; memoizedCalls = new HashMap&lt;&gt;();\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        MethodHandle methodHandle = lookup.unreflect(method)\r\n                                          .asSpreader(Object[].class, method.getParameterCount());\r\n        return args -&gt; {\r\n            ArgList argList = new ArgList();\r\n            argList.args = args;\r\n            return memoizedCalls.computeIfAbsent(argList, argList2 -&gt; {\r\n                try {\r\n                    //noinspection unchecked\r\n                    return (V) methodHandle.invoke(args);\r\n                } catch (Throwable throwable) {\r\n                    throw new RuntimeException(throwable);\r\n                }\r\n            });\r\n        };\r\n    }\r\n\r\n[Working Example](http://pastebin.com/ZgcXnRtG)\r\n\r\nThis creates a variable-arity lambda that encloses the function and is almost as fast as calling the function directly (i.e., no reflection happens inside of `call(Object...args)`) after the lambda is constructed since we&#39;re using `MethodHandle.invoke()` instead of `Method.invoke()`.\r\n\r\nYou can still do this without lambdas (replace with anonymous classes) and MethodHandles (replace with Method.invoke), but there will be performance penalties that make this less attractive for performance-conscious code.","title":"Java memoization method","body":"<p>You can memoize any function with Java 8's <code>MethodHandle</code>s and lambdas if you're willing to give up type safety on the parameters:</p>\n\n<pre><code>public interface MemoizedFunction&lt;V&gt; {\n    V call(Object... args);\n}\n\nprivate static class ArgList {\n    public Object[] args;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof ArgList)) {\n            return false;\n        }\n\n        ArgList argList = (ArgList) o;\n\n        // Probably incorrect - comparing Object[] arrays with Arrays.equals\n        return Arrays.equals(args, argList.args);\n    }\n\n    @Override\n    public int hashCode() {\n        return args != null ? Arrays.hashCode(args) : 0;\n    }\n}\n\npublic static &lt;V&gt; MemoizedFunction&lt;V&gt; memoizeFunction(Class&lt;? super V&gt; returnType, Method method) throws\n                                                                                                  IllegalAccessException {\n    final Map&lt;ArgList, V&gt; memoizedCalls = new HashMap&lt;&gt;();\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    MethodHandle methodHandle = lookup.unreflect(method)\n                                      .asSpreader(Object[].class, method.getParameterCount());\n    return args -&gt; {\n        ArgList argList = new ArgList();\n        argList.args = args;\n        return memoizedCalls.computeIfAbsent(argList, argList2 -&gt; {\n            try {\n                //noinspection unchecked\n                return (V) methodHandle.invoke(args);\n            } catch (Throwable throwable) {\n                throw new RuntimeException(throwable);\n            }\n        });\n    };\n}\n</code></pre>\n\n<p><a href=\"http://pastebin.com/ZgcXnRtG\" rel=\"noreferrer\">Working Example</a></p>\n\n<p>This creates a variable-arity lambda that encloses the function and is almost as fast as calling the function directly (i.e., no reflection happens inside of <code>call(Object...args)</code>) after the lambda is constructed since we're using <code>MethodHandle.invoke()</code> instead of <code>Method.invoke()</code>.</p>\n\n<p>You can still do this without lambdas (replace with anonymous classes) and MethodHandles (replace with Method.invoke), but there will be performance penalties that make this less attractive for performance-conscious code.</p>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700607242,"creation_date":1698600673,"answer_id":77384428,"question_id":27549864,"body_markdown":"**NOTE:** For an enhanced and fully documented version of the Memoizer class shown below (including `lazyInstantiation()` static helper method), please visit this [Gist][1].\r\n\r\n----------\r\n\r\nWhile you asked for a specific _method_ to accomplish your task, there is an OOP+FP (Object Oriented Programming integrated with Functional Programming) approach to solving the problem. And while I have simplified it below, it enables multiple ways to &quot;generically implement memoize&quot;.\r\n\r\nI have found it especially useful in my projects. For example, I have exploited it by generating &quot;caching&quot; helpers around various `enum`s. For example, to easily enable finding an `enum` value by a `String` while ignoring case. Another example is to easily enable finding an `enum` value by its `.ordinal()` or database ID.\r\n\r\nHere is a list of benefits to a client when contrasted with other solutions I have seen suggested:\r\n\r\n 1. Null restriction enforced for both keys and values\r\n 2. Assumes keys are [effectively immutable][2] (see &quot;Distinction 3&quot;)\r\n 3. At construction, optionally specify a default lambda for deriving a value from a key\r\n 4. At construction, optionally ensures insertion order within `keySet().iterator()` (quite nice for debugging sessions)\r\n 5. When accessing, optionally specify an overriding lambda for deriving a value from a key\r\n\r\n```java\r\npublic final class Memoizer&lt;K, V&gt; {\r\n\r\n  private final Map&lt;K, V&gt; vByK;\r\n\r\n  private final Optional&lt;Function&lt;K, V&gt;&gt; optionalDefaultDeriveVFromK;\r\n\r\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from() {\r\n    return from(false);\r\n  }\r\n\r\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\r\n      Function&lt;K, V&gt; defaultDeriveVFromK\r\n  ) {\r\n    return from(defaultDeriveVFromK, false);\r\n  }\r\n\r\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\r\n      boolean isRetainingInsertionOrder\r\n  ) {\r\n    return new Memoizer&lt;&gt;(Optional.empty(), isRetainingInsertionOrder);\r\n  }\r\n\r\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\r\n      Function&lt;K, V&gt; defaultDeriveVFromK,\r\n      boolean isRetainingInsertionOrder\r\n  ) {\r\n    return new Memoizer&lt;&gt;(Optional.of(Objects.requireNonNull(defaultDeriveVFromK)), isRetainingInsertionOrder);\r\n  }\r\n  \r\n  private Memoizer(\r\n      Optional&lt;Function&lt;K, V&gt;&gt; optionalDefaultDeriveVFromK,\r\n      boolean isRetainingInsertionOrder\r\n  ) {\r\n    this.vByK = isRetainingInsertionOrder\r\n        ? new LinkedHashMap&lt;&gt;()\r\n        : new HashMap&lt;&gt;();\r\n    this.optionalDefaultDeriveVFromK = optionalDefaultDeriveVFromK;\r\n  }\r\n\r\n  private V get(\r\n      K k,\r\n      Optional&lt;Function&lt;K, V&gt;&gt; optionalOverrideDeriveVFromK\r\n  ) {\r\n    return Optional.ofNullable(vByK.get(Objects.requireNonNull(k, &quot;k must not be null&quot;)))\r\n        .orElseGet(() -&gt; {\r\n          synchronized (vByK) {\r\n            return Optional.ofNullable(vByK.get(k))\r\n                .orElseGet(() -&gt; {\r\n                  var lambda = optionalOverrideDeriveVFromK\r\n                      .or(() -&gt; optionalDefaultDeriveVFromK)\r\n                      .orElseThrow(() -&gt; new IllegalArgumentException(\r\n                          &quot;when optionalDefaultDeriveVFromK is empty, optionalOverrideDeriveVFromK must not be empty&quot;));\r\n                  var v = Objects.requireNonNull(lambda.apply(k),\r\n                      &quot;v returned from %s function must not be null&quot;.formatted(\r\n                          optionalOverrideDeriveVFromK.isEmpty()\r\n                              ? &quot;optionalDefaultDeriveVFromK&quot;\r\n                              : &quot;optionalOverrideDeriveVFromK&quot;));\r\n                  vByK.put(k, v);\r\n\r\n                  return v;\r\n                });\r\n          }\r\n        });\r\n  }\r\n\r\n  public V get(\r\n      K k,\r\n      Function&lt;K, V&gt; overrideDeriveVFromK\r\n  ) {\r\n    return get(k, Optional.of(overrideDeriveVFromK));\r\n  }\r\n\r\n  public V get(K k) {\r\n    return get(k, Optional.empty());\r\n  }\r\n\r\n  public Set&lt;K&gt; keySet() {\r\n    return Collections.unmodifiableSet(vByK.keySet());\r\n  }\r\n}\r\n```\r\n\r\n----------\r\n\r\n**NOTE:** For an enhanced and fully documented version of the Memoizer class shown below (including `lazyInstantiation()` static helper method), please visit this [Gist][1].\r\n\r\n\r\n  [1]: https://gist.github.com/chaotic3quilibrium/7535c231bb11bd9abc5712c982c46690\r\n  [2]: https://stackoverflow.com/a/75043881/501113","title":"Java memoization method","body":"<p><strong>NOTE:</strong> For an enhanced and fully documented version of the Memoizer class shown below (including <code>lazyInstantiation()</code> static helper method), please visit this <a href=\"https://gist.github.com/chaotic3quilibrium/7535c231bb11bd9abc5712c982c46690\" rel=\"nofollow noreferrer\">Gist</a>.</p>\n<hr />\n<p>While you asked for a specific <em>method</em> to accomplish your task, there is an OOP+FP (Object Oriented Programming integrated with Functional Programming) approach to solving the problem. And while I have simplified it below, it enables multiple ways to &quot;generically implement memoize&quot;.</p>\n<p>I have found it especially useful in my projects. For example, I have exploited it by generating &quot;caching&quot; helpers around various <code>enum</code>s. For example, to easily enable finding an <code>enum</code> value by a <code>String</code> while ignoring case. Another example is to easily enable finding an <code>enum</code> value by its <code>.ordinal()</code> or database ID.</p>\n<p>Here is a list of benefits to a client when contrasted with other solutions I have seen suggested:</p>\n<ol>\n<li>Null restriction enforced for both keys and values</li>\n<li>Assumes keys are <a href=\"https://stackoverflow.com/a/75043881/501113\">effectively immutable</a> (see &quot;Distinction 3&quot;)</li>\n<li>At construction, optionally specify a default lambda for deriving a value from a key</li>\n<li>At construction, optionally ensures insertion order within <code>keySet().iterator()</code> (quite nice for debugging sessions)</li>\n<li>When accessing, optionally specify an overriding lambda for deriving a value from a key</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Memoizer&lt;K, V&gt; {\n\n  private final Map&lt;K, V&gt; vByK;\n\n  private final Optional&lt;Function&lt;K, V&gt;&gt; optionalDefaultDeriveVFromK;\n\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from() {\n    return from(false);\n  }\n\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\n      Function&lt;K, V&gt; defaultDeriveVFromK\n  ) {\n    return from(defaultDeriveVFromK, false);\n  }\n\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\n      boolean isRetainingInsertionOrder\n  ) {\n    return new Memoizer&lt;&gt;(Optional.empty(), isRetainingInsertionOrder);\n  }\n\n  public static &lt;K, V&gt; Memoizer&lt;K, V&gt; from(\n      Function&lt;K, V&gt; defaultDeriveVFromK,\n      boolean isRetainingInsertionOrder\n  ) {\n    return new Memoizer&lt;&gt;(Optional.of(Objects.requireNonNull(defaultDeriveVFromK)), isRetainingInsertionOrder);\n  }\n  \n  private Memoizer(\n      Optional&lt;Function&lt;K, V&gt;&gt; optionalDefaultDeriveVFromK,\n      boolean isRetainingInsertionOrder\n  ) {\n    this.vByK = isRetainingInsertionOrder\n        ? new LinkedHashMap&lt;&gt;()\n        : new HashMap&lt;&gt;();\n    this.optionalDefaultDeriveVFromK = optionalDefaultDeriveVFromK;\n  }\n\n  private V get(\n      K k,\n      Optional&lt;Function&lt;K, V&gt;&gt; optionalOverrideDeriveVFromK\n  ) {\n    return Optional.ofNullable(vByK.get(Objects.requireNonNull(k, &quot;k must not be null&quot;)))\n        .orElseGet(() -&gt; {\n          synchronized (vByK) {\n            return Optional.ofNullable(vByK.get(k))\n                .orElseGet(() -&gt; {\n                  var lambda = optionalOverrideDeriveVFromK\n                      .or(() -&gt; optionalDefaultDeriveVFromK)\n                      .orElseThrow(() -&gt; new IllegalArgumentException(\n                          &quot;when optionalDefaultDeriveVFromK is empty, optionalOverrideDeriveVFromK must not be empty&quot;));\n                  var v = Objects.requireNonNull(lambda.apply(k),\n                      &quot;v returned from %s function must not be null&quot;.formatted(\n                          optionalOverrideDeriveVFromK.isEmpty()\n                              ? &quot;optionalDefaultDeriveVFromK&quot;\n                              : &quot;optionalOverrideDeriveVFromK&quot;));\n                  vByK.put(k, v);\n\n                  return v;\n                });\n          }\n        });\n  }\n\n  public V get(\n      K k,\n      Function&lt;K, V&gt; overrideDeriveVFromK\n  ) {\n    return get(k, Optional.of(overrideDeriveVFromK));\n  }\n\n  public V get(K k) {\n    return get(k, Optional.empty());\n  }\n\n  public Set&lt;K&gt; keySet() {\n    return Collections.unmodifiableSet(vByK.keySet());\n  }\n}\n</code></pre>\n<hr />\n<p><strong>NOTE:</strong> For an enhanced and fully documented version of the Memoizer class shown below (including <code>lazyInstantiation()</code> static helper method), please visit this <a href=\"https://gist.github.com/chaotic3quilibrium/7535c231bb11bd9abc5712c982c46690\" rel=\"nofollow noreferrer\">Gist</a>.</p>\n"}],"owner":{"account_id":3693482,"reputation":540,"user_id":3101139,"accept_rate":92,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25963,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":27549948,"answer_count":3,"score":22,"last_activity_date":1700607242,"creation_date":1418915919,"question_id":27549864,"body_markdown":"I came across an interesting problem and was wondering if and how could this be done in Java:\r\nCreate a method which can memoize any function/method . The method has the following arguments : the method/function and the argument(s) for it.\r\n\r\nFor example let&#39;s say i have this method :\r\n   \r\n\r\n    int addOne(int a) { return a + 1;}\r\n\r\nand i call my memoization method two times with the same arguments : addOne and 5 for example, the first call should actually call the addOne method and return the result and also store that result for that given argument. The second time when i call it should know this has been called before and just look up the previous answer.\r\n\r\nMy idea would be to have something like a `HashMap&lt;Callable,HashMap&lt;List&lt;Objects&gt;,Object&gt;&gt;` where you would store the previous answers and look them up later on.I think this can be somehow done with lambda expressions but i&#39;m not that familiar with them.I&#39;m not quite sure how to write this method and would appreciate some help.\r\n\r\nCan this be done with this approach? \r\n\r\n","title":"Java memoization method","body":"<p>I came across an interesting problem and was wondering if and how could this be done in Java:\nCreate a method which can memoize any function/method . The method has the following arguments : the method/function and the argument(s) for it.</p>\n\n<p>For example let's say i have this method :</p>\n\n<pre><code>int addOne(int a) { return a + 1;}\n</code></pre>\n\n<p>and i call my memoization method two times with the same arguments : addOne and 5 for example, the first call should actually call the addOne method and return the result and also store that result for that given argument. The second time when i call it should know this has been called before and just look up the previous answer.</p>\n\n<p>My idea would be to have something like a <code>HashMap&lt;Callable,HashMap&lt;List&lt;Objects&gt;,Object&gt;&gt;</code> where you would store the previous answers and look them up later on.I think this can be somehow done with lambda expressions but i'm not that familiar with them.I'm not quite sure how to write this method and would appreciate some help.</p>\n\n<p>Can this be done with this approach? </p>\n"},{"tags":["java","maven","testing","mockito","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1700431511,"post_id":77512409,"comment_id":136650526,"body_markdown":"Take a look at https://blog.soebes.io/posts/2023/10/2023-10-26-maven-jacoco-configuration/","body":"Take a look at <a href=\"https://blog.soebes.io/posts/2023/10/2023-10-26-maven-jacoco-configuration/\" rel=\"nofollow noreferrer\">blog.soebes.io/posts/2023/10/&hellip;</a>"},{"owner":{"account_id":14072061,"reputation":1,"user_id":10165346,"display_name":"Lo&#239;c DUBOIS-TERMOZ"},"score":0,"creation_date":1700604420,"post_id":77512409,"comment_id":136674674,"body_markdown":"Truly interesting and useful, it allowed me to simplify and improve my Maven setup! Definitively the kind of articles that I love to found! Thanks a lot @khmarbaise for having written the article and shared it to me!","body":"Truly interesting and useful, it allowed me to simplify and improve my Maven setup! Definitively the kind of articles that I love to found! Thanks a lot @khmarbaise for having written the article and shared it to me!"}],"answers":[{"comments":[{"owner":{"account_id":14072061,"reputation":1,"user_id":10165346,"display_name":"Lo&#239;c DUBOIS-TERMOZ"},"score":0,"creation_date":1700645714,"post_id":77526361,"comment_id":136679016,"body_markdown":"Finally, this question was similar to this one: https://stackoverflow.com/q/23190107/10165346","body":"Finally, this question was similar to this one: <a href=\"https://stackoverflow.com/q/23190107/10165346\">stackoverflow.com/q/23190107/10165346</a>"}],"tags":[],"owner":{"account_id":14072061,"reputation":1,"user_id":10165346,"display_name":"Lo&#239;c DUBOIS-TERMOZ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700606849,"creation_date":1700606849,"answer_id":77526361,"question_id":77512409,"body_markdown":"Thanks to @khmarbaise, I found that `@{argLine}` was required when configuring the JVM args. With this minor adjustment, I finally solved my issue!\r\n\r\nHere is the final setup with surefire and failsafe Maven plugins:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;argLine&gt;@{argLine} -Xshare:off&lt;/argLine&gt;\r\n        &lt;parallel&gt;all&lt;/parallel&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;argLine&gt;@{argLine} -Xshare:off&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nNo more CDS warnings while keeping the coverage reports generated as expected!\r\n\r\nMore details can be found [here][1].\r\n\r\n\r\n  [1]: https://blog.soebes.io/posts/2023/10/2023-10-26-maven-jacoco-configuration/","title":"Adding &quot;-Xshare:off&quot; JVM arg break jacoco-maven-plugin setup","body":"<p>Thanks to @khmarbaise, I found that <code>@{argLine}</code> was required when configuring the JVM args. With this minor adjustment, I finally solved my issue!</p>\n<p>Here is the final setup with surefire and failsafe Maven plugins:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;@{argLine} -Xshare:off&lt;/argLine&gt;\n        &lt;parallel&gt;all&lt;/parallel&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;@{argLine} -Xshare:off&lt;/argLine&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>No more CDS warnings while keeping the coverage reports generated as expected!</p>\n<p>More details can be found <a href=\"https://blog.soebes.io/posts/2023/10/2023-10-26-maven-jacoco-configuration/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":14072061,"reputation":1,"user_id":10165346,"display_name":"Lo&#239;c DUBOIS-TERMOZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77526361,"answer_count":1,"score":0,"last_activity_date":1700606849,"creation_date":1700426197,"question_id":77512409,"body_markdown":"I&#39;m trying to get rid of the following warning message:\r\n\r\n&gt; OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n\r\nIt appears when executing Java (17) unit tests with Mockito through Maven (v3.9.2).\r\n\r\nBased on the answers provided to [this question](https://stackoverflow.com/questions/54205486/how-to-avoid-sharing-is-only-supported-for-boot-loader-classes-because-bootstra) and the initial comments in [this Mockito GitHub issue](https://github.com/mockito/mockito/issues/3111), adding the JVM arg `-Xshare:off` seemed to be the way to go. Unfortunately, this prevents JaCoCo to create an execution data file and thus prevents report to be generated based on it:\r\n\r\n&gt; [INFO] --- jacoco:0.8.11:report (report-unit-tests) @ commons-test ---  \r\n&gt; [INFO] Skipping JaCoCo execution due to missing execution data file.\r\n\r\nSo, this brings me with the following two questions:\r\n\r\n* Why is the execution data file not created by JaCoCo in this context?\r\n* Is there a way to overcome this situation? (i.e. having the coverage measures reported **without** the warning message)\r\n\r\n# Additional information\r\n\r\nThe project is a multi-module one with the following setup:\r\n\r\n* The maven-jacoco-plugin:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.8.11&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;prepare-agent&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n* The maven-surefire-plugin and maven-failsafe-plugin:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n        &lt;argLine&gt;-Xshare:off&lt;/argLine&gt;\r\n\t\t&lt;parallel&gt;all&lt;/parallel&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;argLine&gt;-Xshare:off&lt;/argLine&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Adding &quot;-Xshare:off&quot; JVM arg break jacoco-maven-plugin setup","body":"<p>I'm trying to get rid of the following warning message:</p>\n<blockquote>\n<p>OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended</p>\n</blockquote>\n<p>It appears when executing Java (17) unit tests with Mockito through Maven (v3.9.2).</p>\n<p>Based on the answers provided to <a href=\"https://stackoverflow.com/questions/54205486/how-to-avoid-sharing-is-only-supported-for-boot-loader-classes-because-bootstra\">this question</a> and the initial comments in <a href=\"https://github.com/mockito/mockito/issues/3111\" rel=\"nofollow noreferrer\">this Mockito GitHub issue</a>, adding the JVM arg <code>-Xshare:off</code> seemed to be the way to go. Unfortunately, this prevents JaCoCo to create an execution data file and thus prevents report to be generated based on it:</p>\n<blockquote>\n<p>[INFO] --- jacoco:0.8.11:report (report-unit-tests) @ commons-test ---<br />\n[INFO] Skipping JaCoCo execution due to missing execution data file.</p>\n</blockquote>\n<p>So, this brings me with the following two questions:</p>\n<ul>\n<li>Why is the execution data file not created by JaCoCo in this context?</li>\n<li>Is there a way to overcome this situation? (i.e. having the coverage measures reported <strong>without</strong> the warning message)</li>\n</ul>\n<h1>Additional information</h1>\n<p>The project is a multi-module one with the following setup:</p>\n<ul>\n<li>The maven-jacoco-plugin:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.11&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>The maven-surefire-plugin and maven-failsafe-plugin:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;-Xshare:off&lt;/argLine&gt;\n        &lt;parallel&gt;all&lt;/parallel&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;-Xshare:off&lt;/argLine&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","timezone","java-time","timezone-offset"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700606839,"creation_date":1700604298,"answer_id":77526194,"question_id":77526193,"body_markdown":"## tl;dr\r\n\r\n```java\r\nInstant now = Instant.now ( );\r\nZoneOffset offsetTarget = ZoneOffset.ofHours ( -4 );  // -04:00\r\n\r\nList &lt; ZoneId &gt; zoneIdsWithTargetOffset =\r\n        ZoneId\r\n                .getAvailableZoneIds ( )  // Returns List&lt;String&gt;, not List&lt;ZoneId&gt;. Text is in format: Continent/Region.\r\n                .stream ( )\r\n                .map ( ZoneId :: of )     // Make a `ZoneId` object of each `String` zone name, each Continent/Region. \r\n                .filter (\r\n                        ( ZoneId zoneId ) -&gt; zoneId.getRules ( ).getOffset ( now ).equals ( offsetTarget )  // Get the offset in effect for that zone at that moment. See if that offset matches our target offset. \r\n                )\r\n                .toList ()                // Collect `ZoneId` objects.\r\n;\r\n```\r\n\r\n\r\n## Details\r\n\r\nYes, you can get such a list in Java 8+ using the *java.time* classes. \r\n\r\nThe `ZoneId` class represents each time zone, with a name in the format of `Continent/Region`. The rules in use by each time zone are contained in a `ZoneRules` object. \r\n\r\nThe `ZoneOffset` class represents a mere offset. \r\n\r\nThe `Instant` class represents a moment, a specific point on the time line, as seen with an offset of zero hours-minutes-seconds from UTC. To get the current moment, call `Instant.now()`. \r\n\r\nWe can interrogate the zone rules for the offset in use by a zone at any particular moment. This means getting a `ZoneId` by its name, asking for its rules, and the passing an `Instant` to the `getOffset` method of the rules object. \r\n\r\n```java\r\nfinal Instant now = Instant.now ( );\r\nfinal ZoneOffset offsetTarget = ZoneOffset.ofHours ( -4 );  // -04:00\r\n\r\nfinal Set &lt; String &gt; zoneNames = ZoneId.getAvailableZoneIds ( );\r\nfinal Collection &lt; ZoneId &gt; zoneIdsWithTargetOffset = new ArrayList &lt;&gt; ( );\r\nfor ( String zoneName : zoneNames )\r\n{\r\n    ZoneId zoneId = ZoneId.of ( zoneName );\r\n    ZoneRules rules = zoneId.getRules ( );\r\n    ZoneOffset offset = rules.getOffset ( now );\r\n    if ( offset.equals ( offsetTarget ) )\r\n    {\r\n        zoneIdsWithTargetOffset.add ( zoneId );\r\n    }\r\n}\r\nSystem.out.println ( &quot;At &quot; + now + &quot;, &quot; + zoneIdsWithTargetOffset.size ( ) + &quot; zones have an offset of &quot; + offsetTarget + &quot; ➡️ &quot; + zoneIdsWithTargetOffset ); // ️\r\n```\r\n\r\nSee this [code run at Ideone.com][2].\r\n\r\n&gt;At 2023-11-21T21:59:37.279097Z, 43 zones have an offset of -04:00 ➡️ [America/Cuiaba, America/Marigot, Canada/Atlantic, Etc/GMT+4, America/Manaus, America/St_Thomas, America/Anguilla, America/Barbados, America/Curacao, America/Guyana, America/Martinique, America/Puerto_Rico, America/Port_of_Spain, SystemV/AST4, America/Kralendijk, America/Antigua, America/Moncton, America/St_Vincent, America/Dominica, Atlantic/Bermuda, Brazil/West, America/Aruba, America/Halifax, America/La_Paz, America/Blanc-Sablon, America/Santo_Domingo, America/Glace_Bay, America/St_Barthelemy, America/St_Lucia, America/Montserrat, America/Lower_Princes, America/Thule, America/Tortola, America/Porto_Velho, America/Campo_Grande, America/Goose_Bay, America/Virgin, America/Boa_Vista, America/Grenada, America/St_Kitts, America/Caracas, America/Guadeloupe, SystemV/AST4ADT]\r\n\r\n\r\n**Beware:** Politicians frequently change the rules of the time zone(s) within their jurisdiction. They sometimes make those changes with an alarming lack of forewarning. Be sure the [tzdata][1] within your JVM is current for the time zones of interest to you. **You may need to update the tzdata** yourself, as new versions arrive faster than updates to Java.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Tz_database\r\n  [2]: https://ideone.com/tqk9lo","title":"Get time zones using a specific offset for a given moment, in Java","body":"<h2>tl;dr</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Instant now = Instant.now ( );\nZoneOffset offsetTarget = ZoneOffset.ofHours ( -4 );  // -04:00\n\nList &lt; ZoneId &gt; zoneIdsWithTargetOffset =\n        ZoneId\n                .getAvailableZoneIds ( )  // Returns List&lt;String&gt;, not List&lt;ZoneId&gt;. Text is in format: Continent/Region.\n                .stream ( )\n                .map ( ZoneId :: of )     // Make a `ZoneId` object of each `String` zone name, each Continent/Region. \n                .filter (\n                        ( ZoneId zoneId ) -&gt; zoneId.getRules ( ).getOffset ( now ).equals ( offsetTarget )  // Get the offset in effect for that zone at that moment. See if that offset matches our target offset. \n                )\n                .toList ()                // Collect `ZoneId` objects.\n;\n</code></pre>\n<h2>Details</h2>\n<p>Yes, you can get such a list in Java 8+ using the <em>java.time</em> classes.</p>\n<p>The <code>ZoneId</code> class represents each time zone, with a name in the format of <code>Continent/Region</code>. The rules in use by each time zone are contained in a <code>ZoneRules</code> object.</p>\n<p>The <code>ZoneOffset</code> class represents a mere offset.</p>\n<p>The <code>Instant</code> class represents a moment, a specific point on the time line, as seen with an offset of zero hours-minutes-seconds from UTC. To get the current moment, call <code>Instant.now()</code>.</p>\n<p>We can interrogate the zone rules for the offset in use by a zone at any particular moment. This means getting a <code>ZoneId</code> by its name, asking for its rules, and the passing an <code>Instant</code> to the <code>getOffset</code> method of the rules object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Instant now = Instant.now ( );\nfinal ZoneOffset offsetTarget = ZoneOffset.ofHours ( -4 );  // -04:00\n\nfinal Set &lt; String &gt; zoneNames = ZoneId.getAvailableZoneIds ( );\nfinal Collection &lt; ZoneId &gt; zoneIdsWithTargetOffset = new ArrayList &lt;&gt; ( );\nfor ( String zoneName : zoneNames )\n{\n    ZoneId zoneId = ZoneId.of ( zoneName );\n    ZoneRules rules = zoneId.getRules ( );\n    ZoneOffset offset = rules.getOffset ( now );\n    if ( offset.equals ( offsetTarget ) )\n    {\n        zoneIdsWithTargetOffset.add ( zoneId );\n    }\n}\nSystem.out.println ( &quot;At &quot; + now + &quot;, &quot; + zoneIdsWithTargetOffset.size ( ) + &quot; zones have an offset of &quot; + offsetTarget + &quot; ➡️ &quot; + zoneIdsWithTargetOffset ); // ️\n</code></pre>\n<p>See this <a href=\"https://ideone.com/tqk9lo\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>At 2023-11-21T21:59:37.279097Z, 43 zones have an offset of -04:00 ➡️ [America/Cuiaba, America/Marigot, Canada/Atlantic, Etc/GMT+4, America/Manaus, America/St_Thomas, America/Anguilla, America/Barbados, America/Curacao, America/Guyana, America/Martinique, America/Puerto_Rico, America/Port_of_Spain, SystemV/AST4, America/Kralendijk, America/Antigua, America/Moncton, America/St_Vincent, America/Dominica, Atlantic/Bermuda, Brazil/West, America/Aruba, America/Halifax, America/La_Paz, America/Blanc-Sablon, America/Santo_Domingo, America/Glace_Bay, America/St_Barthelemy, America/St_Lucia, America/Montserrat, America/Lower_Princes, America/Thule, America/Tortola, America/Porto_Velho, America/Campo_Grande, America/Goose_Bay, America/Virgin, America/Boa_Vista, America/Grenada, America/St_Kitts, America/Caracas, America/Guadeloupe, SystemV/AST4ADT]</p>\n</blockquote>\n<p><strong>Beware:</strong> Politicians frequently change the rules of the time zone(s) within their jurisdiction. They sometimes make those changes with an alarming lack of forewarning. Be sure the <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\">tzdata</a> within your JVM is current for the time zones of interest to you. <strong>You may need to update the tzdata</strong> yourself, as new versions arrive faster than updates to Java.</p>\n"}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700606839,"creation_date":1700604298,"question_id":77526193,"body_markdown":"I know:\r\n\r\n - An offset is merely a number of hours-minutes-seconds ahead/behind the temporal meridian of UTC.\r\n - A time zone is a named history of the past, present, and future changes to the offset used by the people of a specific region, as determined by their politicians. \r\n\r\nSo for any moment, a particular time zone is using one offset while in another moment that same time zone may be using a different offset. \r\n\r\nAnd, of course, any number of time zones may share the same offset at any one point in time.\r\n\r\n&#128073;&#127997; Is there a way to obtain a list of time zones using a particular offset at a particular moment? ","title":"Get time zones using a specific offset for a given moment, in Java","body":"<p>I know:</p>\n<ul>\n<li>An offset is merely a number of hours-minutes-seconds ahead/behind the temporal meridian of UTC.</li>\n<li>A time zone is a named history of the past, present, and future changes to the offset used by the people of a specific region, as determined by their politicians.</li>\n</ul>\n<p>So for any moment, a particular time zone is using one offset while in another moment that same time zone may be using a different offset.</p>\n<p>And, of course, any number of time zones may share the same offset at any one point in time.</p>\n<p>👉🏽 Is there a way to obtain a list of time zones using a particular offset at a particular moment?</p>\n"},{"tags":["java","android","kotlin","android-studio","gradle"],"comments":[{"owner":{"account_id":21762263,"reputation":138,"user_id":16066673,"display_name":"eenNaampje"},"score":0,"creation_date":1700645077,"post_id":77526349,"comment_id":136678896,"body_markdown":"Typo? It settings.gradle.kts","body":"Typo? It settings.gradle.kts"}],"owner":{"account_id":14918710,"reputation":113,"user_id":10771746,"display_name":"Cosmic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700606652,"creation_date":1700606652,"question_id":77526349,"body_markdown":"I&#39;m encountering a Gradle sync error after adding a module to my Android Studio project. Removing the module and its SDK didn&#39;t resolve the issue.\r\n\r\nError:\r\n\r\n```\r\n\r\nBuild file &#39;/home/ishan/AndroidStudioProjects/StaffScanDemo/build.gradle.kts&#39; line: 7\r\n\r\nPlugin [id: &#39;com.android.application&#39;, version: &#39;8.1.2&#39;, apply: false] was not found in any of the following sources:\r\n\r\nTry:\r\nRun with --info or --debug option to get more log output.\r\nRun with --scan to get full insights.\r\n\r\nException is: org.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.android.application&#39;, version: &#39;8.1.2&#39;, apply: false] was not found in any of the following sources:\r\nGradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\nPlugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:8.1.2&#39;)\r\n```\r\n\r\n\r\nbuild.gradle.kts (Project Level)\r\n\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath(&quot;com.google.gms:google-services:4.4.0&quot;)\r\n    }\r\n}\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id(&quot;com.android.application&quot;) version &quot;8.1.2&quot; apply false\r\n    id(&quot;com.google.gms.google-services&quot;) version &quot;4.4.0&quot; apply false\r\n\r\n}\r\n```\r\n\r\nsetting.gradle.kts\r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\nrootProject.name = &quot;StaffScanDemo&quot;\r\ninclude(&quot;:app&quot;)\r\n```\r\n\r\nI attempted various solutions suggested in similar Stack Overflow questions, including adding the android-library plugin to the project&#39;s build.gradle file.\r\n\r\nRemoved the problematic module and its SDK from the project structure, but the error persists. But if I try to add a new module then it says a module with that name already exists.\r\n\r\nI&#39;m seeking assistance in identifying the root cause of this error and implementing an effective solution. Any insights or suggestions would be greatly appreciated.","title":"Android Studio Gradle sync issue: Unable to resolve plugin artifact","body":"<p>I'm encountering a Gradle sync error after adding a module to my Android Studio project. Removing the module and its SDK didn't resolve the issue.</p>\n<p>Error:</p>\n<pre><code>\nBuild file '/home/ishan/AndroidStudioProjects/StaffScanDemo/build.gradle.kts' line: 7\n\nPlugin [id: 'com.android.application', version: '8.1.2', apply: false] was not found in any of the following sources:\n\nTry:\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n\nException is: org.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.android.application', version: '8.1.2', apply: false] was not found in any of the following sources:\nGradle Core Plugins (plugin is not in 'org.gradle' namespace)\nPlugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:8.1.2')\n</code></pre>\n<p>build.gradle.kts (Project Level)</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath(&quot;com.google.gms:google-services:4.4.0&quot;)\n    }\n}\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id(&quot;com.android.application&quot;) version &quot;8.1.2&quot; apply false\n    id(&quot;com.google.gms.google-services&quot;) version &quot;4.4.0&quot; apply false\n\n}\n</code></pre>\n<p>setting.gradle.kts</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.name = &quot;StaffScanDemo&quot;\ninclude(&quot;:app&quot;)\n</code></pre>\n<p>I attempted various solutions suggested in similar Stack Overflow questions, including adding the android-library plugin to the project's build.gradle file.</p>\n<p>Removed the problematic module and its SDK from the project structure, but the error persists. But if I try to add a new module then it says a module with that name already exists.</p>\n<p>I'm seeking assistance in identifying the root cause of this error and implementing an effective solution. Any insights or suggestions would be greatly appreciated.</p>\n"},{"tags":["java","sqlite","minecraft","spigot"],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1700619760,"post_id":77526339,"comment_id":136676085,"body_markdown":"Your catch code is the problem. It&#39;s deplorable: &quot;When an error occurs, log it in a way that makes it impossible for any code to try to deal with it, then ignore it entirely and continue on blindly hoping for the best&quot;. __Do not do this__, it makes debugging harder. These methods need to be declared to `throws SQLException`. Or, if you somehow don&#39;t want to dot hat, the right content of a catch block where your approach is &quot;Dont know, dont care, dont wanna think about it&quot;, is `throw new RuntimeException(&quot;Unhandled&quot;, e);`, __not__ `e.printStackTrace()`. You would have found the problem faster.","body":"Your catch code is the problem. It&#39;s deplorable: &quot;When an error occurs, log it in a way that makes it impossible for any code to try to deal with it, then ignore it entirely and continue on blindly hoping for the best&quot;. <b>Do not do this</b>, it makes debugging harder. These methods need to be declared to <code>throws SQLException</code>. Or, if you somehow don&#39;t want to dot hat, the right content of a catch block where your approach is &quot;Dont know, dont care, dont wanna think about it&quot;, is <code>throw new RuntimeException(&quot;Unhandled&quot;, e);</code>, <b>not</b> <code>e.printStackTrace()</code>. You would have found the problem faster."}],"tags":[],"owner":{"account_id":29269534,"reputation":1,"user_id":22424671,"display_name":"Jelly Fish"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700606461,"creation_date":1700606461,"answer_id":77526339,"question_id":77526271,"body_markdown":"I managed to fix the issue myself and here is how.\r\nSo the main problem was where I was checking to see if the member was banned in the first place.\r\nThe connection wasn&#39;t really closing / opening properly hence causing the error later on.\r\nHere is the updated isPlayerBanned code:\r\n```\r\n    private boolean isPlayerBanned(String playerName) {\r\n        try{\r\n            Connection connection = SQLiteConnector.getConnection();\r\n            PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM bans WHERE player_name = ?&quot;);\r\n            statement.setString(1, playerName);\r\n            try(ResultSet resultSet = statement.executeQuery()) {\r\n                if(resultSet.next()) {\r\n                    int count = resultSet.getInt(1);\r\n                    return count &gt; 0;\r\n                }\r\n            }\r\n            connection.close();\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return false;\r\n    }\r\n```","title":"SQLite database connection closed or null Java","body":"<p>I managed to fix the issue myself and here is how.\nSo the main problem was where I was checking to see if the member was banned in the first place.\nThe connection wasn't really closing / opening properly hence causing the error later on.\nHere is the updated isPlayerBanned code:</p>\n<pre><code>    private boolean isPlayerBanned(String playerName) {\n        try{\n            Connection connection = SQLiteConnector.getConnection();\n            PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM bans WHERE player_name = ?&quot;);\n            statement.setString(1, playerName);\n            try(ResultSet resultSet = statement.executeQuery()) {\n                if(resultSet.next()) {\n                    int count = resultSet.getInt(1);\n                    return count &gt; 0;\n                }\n            }\n            connection.close();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":29269534,"reputation":1,"user_id":22424671,"display_name":"Jelly Fish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700606461,"creation_date":1700605483,"question_id":77526271,"body_markdown":"I am trying to make a Ban command for minecraft spigot 1.20.2. I am using SQLITE to store the data. I am using OnPlayerJoinEvent to check to see if the player is banned or not, if they are then we get the baninfo and stop them from entering the server. But when it attempts to get the ban info it errors out at the database connection is closed or null.\r\n\r\nHere is the join event code.\r\n```\r\n    Main plugin = Main.getInstance();\r\n\r\n    public JoinEvent(Main plugin)\r\n    {\r\n        this.plugin = plugin;\r\n    }\r\n\r\n    @EventHandler\r\n    public void onPlayerJoin(PlayerJoinEvent event)\r\n    {\r\n        Player player = event.getPlayer();\r\n        String playerName = event.getPlayer().getName();\r\n        if (isPlayerBanned(playerName)) {\r\n            System.out.println(&quot;Person banned.&quot;);\r\n            // Get ban information\r\n            BanInfo banInfo = getBanInfo(playerName);\r\n\r\n            // Prevent the player from joining\r\n            event.setJoinMessage(null); // Remove default join message\r\n            player.kickPlayer(getKickMessage(banInfo));\r\n        }\r\n        if(event.getPlayer().hasPlayedBefore())\r\n        {\r\n            FileConfiguration config = plugin.getConfig();\r\n            String joinMessage = config.getString(&quot;join-message-has-played-before&quot;);\r\n            joinMessage = joinMessage.replace(&quot;%player%&quot;, playerName);\r\n            event.setJoinMessage(joinMessage);\r\n        }\r\n        else\r\n        {\r\n            FileConfiguration config = plugin.getConfig();\r\n            String joinMessage = config.getString(&quot;join-message-has-not-played-before&quot;);\r\n            joinMessage = joinMessage.replace(&quot;%player%&quot;, playerName);\r\n            event.setJoinMessage(joinMessage);\r\n        }\r\n    }\r\n\r\n    private boolean isPlayerBanned(String playerName) {\r\n        try (Connection connection = SQLiteConnector.getConnection();\r\n             PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM bans WHERE player_name = ?&quot;)) {\r\n            statement.setString(1, playerName);\r\n\r\n            try (ResultSet resultSet = statement.executeQuery()) {\r\n                if (resultSet.next()) {\r\n                    int count = resultSet.getInt(1);\r\n                    return count &gt; 0;\r\n                }\r\n            }\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private BanInfo getBanInfo(String playerName) {\r\n        PreparedStatement statement = null;\r\n        ResultSet resultSet = null;\r\n        try{\r\n            Connection connection = SQLiteConnector.getConnection();\r\n\r\n            if (connection == null || connection.isClosed()) {\r\n                throw new SQLException(&quot;Database connection is null or closed.&quot;);\r\n            }\r\n\r\n            statement = connection.prepareStatement(&quot;SELECT * FROM bans WHERE player_name = ?&quot;);\r\n            statement.setString(1, playerName);\r\n\r\n            resultSet = statement.executeQuery();\r\n\r\n            if (resultSet.next()) {\r\n                String staffMember = resultSet.getString(&quot;staff_member&quot;);\r\n                String reason = resultSet.getString(&quot;reason&quot;);\r\n\r\n                return new BanInfo(playerName, staffMember, reason);\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (resultSet != null) {\r\n                    resultSet.close();\r\n                }\r\n                if (statement != null) {\r\n                    statement.close();\r\n                }\r\n                // Note: Do not close the connection here to keep it open for later use\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private String getKickMessage(BanInfo banInfo) {\r\n        if (banInfo != null) {\r\n            return ChatColor.RED + &quot;You are banned from this server.\\n&quot; +\r\n                    ChatColor.RED + &quot;Banned by: &quot; + ChatColor.YELLOW + banInfo.getStaffMember() + &quot;\\n&quot; +\r\n                    ChatColor.RED + &quot;Reason: &quot; + ChatColor.YELLOW + banInfo.getReason();\r\n        } else {\r\n            return ChatColor.RED + &quot;You are banned from this server.&quot;;\r\n        }\r\n    }\r\n```\r\nHere is the SQLConnector code:\r\n```\r\n    private static Connection connection;\r\n\r\n    public static Connection getConnection() {\r\n        if(connection == null) {\r\n            try {\r\n                Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n                connection = DriverManager.getConnection(&quot;jdbc:sqlite:plugins/Jellyfish-Hosting-Plugin/punishments.db&quot;);\r\n            } catch (ClassNotFoundException | SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return connection;\r\n    }\r\n\r\n    public static void closeConnection() {\r\n        try {\r\n            if (connection != null &amp;&amp; !connection.isClosed()) {\r\n                connection.close();\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nThe error that I receive is (half of):\r\n```\r\n[22:20:03 WARN]: java.sql.SQLException: Database connection is null or closed.\r\n[22:20:03 WARN]:        at plugin-1.0-beta.jar//xyz.jellyfishhosting.plugin.events.JoinEvent.getBanInfo(JoinEvent.java:82)\r\n[22:20:03 WARN]:        at plugin-1.0-beta.jar//xyz.jellyfishhosting.plugin.events.JoinEvent.onPlayerJoin(JoinEvent.java:35)\r\n[22:20:03 WARN]:        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor1.execute(Unknown Source)\r\n[22:20:03 WARN]:        at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:77)\r\n[22:20:03 WARN]:        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:81)\r\n[22:20:03 WARN]:        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70)\r\n[22:20:03 WARN]:        at io.papermc.paper.plugin.manager.PaperEventManager.callEvent(PaperEventManager.java:54)\r\n[22:20:03 WARN]:        at io.papermc.paper.plugin.manager.PaperPluginManagerImpl.callEvent(PaperPluginManagerImpl.java:126)\r\n[22:20:03 WARN]:        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:615)\r\n[22:20:03 WARN]:        at net.minecraft.server.players.PlayerList.a(PlayerList.java:346)\r\n[22:20:03 WARN]:        at net.minecraft.server.network.ServerConfigurationPacketListenerImpl.a(ServerConfigurationPacketListenerImpl.java:130)\r\n[22:20:03 WARN]:        at net.minecraft.network.protocol.configuration.ServerboundFinishConfigurationPacket.a(ServerboundFinishConfigurationPacket.java:18)\r\n[22:20:03 WARN]:        at net.minecraft.network.protocol.configuration.ServerboundFinishConfigurationPacket.a(ServerboundFinishConfigurationPacket.java:9)\r\n[22:20:03 WARN]:        at net.minecraft.network.protocol.PlayerConnectionUtils.lambda$ensureRunningOnSameThread$0(PlayerConnectionUtils.java:53)\r\n```\r\n\r\nI have tried using normal debug statements to find out where it was closing at which seems to be after the checking to see if the player is banned or not.","title":"SQLite database connection closed or null Java","body":"<p>I am trying to make a Ban command for minecraft spigot 1.20.2. I am using SQLITE to store the data. I am using OnPlayerJoinEvent to check to see if the player is banned or not, if they are then we get the baninfo and stop them from entering the server. But when it attempts to get the ban info it errors out at the database connection is closed or null.</p>\n<p>Here is the join event code.</p>\n<pre><code>    Main plugin = Main.getInstance();\n\n    public JoinEvent(Main plugin)\n    {\n        this.plugin = plugin;\n    }\n\n    @EventHandler\n    public void onPlayerJoin(PlayerJoinEvent event)\n    {\n        Player player = event.getPlayer();\n        String playerName = event.getPlayer().getName();\n        if (isPlayerBanned(playerName)) {\n            System.out.println(&quot;Person banned.&quot;);\n            // Get ban information\n            BanInfo banInfo = getBanInfo(playerName);\n\n            // Prevent the player from joining\n            event.setJoinMessage(null); // Remove default join message\n            player.kickPlayer(getKickMessage(banInfo));\n        }\n        if(event.getPlayer().hasPlayedBefore())\n        {\n            FileConfiguration config = plugin.getConfig();\n            String joinMessage = config.getString(&quot;join-message-has-played-before&quot;);\n            joinMessage = joinMessage.replace(&quot;%player%&quot;, playerName);\n            event.setJoinMessage(joinMessage);\n        }\n        else\n        {\n            FileConfiguration config = plugin.getConfig();\n            String joinMessage = config.getString(&quot;join-message-has-not-played-before&quot;);\n            joinMessage = joinMessage.replace(&quot;%player%&quot;, playerName);\n            event.setJoinMessage(joinMessage);\n        }\n    }\n\n    private boolean isPlayerBanned(String playerName) {\n        try (Connection connection = SQLiteConnector.getConnection();\n             PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM bans WHERE player_name = ?&quot;)) {\n            statement.setString(1, playerName);\n\n            try (ResultSet resultSet = statement.executeQuery()) {\n                if (resultSet.next()) {\n                    int count = resultSet.getInt(1);\n                    return count &gt; 0;\n                }\n            }\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    private BanInfo getBanInfo(String playerName) {\n        PreparedStatement statement = null;\n        ResultSet resultSet = null;\n        try{\n            Connection connection = SQLiteConnector.getConnection();\n\n            if (connection == null || connection.isClosed()) {\n                throw new SQLException(&quot;Database connection is null or closed.&quot;);\n            }\n\n            statement = connection.prepareStatement(&quot;SELECT * FROM bans WHERE player_name = ?&quot;);\n            statement.setString(1, playerName);\n\n            resultSet = statement.executeQuery();\n\n            if (resultSet.next()) {\n                String staffMember = resultSet.getString(&quot;staff_member&quot;);\n                String reason = resultSet.getString(&quot;reason&quot;);\n\n                return new BanInfo(playerName, staffMember, reason);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (resultSet != null) {\n                    resultSet.close();\n                }\n                if (statement != null) {\n                    statement.close();\n                }\n                // Note: Do not close the connection here to keep it open for later use\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        return null;\n    }\n\n    private String getKickMessage(BanInfo banInfo) {\n        if (banInfo != null) {\n            return ChatColor.RED + &quot;You are banned from this server.\\n&quot; +\n                    ChatColor.RED + &quot;Banned by: &quot; + ChatColor.YELLOW + banInfo.getStaffMember() + &quot;\\n&quot; +\n                    ChatColor.RED + &quot;Reason: &quot; + ChatColor.YELLOW + banInfo.getReason();\n        } else {\n            return ChatColor.RED + &quot;You are banned from this server.&quot;;\n        }\n    }\n</code></pre>\n<p>Here is the SQLConnector code:</p>\n<pre><code>    private static Connection connection;\n\n    public static Connection getConnection() {\n        if(connection == null) {\n            try {\n                Class.forName(&quot;org.sqlite.JDBC&quot;);\n                connection = DriverManager.getConnection(&quot;jdbc:sqlite:plugins/Jellyfish-Hosting-Plugin/punishments.db&quot;);\n            } catch (ClassNotFoundException | SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        return connection;\n    }\n\n    public static void closeConnection() {\n        try {\n            if (connection != null &amp;&amp; !connection.isClosed()) {\n                connection.close();\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The error that I receive is (half of):</p>\n<pre><code>[22:20:03 WARN]: java.sql.SQLException: Database connection is null or closed.\n[22:20:03 WARN]:        at plugin-1.0-beta.jar//xyz.jellyfishhosting.plugin.events.JoinEvent.getBanInfo(JoinEvent.java:82)\n[22:20:03 WARN]:        at plugin-1.0-beta.jar//xyz.jellyfishhosting.plugin.events.JoinEvent.onPlayerJoin(JoinEvent.java:35)\n[22:20:03 WARN]:        at com.destroystokyo.paper.event.executor.asm.generated.GeneratedEventExecutor1.execute(Unknown Source)\n[22:20:03 WARN]:        at org.bukkit.plugin.EventExecutor$2.execute(EventExecutor.java:77)\n[22:20:03 WARN]:        at co.aikar.timings.TimedEventExecutor.execute(TimedEventExecutor.java:81)\n[22:20:03 WARN]:        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:70)\n[22:20:03 WARN]:        at io.papermc.paper.plugin.manager.PaperEventManager.callEvent(PaperEventManager.java:54)\n[22:20:03 WARN]:        at io.papermc.paper.plugin.manager.PaperPluginManagerImpl.callEvent(PaperPluginManagerImpl.java:126)\n[22:20:03 WARN]:        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:615)\n[22:20:03 WARN]:        at net.minecraft.server.players.PlayerList.a(PlayerList.java:346)\n[22:20:03 WARN]:        at net.minecraft.server.network.ServerConfigurationPacketListenerImpl.a(ServerConfigurationPacketListenerImpl.java:130)\n[22:20:03 WARN]:        at net.minecraft.network.protocol.configuration.ServerboundFinishConfigurationPacket.a(ServerboundFinishConfigurationPacket.java:18)\n[22:20:03 WARN]:        at net.minecraft.network.protocol.configuration.ServerboundFinishConfigurationPacket.a(ServerboundFinishConfigurationPacket.java:9)\n[22:20:03 WARN]:        at net.minecraft.network.protocol.PlayerConnectionUtils.lambda$ensureRunningOnSameThread$0(PlayerConnectionUtils.java:53)\n</code></pre>\n<p>I have tried using normal debug statements to find out where it was closing at which seems to be after the checking to see if the player is banned or not.</p>\n"},{"tags":["java","spring-boot","mockito","testng","javax.validation"],"comments":[{"owner":{"account_id":992738,"reputation":408,"user_id":1009540,"display_name":"BarbetNL"},"score":0,"creation_date":1698159111,"post_id":77283979,"comment_id":136368169,"body_markdown":"How are you starting up your tests. You mention unit test, but you expect spring beans to be there. Is it a @SpringBootTest, or extended with spring extension, or only unit tests? My first impression is that the bean is not created when you run your tests. For more help I&#39;d need to see how you created the validator, how your Car class is using it, and how you setup the tests. Also did you check if the validator is overridden the &#39;supports&#39; method to support class &#39;Car&#39;?","body":"How are you starting up your tests. You mention unit test, but you expect spring beans to be there. Is it a @SpringBootTest, or extended with spring extension, or only unit tests? My first impression is that the bean is not created when you run your tests. For more help I&#39;d need to see how you created the validator, how your Car class is using it, and how you setup the tests. Also did you check if the validator is overridden the &#39;supports&#39; method to support class &#39;Car&#39;?"},{"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"score":0,"creation_date":1700010881,"post_id":77283979,"comment_id":136601895,"body_markdown":"Not a SpringBootTest","body":"Not a SpringBootTest"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1700046106,"post_id":77283979,"comment_id":136605923,"body_markdown":"@developer747 Can you provide the test class or [MRE](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"@developer747 Can you provide the test class or <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>?"},{"owner":{"account_id":992738,"reputation":408,"user_id":1009540,"display_name":"BarbetNL"},"score":0,"creation_date":1700061499,"post_id":77283979,"comment_id":136608852,"body_markdown":"If it is not a SpringBootTest, how are you then running the test? It needs a bean for the validation. If you use SpringExtension, you need some sort of spring context configuration. If you use plain unit test, the bean will never be there, and you need to create a new Validator object &amp; autowiring will never work.","body":"If it is not a SpringBootTest, how are you then running the test? It needs a bean for the validation. If you use SpringExtension, you need some sort of spring context configuration. If you use plain unit test, the bean will never be there, and you need to create a new Validator object &amp; autowiring will never work."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700250053,"creation_date":1700250053,"answer_id":77504236,"question_id":77283979,"body_markdown":"`@InjectMocks` is just a mockito stuff and never understand spring. It just like you create a `LocalValidatorFactoryBean` manually without any spring integration to it. \r\n\r\nTo configure `LocalValidatorFactoryBean` properly , you can do it by using `@SpringBootTest` with the  `@ImportAutoConfiguration` to auto-configure just the bean validation stuff.\r\n\r\n\r\n```\r\n@SpringBootTest\r\npublic class ValidationTest{\r\n\r\n\r\n\t@Configuration\r\n    @ImportAutoConfiguration(ValidationAutoConfiguration.class)                \r\n    @ComponentScan(basePackages = { &quot;my.app.root.package&quot; })\r\n    public static class Config {\r\n\r\n    }\r\n\r\n    @Autowired\r\n    LocalValidatorFactoryBean validatorFactoryBean;\r\n    \r\n\r\n    @Test\r\n    void test(){\r\n    \r\n    }\r\n    \r\n}\r\n```\r\n\r\n","title":"Java custom constraints validator fails in unit tests with &quot;No target Validator set&quot; error","body":"<p><code>@InjectMocks</code> is just a mockito stuff and never understand spring. It just like you create a <code>LocalValidatorFactoryBean</code> manually without any spring integration to it.</p>\n<p>To configure <code>LocalValidatorFactoryBean</code> properly , you can do it by using <code>@SpringBootTest</code> with the  <code>@ImportAutoConfiguration</code> to auto-configure just the bean validation stuff.</p>\n<pre><code>@SpringBootTest\npublic class ValidationTest{\n\n\n    @Configuration\n    @ImportAutoConfiguration(ValidationAutoConfiguration.class)                \n    @ComponentScan(basePackages = { &quot;my.app.root.package&quot; })\n    public static class Config {\n\n    }\n\n    @Autowired\n    LocalValidatorFactoryBean validatorFactoryBean;\n    \n\n    @Test\n    void test(){\n    \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700272724,"creation_date":1700272724,"answer_id":77505439,"question_id":77283979,"body_markdown":"I would also suggest that you use a `@SpringBootTest`, as described in Ken&#39;s answer. But if for some reason you don&#39;t want to, a `LocalValidatorFactoryBean` object initialized using the below code should work for tests as long as all of the custom constraint validators have a default, no-args constructor:\r\n\r\n```java\r\nLocalValidatorFactoryBean validator = new LocalValidatorFactoryBean();\r\nvalidator.afterPropertiesSet();\r\n```","title":"Java custom constraints validator fails in unit tests with &quot;No target Validator set&quot; error","body":"<p>I would also suggest that you use a <code>@SpringBootTest</code>, as described in Ken's answer. But if for some reason you don't want to, a <code>LocalValidatorFactoryBean</code> object initialized using the below code should work for tests as long as all of the custom constraint validators have a default, no-args constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalValidatorFactoryBean validator = new LocalValidatorFactoryBean();\nvalidator.afterPropertiesSet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700605481,"creation_date":1700605481,"answer_id":77526270,"question_id":77283979,"body_markdown":"**(Option 1)** If the `LocalValidatorFactoryBean` is created by a Spring container, then some additional logic is executed during the [`afterPropertiesSet()`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html#afterPropertiesSet()) phase.\r\n\r\nYou could replicate this by calling this method by yourself. For example:\r\n\r\n```java\r\n@BeforeEach\r\nvoid setUp() {\r\n    validator = new LocalValidatorFactoryBean();\r\n    validator.afterPropertiesSet();\r\n}\r\n```\r\n\r\n**(Option 2)** However, this is kind of a hack, because the default `LocalValidatorFactoryBean` created by Spring Boot contains [extra customizers and a message interpolator](https://github.com/spring-projects/spring-boot/blob/f37d6c9294788720fbea27c925f55d5ce52b4fcb/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.java#L55-L66). If you don&#39;t care about this, it might be cleaner to work with the underlying JSR-380 bean validator in stead. For example:\r\n\r\n```java\r\n@BeforeEach\r\nvoid setUp() {\r\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n    validator = factory.getValidator();\r\n}\r\n```\r\n\r\nBe aware that `validator` will be a different type, but it also contains a `validate()` method with the same signature.\r\n\r\n**(Option 3)** If you do care about the additional setup Spring provides, then you could write a Spring integration test. I don&#39;t recommend using `@SpringBootTest` as you would bloat your tests.\r\n\r\nAll you really need is to include the `SpringExtension` and the necessary autoconfiguration:\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@ImportAutoConfiguration(ValidationAutoConfiguration.class)\r\npublic class MyValidationTest {\r\n    @Autowired\r\n    private LocalValidatorFactoryBean validator;\r\n}\r\n```\r\n","title":"Java custom constraints validator fails in unit tests with &quot;No target Validator set&quot; error","body":"<p><strong>(Option 1)</strong> If the <code>LocalValidatorFactoryBean</code> is created by a Spring container, then some additional logic is executed during the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.html#afterPropertiesSet()\" rel=\"nofollow noreferrer\"><code>afterPropertiesSet()</code></a> phase.</p>\n<p>You could replicate this by calling this method by yourself. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeEach\nvoid setUp() {\n    validator = new LocalValidatorFactoryBean();\n    validator.afterPropertiesSet();\n}\n</code></pre>\n<p><strong>(Option 2)</strong> However, this is kind of a hack, because the default <code>LocalValidatorFactoryBean</code> created by Spring Boot contains <a href=\"https://github.com/spring-projects/spring-boot/blob/f37d6c9294788720fbea27c925f55d5ce52b4fcb/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.java#L55-L66\" rel=\"nofollow noreferrer\">extra customizers and a message interpolator</a>. If you don't care about this, it might be cleaner to work with the underlying JSR-380 bean validator in stead. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeEach\nvoid setUp() {\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    validator = factory.getValidator();\n}\n</code></pre>\n<p>Be aware that <code>validator</code> will be a different type, but it also contains a <code>validate()</code> method with the same signature.</p>\n<p><strong>(Option 3)</strong> If you do care about the additional setup Spring provides, then you could write a Spring integration test. I don't recommend using <code>@SpringBootTest</code> as you would bloat your tests.</p>\n<p>All you really need is to include the <code>SpringExtension</code> and the necessary autoconfiguration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@ImportAutoConfiguration(ValidationAutoConfiguration.class)\npublic class MyValidationTest {\n    @Autowired\n    private LocalValidatorFactoryBean validator;\n}\n</code></pre>\n"}],"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700605481,"creation_date":1697146833,"question_id":77283979,"body_markdown":"I have springboot application which wires up validatorFactoryBean like this\r\n\r\n    private LocalValidatorFactoryBean validatorFactoryBean;\r\n\r\n    @Autowired\r\n    public void setValidatorFactoryBean(LocalValidatorFactoryBean validatorFactoryBean) {\r\n        this.validatorFactoryBean = validatorFactoryBean;\r\n    }\r\n\r\nI have custom validators defined on class Car and I run the validations like this.\r\n\r\n     Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validatorFactoryBean.validate(myCar);\r\n\r\n\r\nAll of this works fine. But when I try to test this thru unit tests, on the line \r\n\r\n    validatorFactoryBean.validate(myCar)\r\n\r\nI get an error &quot;No target Validator set&quot;.\r\n\r\nThis is how I am setting up validatorFactoryBean in the testng unit test\r\n\r\n    @InjectMocks\r\n    LocalValidatorFactoryBean validatorFactoryBean;\r\n\r\nI pass this in to the class I am testing by calling setValidatorFactoryBean setter.\r\n\r\nWhile debugging I realized this validatorFactoryBean is not aware of all the ConstraintValidator implementations in the main code.\r\n\r\nHow do I make validatorFactoryBean aware of all the ConstraintValidator implementations?","title":"Java custom constraints validator fails in unit tests with &quot;No target Validator set&quot; error","body":"<p>I have springboot application which wires up validatorFactoryBean like this</p>\n<pre><code>private LocalValidatorFactoryBean validatorFactoryBean;\n\n@Autowired\npublic void setValidatorFactoryBean(LocalValidatorFactoryBean validatorFactoryBean) {\n    this.validatorFactoryBean = validatorFactoryBean;\n}\n</code></pre>\n<p>I have custom validators defined on class Car and I run the validations like this.</p>\n<pre><code> Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validatorFactoryBean.validate(myCar);\n</code></pre>\n<p>All of this works fine. But when I try to test this thru unit tests, on the line</p>\n<pre><code>validatorFactoryBean.validate(myCar)\n</code></pre>\n<p>I get an error &quot;No target Validator set&quot;.</p>\n<p>This is how I am setting up validatorFactoryBean in the testng unit test</p>\n<pre><code>@InjectMocks\nLocalValidatorFactoryBean validatorFactoryBean;\n</code></pre>\n<p>I pass this in to the class I am testing by calling setValidatorFactoryBean setter.</p>\n<p>While debugging I realized this validatorFactoryBean is not aware of all the ConstraintValidator implementations in the main code.</p>\n<p>How do I make validatorFactoryBean aware of all the ConstraintValidator implementations?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"score":0,"creation_date":1432732626,"post_id":30483567,"comment_id":49045775,"body_markdown":"put your code please","body":"put your code please"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1432732847,"post_id":30483567,"comment_id":49045975,"body_markdown":"This isn&#39;t really Spring Data JPA related, Open JPA chokes on that... The query is passed, as is, to your JPA provider. However I wonder if that is even possible in JPA...","body":"This isn&#39;t really Spring Data JPA related, Open JPA chokes on that... The query is passed, as is, to your JPA provider. However I wonder if that is even possible in JPA..."},{"owner":{"account_id":351152,"reputation":303,"user_id":687449,"display_name":"OkraSala"},"score":0,"creation_date":1432733562,"post_id":30483567,"comment_id":49046548,"body_markdown":"@NitinDandriyal - trying to do order by on value using division between 2 columns ( x / y ).","body":"@NitinDandriyal - trying to do order by on value using division between 2 columns ( x / y )."},{"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"score":0,"creation_date":1432733595,"post_id":30483567,"comment_id":49046575,"body_markdown":"Yes, I get that but I think your query will run without brackets as well","body":"Yes, I get that but I think your query will run without brackets as well"},{"owner":{"account_id":351152,"reputation":303,"user_id":687449,"display_name":"OkraSala"},"score":0,"creation_date":1432733693,"post_id":30483567,"comment_id":49046634,"body_markdown":"No, it does not. In that case it is not able to parse the &quot; / &quot;  symbol.","body":"No, it does not. In that case it is not able to parse the &quot; / &quot;  symbol."},{"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"score":0,"creation_date":1432734952,"post_id":30483567,"comment_id":49047665,"body_markdown":"What if you re-write your query as `select st, st.totalMargin / st.totalRevenue as ratio from Strategy st where st.unId= ?1 order by ratio desc`","body":"What if you re-write your query as <code>select st, st.totalMargin &#47; st.totalRevenue as ratio from Strategy st where st.unId= ?1 order by ratio desc</code>"}],"answers":[{"comments":[{"owner":{"account_id":351152,"reputation":303,"user_id":687449,"display_name":"OkraSala"},"score":0,"creation_date":1432742601,"post_id":30484465,"comment_id":49053625,"body_markdown":"Thanks Tristan, I tried this. This does not work. It expects one of the existing column names.","body":"Thanks Tristan, I tried this. This does not work. It expects one of the existing column names."}],"tags":[],"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432734574,"creation_date":1432734574,"answer_id":30484465,"question_id":30483567,"body_markdown":"In your Strategy object, u can add a getter :\r\n\r\n    public double getMarginRatio() {\r\n      return (this.totalMargin / this.totalRevenue);\r\n    }\r\n\r\nthen, your order by statement will become &quot;`order by st.marginRatio`&quot;","title":"How to order by multiple columns in Spring data JPA query with calculation in order by?","body":"<p>In your Strategy object, u can add a getter :</p>\n\n<pre><code>public double getMarginRatio() {\n  return (this.totalMargin / this.totalRevenue);\n}\n</code></pre>\n\n<p>then, your order by statement will become \"<code>order by st.marginRatio</code>\"</p>\n"},{"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432740581,"creation_date":1432740581,"answer_id":30486878,"question_id":30483567,"body_markdown":"Yes with nativeQuery\r\n\r\n    @Query(value = &quot;select st from STRATEGY st where st.unId= ?1 order by ( st.totalMargin / st.totalRevenue ) desc&quot;, nativeQuery = true)","title":"How to order by multiple columns in Spring data JPA query with calculation in order by?","body":"<p>Yes with nativeQuery</p>\n\n<pre><code>@Query(value = \"select st from STRATEGY st where st.unId= ?1 order by ( st.totalMargin / st.totalRevenue ) desc\", nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":351152,"reputation":303,"user_id":687449,"display_name":"OkraSala"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9245,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700604280,"creation_date":1432732407,"question_id":30483567,"body_markdown":"I am trying to add the following query to the JPA repository @Query\r\n\r\n    &quot;select st from Strategy st where st.unId= ?1 order by ( st.totalMargin / st.totalRevenue ) desc&quot;\r\n\r\nHowever, this query does not parse due to the &quot;(&quot; brackets in the query.\r\n\r\n    The error thrown while bean initialization is \r\n    Caused by: &lt;openjpa-2.2.2-r422266:1468616 nonfatal user error&gt; org.apache.openjpa.persistence.ArgumentException: &quot;Encountered &quot;(&quot; at \r\n\r\nIs there any way this can be achieved in @Query ?\r\n\r\n\r\n\r\n","title":"How to order by multiple columns in Spring data JPA query with calculation in order by?","body":"<p>I am trying to add the following query to the JPA repository @Query</p>\n\n<pre><code>\"select st from Strategy st where st.unId= ?1 order by ( st.totalMargin / st.totalRevenue ) desc\"\n</code></pre>\n\n<p>However, this query does not parse due to the \"(\" brackets in the query.</p>\n\n<pre><code>The error thrown while bean initialization is \nCaused by: &lt;openjpa-2.2.2-r422266:1468616 nonfatal user error&gt; org.apache.openjpa.persistence.ArgumentException: \"Encountered \"(\" at \n</code></pre>\n\n<p>Is there any way this can be achieved in @Query ?</p>\n"},{"tags":["java","amazon-web-services","websocket","aws-lambda","aws-api-gateway"],"answers":[{"comments":[{"owner":{"account_id":2988307,"reputation":81,"user_id":2536502,"display_name":"user2536502"},"score":1,"creation_date":1588769355,"post_id":61626710,"comment_id":109025338,"body_markdown":"Thanks vijtrip2, I suspect we&#39;re missing the @connection relationship. We&#39;ll look into that. BUT, we&#39;ve successfully established client -&gt; API GW -&gt; Lambda as noted. The issue is the API GW 30 second timeout. In the Java Lambda code you&#39;ll see there is a 60 second delay. That delay causes the API Gateway to timeout the connection after 30 seconds (see API GW docs). Once that happens we can&#39;t send any more data back to the client.","body":"Thanks vijtrip2, I suspect we&#39;re missing the @connection relationship. We&#39;ll look into that. BUT, we&#39;ve successfully established client -&gt; API GW -&gt; Lambda as noted. The issue is the API GW 30 second timeout. In the Java Lambda code you&#39;ll see there is a 60 second delay. That delay causes the API Gateway to timeout the connection after 30 seconds (see API GW docs). Once that happens we can&#39;t send any more data back to the client."},{"owner":{"account_id":2988307,"reputation":81,"user_id":2536502,"display_name":"user2536502"},"score":0,"creation_date":1588792383,"post_id":61626710,"comment_id":109039224,"body_markdown":"This response did lead me down the right path!\n\nSearching for more info about the &quot;@connection&quot; I found a thread on AWS Forums that included  code that got me up and running: https://forums.aws.amazon.com/thread.jspa?messageID=891900&amp;","body":"This response did lead me down the right path!  Searching for more info about the &quot;@connection&quot; I found a thread on AWS Forums that included  code that got me up and running: <a href=\"https://forums.aws.amazon.com/thread.jspa?messageID=891900&amp;\" rel=\"nofollow noreferrer\">forums.aws.amazon.com/thread.jspa?messageID=891900&amp;</a>"},{"owner":{"account_id":18073956,"reputation":141,"user_id":13137820,"display_name":"vijtrip2"},"score":0,"creation_date":1588801774,"post_id":61626710,"comment_id":109043708,"body_markdown":"&quot;That delay causes the API Gateway to timeout the connection after 30 seconds &quot; -&gt; Yes, APIGateway has the maximum integration timeout of 29 seconds. and Glad to see you are unblocked.","body":"&quot;That delay causes the API Gateway to timeout the connection after 30 seconds &quot; -&gt; Yes, APIGateway has the maximum integration timeout of 29 seconds. and Glad to see you are unblocked."},{"owner":{"account_id":16776357,"reputation":608,"user_id":12127578,"display_name":"wtfzambo"},"score":1,"creation_date":1625578037,"post_id":61626710,"comment_id":120659642,"body_markdown":"@user2536502 yo, so if I understood correctly you managed to circumvent the 29s integration timeout by using &quot;@connection&quot; responses? Or is that unrelated?\n\nI checked the thread u linked but I got a bit lost, especially cause I know squat about Java","body":"@user2536502 yo, so if I understood correctly you managed to circumvent the 29s integration timeout by using &quot;@connection&quot; responses? Or is that unrelated?  I checked the thread u linked but I got a bit lost, especially cause I know squat about Java"},{"owner":{"account_id":13828873,"reputation":76,"user_id":9982360,"display_name":"Ole S"},"score":1,"creation_date":1660945561,"post_id":61626710,"comment_id":129661901,"body_markdown":"@user2536502 Could you kindly share the solution to this question if you ever managed to resolve it?","body":"@user2536502 Could you kindly share the solution to this question if you ever managed to resolve it?"},{"owner":{"account_id":6516534,"reputation":2964,"user_id":5042169,"accept_rate":77,"display_name":"Jun"},"score":0,"creation_date":1687199053,"post_id":61626710,"comment_id":134900522,"body_markdown":"Does anyone have a solution to the websocket 30s timeout?","body":"Does anyone have a solution to the websocket 30s timeout?"}],"tags":[],"owner":{"account_id":18073956,"reputation":141,"user_id":13137820,"display_name":"vijtrip2"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588734722,"creation_date":1588734722,"answer_id":61626710,"question_id":61617193,"body_markdown":"I do not think I understand your problem correctly but here is how WebSocket API work in my experience.\r\nclient(s) &lt;-(1)-&gt; API Gateway &lt;-(2)-&gt; Lambda\r\n\r\n1) is the web socket connection which stays open for a maximum of 2 hours, with idle timeout of 10 minutes as mentioned here. https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html\r\n\r\n2 )communication is managed using @connection https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-how-to-call-websocket-api-connections.html\r\n\r\nI believe you want to use @connection for talking to your API Gateway from lambda.","title":"AWS API Gateway WebSocket Timeout?","body":"<p>I do not think I understand your problem correctly but here is how WebSocket API work in my experience.\nclient(s) &lt;-(1)-> API Gateway &lt;-(2)-> Lambda</p>\n\n<p>1) is the web socket connection which stays open for a maximum of 2 hours, with idle timeout of 10 minutes as mentioned here. <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html</a></p>\n\n<p>2 )communication is managed using @connection <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-how-to-call-websocket-api-connections.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-how-to-call-websocket-api-connections.html</a></p>\n\n<p>I believe you want to use @connection for talking to your API Gateway from lambda.</p>\n"},{"comments":[{"owner":{"account_id":2270341,"reputation":1524,"user_id":1997941,"display_name":"Sasank Mukkamala"},"score":1,"creation_date":1618235961,"post_id":64980299,"comment_id":118534057,"body_markdown":"Not true. NAT is not needed. In the link reference above, they had to use NAT because their ElastiCache is located in a VPC.","body":"Not true. NAT is not needed. In the link reference above, they had to use NAT because their ElastiCache is located in a VPC."}],"tags":[],"owner":{"account_id":10193839,"reputation":15,"user_id":7526295,"display_name":"middleman3"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606192404,"creation_date":1606192404,"answer_id":64980299,"question_id":61617193,"body_markdown":"It looks like a NAT Gateway is required for a Lambda to call the postToConnection function provided by the AWS ApiGatewayManagementApi SDK. \r\n\r\nIts a shame this requirement isn&#39;t specified anywhere regarding Websockets API or API Gateway.\r\n\r\nSearch for &#39;NAT&#39; on [this][1] page, and read that sentence:\r\n\r\n\r\n  [1]: https://www.romexsoft.com/success-stories/real-time-messaging-system-with-aws-api-gateway-and-lambda/","title":"AWS API Gateway WebSocket Timeout?","body":"<p>It looks like a NAT Gateway is required for a Lambda to call the postToConnection function provided by the AWS ApiGatewayManagementApi SDK.</p>\n<p>Its a shame this requirement isn't specified anywhere regarding Websockets API or API Gateway.</p>\n<p>Search for 'NAT' on <a href=\"https://www.romexsoft.com/success-stories/real-time-messaging-system-with-aws-api-gateway-and-lambda/\" rel=\"nofollow noreferrer\">this</a> page, and read that sentence:</p>\n"},{"tags":[],"owner":{"account_id":12453747,"reputation":51,"user_id":9067613,"display_name":"Michael Camilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700604080,"creation_date":1700604080,"answer_id":77526176,"question_id":61617193,"body_markdown":"I just faced the same problem. And I discovered that even with the websocket connection open for until 2h, the processing of the API (first lambda called) will timeout in 29s.\r\n\r\nTo workaround that, you must use an async strategy. So, create a proxy that will receive the input and call the desired lambda through an SNS topic or an SQS queue.\r\n\r\nFor more info, this link is very useful:\r\nhttps://repost.aws/questions/QUFXpcneknSgmhseduEh18dw/api-gateway-websocket-api-30s-timeout","title":"AWS API Gateway WebSocket Timeout?","body":"<p>I just faced the same problem. And I discovered that even with the websocket connection open for until 2h, the processing of the API (first lambda called) will timeout in 29s.</p>\n<p>To workaround that, you must use an async strategy. So, create a proxy that will receive the input and call the desired lambda through an SNS topic or an SQS queue.</p>\n<p>For more info, this link is very useful:\n<a href=\"https://repost.aws/questions/QUFXpcneknSgmhseduEh18dw/api-gateway-websocket-api-30s-timeout\" rel=\"nofollow noreferrer\">https://repost.aws/questions/QUFXpcneknSgmhseduEh18dw/api-gateway-websocket-api-30s-timeout</a></p>\n"}],"owner":{"account_id":2988307,"reputation":81,"user_id":2536502,"display_name":"user2536502"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11418,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1700604080,"creation_date":1588693547,"question_id":61617193,"body_markdown":"How do I keep an API Gateway Websocket API with a Lambda Java back end from timing out after 30 seconds?\r\n\r\nThe AWS API Gateway and re:invent videos mention using pings or heartbeats to keep the Websocket connection alive but I haven&#39;t found a straight-forward working example (in Java). The front end is using HTML 5 Websockets (vanilla javascript).\r\n\r\nI&#39;m including my Lambda test driver in Java. It causes the API Gateway WS API to timeout after 30 seconds as documented. The driver will return successfully if you remove the delay. Any help is appreciated...\r\n\r\n\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.Map;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestStreamHandler;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class TestWSClient implements RequestStreamHandler {\r\n    \r\n        public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) {\r\n            try {\r\n                //\r\n                // How do we keep API Gateway from timing out after 30 seconds?\r\n                // Is something like this even needed in the lambda?\r\n                //\r\n                new Thread(() -&gt; {\r\n                    while(true) {    \r\n                        try {\r\n                            // Ping client every 15 seconds\r\n                            Thread.sleep(15000);\r\n                            //outputStream.write(); // What to write -- 0x89 0x00?\r\n                            outputStream.flush();\r\n                        } catch(Exception e) { e.printStackTrace(); }\r\n                    }\r\n                }).start();\r\n    \r\n                //\r\n                // Simulate long processing time or streaming\r\n                //\r\n                // NOTE: commenting sleep enables service to return w/o a timeout\r\n                //       connection from API Gateway\r\n                //\r\n                try { Thread.sleep(60000); } catch(Exception e) {}\r\n    \r\n                var response = Map.of(\r\n                    &quot;statusCode&quot;, 200,\r\n                    &quot;headers&quot;, Map.of(&quot;Content-Type&quot;, &quot;text/csv&quot;),\r\n                    &quot;body&quot;, &quot;Hello,World&quot;\r\n                );\r\n    \r\n                ObjectMapper om = new ObjectMapper();\r\n    \r\n                outputStream.write(om.writeValueAsBytes(response));\r\n                outputStream.flush();\r\n            } catch(Exception e) { e.printStackTrace(); }\r\n            finally { try { outputStream.close(); } catch(Exception e) {} }\r\n        }\r\n    }","title":"AWS API Gateway WebSocket Timeout?","body":"<p>How do I keep an API Gateway Websocket API with a Lambda Java back end from timing out after 30 seconds?</p>\n\n<p>The AWS API Gateway and re:invent videos mention using pings or heartbeats to keep the Websocket connection alive but I haven't found a straight-forward working example (in Java). The front end is using HTML 5 Websockets (vanilla javascript).</p>\n\n<p>I'm including my Lambda test driver in Java. It causes the API Gateway WS API to timeout after 30 seconds as documented. The driver will return successfully if you remove the delay. Any help is appreciated...</p>\n\n<pre><code>import java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.Map;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestStreamHandler;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class TestWSClient implements RequestStreamHandler {\n\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) {\n        try {\n            //\n            // How do we keep API Gateway from timing out after 30 seconds?\n            // Is something like this even needed in the lambda?\n            //\n            new Thread(() -&gt; {\n                while(true) {    \n                    try {\n                        // Ping client every 15 seconds\n                        Thread.sleep(15000);\n                        //outputStream.write(); // What to write -- 0x89 0x00?\n                        outputStream.flush();\n                    } catch(Exception e) { e.printStackTrace(); }\n                }\n            }).start();\n\n            //\n            // Simulate long processing time or streaming\n            //\n            // NOTE: commenting sleep enables service to return w/o a timeout\n            //       connection from API Gateway\n            //\n            try { Thread.sleep(60000); } catch(Exception e) {}\n\n            var response = Map.of(\n                \"statusCode\", 200,\n                \"headers\", Map.of(\"Content-Type\", \"text/csv\"),\n                \"body\", \"Hello,World\"\n            );\n\n            ObjectMapper om = new ObjectMapper();\n\n            outputStream.write(om.writeValueAsBytes(response));\n            outputStream.flush();\n        } catch(Exception e) { e.printStackTrace(); }\n        finally { try { outputStream.close(); } catch(Exception e) {} }\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","javafx","wix","jpackage"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1700553448,"post_id":77520453,"comment_id":136665616,"body_markdown":"You have missed off some jars, turn on the win-console flag to see the error messages.","body":"You have missed off some jars, turn on the win-console flag to see the error messages."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700591681,"post_id":77520453,"comment_id":136672753,"body_markdown":"I don&#39;t know if this is actually a problem, but having both `--input` and `--dest` set to the current directory (i.e., `.`) seems weird to me. I would have those as entirely separate directories, possibly with neither being the current directory. That said, I suggest following DuncG&#39;s advice and generating the application image with `--win-console`. Then launch the application from the terminal and read the error messages. If you still need help, [edit] your question to add those error messages and, if possible, a true [mre].","body":"I don&#39;t know if this is actually a problem, but having both <code>--input</code> and <code>--dest</code> set to the current directory (i.e., <code>.</code>) seems weird to me. I would have those as entirely separate directories, possibly with neither being the current directory. That said, I suggest following DuncG&#39;s advice and generating the application image with <code>--win-console</code>. Then launch the application from the terminal and read the error messages. If you still need help, <a href=\"https://stackoverflow.com/posts/77520453/edit\">edit</a> your question to add those error messages and, if possible, a true <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"score":0,"creation_date":1700604458,"post_id":77520453,"comment_id":136674678,"body_markdown":"@DuncG I have done what you asked me","body":"@DuncG I have done what you asked me"},{"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"score":0,"creation_date":1700604495,"post_id":77520453,"comment_id":136674680,"body_markdown":"@Slaw I have done what you asked me","body":"@Slaw I have done what you asked me"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700607388,"post_id":77520453,"comment_id":136675014,"body_markdown":"Can you show the full stack trace? Also, you might want to try including the main JAR in the input directory.","body":"Can you show the full stack trace? Also, you might want to try including the main JAR in the input directory."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700613400,"post_id":77520453,"comment_id":136675551,"body_markdown":"Have you confirmed that the `jmr_sports.jar` file is being included in the application image?","body":"Have you confirmed that the <code>jmr_sports.jar</code> file is being included in the application image?"},{"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"score":0,"creation_date":1700615624,"post_id":77520453,"comment_id":136675748,"body_markdown":"@dan1st That is the complete message that I get when I run the exe from the console. The main JAR is jmr_sports.jar, and it is located in the ./dist directory, which is the input directory","body":"@dan1st That is the complete message that I get when I run the exe from the console. The main JAR is jmr_sports.jar, and it is located in the ./dist directory, which is the input directory"},{"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"score":0,"creation_date":1700615981,"post_id":77520453,"comment_id":136675778,"body_markdown":"@Slaw Yes, jmr_sports.jar was included, it is in `C:\\Program Files\\MyApp2\\app`","body":"@Slaw Yes, jmr_sports.jar was included, it is in <code>C:\\Program Files\\MyApp2\\app</code>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700616657,"post_id":77520453,"comment_id":136675842,"body_markdown":"Does `jimage list --include **/module-info.class &quot;C:\\Program Files\\MyApp2\\runtime\\lib\\modules&quot;` show all the modules you expect to be in the run-time image?","body":"Does <code>jimage list --include **&#47;module-info.class &quot;C:\\Program Files\\MyApp2\\runtime\\lib\\modules&quot;</code> show all the modules you expect to be in the run-time image?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700616889,"post_id":77520453,"comment_id":136675866,"body_markdown":"Also, why have `--java-options &quot;-cp lib/postgresql-42.6.0.jar&quot;`? Any JAR files you want to be loaded from the class-path should be contained in a directory that you then specify with `--input`. All JAR files in that directory will automatically be put on the class-path.","body":"Also, why have <code>--java-options &quot;-cp lib&#47;postgresql-42.6.0.jar&quot;</code>? Any JAR files you want to be loaded from the class-path should be contained in a directory that you then specify with <code>--input</code>. All JAR files in that directory will automatically be put on the class-path."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1700617167,"post_id":77520453,"comment_id":136675892,"body_markdown":"If none of this helps lead to a solution, I think a [mre] will be required for us to provide any further help (create the example from scratch; simply have the main class connect to a PostgreSQL database and exit; show all steps used to build and package the project; don&#39;t include JavaFX if it&#39;s not important to the problem).","body":"If none of this helps lead to a solution, I think a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> will be required for us to provide any further help (create the example from scratch; simply have the main class connect to a PostgreSQL database and exit; show all steps used to build and package the project; don&#39;t include JavaFX if it&#39;s not important to the problem)."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700637891,"post_id":77520453,"comment_id":136677744,"body_markdown":"This is the reason I recommend to create an axecutable fat JAR first, and than take this single JAR and use Jpackage with it.","body":"This is the reason I recommend to create an axecutable fat JAR first, and than take this single JAR and use Jpackage with it."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1701954163,"post_id":77520453,"comment_id":136840286,"body_markdown":"It looks like you&#39;ve not packaged your own application. Vie the cfg file and directory content of the release. Also, don&#39;t set --input and --dest to same value.","body":"It looks like you&#39;ve not packaged your own application. Vie the cfg file and directory content of the release. Also, don&#39;t set --input and --dest to same value."}],"owner":{"account_id":29954183,"reputation":1,"user_id":22955477,"display_name":"Willian"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700603822,"creation_date":1700543751,"question_id":77520453,"body_markdown":"I have a JavaFX application that connects to a PostgreSQL database using the driver postgresql-42.6.0.jar. I want to generate an exe for my application using jpackage, but the exe does not work properly. It either does not open at all, or it opens but does not show the content of the panes that use the database connection. The jar of my application works fine, but the exe does not.\r\n\r\nI tried to generate the exe using the following command:\r\n\r\n```\r\njpackage -t exe --name &quot;MyApp&quot; --app-version 1.0 --input . --dest . --main-jar &quot;jmr_sports.jar&quot; --icon &quot;C:\\Users\\Windows\\Desktop\\JMR Sports\\icono.ico&quot; --module-path &quot;C:\\Program Files\\Java\\javafx-jmods-17.0.9&quot; --add-modules javafx.controls,javafx.graphics,javafx.fxml,javafx.base --java-options &quot;-cp lib/postgresql-42.6.0.jar&quot; --win-shortcut --win-menu\r\n```\r\n\r\nI also checked the configuration file MyApp.cfg and made sure that the app.classpath parameter included both the jar of my application and the jar of the driver. I expected the exe to work as the jar of my application, showing the content of the panes that use the database connection.\r\n\r\nAnother detail of my problem is that the application behaves differently depending on whether I add the `--java-options &quot;-cp lib/postgresql-42.6.0.jar&quot;` parameter or not. Without this parameter, the application opens, but the panes that rely on the database connection are blank. With this parameter, the application does not open at all. I don&#39;t understand why this happens. I&#39;m sure the problem is related to the database connection, because I&#39;ve tried removing the code that uses the database connection, and then the panes show the content that doesn&#39;t depend on the database.\r\n\r\n**Update**\r\n\r\nI have activated the win-console option of jpackage to see the error messages:\r\n\r\n```\r\njpackage -t exe --name &quot;MyApp2&quot; --app-version 1.0 --input ./dist --dest ./exe --main-jar &quot;jmr_sports.jar&quot; --icon &quot;C:\\Users\\Windows\\Desktop\\JMR Sports\\icono.ico&quot; --module-path &quot;C:\\Program Files\\Java\\javafx-jmods-17.0.9&quot; --add-modules javafx.controls,javafx.graphics,javafx.fxml,javafx.base --java-options &quot;-cp lib/postgresql-42.6.0.jar&quot; --win-shortcut --win-menu --win-console\r\n```\r\n\r\nI get the following error:\r\n\r\n    C:\\Program Files\\MyApp2&gt;MyApp2.exe\r\n    Error: Could not find or load main class application.Main\r\n    Caused by: java.lang.ClassNotFoundException: application.Main","title":"jpackage exe does not work with PostgreSQL database connection in JavaFX application","body":"<p>I have a JavaFX application that connects to a PostgreSQL database using the driver postgresql-42.6.0.jar. I want to generate an exe for my application using jpackage, but the exe does not work properly. It either does not open at all, or it opens but does not show the content of the panes that use the database connection. The jar of my application works fine, but the exe does not.</p>\n<p>I tried to generate the exe using the following command:</p>\n<pre><code>jpackage -t exe --name &quot;MyApp&quot; --app-version 1.0 --input . --dest . --main-jar &quot;jmr_sports.jar&quot; --icon &quot;C:\\Users\\Windows\\Desktop\\JMR Sports\\icono.ico&quot; --module-path &quot;C:\\Program Files\\Java\\javafx-jmods-17.0.9&quot; --add-modules javafx.controls,javafx.graphics,javafx.fxml,javafx.base --java-options &quot;-cp lib/postgresql-42.6.0.jar&quot; --win-shortcut --win-menu\n</code></pre>\n<p>I also checked the configuration file MyApp.cfg and made sure that the app.classpath parameter included both the jar of my application and the jar of the driver. I expected the exe to work as the jar of my application, showing the content of the panes that use the database connection.</p>\n<p>Another detail of my problem is that the application behaves differently depending on whether I add the <code>--java-options &quot;-cp lib/postgresql-42.6.0.jar&quot;</code> parameter or not. Without this parameter, the application opens, but the panes that rely on the database connection are blank. With this parameter, the application does not open at all. I don't understand why this happens. I'm sure the problem is related to the database connection, because I've tried removing the code that uses the database connection, and then the panes show the content that doesn't depend on the database.</p>\n<p><strong>Update</strong></p>\n<p>I have activated the win-console option of jpackage to see the error messages:</p>\n<pre><code>jpackage -t exe --name &quot;MyApp2&quot; --app-version 1.0 --input ./dist --dest ./exe --main-jar &quot;jmr_sports.jar&quot; --icon &quot;C:\\Users\\Windows\\Desktop\\JMR Sports\\icono.ico&quot; --module-path &quot;C:\\Program Files\\Java\\javafx-jmods-17.0.9&quot; --add-modules javafx.controls,javafx.graphics,javafx.fxml,javafx.base --java-options &quot;-cp lib/postgresql-42.6.0.jar&quot; --win-shortcut --win-menu --win-console\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>C:\\Program Files\\MyApp2&gt;MyApp2.exe\nError: Could not find or load main class application.Main\nCaused by: java.lang.ClassNotFoundException: application.Main\n</code></pre>\n"},{"tags":["java","node.js","spring-boot","maven","jenkins"],"owner":{"account_id":27624928,"reputation":21,"user_id":21085117,"display_name":"KVR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700603641,"creation_date":1700602515,"question_id":77526062,"body_markdown":"    Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.7.1:site (default-site) on project test: SiteToolException: The site descriptor cannot be resolved from the repository:\r\n    \r\n    Jenkins job is failing in site reports stage , even though there is a maven site plugin configuration is there pom.xml and in jfrog the location of maven site plugin is there in plugins release , but it is not searching and throwing not found \r\n    \r\nPom.xml \r\n\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.1&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;wagon-webdav-jackrabbit&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n\r\n\r\nsettings.xml\r\n\r\n\r\n             &lt;profile&gt;\r\n            &lt;id&gt;springboot&lt;/id&gt;\r\n            &lt;repositories&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;name&gt;libs-release&lt;/name&gt;\r\n                    &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/libs-release&lt;/url&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;snapshots&lt;/id&gt;\r\n                    &lt;name&gt;libs-snapshot&lt;/name&gt;\r\n                    &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/libs-snapshot&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n            &lt;/repositories&gt;\r\n            &lt;pluginRepositories&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;plugin-central&lt;/id&gt;\r\n                    &lt;name&gt;plugins-release&lt;/name&gt;\r\n                    &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/plugins-release&lt;/url&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/pluginRepository&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;plugin-snapshots&lt;/id&gt;\r\n                    &lt;name&gt;plugins-release&lt;/name&gt;\r\n                    &lt;url&gt;https://tentjnks01.aaa- \r\n                             bcg.net:8543/artifactory/plugins-release&lt;/url&gt;\r\n                &lt;/pluginRepository&gt;\r\n            &lt;/pluginRepositories&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    &lt;activeProfiles&gt;\r\n        &lt;activeProfile&gt;springboot&lt;/activeProfile&gt;\r\n\r\ncommand executing in jenkins\r\n\r\n+ export MAVEN_OPTS=-Xmx2048m\r\n+ MAVEN_OPTS=-Xmx2048m\r\n+ mvn -P springboot -fae site-deploy -Dmaven.main.skip=true -Dbuild.number=15 -Dgit.branch=ft-kalakala -Dartifact_server_id=JFROG -Dsite_report_url=dav:https://nexus.prd.itmgt.aws.aaa-acg.net/repository/maven-site/HiMarley/ft-kalakala/15-4316d8d1/ -Drevision=ft-kalakala-15-4316d8d1-SNAPSHOT -Dartifact_release_url=https://art-stg.aaa-acg.net:8543/art/libs-release-local -Dartifact_snapshot_url=https://art-stg.aaa-acg.net:8543/art/libs-snapshot-local\r\n ","title":"site reports issue in multibranch pipeline job for spring boot application","body":"<pre><code>Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.7.1:site (default-site) on project test: SiteToolException: The site descriptor cannot be resolved from the repository:\n\nJenkins job is failing in site reports stage , even though there is a maven site plugin configuration is there pom.xml and in jfrog the location of maven site plugin is there in plugins release , but it is not searching and throwing not found \n</code></pre>\n<p>Pom.xml</p>\n<pre><code>        &lt;/plugin&gt;--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\n                    &lt;artifactId&gt;wagon-webdav-jackrabbit&lt;/artifactId&gt;\n                    &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n</code></pre>\n<p>settings.xml</p>\n<pre><code>         &lt;profile&gt;\n        &lt;id&gt;springboot&lt;/id&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;central&lt;/id&gt;\n                &lt;name&gt;libs-release&lt;/name&gt;\n                &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/libs-release&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n            &lt;repository&gt;\n                &lt;id&gt;snapshots&lt;/id&gt;\n                &lt;name&gt;libs-snapshot&lt;/name&gt;\n                &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/libs-snapshot&lt;/url&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n        &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;plugin-central&lt;/id&gt;\n                &lt;name&gt;plugins-release&lt;/name&gt;\n                &lt;url&gt;https://tentjnks01.aaa-bcg.net:8543/artifactory/plugins-release&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/pluginRepository&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;plugin-snapshots&lt;/id&gt;\n                &lt;name&gt;plugins-release&lt;/name&gt;\n                &lt;url&gt;https://tentjnks01.aaa- \n                         bcg.net:8543/artifactory/plugins-release&lt;/url&gt;\n            &lt;/pluginRepository&gt;\n        &lt;/pluginRepositories&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n&lt;activeProfiles&gt;\n    &lt;activeProfile&gt;springboot&lt;/activeProfile&gt;\n</code></pre>\n<p>command executing in jenkins</p>\n<ul>\n<li>export MAVEN_OPTS=-Xmx2048m</li>\n<li>MAVEN_OPTS=-Xmx2048m</li>\n<li>mvn -P springboot -fae site-deploy -Dmaven.main.skip=true -Dbuild.number=15 -Dgit.branch=ft-kalakala -Dartifact_server_id=JFROG -Dsite_report_url=dav:<a href=\"https://nexus.prd.itmgt.aws.aaa-acg.net/repository/maven-site/HiMarley/ft-kalakala/15-4316d8d1/\" rel=\"nofollow noreferrer\">https://nexus.prd.itmgt.aws.aaa-acg.net/repository/maven-site/HiMarley/ft-kalakala/15-4316d8d1/</a> -Drevision=ft-kalakala-15-4316d8d1-SNAPSHOT -Dartifact_release_url=https://art-stg.aaa-acg.net:8543/art/libs-release-local -Dartifact_snapshot_url=https://art-stg.aaa-acg.net:8543/art/libs-snapshot-local</li>\n</ul>\n"},{"tags":["java","spring","aws-api-gateway","integration-testing","api-gateway"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1700606141,"post_id":77526131,"comment_id":136674874,"body_markdown":"Because a gateway is involved?  No.  But a gateway is just part of the implementation.  Is the focus on testing the behavior or the implementation?","body":"Because a gateway is involved?  No.  But a gateway is just part of the implementation.  Is the focus on testing the behavior or the implementation?"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1700618225,"post_id":77526131,"comment_id":136675966,"body_markdown":"untest for  gateway is uncessary , pay more attendion to major logic .","body":"untest for  gateway is uncessary , pay more attendion to major logic ."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1700685271,"post_id":77526131,"comment_id":136686342,"body_markdown":"Not a bad idea, especially if you have special configurations applied.  A quick test will ensure that breaking changes haven&#39;t been made.  However, I generally do not.","body":"Not a bad idea, especially if you have special configurations applied.  A quick test will ensure that breaking changes haven&#39;t been made.  However, I generally do not."},{"owner":{"account_id":22640109,"reputation":191,"user_id":16816403,"display_name":"MANISH"},"score":0,"creation_date":1700840285,"post_id":77526131,"comment_id":136705887,"body_markdown":"You may want to consider doing contract testing on your APIs just to ensure that they are not broken after any change promotion. I don&#39;t recommend doing full E2E testing though. I have used Pact framework in one of my project earlier for contract testing. https://docs.pact.io/","body":"You may want to consider doing contract testing on your APIs just to ensure that they are not broken after any change promotion. I don&#39;t recommend doing full E2E testing though. I have used Pact framework in one of my project earlier for contract testing. <a href=\"https://docs.pact.io/\" rel=\"nofollow noreferrer\">docs.pact.io</a>"}],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700603569,"creation_date":1700603569,"question_id":77526131,"body_markdown":"just want to know/see different point of views regarding this type of tests for api-gateway and your experience if you had something similar in your practice. \r\nThank you.","title":"Does it make sense to write integration/end-to-end tests for api-gateway?","body":"<p>just want to know/see different point of views regarding this type of tests for api-gateway and your experience if you had something similar in your practice.\nThank you.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700603043,"post_id":77526097,"comment_id":136674512,"body_markdown":"Have you tried using packages?","body":"Have you tried using packages?"}],"owner":{"account_id":29961151,"reputation":1,"user_id":22960810,"display_name":"Gamal Gad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700603144,"answer_count":0,"score":-1,"last_activity_date":1700603448,"creation_date":1700602989,"question_id":77526097,"body_markdown":"Error occurred during initialization of boot layer java.lang.module.FindException: Error reading module: F:\\Develop\\eclipse\\HelloWorld\\bin Caused by: java.lang.module.InvalidModuleDescriptorException: HelloWorld.class found in top-level directory (unnamed package not allowed in module)&quot;\r\nand i tried a lot of ways but it does not work because all of the ways i saw was to old virsion so if any one can how to sole on this virsion Apache NetBeans IDE 18 ","title":"i am a beginner in using net beans and i always have this error in my code &quot;Error occurred during initialization of boot layer&quot;","body":"<p>Error occurred during initialization of boot layer java.lang.module.FindException: Error reading module: F:\\Develop\\eclipse\\HelloWorld\\bin Caused by: java.lang.module.InvalidModuleDescriptorException: HelloWorld.class found in top-level directory (unnamed package not allowed in module)&quot;\nand i tried a lot of ways but it does not work because all of the ways i saw was to old virsion so if any one can how to sole on this virsion Apache NetBeans IDE 18</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":23321234,"reputation":1,"user_id":17399093,"display_name":"Guilherme Ribeiro"},"score":0,"creation_date":1636766047,"post_id":69950289,"comment_id":123652328,"body_markdown":"Yes, and it don&#39;t worked.","body":"Yes, and it don&#39;t worked."},{"owner":{"account_id":22637801,"reputation":386,"user_id":16814390,"display_name":"Zinedine Benkhider"},"score":0,"creation_date":1636766082,"post_id":69950289,"comment_id":123652331,"body_markdown":"i mean how you compile it?","body":"i mean how you compile it?"},{"owner":{"account_id":23321234,"reputation":1,"user_id":17399093,"display_name":"Guilherme Ribeiro"},"score":0,"creation_date":1636800144,"post_id":69950289,"comment_id":123657086,"body_markdown":"I followed this video https://www.youtube.com/watch?v=GVJlck1WMX8, and it din&#39;t solved at all.","body":"I followed this video <a href=\"https://www.youtube.com/watch?v=GVJlck1WMX8\" rel=\"nofollow noreferrer\">youtube.com/watch?v=GVJlck1WMX8</a>, and it din&#39;t solved at all."},{"owner":{"account_id":22637801,"reputation":386,"user_id":16814390,"display_name":"Zinedine Benkhider"},"score":0,"creation_date":1636808303,"post_id":69950289,"comment_id":123658852,"body_markdown":"Check if you are in the good folder. Show me what you did?","body":"Check if you are in the good folder. Show me what you did?"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1636941286,"post_id":69950289,"comment_id":123684562,"body_markdown":"Did you import package in your .java file? Can you show your code if convenient?","body":"Did you import package in your .java file? Can you show your code if convenient?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636942525,"post_id":69950289,"comment_id":123684727,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":23321234,"reputation":1,"user_id":17399093,"display_name":"Guilherme Ribeiro"},"score":0,"creation_date":1636944622,"post_id":69950289,"comment_id":123685020,"body_markdown":"It&#39;s just a basic system.out.println code, but no code works at all, i just get Error: Could not find or load main class App\nCaused by: java.lang.ClassNotFoundException: App","body":"It&#39;s just a basic system.out.println code, but no code works at all, i just get Error: Could not find or load main class App Caused by: java.lang.ClassNotFoundException: App"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1636961508,"post_id":69950289,"comment_id":123687817,"body_markdown":"@GuilhermeRibeiro. Clean java language server workspace from command palette then try again.","body":"@GuilhermeRibeiro. Clean java language server workspace from command palette then try again."}],"answers":[{"tags":[],"owner":{"account_id":20389251,"reputation":884,"user_id":14957517,"display_name":"Cyebukayire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700602496,"creation_date":1700602496,"answer_id":77526059,"question_id":69950289,"body_markdown":"I had a similar issue a few minutes ago and this is how I solved it. \r\n\r\n**Solution**:\r\n\r\n&gt; Restart VS Code\r\n\r\nThen run the program again.\r\n\r\nJust ensure that the main class is declared correctly and if your class is in a package, include the package name at the top.\r\n\r\n    package package_name\r\n\r\nExample: \r\n\r\n    package Games;\r\n    \r\n    public class MoveSquare {\r\n        public static void main(String []arg){\r\n            System.out.println(&quot;Hello world&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Error: Could not find or load main class App Caused by: java.lang.ClassNotFoundException: App on VScode","body":"<p>I had a similar issue a few minutes ago and this is how I solved it.</p>\n<p><strong>Solution</strong>:</p>\n<blockquote>\n<p>Restart VS Code</p>\n</blockquote>\n<p>Then run the program again.</p>\n<p>Just ensure that the main class is declared correctly and if your class is in a package, include the package name at the top.</p>\n<pre><code>package package_name\n</code></pre>\n<p>Example:</p>\n<pre><code>package Games;\n\npublic class MoveSquare {\n    public static void main(String []arg){\n        System.out.println(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23321234,"reputation":1,"user_id":17399093,"display_name":"Guilherme Ribeiro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700602496,"creation_date":1636761537,"question_id":69950289,"body_markdown":"Java online wants to say hello world but VSCode don&#39;t, why, and how do i solve this,\r\nError: Could not find or load main class App    \r\nCaused by: java.lang.ClassNotFoundException: App","title":"Error: Could not find or load main class App Caused by: java.lang.ClassNotFoundException: App on VScode","body":"<p>Java online wants to say hello world but VSCode don't, why, and how do i solve this,\nError: Could not find or load main class App<br />\nCaused by: java.lang.ClassNotFoundException: App</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700602379,"post_id":77524945,"comment_id":136674445,"body_markdown":"The error does not occur in Android Studio but in the device you are trying to install the built app on. What Android device do you use for testing, model name and Android version? What targetSDK is configured in the Gradle config of this project?","body":"The error does not occur in Android Studio but in the device you are trying to install the built app on. What Android device do you use for testing, model name and Android version? What targetSDK is configured in the Gradle config of this project?"}],"owner":{"account_id":29310513,"reputation":5,"user_id":22456418,"display_name":"MysticSticker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700602329,"creation_date":1700589220,"question_id":77524945,"body_markdown":"In my InteriorClass.class I have 8 onClick listeners for 8 buttons. They all are formatted the same as such:\r\n\r\n    ultraBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(InteriorClass.this, paintInfo.class);\r\n                    intent.putExtra(&quot;buttonPressed&quot;, &quot;ultraBtn&quot;);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n\r\nOn my paintInfo.class I have 8 if statements that are used to change paintinfo.xml depending on what button was pressed. They are all formatted as such:\r\n\r\n    Intent intent = getIntent();\r\n    \r\n            if (intent != null) {\r\n                String buttonPressed = intent.getStringExtra(&quot;buttonPressed&quot;);\r\n        if (&quot;ultraBtn&quot;.equals(buttonPressed)) {\r\n                    intextTextView.setText(&quot;Interior&quot;);\r\n                    nameTextView.setText(&quot;Ultra&quot;);\r\n                    paintImageView.setImageResource(R.drawable._val__ultra);\r\n                    sheenTextView.setText(&quot;Flat,  Eggshell,  Satin,  Semi-Gloss,  Hi-Gloss&quot;);\r\n                    paintGradeText.setText(&quot;★★☆☆☆&quot;);\r\n                    containerTextView.setText(&quot;1 Qt, 1G, 5G&quot;);\r\n                    ceilingVerYNText.setText(&quot;Yes&quot;);\r\n                    descriptionTextView.setText(&quot;ultra&quot;);\r\n                    }\r\n    else if (...) {...}\r\n\r\nNothing I can see is underlined in red, and I can not use another version of android studio because this is for a school assignment. The full error I&#39;m receiving is:\r\n\r\n        FATAL EXCEPTION: main\r\n    Process: com.example.gibson_final, PID: 7948\r\n    java.lang.SecurityException: Writable dex file &#39;/data/data/com.example.gibson_final/code_cache/.overlay/base.apk/classes3.dex&#39; is not allowed.\r\n    \tat dalvik.system.DexFile.openDexFileNative(Native Method)\r\n    \tat dalvik.system.DexFile.openDexFile(DexFile.java:406)\r\n    \tat dalvik.system.DexFile.&lt;init&gt;(DexFile.java:128)\r\n    \tat dalvik.system.DexFile.&lt;init&gt;(DexFile.java:101)\r\n    \tat dalvik.system.DexPathList.loadDexFile(DexPathList.java:438)\r\n    \tat dalvik.system.DexPathList.makeDexElements(DexPathList.java:387)\r\n    \tat dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:166)\r\n    \tat dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:160)\r\n    \tat dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:130)\r\n    \tat dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:146)\r\n    \tat com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:93)\r\n    \tat com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:134)\r\n    \tat android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:126)\r\n    \tat android.app.ApplicationLoaders.getClassLoaderWithSharedLibraries(ApplicationLoaders.java:61)\r\n    \tat android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:1034)\r\n    \tat android.app.LoadedApk.getClassLoader(LoadedApk.java:1126)\r\n    \tat android.app.LoadedApk.getResources(LoadedApk.java:1374)\r\n    \tat android.app.ContextImpl.createAppContext(ContextImpl.java:3324)\r\n    \tat android.app.ContextImpl.createAppContext(ContextImpl.java:3316)\r\n    \tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6879)\r\n    \tat android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\r\n    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2236)\r\n    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n    \tat android.os.Looper.loop(Looper.java:294)\r\n    \tat android.app.ActivityThread.main(ActivityThread.java:8177)\r\n    \tat java.lang.reflect.Method.invoke(Native Method)\r\n    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n\r\n\r\n","title":"Writable Dex File not allowed [Android Studio Dolphin]","body":"<p>In my InteriorClass.class I have 8 onClick listeners for 8 buttons. They all are formatted the same as such:</p>\n<pre><code>ultraBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(InteriorClass.this, paintInfo.class);\n                intent.putExtra(&quot;buttonPressed&quot;, &quot;ultraBtn&quot;);\n                startActivity(intent);\n            }\n        });\n</code></pre>\n<p>On my paintInfo.class I have 8 if statements that are used to change paintinfo.xml depending on what button was pressed. They are all formatted as such:</p>\n<pre><code>Intent intent = getIntent();\n\n        if (intent != null) {\n            String buttonPressed = intent.getStringExtra(&quot;buttonPressed&quot;);\n    if (&quot;ultraBtn&quot;.equals(buttonPressed)) {\n                intextTextView.setText(&quot;Interior&quot;);\n                nameTextView.setText(&quot;Ultra&quot;);\n                paintImageView.setImageResource(R.drawable._val__ultra);\n                sheenTextView.setText(&quot;Flat,  Eggshell,  Satin,  Semi-Gloss,  Hi-Gloss&quot;);\n                paintGradeText.setText(&quot;★★☆☆☆&quot;);\n                containerTextView.setText(&quot;1 Qt, 1G, 5G&quot;);\n                ceilingVerYNText.setText(&quot;Yes&quot;);\n                descriptionTextView.setText(&quot;ultra&quot;);\n                }\nelse if (...) {...}\n</code></pre>\n<p>Nothing I can see is underlined in red, and I can not use another version of android studio because this is for a school assignment. The full error I'm receiving is:</p>\n<pre><code>    FATAL EXCEPTION: main\nProcess: com.example.gibson_final, PID: 7948\njava.lang.SecurityException: Writable dex file '/data/data/com.example.gibson_final/code_cache/.overlay/base.apk/classes3.dex' is not allowed.\n    at dalvik.system.DexFile.openDexFileNative(Native Method)\n    at dalvik.system.DexFile.openDexFile(DexFile.java:406)\n    at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:128)\n    at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:101)\n    at dalvik.system.DexPathList.loadDexFile(DexPathList.java:438)\n    at dalvik.system.DexPathList.makeDexElements(DexPathList.java:387)\n    at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:166)\n    at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:160)\n    at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:130)\n    at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:146)\n    at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:93)\n    at com.android.internal.os.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:134)\n    at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:126)\n    at android.app.ApplicationLoaders.getClassLoaderWithSharedLibraries(ApplicationLoaders.java:61)\n    at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:1034)\n    at android.app.LoadedApk.getClassLoader(LoadedApk.java:1126)\n    at android.app.LoadedApk.getResources(LoadedApk.java:1374)\n    at android.app.ContextImpl.createAppContext(ContextImpl.java:3324)\n    at android.app.ContextImpl.createAppContext(ContextImpl.java:3316)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6879)\n    at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2236)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:205)\n    at android.os.Looper.loop(Looper.java:294)\n    at android.app.ActivityThread.main(ActivityThread.java:8177)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n</code></pre>\n"},{"tags":["java","sap-gui"],"comments":[{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":0,"creation_date":1700670023,"post_id":77525358,"comment_id":136683731,"body_markdown":"Please post a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":159229,"reputation":107,"user_id":378389,"display_name":"bhnat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700602172,"creation_date":1700602172,"answer_id":77526036,"question_id":77525358,"body_markdown":"Ok, I figured it out.  The format of\r\n```\r\nDispatch.call(grid, &quot;getCellValue&quot;, 3, &quot;ID&quot;)\r\n```\r\nwas correct, but I needed to use the column identifier (like ID or RL_FROM_T) rather than the column name (like &quot;Synchronization Object&quot; or &quot;From Release&quot;).","title":"Unable to GetCellValue from GUIGridView in sap-gui","body":"<p>Ok, I figured it out.  The format of</p>\n<pre><code>Dispatch.call(grid, &quot;getCellValue&quot;, 3, &quot;ID&quot;)\n</code></pre>\n<p>was correct, but I needed to use the column identifier (like ID or RL_FROM_T) rather than the column name (like &quot;Synchronization Object&quot; or &quot;From Release&quot;).</p>\n"}],"owner":{"account_id":159229,"reputation":107,"user_id":378389,"display_name":"bhnat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77526036,"answer_count":1,"score":1,"last_activity_date":1700602172,"creation_date":1700593454,"question_id":77525358,"body_markdown":"I have a project using [the jacob project](https://github.com/freemansoft/jacob-project) to automate SAP gui automation (version 7.70). I&#39;m able to access a GuiGridView as an ActiveXComponent.  The subtype shows it&#39;s a GridView when I call `grid.getPropertyAsString(&quot;SubType&quot;)`. The visible row count returned is correct when I call `Dispatch.call(grid, &quot;VisibleRowCount&quot;).toString()`.  Double clicking a cell does not error when I call `Dispatch.call(grid, &quot;DoubleClickCurrentCell&quot;)`.  However, I&#39;m unable to get past an error occurring when I try to get a cell value via `Dispatch.call(grid, &quot;GetCellValue&quot;, Integer.valueOf(1), &quot;Synchronization Object&quot;)`.  I get an error \r\n```\r\ncom.jacob.com.ComFailException: A COM exception has been encountered:\r\nAt Invoke of: GetCellValue\r\nDescription: 80004003 / Invalid pointer\r\n```\r\n\r\nTrying to wrap them in an array of objects like I&#39;ve seen done in the [PoojaGugu  library](https://github.com/PoojaGugu/SAP-GuiClient-Automation/blob/master/Java/library/src/main/java/com/library/generic/SAPGeneric.java#L709) I get:\r\n```\r\ncom.jacob.com.ComFailException: A COM exception has been encountered:\r\nAt Invoke of: GetCellValue\r\nDescription: 80020005 / Type mismatch.\r\n```\r\nAnd trying to pass them in as Variants, I get:\r\n```\r\nAt Invoke of: GetCellValue\r\nDescription: 8000000a / The data necessary to complete this operation is not yet available.\r\n```\r\nAny suggestions about what I might be overlooking or where I&#39;m going wrong with this?","title":"Unable to GetCellValue from GUIGridView in sap-gui","body":"<p>I have a project using <a href=\"https://github.com/freemansoft/jacob-project\" rel=\"nofollow noreferrer\">the jacob project</a> to automate SAP gui automation (version 7.70). I'm able to access a GuiGridView as an ActiveXComponent.  The subtype shows it's a GridView when I call <code>grid.getPropertyAsString(&quot;SubType&quot;)</code>. The visible row count returned is correct when I call <code>Dispatch.call(grid, &quot;VisibleRowCount&quot;).toString()</code>.  Double clicking a cell does not error when I call <code>Dispatch.call(grid, &quot;DoubleClickCurrentCell&quot;)</code>.  However, I'm unable to get past an error occurring when I try to get a cell value via <code>Dispatch.call(grid, &quot;GetCellValue&quot;, Integer.valueOf(1), &quot;Synchronization Object&quot;)</code>.  I get an error</p>\n<pre><code>com.jacob.com.ComFailException: A COM exception has been encountered:\nAt Invoke of: GetCellValue\nDescription: 80004003 / Invalid pointer\n</code></pre>\n<p>Trying to wrap them in an array of objects like I've seen done in the <a href=\"https://github.com/PoojaGugu/SAP-GuiClient-Automation/blob/master/Java/library/src/main/java/com/library/generic/SAPGeneric.java#L709\" rel=\"nofollow noreferrer\">PoojaGugu  library</a> I get:</p>\n<pre><code>com.jacob.com.ComFailException: A COM exception has been encountered:\nAt Invoke of: GetCellValue\nDescription: 80020005 / Type mismatch.\n</code></pre>\n<p>And trying to pass them in as Variants, I get:</p>\n<pre><code>At Invoke of: GetCellValue\nDescription: 8000000a / The data necessary to complete this operation is not yet available.\n</code></pre>\n<p>Any suggestions about what I might be overlooking or where I'm going wrong with this?</p>\n"},{"tags":["java","jackson","wordpress-json-api"],"answers":[{"comments":[{"owner":{"account_id":1965577,"reputation":119,"user_id":1765953,"display_name":"JP Belanger"},"score":1,"creation_date":1479733512,"post_id":36748848,"comment_id":68668564,"body_markdown":"JAX-RS and jsonschema2pojo, for example have different jackson versions as dependencies (in maven).  Forcing a specific version (in dependency management) fixed the problem.","body":"JAX-RS and jsonschema2pojo, for example have different jackson versions as dependencies (in maven).  Forcing a specific version (in dependency management) fixed the problem."}],"tags":[],"owner":{"account_id":1075224,"reputation":990,"user_id":1073529,"display_name":"Marcus K."},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1527976656,"creation_date":1461166943,"answer_id":36748848,"question_id":35569092,"body_markdown":"I had the same error message. In my case, Jackson consisted of multiple JAR files. Sadly, they had different versions of jackson-core and jackson-annotations which resulted in the above exception.\r\n\r\nMaybe you don&#39;t have the jackson-annotation JAR in your classpath, at least not in the correct version. You can analyze the used library versions with the command [`mvn dependency:tree`][1].\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>I had the same error message. In my case, Jackson consisted of multiple JAR files. Sadly, they had different versions of jackson-core and jackson-annotations which resulted in the above exception.</p>\n\n<p>Maybe you don't have the jackson-annotation JAR in your classpath, at least not in the correct version. You can analyze the used library versions with the command <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html\" rel=\"noreferrer\"><code>mvn dependency:tree</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"score":0,"creation_date":1508415796,"post_id":37778718,"comment_id":80606833,"body_markdown":"Where should pom.xml be placed?","body":"Where should pom.xml be placed?"},{"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"score":3,"creation_date":1508514903,"post_id":37778718,"comment_id":80653084,"body_markdown":"@BakedInhalf It should be in your root source directory","body":"@BakedInhalf It should be in your root source directory"},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1535267426,"post_id":37778718,"comment_id":90998223,"body_markdown":"Related question - https://stackoverflow.com/questions/52023961/cannot-run-testng-test-due-to-java-lang-noclassdeffounderror-com-fasterxml-jack","body":"Related question - <a href=\"https://stackoverflow.com/questions/52023961/cannot-run-testng-test-due-to-java-lang-noclassdeffounderror-com-fasterxml-jack\" title=\"cannot run testng test due to java lang noclassdeffounderror com fasterxml jack\">stackoverflow.com/questions/52023961/&hellip;</a>"},{"owner":{"account_id":4835984,"reputation":878,"user_id":3902681,"accept_rate":50,"display_name":"Adrian Grzywaczewski"},"score":1,"creation_date":1608129735,"post_id":37778718,"comment_id":115488610,"body_markdown":"I used 2.12.0 and it worked :) Thanks a lot @MonoThreaded","body":"I used 2.12.0 and it worked :) Thanks a lot @MonoThreaded"}],"tags":[],"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"comment_count":4,"down_vote_count":1,"up_vote_count":97,"is_accepted":false,"score":96,"last_activity_date":1465762876,"creation_date":1465762876,"answer_id":37778718,"question_id":35569092,"body_markdown":"How about adding this to your pom.xml\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>How about adding this to your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1535267337,"post_id":46406070,"comment_id":90998206,"body_markdown":"Related question - https://stackoverflow.com/questions/52023961/cannot-run-testng-test-due-to-java-lang-noclassdeffounderror-com-fasterxml-jack","body":"Related question - <a href=\"https://stackoverflow.com/questions/52023961/cannot-run-testng-test-due-to-java-lang-noclassdeffounderror-com-fasterxml-jack\" title=\"cannot run testng test due to java lang noclassdeffounderror com fasterxml jack\">stackoverflow.com/questions/52023961/&hellip;</a>"},{"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"score":0,"creation_date":1596178928,"post_id":46406070,"comment_id":111734415,"body_markdown":"Besides the same version the dependencies should be defined as one could get transient dependencies with different versions.","body":"Besides the same version the dependencies should be defined as one could get transient dependencies with different versions."}],"tags":[],"owner":{"account_id":4448063,"reputation":2887,"user_id":3620833,"accept_rate":67,"display_name":"Vino"},"comment_count":2,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1506344899,"creation_date":1506344899,"answer_id":46406070,"question_id":35569092,"body_markdown":"Jackson marshalling/unmarshalling requires following jar files of same version.\r\n\r\n 1. jackson-core\r\n\r\n 2. jackson-databind\r\n\r\n 3. jackson-annotations\r\n\r\n   Make sure that you have added all these with same version in your classpath. In your case **jackson-annotations** is missing in classpath.\r\n    \r\n    \r\n    ","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>Jackson marshalling/unmarshalling requires following jar files of same version.</p>\n\n<ol>\n<li><p>jackson-core</p></li>\n<li><p>jackson-databind</p></li>\n<li><p>jackson-annotations</p>\n\n<p>Make sure that you have added all these with same version in your classpath. In your case <strong>jackson-annotations</strong> is missing in classpath.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1628690793,"post_id":46830056,"comment_id":121489330,"body_markdown":"How to add to build path ? in intellij","body":"How to add to build path ? in intellij"}],"tags":[],"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508416631,"creation_date":1508416631,"answer_id":46830056,"question_id":35569092,"body_markdown":"Get all 3 jackson jars and add them to your build path:\r\n\r\nhttps://mvnrepository.com/artifact/com.fasterxml.jackson.core\r\n","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>Get all 3 jackson jars and add them to your build path:</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.fasterxml.jackson.core</a></p>\n"},{"tags":[],"owner":{"account_id":11820977,"reputation":1,"user_id":8650092,"display_name":"Jijun Jiang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526446867,"creation_date":1526446867,"answer_id":50362736,"question_id":35569092,"body_markdown":"this is a version problem \r\nchange version &gt; 2.4 to 1.9 solve it\r\n\r\n    &lt;dependency&gt;  \r\n    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;jackson-jaxrs-xml-provider&lt;/artifactId&gt;  \r\n    &lt;version&gt;2.4.1&lt;/version&gt;  \r\n&lt;/dependency&gt;\r\n\r\nto\r\n\r\n    &lt;dependency&gt;  \r\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;  \r\n    &lt;version&gt;1.9.4&lt;/version&gt;  \r\n&lt;/dependency&gt; \r\n\r\n  ","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>this is a version problem \nchange version > 2.4 to 1.9 solve it</p>\n\n<pre><code>&lt;dependency&gt;  \n&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;  \n&lt;artifactId&gt;jackson-jaxrs-xml-provider&lt;/artifactId&gt;  \n&lt;version&gt;2.4.1&lt;/version&gt;  \n</code></pre>\n\n<p></p>\n\n<p>to</p>\n\n<pre><code>&lt;dependency&gt;  \n&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;  \n&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;  \n&lt;version&gt;1.9.4&lt;/version&gt;  \n</code></pre>\n\n<p> </p>\n"},{"tags":[],"owner":{"account_id":12734205,"reputation":321,"user_id":9249670,"display_name":"Pramod Itagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1557742632,"creation_date":1557742632,"answer_id":56110301,"question_id":35569092,"body_markdown":"Use jackson-bom which will have all the three jackson versions.i.e.jackson-annotations, jackson-core and jackson-databind. This will resolve the dependencies related to those versions","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>Use jackson-bom which will have all the three jackson versions.i.e.jackson-annotations, jackson-core and jackson-databind. This will resolve the dependencies related to those versions</p>\n"},{"comments":[{"owner":{"account_id":5336311,"reputation":1106,"user_id":4255158,"display_name":"Tony"},"score":3,"creation_date":1572368273,"post_id":56352284,"comment_id":103534526,"body_markdown":"Now, instead of downgrading, you can use the new 2.10.0 version, which fixed it for me.","body":"Now, instead of downgrading, you can use the new 2.10.0 version, which fixed it for me."},{"owner":{"account_id":959042,"reputation":1491,"user_id":983803,"accept_rate":65,"display_name":"3xCh1_23"},"score":1,"creation_date":1615831650,"post_id":56352284,"comment_id":117808567,"body_markdown":"You sir are my hero today.","body":"You sir are my hero today."},{"owner":{"account_id":14965942,"reputation":457,"user_id":10804175,"display_name":"VC2019"},"score":1,"creation_date":1617219195,"post_id":56352284,"comment_id":118246771,"body_markdown":"Thanks a lot. I was having a similar issue in my project after upgrading Spring Boot version from 2.1 to 2.4, using v2.10.0 as suggested here resolved my issue.","body":"Thanks a lot. I was having a similar issue in my project after upgrading Spring Boot version from 2.1 to 2.4, using v2.10.0 as suggested here resolved my issue."}],"tags":[],"owner":{"account_id":8267310,"reputation":151,"user_id":6216355,"display_name":"Piumal Kulasekara"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1559096840,"creation_date":1559096840,"answer_id":56352284,"question_id":35569092,"body_markdown":"Even though this answer was too late, I&#39;m adding it because I also went through a horrible time finding answer for the same matter. Only different was, I was struggling with AWS Comprehend Medical API.\r\n\r\nAt the moment I&#39;m writing this answer, if anyone come across the same issue with any AWS SDKs please **downgrade jackson-annotaions or any jackson dependencies to 2.8.* versions.** \r\nThe latest 2.9.* versions does not working properly with AWS SDK for some reason. Anyone have any idea about the reason behind that feel free to comment below.\r\n\r\nJust in case if anyone is lazy to google maven repos, I have linked down necessary repos.Check them out!\r\n\r\n - [Jackson-Core Repo][1]\r\n - [Jackson-Core-Databind - 2.8.11.3][2]\r\n - [Jackson-Core - 2.8.6][3]\r\n - [Jackson Annotations - 2.8.11][4]\r\n\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core\r\n  [2]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.8.11.3\r\n  [3]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.8.6\r\n  [4]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations/2.8.11","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>Even though this answer was too late, I'm adding it because I also went through a horrible time finding answer for the same matter. Only different was, I was struggling with AWS Comprehend Medical API.</p>\n\n<p>At the moment I'm writing this answer, if anyone come across the same issue with any AWS SDKs please <strong>downgrade jackson-annotaions or any jackson dependencies to 2.8.* versions.</strong> \nThe latest 2.9.* versions does not working properly with AWS SDK for some reason. Anyone have any idea about the reason behind that feel free to comment below.</p>\n\n<p>Just in case if anyone is lazy to google maven repos, I have linked down necessary repos.Check them out!</p>\n\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core\" rel=\"noreferrer\">Jackson-Core Repo</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.8.11.3\" rel=\"noreferrer\">Jackson-Core-Databind - 2.8.11.3</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.8.6\" rel=\"noreferrer\">Jackson-Core - 2.8.6</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations/2.8.11\" rel=\"noreferrer\">Jackson Annotations - 2.8.11</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2375051,"reputation":7605,"user_id":2078672,"accept_rate":20,"display_name":"Saurabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1572667661,"creation_date":1572496235,"answer_id":58636944,"question_id":35569092,"body_markdown":"I had different version of annotations jar. Changed all 3 jars to use **SAME version** of databind,annotations and core jackson jars\r\n\r\n    &lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.8.6&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>I had different version of annotations jar. Changed all 3 jars to use <strong>SAME version</strong> of databind,annotations and core jackson jars</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15938786,"reputation":592,"user_id":11501178,"display_name":"hola"},"score":0,"creation_date":1580035572,"post_id":59917421,"comment_id":105959029,"body_markdown":"Can you give more details about your answer","body":"Can you give more details about your answer"}],"tags":[],"owner":{"account_id":6995802,"reputation":15,"user_id":5363534,"display_name":"Satya Prakash"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1580034306,"creation_date":1580034306,"answer_id":59917421,"question_id":35569092,"body_markdown":"Use Jackson-annotations.jar will solve the problem, as it worked for me.\r\n ","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>Use Jackson-annotations.jar will solve the problem, as it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11470688,"reputation":51,"user_id":8407617,"display_name":"Jagrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645597730,"creation_date":1645597730,"answer_id":71232248,"question_id":35569092,"body_markdown":"I also faced the similar issues and by referring to the above solutions i was able to resolve the issue.\r\n\r\n**All the dependencies must have same version**.\r\n\r\nFollowing are the dependencies added in the pom.xml file\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.7&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n    \r\n    \r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.7&lt;/version&gt;\r\n      &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>I also faced the similar issues and by referring to the above solutions i was able to resolve the issue.</p>\n<p><strong>All the dependencies must have same version</strong>.</p>\n<p>Following are the dependencies added in the pom.xml file</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.8.7&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.8.7&lt;/version&gt;\n &lt;/dependency&gt;\n\n\n &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.8.7&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684082376,"creation_date":1684082376,"answer_id":76248604,"question_id":35569092,"body_markdown":"Start adding required `jackson` related jars which helps in converting `JSON` to `POJO` and `POJO` to `JSON` responses. (`jackson-core`, `jackson-annotations`, `jackson-databind`). Lets pretend you have already added these Jar still you&#39;re facing this issue here are some of the trouble shooting steps\r\n\r\n***TROUBLE SHOOTING STEPS:***\r\n\r\n 1. First check if they are any conflicts with any other jackson related jars which comes with different spring/java related jars with maven command `mvn dependecy:tree` if you find any conflicting jackson jars try excluding them like below\r\n \r\n\r\n   \r\n```&lt;exclusions&gt;\r\n   &lt;exclusion&gt;      \r\n   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;  \r\n   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;    \r\n   &lt;/exclusion&gt;   \r\n   &lt;/&lt;exclusions&gt;\r\n```\r\n \r\n2. If you didn&#39;t find any conflicts then go to you&#39;re local maven .m2 directory (storage for all local maven dependencies) verify the expecting class is part of the jar. \r\n\r\n```  cd (.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.2.2) ```\r\n\r\n```jar -xvf``` this command will explode the jar and generates all the corresponding classes\r\n\r\n3. If it didn&#39;t worked still try deleting/re importing jackson related folder from local repository (.m2). you can re import by executing maven command (`mvn clean install`)\r\n\r\n","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>Start adding required <code>jackson</code> related jars which helps in converting <code>JSON</code> to <code>POJO</code> and <code>POJO</code> to <code>JSON</code> responses. (<code>jackson-core</code>, <code>jackson-annotations</code>, <code>jackson-databind</code>). Lets pretend you have already added these Jar still you're facing this issue here are some of the trouble shooting steps</p>\n<p><em><strong>TROUBLE SHOOTING STEPS:</strong></em></p>\n<ol>\n<li>First check if they are any conflicts with any other jackson related jars which comes with different spring/java related jars with maven command <code>mvn dependecy:tree</code> if you find any conflicting jackson jars try excluding them like below</li>\n</ol>\n<pre><code>   &lt;exclusion&gt;      \n   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;  \n   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;    \n   &lt;/exclusion&gt;   \n   &lt;/&lt;exclusions&gt;\n</code></pre>\n<ol start=\"2\">\n<li>If you didn't find any conflicts then go to you're local maven .m2 directory (storage for all local maven dependencies) verify the expecting class is part of the jar.</li>\n</ol>\n<p><code> cd (.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.2.2)</code></p>\n<p><code>jar -xvf</code> this command will explode the jar and generates all the corresponding classes</p>\n<ol start=\"3\">\n<li>If it didn't worked still try deleting/re importing jackson related folder from local repository (.m2). you can re import by executing maven command (<code>mvn clean install</code>)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":29958009,"reputation":1,"user_id":22958451,"display_name":"Ronak Gupta"},"score":0,"creation_date":1701415313,"post_id":77523367,"comment_id":136775146,"body_markdown":"thanks @dorian349 for adding the dependency tag.","body":"thanks @dorian349 for adding the dependency tag."}],"tags":[],"owner":{"account_id":29958009,"reputation":1,"user_id":22958451,"display_name":"Ronak Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700602113,"creation_date":1700574749,"answer_id":77523367,"question_id":35569092,"body_markdown":"Sorry late to party but Using below dependency solved my problem.\r\n\r\nAttached link: \r\nhttps://github.com/jcustenborder/kafka-connect-spooldir/issues/156\r\n\r\n```java\r\n&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.12.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>Sorry late to party but Using below dependency solved my problem.</p>\n<p>Attached link:\n<a href=\"https://github.com/jcustenborder/kafka-connect-spooldir/issues/156\" rel=\"nofollow noreferrer\">https://github.com/jcustenborder/kafka-connect-spooldir/issues/156</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":128925,"reputation":1027,"user_id":327126,"accept_rate":38,"display_name":"user327126"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225286,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"answer_count":12,"score":90,"last_activity_date":1700602113,"creation_date":1456203159,"question_id":35569092,"body_markdown":"I am trying to convert my json string to java object and I am getting error \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/annotation/JsonInclude$Value\r\n    \tat com.fasterxml.jackson.databind.cfg.MapperConfig.&lt;clinit&gt;(MapperConfig.java:45)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:535)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:452)\r\n    \tat com.allianz.cmis.util.ApacheHttpClientGet.main(ApacheHttpClientGet.java:65)\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    \t... 4 more\r\n    \r\nHere is my json string and my code snippet\r\n    \r\n    \r\njson string\r\n    `{&#39;ctpnsw&#39;: [{&#39;abc&#39; , &#39;def&#39; }]}`\r\n    \r\n Model\r\n    \r\n        public class Fields {\r\n        \t\r\n        \t private List&lt;String&gt; ctpnsw;\r\n        \r\n        \tpublic List&lt;String&gt; getCtpnsw() {\r\n        \t\treturn ctpnsw;\r\n        \t}\r\n        \r\n        \tpublic void setCtpnsw(List&lt;String&gt; ctpnsw) {\r\n        \t\tthis.ctpnsw = ctpnsw;\r\n        \t}\r\n        \t\r\n        }\r\n    \r\nJava code \r\n    \r\n    `ObjectMapper mapper = new ObjectMapper();\r\n    \t\t\t    List&lt;Fields&gt; list = mapper.readValue(output, TypeFactory.defaultInstance().constructCollectionType(List.class,Fields.class));\r\n    \t\t\t    System.out.println(list);`\r\n\r\n\r\n","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value","body":"<p>I am trying to convert my json string to java object and I am getting error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/annotation/JsonInclude$Value\n    at com.fasterxml.jackson.databind.cfg.MapperConfig.&lt;clinit&gt;(MapperConfig.java:45)\n    at com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:535)\n    at com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:452)\n    at com.allianz.cmis.util.ApacheHttpClientGet.main(ApacheHttpClientGet.java:65)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.annotation.JsonInclude$Value\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 4 more\n</code></pre>\n<p>Here is my json string and my code snippet</p>\n<p>json string\n<code>{'ctpnsw': [{'abc' , 'def' }]}</code></p>\n<p>Model</p>\n<pre><code>    public class Fields {\n        \n         private List&lt;String&gt; ctpnsw;\n    \n        public List&lt;String&gt; getCtpnsw() {\n            return ctpnsw;\n        }\n    \n        public void setCtpnsw(List&lt;String&gt; ctpnsw) {\n            this.ctpnsw = ctpnsw;\n        }\n        \n    }\n</code></pre>\n<p>Java code</p>\n<pre><code>`ObjectMapper mapper = new ObjectMapper();\n                List&lt;Fields&gt; list = mapper.readValue(output, TypeFactory.defaultInstance().constructCollectionType(List.class,Fields.class));\n                System.out.println(list);`\n</code></pre>\n"},{"tags":["java","datetime","formatting","java-21"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":7,"creation_date":1696375206,"post_id":77225936,"comment_id":136144096,"body_markdown":"First, I&#39;d suggest using the newer [`java.time.*` APIs](https://docs.oracle.com/javase/tutorial/datetime/index.html) over the older `Date`/`Calendar` APIs","body":"First, I&#39;d suggest using the newer <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\"><code>java.time.*</code> APIs</a> over the older <code>Date</code>/<code>Calendar</code> APIs"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696376008,"post_id":77225936,"comment_id":136144156,"body_markdown":"I get the same result. Further inspection shows it is U+202F NARROW NO-BREAK SPACE. My locale is en_US.","body":"I get the same result. Further inspection shows it is U+202F NARROW NO-BREAK SPACE. My locale is en_US."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1696376009,"post_id":77225936,"comment_id":136144157,"body_markdown":"What is your JVM&#39;s locale?","body":"What is your JVM&#39;s locale?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696376981,"post_id":77225936,"comment_id":136144243,"body_markdown":"Just tried the same thing with OpenJDK 17, got U+0020 SPACE, as expected. My JDK 21 is also OpenJDK.","body":"Just tried the same thing with OpenJDK 17, got U+0020 SPACE, as expected. My JDK 21 is also OpenJDK."},{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":6,"creation_date":1696377429,"post_id":77225936,"comment_id":136144271,"body_markdown":"Looks like a &quot;feature&quot; since Java 20, see https://bugs.openjdk.org/browse/JDK-8304925\nIt is related to Unicode CLDR update 42.","body":"Looks like a &quot;feature&quot; since Java 20, see <a href=\"https://bugs.openjdk.org/browse/JDK-8304925\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8304925</a> It is related to Unicode CLDR update 42."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1696379599,"post_id":77225936,"comment_id":136144424,"body_markdown":"Where *exactly* does that `?` character appear, what tool or app? Is this on a console from the `System.out.prinln`? If so, where is that code running, such as `Terminal.app` on a Mac, or in an IDE like IntelliJ?","body":"Where <i>exactly</i> does that <code>?</code> character appear, what tool or app? Is this on a console from the <code>System.out.prinln</code>? If so, where is that code running, such as <code>Terminal.app</code> on a Mac, or in an IDE like IntelliJ?"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1696377674,"creation_date":1696377674,"answer_id":77226045,"question_id":77225936,"body_markdown":"There was a [change made in JDK 20](https://bugs.openjdk.org/browse/JDK-8284840) to upgrade to [CLDR data version 42](https://cldr.unicode.org/index/downloads/cldr-42) from [The Unicode Common Locale Data Repository](https://cldr.unicode.org/index), which [changed to](https://unicode-org.atlassian.net/browse/CLDR-14032) a non-breaking space (nbsp), aka NARROW NO-BREAK SPACE.\r\n\r\n[Bug 8304925](https://bugs.openjdk.org/browse/JDK-8304925) has been filed but the workarounds listed amount to: get used to it, ask Unicode to revert the change (unlikely), or\r\n\r\n&gt; Use the legacy locale data by designating -Djava.locale.providers=COMPAT at the launcher command line. (This option limits some newer functionalities though.)","title":"Java 21 problem with DateFormat.getDateTimeInstance().format(new Date())","body":"<p>There was a <a href=\"https://bugs.openjdk.org/browse/JDK-8284840\" rel=\"noreferrer\">change made in JDK 20</a> to upgrade to <a href=\"https://cldr.unicode.org/index/downloads/cldr-42\" rel=\"noreferrer\">CLDR data version 42</a> from <a href=\"https://cldr.unicode.org/index\" rel=\"noreferrer\">The Unicode Common Locale Data Repository</a>, which <a href=\"https://unicode-org.atlassian.net/browse/CLDR-14032\" rel=\"noreferrer\">changed to</a> a non-breaking space (nbsp), aka NARROW NO-BREAK SPACE.</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8304925\" rel=\"noreferrer\">Bug 8304925</a> has been filed but the workarounds listed amount to: get used to it, ask Unicode to revert the change (unlikely), or</p>\n<blockquote>\n<p>Use the legacy locale data by designating -Djava.locale.providers=COMPAT at the launcher command line. (This option limits some newer functionalities though.)</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1696437215,"post_id":77226209,"comment_id":136153772,"body_markdown":"Another way I use to check the code points that make up a string is `dt.codePoints().mapToObj(Character::getName).toList()`. Handy.","body":"Another way I use to check the code points that make up a string is <code>dt.codePoints().mapToObj(Character::getName).toList()</code>. Handy."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1696437463,"post_id":77226209,"comment_id":136153841,"body_markdown":"Or `dt.codePoints().mapToObj(cp -&gt; String.format(&quot;U+%04X&quot;, cp)).toList()`","body":"Or <code>dt.codePoints().mapToObj(cp -&gt; String.format(&quot;U+%04X&quot;, cp)).toList()</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696496960,"post_id":77226209,"comment_id":136161426,"body_markdown":"…and combined: `output.codePoints().forEach(codePoint -&gt; System.out.printf( &quot;%s&#160;(U+%04X)%n&quot; , Character.getName(codePoint), codePoint));`","body":"…and combined: <code>output.codePoints().forEach(codePoint -&gt; System.out.printf( &quot;%s (U+%04X)%n&quot; , Character.getName(codePoint), codePoint));</code>"},{"owner":{"account_id":4723090,"reputation":677,"user_id":4527093,"display_name":"dbc"},"score":0,"creation_date":1701900479,"post_id":77226209,"comment_id":136833775,"body_markdown":"For folks on Windows using cmd and wondering &quot;how to fix your console&quot;, this process worked for me: Windows Settings &gt; Time &amp; Region &gt; Language &amp; Region &gt; Administrative Language Settings &gt; Change System locale... Then check &quot;Beta: Use Unicode-8 for worldwide language support&quot;. You&#39;ll also want to make sure your console&#39;s font includes the NNBSP character.","body":"For folks on Windows using cmd and wondering &quot;how to fix your console&quot;, this process worked for me: Windows Settings &gt; Time &amp; Region &gt; Language &amp; Region &gt; Administrative Language Settings &gt; Change System locale... Then check &quot;Beta: Use Unicode-8 for worldwide language support&quot;. You&#39;ll also want to make sure your console&#39;s font includes the NNBSP character."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1700601998,"creation_date":1696381777,"answer_id":77226209,"question_id":77225936,"body_markdown":"# New feature, not a bug\r\n\r\nThe [Answer by David Conrad][1] is correct. What you are seeing is a new feature, not a bug. \r\n\r\n\r\n## New version of CLDR\r\n\r\nThe [localization][2] rules defined in the [Unicode Consortium][3]’s [*Common Locale Data Repository (CLDR)*][4] are continually evolving. Modern Java relies upon the CLDR as its main source of localization rules. So new versions of the CLDR bring new behaviors in Java. \r\n\r\nThis is life in the real world. Never harden your expectation of localized values. Those localizations may change in future versions of the CLDR, Java, and human cultures.\r\n\r\nIf localization behavior is critical to some logic in your code, write unit tests to verify that behavior. \r\n\r\n## Detecting NNBSP character\r\n\r\nWe can verify Conrad’s claim that you are indeed seeing a `U+202F NARROW NO-BREAK SPACE (NNBSP)`. Let&#39;s examine each character in your output.\r\n\r\nWe can inspect each character to get its number assigned by the Unicode Consortium, its [code point][5]. Our NNBSP character has a code point of 8,239 decimal, 202F hex. \r\n\r\n```java\r\nString dt = DateFormat.getDateTimeInstance ( ).format ( new Date ( ) );\r\nSystem.out.println ( dt );\r\nString codePoints = dt.codePoints ( ).boxed ( ).toList ( ).toString ( );\r\nSystem.out.println ( &quot;codePoints = &quot; + codePoints );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nOct 3, 2023, 6:02:35 PM\r\ncodePoints = [79, 99, 116, 32, 51, 44, 32, 50, 48, 50, 51, 44, 32, 54, 58, 48, 50, 58, 51, 53, 8239, 80, 77]\r\n```\r\n\r\nSure enough, we see the `8239` of our NNBSP is third from the end, before the `P` and the `M`. \r\n\r\n\r\n\r\n\r\n## Change is good\r\n\r\nI would like to add a note about this change in the CLDR: This change is a good one, and makes sense. In logical typographical thinking, the `AM`/`PM` of a time-of-day should never be separated from the hours-minutes-seconds. Wrapping AM/PM on another line makes for clumsy reading. Using a non-breaking space rather than a plain breaking space makes sense. Being &quot;thin&quot;  is a judgement I&#39;ll leave to the typography experts, but I gather makes sense as well.\r\n\r\n## Solution: Fix your console\r\n\r\nThe immediate solution to your problem of a `?` replacement character appearing is to &#128073;&#127998;&#160;**change the character-encoding of your console app**. Whatever console app you are using (which you neglected to mention in your Question) is apparently configured for some archaic character encoding rather than a modern Unicode-savvy character encoding such as [UTF-8][6]. \r\n\r\nChange the character encoding of your console app. Than your errant `?` should appear as the true character, a thin non-breaking space.\r\n\r\n\r\n----------\r\n\r\n\r\n# Avoid legacy date-time classes \r\n\r\nYou are using terribly flawed date-time classes that were years ago supplanted by the modern *java.time* defined in JSR 310. This use of legacy date-time classes should be avoided, instead using *java.time* for date-time work. \r\n\r\nYour choice of legacy classes is not a factor in the particular issue of your Question. But just FYI, let me show you the modern version of your code.\r\n\r\nAn `Instant` object represents a moment as seen in UTC, that is, with an offset from UTC of zero hours-minutes-seconds. You can adjust that moment into a time zone, obtaining a `ZonedDateTime`. Same point on the timeline, but different wall-clock time/calendar.\r\n\r\n```java\r\nInstant instant = Instant.now ( ); // `java.util.Date` was years ago replaced by `java.time.Instant`.\r\nZoneId z = ZoneId.of ( &quot;Asia/Tokyo&quot; );  // Or, `ZoneId.systemDefault`. \r\nZonedDateTime zdt = instant.atZone ( z );\r\nLocale locale = Locale.US;  \r\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime ( FormatStyle.MEDIUM ).withLocale ( locale );\r\nString output = zdt.format ( f );\r\nSystem.out.println ( &quot;output = &quot; + output );\r\nSystem.out.println ( output.codePoints ( ).boxed ( ).toList ( ).toString ( ) );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\noutput = Oct 4, 2023, 10:21:32 AM\r\n[79, 99, 116, 32, 52, 44, 32, 50, 48, 50, 51, 44, 32, 49, 48, 58, 50, 49, 58, 51, 50, 8239, 65, 77]\r\n```\r\n\r\nWe see the same `8239` before the `A` and the `M`. \r\n\r\n\r\nWe can examine the characters by their official Unicode names.\r\n\r\n```java\r\noutput.codePoints ( ).mapToObj ( Character :: getName ).forEach ( System.out :: println );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nLATIN CAPITAL LETTER O\r\nLATIN SMALL LETTER C\r\nLATIN SMALL LETTER T\r\nSPACE\r\nDIGIT FIVE\r\nCOMMA\r\nSPACE\r\nDIGIT TWO\r\nDIGIT ZERO\r\nDIGIT TWO\r\nDIGIT THREE\r\nCOMMA\r\nSPACE\r\nDIGIT ONE\r\nDIGIT ZERO\r\nCOLON\r\nDIGIT ZERO\r\nDIGIT TWO\r\nCOLON\r\nDIGIT TWO\r\nDIGIT SIX\r\nNARROW NO-BREAK SPACE\r\nLATIN CAPITAL LETTER A\r\nLATIN CAPITAL LETTER M\r\n```\r\n\r\nNotice the `NARROW NO-BREAK SPACE`, third from last.\r\n\r\nAnd we can examine the characters by their code point in [hexadecimal][7] rather than decimal.\r\n\r\n\r\n```java\r\noutput.codePoints ( ).mapToObj ( ( int codePoint ) -&gt; String.format ( &quot;U+%04X&quot; , codePoint ) ).forEach ( System.out :: println );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nU+004F\r\nU+0063\r\nU+0074\r\nU+0020\r\nU+0035\r\nU+002C\r\nU+0020\r\nU+0032\r\nU+0030\r\nU+0032\r\nU+0033\r\nU+002C\r\nU+0020\r\nU+0031\r\nU+0030\r\nU+003A\r\nU+0030\r\nU+0035\r\nU+003A\r\nU+0031\r\nU+0037\r\nU+202F\r\nU+0041\r\nU+004D\r\n```\r\n\r\nNotice the `U+202F`, third from last. \r\n\r\n----------\r\n\r\n\r\n# For Unicode geeks\r\n\r\nThis topic turns out to be an interesting can of worms for Unicode geeks like me. \r\n\r\nSection 1 of the Unicode Consortium document, [*Proposal to synchronize the Core Specification*](https://www.unicode.org/L2/L2020/20008-core-text.pdf) explains that character `U+202F NARROW NO-BREAK SPACE (NNBSP)` has been incorrectly described as a narrow version of `U+00A0 NO-BREAK SPACE`. This means the [Width variation][8] section of the [*Non-breaking space*][9] page on Wikipedia is incorrect. That Unicode document argues that NNBSP is actually a non-breaking version of `U+2009 THIN SPACE`. \r\n\r\nAnother interesting note in that document is that the NNBSP character has largely served two purposes. I quote (my bullets):\r\n\r\n - The NNBSP can be used to represent the narrow space occurring around punctuation characters in French typography, which is called an “espace fine ins&#233;cable.” \r\n - It is used especially in Mongolian text, before certain grammatical suffixes, to provide a small gap that not only prevents word breaking and line breaking, but also triggers special shaping for those suffixes. \r\n\r\nApparently we can now add a third major use to this use: formatting in date-time formats defined by the [CLDR][4]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77226045/642706\r\n  [2]: https://en.wikipedia.org/wiki/Internationalization_and_localization\r\n  [3]: https://en.wikipedia.org/wiki/Unicode_Consortium\r\n  [4]: https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\r\n  [5]: https://en.wikipedia.org/wiki/Code_point\r\n  [6]: https://en.wikipedia.org/wiki/UTF-8\r\n  [7]: https://en.wikipedia.org/wiki/Hexadecimal\r\n  [8]: https://en.wikipedia.org/wiki/Non-breaking_space#Width_variation\r\n  [9]: https://en.wikipedia.org/wiki/Non-breaking_space","title":"Java 21 problem with DateFormat.getDateTimeInstance().format(new Date())","body":"<h1>New feature, not a bug</h1>\n<p>The <a href=\"https://stackoverflow.com/a/77226045/642706\">Answer by David Conrad</a> is correct. What you are seeing is a new feature, not a bug.</p>\n<h2>New version of CLDR</h2>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Internationalization_and_localization\" rel=\"nofollow noreferrer\">localization</a> rules defined in the <a href=\"https://en.wikipedia.org/wiki/Unicode_Consortium\" rel=\"nofollow noreferrer\">Unicode Consortium</a>’s <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"nofollow noreferrer\"><em>Common Locale Data Repository (CLDR)</em></a> are continually evolving. Modern Java relies upon the CLDR as its main source of localization rules. So new versions of the CLDR bring new behaviors in Java.</p>\n<p>This is life in the real world. Never harden your expectation of localized values. Those localizations may change in future versions of the CLDR, Java, and human cultures.</p>\n<p>If localization behavior is critical to some logic in your code, write unit tests to verify that behavior.</p>\n<h2>Detecting NNBSP character</h2>\n<p>We can verify Conrad’s claim that you are indeed seeing a <code>U+202F NARROW NO-BREAK SPACE (NNBSP)</code>. Let's examine each character in your output.</p>\n<p>We can inspect each character to get its number assigned by the Unicode Consortium, its <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a>. Our NNBSP character has a code point of 8,239 decimal, 202F hex.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dt = DateFormat.getDateTimeInstance ( ).format ( new Date ( ) );\nSystem.out.println ( dt );\nString codePoints = dt.codePoints ( ).boxed ( ).toList ( ).toString ( );\nSystem.out.println ( &quot;codePoints = &quot; + codePoints );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Oct 3, 2023, 6:02:35 PM\ncodePoints = [79, 99, 116, 32, 51, 44, 32, 50, 48, 50, 51, 44, 32, 54, 58, 48, 50, 58, 51, 53, 8239, 80, 77]\n</code></pre>\n<p>Sure enough, we see the <code>8239</code> of our NNBSP is third from the end, before the <code>P</code> and the <code>M</code>.</p>\n<h2>Change is good</h2>\n<p>I would like to add a note about this change in the CLDR: This change is a good one, and makes sense. In logical typographical thinking, the <code>AM</code>/<code>PM</code> of a time-of-day should never be separated from the hours-minutes-seconds. Wrapping AM/PM on another line makes for clumsy reading. Using a non-breaking space rather than a plain breaking space makes sense. Being &quot;thin&quot;  is a judgement I'll leave to the typography experts, but I gather makes sense as well.</p>\n<h2>Solution: Fix your console</h2>\n<p>The immediate solution to your problem of a <code>?</code> replacement character appearing is to 👉🏾 <strong>change the character-encoding of your console app</strong>. Whatever console app you are using (which you neglected to mention in your Question) is apparently configured for some archaic character encoding rather than a modern Unicode-savvy character encoding such as <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a>.</p>\n<p>Change the character encoding of your console app. Than your errant <code>?</code> should appear as the true character, a thin non-breaking space.</p>\n<hr />\n<h1>Avoid legacy date-time classes</h1>\n<p>You are using terribly flawed date-time classes that were years ago supplanted by the modern <em>java.time</em> defined in JSR 310. This use of legacy date-time classes should be avoided, instead using <em>java.time</em> for date-time work.</p>\n<p>Your choice of legacy classes is not a factor in the particular issue of your Question. But just FYI, let me show you the modern version of your code.</p>\n<p>An <code>Instant</code> object represents a moment as seen in UTC, that is, with an offset from UTC of zero hours-minutes-seconds. You can adjust that moment into a time zone, obtaining a <code>ZonedDateTime</code>. Same point on the timeline, but different wall-clock time/calendar.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant instant = Instant.now ( ); // `java.util.Date` was years ago replaced by `java.time.Instant`.\nZoneId z = ZoneId.of ( &quot;Asia/Tokyo&quot; );  // Or, `ZoneId.systemDefault`. \nZonedDateTime zdt = instant.atZone ( z );\nLocale locale = Locale.US;  \nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime ( FormatStyle.MEDIUM ).withLocale ( locale );\nString output = zdt.format ( f );\nSystem.out.println ( &quot;output = &quot; + output );\nSystem.out.println ( output.codePoints ( ).boxed ( ).toList ( ).toString ( ) );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>output = Oct 4, 2023, 10:21:32 AM\n[79, 99, 116, 32, 52, 44, 32, 50, 48, 50, 51, 44, 32, 49, 48, 58, 50, 49, 58, 51, 50, 8239, 65, 77]\n</code></pre>\n<p>We see the same <code>8239</code> before the <code>A</code> and the <code>M</code>.</p>\n<p>We can examine the characters by their official Unicode names.</p>\n<pre class=\"lang-java prettyprint-override\"><code>output.codePoints ( ).mapToObj ( Character :: getName ).forEach ( System.out :: println );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>LATIN CAPITAL LETTER O\nLATIN SMALL LETTER C\nLATIN SMALL LETTER T\nSPACE\nDIGIT FIVE\nCOMMA\nSPACE\nDIGIT TWO\nDIGIT ZERO\nDIGIT TWO\nDIGIT THREE\nCOMMA\nSPACE\nDIGIT ONE\nDIGIT ZERO\nCOLON\nDIGIT ZERO\nDIGIT TWO\nCOLON\nDIGIT TWO\nDIGIT SIX\nNARROW NO-BREAK SPACE\nLATIN CAPITAL LETTER A\nLATIN CAPITAL LETTER M\n</code></pre>\n<p>Notice the <code>NARROW NO-BREAK SPACE</code>, third from last.</p>\n<p>And we can examine the characters by their code point in <a href=\"https://en.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">hexadecimal</a> rather than decimal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>output.codePoints ( ).mapToObj ( ( int codePoint ) -&gt; String.format ( &quot;U+%04X&quot; , codePoint ) ).forEach ( System.out :: println );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>U+004F\nU+0063\nU+0074\nU+0020\nU+0035\nU+002C\nU+0020\nU+0032\nU+0030\nU+0032\nU+0033\nU+002C\nU+0020\nU+0031\nU+0030\nU+003A\nU+0030\nU+0035\nU+003A\nU+0031\nU+0037\nU+202F\nU+0041\nU+004D\n</code></pre>\n<p>Notice the <code>U+202F</code>, third from last.</p>\n<hr />\n<h1>For Unicode geeks</h1>\n<p>This topic turns out to be an interesting can of worms for Unicode geeks like me.</p>\n<p>Section 1 of the Unicode Consortium document, <a href=\"https://www.unicode.org/L2/L2020/20008-core-text.pdf\" rel=\"nofollow noreferrer\"><em>Proposal to synchronize the Core Specification</em></a> explains that character <code>U+202F NARROW NO-BREAK SPACE (NNBSP)</code> has been incorrectly described as a narrow version of <code>U+00A0 NO-BREAK SPACE</code>. This means the <a href=\"https://en.wikipedia.org/wiki/Non-breaking_space#Width_variation\" rel=\"nofollow noreferrer\">Width variation</a> section of the <a href=\"https://en.wikipedia.org/wiki/Non-breaking_space\" rel=\"nofollow noreferrer\"><em>Non-breaking space</em></a> page on Wikipedia is incorrect. That Unicode document argues that NNBSP is actually a non-breaking version of <code>U+2009 THIN SPACE</code>.</p>\n<p>Another interesting note in that document is that the NNBSP character has largely served two purposes. I quote (my bullets):</p>\n<ul>\n<li>The NNBSP can be used to represent the narrow space occurring around punctuation characters in French typography, which is called an “espace fine insécable.”</li>\n<li>It is used especially in Mongolian text, before certain grammatical suffixes, to provide a small gap that not only prevents word breaking and line breaking, but also triggers special shaping for those suffixes.</li>\n</ul>\n<p>Apparently we can now add a third major use to this use: formatting in date-time formats defined by the <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"nofollow noreferrer\">CLDR</a>.</p>\n"}],"owner":{"account_id":12082024,"reputation":101,"user_id":8833394,"display_name":"Spencer Shellman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1700601998,"creation_date":1696374866,"question_id":77225936,"body_markdown":"This is my code\r\n\r\n    import java.util.Date;\r\n    import java.text.DateFormat;\r\n\r\n    class DateTime {\r\n    \tpublic static void main(String[] args) {\r\n\t    \tString dt = DateFormat.getDateTimeInstance().format(new Date());\r\n\t\t    System.out.println(dt);\r\n\t    }\r\n    }\r\n\r\nWhen compiled and executed with Java 21, the call to &#39;format()&#39; returns a `UTF-16` string containing invalid bytes, represented by a question mark:\r\n\r\n**Oct 3, 2023, 7:01:17?PM**\r\n\r\nHas anyone else seen this problem? Thanks.","title":"Java 21 problem with DateFormat.getDateTimeInstance().format(new Date())","body":"<p>This is my code</p>\n<pre><code>import java.util.Date;\nimport java.text.DateFormat;\n\nclass DateTime {\n    public static void main(String[] args) {\n        String dt = DateFormat.getDateTimeInstance().format(new Date());\n        System.out.println(dt);\n    }\n}\n</code></pre>\n<p>When compiled and executed with Java 21, the call to 'format()' returns a <code>UTF-16</code> string containing invalid bytes, represented by a question mark:</p>\n<p><strong>Oct 3, 2023, 7:01:17?PM</strong></p>\n<p>Has anyone else seen this problem? Thanks.</p>\n"},{"tags":["java","intellij-idea","intellij-13"],"comments":[{"owner":{"account_id":1876308,"reputation":42006,"user_id":1697459,"accept_rate":88,"display_name":"Wilt"},"score":2,"creation_date":1700570957,"post_id":77522916,"comment_id":136668729,"body_markdown":"Not sure if that is possible. You could though open the same file in a second window on the right and then you can type on one side and read on the other side... You can do this by right clicking on the file name at the top of your window and click `Split Right`.","body":"Not sure if that is possible. You could though open the same file in a second window on the right and then you can type on one side and read on the other side... You can do this by right clicking on the file name at the top of your window and click <code>Split Right</code>."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1700574698,"post_id":77522916,"comment_id":136669491,"body_markdown":"Split the window so where you&#39;re coding stays in view, and the other window can scroll independently.  [This](https://stackoverflow.com/questions/1846565/how-to-create-two-editor-panes-for-the-same-file) should help.","body":"Split the window so where you&#39;re coding stays in view, and the other window can scroll independently.  <a href=\"https://stackoverflow.com/questions/1846565/how-to-create-two-editor-panes-for-the-same-file\">This</a> should help."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1700600621,"post_id":77522916,"comment_id":136674181,"body_markdown":"I have removed the `[encoding]` tag since it is not relevant to your question, but I think the previous two comments have provided a reasonable solution for your concern.","body":"I have removed the <code>[encoding]</code> tag since it is not relevant to your question, but I think the previous two comments have provided a reasonable solution for your concern."}],"owner":{"account_id":29957412,"reputation":1,"user_id":22958000,"display_name":"Elmon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700600644,"creation_date":1700570632,"question_id":77522916,"body_markdown":"im having a problem with the interface of Intellij . \r\nYou see , when im coding sometimes i need to check another part of the code while typing . Currently , everytime i type , intellij automatically drags the screen to where im typing which forces me to scroll up again which is very very annoying .\r\n I would like to know if there is a way to disable this ? \r\nThank you\r\n\r\n\r\ni tried a few things with the caret setting but it didn&#39;t work . ","title":"How to stop Intellij IDEA from automatically jumping to where im typing?","body":"<p>im having a problem with the interface of Intellij .\nYou see , when im coding sometimes i need to check another part of the code while typing . Currently , everytime i type , intellij automatically drags the screen to where im typing which forces me to scroll up again which is very very annoying .\nI would like to know if there is a way to disable this ?\nThank you</p>\n<p>i tried a few things with the caret setting but it didn't work .</p>\n"},{"tags":["java","macos","coredump"],"owner":{"account_id":5567672,"reputation":521,"user_id":4414277,"accept_rate":42,"display_name":"Febry Fairuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1700600243,"creation_date":1483712277,"question_id":41507645,"body_markdown":"Honestly, I&#39;m new to using Mac OS X El Capitan, I tried to create some Java programs and run them using Eclipse Neon. But I got this error :\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x00007fff9c23616f, pid=810, tid=0x0000000000000a0b\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_111-b14) (build 1.8.0_111-b14)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.111-b14 mixed mode bsd-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  [libobjc.A.dylib+0x916f]  objc_release+0x1f\r\n    #\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /Users/febryfairuz/Documents/workspace/FaceDetection/hs_err_pid810.log\r\n    pause dipencet\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n\r\nBut when I tried running it in Windows, the program was fine.\r\nI tried to follow this instruction :\r\n\r\n 1. https://stackoverflow.com/questions/2919378/how-to-enable-core-dump-in-my-linux-c-program\r\n 2. https://stackoverflow.com/questions/28982396/failed-to-write-core-dump-core-dumps-have-been-disabled\r\n\r\nI tried typing `ulimit -c unlimited` in the terminal but the program still got the same error. Could anyone help me how to fix this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/WGvtO.png","title":"How to enable core dump in my Java on Mac OS X?","body":"<p>Honestly, I'm new to using Mac OS X El Capitan, I tried to create some Java programs and run them using Eclipse Neon. But I got this error :</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007fff9c23616f, pid=810, tid=0x0000000000000a0b\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_111-b14) (build 1.8.0_111-b14)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.111-b14 mixed mode bsd-amd64 compressed oops)\n# Problematic frame:\n# C  [libobjc.A.dylib+0x916f]  objc_release+0x1f\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# /Users/febryfairuz/Documents/workspace/FaceDetection/hs_err_pid810.log\npause dipencet\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n<p>But when I tried running it in Windows, the program was fine.\nI tried to follow this instruction :</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/2919378/how-to-enable-core-dump-in-my-linux-c-program\">How to enable core dump in my Linux C++ program</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28982396/failed-to-write-core-dump-core-dumps-have-been-disabled\">Failed to write core dump. Core dumps have been disabled</a></li>\n</ol>\n<p>I tried typing <code>ulimit -c unlimited</code> in the terminal but the program still got the same error. Could anyone help me how to fix this?</p>\n<p><a href=\"https://i.stack.imgur.com/WGvtO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WGvtO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","junit5"],"answers":[{"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1700594798,"post_id":77525190,"comment_id":136673311,"body_markdown":"`junit-jupiter` is an &quot;aggregator&quot; jar. You don&#39;t need to also have the `junit-jupiter-engine` jar.","body":"<code>junit-jupiter</code> is an &quot;aggregator&quot; jar. You don&#39;t need to also have the <code>junit-jupiter-engine</code> jar."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":1,"creation_date":1700600172,"post_id":77525190,"comment_id":136674108,"body_markdown":"@Mureinik Thanks, I&#39;ll correct my answer then","body":"@Mureinik Thanks, I&#39;ll correct my answer then"}],"tags":[],"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700600230,"creation_date":1700591739,"answer_id":77525190,"question_id":77524059,"body_markdown":"So I tried your code locally, the error came from the line\r\n\r\n    @MethodSource(&quot;intsTest&quot;)\r\nIn fact, by testing your method in the following way everything works:\r\n\r\n    @ParameterizedTest\r\n\t@ValueSource(ints = {1, 2, 3, 4, 5})\r\n\tpublic void multiplesOf5(Integer input){\r\n\t\tint i = 0;\r\n\t}\r\nNow I solved the problem by fixing the dependencies in my pom.xml leaving only this one for JUnit:\r\n\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI don&#39;t want to say inaccuracies but I hypothesize that having too many Junit dependencies perhaps leads to some conflict problems between them.","title":"junit spring boot parametrised test not working","body":"<p>So I tried your code locally, the error came from the line</p>\n<pre><code>@MethodSource(&quot;intsTest&quot;)\n</code></pre>\n<p>In fact, by testing your method in the following way everything works:</p>\n<pre><code>@ParameterizedTest\n@ValueSource(ints = {1, 2, 3, 4, 5})\npublic void multiplesOf5(Integer input){\n    int i = 0;\n}\n</code></pre>\n<p>Now I solved the problem by fixing the dependencies in my pom.xml leaving only this one for JUnit:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I don't want to say inaccuracies but I hypothesize that having too many Junit dependencies perhaps leads to some conflict problems between them.</p>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700600230,"creation_date":1700580888,"question_id":77524059,"body_markdown":"I have a basic test set up with paramters\r\n\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;intsTest&quot;)\r\n    public void multiplesOf5(Integer input){\r\n        int i =0;\r\n    }\r\n    \r\n    private static Stream&lt;Arguments&gt; intsTest(){\r\n        Stream&lt;Arguments&gt; argumentsStream = Stream.of(\r\n                Arguments.of(1));\r\n    \r\n        return argumentsStream;\r\n    }\r\n\r\n\r\nBut i cant seem to run it, i keep getting the following:\r\n\r\n    java.lang.AbstractMethodError: Receiver class org.junit.jupiter.engine.descriptor.TestTemplateExtensionContext does not define or inherit an implementation of the resolved method &#39;abstract org.junit.jupiter.api.extension.ExecutableInvoker getExecutableInvoker()&#39; of interface org.junit.jupiter.api.extension.ExtensionContext.\r\n    \tat org.junit.jupiter.params.provider.MethodArgumentsProvider.lambda$provideArguments$2(MethodArgumentsProvider.java:60)\r\n    \t)\r\n\r\nmy gradle has \r\n\r\n\ttestImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:5.8.2&quot;)","title":"junit spring boot parametrised test not working","body":"<p>I have a basic test set up with paramters</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;intsTest&quot;)\npublic void multiplesOf5(Integer input){\n    int i =0;\n}\n\nprivate static Stream&lt;Arguments&gt; intsTest(){\n    Stream&lt;Arguments&gt; argumentsStream = Stream.of(\n            Arguments.of(1));\n\n    return argumentsStream;\n}\n</code></pre>\n<p>But i cant seem to run it, i keep getting the following:</p>\n<pre><code>java.lang.AbstractMethodError: Receiver class org.junit.jupiter.engine.descriptor.TestTemplateExtensionContext does not define or inherit an implementation of the resolved method 'abstract org.junit.jupiter.api.extension.ExecutableInvoker getExecutableInvoker()' of interface org.junit.jupiter.api.extension.ExtensionContext.\n    at org.junit.jupiter.params.provider.MethodArgumentsProvider.lambda$provideArguments$2(MethodArgumentsProvider.java:60)\n    )\n</code></pre>\n<p>my gradle has</p>\n<pre><code>testImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:5.8.2&quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582917937,"creation_date":1582917937,"answer_id":60458081,"question_id":60447540,"body_markdown":"Not sure I fully understand your scenario but the open source [Connect2id / Nimbus](https://connect2id.com/products/nimbus-oauth-openid-connect-sdk/guides/java-cookbook-for-openid-connect-public-clients) libraries are respected, with excellent documentation.","title":"Java OAuthClient other than Apache Oltu","body":"<p>Not sure I fully understand your scenario but the open source <a href=\"https://connect2id.com/products/nimbus-oauth-openid-connect-sdk/guides/java-cookbook-for-openid-connect-public-clients\" rel=\"nofollow noreferrer\">Connect2id / Nimbus</a> libraries are respected, with excellent documentation.</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700600089,"creation_date":1700555084,"answer_id":77521297,"question_id":60447540,"body_markdown":"Two possibilities come to mind:\r\n\r\n(1) SpringBoot natively supports OAuth: \r\n\r\nhttps://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#web.security.oauth2\r\n\r\nSome examples you can find [here][1].\r\n\r\n&gt; All samples are implemented using the native OAuth 2.0 support in Spring Boot.\r\n\r\n(2) [scribejava][2] a simple OAuth client Java lib\r\n\r\n\r\n  [1]: https://spring.io/guides/tutorials/spring-boot-oauth2/\r\n  [2]: https://github.com/scribejava/scribejava","title":"Java OAuthClient other than Apache Oltu","body":"<p>Two possibilities come to mind:</p>\n<p>(1) SpringBoot natively supports OAuth:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#web.security.oauth2\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#web.security.oauth2</a></p>\n<p>Some examples you can find <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>All samples are implemented using the native OAuth 2.0 support in Spring Boot.</p>\n</blockquote>\n<p>(2) <a href=\"https://github.com/scribejava/scribejava\" rel=\"nofollow noreferrer\">scribejava</a> a simple OAuth client Java lib</p>\n"}],"owner":{"account_id":13794484,"reputation":49,"user_id":9956008,"display_name":"amerr-k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700600089,"creation_date":1582877032,"question_id":60447540,"body_markdown":"I&#39;m working on Spring Boot based application. I got already implemented OAuth Client via Apache Oltu which sends custom ``` OAuthClientRequest ``` and gets response as ``` OAuthAccessTokenResponse ```. I was looking for that kind of library as it was in Apache Oltu but I get overwhelmed by number of Spring libraries and I don&#39;t really know what kind of Spring or Java library is made for that kind of work.","title":"Java OAuthClient other than Apache Oltu","body":"<p>I'm working on Spring Boot based application. I got already implemented OAuth Client via Apache Oltu which sends custom <code>OAuthClientRequest</code> and gets response as <code>OAuthAccessTokenResponse</code>. I was looking for that kind of library as it was in Apache Oltu but I get overwhelmed by number of Spring libraries and I don't really know what kind of Spring or Java library is made for that kind of work.</p>\n"},{"tags":["java","executorservice","google-my-business-api","exponential-backoff","google-business-profile-api"],"answers":[{"comments":[{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1700583104,"post_id":77524050,"comment_id":136671167,"body_markdown":"thanks for you always heloing notes, my problem is not only 429 error, most of the time happens also 503, i do not think RateLimiter takes care of repeating the request in that situation, does it?","body":"thanks for you always heloing notes, my problem is not only 429 error, most of the time happens also 503, i do not think RateLimiter takes care of repeating the request in that situation, does it?"}],"tags":[],"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700600085,"creation_date":1700580830,"answer_id":77524050,"question_id":77523993,"body_markdown":"There are RateLimiter implementations that exist already (https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html).\r\nAs for the retry/backoff logic, it might depend on your framework if you can reuse existing implementations (e.g. https://www.baeldung.com/spring-retry).","title":"How to resolve the error code 503 and 429 while reading all locations of all accounts using Google My Business Information API in Java","body":"<p>There are RateLimiter implementations that exist already (<a href=\"https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html\" rel=\"nofollow noreferrer\">https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html</a>).\nAs for the retry/backoff logic, it might depend on your framework if you can reuse existing implementations (e.g. <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-retry</a>).</p>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77524050,"answer_count":1,"score":0,"last_activity_date":1700600085,"creation_date":1700580328,"question_id":77523993,"body_markdown":"I am going to retrieve all the locations of all accounts using `Google My Business Business Information API`, documented [Google Business Profile APIs][1]. \r\nI try to write the simplified version of my code below: \r\nSuppose `mybusinessaccountLocations` variable is the return type of following function and takes care of authentication and initialising the API. \r\n\r\n&gt;   MyBusinessBusinessInformation  mybusinessaccountLocations =\r\n&gt; initializeMyBusiness(Host);\r\n\r\nI have defined a class named accountRecord and locationRecord for managing the related tables in my DB. \r\n\r\n    ExecutorService ex = Executors.newFixedThreadPool(10);\r\n\r\n\t\tfor (accountRecord rec : accountsList) {\r\n\t\t\tList&lt;locationRecord&gt; LocationsList = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n\r\n\t\t\tex.execute(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tString readMask = &quot;storeCode,regularHours,name,languageCode,title,phoneNumbers,categories,storefrontAddress,websiteUri,regularHours,specialHours,serviceArea,labels,adWordsLocationExtensions,latlng,openInfo,metadata,profile,relationshipData,moreHours&quot;;\r\n\r\n\t\t\t\t\tList&lt;Location&gt; locations = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n\t\t\t\r\n\t\t\t\t\tString accountName = rec.getName();\r\n\r\n\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\tMyBusinessBusinessInformation.Accounts.Locations.List locationsList = mybusinessaccountLocations\r\n\t\t\t\t\t\t\t\t.accounts().locations().list(accountName).setReadMask(readMask);\r\n\t\t\t\t\t\tListLocationsResponse Response = locationsList.execute();\r\n\t\t\t\t\t\tlocations = Response.getLocations();\r\n\t\t\t\t\t\tSystem.out.println(&quot;Response Size =&quot;+ Response.size());\r\n\t\t\t\t\t\twhile (Response.getNextPageToken() != null &amp;&amp; Response != null &amp;&amp; !Response.isEmpty()) {\r\n\t\t\t\t\t\t\tlocationsList.setPageToken(Response.getNextPageToken());\r\n\t\t\t\t\t\t\tResponse = locationsList.execute();\r\n\t\t\t\t\t\t\tif (Response != null &amp;&amp; Response.getLocations() != null) {\r\n\t\t\t\t\t\t\t\tlocations.addAll(Response.getLocations());\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t}  \r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}  \r\n\t\t\t\t\tcatch (Throwable t) {\r\n\t\t\t\t\t\tthrow new RuntimeException(&quot;\\n\\n Throwable occurred: &quot; + t.getMessage(), t);\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\r\n\t\t\t\t\tif (locations != null &amp;&amp; !locations.isEmpty()) {\r\n\t                  // processing the locations and saving in DB\r\n                        .\r\n                        .\r\n                        .\r\n\r\n                    }\r\n    \r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t\t}\r\n\r\n\t\tex.shutdown();\r\n\r\n\t\twhile (!ex.isTerminated()) {\r\n\t\t}\r\n\r\n\r\nSince, I am using `ExecutorService` , sometimes it exceeds the time_limit defined by google (**Quota**), or there are server_side errors such as \r\n\r\n \r\n\r\n     {\r\n      &quot;code&quot; : 503,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;The service is currently unavailable.&quot;,\r\n        &quot;reason&quot; : &quot;backendError&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;The service is currently unavailable.&quot;,\r\n      &quot;status&quot; : &quot;UNAVAILABLE&quot;\r\n    }\r\nI need the code wait some milliseconds up until there is no more such errors and retry the exact request without skipping any pagination or account. \r\nI tried to use `AtomicInteger`  \r\nand \r\n\r\n    synchronized(i) {\r\n\t\t\t\t\t\t\t \r\n\t\t\tif( i.getAndIncrement() &gt;= 50 ) {\r\n\r\n\t\t\t\tThread.sleep(20000);\r\n\t\t\t\ti.set(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\nHowever, this is not a very efficient method, I have heard **Exponential Backoff** would be more efficient, but I do not know how to implement. I would appreciate any help.\r\n\r\n\r\n  [1]: https://developers.google.com/my-business/reference/businessinformation/rest/v1/accounts.locations/list","title":"How to resolve the error code 503 and 429 while reading all locations of all accounts using Google My Business Information API in Java","body":"<p>I am going to retrieve all the locations of all accounts using <code>Google My Business Business Information API</code>, documented <a href=\"https://developers.google.com/my-business/reference/businessinformation/rest/v1/accounts.locations/list\" rel=\"nofollow noreferrer\">Google Business Profile APIs</a>.\nI try to write the simplified version of my code below:\nSuppose <code>mybusinessaccountLocations</code> variable is the return type of following function and takes care of authentication and initialising the API.</p>\n<blockquote>\n<p>MyBusinessBusinessInformation  mybusinessaccountLocations =\ninitializeMyBusiness(Host);</p>\n</blockquote>\n<p>I have defined a class named accountRecord and locationRecord for managing the related tables in my DB.</p>\n<pre><code>ExecutorService ex = Executors.newFixedThreadPool(10);\n\n    for (accountRecord rec : accountsList) {\n        List&lt;locationRecord&gt; LocationsList = Collections.synchronizedList(new ArrayList&lt;&gt;());\n\n        ex.execute(new Runnable() {\n            @Override\n            public void run() {\n                String readMask = &quot;storeCode,regularHours,name,languageCode,title,phoneNumbers,categories,storefrontAddress,websiteUri,regularHours,specialHours,serviceArea,labels,adWordsLocationExtensions,latlng,openInfo,metadata,profile,relationshipData,moreHours&quot;;\n\n                List&lt;Location&gt; locations = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        \n                String accountName = rec.getName();\n\n\n                try {\n\n                    MyBusinessBusinessInformation.Accounts.Locations.List locationsList = mybusinessaccountLocations\n                            .accounts().locations().list(accountName).setReadMask(readMask);\n                    ListLocationsResponse Response = locationsList.execute();\n                    locations = Response.getLocations();\n                    System.out.println(&quot;Response Size =&quot;+ Response.size());\n                    while (Response.getNextPageToken() != null &amp;&amp; Response != null &amp;&amp; !Response.isEmpty()) {\n                        locationsList.setPageToken(Response.getNextPageToken());\n                        Response = locationsList.execute();\n                        if (Response != null &amp;&amp; Response.getLocations() != null) {\n                            locations.addAll(Response.getLocations());\n                         \n                        }  \n                    }\n\n                }  \n                catch (Throwable t) {\n                    throw new RuntimeException(&quot;\\n\\n Throwable occurred: &quot; + t.getMessage(), t);\n                }\n\n\n            \n                if (locations != null &amp;&amp; !locations.isEmpty()) {\n                  // processing the locations and saving in DB\n                    .\n                    .\n                    .\n\n                }\n\n            }\n        });\n\n\n    }\n\n    ex.shutdown();\n\n    while (!ex.isTerminated()) {\n    }\n</code></pre>\n<p>Since, I am using <code>ExecutorService</code> , sometimes it exceeds the time_limit defined by google (<strong>Quota</strong>), or there are server_side errors such as</p>\n<pre><code> {\n  &quot;code&quot; : 503,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;message&quot; : &quot;The service is currently unavailable.&quot;,\n    &quot;reason&quot; : &quot;backendError&quot;\n  } ],\n  &quot;message&quot; : &quot;The service is currently unavailable.&quot;,\n  &quot;status&quot; : &quot;UNAVAILABLE&quot;\n}\n</code></pre>\n<p>I need the code wait some milliseconds up until there is no more such errors and retry the exact request without skipping any pagination or account.\nI tried to use <code>AtomicInteger</code><br />\nand</p>\n<pre><code>synchronized(i) {\n                         \n        if( i.getAndIncrement() &gt;= 50 ) {\n\n            Thread.sleep(20000);\n            i.set(0);\n            }\n        }\n</code></pre>\n<p>However, this is not a very efficient method, I have heard <strong>Exponential Backoff</strong> would be more efficient, but I do not know how to implement. I would appreciate any help.</p>\n"},{"tags":["java","android"],"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700599855,"creation_date":1700597523,"question_id":77525691,"body_markdown":"If one sets up an unhandled exception handler using `Thread.setDefaultUncaughtExceptionHandler` in a Java Android app, can one capture the local state of the throwing function in the handler? Ideally, local state of the intermediate functions that lead up to the point of throw would be nice also.\r\n\r\nIf not, is there by any chance a native (JNI or similar) hook to that effect?\r\n\r\nSurely I&#39;m not the only one who is looking for actionable intelligence from uncaught runtime crashes.\r\n\r\nPutting a try/catch midstack may not be an option, &#39;cause sometimes exceptions that can be (potentially) tracked back to app bugs happen in all system code stacks.","title":"Getting the throwing function&#39;s locals in the unhandled exception handler","body":"<p>If one sets up an unhandled exception handler using <code>Thread.setDefaultUncaughtExceptionHandler</code> in a Java Android app, can one capture the local state of the throwing function in the handler? Ideally, local state of the intermediate functions that lead up to the point of throw would be nice also.</p>\n<p>If not, is there by any chance a native (JNI or similar) hook to that effect?</p>\n<p>Surely I'm not the only one who is looking for actionable intelligence from uncaught runtime crashes.</p>\n<p>Putting a try/catch midstack may not be an option, 'cause sometimes exceptions that can be (potentially) tracked back to app bugs happen in all system code stacks.</p>\n"},{"tags":["java","parsing"],"answers":[{"tags":[],"owner":{"account_id":784,"reputation":6613,"user_id":1448983,"accept_rate":100,"display_name":"Steen"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1251225773,"creation_date":1251225773,"answer_id":1330193,"question_id":1330103,"body_markdown":"Personally, I would opt for [regular expressions][1]. Here&#39;s a good [intro][2]. They&#39;re fast, concise and _always_ do what you want.\r\n\r\nIf you want to stay within the boundaries of the java sdk, use [String tokenizers][3].\r\n\r\nA bit more low-level is [JavaCC][4], a java based parser generator. Here&#39;s a [link to a tutorial][5].\r\n\r\nAn alternative to javaCC is [ANTLR][6], which I&#39;ve personally had good experiences with.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/package-summary.html\r\n  [2]: http://www.regular-expressions.info/java.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html\r\n  [4]: https://javacc.dev.java.net/\r\n  [5]: http://www.engr.mun.ca/~theo/JavaCC-Tutorial/\r\n  [6]: http://www.antlr.org","title":"Java name parse library?","body":"<p>Personally, I would opt for <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/package-summary.html\" rel=\"nofollow noreferrer\">regular expressions</a>. Here's a good <a href=\"http://www.regular-expressions.info/java.html\" rel=\"nofollow noreferrer\">intro</a>. They're fast, concise and <em>always</em> do what you want.</p>\n\n<p>If you want to stay within the boundaries of the java sdk, use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">String tokenizers</a>.</p>\n\n<p>A bit more low-level is <a href=\"https://javacc.dev.java.net/\" rel=\"nofollow noreferrer\">JavaCC</a>, a java based parser generator. Here's a <a href=\"http://www.engr.mun.ca/~theo/JavaCC-Tutorial/\" rel=\"nofollow noreferrer\">link to a tutorial</a>.</p>\n\n<p>An alternative to javaCC is <a href=\"http://www.antlr.org\" rel=\"nofollow noreferrer\">ANTLR</a>, which I've personally had good experiences with.</p>\n"},{"comments":[{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":1,"creation_date":1400637251,"post_id":1330204,"comment_id":36557664,"body_markdown":"+1 Can you show me an example of how to parse names using GATE","body":"+1 Can you show me an example of how to parse names using GATE"}],"tags":[],"owner":{"account_id":7307,"reputation":7664,"user_id":12649,"accept_rate":82,"display_name":"Anand"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1251225937,"creation_date":1251225937,"answer_id":1330204,"question_id":1330103,"body_markdown":"Maybe you could try the [GATE](http://gate.ac.uk) named entity extraction component? It has build in [jape][1] grammar and gazetteer lists to extract first names, last names etc. among other things. See [this](http://gate.ac.uk/sale/tao/splitap4.html#x23-492000D) page.\r\n\r\n\r\n  [1]: http://gate.ac.uk/sale/tao/splitch3.html#x5-950003.28","title":"Java name parse library?","body":"<p>Maybe you could try the <a href=\"http://gate.ac.uk\" rel=\"noreferrer\">GATE</a> named entity extraction component? It has build in <a href=\"http://gate.ac.uk/sale/tao/splitch3.html#x5-950003.28\" rel=\"noreferrer\">jape</a> grammar and gazetteer lists to extract first names, last names etc. among other things. See <a href=\"http://gate.ac.uk/sale/tao/splitap4.html#x23-492000D\" rel=\"noreferrer\">this</a> page.</p>\n"},{"tags":[],"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395138443,"creation_date":1395138443,"answer_id":22476544,"question_id":1330103,"body_markdown":"This simple code can help :\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class NamesConverter {\r\n    \r\n        private List&lt;String&gt; titlesBefore = new ArrayList&lt;&gt;();\r\n        private List&lt;String&gt; titlesAfter = new ArrayList&lt;&gt;();\r\n        private String firstName = &quot;&quot;;\r\n        private String lastName = &quot;&quot;;\r\n        private List&lt;String&gt; middleNames = new ArrayList&lt;&gt;();\r\n    \r\n        public NamesConverter(String name) {\r\n            String[] words = name.split(&quot; &quot;);\r\n            boolean isTitleAfter = false;\r\n            boolean isFirstName = false;\r\n    \r\n            int length = words.length;\r\n            for (String word : words) {\r\n                if (word.charAt(word.length() - 1) == &#39;.&#39;) {\r\n                    if (isTitleAfter) {\r\n                        titlesAfter.add(word);\r\n                    } else {\r\n                        titlesBefore.add(word);\r\n                    }\r\n                } else {\r\n                    isTitleAfter = true;\r\n                    if (isFirstName == false) {\r\n                        firstName = word;\r\n                        isFirstName = true;\r\n                    } else {\r\n                        middleNames.add(word);\r\n                    }\r\n                }\r\n            }\r\n            if (middleNames.size() &gt; 0) {\r\n                lastName = middleNames.get(middleNames.size() - 1);\r\n                middleNames.remove(lastName);\r\n            }\r\n        }\r\n    \r\n        public List&lt;String&gt; getTitlesBefore() {\r\n            return titlesBefore;\r\n        }\r\n    \r\n        public List&lt;String&gt; getTitlesAfter() {\r\n            return titlesAfter;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public List&lt;String&gt; getMiddleNames() {\r\n            return middleNames;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            String text = &quot;Titles before :&quot; + titlesBefore.toString() + &quot;\\n&quot;\r\n                    + &quot;First name :&quot; + firstName + &quot;\\n&quot;\r\n                    + &quot;Middle names :&quot; + middleNames.toString() + &quot;\\n&quot;\r\n                    + &quot;Last name :&quot; + lastName + &quot;\\n&quot;\r\n                    + &quot;Titles after :&quot; + titlesAfter.toString() + &quot;\\n&quot;;\r\n    \r\n            return text;\r\n        }\r\n    }\r\n\r\n***\r\n\r\nFor example this input :\r\n\r\n        NamesConverter ns = new NamesConverter(&quot;Mr. Dr. Tom Jones&quot;);\r\n        NamesConverter ns1 = new NamesConverter(&quot;Ing. Tom Ridley Bridley Furthly Murthly Jones CsC.&quot;);\r\n        System.out.println(ns);\r\n        System.out.println(ns1);\r\n\r\nHas this output :\r\n\r\n    Titles before :[Mr., Dr.]\r\n    First name :Tom\r\n    Middle names :[]\r\n    Last name :Jones\r\n    Titles after :[]\r\n    \r\n    Titles before :[Ing.]\r\n    First name :Tom\r\n    Middle names :[Ridley, Bridley, Furthly, Murthly]\r\n    Last name :Jones\r\n    Titles after :[CsC.]","title":"Java name parse library?","body":"<p>This simple code can help :</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class NamesConverter {\n\n    private List&lt;String&gt; titlesBefore = new ArrayList&lt;&gt;();\n    private List&lt;String&gt; titlesAfter = new ArrayList&lt;&gt;();\n    private String firstName = \"\";\n    private String lastName = \"\";\n    private List&lt;String&gt; middleNames = new ArrayList&lt;&gt;();\n\n    public NamesConverter(String name) {\n        String[] words = name.split(\" \");\n        boolean isTitleAfter = false;\n        boolean isFirstName = false;\n\n        int length = words.length;\n        for (String word : words) {\n            if (word.charAt(word.length() - 1) == '.') {\n                if (isTitleAfter) {\n                    titlesAfter.add(word);\n                } else {\n                    titlesBefore.add(word);\n                }\n            } else {\n                isTitleAfter = true;\n                if (isFirstName == false) {\n                    firstName = word;\n                    isFirstName = true;\n                } else {\n                    middleNames.add(word);\n                }\n            }\n        }\n        if (middleNames.size() &gt; 0) {\n            lastName = middleNames.get(middleNames.size() - 1);\n            middleNames.remove(lastName);\n        }\n    }\n\n    public List&lt;String&gt; getTitlesBefore() {\n        return titlesBefore;\n    }\n\n    public List&lt;String&gt; getTitlesAfter() {\n        return titlesAfter;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public List&lt;String&gt; getMiddleNames() {\n        return middleNames;\n    }\n\n    @Override\n    public String toString() {\n        String text = \"Titles before :\" + titlesBefore.toString() + \"\\n\"\n                + \"First name :\" + firstName + \"\\n\"\n                + \"Middle names :\" + middleNames.toString() + \"\\n\"\n                + \"Last name :\" + lastName + \"\\n\"\n                + \"Titles after :\" + titlesAfter.toString() + \"\\n\";\n\n        return text;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>For example this input :</p>\n\n<pre><code>    NamesConverter ns = new NamesConverter(\"Mr. Dr. Tom Jones\");\n    NamesConverter ns1 = new NamesConverter(\"Ing. Tom Ridley Bridley Furthly Murthly Jones CsC.\");\n    System.out.println(ns);\n    System.out.println(ns1);\n</code></pre>\n\n<p>Has this output :</p>\n\n<pre><code>Titles before :[Mr., Dr.]\nFirst name :Tom\nMiddle names :[]\nLast name :Jones\nTitles after :[]\n\nTitles before :[Ing.]\nFirst name :Tom\nMiddle names :[Ridley, Bridley, Furthly, Murthly]\nLast name :Jones\nTitles after :[CsC.]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3644780,"reputation":587,"user_id":3038070,"accept_rate":75,"display_name":"KimvdLinde"},"score":0,"creation_date":1444749122,"post_id":24130848,"comment_id":54027375,"body_markdown":"The method isOneOf should be rewritten as:\n\n    private boolean isOneOf(String checkStr, String[] titles) {\n        for (String title : titles)\n            if (checkStr.equalsIgnoreCase(title))\n                return true;\n        return false;\n    } \n\nBecause currently, it will recognize all names starting with a V as a suffix.","body":"The method isOneOf should be rewritten as:      private boolean isOneOf(String checkStr, String[] titles) {         for (String title : titles)             if (checkStr.equalsIgnoreCase(title))                 return true;         return false;     }   Because currently, it will recognize all names starting with a V as a suffix."}],"tags":[],"owner":{"account_id":1414063,"reputation":1696,"user_id":1340069,"display_name":"James O&#39;Brien"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1402358036,"creation_date":1402358036,"answer_id":24130848,"question_id":1330103,"body_markdown":"I just can&#39;t believe someone hasn&#39;t shared a library for this - well I looked in github and there&#39;s a javascript name parser that could be easily translated to java: https://github.com/joshfraser/JavaScript-Name-Parser\r\n\r\nI also modified the code in one of the answers to work a little better and have included a test case:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.apache.commons.lang.StringUtils;\r\n    \r\n    public class NameParser {\r\n    \tprivate String firstName = &quot;&quot;;\r\n    \tprivate String lastName = &quot;&quot;;\r\n    \tprivate String middleName = &quot;&quot;;\r\n    \tprivate List&lt;String&gt; middleNames = new ArrayList&lt;String&gt;();\r\n    \tprivate List&lt;String&gt; titlesBefore = new ArrayList&lt;String&gt;();\r\n    \tprivate List&lt;String&gt; titlesAfter = new ArrayList&lt;String&gt;();\r\n    \tprivate String[] prefixes = { &quot;dr&quot;, &quot;mr&quot;, &quot;ms&quot;, &quot;atty&quot;, &quot;prof&quot;, &quot;miss&quot;, &quot;mrs&quot; };\r\n    \tprivate String[] suffixes = { &quot;jr&quot;, &quot;sr&quot;, &quot;ii&quot;, &quot;iii&quot;, &quot;iv&quot;, &quot;v&quot;, &quot;vi&quot;, &quot;esq&quot;, &quot;2nd&quot;, &quot;3rd&quot;, &quot;jd&quot;, &quot;phd&quot;,\r\n    \t\t\t&quot;md&quot;, &quot;cpa&quot; };\r\n    \r\n    \tpublic NameParser() {\r\n    \t}\r\n    \r\n    \tpublic NameParser(String name) {\r\n    \t\tparse(name);\r\n    \t}\r\n    \r\n    \tprivate void reset() {\r\n    \t\tfirstName = lastName = middleName = &quot;&quot;;\r\n    \t\tmiddleNames = new ArrayList&lt;String&gt;();\r\n    \t\ttitlesBefore = new ArrayList&lt;String&gt;();\r\n    \t\ttitlesAfter = new ArrayList&lt;String&gt;();\r\n    \t}\r\n    \r\n    \tprivate boolean isOneOf(String checkStr, String[] titles) {\r\n    \t\tfor (String title : titles) {\r\n    \t\t\tif (checkStr.toLowerCase().startsWith(title))\r\n    \t\t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic void parse(String name) {\r\n    \t\tif (StringUtils.isBlank(name))\r\n    \t\t\treturn;\r\n    \t\tthis.reset();\r\n    \t\tString[] words = name.split(&quot; &quot;);\r\n    \t\tboolean isFirstName = false;\r\n    \r\n    \t\tfor (String word : words) {\r\n    \t\t\tif (StringUtils.isBlank(word))\r\n    \t\t\t\tcontinue;\r\n    \t\t\tif (word.charAt(word.length() - 1) == &#39;.&#39;) {\r\n    \t\t\t\tif (!isFirstName &amp;&amp; !this.isOneOf(word, prefixes)) {\r\n    \t\t\t\t\tfirstName = word;\r\n    \t\t\t\t\tisFirstName = true;\r\n    \t\t\t\t} else if (isFirstName) {\r\n    \t\t\t\t\tmiddleNames.add(word);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\ttitlesBefore.add(word);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tif (word.endsWith(&quot;,&quot;))\r\n    \t\t\t\t\tword = StringUtils.chop(word);\r\n    \t\t\t\tif (isFirstName == false) {\r\n    \t\t\t\t\tfirstName = word;\r\n    \t\t\t\t\tisFirstName = true;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tmiddleNames.add(word);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (middleNames.size() &gt; 0) {\r\n    \t\t\tboolean stop = false;\r\n    \t\t\tList&lt;String&gt; toRemove = new ArrayList&lt;String&gt;();\r\n    \t\t\tfor (int i = middleNames.size() - 1; i &gt;= 0 &amp;&amp; !stop; i--) {\r\n    \t\t\t\tString str = middleNames.get(i);\r\n    \t\t\t\tif (this.isOneOf(str, suffixes)) {\r\n    \t\t\t\t\ttitlesAfter.add(str);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tlastName = str;\r\n    \t\t\t\t\tstop = true;\r\n    \t\t\t\t}\r\n    \t\t\t\ttoRemove.add(str);\r\n    \t\t\t}\r\n    \t\t\tif (StringUtils.isBlank(lastName) &amp;&amp; titlesAfter.size() &gt; 0) {\r\n    \t\t\t\tlastName = titlesAfter.get(titlesAfter.size() - 1);\r\n    \t\t\t\ttitlesAfter.remove(titlesAfter.size() - 1);\r\n    \t\t\t}\r\n    \t\t\tfor (String s : toRemove) {\r\n    \t\t\t\tmiddleNames.remove(s);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic String getMiddleName() {\r\n    \t\tif (StringUtils.isBlank(this.middleName)) {\r\n    \t\t\tfor (String name : middleNames) {\r\n    \t\t\t\tmiddleName += (name + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tmiddleName = StringUtils.chop(middleName);\r\n    \t\t}\r\n    \t\treturn middleName;\r\n    \t}\r\n    \r\n    \tpublic List&lt;String&gt; getTitlesBefore() {\r\n    \t\treturn titlesBefore;\r\n    \t}\r\n    \r\n    \tpublic List&lt;String&gt; getTitlesAfter() {\r\n    \t\treturn titlesAfter;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nTest case:\r\n\r\n    import junit.framework.Assert;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class NameParserTest {\r\n    \r\n    \tprivate class TestData {\r\n    \t\tString name;\r\n    \r\n    \t\tString firstName;\r\n    \t\tString lastName;\r\n    \t\tString middleName;\r\n    \r\n    \t\tpublic TestData(String name, String firstName, String middleName, String lastName) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.firstName = firstName;\r\n    \t\t\tthis.lastName = lastName;\r\n    \t\t\tthis.middleName = middleName;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void test() {\r\n    \r\n    \t\tTestData td[] = { new TestData(&quot;Henry \\&quot;Hank\\&quot; J. Fasthoff IV&quot;, &quot;Henry&quot;, &quot;\\&quot;Hank\\&quot; J.&quot;, &quot;Fasthoff&quot;),\r\n    \t\t\t\tnew TestData(&quot;April A. (Caminez) Bentley&quot;, &quot;April&quot;, &quot;A. (Caminez)&quot;, &quot;Bentley&quot;),\r\n    \t\t\t\tnew TestData(&quot;fff lll&quot;, &quot;fff&quot;, &quot;&quot;, &quot;lll&quot;),\r\n    \t\t\t\tnew TestData(&quot;fff mmmmm lll&quot;, &quot;fff&quot;, &quot;mmmmm&quot;, &quot;lll&quot;),\r\n    \t\t\t\tnew TestData(&quot;fff mmm1      mm2 lll&quot;, &quot;fff&quot;, &quot;mmm1 mm2&quot;, &quot;lll&quot;),\r\n    \t\t\t\tnew TestData(&quot;Mr. Dr. Tom Jones&quot;, &quot;Tom&quot;, &quot;&quot;, &quot;Jones&quot;),\r\n    \t\t\t\tnew TestData(&quot;Robert P. Bethea Jr.&quot;, &quot;Robert&quot;, &quot;P.&quot;, &quot;Bethea&quot;),\r\n    \t\t\t\tnew TestData(&quot;Charles P. Adams, Jr.&quot;, &quot;Charles&quot;, &quot;P.&quot;, &quot;Adams&quot;),\r\n    \t\t\t\tnew TestData(&quot;B. Herbert Boatner, Jr.&quot;, &quot;B.&quot;, &quot;Herbert&quot;, &quot;Boatner&quot;),\r\n    \t\t\t\tnew TestData(&quot;Bernard H. Booth IV&quot;, &quot;Bernard&quot;, &quot;H.&quot;, &quot;Booth&quot;),\r\n    \t\t\t\tnew TestData(&quot;F. Laurens \\&quot;Larry\\&quot; Brock&quot;, &quot;F.&quot;, &quot;Laurens \\&quot;Larry\\&quot;&quot;, &quot;Brock&quot;),\r\n    \t\t\t\tnew TestData(&quot;Chris A. D&#39;Amour&quot;, &quot;Chris&quot;, &quot;A.&quot;, &quot;D&#39;Amour&quot;) };\r\n    \r\n    \t\tNameParser bp = new NameParser();\r\n    \t\tfor (int i = 0; i &lt; td.length; i++) {\r\n    \t\t\tbp.parse(td[i].name);\r\n    \t\t\tAssert.assertEquals(td[i].firstName, bp.getFirstName());\r\n    \t\t\tAssert.assertEquals(td[i].lastName, bp.getLastName());\r\n    \t\t\tAssert.assertEquals(td[i].middleName, bp.getMiddleName());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java name parse library?","body":"<p>I just can't believe someone hasn't shared a library for this - well I looked in github and there's a javascript name parser that could be easily translated to java: <a href=\"https://github.com/joshfraser/JavaScript-Name-Parser\">https://github.com/joshfraser/JavaScript-Name-Parser</a></p>\n\n<p>I also modified the code in one of the answers to work a little better and have included a test case:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.commons.lang.StringUtils;\n\npublic class NameParser {\n    private String firstName = \"\";\n    private String lastName = \"\";\n    private String middleName = \"\";\n    private List&lt;String&gt; middleNames = new ArrayList&lt;String&gt;();\n    private List&lt;String&gt; titlesBefore = new ArrayList&lt;String&gt;();\n    private List&lt;String&gt; titlesAfter = new ArrayList&lt;String&gt;();\n    private String[] prefixes = { \"dr\", \"mr\", \"ms\", \"atty\", \"prof\", \"miss\", \"mrs\" };\n    private String[] suffixes = { \"jr\", \"sr\", \"ii\", \"iii\", \"iv\", \"v\", \"vi\", \"esq\", \"2nd\", \"3rd\", \"jd\", \"phd\",\n            \"md\", \"cpa\" };\n\n    public NameParser() {\n    }\n\n    public NameParser(String name) {\n        parse(name);\n    }\n\n    private void reset() {\n        firstName = lastName = middleName = \"\";\n        middleNames = new ArrayList&lt;String&gt;();\n        titlesBefore = new ArrayList&lt;String&gt;();\n        titlesAfter = new ArrayList&lt;String&gt;();\n    }\n\n    private boolean isOneOf(String checkStr, String[] titles) {\n        for (String title : titles) {\n            if (checkStr.toLowerCase().startsWith(title))\n                return true;\n        }\n        return false;\n    }\n\n    public void parse(String name) {\n        if (StringUtils.isBlank(name))\n            return;\n        this.reset();\n        String[] words = name.split(\" \");\n        boolean isFirstName = false;\n\n        for (String word : words) {\n            if (StringUtils.isBlank(word))\n                continue;\n            if (word.charAt(word.length() - 1) == '.') {\n                if (!isFirstName &amp;&amp; !this.isOneOf(word, prefixes)) {\n                    firstName = word;\n                    isFirstName = true;\n                } else if (isFirstName) {\n                    middleNames.add(word);\n                } else {\n                    titlesBefore.add(word);\n                }\n            } else {\n                if (word.endsWith(\",\"))\n                    word = StringUtils.chop(word);\n                if (isFirstName == false) {\n                    firstName = word;\n                    isFirstName = true;\n                } else {\n                    middleNames.add(word);\n                }\n            }\n        }\n        if (middleNames.size() &gt; 0) {\n            boolean stop = false;\n            List&lt;String&gt; toRemove = new ArrayList&lt;String&gt;();\n            for (int i = middleNames.size() - 1; i &gt;= 0 &amp;&amp; !stop; i--) {\n                String str = middleNames.get(i);\n                if (this.isOneOf(str, suffixes)) {\n                    titlesAfter.add(str);\n                } else {\n                    lastName = str;\n                    stop = true;\n                }\n                toRemove.add(str);\n            }\n            if (StringUtils.isBlank(lastName) &amp;&amp; titlesAfter.size() &gt; 0) {\n                lastName = titlesAfter.get(titlesAfter.size() - 1);\n                titlesAfter.remove(titlesAfter.size() - 1);\n            }\n            for (String s : toRemove) {\n                middleNames.remove(s);\n            }\n        }\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public String getMiddleName() {\n        if (StringUtils.isBlank(this.middleName)) {\n            for (String name : middleNames) {\n                middleName += (name + \" \");\n            }\n            middleName = StringUtils.chop(middleName);\n        }\n        return middleName;\n    }\n\n    public List&lt;String&gt; getTitlesBefore() {\n        return titlesBefore;\n    }\n\n    public List&lt;String&gt; getTitlesAfter() {\n        return titlesAfter;\n    }\n\n}\n</code></pre>\n\n<p>Test case:</p>\n\n<pre><code>import junit.framework.Assert;\n\nimport org.junit.Test;\n\npublic class NameParserTest {\n\n    private class TestData {\n        String name;\n\n        String firstName;\n        String lastName;\n        String middleName;\n\n        public TestData(String name, String firstName, String middleName, String lastName) {\n            super();\n            this.name = name;\n            this.firstName = firstName;\n            this.lastName = lastName;\n            this.middleName = middleName;\n        }\n\n    }\n\n    @Test\n    public void test() {\n\n        TestData td[] = { new TestData(\"Henry \\\"Hank\\\" J. Fasthoff IV\", \"Henry\", \"\\\"Hank\\\" J.\", \"Fasthoff\"),\n                new TestData(\"April A. (Caminez) Bentley\", \"April\", \"A. (Caminez)\", \"Bentley\"),\n                new TestData(\"fff lll\", \"fff\", \"\", \"lll\"),\n                new TestData(\"fff mmmmm lll\", \"fff\", \"mmmmm\", \"lll\"),\n                new TestData(\"fff mmm1      mm2 lll\", \"fff\", \"mmm1 mm2\", \"lll\"),\n                new TestData(\"Mr. Dr. Tom Jones\", \"Tom\", \"\", \"Jones\"),\n                new TestData(\"Robert P. Bethea Jr.\", \"Robert\", \"P.\", \"Bethea\"),\n                new TestData(\"Charles P. Adams, Jr.\", \"Charles\", \"P.\", \"Adams\"),\n                new TestData(\"B. Herbert Boatner, Jr.\", \"B.\", \"Herbert\", \"Boatner\"),\n                new TestData(\"Bernard H. Booth IV\", \"Bernard\", \"H.\", \"Booth\"),\n                new TestData(\"F. Laurens \\\"Larry\\\" Brock\", \"F.\", \"Laurens \\\"Larry\\\"\", \"Brock\"),\n                new TestData(\"Chris A. D'Amour\", \"Chris\", \"A.\", \"D'Amour\") };\n\n        NameParser bp = new NameParser();\n        for (int i = 0; i &lt; td.length; i++) {\n            bp.parse(td[i].name);\n            Assert.assertEquals(td[i].firstName, bp.getFirstName());\n            Assert.assertEquals(td[i].lastName, bp.getLastName());\n            Assert.assertEquals(td[i].middleName, bp.getMiddleName());\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7078674,"reputation":61,"user_id":5417818,"display_name":"Marc-Andr&#233; Poulin"},"score":1,"creation_date":1455270952,"post_id":33279039,"comment_id":58425109,"body_markdown":"You can find it on [github](https://github.com/apache/commons-text/blob/master/src/main/java/org/apache/commons/text/names/HumanNameParser.java). The current version is still SNAPSHOT however.","body":"You can find it on <a href=\"https://github.com/apache/commons-text/blob/master/src/main/java/org/apache/commons/text/names/HumanNameParser.java\" rel=\"nofollow noreferrer\">github</a>. The current version is still SNAPSHOT however."},{"owner":{"account_id":234267,"reputation":2509,"user_id":500312,"accept_rate":65,"display_name":"HairOfTheDog"},"score":1,"creation_date":1549672355,"post_id":33279039,"comment_id":96000262,"body_markdown":"The `org.apache.commons.test.names` package has been removed from that library.","body":"The <code>org.apache.commons.test.names</code> package has been removed from that library."}],"tags":[],"owner":{"account_id":559696,"reputation":977,"user_id":897059,"display_name":"Richard EB"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1445510271,"creation_date":1445510271,"answer_id":33279039,"question_id":1330103,"body_markdown":"Apache Commons has the HumanNameParser class.\r\n\r\nhttps://commons.apache.org/sandbox/commons-text/jacoco/org.apache.commons.text.names/HumanNameParser.java.html\r\n\r\n     Name nextName = parser.parse(&quot;James C. (&#39;Jimmy&#39;) O&#39;Dell, Jr.&quot;)\r\n     String firstName = nextName.getFirstName();\r\n     String nickname = nextName.getNickName();\r\n","title":"Java name parse library?","body":"<p>Apache Commons has the HumanNameParser class.</p>\n\n<p><a href=\"https://commons.apache.org/sandbox/commons-text/jacoco/org.apache.commons.text.names/HumanNameParser.java.html\" rel=\"nofollow\">https://commons.apache.org/sandbox/commons-text/jacoco/org.apache.commons.text.names/HumanNameParser.java.html</a></p>\n\n<pre><code> Name nextName = parser.parse(\"James C. ('Jimmy') O'Dell, Jr.\")\n String firstName = nextName.getFirstName();\n String nickname = nextName.getNickName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9820626,"reputation":56,"user_id":19166211,"display_name":"Stephan Peters"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700599850,"creation_date":1700599850,"answer_id":77525865,"question_id":1330103,"body_markdown":"This one seems to do the job nicely, it&#39;s a port of a php parser. It looks like it&#39;s newer than the most recent answer:\r\n\r\n[https://github.com/tupilabs/HumanNameParser.java][1]\r\n\r\nFrom the ReadMe:\r\n\r\n&gt; Takes human names of arbitrary complexity and various wacky formats like:\r\n\r\n    J. Walter Weatherman\r\n    de la Cruz, Ana M.\r\n    James C. (&#39;Jimmy&#39;) O&#39;Dell, Jr.\r\n    Dr. Omar A.\r\n\r\nand parses out the:\r\n\r\n    leading initial (Like &quot;J.&quot; in &quot;J. Walter Weatherman&quot;)\r\n    first name (or first initial in a name like &#39;R. Crumb&#39;)\r\n    nicknames (like &quot;Jimmy&quot; in &quot;James C. (&#39;Jimmy&#39;) O&#39;Dell, Jr.&quot;)\r\n    middle names\r\n    last name (including compound ones like &quot;van der Sar&#39; and &quot;Ortega y Gasset&quot;), and\r\n    suffix (like &#39;Jr.&#39;, &#39;III&#39;)\r\n    salutations (like &#39;Mr.&#39;, &#39;Mrs.&#39;, &#39;Dr&#39;)\r\n    postnominals (like &#39;PHD&#39;, &#39;CPA&#39;)\r\n\r\n\r\n  [1]: https://github.com/tupilabs/HumanNameParser.java","title":"Java name parse library?","body":"<p>This one seems to do the job nicely, it's a port of a php parser. It looks like it's newer than the most recent answer:</p>\n<p><a href=\"https://github.com/tupilabs/HumanNameParser.java\" rel=\"nofollow noreferrer\">https://github.com/tupilabs/HumanNameParser.java</a></p>\n<p>From the ReadMe:</p>\n<blockquote>\n<p>Takes human names of arbitrary complexity and various wacky formats like:</p>\n</blockquote>\n<pre><code>J. Walter Weatherman\nde la Cruz, Ana M.\nJames C. ('Jimmy') O'Dell, Jr.\nDr. Omar A.\n</code></pre>\n<p>and parses out the:</p>\n<pre><code>leading initial (Like &quot;J.&quot; in &quot;J. Walter Weatherman&quot;)\nfirst name (or first initial in a name like 'R. Crumb')\nnicknames (like &quot;Jimmy&quot; in &quot;James C. ('Jimmy') O'Dell, Jr.&quot;)\nmiddle names\nlast name (including compound ones like &quot;van der Sar' and &quot;Ortega y Gasset&quot;), and\nsuffix (like 'Jr.', 'III')\nsalutations (like 'Mr.', 'Mrs.', 'Dr')\npostnominals (like 'PHD', 'CPA')\n</code></pre>\n"}],"owner":{"account_id":54476,"reputation":256,"user_id":162971,"display_name":"ackdesha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6714,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":6,"score":17,"last_activity_date":1700599850,"creation_date":1251224762,"question_id":1330103,"body_markdown":"I&#39;m searching for a library similar in functionality to the Perl [Lingua::EN::NameParse][1] module.\r\nEssentially, I&#39;d like to parse strings like &#39;Mr. Bob R. Smith&#39; into prefix, first name, last name, and name suffix components.  Google hasn&#39;t been much help in finding something like this and I&#39;d prefer not to roll my own if possible.  Anyone know of a OSS Java library that can do this in a sophisticated way?\r\n\r\n\r\n  [1]: http://search.cpan.org/dist/Lingua-EN-NameParse/lib/Lingua/EN/NameParse.pm","title":"Java name parse library?","body":"<p>I'm searching for a library similar in functionality to the Perl <a href=\"http://search.cpan.org/dist/Lingua-EN-NameParse/lib/Lingua/EN/NameParse.pm\" rel=\"noreferrer\">Lingua::EN::NameParse</a> module.\nEssentially, I'd like to parse strings like 'Mr. Bob R. Smith' into prefix, first name, last name, and name suffix components.  Google hasn't been much help in finding something like this and I'd prefer not to roll my own if possible.  Anyone know of a OSS Java library that can do this in a sophisticated way?</p>\n"},{"tags":["java","probability","montecarlo"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1700598554,"post_id":77525454,"comment_id":136673870,"body_markdown":"A few issues I see: (1) `t` is always a value of 2 for each trial (set to 1 and then incremented once) (2) `probAnyComputerInfected` and `expectedInfectedComputers` for each trial are computed with always the same inputs (20, 0.1).  Those are the three trial outputs always the same.  Also `randomInfectedComputer` is never used.","body":"A few issues I see: (1) <code>t</code> is always a value of 2 for each trial (set to 1 and then incremented once) (2) <code>probAnyComputerInfected</code> and <code>expectedInfectedComputers</code> for each trial are computed with always the same inputs (20, 0.1).  Those are the three trial outputs always the same.  Also <code>randomInfectedComputer</code> is never used."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700599645,"creation_date":1700599645,"answer_id":77525853,"question_id":77525454,"body_markdown":"*How to make each trial have random outputs?*\r\n\r\nAll you need to use is a pseudo random number generator. It already exists in Java: [java.util.Random][1]\r\n\r\nAny instance of Random can generate integers, floats or double values. It depends what you ask it to do. \r\n\r\nWith your probability between 0.1 and 10 it could mean you go with integer values in the range of 1 to 100 and divide by 10. So you could run\r\n\r\n    Random generator = new Random();\r\n    float percentage = generator.nextInt(100) / 10.0f;\r\n\r\nYou could as well use nextFloag() which will produce a value between 0 and 1. This you need to map into your range:\r\n\r\n    Random generator = new Random();\r\n    float percentage = generator.nextFloat() * (10f-0.1f) + 0.1f;\r\n\r\nIf I misinterpreted your ranges just adapt the forumuas accordingly. What you need to be aware of is that the generated numbers are pseudo random. While they look random, the sequence they come in can be repeated. If you want to see this in action, initialize your generator with a seed:\r\n\r\n    Random generator = new Random(1234);\r\n\r\nAfter that you should be able to repeatedly get the same values when calling nextInt() or nextFloat(). Such predictability is good for software testing/debugging but bad for encryption. In such cases initialize your random number generator like this:\r\n\r\n    Random generator = new SecureRandom();\r\n\r\nSee also [SecureRandom][2].\r\n\r\nNow let&#39;s get a closer look at your code. It seems you are running a loop, and inside the loop you are initializing your random number generator and retrieving one value. Per definition these may be the same. Move the line\r\n\r\n    Random random = new Random();\r\n\r\nso it is before the loop and gets executed once only. With only one random number generator, this instance will deliver mutliple values and thus can start to distribute them over the possible range.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Random.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/security/SecureRandom.html","title":"Computer Virus Spread Simulation - How to make each trial have random outputs?","body":"<p><em>How to make each trial have random outputs?</em></p>\n<p>All you need to use is a pseudo random number generator. It already exists in Java: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\">java.util.Random</a></p>\n<p>Any instance of Random can generate integers, floats or double values. It depends what you ask it to do.</p>\n<p>With your probability between 0.1 and 10 it could mean you go with integer values in the range of 1 to 100 and divide by 10. So you could run</p>\n<pre><code>Random generator = new Random();\nfloat percentage = generator.nextInt(100) / 10.0f;\n</code></pre>\n<p>You could as well use nextFloag() which will produce a value between 0 and 1. This you need to map into your range:</p>\n<pre><code>Random generator = new Random();\nfloat percentage = generator.nextFloat() * (10f-0.1f) + 0.1f;\n</code></pre>\n<p>If I misinterpreted your ranges just adapt the forumuas accordingly. What you need to be aware of is that the generated numbers are pseudo random. While they look random, the sequence they come in can be repeated. If you want to see this in action, initialize your generator with a seed:</p>\n<pre><code>Random generator = new Random(1234);\n</code></pre>\n<p>After that you should be able to repeatedly get the same values when calling nextInt() or nextFloat(). Such predictability is good for software testing/debugging but bad for encryption. In such cases initialize your random number generator like this:</p>\n<pre><code>Random generator = new SecureRandom();\n</code></pre>\n<p>See also <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">SecureRandom</a>.</p>\n<p>Now let's get a closer look at your code. It seems you are running a loop, and inside the loop you are initializing your random number generator and retrieving one value. Per definition these may be the same. Move the line</p>\n<pre><code>Random random = new Random();\n</code></pre>\n<p>so it is before the loop and gets executed once only. With only one random number generator, this instance will deliver mutliple values and thus can start to distribute them over the possible range.</p>\n"}],"owner":{"account_id":24928050,"reputation":9,"user_id":18795534,"display_name":"Amir Goziyev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700599645,"creation_date":1700594534,"question_id":77525454,"body_markdown":"This code is used to simulate the virus spread in the network of 20 computers with the probability of 0.1 ~ 10%. It initially starts with only 1 computer being infected and each day has a chance that it spreads to other computers in the network. The output for each trial should be: time to remove the virus from the network, probability that each computer gets infected at least once, and the expected number of computers that get infected each trial. Logically each trial should have a random for each of the outputs listed. My problem is that each trial produces the same output, and I don&#39;t understand why it does that.\r\n\r\nCode:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    \r\n    public class VirusSpreadSimulation {\r\n    \r\n        public static void main(String[] args) {\r\n            int numTrials = 5;\r\n            int numComputers = 20;\r\n            double pSpread = 0.1;\r\n            int numInitialInfected = 1;\r\n            int numToRemove = 5;\r\n    \r\n            int[] timesToRemoveVirus = new int[numTrials];\r\n            double[] probAnyComputerInfected = new double[numTrials];\r\n            double[] expectedInfectedComputers = new double[numTrials];\r\n    \r\n            for (int trial = 0; trial &lt; numTrials; trial++) {\r\n                Random random = new Random();  // Create a new Random instance for each trial\r\n                int numInfected = numInitialInfected;\r\n                int t = 1;\r\n    \r\n                while (numInfected &gt; 0) {\r\n                    double[] randomNumbers = new double[numComputers - numInfected];\r\n                    for (int i = 0; i &lt; randomNumbers.length; i++) {\r\n                        randomNumbers[i] = random.nextDouble();\r\n                    }\r\n    \r\n                    numInfected = countInfections(randomNumbers, pSpread);\r\n    \r\n                    int numToRemoveThisRound = Math.min(numInfected, numToRemove);\r\n                    for (int i = 0; i &lt; numToRemoveThisRound; i++) {\r\n                        // Simulate cleaning infected computers\r\n                        int randomInfectedComputer = random.nextInt(numComputers);\r\n                        // Set the corresponding infected computer to uninfected\r\n                        numInfected--;\r\n                    }\r\n                }\r\n    \r\n                t++; // Increment time (day)\r\n    \r\n                // Record results for the current trial\r\n                timesToRemoveVirus[trial] = t;\r\n                probAnyComputerInfected[trial] = calculateProbAnyComputerInfected(numComputers, pSpread);\r\n                expectedInfectedComputers[trial] = calculateExpectedInfectedComputers(numComputers, pSpread);\r\n    \r\n                // Printing out each individual trial\r\n                System.out.println(&quot;Individual Trials: &quot;);\r\n    \r\n                System.out.println(&quot;Time to remove virus: &quot; + timesToRemoveVirus[trial] + &quot; days&quot;);\r\n                System.out.println(&quot;Probability that each computer gets infected at least once: &quot;\r\n                        + probAnyComputerInfected[trial]);\r\n                System.out.println(&quot;Expected number of computers infected: &quot; + expectedInfectedComputers[trial]);\r\n                System.out.println();\r\n            }\r\n    \r\n            // Calculating the average of all trials\r\n            double averageTimeToRemoveVirus = Arrays.stream(timesToRemoveVirus).average().orElse(0);\r\n            double averageProbAnyComputerInfected = Arrays.stream(probAnyComputerInfected).average().orElse(0);\r\n            double averageExpectedInfectedComputers = Arrays.stream(expectedInfectedComputers).average().orElse(0);\r\n    \r\n            // Printing out the averages\r\n            System.out.println(&quot;Number of trials: &quot; + numTrials);\r\n            System.out.println(&quot;Average time to remove virus: &quot; + averageTimeToRemoveVirus + &quot; days&quot;);\r\n            System.out.println(&quot;Average probability that each computer gets infected at least once: &quot;\r\n                    + averageProbAnyComputerInfected);\r\n            System.out.println(&quot;Average expected number of computers infected: &quot; + averageExpectedInfectedComputers);\r\n        }\r\n    \r\n        // Function that stores an array of infected computer for each trial\r\n        private static int countInfections(double[] randomNumbers, double pSpread) {\r\n            return (int) Arrays.stream(randomNumbers).filter(num -&gt; num &lt; pSpread).count();\r\n        }\r\n    \r\n        // Function that calculates the each computer get infected at least once\r\n        private static double calculateProbAnyComputerInfected(int numComputers, double pSpread) {\r\n            double probNoInfections = Math.pow(1 - pSpread, numComputers);\r\n            return 1 - probNoInfections;\r\n        }\r\n    \r\n        // Function that calculates the number computers that get infected with each trial\r\n        private static double calculateExpectedInfectedComputers(int numComputers, double pSpread) {\r\n            return numComputers * (1 - Math.pow(1 - pSpread, numComputers));\r\n        }\r\n    }\r\n\r\n\r\n\r\nI tried using the random instance and putting inside the for loop that counts the trials hoping that it would reset the values with each trial. As I said previously, each trial has the same outputs. Thank you for your help.","title":"Computer Virus Spread Simulation - How to make each trial have random outputs?","body":"<p>This code is used to simulate the virus spread in the network of 20 computers with the probability of 0.1 ~ 10%. It initially starts with only 1 computer being infected and each day has a chance that it spreads to other computers in the network. The output for each trial should be: time to remove the virus from the network, probability that each computer gets infected at least once, and the expected number of computers that get infected each trial. Logically each trial should have a random for each of the outputs listed. My problem is that each trial produces the same output, and I don't understand why it does that.</p>\n<p>Code:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class VirusSpreadSimulation {\n\n    public static void main(String[] args) {\n        int numTrials = 5;\n        int numComputers = 20;\n        double pSpread = 0.1;\n        int numInitialInfected = 1;\n        int numToRemove = 5;\n\n        int[] timesToRemoveVirus = new int[numTrials];\n        double[] probAnyComputerInfected = new double[numTrials];\n        double[] expectedInfectedComputers = new double[numTrials];\n\n        for (int trial = 0; trial &lt; numTrials; trial++) {\n            Random random = new Random();  // Create a new Random instance for each trial\n            int numInfected = numInitialInfected;\n            int t = 1;\n\n            while (numInfected &gt; 0) {\n                double[] randomNumbers = new double[numComputers - numInfected];\n                for (int i = 0; i &lt; randomNumbers.length; i++) {\n                    randomNumbers[i] = random.nextDouble();\n                }\n\n                numInfected = countInfections(randomNumbers, pSpread);\n\n                int numToRemoveThisRound = Math.min(numInfected, numToRemove);\n                for (int i = 0; i &lt; numToRemoveThisRound; i++) {\n                    // Simulate cleaning infected computers\n                    int randomInfectedComputer = random.nextInt(numComputers);\n                    // Set the corresponding infected computer to uninfected\n                    numInfected--;\n                }\n            }\n\n            t++; // Increment time (day)\n\n            // Record results for the current trial\n            timesToRemoveVirus[trial] = t;\n            probAnyComputerInfected[trial] = calculateProbAnyComputerInfected(numComputers, pSpread);\n            expectedInfectedComputers[trial] = calculateExpectedInfectedComputers(numComputers, pSpread);\n\n            // Printing out each individual trial\n            System.out.println(&quot;Individual Trials: &quot;);\n\n            System.out.println(&quot;Time to remove virus: &quot; + timesToRemoveVirus[trial] + &quot; days&quot;);\n            System.out.println(&quot;Probability that each computer gets infected at least once: &quot;\n                    + probAnyComputerInfected[trial]);\n            System.out.println(&quot;Expected number of computers infected: &quot; + expectedInfectedComputers[trial]);\n            System.out.println();\n        }\n\n        // Calculating the average of all trials\n        double averageTimeToRemoveVirus = Arrays.stream(timesToRemoveVirus).average().orElse(0);\n        double averageProbAnyComputerInfected = Arrays.stream(probAnyComputerInfected).average().orElse(0);\n        double averageExpectedInfectedComputers = Arrays.stream(expectedInfectedComputers).average().orElse(0);\n\n        // Printing out the averages\n        System.out.println(&quot;Number of trials: &quot; + numTrials);\n        System.out.println(&quot;Average time to remove virus: &quot; + averageTimeToRemoveVirus + &quot; days&quot;);\n        System.out.println(&quot;Average probability that each computer gets infected at least once: &quot;\n                + averageProbAnyComputerInfected);\n        System.out.println(&quot;Average expected number of computers infected: &quot; + averageExpectedInfectedComputers);\n    }\n\n    // Function that stores an array of infected computer for each trial\n    private static int countInfections(double[] randomNumbers, double pSpread) {\n        return (int) Arrays.stream(randomNumbers).filter(num -&gt; num &lt; pSpread).count();\n    }\n\n    // Function that calculates the each computer get infected at least once\n    private static double calculateProbAnyComputerInfected(int numComputers, double pSpread) {\n        double probNoInfections = Math.pow(1 - pSpread, numComputers);\n        return 1 - probNoInfections;\n    }\n\n    // Function that calculates the number computers that get infected with each trial\n    private static double calculateExpectedInfectedComputers(int numComputers, double pSpread) {\n        return numComputers * (1 - Math.pow(1 - pSpread, numComputers));\n    }\n}\n</code></pre>\n<p>I tried using the random instance and putting inside the for loop that counts the trials hoping that it would reset the values with each trial. As I said previously, each trial has the same outputs. Thank you for your help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":472669,"reputation":9843,"user_id":881272,"accept_rate":67,"display_name":"Angelo Fuchs"},"score":0,"creation_date":1398839598,"post_id":10435103,"comment_id":35817056,"body_markdown":"For more details I recommend looking at the Answers here: http://stackoverflow.com/questions/10839131/implement-vs-extends-when-to-use-whats-the-difference","body":"For more details I recommend looking at the Answers here: <a href=\"http://stackoverflow.com/questions/10839131/implement-vs-extends-when-to-use-whats-the-difference\" title=\"implement vs extends when to use whats the difference\">stackoverflow.com/questions/10839131/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1158314,"reputation":815,"user_id":1138353,"accept_rate":68,"display_name":"Painy James"},"score":1,"creation_date":1336061580,"post_id":10435131,"comment_id":13469305,"body_markdown":"Thanks! I also forgot to add the public abstract String doThat() to each abstract classes :S","body":"Thanks! I also forgot to add the public abstract String doThat() to each abstract classes :S"},{"owner":{"account_id":141726,"reputation":10755,"user_id":348975,"accept_rate":86,"display_name":"emory"},"score":1,"creation_date":1336065867,"post_id":10435131,"comment_id":13471079,"body_markdown":"@PainyJames you don&#39;t need to add the `public abstract String doThat()` to each of the abstract classes.","body":"@PainyJames you don&#39;t need to add the <code>public abstract String doThat()</code> to each of the abstract classes."}],"tags":[],"owner":{"account_id":472669,"reputation":9843,"user_id":881272,"accept_rate":67,"display_name":"Angelo Fuchs"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1410336240,"creation_date":1336061022,"answer_id":10435131,"question_id":10435103,"body_markdown":"You must use `extends`\r\n\r\n    public class C extends B\r\n\r\nIts important to understand the difference between the `implements` and `extends` Keywords. So, I recommend you start reading at this question: https://stackoverflow.com/questions/10839131/implement-vs-extends-when-to-use-whats-the-difference and the answers there.","title":"&quot;The type B cannot be a superinterface of C; a superinterface must be an interface&quot; error","body":"<p>You must use <code>extends</code></p>\n\n<pre><code>public class C extends B\n</code></pre>\n\n<p>Its important to understand the difference between the <code>implements</code> and <code>extends</code> Keywords. So, I recommend you start reading at this question: <a href=\"https://stackoverflow.com/questions/10839131/implement-vs-extends-when-to-use-whats-the-difference\">Implements vs extends: When to use? What&#39;s the difference?</a> and the answers there.</p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1336061051,"creation_date":1336061051,"answer_id":10435139,"question_id":10435103,"body_markdown":"Since `B` is a class, the correct syntax is to use `extends`:\r\n\r\n    public class C extends B {\r\n","title":"&quot;The type B cannot be a superinterface of C; a superinterface must be an interface&quot; error","body":"<p>Since <code>B</code> is a class, the correct syntax is to use <code>extends</code>:</p>\n\n<pre><code>public class C extends B {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336061104,"creation_date":1336061104,"answer_id":10435162,"question_id":10435103,"body_markdown":"B is an abstract class and cannot be used with the &quot;implements&quot; keyword. You have to use &quot;extends&quot; instead.","title":"&quot;The type B cannot be a superinterface of C; a superinterface must be an interface&quot; error","body":"<p>B is an abstract class and cannot be used with the \"implements\" keyword. You have to use \"extends\" instead.</p>\n"}],"owner":{"account_id":1158314,"reputation":815,"user_id":1138353,"accept_rate":68,"display_name":"Painy James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43899,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":10435131,"answer_count":3,"score":6,"last_activity_date":1700599382,"creation_date":1336060914,"question_id":10435103,"body_markdown":"Let&#39;s assume I got this interface A:\r\n\r\n    interface A\r\n\t{\r\n\t\tvoid doThis();\r\n\t\tString doThat();\r\n\t}\r\n\r\nSo, I want some abstracts classes to implement the method `doThis()` but not the `doThat()` one:\r\n\r\n    abstract class B implements A\r\n\t{\r\n\t\tpublic void doThis()\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;do this and then &quot;+ doThat());\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tabstract class B2 implements A\r\n\t{\r\n\t\tpublic void doThis()\r\n\t\t{\r\n\t\t\tSystem.out.println(doThat() + &quot;and then do this&quot;);\r\n\t\t}\r\n\t}\r\n\r\nThere error comes when you finally decide to implement de doThat method in a regular class:\r\n\r\n    public class C implements B\r\n\t{\r\n\t\tpublic String doThat()\r\n\t\t{\r\n\t\t\treturn &quot;do that&quot;;\r\n\t\t}\r\n\t}\r\n\r\nThis class leads me to the error aforementioned:\r\n\r\n&gt; &quot;The type B cannot be a superinterface of C; a superinterface must be an interface&quot;\r\n\r\nAnyone could now if this hierarchy of classes is valid or should I do other way round?\r\n","title":"&quot;The type B cannot be a superinterface of C; a superinterface must be an interface&quot; error","body":"<p>Let's assume I got this interface A:</p>\n<pre><code>interface A\n{\n    void doThis();\n    String doThat();\n}\n</code></pre>\n<p>So, I want some abstracts classes to implement the method <code>doThis()</code> but not the <code>doThat()</code> one:</p>\n<pre><code>abstract class B implements A\n{\n    public void doThis()\n    {\n        System.out.println(&quot;do this and then &quot;+ doThat());\n    }\n    \n}\n\nabstract class B2 implements A\n{\n    public void doThis()\n    {\n        System.out.println(doThat() + &quot;and then do this&quot;);\n    }\n}\n</code></pre>\n<p>There error comes when you finally decide to implement de doThat method in a regular class:</p>\n<pre><code>public class C implements B\n{\n    public String doThat()\n    {\n        return &quot;do that&quot;;\n    }\n}\n</code></pre>\n<p>This class leads me to the error aforementioned:</p>\n<blockquote>\n<p>&quot;The type B cannot be a superinterface of C; a superinterface must be an interface&quot;</p>\n</blockquote>\n<p>Anyone could now if this hierarchy of classes is valid or should I do other way round?</p>\n"},{"tags":["java","spring","dependency-injection","javafx-2","javafx"],"comments":[{"owner":{"account_id":1658440,"reputation":3327,"user_id":1527284,"accept_rate":98,"display_name":"Perneel"},"score":0,"creation_date":1366642199,"post_id":16147076,"comment_id":23075250,"body_markdown":"http://www.javacodegeeks.com/2013/03/javafx-2-with-spring.html","body":"<a href=\"http://www.javacodegeeks.com/2013/03/javafx-2-with-spring.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2013/03/javafx-2-with-spring.html</a>"},{"owner":{"account_id":1134985,"reputation":25165,"user_id":1120221,"accept_rate":91,"display_name":"Salah Eddine Taouririt"},"score":1,"creation_date":1366653621,"post_id":16147076,"comment_id":23081672,"body_markdown":"Take a look at this [steve github repository](https://github.com/steveonjava/JavaFX-Spring) .","body":"Take a look at this <a href=\"https://github.com/steveonjava/JavaFX-Spring\" rel=\"nofollow noreferrer\">steve github repository</a> ."}],"answers":[{"tags":[],"owner":{"account_id":3206362,"reputation":7086,"user_id":2707363,"accept_rate":58,"display_name":"zenbeni"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1378471684,"creation_date":1378471684,"answer_id":18658223,"question_id":16147076,"body_markdown":"There are many ways to integrate Spring with JavaFX.\r\nMost of the techniques you will find aim at Spring injection of beans on FXML controllers using the API ControllerFactory on FXMLLoader.\r\nA more advanced technique can inject Spring prototype beans as JavaFX custom components in your Scene with the API BuilderFactory (I have made tests with that it works pretty well) of FXMLLoader.\r\n\r\nFinally, you have been talking about SceneBuilder. There are still some issues with SceneBuilder and Spring is concerned by some. Take a look at this other post about classloaders and SceneBuilder:\r\nhttps://stackoverflow.com/questions/12180127/classpath-resolution-with-hierarchical-custom-javafx-components-in-scenebuilder/18587803#18587803\r\n\r\nIt is necessary for SceneBuilder to not be aware of Spring injection if possible. You can achieve that by using deferred instanciation of Spring Context (during &quot;start&quot; of your Application): your custom Spring FXMLLoader will only be used at runtime, and you can use a vanilla FXMLLoader when Spring is not started. This way SceneBuilder will not load Spring with its vanilla FXMLLoader and you won&#39;t have classpath problems.","title":"How to use Spring with JavaFX ?","body":"<p>There are many ways to integrate Spring with JavaFX.\nMost of the techniques you will find aim at Spring injection of beans on FXML controllers using the API ControllerFactory on FXMLLoader.\nA more advanced technique can inject Spring prototype beans as JavaFX custom components in your Scene with the API BuilderFactory (I have made tests with that it works pretty well) of FXMLLoader.</p>\n\n<p>Finally, you have been talking about SceneBuilder. There are still some issues with SceneBuilder and Spring is concerned by some. Take a look at this other post about classloaders and SceneBuilder:\n<a href=\"https://stackoverflow.com/questions/12180127/classpath-resolution-with-hierarchical-custom-javafx-components-in-scenebuilder/18587803#18587803\">Classpath resolution with hierarchical custom JavaFx components in Scenebuilder</a></p>\n\n<p>It is necessary for SceneBuilder to not be aware of Spring injection if possible. You can achieve that by using deferred instanciation of Spring Context (during \"start\" of your Application): your custom Spring FXMLLoader will only be used at runtime, and you can use a vanilla FXMLLoader when Spring is not started. This way SceneBuilder will not load Spring with its vanilla FXMLLoader and you won't have classpath problems.</p>\n"},{"tags":[],"owner":{"account_id":5280092,"reputation":1,"user_id":4215755,"display_name":"kabanowster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700598856,"creation_date":1699555128,"answer_id":77455629,"question_id":16147076,"body_markdown":"First, set up your JavaFX class and keep the initialisation in start() only related to jFX. No scenes or objects created here. General stuff.\r\n\r\n    public class MainStage extends Application {\r\n\r\n    \tprivate static MainStage instance;\r\n        private Stage primaryStage;\r\n          \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\t/*\r\n    \t\t * Initialization\r\n    \t\t */\r\n            instance = this;\r\n    \t\tthis.primaryStage = primaryStage;\r\n       }\r\n\r\nNow, what Spring does, is basiacally instantiating every class marked as components, during fetching of context. You want to postpone this operation after initialisation of jFX, so jFX beans and components you create will instantiate properly.\r\nRunning Spring core is as simple as creating new ApplicationContext with one of static implementation methods...\r\n    \r\n    public class MainClass {\r\n    \r\n    private static ApplicationContext context; // nice to have it saved\r\n    \r\n     \tpublic static void main(String[] args) {\r\n            // jfx init before spring, run async to prevent freezing (for some reason)\r\n            CompletableFuture.runAsync(() -&gt; Application.launch(MainStage.class, args)); \r\n    \r\n            // spring core init\r\n      \t\tcontext = new AnnotationConfigApplicationContext(MainClass.class); \r\n    \r\n            Platform.runLater(() -&gt; {\r\n                /* \r\n                 * Put the follow up here\r\n                 * set scene to primary stage and show the stage.\r\n                 */\r\n                \r\n                // MainStage is not a part of spring context                \r\n                MainStage.getInstance()\r\n                         .getPrimaryStage()\r\n                         .setScene(context.getBean(YourScene.class))\r\n                MainStage.getInstance().getPrimaryStage().show();\r\n            });\r\n       \t}\r\n","title":"How to use Spring with JavaFX ?","body":"<p>First, set up your JavaFX class and keep the initialisation in start() only related to jFX. No scenes or objects created here. General stuff.</p>\n<pre><code>public class MainStage extends Application {\n\n    private static MainStage instance;\n    private Stage primaryStage;\n      \n    @Override\n    public void start(Stage primaryStage) {\n        /*\n         * Initialization\n         */\n        instance = this;\n        this.primaryStage = primaryStage;\n   }\n</code></pre>\n<p>Now, what Spring does, is basiacally instantiating every class marked as components, during fetching of context. You want to postpone this operation after initialisation of jFX, so jFX beans and components you create will instantiate properly.\nRunning Spring core is as simple as creating new ApplicationContext with one of static implementation methods...</p>\n<pre><code>public class MainClass {\n\nprivate static ApplicationContext context; // nice to have it saved\n\n    public static void main(String[] args) {\n        // jfx init before spring, run async to prevent freezing (for some reason)\n        CompletableFuture.runAsync(() -&gt; Application.launch(MainStage.class, args)); \n\n        // spring core init\n        context = new AnnotationConfigApplicationContext(MainClass.class); \n\n        Platform.runLater(() -&gt; {\n            /* \n             * Put the follow up here\n             * set scene to primary stage and show the stage.\n             */\n            \n            // MainStage is not a part of spring context                \n            MainStage.getInstance()\n                     .getPrimaryStage()\n                     .setScene(context.getBean(YourScene.class))\n            MainStage.getInstance().getPrimaryStage().show();\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":2073596,"reputation":2693,"user_id":1847560,"accept_rate":40,"display_name":"vijayk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24096,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1700598856,"creation_date":1366633552,"question_id":16147076,"body_markdown":"I am using javaFX with Scene Builder in my project and I have many pages. I want to avoid complexity, that&#39;s why I want to use Spring framework.\r\n\r\nSo please can anyone explain to me in details how to configure JavaFX with spring framework?","title":"How to use Spring with JavaFX ?","body":"<p>I am using javaFX with Scene Builder in my project and I have many pages. I want to avoid complexity, that's why I want to use Spring framework.</p>\n\n<p>So please can anyone explain to me in details how to configure JavaFX with spring framework?</p>\n"},{"tags":["java","class","oop","compiler-errors","anonymous-class"],"comments":[{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1677059937,"post_id":75530914,"comment_id":133261066,"body_markdown":"What is the actual error message you get?","body":"What is the actual error message you get?"},{"owner":{"account_id":26489664,"reputation":31,"user_id":20127748,"display_name":"Dilshan Dekumpitiya"},"score":0,"creation_date":1677060061,"post_id":75530914,"comment_id":133261111,"body_markdown":"cannot find symbols x and method test","body":"cannot find symbols x and method test"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1677060172,"post_id":75530914,"comment_id":133261134,"body_markdown":"Because you declare the variable as being a `Human`. `Human` neither has a `x` field nor a `test` method.","body":"Because you declare the variable as being a <code>Human</code>. <code>Human</code> neither has a <code>x</code> field nor a <code>test</code> method."}],"answers":[{"comments":[{"owner":{"account_id":26489664,"reputation":31,"user_id":20127748,"display_name":"Dilshan Dekumpitiya"},"score":0,"creation_date":1677059962,"post_id":75530956,"comment_id":133261077,"body_markdown":"Can you answer it in code format?","body":"Can you answer it in code format?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1677060029,"post_id":75530956,"comment_id":133261098,"body_markdown":"@DilshanDekumpitiya: if you read the answer, then you&#39;ll find that the last sentence contains very explicit instructions of what needs to change in your code. Other than that: no, I prefer to provide understanding rather than handing out code to be mindlessly copied.","body":"@DilshanDekumpitiya: if you read the answer, then you&#39;ll find that the last sentence contains very explicit instructions of what needs to change in your code. Other than that: no, I prefer to provide understanding rather than handing out code to be mindlessly copied."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1677060287,"post_id":75530956,"comment_id":133261157,"body_markdown":"@DilshanDekumpitiya did you even read this answer?","body":"@DilshanDekumpitiya did you even read this answer?"}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1677059553,"creation_date":1677059553,"answer_id":75530956,"question_id":75530914,"body_markdown":"The type `Human` does not have either a field `x` or a method `test()` and your variable `human` is defined as that type.\r\n\r\nYour anonymous inner class has that field and that method, so you&#39;d need to define the variable as that type. But &quot;anonymous&quot; means it doesn&#39;t have a name, so you can&#39;t just replace `Human` with that nonexistent name.\r\n\r\nHowever, if you use `var` then the local variable type inference will give the variable the type of that anonymous class, so replacing `Human human = ...` with `var human = ` will make your code compile.","title":"Why are human.x=10 and human.test(0) compile error in Java with anonymous inner class?","body":"<p>The type <code>Human</code> does not have either a field <code>x</code> or a method <code>test()</code> and your variable <code>human</code> is defined as that type.</p>\n<p>Your anonymous inner class has that field and that method, so you'd need to define the variable as that type. But &quot;anonymous&quot; means it doesn't have a name, so you can't just replace <code>Human</code> with that nonexistent name.</p>\n<p>However, if you use <code>var</code> then the local variable type inference will give the variable the type of that anonymous class, so replacing <code>Human human = ...</code> with <code>var human = </code> will make your code compile.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677059675,"creation_date":1677059675,"answer_id":75530973,"question_id":75530914,"body_markdown":"`human` has a compile time type of `Human`, so when using that reference you act access members (be it data members or methods) that aren&#39;t defined by the `Human` class.\r\n\r\nThe fact that you&#39;re using an anonymous class is inconsequential - the same compiler errors would occur if you extended `Human` with a named class:\r\n\r\n```java\r\npublic class SpecialHuman extends Human {\r\n    int x = 10;\r\n\r\n    public void test() {\r\n        System.out.println(&quot;test - anonymous&quot;);\r\n    }\r\n\r\n    @Override\r\n    void eat() {\r\n        System.out.println(&quot;customer eat!&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Human h = new SpecialHuman();\r\n        human.eat();\r\n        human.x = 10;   //Illegal\r\n        human.test();   //Illegal\r\n}\r\n```","title":"Why are human.x=10 and human.test(0) compile error in Java with anonymous inner class?","body":"<p><code>human</code> has a compile time type of <code>Human</code>, so when using that reference you act access members (be it data members or methods) that aren't defined by the <code>Human</code> class.</p>\n<p>The fact that you're using an anonymous class is inconsequential - the same compiler errors would occur if you extended <code>Human</code> with a named class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpecialHuman extends Human {\n    int x = 10;\n\n    public void test() {\n        System.out.println(&quot;test - anonymous&quot;);\n    }\n\n    @Override\n    void eat() {\n        System.out.println(&quot;customer eat!&quot;);\n    }\n\n    public static void main(String[] args) {\n        Human h = new SpecialHuman();\n        human.eat();\n        human.x = 10;   //Illegal\n        human.test();   //Illegal\n}\n</code></pre>\n"}],"owner":{"account_id":26489664,"reputation":31,"user_id":20127748,"display_name":"Dilshan Dekumpitiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75530956,"answer_count":2,"score":-1,"last_activity_date":1700598680,"creation_date":1677059370,"question_id":75530914,"body_markdown":"    class Human {\r\n    \r\n        void eat() {\r\n            System.out.println(&quot;human eat!&quot;);\r\n        }\r\n    }\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) {\r\n            Human human = new Human() {\r\n                int x = 10;\r\n    \r\n                public void test() {\r\n                    System.out.println(&quot;test - anonymous&quot;);\r\n                }\r\n    \r\n                @Override\r\n                void eat() {\r\n                    System.out.println(&quot;customer eat!&quot;);\r\n                }\r\n    \r\n            };\r\n    \r\n            human.eat();\r\n            human.x = 10;   //Illegal\r\n            human.test();   //Illegal\r\n        }\r\n    }\r\n\r\nIn this code why are `human.x=10;` and `human.test(0);` compile errors?","title":"Why are human.x=10 and human.test(0) compile error in Java with anonymous inner class?","body":"<pre><code>class Human {\n\n    void eat() {\n        System.out.println(&quot;human eat!&quot;);\n    }\n}\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        Human human = new Human() {\n            int x = 10;\n\n            public void test() {\n                System.out.println(&quot;test - anonymous&quot;);\n            }\n\n            @Override\n            void eat() {\n                System.out.println(&quot;customer eat!&quot;);\n            }\n\n        };\n\n        human.eat();\n        human.x = 10;   //Illegal\n        human.test();   //Illegal\n    }\n}\n</code></pre>\n<p>In this code why are <code>human.x=10;</code> and <code>human.test(0);</code> compile errors?</p>\n"},{"tags":["java","algorithm","backtracking","brute-force"],"comments":[{"owner":{"account_id":6448488,"reputation":51502,"user_id":4996248,"accept_rate":82,"display_name":"John Coleman"},"score":3,"creation_date":1497717868,"post_id":44606961,"comment_id":76200950,"body_markdown":"A few seconds seems a bit optimistic for brute force for input data of that size. A back-tracking approach seems better than brute force, but even with back-tracking you are searching through a potentially enormous tree.","body":"A few seconds seems a bit optimistic for brute force for input data of that size. A back-tracking approach seems better than brute force, but even with back-tracking you are searching through a potentially enormous tree."},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":0,"creation_date":1497718526,"post_id":44606961,"comment_id":76201166,"body_markdown":"You are right, a backtracking approach will be necessary and the tree/search space is large.","body":"You are right, a backtracking approach will be necessary and the tree/search space is large."},{"owner":{"account_id":193612,"reputation":32530,"user_id":2320035,"accept_rate":79,"display_name":"sascha"},"score":0,"creation_date":1497719718,"post_id":44606961,"comment_id":76201549,"body_markdown":"Backtracking might be a good start. The next more powerful approaches are probably SAT-solvers (ugly transformation needed) and Constraint-programming (easier to formulate). The latter can benefit from powerful global-constraints.","body":"Backtracking might be a good start. The next more powerful approaches are probably SAT-solvers (ugly transformation needed) and Constraint-programming (easier to formulate). The latter can benefit from powerful global-constraints."},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":0,"creation_date":1497783670,"post_id":44606961,"comment_id":76214919,"body_markdown":"@sascha what ugly transformation are you referring to?","body":"@sascha what ugly transformation are you referring to?"},{"owner":{"account_id":193612,"reputation":32530,"user_id":2320035,"accept_rate":79,"display_name":"sascha"},"score":0,"creation_date":1497783771,"post_id":44606961,"comment_id":76214940,"body_markdown":"@AnnaVopureta Think about how to model this problem in conjunctive normal-form. You will see, that there is some trouble (and a lot of decisions involved). Simple example (not necessarily needed in your problem): Model k&gt;=5 of 100 variables (5 or more are true). This is non-trivial in CNF-form. In CP, it&#39;s a one-liner.","body":"@AnnaVopureta Think about how to model this problem in conjunctive normal-form. You will see, that there is some trouble (and a lot of decisions involved). Simple example (not necessarily needed in your problem): Model k&gt;=5 of 100 variables (5 or more are true). This is non-trivial in CNF-form. In CP, it&#39;s a one-liner."},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":0,"creation_date":1497784281,"post_id":44606961,"comment_id":76215069,"body_markdown":"@sascha Creating a CNF for my problem does seem messy. I&#39;m not interested in &quot;heavy&quot; CP libraries to solve this problem which is AFAIK required in order to solve this with one line using java.","body":"@sascha Creating a CNF for my problem does seem messy. I&#39;m not interested in &quot;heavy&quot; CP libraries to solve this problem which is AFAIK required in order to solve this with one line using java."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":2,"creation_date":1498167505,"post_id":44606961,"comment_id":76402407,"body_markdown":"For brute force, you can possibly just copy the code from [Recursive backtracking in Java for solving a crossword](https://stackoverflow.com/questions/44686362/recursive-backtracking-in-java-for-solving-a-crossword) (there&#39;s a link to [a presumably working complete program](http://ideone.com/o5u5GO) in the comments).","body":"For brute force, you can possibly just copy the code from <a href=\"https://stackoverflow.com/questions/44686362/recursive-backtracking-in-java-for-solving-a-crossword\">Recursive backtracking in Java for solving a crossword</a> (there&#39;s a link to <a href=\"http://ideone.com/o5u5GO\" rel=\"nofollow noreferrer\">a presumably working complete program</a> in the comments)."},{"owner":{"account_id":3850196,"reputation":3198,"user_id":3190576,"accept_rate":95,"display_name":"gdrt"},"score":0,"creation_date":1498250539,"post_id":44606961,"comment_id":76442072,"body_markdown":"@AnnaVopureta, the OP in that link is my question and it&#39;s not fast enough, I got time limit. Greatings from TUM :D","body":"@AnnaVopureta, the OP in that link is my question and it&#39;s not fast enough, I got time limit. Greatings from TUM :D"},{"owner":{"account_id":3850196,"reputation":3198,"user_id":3190576,"accept_rate":95,"display_name":"gdrt"},"score":0,"creation_date":1498497076,"post_id":44606961,"comment_id":76511058,"body_markdown":"Possible duplicate of [Recursive backtracking in Java for solving a crossword](https://stackoverflow.com/questions/44686362/recursive-backtracking-in-java-for-solving-a-crossword)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/44686362/recursive-backtracking-in-java-for-solving-a-crossword\">Recursive backtracking in Java for solving a crossword</a>"},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":0,"creation_date":1498499071,"post_id":44606961,"comment_id":76512120,"body_markdown":"@gdrt that does not solve my problem, the solution is too naive (bad runtime).","body":"@gdrt that does not solve my problem, the solution is too naive (bad runtime)."}],"answers":[{"comments":[{"owner":{"account_id":6448488,"reputation":51502,"user_id":4996248,"accept_rate":82,"display_name":"John Coleman"},"score":2,"creation_date":1497718788,"post_id":44607116,"comment_id":76201258,"body_markdown":"&quot;You are right the problem is NP-complete. So your best chance is to solve it by bruteforce&quot;. That doesn&#39;t make a lot of sense. The travelling salesman problem is NP-complete but there are algorithms in existence which are *much* better than brute-force (even though asymptotically they are still exponential).","body":"&quot;You are right the problem is NP-complete. So your best chance is to solve it by bruteforce&quot;. That doesn&#39;t make a lot of sense. The travelling salesman problem is NP-complete but there are algorithms in existence which are <i>much</i> better than brute-force (even though asymptotically they are still exponential)."},{"owner":{"account_id":1516090,"reputation":7329,"user_id":1417063,"display_name":"Davide Spataro"},"score":0,"creation_date":1497719254,"post_id":44607116,"comment_id":76201391,"body_markdown":"Yes I know, I did not want to say that bruteforcing is the only way to solve the problem. By &quot;your best chance&quot; I meant that a simple backtracking would be correct and farily easy to implement (since she&#39;s asking for help on SO I assumed that would be a good starting point).  I will update the answer to make it clearer=). Good point though, Thanks.","body":"Yes I know, I did not want to say that bruteforcing is the only way to solve the problem. By &quot;your best chance&quot; I meant that a simple backtracking would be correct and farily easy to implement (since she&#39;s asking for help on SO I assumed that would be a good starting point).  I will update the answer to make it clearer=). Good point though, Thanks."},{"owner":{"account_id":193612,"reputation":32530,"user_id":2320035,"accept_rate":79,"display_name":"sascha"},"score":1,"creation_date":1497719297,"post_id":44607116,"comment_id":76201406,"body_markdown":"Well, they are only better than brute-force in a non-general setting with additional assumptions. I don&#39;t consider that sentence wrong (theory-wise).","body":"Well, they are only better than brute-force in a non-general setting with additional assumptions. I don&#39;t consider that sentence wrong (theory-wise)."},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":0,"creation_date":1497721223,"post_id":44607116,"comment_id":76201963,"body_markdown":"The approaches in the mentioned papers are overkill for my purposes, a &quot;correct and fairly easy to implement&quot; backtracking solution is fine.","body":"The approaches in the mentioned papers are overkill for my purposes, a &quot;correct and fairly easy to implement&quot; backtracking solution is fine."},{"owner":{"account_id":6448488,"reputation":51502,"user_id":4996248,"accept_rate":82,"display_name":"John Coleman"},"score":0,"creation_date":1497723057,"post_id":44607116,"comment_id":76202553,"body_markdown":"@sascha I see what you mean, but &quot;so&quot; means &quot;implies&quot;. Even if `P != NP` it isn&#39;t true that if a problem is NP complete then there isn&#39;t anything significantly better than brute force. Even theory-wise, it isn&#39;t a valid implication. The only thing that theory implies is that if `P != NP` then there isn&#39;t any polynomial-time algorithm, but the set of non-polynomial time algorithms isn&#39;t exhausted by brute-force.","body":"@sascha I see what you mean, but &quot;so&quot; means &quot;implies&quot;. Even if <code>P != NP</code> it isn&#39;t true that if a problem is NP complete then there isn&#39;t anything significantly better than brute force. Even theory-wise, it isn&#39;t a valid implication. The only thing that theory implies is that if <code>P != NP</code> then there isn&#39;t any polynomial-time algorithm, but the set of non-polynomial time algorithms isn&#39;t exhausted by brute-force."},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":0,"creation_date":1497727747,"post_id":44607116,"comment_id":76204079,"body_markdown":"@Davide Spataro The implementation behind your first link assumes that I have knowledge about the starting point and orientation of the blanks in the crossword :/","body":"@Davide Spataro The implementation behind your first link assumes that I have knowledge about the starting point and orientation of the blanks in the crossword :/"},{"owner":{"account_id":193612,"reputation":32530,"user_id":2320035,"accept_rate":79,"display_name":"sascha"},"score":0,"creation_date":1497728781,"post_id":44607116,"comment_id":76204364,"body_markdown":"@JohnColeman I would be careful with that implication. Of course it&#39;s valid when we look at practical cases and exploit additional structure, but for the general case (all instances) the no free lunch theorem should apply.","body":"@JohnColeman I would be careful with that implication. Of course it&#39;s valid when we look at practical cases and exploit additional structure, but for the general case (all instances) the no free lunch theorem should apply."},{"owner":{"account_id":1516090,"reputation":7329,"user_id":1417063,"display_name":"Davide Spataro"},"score":0,"creation_date":1497736353,"post_id":44607116,"comment_id":76206175,"body_markdown":"@Anna I guess that it is not hard to search on Google for the code that solves your exactly your problem. What I have linked uses backtracking to solve a very similar problem and that is enough to point you to the way I would start tackling the problem.","body":"@Anna I guess that it is not hard to search on Google for the code that solves your exactly your problem. What I have linked uses backtracking to solve a very similar problem and that is enough to point you to the way I would start tackling the problem."},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":0,"creation_date":1497740095,"post_id":44607116,"comment_id":76206964,"body_markdown":"I tried finding a solution which suits my needs but couldn&#39;t find anything. The link you provided is the first thing that comes up, a few others use the exact same approach (also require information about the starting point and orientation of the blanks). There is no solution to my problem as far as I know.","body":"I tried finding a solution which suits my needs but couldn&#39;t find anything. The link you provided is the first thing that comes up, a few others use the exact same approach (also require information about the starting point and orientation of the blanks). There is no solution to my problem as far as I know."},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":0,"creation_date":1497877366,"post_id":44607116,"comment_id":76248130,"body_markdown":"@DavideSpataro The problem seems much more difficult than I imagined it to be. No wonder there are no already available solutions to it, even tho it&#39;s pretty general &quot;solve a given crossword with a given list of words&quot;. :/","body":"@DavideSpataro The problem seems much more difficult than I imagined it to be. No wonder there are no already available solutions to it, even tho it&#39;s pretty general &quot;solve a given crossword with a given list of words&quot;. :/"},{"owner":{"account_id":1516090,"reputation":7329,"user_id":1417063,"display_name":"Davide Spataro"},"score":1,"creation_date":1497890700,"post_id":44607116,"comment_id":76257433,"body_markdown":"Can you provide some sample input and output please?","body":"Can you provide some sample input and output please?"}],"tags":[],"owner":{"account_id":1516090,"reputation":7329,"user_id":1417063,"display_name":"Davide Spataro"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497720090,"creation_date":1497718477,"answer_id":44607116,"question_id":44606961,"body_markdown":"You are right the problem is `NP`-complete. So your best chance is to solve it by brute-force (if you find a polynomial algorithm please tell me, we can both be rich =)).\r\n\r\nWhat I suggest you is to take a look at **[backtracking][3]**. It will allow you to write an elegant (and yet slow given your input size) solution to the crossword problem.\r\n\r\nIf you need more inspirational material take a look at [this solver][4] that uses backtracking as a method to navigate the solution tree.\r\n  \r\n\r\n\r\n Note that there are algorithms out there that might in practice perform better than a pure brute-force (even though still of exponential complexity).\r\nAlso, a quick search on *scholar* reveals a good number of papers on the topic that you might want to take a look at, such as the followings:\r\n\r\n- [using genetic algorithm][1]\r\n- [using a probabilistic approach][2]\r\n\r\n\r\n\r\n\r\n  [1]: http://dl.acm.org/citation.cfm?id=162894\r\n  [2]: http://www.sciencedirect.com/science/article/pii/S000437020100114X\r\n  [3]: https://en.wikipedia.org/wiki/Backtracking\r\n  [4]: http://breen.io/code/Crossword.java","title":"Writing a program that solves crosswords efficiently","body":"<p>You are right the problem is <code>NP</code>-complete. So your best chance is to solve it by brute-force (if you find a polynomial algorithm please tell me, we can both be rich =)).</p>\n\n<p>What I suggest you is to take a look at <strong><a href=\"https://en.wikipedia.org/wiki/Backtracking\" rel=\"nofollow noreferrer\">backtracking</a></strong>. It will allow you to write an elegant (and yet slow given your input size) solution to the crossword problem.</p>\n\n<p>If you need more inspirational material take a look at <a href=\"http://breen.io/code/Crossword.java\" rel=\"nofollow noreferrer\">this solver</a> that uses backtracking as a method to navigate the solution tree.</p>\n\n<p>Note that there are algorithms out there that might in practice perform better than a pure brute-force (even though still of exponential complexity).\nAlso, a quick search on <em>scholar</em> reveals a good number of papers on the topic that you might want to take a look at, such as the followings:</p>\n\n<ul>\n<li><a href=\"http://dl.acm.org/citation.cfm?id=162894\" rel=\"nofollow noreferrer\">using genetic algorithm</a></li>\n<li><a href=\"http://www.sciencedirect.com/science/article/pii/S000437020100114X\" rel=\"nofollow noreferrer\">using a probabilistic approach</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6860688,"reputation":406,"user_id":5420596,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498156109,"creation_date":1498155781,"answer_id":44706824,"question_id":44606961,"body_markdown":"A crossword puzzle is a Constraint satisfaction problem which is generally a NP-Complete, but there are many solvers that will apply the most efficient algorithms to a constraint problem that you specify.  The Z3 SMT solver can solve these problems very easily and at scale.  All you have to do is write a Java program that transforms the crossword puzzle into a SMT problem the solver can understand then gives it to the solver to solve it.   Z3 has Java bindings so it should be pretty simple.  I have written the Z3 code for solving the first example below.  It should not be difficult for you to follow the pattern in your Java program to specify arbitrarily large crossroad puzzles. \r\n\r\n    ; Declare each possible word as string literals\r\n    (define-const str1 String &quot;tuna&quot;)\r\n    (define-const str2 String &quot;music&quot;)\r\n    (define-const str3 String &quot;can&quot;)\r\n    (define-const str4 String &quot;hi&quot;)\r\n    \r\n    ; Define a function that returns true if the given String is equal to one of the possible words defined above.\r\n    (define-fun validString ((s String)) Bool \r\n        (or (= s str1) (or (= s str2) (or (= s str3) (= s str4)))))\r\n    \r\n    ; Declare the strings that need to be solved\r\n    (declare-const unknownStr1 String)\r\n    (declare-const unknownStr2 String)\r\n    (declare-const unknownStr3 String)\r\n    (declare-const unknownStr4 String)\r\n    \r\n    ; Assert the correct lengths for each of the unknown strings.\r\n    (assert (= (str.len unknownStr1) 4))\r\n    (assert (= (str.len unknownStr2) 5))\r\n    (assert (= (str.len unknownStr3) 3))\r\n    (assert (= (str.len unknownStr4) 2))\r\n    \r\n    ; Assert each of the unknown strings is one of the possible words.\r\n    (assert (validString unknownStr1))\r\n    (assert (validString unknownStr2))\r\n    (assert (validString unknownStr3))\r\n    (assert (validString unknownStr4))\r\n    \r\n    ; Where one word in the crossword puzzle intersects another assert that the characters at the intersection point are equal.\r\n    (assert (= (str.at unknownStr1 1) (str.at unknownStr2 1)))\r\n    (assert (= (str.at unknownStr2 3) (str.at unknownStr4 1)))\r\n    (assert (= (str.at unknownStr2 4) (str.at unknownStr3 0)))\r\n    \r\n    ; Solve the model\r\n    (check-sat)\r\n    (get-model)\r\n\r\nI recommend the Z3 SMT solver, but there are plenty of other constraint solvers.  There is no need for you to implement your own constraint solving algorithm any more than there is a need for you to implement your own sorting algorithm.  ","title":"Writing a program that solves crosswords efficiently","body":"<p>A crossword puzzle is a Constraint satisfaction problem which is generally a NP-Complete, but there are many solvers that will apply the most efficient algorithms to a constraint problem that you specify.  The Z3 SMT solver can solve these problems very easily and at scale.  All you have to do is write a Java program that transforms the crossword puzzle into a SMT problem the solver can understand then gives it to the solver to solve it.   Z3 has Java bindings so it should be pretty simple.  I have written the Z3 code for solving the first example below.  It should not be difficult for you to follow the pattern in your Java program to specify arbitrarily large crossroad puzzles. </p>\n\n<pre><code>; Declare each possible word as string literals\n(define-const str1 String \"tuna\")\n(define-const str2 String \"music\")\n(define-const str3 String \"can\")\n(define-const str4 String \"hi\")\n\n; Define a function that returns true if the given String is equal to one of the possible words defined above.\n(define-fun validString ((s String)) Bool \n    (or (= s str1) (or (= s str2) (or (= s str3) (= s str4)))))\n\n; Declare the strings that need to be solved\n(declare-const unknownStr1 String)\n(declare-const unknownStr2 String)\n(declare-const unknownStr3 String)\n(declare-const unknownStr4 String)\n\n; Assert the correct lengths for each of the unknown strings.\n(assert (= (str.len unknownStr1) 4))\n(assert (= (str.len unknownStr2) 5))\n(assert (= (str.len unknownStr3) 3))\n(assert (= (str.len unknownStr4) 2))\n\n; Assert each of the unknown strings is one of the possible words.\n(assert (validString unknownStr1))\n(assert (validString unknownStr2))\n(assert (validString unknownStr3))\n(assert (validString unknownStr4))\n\n; Where one word in the crossword puzzle intersects another assert that the characters at the intersection point are equal.\n(assert (= (str.at unknownStr1 1) (str.at unknownStr2 1)))\n(assert (= (str.at unknownStr2 3) (str.at unknownStr4 1)))\n(assert (= (str.at unknownStr2 4) (str.at unknownStr3 0)))\n\n; Solve the model\n(check-sat)\n(get-model)\n</code></pre>\n\n<p>I recommend the Z3 SMT solver, but there are plenty of other constraint solvers.  There is no need for you to implement your own constraint solving algorithm any more than there is a need for you to implement your own sorting algorithm.  </p>\n"},{"tags":[],"owner":{"account_id":9278143,"reputation":8583,"user_id":6893866,"accept_rate":74,"display_name":"Tezra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498159961,"creation_date":1498159961,"answer_id":44707919,"question_id":44606961,"body_markdown":"To make this problem easier to solve, I&#39;ll break this down into smaller, easier problems. Note that I am not including code/algorithms, as I believe that will not help here (If we wanted the best Code, there would be indexes and databases and black magic that makes your head explode just seeing it). Instead, this answer tries to answer the question by talking about methods of thought that will help the OP tackle this problem (and future ones) using the method that works best for the reader.\r\n\r\n&lt;h1&gt;What you need to know&lt;/h1&gt;\r\n\r\nThis answer assumes you know how to do the following\r\n\r\n - Create and use Objects that have properties and functions\r\n - Pick a data structure that works (not necessarily good) for what you want to do with its contents.\r\n\r\n&lt;h1&gt;Modeling your space&lt;/h1&gt;\r\nSo, it&#39;s easy enough to load your crossword into an n by m matrix (2D array, hereby &#39;grid&#39;), but this is very heard to work with pragmatically. So lets start by parsing your crossword from a grid to a legitimate object.\r\n\r\nAs far as your program needs to know, each entry in the crossword has 4 properties. \r\n\r\n 1. An X-Y coordinate in the grid for the first letter\r\n 2. A direction (down or across)\r\n 3. Word length\r\n 4. Word value\r\n 5. Map of bound indexes\r\n  - Key: Index of word that is shared with another entry\r\n  - Value: Entry that index is shared with\r\n  - (You can make this a tuple and include the shared index from the other entry for easy refrence)\r\n\r\nYou can find these in the grid based on these rules while scanning.\r\n\r\n  1. If Row_1_up is closed and Row_1_down is open, this is the start index of a down word. (scan down for for length. For bound indexes, left or right space will be open. scan left to get linked entry coord-id)\r\n  2. Same as 1 but rotated for across words (You can do this at the same time as the scan for 1)\r\n\r\nIn your crossword object, you can store the entries using the coordinate+direction as the key for easy reference and easy conversion to/from text grid form.\r\n\r\n&lt;h1&gt;Using your model&lt;/h1&gt;\r\n\r\nYou should now have an object containing a collection of crossword entries, which contain their relevant index bindings. You now need to find a set of values that will satisfy all your entries.\r\n\r\nYour entry objects should have helper methods like `isValidEntry(str)` that checks for the given value, and the current state of the crossword, can I put this word here? By making each object in your model responsible for its own level of logic, the code for the problem one thought layer up can just call the logic without worrying about it&#39;s implementation (in this example, Your solver doesn&#39;t have to worry about the logic of is a value valid, it can just ask `isValidEntry` for that)\r\n\r\nIf you have done the above right, solving the problem is then a simple matter of iterating over all words for all entries to find a solution.\r\n\r\n&lt;h3&gt;List of sub problems&lt;/h3&gt;\r\n\r\nFor reference, here is my list of sub problems that you need to write something to solve.\r\n\r\n- How can I ideally model my work-space that is easy for me to work with?\r\n- For each piece of my model, what does it need to know? What logic can it handle for me?\r\n- How can I transform my text input into a usable model object?\r\n- How do I solve my problem using my model objects? (For you, it is iterate all words/all entries to find a valid set. Maybe using recursion)","title":"Writing a program that solves crosswords efficiently","body":"<p>To make this problem easier to solve, I'll break this down into smaller, easier problems. Note that I am not including code/algorithms, as I believe that will not help here (If we wanted the best Code, there would be indexes and databases and black magic that makes your head explode just seeing it). Instead, this answer tries to answer the question by talking about methods of thought that will help the OP tackle this problem (and future ones) using the method that works best for the reader.</p>\n\n<h1>What you need to know</h1>\n\n<p>This answer assumes you know how to do the following</p>\n\n<ul>\n<li>Create and use Objects that have properties and functions</li>\n<li>Pick a data structure that works (not necessarily good) for what you want to do with its contents.</li>\n</ul>\n\n<h1>Modeling your space</h1>\n\n<p>So, it's easy enough to load your crossword into an n by m matrix (2D array, hereby 'grid'), but this is very heard to work with pragmatically. So lets start by parsing your crossword from a grid to a legitimate object.</p>\n\n<p>As far as your program needs to know, each entry in the crossword has 4 properties. </p>\n\n<ol>\n<li>An X-Y coordinate in the grid for the first letter</li>\n<li>A direction (down or across)</li>\n<li>Word length</li>\n<li>Word value</li>\n<li>Map of bound indexes\n\n<ul>\n<li>Key: Index of word that is shared with another entry</li>\n<li>Value: Entry that index is shared with</li>\n<li>(You can make this a tuple and include the shared index from the other entry for easy refrence)</li>\n</ul></li>\n</ol>\n\n<p>You can find these in the grid based on these rules while scanning.</p>\n\n<ol>\n<li>If Row_1_up is closed and Row_1_down is open, this is the start index of a down word. (scan down for for length. For bound indexes, left or right space will be open. scan left to get linked entry coord-id)</li>\n<li>Same as 1 but rotated for across words (You can do this at the same time as the scan for 1)</li>\n</ol>\n\n<p>In your crossword object, you can store the entries using the coordinate+direction as the key for easy reference and easy conversion to/from text grid form.</p>\n\n<h1>Using your model</h1>\n\n<p>You should now have an object containing a collection of crossword entries, which contain their relevant index bindings. You now need to find a set of values that will satisfy all your entries.</p>\n\n<p>Your entry objects should have helper methods like <code>isValidEntry(str)</code> that checks for the given value, and the current state of the crossword, can I put this word here? By making each object in your model responsible for its own level of logic, the code for the problem one thought layer up can just call the logic without worrying about it's implementation (in this example, Your solver doesn't have to worry about the logic of is a value valid, it can just ask <code>isValidEntry</code> for that)</p>\n\n<p>If you have done the above right, solving the problem is then a simple matter of iterating over all words for all entries to find a solution.</p>\n\n<h3>List of sub problems</h3>\n\n<p>For reference, here is my list of sub problems that you need to write something to solve.</p>\n\n<ul>\n<li>How can I ideally model my work-space that is easy for me to work with?</li>\n<li>For each piece of my model, what does it need to know? What logic can it handle for me?</li>\n<li>How can I transform my text input into a usable model object?</li>\n<li>How do I solve my problem using my model objects? (For you, it is iterate all words/all entries to find a valid set. Maybe using recursion)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":480372,"reputation":17424,"user_id":893578,"display_name":"Sheepy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1498368518,"creation_date":1498249790,"answer_id":44729503,"question_id":44606961,"body_markdown":"The basic idea you have is pretty sensible:\r\n\r\n1. Identify slots on the board.\r\n2. Try each slot with each word that fits.\r\n3. If every slots can be filled without conflict, it is solved.\r\n\r\nIt&#39;s an excellent plan.\r\nThe next step is to translate it into a design.\r\nFor small program like this we can go straight to pseudo code.\r\nThe gist of it, as explained by other answers, is [recursion][1]:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    1  Draw a slot from the slot pool.\r\n    2     If slot pool is empty (all slots filled), stop solving.\r\n    3  For each word with correct length:\r\n    4     If part of the slot is filled, check conflict.\r\n    5        If the word does not fit, continue the loop to next word.\r\n          // No conflict\r\n    6     Fill the slot with the word.\r\n          // Try next slot (down a level)\r\n    7     Recur from step 1.\r\n    8     If the recur found no solution, revert (take the word back) and try next.\r\n       // None of them works\r\n    9  If no words yield a solution, an upper level need to try another word.\r\n       Revert (put the slot back) and go back.\r\n\r\nBelow is a short but complete example that I cooked up from your requirements.\r\n\r\n&gt; There is more than one way to skin a cat.\r\n&gt; My code swapped step 1 and 2, and combines step 4 to 6 in one fill loop.\r\n\r\nKey points:\r\n\r\n - Use a formatter to fit the code to your style.\r\n - The 2D board is stored in a linear character array in [row-major order][2].\r\n - This allow the board to be save by `clone()` and restored by [arraycopy][3].\r\n - On creation, the board is scanned for slots in two passes from two directions.\r\n - The two slot lists are solved by the same loop, differ mainly in how the slots are filled.\r\n - The recur process is displayed, so you can see how it works.\r\n - Many assumptions are made.  No single letter slot, all words in same case, board is correct etc.\r\n - Be patient.  Learn whatever is new and give yourself time to absorb it.\r\n\r\nSource:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n    import java.awt.Point;\r\n    import java.util.*;\r\n    import java.util.function.BiFunction;\r\n    import java.util.function.Supplier;\r\n    import java.util.stream.Stream;\r\n\r\n    public class Crossword {\r\n\r\n       public static void main ( String[] args ) {\r\n          new Crossword( Arrays.asList( &quot;5 4 4\\n#_#_#\\n_____\\n#_##_\\n#_##_\\ntuna\\nmusic\\ncan\\nhi&quot;.split( &quot;\\n&quot; ) ) );\r\n          new Crossword( Arrays.asList( &quot;6 6 4\\n##_###\\n#____#\\n___#__\\n#_##_#\\n#____#\\n##_###\\nnice\\npain\\npal\\nid&quot;.split( &quot;\\n&quot; ) ) );\r\n       }\r\n\r\n       private final int height, width; // Board size\r\n       private final char[] board; // Current board state.  _ is unfilled.  # is blocked.  other characters are filled.\r\n       private final Set&lt;String&gt; words; // List of words\r\n       private final Map&lt;Point, Integer&gt; vertical = new HashMap&lt;&gt;(), horizontal = new HashMap&lt;&gt;();  // Vertical and horizontal slots\r\n\r\n       private String indent = &quot;&quot;; // For formatting log\r\n       private void log ( String message, Object... args ) { System.out.println( indent + String.format( message, args ) ); }\r\n\r\n       private Crossword ( List&lt;String&gt; lines ) {\r\n          // Parse input data\r\n          final int[] sizes = Stream.of( lines.get(0).split( &quot;\\\\s+&quot; ) ).mapToInt( Integer::parseInt ).toArray();\r\n          width = sizes[0];  height = sizes[1];\r\n          board = String.join( &quot;&quot;, lines.subList( 1, height+1 ) ).toCharArray();\r\n          words = new HashSet&lt;&gt;( lines.subList( height+1, lines.size() ) );\r\n          // Find horizontal slots then vertical slots\r\n          for ( int y = 0, size ; y &lt; height ; y++ )\r\n             for ( int x = 0 ; x &lt; width-1 ; x++ )\r\n                if ( isSpace( x, y ) &amp;&amp; isSpace( x+1, y ) ) {\r\n                   for ( size = 2 ; x+size &lt; width &amp;&amp; isSpace( x+size, y ) ; size++ ); // Find slot size\r\n                   horizontal.put( new Point( x, y ), size );\r\n                   x += size; // Skip past this horizontal slot\r\n                }\r\n          for ( int x = 0, size ; x &lt; width ; x++ )\r\n             for ( int y = 0 ; y &lt; height-1 ; y++ )\r\n                if ( isSpace( x, y ) &amp;&amp; isSpace( x, y+1 ) ) {\r\n                   for ( size = 2 ; y+size &lt; height &amp;&amp; isSpace( x, y+size ) ; size++ ); // Find slot size\r\n                   vertical.put( new Point( x, y ), size );\r\n                   y += size; // Skip past this vertical slot\r\n                }\r\n          log( &quot;A &quot; + width + &quot;x&quot; + height + &quot; board, &quot; + vertical.size() + &quot; vertical, &quot; + horizontal.size() + &quot; horizontal.&quot; );\r\n          // Solve the crossword, horizontal first then vertical\r\n          final boolean solved = solveHorizontal();\r\n          // Show board, either fully filled or totally empty.\r\n          for ( int i = 0 ; i &lt; board.length ; i++ ) {\r\n             if ( i % width == 0 ) System.out.println();\r\n             System.out.print( board[i] );\r\n          }\r\n          System.out.println( solved ? &quot;\\n&quot; : &quot;\\nNo solution found\\n&quot; );\r\n       }\r\n\r\n       // Helper functions to check or set board cell\r\n       private char get ( int x, int y ) { return board[ y * width + x ]; }\r\n       private void set ( int x, int y, char character ) { board[ y * width + x ] = character; }\r\n       private boolean isSpace ( int x, int y ) { return get( x, y ) == &#39;_&#39;; }\r\n\r\n       // Fit all horizontal slots, when success move to solve vertical.\r\n       private boolean solveHorizontal () {\r\n          return solve( horizontal, this::fitHorizontal, &quot;horizontally&quot;, this::solveVertical );\r\n       }\r\n       // Fit all vertical slots, report success when done\r\n       private boolean solveVertical () {\r\n          return solve( vertical, this::fitVertical, &quot;vertically&quot;, () -&gt; true );\r\n       }\r\n\r\n       // Recur each slot, try every word in a loop.  When all slots of this kind are filled successfully, run next stage.\r\n       private boolean solve ( Map&lt;Point, Integer&gt; slot, BiFunction&lt;Point, String, Boolean&gt; fill, String dir, Supplier&lt;Boolean&gt; next ) {\r\n          if ( slot.isEmpty() ) return next.get(); // If finished, move to next stage.\r\n          final Point pos = slot.keySet().iterator().next();\r\n          final int size = slot.remove( pos );\r\n          final char[] state = board.clone();\r\n          /* Try each word */                                                   indent += &quot;  &quot;;\r\n          for ( String word : words ) {\r\n             if ( word.length() != size ) continue;\r\n             /* If the word fit, recur. If recur success, done! */              log( &quot;Trying %s %s at %d,%d&quot;, word, dir, pos.x, pos.y );\r\n             if ( fill.apply( pos, word ) &amp;&amp; solve( slot, fill, dir, next ) )\r\n                return true;\r\n             /* Doesn&#39;t match. Restore board and try next word */               log( &quot;%s failed %s at %d,%d&quot;, word, dir, pos.x, pos.y );\r\n             System.arraycopy( state, 0, board, 0, board.length );\r\n          }\r\n          /* No match.  Restore slot and report failure */                      indent = indent.substring( 0, indent.length() - 2 );\r\n          slot.put( pos, size );\r\n          return false;\r\n       }\r\n\r\n       // Try fit a word to a slot.  Return false if there is a conflict.\r\n       private boolean fitHorizontal ( Point pos, String word ) {\r\n          final int x = pos.x, y = pos.y;\r\n          for ( int i = 0 ; i &lt; word.length() ; i++ ) {\r\n             if ( ! isSpace( x+i, y ) &amp;&amp; get( x+i, y ) != word.charAt( i ) ) return false; // Conflict\r\n             set( x+i, y, word.charAt( i ) );\r\n          }\r\n          return true;\r\n       }\r\n       private boolean fitVertical ( Point pos, String word ) {\r\n          final int x = pos.x, y = pos.y;\r\n          for ( int i = 0 ; i &lt; word.length() ; i++ ) {\r\n             if ( ! isSpace( x, y+i ) &amp;&amp; get( x, y+i ) != word.charAt( i ) ) return false; // Conflict\r\n             set( x, y+i, word.charAt( i ) );\r\n          }\r\n          return true;\r\n       }\r\n    }\r\n\r\n&gt; Exercise: You can [rewrite][4] recursion to iteration; faster and can support bigger boards.\r\n&gt; Once that&#39;s done it can be converted to multi-thread and run even faster.\r\n\r\n  [1]: http://introcs.cs.princeton.edu/java/23recursion/\r\n  [2]: https://en.wikipedia.org/wiki/Row-_and_column-major_order\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#arraycopy-java.lang.Object-int-java.lang.Object-int-int-\r\n  [4]: http://blog.moertel.com/posts/2013-05-11-recursive-to-iterative.html","title":"Writing a program that solves crosswords efficiently","body":"<p>The basic idea you have is pretty sensible:</p>\n\n<ol>\n<li>Identify slots on the board.</li>\n<li>Try each slot with each word that fits.</li>\n<li>If every slots can be filled without conflict, it is solved.</li>\n</ol>\n\n<p>It's an excellent plan.\nThe next step is to translate it into a design.\nFor small program like this we can go straight to pseudo code.\nThe gist of it, as explained by other answers, is <a href=\"http://introcs.cs.princeton.edu/java/23recursion/\" rel=\"nofollow noreferrer\">recursion</a>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1  Draw a slot from the slot pool.\n2     If slot pool is empty (all slots filled), stop solving.\n3  For each word with correct length:\n4     If part of the slot is filled, check conflict.\n5        If the word does not fit, continue the loop to next word.\n      // No conflict\n6     Fill the slot with the word.\n      // Try next slot (down a level)\n7     Recur from step 1.\n8     If the recur found no solution, revert (take the word back) and try next.\n   // None of them works\n9  If no words yield a solution, an upper level need to try another word.\n   Revert (put the slot back) and go back.\n</code></pre>\n\n<p>Below is a short but complete example that I cooked up from your requirements.</p>\n\n<blockquote>\n  <p>There is more than one way to skin a cat.\n  My code swapped step 1 and 2, and combines step 4 to 6 in one fill loop.</p>\n</blockquote>\n\n<p>Key points:</p>\n\n<ul>\n<li>Use a formatter to fit the code to your style.</li>\n<li>The 2D board is stored in a linear character array in <a href=\"https://en.wikipedia.org/wiki/Row-_and_column-major_order\" rel=\"nofollow noreferrer\">row-major order</a>.</li>\n<li>This allow the board to be save by <code>clone()</code> and restored by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#arraycopy-java.lang.Object-int-java.lang.Object-int-int-\" rel=\"nofollow noreferrer\">arraycopy</a>.</li>\n<li>On creation, the board is scanned for slots in two passes from two directions.</li>\n<li>The two slot lists are solved by the same loop, differ mainly in how the slots are filled.</li>\n<li>The recur process is displayed, so you can see how it works.</li>\n<li>Many assumptions are made.  No single letter slot, all words in same case, board is correct etc.</li>\n<li>Be patient.  Learn whatever is new and give yourself time to absorb it.</li>\n</ul>\n\n<p>Source:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Point;\nimport java.util.*;\nimport java.util.function.BiFunction;\nimport java.util.function.Supplier;\nimport java.util.stream.Stream;\n\npublic class Crossword {\n\n   public static void main ( String[] args ) {\n      new Crossword( Arrays.asList( \"5 4 4\\n#_#_#\\n_____\\n#_##_\\n#_##_\\ntuna\\nmusic\\ncan\\nhi\".split( \"\\n\" ) ) );\n      new Crossword( Arrays.asList( \"6 6 4\\n##_###\\n#____#\\n___#__\\n#_##_#\\n#____#\\n##_###\\nnice\\npain\\npal\\nid\".split( \"\\n\" ) ) );\n   }\n\n   private final int height, width; // Board size\n   private final char[] board; // Current board state.  _ is unfilled.  # is blocked.  other characters are filled.\n   private final Set&lt;String&gt; words; // List of words\n   private final Map&lt;Point, Integer&gt; vertical = new HashMap&lt;&gt;(), horizontal = new HashMap&lt;&gt;();  // Vertical and horizontal slots\n\n   private String indent = \"\"; // For formatting log\n   private void log ( String message, Object... args ) { System.out.println( indent + String.format( message, args ) ); }\n\n   private Crossword ( List&lt;String&gt; lines ) {\n      // Parse input data\n      final int[] sizes = Stream.of( lines.get(0).split( \"\\\\s+\" ) ).mapToInt( Integer::parseInt ).toArray();\n      width = sizes[0];  height = sizes[1];\n      board = String.join( \"\", lines.subList( 1, height+1 ) ).toCharArray();\n      words = new HashSet&lt;&gt;( lines.subList( height+1, lines.size() ) );\n      // Find horizontal slots then vertical slots\n      for ( int y = 0, size ; y &lt; height ; y++ )\n         for ( int x = 0 ; x &lt; width-1 ; x++ )\n            if ( isSpace( x, y ) &amp;&amp; isSpace( x+1, y ) ) {\n               for ( size = 2 ; x+size &lt; width &amp;&amp; isSpace( x+size, y ) ; size++ ); // Find slot size\n               horizontal.put( new Point( x, y ), size );\n               x += size; // Skip past this horizontal slot\n            }\n      for ( int x = 0, size ; x &lt; width ; x++ )\n         for ( int y = 0 ; y &lt; height-1 ; y++ )\n            if ( isSpace( x, y ) &amp;&amp; isSpace( x, y+1 ) ) {\n               for ( size = 2 ; y+size &lt; height &amp;&amp; isSpace( x, y+size ) ; size++ ); // Find slot size\n               vertical.put( new Point( x, y ), size );\n               y += size; // Skip past this vertical slot\n            }\n      log( \"A \" + width + \"x\" + height + \" board, \" + vertical.size() + \" vertical, \" + horizontal.size() + \" horizontal.\" );\n      // Solve the crossword, horizontal first then vertical\n      final boolean solved = solveHorizontal();\n      // Show board, either fully filled or totally empty.\n      for ( int i = 0 ; i &lt; board.length ; i++ ) {\n         if ( i % width == 0 ) System.out.println();\n         System.out.print( board[i] );\n      }\n      System.out.println( solved ? \"\\n\" : \"\\nNo solution found\\n\" );\n   }\n\n   // Helper functions to check or set board cell\n   private char get ( int x, int y ) { return board[ y * width + x ]; }\n   private void set ( int x, int y, char character ) { board[ y * width + x ] = character; }\n   private boolean isSpace ( int x, int y ) { return get( x, y ) == '_'; }\n\n   // Fit all horizontal slots, when success move to solve vertical.\n   private boolean solveHorizontal () {\n      return solve( horizontal, this::fitHorizontal, \"horizontally\", this::solveVertical );\n   }\n   // Fit all vertical slots, report success when done\n   private boolean solveVertical () {\n      return solve( vertical, this::fitVertical, \"vertically\", () -&gt; true );\n   }\n\n   // Recur each slot, try every word in a loop.  When all slots of this kind are filled successfully, run next stage.\n   private boolean solve ( Map&lt;Point, Integer&gt; slot, BiFunction&lt;Point, String, Boolean&gt; fill, String dir, Supplier&lt;Boolean&gt; next ) {\n      if ( slot.isEmpty() ) return next.get(); // If finished, move to next stage.\n      final Point pos = slot.keySet().iterator().next();\n      final int size = slot.remove( pos );\n      final char[] state = board.clone();\n      /* Try each word */                                                   indent += \"  \";\n      for ( String word : words ) {\n         if ( word.length() != size ) continue;\n         /* If the word fit, recur. If recur success, done! */              log( \"Trying %s %s at %d,%d\", word, dir, pos.x, pos.y );\n         if ( fill.apply( pos, word ) &amp;&amp; solve( slot, fill, dir, next ) )\n            return true;\n         /* Doesn't match. Restore board and try next word */               log( \"%s failed %s at %d,%d\", word, dir, pos.x, pos.y );\n         System.arraycopy( state, 0, board, 0, board.length );\n      }\n      /* No match.  Restore slot and report failure */                      indent = indent.substring( 0, indent.length() - 2 );\n      slot.put( pos, size );\n      return false;\n   }\n\n   // Try fit a word to a slot.  Return false if there is a conflict.\n   private boolean fitHorizontal ( Point pos, String word ) {\n      final int x = pos.x, y = pos.y;\n      for ( int i = 0 ; i &lt; word.length() ; i++ ) {\n         if ( ! isSpace( x+i, y ) &amp;&amp; get( x+i, y ) != word.charAt( i ) ) return false; // Conflict\n         set( x+i, y, word.charAt( i ) );\n      }\n      return true;\n   }\n   private boolean fitVertical ( Point pos, String word ) {\n      final int x = pos.x, y = pos.y;\n      for ( int i = 0 ; i &lt; word.length() ; i++ ) {\n         if ( ! isSpace( x, y+i ) &amp;&amp; get( x, y+i ) != word.charAt( i ) ) return false; // Conflict\n         set( x, y+i, word.charAt( i ) );\n      }\n      return true;\n   }\n}\n</code></pre>\n\n<blockquote>\n  <p>Exercise: You can <a href=\"http://blog.moertel.com/posts/2013-05-11-recursive-to-iterative.html\" rel=\"nofollow noreferrer\">rewrite</a> recursion to iteration; faster and can support bigger boards.\n  Once that's done it can be converted to multi-thread and run even faster.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3577675,"reputation":351,"user_id":2986534,"display_name":"Mehmet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591315393,"creation_date":1591315393,"answer_id":62206055,"question_id":44606961,"body_markdown":"I just implemented a code in Scala to solve such puzzles. I am just using recursion to solve the problem. In short, for each word, I find all possible slots, and pick a slot and fill it with the word, and try to solve the partial puzzle with recursion. If the puzzle cannot be filled with the rest of words, it tries another slot, etc. if not, the puzzle is solved.\r\n\r\nHere is the link to my code:\r\n[https://github.com/mysilver/AMP/blob/master/Crossword.scala][1]\r\n\r\n\r\n  [1]: https://github.com/mysilver/AMP/blob/master/Crossword.scala","title":"Writing a program that solves crosswords efficiently","body":"<p>I just implemented a code in Scala to solve such puzzles. I am just using recursion to solve the problem. In short, for each word, I find all possible slots, and pick a slot and fill it with the word, and try to solve the partial puzzle with recursion. If the puzzle cannot be filled with the rest of words, it tries another slot, etc. if not, the puzzle is solved.</p>\n\n<p>Here is the link to my code:\n<a href=\"https://github.com/mysilver/AMP/blob/master/Crossword.scala\" rel=\"nofollow noreferrer\">https://github.com/mysilver/AMP/blob/master/Crossword.scala</a></p>\n"}],"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10033,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"closed_date":1608332476,"accepted_answer_id":44729503,"answer_count":5,"score":13,"last_activity_date":1700598568,"creation_date":1497717600,"question_id":44606961,"body_markdown":"I have a crossword puzzle and a list of words which can be used to solve it (words can be placed **multiple times or not even once**). There is always a solution for the given crossword and word list.\r\n\r\nI searched for clues on how to solve this problem and found out that it is NP-Complete. My maximal crossword size is 250 by 250, the maximal length of the list (amount of words which can be used to solve it) is 200. My goal is to solve crosswords of this size by brute force/backtracking, which should be possible within a few seconds (this is a rough estimation by me, correct me if I am wrong).\r\n\r\nFor example:\r\n\r\nA list of given words which can be used to solve the crossword: \r\n\r\n - can\r\n - music\r\n - tuna\r\n - hi\r\n\r\nThe given empty crossword (X are fields which cannot be filled out, the empty fields need to be filled):\r\n\r\n[![An empty crossword which needs to be solved][1]][1]\r\n\r\n\r\n\r\nThe solution:\r\n\r\n[![The solution of the problem above][2]][2]\r\n\r\n    \r\n\r\nNow my current approach is to represent the crossword as a 2-D array and search for empty spaces (2 iterations over the crossword). Then I match words to empty spaces depending on their length, then I try all combinations of words to empty spaces which have the same length. This approach got very messy very fast, I got lost trying to implement this, is there a more elegant solution?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Np7ET.jpg\r\n  [2]: https://i.stack.imgur.com/oVZFB.jpg","title":"Writing a program that solves crosswords efficiently","body":"<p>I have a crossword puzzle and a list of words which can be used to solve it (words can be placed <strong>multiple times or not even once</strong>). There is always a solution for the given crossword and word list.</p>\n<p>I searched for clues on how to solve this problem and found out that it is NP-Complete. My maximal crossword size is 250 by 250, the maximal length of the list (amount of words which can be used to solve it) is 200. My goal is to solve crosswords of this size by brute force/backtracking, which should be possible within a few seconds (this is a rough estimation by me, correct me if I am wrong).</p>\n<p>For example:</p>\n<p>A list of given words which can be used to solve the crossword:</p>\n<ul>\n<li>can</li>\n<li>music</li>\n<li>tuna</li>\n<li>hi</li>\n</ul>\n<p>The given empty crossword (X are fields which cannot be filled out, the empty fields need to be filled):</p>\n<p><a href=\"https://i.stack.imgur.com/Np7ET.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Np7ET.jpg\" alt=\"An empty crossword which needs to be solved\" /></a></p>\n<p>The solution:</p>\n<p><a href=\"https://i.stack.imgur.com/oVZFB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oVZFB.jpg\" alt=\"The solution of the problem above\" /></a></p>\n<p>Now my current approach is to represent the crossword as a 2-D array and search for empty spaces (2 iterations over the crossword). Then I match words to empty spaces depending on their length, then I try all combinations of words to empty spaces which have the same length. This approach got very messy very fast, I got lost trying to implement this, is there a more elegant solution?</p>\n"},{"tags":["java","windows","powershell","gradle","minecraft-forge"],"answers":[{"comments":[{"owner":{"account_id":27057248,"reputation":1,"user_id":20609773,"display_name":"Creeper39x"},"score":0,"creation_date":1687893289,"post_id":76566654,"comment_id":135000139,"body_markdown":"It still doesn&#39;t work, it just says `Could not resolve dependency: net.minecraftforge:forge:1.19.2:userdev`","body":"It still doesn&#39;t work, it just says <code>Could not resolve dependency: net.minecraftforge:forge:1.19.2:userdev</code>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687962194,"post_id":76566654,"comment_id":135010546,"body_markdown":"@Creeper39x Dude, I told you to remove the &quot;-42.0.1:userdev&quot; part, and you show me an error that still has it?! I copied your build script in a new project and after making the change I suggested in my answer, it resolved all dependencies correctly.","body":"@Creeper39x Dude, I told you to remove the &quot;-42.0.1:userdev&quot; part, and you show me an error that still has it?! I copied your build script in a new project and after making the change I suggested in my answer, it resolved all dependencies correctly."},{"owner":{"account_id":27057248,"reputation":1,"user_id":20609773,"display_name":"Creeper39x"},"score":0,"creation_date":1687981778,"post_id":76566654,"comment_id":135014380,"body_markdown":"there&#39;s no `userdev` part though... I removed the `42.0.1`","body":"there&#39;s no <code>userdev</code> part though... I removed the <code>42.0.1</code>"}],"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687881206,"creation_date":1687881206,"answer_id":76566654,"question_id":76563024,"body_markdown":"That dependency looks odd, usually dependencies are in the form company:software:version, and depending on whether I look at your title or your build script, you have a trailing `-42.0.1` or `-42.0.1:userdev`.\r\n\r\nTry to remove that, i.e., use \r\n\r\n```groovy\r\ndependencies {\r\n    minecraft &#39;net.minecraftforge:forge:1.19.2&#39;\r\n}\r\n```\r\n\r\nSee [the maven repository][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/net.minecraftforge/forge/1.19.2-43.1.25","title":"Minecraft Forge Mod: gradle task failed, &quot;Could not resolve dependency: net.minecraftforge:forge:1.19.2-42.0.1:userdev&quot;","body":"<p>That dependency looks odd, usually dependencies are in the form company:software:version, and depending on whether I look at your title or your build script, you have a trailing <code>-42.0.1</code> or <code>-42.0.1:userdev</code>.</p>\n<p>Try to remove that, i.e., use</p>\n<pre><code>dependencies {\n    minecraft 'net.minecraftforge:forge:1.19.2'\n}\n</code></pre>\n<p>See <a href=\"https://mvnrepository.com/artifact/net.minecraftforge/forge/1.19.2-43.1.25\" rel=\"nofollow noreferrer\">the maven repository</a>.</p>\n"},{"comments":[{"owner":{"account_id":27057248,"reputation":1,"user_id":20609773,"display_name":"Creeper39x"},"score":0,"creation_date":1687982461,"post_id":76572521,"comment_id":135014515,"body_markdown":"I tried that, but I just get the error https://pastebin.com/f0rWcVzE. How do I solve this?","body":"I tried that, but I just get the error <a href=\"https://pastebin.com/f0rWcVzE\" rel=\"nofollow noreferrer\">pastebin.com/f0rWcVzE</a>. How do I solve this?"},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1688042964,"post_id":76572521,"comment_id":135022627,"body_markdown":"If you&#39;re trying to use `runClient`, ensure you&#39;ve first run the `gen&lt;Ide&gt;Runs` task. If you&#39;re trying to `build` and still getting that error, do as I said and download the Mdk and use theirs. If that works, try to find what you&#39;ve done wrong by comparing them. If it doesn&#39;t, you may have a network/firewall issue.","body":"If you&#39;re trying to use <code>runClient</code>, ensure you&#39;ve first run the <code>gen&lt;Ide&gt;Runs</code> task. If you&#39;re trying to <code>build</code> and still getting that error, do as I said and download the Mdk and use theirs. If that works, try to find what you&#39;ve done wrong by comparing them. If it doesn&#39;t, you may have a network/firewall issue."}],"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687950036,"creation_date":1687950036,"answer_id":76572521,"question_id":76563024,"body_markdown":"It looks like you have your versions mixed up. Forge doesn&#39;t have a `1.19.2` version called `42.0.1`. There is a [42.0.1](https://maven.minecraftforge.net/net/minecraftforge/forge/1.19.1-42.0.1/forge-1.19.1-42.0.1-changelog.txt) version for `1.19.1`.\r\n\r\nI&#39;m not sure why you&#39;re building against early versions of 1.19. I would recommend using `1.19.4`:\r\n```groovy\r\nminecraft &#39;net.minecraftforge:forge:1.19.4-45.1.2&#39;\r\n```\r\n\r\nHowever, if you wanted 1.19.2, it would be:\r\n```groovy\r\nminecraft &#39;net.minecraftforge:forge:1.19.2-43.2.14&#39;\r\n```\r\n\r\nIf you specifically needed `42.0.1`, it would need to be 1.19.1:\r\n```groovy\r\nminecraft &#39;net.minecraftforge:forge:1.19.1-42.0.1&#39;\r\n```\r\n\r\nI would recommend picking a version, then downloading the `Mdk` (Mod Development Kit) from [Forge](https://files.minecraftforge.net/) and then either modifying or referring back to their build script.","title":"Minecraft Forge Mod: gradle task failed, &quot;Could not resolve dependency: net.minecraftforge:forge:1.19.2-42.0.1:userdev&quot;","body":"<p>It looks like you have your versions mixed up. Forge doesn't have a <code>1.19.2</code> version called <code>42.0.1</code>. There is a <a href=\"https://maven.minecraftforge.net/net/minecraftforge/forge/1.19.1-42.0.1/forge-1.19.1-42.0.1-changelog.txt\" rel=\"nofollow noreferrer\">42.0.1</a> version for <code>1.19.1</code>.</p>\n<p>I'm not sure why you're building against early versions of 1.19. I would recommend using <code>1.19.4</code>:</p>\n<pre><code>minecraft 'net.minecraftforge:forge:1.19.4-45.1.2'\n</code></pre>\n<p>However, if you wanted 1.19.2, it would be:</p>\n<pre><code>minecraft 'net.minecraftforge:forge:1.19.2-43.2.14'\n</code></pre>\n<p>If you specifically needed <code>42.0.1</code>, it would need to be 1.19.1:</p>\n<pre><code>minecraft 'net.minecraftforge:forge:1.19.1-42.0.1'\n</code></pre>\n<p>I would recommend picking a version, then downloading the <code>Mdk</code> (Mod Development Kit) from <a href=\"https://files.minecraftforge.net/\" rel=\"nofollow noreferrer\">Forge</a> and then either modifying or referring back to their build script.</p>\n"}],"owner":{"account_id":27057248,"reputation":1,"user_id":20609773,"display_name":"Creeper39x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1296,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700597395,"creation_date":1687854664,"question_id":76563024,"body_markdown":"when I run &quot;./gradlew build&quot;, I get the error message:\r\n`FAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;flashnpcs&#39;.\r\n&gt; Could not resolve dependency: net.minecraftforge:forge:1.19.2-42.0.1:userdev\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.`\r\n\r\nI am using Visual Studio Code\r\n\r\nI have tried changing a bunch of code in build.gradle, but nothing seems to be working. I was hoping I would have my project done by now, but there is one error that I can&#39;t seem to fix. \r\n\r\nHere is my build.gradle:\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven { url = &#39;https://maven.minecraftforge.net&#39; }\r\n        maven { url = &#39;https://repo.spongepowered.org/repository/maven-public/&#39; }\r\n        maven { url = &#39;https://plugins.gradle.org/m2/&#39; }\r\n        maven { url = &#39;https://jitpack.io&#39; }\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath group: &#39;net.minecraftforge.gradle&#39;, name: &#39;ForgeGradle&#39;, version: &#39;5.1+&#39;, changing: true\r\n        classpath &#39;gradle.plugin.com.github.johnrengelman:shadow:7.1.1&#39;\r\n        classpath &#39;org.spongepowered:mixingradle:0.7-SNAPSHOT&#39;\r\n    }\r\n}\r\n\r\napply plugin: &#39;net.minecraftforge.gradle&#39;\r\napply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\napply plugin: &#39;org.spongepowered.mixin&#39;\r\n\r\ngroup = &#39;flash&#39;\r\nversion = &#39;1.2.0&#39;\r\narchivesBaseName = &#39;flashnpcs&#39;\r\n\r\njava.toolchain.languageVersion = JavaLanguageVersion.of(17)\r\n\r\nminecraft {\r\n    mappings channel: &#39;official&#39;, version: &quot;1.19.2&quot;\r\n\r\n    accessTransformer = file(&#39;src/main/resources/META-INF/accesstransformer.cfg&#39;)\r\n\r\n    runs {\r\n        client {\r\n            workingDirectory project.file(&#39;run/client&#39;)\r\n\r\n            property &#39;forge.logging.markers&#39;, &#39;REGISTRIES&#39;\r\n\r\n            property &#39;forge.logging.console.level&#39;, &#39;debug&#39;\r\n\r\n            arg &quot;-mixin.config=flashnpcs.mixins.json&quot;\r\n\r\n            mods {\r\n                flashnpcs {\r\n                    source sourceSets.main\r\n                }\r\n            }\r\n        }\r\n\r\n        server {\r\n            workingDirectory project.file(&#39;run/server&#39;)\r\n\r\n            property &#39;forge.logging.markers&#39;, &#39;REGISTRIES&#39;\r\n\r\n            property &#39;forge.logging.console.level&#39;, &#39;debug&#39;\r\n\r\n            arg &quot;-mixin.config=flashnpcs.mixins.json&quot;\r\n\r\n            mods {\r\n                flashnpcs {\r\n                    source sourceSets.main\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nmixin {\r\n    config &quot;flashnpcs.mixins.json&quot;\r\n    add sourceSets.main, &quot;flashnpcs.refmap.json&quot;\r\n\r\n    showMessageTypes = true\r\n}\r\n\r\nsourceSets.main.resources { srcDir &#39;src/generated/resources&#39; }\r\n\r\ndependencies {\r\n    minecraft &#39;net.minecraftforge:forge:1.19.2-42.0.1&#39;\r\n\r\n\r\n\r\n    annotationProcessor &#39;org.spongepowered:mixin:0.8.5:processor&#39;\r\n\r\n//    FOR SOME REASON THIS DOESN&#39;T LOAD DURING RUNTIME -,-\r\n//    implementation &#39;org.json:json:20211205&#39;\r\n//    shadow &#39;org.json:json:20211205&#39;\r\n}\r\n\r\n/*shadowJar {\r\n    archiveBaseName.set(&#39;flashnpcs-shadow&#39;)\r\n    archiveClassifier.set(&#39;&#39;)\r\n    archiveVersion.set(project.version)\r\n\r\n    minimize()\r\n\r\n    dependencies {\r\n//        include(dependency(&#39;org.json:json:20211205&#39;))\r\n    }\r\n}*/\r\n\r\njar {\r\n    manifest {\r\n        attributes([\r\n                &quot;Specification-Title&quot;     : &quot;flashnpcs&quot;,\r\n                &quot;Specification-Vendor&quot;    : &quot;FlashHUN&quot;,\r\n                &quot;Specification-Version&quot;   : &quot;1&quot;,\r\n                &quot;Implementation-Title&quot;    : project.name,\r\n                &quot;Implementation-Version&quot;  : project.version,\r\n                &quot;Implementation-Vendor&quot;   : &quot;FlashHUN&quot;,\r\n                &quot;MixinConfigs&quot;            : &quot;flashnpcs.mixins.json&quot;,\r\n                &quot;Implementation-Timestamp&quot;: new Date().format(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n        ])\r\n    }\r\n}\r\n\r\nrepositories {\r\n\r\n}\r\n\r\n//jar.dependsOn shadowJar\r\n//jar.enabled = false    Why was this here again?\r\n\r\njar.finalizedBy(&#39;reobfJar&#39;)\r\n```\r\nAny help appreciated.","title":"Minecraft Forge Mod: gradle task failed, &quot;Could not resolve dependency: net.minecraftforge:forge:1.19.2-42.0.1:userdev&quot;","body":"<p>when I run &quot;./gradlew build&quot;, I get the error message:\n`FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nA problem occurred configuring root project 'flashnpcs'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve dependency: net.minecraftforge:forge:1.19.2-42.0.1:userdev</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.`</p>\n</blockquote>\n<p>I am using Visual Studio Code</p>\n<p>I have tried changing a bunch of code in build.gradle, but nothing seems to be working. I was hoping I would have my project done by now, but there is one error that I can't seem to fix.</p>\n<p>Here is my build.gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        maven { url = 'https://maven.minecraftforge.net' }\n        maven { url = 'https://repo.spongepowered.org/repository/maven-public/' }\n        maven { url = 'https://plugins.gradle.org/m2/' }\n        maven { url = 'https://jitpack.io' }\n        mavenCentral()\n    }\n    dependencies {\n        classpath group: 'net.minecraftforge.gradle', name: 'ForgeGradle', version: '5.1+', changing: true\n        classpath 'gradle.plugin.com.github.johnrengelman:shadow:7.1.1'\n        classpath 'org.spongepowered:mixingradle:0.7-SNAPSHOT'\n    }\n}\n\napply plugin: 'net.minecraftforge.gradle'\napply plugin: 'com.github.johnrengelman.shadow'\napply plugin: 'org.spongepowered.mixin'\n\ngroup = 'flash'\nversion = '1.2.0'\narchivesBaseName = 'flashnpcs'\n\njava.toolchain.languageVersion = JavaLanguageVersion.of(17)\n\nminecraft {\n    mappings channel: 'official', version: &quot;1.19.2&quot;\n\n    accessTransformer = file('src/main/resources/META-INF/accesstransformer.cfg')\n\n    runs {\n        client {\n            workingDirectory project.file('run/client')\n\n            property 'forge.logging.markers', 'REGISTRIES'\n\n            property 'forge.logging.console.level', 'debug'\n\n            arg &quot;-mixin.config=flashnpcs.mixins.json&quot;\n\n            mods {\n                flashnpcs {\n                    source sourceSets.main\n                }\n            }\n        }\n\n        server {\n            workingDirectory project.file('run/server')\n\n            property 'forge.logging.markers', 'REGISTRIES'\n\n            property 'forge.logging.console.level', 'debug'\n\n            arg &quot;-mixin.config=flashnpcs.mixins.json&quot;\n\n            mods {\n                flashnpcs {\n                    source sourceSets.main\n                }\n            }\n        }\n    }\n}\n\nmixin {\n    config &quot;flashnpcs.mixins.json&quot;\n    add sourceSets.main, &quot;flashnpcs.refmap.json&quot;\n\n    showMessageTypes = true\n}\n\nsourceSets.main.resources { srcDir 'src/generated/resources' }\n\ndependencies {\n    minecraft 'net.minecraftforge:forge:1.19.2-42.0.1'\n\n\n\n    annotationProcessor 'org.spongepowered:mixin:0.8.5:processor'\n\n//    FOR SOME REASON THIS DOESN'T LOAD DURING RUNTIME -,-\n//    implementation 'org.json:json:20211205'\n//    shadow 'org.json:json:20211205'\n}\n\n/*shadowJar {\n    archiveBaseName.set('flashnpcs-shadow')\n    archiveClassifier.set('')\n    archiveVersion.set(project.version)\n\n    minimize()\n\n    dependencies {\n//        include(dependency('org.json:json:20211205'))\n    }\n}*/\n\njar {\n    manifest {\n        attributes([\n                &quot;Specification-Title&quot;     : &quot;flashnpcs&quot;,\n                &quot;Specification-Vendor&quot;    : &quot;FlashHUN&quot;,\n                &quot;Specification-Version&quot;   : &quot;1&quot;,\n                &quot;Implementation-Title&quot;    : project.name,\n                &quot;Implementation-Version&quot;  : project.version,\n                &quot;Implementation-Vendor&quot;   : &quot;FlashHUN&quot;,\n                &quot;MixinConfigs&quot;            : &quot;flashnpcs.mixins.json&quot;,\n                &quot;Implementation-Timestamp&quot;: new Date().format(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;)\n        ])\n    }\n}\n\nrepositories {\n\n}\n\n//jar.dependsOn shadowJar\n//jar.enabled = false    Why was this here again?\n\njar.finalizedBy('reobfJar')\n</code></pre>\n<p>Any help appreciated.</p>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"account_id":8892248,"reputation":5511,"user_id":11742502,"display_name":"evan"},"score":0,"creation_date":1571309597,"post_id":58367663,"comment_id":103202395,"body_markdown":"The error indicates that your array is null. Can you please post your full code so that we can reproduce this issue from our side?","body":"The error indicates that your array is null. Can you please post your full code so that we can reproduce this issue from our side?"},{"owner":{"account_id":16572961,"reputation":181,"user_id":11975554,"display_name":"tomer wolinsky"},"score":0,"creation_date":1593692715,"post_id":58367663,"comment_id":110872852,"body_markdown":"sorry for the long answer , there is no array list it is an activity with google map in it.","body":"sorry for the long answer , there is no array list it is an activity with google map in it."},{"owner":{"account_id":8892248,"reputation":5511,"user_id":11742502,"display_name":"evan"},"score":0,"creation_date":1596454676,"post_id":58367663,"comment_id":111807052,"body_markdown":"Right, but without code we cannot really troubleshoot it. Can you please edit your OP to include it?","body":"Right, but without code we cannot really troubleshoot it. Can you please edit your OP to include it?"},{"owner":{"account_id":101431,"reputation":664,"user_id":272898,"display_name":"YBW"},"score":0,"creation_date":1598354217,"post_id":58367663,"comment_id":112425379,"body_markdown":"Hi!\n\nI got the same errors in crashlytics.\nMay I ask you, did you found a solution to this problem, yet?","body":"Hi!  I got the same errors in crashlytics. May I ask you, did you found a solution to this problem, yet?"},{"owner":{"account_id":18253244,"reputation":293,"user_id":13287781,"display_name":"Jeremie Houet"},"score":0,"creation_date":1656343864,"post_id":58367663,"comment_id":128543101,"body_markdown":"Same problem here, any solution?","body":"Same problem here, any solution?"}],"answers":[{"tags":[],"owner":{"account_id":18253244,"reputation":293,"user_id":13287781,"display_name":"Jeremie Houet"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656402657,"creation_date":1656344399,"answer_id":72774808,"question_id":58367663,"body_markdown":"I have the same error showing on my flutter app when I leave the screen with the map and get back to it too quickly. I think the issue is discussed here: \r\n\r\n[https://issuehint.com/issue/flutter/flutter/105584][1]\r\n\r\nThey mention an issue with Flutter 3 and recommend going back to Flutter 2.10.\r\n\r\n**Edit: There is an opened issue in Github: [https://github.com/flutter/flutter/issues/105965][2]\r\n\r\nOne of the user says: \r\n\r\n&quot;So far the only thing I could come up with is to add — on the screen using the GoogleMap widget — a delay to the Navigator.pop + denying the user to do anything in the meanwhile.&quot;\r\n\r\n\r\n```\r\nFuture&lt;void&gt; _delayedPop(BuildContext context) async {\r\n  unawaited(\r\n    Navigator.of(context, rootNavigator: true).push(\r\n      PageRouteBuilder(\r\n        pageBuilder: (_, __, ___) =&gt; WillPopScope(\r\n          onWillPop: () async =&gt; false,\r\n          child: Scaffold(\r\n            backgroundColor: Colors.transparent,\r\n            body: const Center(\r\n              child: CircularProgressIndicator.adaptive(),\r\n            ),\r\n          ),\r\n        ),\r\n        transitionDuration: Duration.zero,\r\n        barrierDismissible: false,\r\n        barrierColor: Colors.black45,\r\n        opaque: false,\r\n      ),\r\n    ),\r\n  );\r\n  await Future.delayed(const Duration(seconds: 1));\r\n  Navigator.of(context)\r\n    ..pop()\r\n    ..pop();\r\n}\r\n\r\n```\r\n\r\nI am not sure it is the issue in your case since you posted this thread 2 years ago but maybe it will help other people! \r\n\r\n\r\n  [1]: https://issuehint.com/issue/flutter/flutter/105584\r\n  [2]: https://github.com/flutter/flutter/issues/105965","title":"Google maps api gets Fatal Exception: java.lang.NullPointerException: Attempt to get length of null array","body":"<p>I have the same error showing on my flutter app when I leave the screen with the map and get back to it too quickly. I think the issue is discussed here:</p>\n<p><a href=\"https://issuehint.com/issue/flutter/flutter/105584\" rel=\"noreferrer\">https://issuehint.com/issue/flutter/flutter/105584</a></p>\n<p>They mention an issue with Flutter 3 and recommend going back to Flutter 2.10.</p>\n<p>**Edit: There is an opened issue in Github: <a href=\"https://github.com/flutter/flutter/issues/105965\" rel=\"noreferrer\">https://github.com/flutter/flutter/issues/105965</a></p>\n<p>One of the user says:</p>\n<p>&quot;So far the only thing I could come up with is to add — on the screen using the GoogleMap widget — a delay to the Navigator.pop + denying the user to do anything in the meanwhile.&quot;</p>\n<pre><code>Future&lt;void&gt; _delayedPop(BuildContext context) async {\n  unawaited(\n    Navigator.of(context, rootNavigator: true).push(\n      PageRouteBuilder(\n        pageBuilder: (_, __, ___) =&gt; WillPopScope(\n          onWillPop: () async =&gt; false,\n          child: Scaffold(\n            backgroundColor: Colors.transparent,\n            body: const Center(\n              child: CircularProgressIndicator.adaptive(),\n            ),\n          ),\n        ),\n        transitionDuration: Duration.zero,\n        barrierDismissible: false,\n        barrierColor: Colors.black45,\n        opaque: false,\n      ),\n    ),\n  );\n  await Future.delayed(const Duration(seconds: 1));\n  Navigator.of(context)\n    ..pop()\n    ..pop();\n}\n\n</code></pre>\n<p>I am not sure it is the issue in your case since you posted this thread 2 years ago but maybe it will help other people!</p>\n"},{"comments":[{"owner":{"account_id":22694327,"reputation":1036,"user_id":16862757,"display_name":"Muhammad Hussain"},"score":0,"creation_date":1693295575,"post_id":76567494,"comment_id":135738212,"body_markdown":"You saved my day!","body":"You saved my day!"},{"owner":{"account_id":20123868,"reputation":68,"user_id":14757827,"display_name":"adravel"},"score":1,"creation_date":1698982939,"post_id":76567494,"comment_id":136476532,"body_markdown":"Don&#39;t forget to check the platform first by wrapping it in `if (Platform.isAndroid) {}`","body":"Don&#39;t forget to check the platform first by wrapping it in <code>if (Platform.isAndroid) {}</code>"},{"owner":{"account_id":19999309,"reputation":406,"user_id":14658605,"display_name":"Adam Bridges"},"score":0,"creation_date":1699137491,"post_id":76567494,"comment_id":136494160,"body_markdown":"Indeed! @adravel","body":"Indeed! @adravel"}],"tags":[],"owner":{"account_id":19999309,"reputation":406,"user_id":14658605,"display_name":"Adam Bridges"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1700597330,"creation_date":1687888306,"answer_id":76567494,"question_id":58367663,"body_markdown":"According to the following [comment][1], try this:\r\n\r\nAdd `google_maps_flutter_android: &#39;&gt;=2.4.15&#39;` to `pubspec.yaml`. \r\n\r\nThen before running your app, call somewhere in `main()`:\r\n\r\n    if (Platform.isAndroid) {\r\n    await GoogleMapsFlutterAndroid().initializeWithRenderer(AndroidMapRenderer.latest);\r\n    }\r\n\r\nHopefully that should resolve the issue.\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/105965#issuecomment-1569988618","title":"Google maps api gets Fatal Exception: java.lang.NullPointerException: Attempt to get length of null array","body":"<p>According to the following <a href=\"https://github.com/flutter/flutter/issues/105965#issuecomment-1569988618\" rel=\"nofollow noreferrer\">comment</a>, try this:</p>\n<p>Add <code>google_maps_flutter_android: '&gt;=2.4.15'</code> to <code>pubspec.yaml</code>.</p>\n<p>Then before running your app, call somewhere in <code>main()</code>:</p>\n<pre><code>if (Platform.isAndroid) {\nawait GoogleMapsFlutterAndroid().initializeWithRenderer(AndroidMapRenderer.latest);\n}\n</code></pre>\n<p>Hopefully that should resolve the issue.</p>\n"}],"owner":{"account_id":16572961,"reputation":181,"user_id":11975554,"display_name":"tomer wolinsky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4413,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1700597330,"creation_date":1570999603,"question_id":58367663,"body_markdown":"Sometimes like 50% of the time on my map activity i get this error:\r\n\r\n    Fatal Exception: java.lang.NullPointerException: Attempt to get length of null array\r\n       at java.nio.ByteBufferAsIntBuffer.put(ByteBufferAsIntBuffer.java:122)\r\n       at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.o.e(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):20)\r\n       at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.o.d(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):36)\r\n       at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.a.a(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):66)\r\n       at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ao.a(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):227)\r\n       at com.google.maps.api.android.lib6.gmm6.vector.cl.a(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):274)\r\n       at com.google.maps.api.android.lib6.gmm6.vector.bz.a(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):359)\r\n       at com.google.maps.api.android.lib6.gmm6.vector.bg.run(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):85)\r\n\r\nI dont have a clue what might be the problem, sometimes its working and sometimes it gives me that error, especially on my LG g6.\r\nI searched for days and found nothing.\r\ncan anybody point me what might be the problem ?","title":"Google maps api gets Fatal Exception: java.lang.NullPointerException: Attempt to get length of null array","body":"<p>Sometimes like 50% of the time on my map activity i get this error:</p>\n\n<pre><code>Fatal Exception: java.lang.NullPointerException: Attempt to get length of null array\n   at java.nio.ByteBufferAsIntBuffer.put(ByteBufferAsIntBuffer.java:122)\n   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.o.e(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):20)\n   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.o.d(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):36)\n   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.a.a(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):66)\n   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ao.a(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):227)\n   at com.google.maps.api.android.lib6.gmm6.vector.cl.a(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):274)\n   at com.google.maps.api.android.lib6.gmm6.vector.bz.a(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):359)\n   at com.google.maps.api.android.lib6.gmm6.vector.bg.run(:com.google.android.gms.dynamite_mapsdynamite@19420048@19.4.20 (040400-271418971):85)\n</code></pre>\n\n<p>I dont have a clue what might be the problem, sometimes its working and sometimes it gives me that error, especially on my LG g6.\nI searched for days and found nothing.\ncan anybody point me what might be the problem ?</p>\n"},{"tags":["java","android","kotlin","android-viewbinding"],"comments":[{"owner":{"account_id":417710,"reputation":10050,"user_id":793861,"accept_rate":50,"display_name":"John O&#39;Reilly"},"score":3,"creation_date":1570276457,"post_id":58248031,"comment_id":102866939,"body_markdown":"You need to access in `onViewCreated`","body":"You need to access in <code>onViewCreated</code>"}],"answers":[{"tags":[],"owner":{"account_id":14056075,"reputation":22,"user_id":10153377,"display_name":"ThuanPx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570293847,"creation_date":1570293847,"answer_id":58250362,"question_id":58248031,"body_markdown":"Because the view has not been created yet. You should call the view in the onViewCreated () function.\r\n[read more][1]\r\n```\r\n override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        \r\nstart_button.setOnClickListener(\r\n                Navigation.createNavigateOnClickListener(R.id.action_fragmentStart_to_fragmentQuestion,null)\r\n            )\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Fragment#onViewCreated(android.view.View,%20android.os.Bundle)","title":"NullPointerException when using Kotlin ViewBinding inside Fragment","body":"<p>Because the view has not been created yet. You should call the view in the onViewCreated () function.\n<a href=\"https://developer.android.com/reference/android/app/Fragment#onViewCreated(android.view.View,%20android.os.Bundle)\" rel=\"nofollow noreferrer\">read more</a></p>\n\n<pre><code> override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\nstart_button.setOnClickListener(\n                Navigation.createNavigateOnClickListener(R.id.action_fragmentStart_to_fragmentQuestion,null)\n            )\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":342351,"reputation":1344,"user_id":3187366,"accept_rate":54,"display_name":"issamux"},"score":0,"creation_date":1613441018,"post_id":63384206,"comment_id":117070496,"body_markdown":"kotlinx synthetic has been deprecated since","body":"kotlinx synthetic has been deprecated since"}],"tags":[],"owner":{"account_id":2288035,"reputation":3801,"user_id":2011622,"accept_rate":70,"display_name":"Peter F"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597263725,"creation_date":1597263725,"answer_id":63384206,"question_id":58248031,"body_markdown":"kotlinx synthetic under the hood resolves `start_button` like that:\r\n\r\n```\r\ngetView()?.findViewById(R.id.start_button)\r\n```\r\n\r\n`getView()` returns the fragment&#39;s root view if that has been set. \r\nThis only happens after `onCreateView()`. \r\n\r\nThat&#39;s why views resolved by kotlinx synthetics can only be used in `onViewCreated()`.","title":"NullPointerException when using Kotlin ViewBinding inside Fragment","body":"<p>kotlinx synthetic under the hood resolves <code>start_button</code> like that:</p>\n<pre><code>getView()?.findViewById(R.id.start_button)\n</code></pre>\n<p><code>getView()</code> returns the fragment's root view if that has been set.\nThis only happens after <code>onCreateView()</code>.</p>\n<p>That's why views resolved by kotlinx synthetics can only be used in <code>onViewCreated()</code>.</p>\n"}],"owner":{"account_id":6749043,"reputation":303,"user_id":11981003,"display_name":"dwvldg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9388,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1700597326,"creation_date":1570276352,"question_id":58248031,"body_markdown":"I&#39;m trying to add a click listener to a button inside my fragment using kotlin view binding. I am setting the click listener in the onCreateView method. When I do this I get a null pointer exception since the button is not created yet. I thought the kotlin view binding takes care of the view initialization so the button should not be null?\r\n\r\nHere is my code:\r\n\r\n```\r\nclass FragmentStart : Fragment() {\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        val view = inflater.inflate(R.layout.fragment_start, container, false)\r\n        start_button.setOnClickListener(\r\n            Navigation.createNavigateOnClickListener(R.id.action_fragmentStart_to_fragmentQuestion,null)\r\n        )\r\n        return view\r\n    }\r\n}\r\n```\r\n\r\nHere is the exception:\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n```","title":"NullPointerException when using Kotlin ViewBinding inside Fragment","body":"<p>I'm trying to add a click listener to a button inside my fragment using kotlin view binding. I am setting the click listener in the onCreateView method. When I do this I get a null pointer exception since the button is not created yet. I thought the kotlin view binding takes care of the view initialization so the button should not be null?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class FragmentStart : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        val view = inflater.inflate(R.layout.fragment_start, container, false)\n        start_button.setOnClickListener(\n            Navigation.createNavigateOnClickListener(R.id.action_fragmentStart_to_fragmentQuestion,null)\n        )\n        return view\n    }\n}\n</code></pre>\n\n<p>Here is the exception:</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n</code></pre>\n"},{"tags":["java","assert"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1509950977,"post_id":47131243,"comment_id":81212029,"body_markdown":"You need to enable assertions.","body":"You need to enable assertions."},{"owner":{"account_id":3792503,"reputation":3340,"user_id":3148590,"accept_rate":95,"display_name":"Kaustubh Khare"},"score":1,"creation_date":1509950987,"post_id":47131243,"comment_id":81212038,"body_markdown":"At runtime, asserts are disabled by default.","body":"At runtime, asserts are disabled by default."}],"answers":[{"tags":[],"owner":{"account_id":5426213,"reputation":734,"user_id":4318379,"accept_rate":50,"display_name":"Infamous"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509951015,"creation_date":1509951015,"answer_id":47131280,"question_id":47131243,"body_markdown":"They can be activated at run-time by way of the `-ea` option on the `java` command, but are not turned on by default.","title":"Are assert statements ignored during runtime?","body":"<p>They can be activated at run-time by way of the <code>-ea</code> option on the <code>java</code> command, but are not turned on by default.</p>\n"},{"tags":[],"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1509952210,"creation_date":1509951118,"answer_id":47131312,"question_id":47131243,"body_markdown":"You got to enable assertions. Assertions can be enabled or disabled when the program is started, and are disabled by default. \r\n\r\nDisabling assertions eliminates their performance penalty entirely. Once disabled, they are essentially equivalent to `empty` statements in `semantics` and performance. You may want to test your code on fly in `dev` but do not want to decrease your performance in `prod` without changing any code.\r\n\r\n&gt; Is the only the functionality of assertion ignored\r\n\r\nI guess that is the whole point of `assertions`, that it enables you to test your assumptions about your program.\r\n\r\n&gt; The whole statement are ignored\r\n\r\nYes, When `Java` program is compiled, with assertions enabled/disabled, it is marked in the generated class file. So when class-loader loads your file and `run` the instruction or line is completely ignored if assertions were disabled. ","title":"Are assert statements ignored during runtime?","body":"<p>You got to enable assertions. Assertions can be enabled or disabled when the program is started, and are disabled by default. </p>\n\n<p>Disabling assertions eliminates their performance penalty entirely. Once disabled, they are essentially equivalent to <code>empty</code> statements in <code>semantics</code> and performance. You may want to test your code on fly in <code>dev</code> but do not want to decrease your performance in <code>prod</code> without changing any code.</p>\n\n<blockquote>\n  <p>Is the only the functionality of assertion ignored</p>\n</blockquote>\n\n<p>I guess that is the whole point of <code>assertions</code>, that it enables you to test your assumptions about your program.</p>\n\n<blockquote>\n  <p>The whole statement are ignored</p>\n</blockquote>\n\n<p>Yes, When <code>Java</code> program is compiled, with assertions enabled/disabled, it is marked in the generated class file. So when class-loader loads your file and <code>run</code> the instruction or line is completely ignored if assertions were disabled. </p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1509951213,"creation_date":1509951213,"answer_id":47131330,"question_id":47131243,"body_markdown":"&gt; What I want to know is that the whole assert ... statement is ignored or not regardless of enabling the -ea option.\r\n\r\nYes, it will be ignored entirely unless assertions are enabled. This is useful as a way to detect whether they&#39;re enabled at runtime:\r\n\r\n    boolean assertionsEnabled = false;\r\n    assert assertionsEnabled = true;\r\n    System.out.println(&quot;Assertions enabled: &quot; + assertionsEnabled);","title":"Are assert statements ignored during runtime?","body":"<blockquote>\n  <p>What I want to know is that the whole assert ... statement is ignored or not regardless of enabling the -ea option.</p>\n</blockquote>\n\n<p>Yes, it will be ignored entirely unless assertions are enabled. This is useful as a way to detect whether they're enabled at runtime:</p>\n\n<pre><code>boolean assertionsEnabled = false;\nassert assertionsEnabled = true;\nSystem.out.println(\"Assertions enabled: \" + assertionsEnabled);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509956767,"creation_date":1509952040,"answer_id":47131532,"question_id":47131243,"body_markdown":"I&#39;m adding an answer for my own question for an informative purpose.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html\r\n\r\n&gt; Do not use assertions to do any work that your application requires for correct operation.\r\nBecause assertions may be disabled, programs must not assume that the boolean expression contained in an assertion will be evaluated. Violating this rule has dire consequences. For example, suppose you wanted to remove all of the null elements from a list names, and knew that the list contained one or more nulls. It would be wrong to do this:\r\n\r\n    // Broken! - action is contained in assertion\r\n    assert names.remove(null);\r\n\r\n&gt; The program would work fine when asserts were enabled, but would fail when they were disabled, as it would no longer remove the null elements from the list. The correct idiom is to perform the action before the assertion and then assert that the action succeeded:\r\n\r\n    // Fixed - action precedes assertion\r\n    boolean nullsRemoved = names.remove(null);\r\n    assert nullsRemoved;  // Runs whether or not asserts are enabled\r\n\r\n&gt; As a rule, the expressions contained in assertions should be free of side effects: evaluating the expression should not affect any state that is visible after the evaluation is complete. One exception to this rule is that assertions can modify state that is used only from within other assertions. An idiom that makes use of this exception is presented later in this document.","title":"Are assert statements ignored during runtime?","body":"<p>I'm adding an answer for my own question for an informative purpose.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html</a></p>\n\n<blockquote>\n  <p>Do not use assertions to do any work that your application requires for correct operation.\n  Because assertions may be disabled, programs must not assume that the boolean expression contained in an assertion will be evaluated. Violating this rule has dire consequences. For example, suppose you wanted to remove all of the null elements from a list names, and knew that the list contained one or more nulls. It would be wrong to do this:</p>\n</blockquote>\n\n<pre><code>// Broken! - action is contained in assertion\nassert names.remove(null);\n</code></pre>\n\n<blockquote>\n  <p>The program would work fine when asserts were enabled, but would fail when they were disabled, as it would no longer remove the null elements from the list. The correct idiom is to perform the action before the assertion and then assert that the action succeeded:</p>\n</blockquote>\n\n<pre><code>// Fixed - action precedes assertion\nboolean nullsRemoved = names.remove(null);\nassert nullsRemoved;  // Runs whether or not asserts are enabled\n</code></pre>\n\n<blockquote>\n  <p>As a rule, the expressions contained in assertions should be free of side effects: evaluating the expression should not affect any state that is visible after the evaluation is complete. One exception to this rule is that assertions can modify state that is used only from within other assertions. An idiom that makes use of this exception is presented later in this document.</p>\n</blockquote>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5293,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47131330,"answer_count":4,"score":4,"last_activity_date":1700597149,"creation_date":1509950826,"question_id":47131243,"body_markdown":"With following codes,\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public Some persist(final Some entity) {\r\n        if (flag) {\r\n            super.persist(entity);\r\n            entity.credentials();\r\n            update(entity);\r\n            return entity;\r\n        }\r\n        assert super.persist(entity).equals(entity);\r\n        assert entity.credentials().equals(entity);\r\n        assert update(entity);\r\n        return entity;\r\n    }\r\n\r\nif the `flag` is false, it seems statements are ignored and not executed.\r\n\r\nIs it normal? Or some assertion failed?\r\n\r\nI already know how to enable assertion.\r\n\r\nWhat I want to know is that the whole `assert ...` statement is ignored or not regardless of enabling the `-ea` option.\r\n\r\nI&#39;m trying them with my spring library and it seems that the whole statement which means the code yielding the boolean flag are ignored.\r\n\r\nWhat I want to know is that\r\n\r\n1. Is the only the functionality of assertion ignored, or\r\n2. The whole statement are ignored.\r\n\r\nI&#39;m sharing what I learned. It&#39;s pretty shocking to me.\r\n\r\n\r\n    public Some persist(final Some entity) {\r\n    \r\n        // WORKS!\r\n        super.persist(entity);\r\n        entity.generate();\r\n        update(entity);\r\n        return entity;\r\n    \r\n        // WORKS!\r\n        final Some persisted = super.persist(entity);\r\n        assert persisted.equals(entity);\r\n        final Some generated = entity.credentials();\r\n        assert generated.equals(persisted);\r\n        final boolean updated = update(generated);\r\n        assert updated;\r\n        return generated;\r\n    \r\n        // DOES NOT WORK!!! SHOULDN&#39;T DO THIS!!!\r\n        assert super.persist(entity).equals(entity);\r\n        assert entity.generate().equals(entity);\r\n        assert update(entity);\r\n        return entity;\r\n    }\r\n\r\n","title":"Are assert statements ignored during runtime?","body":"<p>With following codes,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Some persist(final Some entity) {\n    if (flag) {\n        super.persist(entity);\n        entity.credentials();\n        update(entity);\n        return entity;\n    }\n    assert super.persist(entity).equals(entity);\n    assert entity.credentials().equals(entity);\n    assert update(entity);\n    return entity;\n}\n</code></pre>\n<p>if the <code>flag</code> is false, it seems statements are ignored and not executed.</p>\n<p>Is it normal? Or some assertion failed?</p>\n<p>I already know how to enable assertion.</p>\n<p>What I want to know is that the whole <code>assert ...</code> statement is ignored or not regardless of enabling the <code>-ea</code> option.</p>\n<p>I'm trying them with my spring library and it seems that the whole statement which means the code yielding the boolean flag are ignored.</p>\n<p>What I want to know is that</p>\n<ol>\n<li>Is the only the functionality of assertion ignored, or</li>\n<li>The whole statement are ignored.</li>\n</ol>\n<p>I'm sharing what I learned. It's pretty shocking to me.</p>\n<pre><code>public Some persist(final Some entity) {\n\n    // WORKS!\n    super.persist(entity);\n    entity.generate();\n    update(entity);\n    return entity;\n\n    // WORKS!\n    final Some persisted = super.persist(entity);\n    assert persisted.equals(entity);\n    final Some generated = entity.credentials();\n    assert generated.equals(persisted);\n    final boolean updated = update(generated);\n    assert updated;\n    return generated;\n\n    // DOES NOT WORK!!! SHOULDN'T DO THIS!!!\n    assert super.persist(entity).equals(entity);\n    assert entity.generate().equals(entity);\n    assert update(entity);\n    return entity;\n}\n</code></pre>\n"},{"tags":["java","google-app-engine","memcached","gcloud","google-cloud-kms"],"answers":[{"tags":[],"owner":{"account_id":25423833,"reputation":1324,"user_id":19229284,"display_name":"Chanpols"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700596545,"creation_date":1700596545,"answer_id":77525603,"question_id":77497204,"body_markdown":"The bundled services in Java 11/17 are not activated by default, unlike Java 8, thus you have to enable them if you want to use any of them. Please use the `appengine-web.xml` file as directed, especially in accordance with [Access legacy bundled services for Java](https://cloud.google.com/appengine/docs/standard/java-gen2/services/access).","title":"Caused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken","body":"<p>The bundled services in Java 11/17 are not activated by default, unlike Java 8, thus you have to enable them if you want to use any of them. Please use the <code>appengine-web.xml</code> file as directed, especially in accordance with <a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/services/access\" rel=\"nofollow noreferrer\">Access legacy bundled services for Java</a>.</p>\n"}],"owner":{"account_id":22443590,"reputation":57,"user_id":16647749,"display_name":"Thalariventhan K R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77525603,"answer_count":1,"score":0,"last_activity_date":1700596545,"creation_date":1700159121,"question_id":77497204,"body_markdown":"We are upgrading from java8 to java17. The application runs in google-app-engine. we are using AppIdentityServiceFactory to get access tokens for google kms services. The sample code is working in java8 but it is throwing the following errors after upgrading the runtime to java17. Could we have a solution for this ?\r\n\r\n**sample code**\r\n```\r\npublic String getAppAccessToken() {\r\n\tArrayList &lt;String&gt; scopes = new ArrayList&lt;String&gt;();\r\n\tscopes.add( &quot;https://www.googleapis.com/auth/cloud-platform&quot; );\r\n\tscopes.add( &quot;https://www.googleapis.com/auth/cloudkms&quot; );\r\n\tfinal AppIdentityService appIdentity = AppIdentityServiceFactory.getAppIdentityService();\r\n\tfinal AppIdentityService.GetAccessTokenResult accessToken = appIdentity.getAccessToken( scopes );\r\n\tString accessTokenStr = accessToken.getAccessToken();\r\n\treturn accessTokenStr;\r\n}\r\n```\r\n\r\n**Errors occured**\r\n\r\n*Error 1*\r\n```\r\nService error in memcache com.google.appengine.api.memcache.MemcacheServiceException: Memcache get: exception getting 1 key (_ah_app_identity_[&#39;https://www.googleapis.com/auth/cloud-platform&#39;,&#39;https://www.googleapis.com/auth/cloudkms&#39;]) \r\n    at com.google.appengine.api.memcache.MemcacheServiceApiHelper$RpcResponseHandler.handleApiProxyException(MemcacheServiceApiHelper.java:94) \r\n    at com.google.appengine.api.memcache.MemcacheServiceApiHelper$RpcResponseHandler.handleApiProxyException(MemcacheServiceApiHelper.java:78) \r\n    at com.google.appengine.api.memcache.MemcacheServiceApiHelper$1.absorbParentException(MemcacheServiceApiHelper.java:143) \r\n    at com.google.appengine.api.utils.FutureWrapper.handleParentException(FutureWrapper.java:70) \r\n    at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:109) \r\n    at com.google.appengine.api.memcache.MemcacheServiceImpl.quietGet(MemcacheServiceImpl.java:40) \r\n    at com.google.appengine.api.memcache.MemcacheServiceImpl.get(MemcacheServiceImpl.java:63) \r\n    at com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessToken(AppIdentityServiceImpl.java:317) \r\n    at com.ls.services.KMSservice.getAppAccessToken(KMSservice.java:130) \r\n    at com.ls.services.KMSservice.decryptByAPI(KMSservice.java:111) \r\n    at com.ls.services.KMSservice.getDecryptedSecrets(KMSservice.java:78) \r\n    at com.ls.services.KMSservice.getSecretMap(KMSservice.java:34) \r\n    at com.ls.services.KMSservice.getSecretByKey(KMSservice.java:51) \r\n    at com.ls.services.filters.AuthenticationFilter.&lt;clinit&gt;(AuthenticationFilter.java:67) \r\n    at com.ls.services.filters.RegisterAuthenticationFilter.configure(RegisterAuthenticationFilter.java:19) \r\n    at org.jboss.resteasy.core.ResourceMethodInvoker.&lt;init&gt;(ResourceMethodInvoker.java:113) \r\n    at org.jboss.resteasy.core.ResourceMethodRegistry.processMethod(ResourceMethodRegistry.java:354) \r\n    at org.jboss.resteasy.core.ResourceMethodRegistry.register(ResourceMethodRegistry.java:277) \r\n    at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:228) \r\n    at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:201) \r\n    at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:187) \r\n    at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:164) \r\n    at org.jboss.resteasy.core.ResourceMethodRegistry.addSingletonResource(ResourceMethodRegistry.java:103) \r\n    at org.jboss.resteasy.spi.ResteasyDeployment.registration(ResteasyDeployment.java:516) \r\n    at org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:293) \r\n    at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:98) \r\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140) \r\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42) \r\n    at org.eclipse.jetty.servlet.ServletHolder$Wrapper.init(ServletHolder.java:1345) \r\n    at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632) \r\n    at org.eclipse.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:486) \r\n    at org.eclipse.jetty.servlet.ServletHolder.prepare(ServletHolder.java:759) \r\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:549) \r\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) \r\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:571) \r\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \r\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235) \r\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624) \r\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) \r\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \r\n    at com.google.apphosting.runtime.jetty9.ParseBlobUploadHandler.handle(ParseBlobUploadHandler.java:125) \r\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \r\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235) \r\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) \r\n    at com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doHandle(AppEngineWebAppContext.java:289) \r\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) \r\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) \r\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594) \r\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) \r\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) \r\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) \r\n    at com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:113) \r\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \r\n    at org.eclipse.jetty.server.handler.SizeLimitHandler.handle(SizeLimitHandler.java:96) \r\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \r\n    at org.eclipse.jetty.server.Server.handle(Server.java:516) \r\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487) \r\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) \r\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479) \r\n    at com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:269) \r\n    at com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:100) \r\n    at com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:184) \r\n    at com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:262) \r\n    at com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:227) \r\n    at com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:193) \r\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273) \r\n    at java.base/java.lang.Thread.run(Thread.java:833) \r\nCaused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: memcache.Get \r\n    at com.google.apphosting.utils.runtime.ApiProxyUtils.convertApiError(ApiProxyUtils.java:81) \r\n    at com.google.apphosting.utils.runtime.ApiProxyUtils.getApiError(ApiProxyUtils.java:198) \r\n    at com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:684) \r\n    at com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:581) \r\n    at com.google.apphosting.runtime.http.HttpApiHostClient.receivedResponse(HttpApiHostClient.java:296) \r\n    at com.google.apphosting.runtime.http.JettyHttpApiHostClient$Listener.onComplete(JettyHttpApiHostClient.java:206) \r\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:218) \r\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:210) \r\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:481) \r\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:461) \r\n    at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:424) \r\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:374) \r\n    at org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:596) \r\n    at org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1723) \r\n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1552) \r\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:208) \r\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:148) \r\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:80) \r\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:131) \r\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:172) \r\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) \r\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) \r\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) \r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) \r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) \r\n    ... 1 more\r\n\r\n```\r\n\r\n*Error 2*\r\n```\r\ncom.google.apphosting.api.ApiProxy$FeatureNotEnabledException:app_identity_service.GetAccessToken\r\nat java.lang.Thread.getStackTrace(Thread.java:1610)\r\nat com.google.apphosting.runtime.ApiProxyImpl.doSyncCall(ApiProxyImpl.java:362)\r\nat com.google.apphosting.runtime.ApiProxyImpl.lambda$makeSyncCall$0(ApiProxyImpl.java:284)\r\nat java.security.AccessController.doPrivileged(AccessController.java:318)\r\nat com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:283)\r\nat com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:81)\r\nat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:120)\r\nat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:81)\r\nat com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessTokenUncached(AppIdentityServiceImpl.java:250)\r\nat com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessToken(AppIdentityServiceImpl.java:327)\r\nat com.ls.services.KMSservice.getAppAccessToken(KMSservice.java:130)\r\nat com.ls.services.KMSservice.decryptByAPI(KMSservice.java:111)\r\nat com.ls.services.KMSservice.getDecryptedSecrets(KMSservice.java:78)\r\nat com.ls.services.KMSservice.getSecretMap(KMSservice.java:34)\r\nat com.ls.services.KMSservice.getSecretByKey(KMSservice.java:51)\r\nat com.ls.services.filters.AuthenticationFilter.&lt;clinit&gt;(AuthenticationFilter.java:67)\r\nat com.ls.services.filters.RegisterAuthenticationFilter.configure(RegisterAuthenticationFilter.java:19)\r\nat org.jboss.resteasy.core.ResourceMethodInvoker.&lt;init&gt;(ResourceMethodInvoker.java:113)\r\nat org.jboss.resteasy.core.ResourceMethodRegistry.processMethod(ResourceMethodRegistry.java:354)\r\nat org.jboss.resteasy.core.ResourceMethodRegistry.register(ResourceMethodRegistry.java:277)\r\nat org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:228)\r\nat org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:201)\r\nat org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:187)\r\nat org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:164)\r\nat org.jboss.resteasy.core.ResourceMethodRegistry.addSingletonResource(ResourceMethodRegistry.java:103)\r\nat org.jboss.resteasy.spi.ResteasyDeployment.registration(ResteasyDeployment.java:516)\r\nat org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:293)\r\nat org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:98)\r\nat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140)\r\nat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42)\r\nat org.eclipse.jetty.servlet.ServletHolder$Wrapper.init(ServletHolder.java:1345)\r\nat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632)\r\nat org.eclipse.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:486)\r\nat org.eclipse.jetty.servlet.ServletHolder.prepare(ServletHolder.java:759)\r\nat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:549)\r\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\nat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:571)\r\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\nat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\r\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\nat com.google.apphosting.runtime.jetty9.ParseBlobUploadHandler.handle(ParseBlobUploadHandler.java:125)\r\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\nat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\nat com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doHandle(AppEngineWebAppContext.java:289)\r\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\nat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\r\nat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\r\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\nat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\nat com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:113)\r\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\nat org.eclipse.jetty.server.handler.SizeLimitHandler.handle(SizeLimitHandler.java:96)\r\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\nat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\nat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\nat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\nat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\nat com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:269)\r\nat com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:100)\r\nat com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:184)\r\nat com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:262)\r\nat com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:227)\r\nat com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:193)\r\nat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\r\nat java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \r\nat com.google.apphosting.utils.runtime.ApiProxyUtils.convertApiError(ApiProxyUtils.java:81)\r\nat com.google.apphosting.utils.runtime.ApiProxyUtils.getApiError(ApiProxyUtils.java:198)\r\nat com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:684)\r\nat com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:581)\r\nat com.google.apphosting.runtime.http.HttpApiHostClient.receivedResponse(HttpApiHostClient.java:296)\r\nat com.google.apphosting.runtime.http.JettyHttpApiHostClient$Listener.onComplete(JettyHttpApiHostClient.java:206)\r\nat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:218)\r\nat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:210)\r\nat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:481)\r\nat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:461)\r\nat org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:424)\r\nat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:374)\r\nat org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:596)\r\nat org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1723)\r\nat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1552)\r\nat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:208)\r\nat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:148)\r\nat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:80)\r\nat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:131)\r\nat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:172)\r\nat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\nat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n... 1 more\r\n\r\n```\r\n","title":"Caused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken","body":"<p>We are upgrading from java8 to java17. The application runs in google-app-engine. we are using AppIdentityServiceFactory to get access tokens for google kms services. The sample code is working in java8 but it is throwing the following errors after upgrading the runtime to java17. Could we have a solution for this ?</p>\n<p><strong>sample code</strong></p>\n<pre><code>public String getAppAccessToken() {\n    ArrayList &lt;String&gt; scopes = new ArrayList&lt;String&gt;();\n    scopes.add( &quot;https://www.googleapis.com/auth/cloud-platform&quot; );\n    scopes.add( &quot;https://www.googleapis.com/auth/cloudkms&quot; );\n    final AppIdentityService appIdentity = AppIdentityServiceFactory.getAppIdentityService();\n    final AppIdentityService.GetAccessTokenResult accessToken = appIdentity.getAccessToken( scopes );\n    String accessTokenStr = accessToken.getAccessToken();\n    return accessTokenStr;\n}\n</code></pre>\n<p><strong>Errors occured</strong></p>\n<p><em>Error 1</em></p>\n<pre><code>Service error in memcache com.google.appengine.api.memcache.MemcacheServiceException: Memcache get: exception getting 1 key (_ah_app_identity_['https://www.googleapis.com/auth/cloud-platform','https://www.googleapis.com/auth/cloudkms']) \n    at com.google.appengine.api.memcache.MemcacheServiceApiHelper$RpcResponseHandler.handleApiProxyException(MemcacheServiceApiHelper.java:94) \n    at com.google.appengine.api.memcache.MemcacheServiceApiHelper$RpcResponseHandler.handleApiProxyException(MemcacheServiceApiHelper.java:78) \n    at com.google.appengine.api.memcache.MemcacheServiceApiHelper$1.absorbParentException(MemcacheServiceApiHelper.java:143) \n    at com.google.appengine.api.utils.FutureWrapper.handleParentException(FutureWrapper.java:70) \n    at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:109) \n    at com.google.appengine.api.memcache.MemcacheServiceImpl.quietGet(MemcacheServiceImpl.java:40) \n    at com.google.appengine.api.memcache.MemcacheServiceImpl.get(MemcacheServiceImpl.java:63) \n    at com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessToken(AppIdentityServiceImpl.java:317) \n    at com.ls.services.KMSservice.getAppAccessToken(KMSservice.java:130) \n    at com.ls.services.KMSservice.decryptByAPI(KMSservice.java:111) \n    at com.ls.services.KMSservice.getDecryptedSecrets(KMSservice.java:78) \n    at com.ls.services.KMSservice.getSecretMap(KMSservice.java:34) \n    at com.ls.services.KMSservice.getSecretByKey(KMSservice.java:51) \n    at com.ls.services.filters.AuthenticationFilter.&lt;clinit&gt;(AuthenticationFilter.java:67) \n    at com.ls.services.filters.RegisterAuthenticationFilter.configure(RegisterAuthenticationFilter.java:19) \n    at org.jboss.resteasy.core.ResourceMethodInvoker.&lt;init&gt;(ResourceMethodInvoker.java:113) \n    at org.jboss.resteasy.core.ResourceMethodRegistry.processMethod(ResourceMethodRegistry.java:354) \n    at org.jboss.resteasy.core.ResourceMethodRegistry.register(ResourceMethodRegistry.java:277) \n    at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:228) \n    at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:201) \n    at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:187) \n    at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:164) \n    at org.jboss.resteasy.core.ResourceMethodRegistry.addSingletonResource(ResourceMethodRegistry.java:103) \n    at org.jboss.resteasy.spi.ResteasyDeployment.registration(ResteasyDeployment.java:516) \n    at org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:293) \n    at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:98) \n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140) \n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42) \n    at org.eclipse.jetty.servlet.ServletHolder$Wrapper.init(ServletHolder.java:1345) \n    at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632) \n    at org.eclipse.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:486) \n    at org.eclipse.jetty.servlet.ServletHolder.prepare(ServletHolder.java:759) \n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:549) \n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) \n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:571) \n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235) \n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624) \n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) \n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \n    at com.google.apphosting.runtime.jetty9.ParseBlobUploadHandler.handle(ParseBlobUploadHandler.java:125) \n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235) \n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440) \n    at com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doHandle(AppEngineWebAppContext.java:289) \n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) \n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505) \n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594) \n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) \n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355) \n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) \n    at com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:113) \n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \n    at org.eclipse.jetty.server.handler.SizeLimitHandler.handle(SizeLimitHandler.java:96) \n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) \n    at org.eclipse.jetty.server.Server.handle(Server.java:516) \n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487) \n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732) \n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479) \n    at com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:269) \n    at com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:100) \n    at com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:184) \n    at com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:262) \n    at com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:227) \n    at com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:193) \n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273) \n    at java.base/java.lang.Thread.run(Thread.java:833) \nCaused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: memcache.Get \n    at com.google.apphosting.utils.runtime.ApiProxyUtils.convertApiError(ApiProxyUtils.java:81) \n    at com.google.apphosting.utils.runtime.ApiProxyUtils.getApiError(ApiProxyUtils.java:198) \n    at com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:684) \n    at com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:581) \n    at com.google.apphosting.runtime.http.HttpApiHostClient.receivedResponse(HttpApiHostClient.java:296) \n    at com.google.apphosting.runtime.http.JettyHttpApiHostClient$Listener.onComplete(JettyHttpApiHostClient.java:206) \n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:218) \n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:210) \n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:481) \n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:461) \n    at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:424) \n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:374) \n    at org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:596) \n    at org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1723) \n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1552) \n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:208) \n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:148) \n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:80) \n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:131) \n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:172) \n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) \n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) \n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) \n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) \n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) \n    ... 1 more\n\n</code></pre>\n<p><em>Error 2</em></p>\n<pre><code>com.google.apphosting.api.ApiProxy$FeatureNotEnabledException:app_identity_service.GetAccessToken\nat java.lang.Thread.getStackTrace(Thread.java:1610)\nat com.google.apphosting.runtime.ApiProxyImpl.doSyncCall(ApiProxyImpl.java:362)\nat com.google.apphosting.runtime.ApiProxyImpl.lambda$makeSyncCall$0(ApiProxyImpl.java:284)\nat java.security.AccessController.doPrivileged(AccessController.java:318)\nat com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:283)\nat com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:81)\nat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:120)\nat com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:81)\nat com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessTokenUncached(AppIdentityServiceImpl.java:250)\nat com.google.appengine.api.appidentity.AppIdentityServiceImpl.getAccessToken(AppIdentityServiceImpl.java:327)\nat com.ls.services.KMSservice.getAppAccessToken(KMSservice.java:130)\nat com.ls.services.KMSservice.decryptByAPI(KMSservice.java:111)\nat com.ls.services.KMSservice.getDecryptedSecrets(KMSservice.java:78)\nat com.ls.services.KMSservice.getSecretMap(KMSservice.java:34)\nat com.ls.services.KMSservice.getSecretByKey(KMSservice.java:51)\nat com.ls.services.filters.AuthenticationFilter.&lt;clinit&gt;(AuthenticationFilter.java:67)\nat com.ls.services.filters.RegisterAuthenticationFilter.configure(RegisterAuthenticationFilter.java:19)\nat org.jboss.resteasy.core.ResourceMethodInvoker.&lt;init&gt;(ResourceMethodInvoker.java:113)\nat org.jboss.resteasy.core.ResourceMethodRegistry.processMethod(ResourceMethodRegistry.java:354)\nat org.jboss.resteasy.core.ResourceMethodRegistry.register(ResourceMethodRegistry.java:277)\nat org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:228)\nat org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:201)\nat org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:187)\nat org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:164)\nat org.jboss.resteasy.core.ResourceMethodRegistry.addSingletonResource(ResourceMethodRegistry.java:103)\nat org.jboss.resteasy.spi.ResteasyDeployment.registration(ResteasyDeployment.java:516)\nat org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:293)\nat org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:98)\nat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140)\nat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42)\nat org.eclipse.jetty.servlet.ServletHolder$Wrapper.init(ServletHolder.java:1345)\nat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632)\nat org.eclipse.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:486)\nat org.eclipse.jetty.servlet.ServletHolder.prepare(ServletHolder.java:759)\nat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:549)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\nat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:571)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\nat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat com.google.apphosting.runtime.jetty9.ParseBlobUploadHandler.handle(ParseBlobUploadHandler.java:125)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\nat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\nat com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doHandle(AppEngineWebAppContext.java:289)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\nat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\nat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\nat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\nat com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:113)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.handler.SizeLimitHandler.handle(SizeLimitHandler.java:96)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.Server.handle(Server.java:516)\nat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\nat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\nat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\nat com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:269)\nat com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:100)\nat com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:184)\nat com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:262)\nat com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:227)\nat com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:193)\nat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\nat java.lang.Thread.run(Thread.java:833)\nCaused by: com.google.apphosting.api.ApiProxy$FeatureNotEnabledException: app_identity_service.GetAccessToken \nat com.google.apphosting.utils.runtime.ApiProxyUtils.convertApiError(ApiProxyUtils.java:81)\nat com.google.apphosting.utils.runtime.ApiProxyUtils.getApiError(ApiProxyUtils.java:198)\nat com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:684)\nat com.google.apphosting.runtime.ApiProxyImpl$AsyncApiFuture.success(ApiProxyImpl.java:581)\nat com.google.apphosting.runtime.http.HttpApiHostClient.receivedResponse(HttpApiHostClient.java:296)\nat com.google.apphosting.runtime.http.JettyHttpApiHostClient$Listener.onComplete(JettyHttpApiHostClient.java:206)\nat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:218)\nat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:210)\nat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:481)\nat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:461)\nat org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:424)\nat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:374)\nat org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:596)\nat org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1723)\nat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1552)\nat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:208)\nat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:148)\nat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:80)\nat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:131)\nat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:172)\nat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\nat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n... 1 more\n\n</code></pre>\n"},{"tags":["java","unit-testing","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1520506939,"creation_date":1520506274,"answer_id":49171323,"question_id":49171005,"body_markdown":"Either use a static import for the static `given()` method :\r\n\r\n\r\n        import static io.restassured.matcher.RestAssuredMatchers.given;\r\n\r\nOr import the class, and call the static method as usual :\r\n\r\n        import io.restassured.matcher.RestAssuredMatchers;\r\n\r\n...\r\n\r\n \r\n\r\n        RestAssuredMatchers.given().\r\n            param(&quot;store&quot;,&quot;0123&quot;).\r\n        when().\r\n            get(REQUEST_MAPPING + &quot;/vehicles/{niv}/serviceHistory&quot;, niv).\r\n        then().\r\n            statusCode(200);","title":"The method given() is undefined for the type - http://rest-assured.io/","body":"<p>Either use a static import for the static <code>given()</code> method :</p>\n\n<pre><code>    import static io.restassured.matcher.RestAssuredMatchers.given;\n</code></pre>\n\n<p>Or import the class, and call the static method as usual :</p>\n\n<pre><code>    import io.restassured.matcher.RestAssuredMatchers;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    RestAssuredMatchers.given().\n        param(\"store\",\"0123\").\n    when().\n        get(REQUEST_MAPPING + \"/vehicles/{niv}/serviceHistory\", niv).\n    then().\n        statusCode(200);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6976970,"reputation":119,"user_id":5351410,"display_name":"YoniWitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549235848,"creation_date":1549224101,"answer_id":54507003,"question_id":49171005,"body_markdown":"I had same issue as apun, but Arnaud&#39;s answer didn&#39;t fix the error.\r\n\r\nFor me, adding this import worked:\r\n\r\n    import static io.restassured.RestAssured.given;","title":"The method given() is undefined for the type - http://rest-assured.io/","body":"<p>I had same issue as apun, but Arnaud's answer didn't fix the error.</p>\n\n<p>For me, adding this import worked:</p>\n\n<pre><code>import static io.restassured.RestAssured.given;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22551538,"reputation":1,"user_id":16740566,"display_name":"user16740566"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629819496,"creation_date":1629799502,"answer_id":68905593,"question_id":49171005,"body_markdown":"I had the same issue but worked with the below line\r\n```\r\nimport static io.restassured.RestAssured.*\r\n```","title":"The method given() is undefined for the type - http://rest-assured.io/","body":"<p>I had the same issue but worked with the below line</p>\n<pre><code>import static io.restassured.RestAssured.*\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1700628773,"post_id":77525598,"comment_id":136676776,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77525598/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16170145,"reputation":1,"user_id":11674116,"display_name":"Saurav0411"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700596471,"creation_date":1700596471,"answer_id":77525598,"question_id":49171005,"body_markdown":"import static io.restassured.RestAssured.given;","title":"The method given() is undefined for the type - http://rest-assured.io/","body":"<p>import static io.restassured.RestAssured.given;</p>\n"}],"owner":{"account_id":11977186,"reputation":1191,"user_id":8763977,"accept_rate":29,"display_name":"a p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9773,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49171323,"answer_count":4,"score":1,"last_activity_date":1700596471,"creation_date":1520505367,"question_id":49171005,"body_markdown":"I am trying to write a unit test for a web service in Java using io-rest-assured. Looks like so much have changed since I last used it. I am getting the error The `method given() is undefined for the type`. I have imported almost all the required jars as appears to me. Any suggestions as what am I missing?\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import javax.inject.Inject;\r\n    import io.restassured.RestAssured.*;\r\n    import io.restassured.matcher.RestAssuredMatchers.*;\r\n    import org.hamcrest.Matchers.*;\r\n    import org.junit.Test;\r\n    import org.springframework.mock.web.MockHttpServletRequest;\r\n    import org.springframework.test.web.servlet.request.RequestPostProcessor;\r\n    import io.restassured.module.jsv.JsonSchemaValidator.*;\r\n    import io.restassured.module.mockmvc.RestAssuredMockMvc.*;\r\n    \r\n    public class ProxyIntegrationTest_RA extends MockControllerIntegrationTest{\r\n        \r\n        private static final String REQUEST_MAPPING = &quot;/xy/v1/fax&quot;;\r\n        \r\n        @Test\r\n        public void testGetServices_success() throws Exception {\r\n            final String niv = &quot;1234567890&quot;;\r\n            \r\n            given().\r\n                param(&quot;store&quot;,&quot;0123&quot;).\r\n            when().\r\n                get(REQUEST_MAPPING + &quot;/vehicles/{niv}/serviceHistory&quot;, niv).\r\n            then().\r\n                statusCode(200);\r\n        }\r\n    }\r\n\r\ngiven(), when(), then() none is recognised.","title":"The method given() is undefined for the type - http://rest-assured.io/","body":"<p>I am trying to write a unit test for a web service in Java using io-rest-assured. Looks like so much have changed since I last used it. I am getting the error The <code>method given() is undefined for the type</code>. I have imported almost all the required jars as appears to me. Any suggestions as what am I missing?</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport javax.inject.Inject;\nimport io.restassured.RestAssured.*;\nimport io.restassured.matcher.RestAssuredMatchers.*;\nimport org.hamcrest.Matchers.*;\nimport org.junit.Test;\nimport org.springframework.mock.web.MockHttpServletRequest;\nimport org.springframework.test.web.servlet.request.RequestPostProcessor;\nimport io.restassured.module.jsv.JsonSchemaValidator.*;\nimport io.restassured.module.mockmvc.RestAssuredMockMvc.*;\n\npublic class ProxyIntegrationTest_RA extends MockControllerIntegrationTest{\n\n    private static final String REQUEST_MAPPING = \"/xy/v1/fax\";\n\n    @Test\n    public void testGetServices_success() throws Exception {\n        final String niv = \"1234567890\";\n\n        given().\n            param(\"store\",\"0123\").\n        when().\n            get(REQUEST_MAPPING + \"/vehicles/{niv}/serviceHistory\", niv).\n        then().\n            statusCode(200);\n    }\n}\n</code></pre>\n\n<p>given(), when(), then() none is recognised.</p>\n"},{"tags":["java","bash","centos","sh","tmux"],"comments":[{"owner":{"account_id":1143565,"reputation":503902,"user_id":1126841,"display_name":"chepner"},"score":0,"creation_date":1402163943,"post_id":24099348,"comment_id":37173421,"body_markdown":"How do you start the servers in the first place, and how do they restart?","body":"How do you start the servers in the first place, and how do they restart?"}],"answers":[{"tags":[],"owner":{"account_id":2711390,"reputation":151,"user_id":2339770,"display_name":"dynabaul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469802828,"creation_date":1469802828,"answer_id":38661445,"question_id":24099348,"body_markdown":"Here&#39;s a simple script to start multiple servers in a tmux session with different windows.\r\n\r\n    #!/bin/bash\r\n    SESSION=&#39;minecraft_servers&#39;\r\n    \r\n    tmux -2 new-session -d -s $SESSION\r\n    \r\n    # Setup a window for server 1\r\n    tmux rename-window &#39;server1&#39;\r\n    tmux send-keys &quot;cd /server1_dir; java -jar -Xmx4G -Xms4G Spigot.jar&quot; C-m\r\n    \r\n    # Setup a window for server 2\r\n    tmux new-window -t $SESSION:1 -n &#39;server2&#39; \r\n    tmux send-keys &quot;cd /server2_dir; java -jar -Xmx4G -Xms4G Spigot.jar&quot; C-m\r\n\r\n    # Setup a window for server 3\r\n    tmux new-window -t $SESSION:2 -n &#39;server3&#39; \r\n    tmux send-keys &quot;cd /server3_dir; java -jar -Xmx4G -Xms4G Spigot.jar&quot; C-m\r\n    \r\n    ...(start more servers here the same as the two above)\r\n    \r\n    # Set default window to first window\r\n    tmux select-window -t $SESSION:0\r\n\r\nAfter this script runs you just use the tmux attach command to open the sessions like normal.","title":"Centos Tmux - Bash script","body":"<p>Here's a simple script to start multiple servers in a tmux session with different windows.</p>\n\n<pre><code>#!/bin/bash\nSESSION='minecraft_servers'\n\ntmux -2 new-session -d -s $SESSION\n\n# Setup a window for server 1\ntmux rename-window 'server1'\ntmux send-keys \"cd /server1_dir; java -jar -Xmx4G -Xms4G Spigot.jar\" C-m\n\n# Setup a window for server 2\ntmux new-window -t $SESSION:1 -n 'server2' \ntmux send-keys \"cd /server2_dir; java -jar -Xmx4G -Xms4G Spigot.jar\" C-m\n\n# Setup a window for server 3\ntmux new-window -t $SESSION:2 -n 'server3' \ntmux send-keys \"cd /server3_dir; java -jar -Xmx4G -Xms4G Spigot.jar\" C-m\n\n...(start more servers here the same as the two above)\n\n# Set default window to first window\ntmux select-window -t $SESSION:0\n</code></pre>\n\n<p>After this script runs you just use the tmux attach command to open the sessions like normal.</p>\n"},{"tags":[],"owner":{"account_id":20904198,"reputation":31,"user_id":15356571,"display_name":"Кәрим Шамазов"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700595728,"creation_date":1699229053,"answer_id":77428114,"question_id":24099348,"body_markdown":"Try to use the folowing script:\r\n\r\n```bash\r\nsleep 1\r\ntmux send-keys -t $TMUX_PANE &quot;java -jar -Xmx4G -Xms4G Spigot.jar&quot; C-m\r\n```\r\n\r\n`send-keys` command sends keys to an existing pane.\r\n\r\n`-t` option specifys target pane in the format `&lt;session&gt;:&lt;window&gt;.&lt;pane&gt;` or using pane ID. You can get current pane ID from TMUX_PANE environment variable.\r\n\r\nWrite your command after this option. Use quotes: spaces must be sent too. Add `C-m` key after your command. It means Ctrl+m. Same as if you type &quot;Enter&quot;\r\n\r\nThis script sends your command to your pane. This pane must exists and it must be terminal that can run your command. So you should prepare your pane before.\r\n\r\nIf `/restart` command of spigot server called then server stops and execute your script **at the end of stopping**. So we need add `sleep` command to wait after sever stopped. Otherwise, your command will be executed in the server console (not in terminal).","title":"Centos Tmux - Bash script","body":"<p>Try to use the folowing script:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sleep 1\ntmux send-keys -t $TMUX_PANE &quot;java -jar -Xmx4G -Xms4G Spigot.jar&quot; C-m\n</code></pre>\n<p><code>send-keys</code> command sends keys to an existing pane.</p>\n<p><code>-t</code> option specifys target pane in the format <code>&lt;session&gt;:&lt;window&gt;.&lt;pane&gt;</code> or using pane ID. You can get current pane ID from TMUX_PANE environment variable.</p>\n<p>Write your command after this option. Use quotes: spaces must be sent too. Add <code>C-m</code> key after your command. It means Ctrl+m. Same as if you type &quot;Enter&quot;</p>\n<p>This script sends your command to your pane. This pane must exists and it must be terminal that can run your command. So you should prepare your pane before.</p>\n<p>If <code>/restart</code> command of spigot server called then server stops and execute your script <strong>at the end of stopping</strong>. So we need add <code>sleep</code> command to wait after sever stopped. Otherwise, your command will be executed in the server console (not in terminal).</p>\n"}],"owner":{"account_id":4566574,"reputation":195,"user_id":3707440,"accept_rate":50,"display_name":"user3707440"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700595728,"creation_date":1402159016,"question_id":24099348,"body_markdown":"I have a java application (Minecraft server) which you start whit the following command.\r\n\r\n `java -Xmx4G -Xms4G -jar spigot.jar`\r\n\r\nI have 8 minecraft servers running on a dedicated server, so I use tmux.\r\n\r\nI have a tmux session named &quot;servers&quot; and in that tmux session I have 8 windows.\r\nEach window run a minecraft server.\r\n\r\nWhen the servers restart they will start a script named start.sh\r\n\r\nSo my question is: How can I make the server start in the same session as it was in before?\r\n\r\nIs it something like \r\n\r\n`#!/bin/bash\r\ntmux a -t servers #something java -jar -Xmx4G -Xms4G Spigot.jar`","title":"Centos Tmux - Bash script","body":"<p>I have a java application (Minecraft server) which you start whit the following command.</p>\n\n<p><code>java -Xmx4G -Xms4G -jar spigot.jar</code></p>\n\n<p>I have 8 minecraft servers running on a dedicated server, so I use tmux.</p>\n\n<p>I have a tmux session named \"servers\" and in that tmux session I have 8 windows.\nEach window run a minecraft server.</p>\n\n<p>When the servers restart they will start a script named start.sh</p>\n\n<p>So my question is: How can I make the server start in the same session as it was in before?</p>\n\n<p>Is it something like </p>\n\n<p><code>#!/bin/bash\ntmux a -t servers #something java -jar -Xmx4G -Xms4G Spigot.jar</code></p>\n"},{"tags":["java","swing","java-5","jsplitpane"],"answers":[{"tags":[],"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700595480,"creation_date":1222074527,"answer_id":113924,"question_id":113915,"body_markdown":"After doing some searching in the [Java Bug Database](https://bugs.java.com/bugdatabase/), this looks like this might be a JDK bug that was only fixed in JDK 6.\r\n\r\nSee [JDK-6434148 : ClassCastException thrown while running SwingSet2 demo](https://bugs.java.com/bugdatabase/view_bug?bug_id=6434148).","title":"Getting java.lang.ClassCastException: javax.swing.KeyStroke when creating a JSplitPane","body":"<p>After doing some searching in the <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">Java Bug Database</a>, this looks like this might be a JDK bug that was only fixed in JDK 6.</p>\n<p>See <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6434148\" rel=\"nofollow noreferrer\">JDK-6434148 : ClassCastException thrown while running SwingSet2 demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":2153875,"reputation":181,"user_id":1909533,"display_name":"user1909533"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393841933,"creation_date":1393841933,"answer_id":22144026,"question_id":113915,"body_markdown":"Same exception had got thrown when i had upgraded java verion and db visualizer dint support jre7. and since \r\nSupport for Java 7 was introduced in DbVisualizer 8.0 for Windows and Linux/UNIX.\r\n\r\nSupport for Java 7 on Mac OS X was introduced in DbVisualizer 9.1.\r\n\r\nSo Solution that worked for me : \r\n**Windows/Unix/Linux:**\r\n    In the DbVisualizer installation directory there is an .install4j directory,\r\n    In this directory create a file named pref_jre.cfg if it doesn&#39;t already exist,\r\n    Open the file in a text editor,\r\n    Add the complete path to the root directory for the Java installation you want to use. \r\n    Example: C:\\Program Files\\Java\\jre7","title":"Getting java.lang.ClassCastException: javax.swing.KeyStroke when creating a JSplitPane","body":"<p>Same exception had got thrown when i had upgraded java verion and db visualizer dint support jre7. and since \nSupport for Java 7 was introduced in DbVisualizer 8.0 for Windows and Linux/UNIX.</p>\n\n<p>Support for Java 7 on Mac OS X was introduced in DbVisualizer 9.1.</p>\n\n<p>So Solution that worked for me : \n<strong>Windows/Unix/Linux:</strong>\n    In the DbVisualizer installation directory there is an .install4j directory,\n    In this directory create a file named pref_jre.cfg if it doesn't already exist,\n    Open the file in a text editor,\n    Add the complete path to the root directory for the Java installation you want to use. \n    Example: C:\\Program Files\\Java\\jre7</p>\n"},{"tags":[],"owner":{"account_id":7427035,"reputation":1,"user_id":5649198,"display_name":"Shree"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1449482306,"creation_date":1449478835,"answer_id":34129765,"question_id":113915,"body_markdown":"    java.lang.ClassCastException: javax.swing.KeyStroke cannot be cast to java.lang.Comparable....\r\n\r\nIf you are getting above error after installing java 7 in dbviz\r\nthen add Environment variabbles like: \r\n&#39;DBVIS_JAVA_HOME&#39; as a &#39;Variable Name&#39; and java path like \r\nfor ex. &quot;C:\\SWDTOOLS\\IBM\\RAD85\\runtimes\\base_v7\\java&quot;","title":"Getting java.lang.ClassCastException: javax.swing.KeyStroke when creating a JSplitPane","body":"<pre><code>java.lang.ClassCastException: javax.swing.KeyStroke cannot be cast to java.lang.Comparable....\n</code></pre>\n\n<p>If you are getting above error after installing java 7 in dbviz\nthen add Environment variabbles like: \n'DBVIS_JAVA_HOME' as a 'Variable Name' and java path like \nfor ex. \"C:\\SWDTOOLS\\IBM\\RAD85\\runtimes\\base_v7\\java\"</p>\n"}],"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":113924,"answer_count":3,"score":1,"last_activity_date":1700595721,"creation_date":1222074368,"question_id":113915,"body_markdown":"I&#39;m getting a random unreproducible Error when initializing a `JSplitPane` in with JDK 1.5.0_08. Note that this does not occur every time, but about 80% of the time:\r\n\r\n```lang-none\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: javax.swing.KeyStroke\r\n\tat java.util.TreeMap.compare(TreeMap.java:1093)\r\n\tat java.util.TreeMap.put(TreeMap.java:465)\r\n\tat java.util.TreeSet.add(TreeSet.java:210)\r\n\tat javax.swing.plaf.basic.BasicSplitPaneUI.installDefaults(BasicSplitPaneUI.java:364)\r\n\tat javax.swing.plaf.basic.BasicSplitPaneUI.installUI(BasicSplitPaneUI.java:300)\r\n\tat javax.swing.JComponent.setUI(JComponent.java:652)\r\n\tat javax.swing.JSplitPane.setUI(JSplitPane.java:350)\r\n\tat javax.swing.JSplitPane.updateUI(JSplitPane.java:378)\r\n\tat javax.swing.JSplitPane.&lt;init&gt;(JSplitPane.java:332)\r\n\tat javax.swing.JSplitPane.&lt;init&gt;(JSplitPane.java:287)\r\n\t...\r\n```\r\n\r\nThoughts? I&#39;ve tried cleaning and rebuilding my project so as to minimize the probability of corrupted class files.\r\n\r\nLooking at [JDK-6434148 : ClassCastException thrown while running SwingSet2 demo](https://bugs.java.com/bugdatabase/view_bug?bug_id=6434148), this seems to be a JDK bug. Any known workarounds? None are listed on the bug entry page.","title":"Getting java.lang.ClassCastException: javax.swing.KeyStroke when creating a JSplitPane","body":"<p>I'm getting a random unreproducible Error when initializing a <code>JSplitPane</code> in with JDK 1.5.0_08. Note that this does not occur every time, but about 80% of the time:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: javax.swing.KeyStroke\n    at java.util.TreeMap.compare(TreeMap.java:1093)\n    at java.util.TreeMap.put(TreeMap.java:465)\n    at java.util.TreeSet.add(TreeSet.java:210)\n    at javax.swing.plaf.basic.BasicSplitPaneUI.installDefaults(BasicSplitPaneUI.java:364)\n    at javax.swing.plaf.basic.BasicSplitPaneUI.installUI(BasicSplitPaneUI.java:300)\n    at javax.swing.JComponent.setUI(JComponent.java:652)\n    at javax.swing.JSplitPane.setUI(JSplitPane.java:350)\n    at javax.swing.JSplitPane.updateUI(JSplitPane.java:378)\n    at javax.swing.JSplitPane.&lt;init&gt;(JSplitPane.java:332)\n    at javax.swing.JSplitPane.&lt;init&gt;(JSplitPane.java:287)\n    ...\n</code></pre>\n<p>Thoughts? I've tried cleaning and rebuilding my project so as to minimize the probability of corrupted class files.</p>\n<p>Looking at <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6434148\" rel=\"nofollow noreferrer\">JDK-6434148 : ClassCastException thrown while running SwingSet2 demo</a>, this seems to be a JDK bug. Any known workarounds? None are listed on the bug entry page.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":274743,"reputation":1993,"user_id":567162,"accept_rate":70,"display_name":"D-Klotz"},"score":0,"creation_date":1370533248,"post_id":152757,"comment_id":24503590,"body_markdown":"I know this is an old question but for future developers, this is something that I&#39;ve used extensively for a product with clients, servers using POJOs for several years. The serialized objects between versions has worked without problems. The only time we have had a problem is when we broke the serialization rules. For example, don&#39;t change the type of a variable.","body":"I know this is an old question but for future developers, this is something that I&#39;ve used extensively for a product with clients, servers using POJOs for several years. The serialized objects between versions has worked without problems. The only time we have had a problem is when we broke the serialization rules. For example, don&#39;t change the type of a variable."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1483261493,"post_id":152789,"comment_id":70032712,"body_markdown":"No you can&#39;t. You&#39;ve tested it for one class. One swallow does not a summer make.","body":"No you can&#39;t. You&#39;ve tested it for one class. One swallow does not a summer make."}],"tags":[],"owner":{"account_id":11263,"reputation":3893,"user_id":21644,"display_name":"GavinCattell"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1222777354,"creation_date":1222777354,"answer_id":152789,"question_id":152757,"body_markdown":"After testing with a serialized object written to a file using the ObjectOutputStream in a Java 1.5 program, then running a read with a ObjectInputStream in a Java 1.6 program I can say this worked without any issue.","title":"Is java object serialization compatible between 1.5 and 1.6","body":"<p>After testing with a serialized object written to a file using the ObjectOutputStream in a Java 1.5 program, then running a read with a ObjectInputStream in a Java 1.6 program I can say this worked without any issue.</p>\n"},{"tags":[],"owner":{"account_id":11769,"reputation":55893,"user_id":22850,"accept_rate":60,"display_name":"Tom"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1222787031,"creation_date":1222777396,"answer_id":152792,"question_id":152757,"body_markdown":"The serialization mechanism itself has not changed. For individual classes it will depend on the specific class. If a class has a serialVersionUID field, this is supposed to indicate serialization compatiblity. \r\n\r\nSomething like:\r\n\r\n    private static final long serialVersionUID = 8683452581122892189L;\r\n\r\nIf it is unchanged, the serialized versions are compatible. For JDK classes this is guaranteed, but of course it is always possible to forget to update the serialVersionUID after making a breaking change.\r\n\r\nWhen JDK classes are not guaranteed to be compatible, this is usually mentioned in the Javadoc.\r\n\r\n&gt; Warning: Serialized objects of this class will not be compatible with future Swing releases","title":"Is java object serialization compatible between 1.5 and 1.6","body":"<p>The serialization mechanism itself has not changed. For individual classes it will depend on the specific class. If a class has a serialVersionUID field, this is supposed to indicate serialization compatiblity. </p>\n\n<p>Something like:</p>\n\n<pre><code>private static final long serialVersionUID = 8683452581122892189L;\n</code></pre>\n\n<p>If it is unchanged, the serialized versions are compatible. For JDK classes this is guaranteed, but of course it is always possible to forget to update the serialVersionUID after making a breaking change.</p>\n\n<p>When JDK classes are not guaranteed to be compatible, this is usually mentioned in the Javadoc.</p>\n\n<blockquote>\n  <p>Warning: Serialized objects of this class will not be compatible with future Swing releases</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":11769,"reputation":55893,"user_id":22850,"accept_rate":60,"display_name":"Tom"},"score":0,"creation_date":1222778413,"post_id":152811,"comment_id":45492,"body_markdown":"I was assuming the question is about jdk classes, and that their serialVersionUIDs are correct...","body":"I was assuming the question is about jdk classes, and that their serialVersionUIDs are correct..."},{"owner":{"account_id":9336,"reputation":7066,"user_id":17205,"accept_rate":64,"display_name":"Alan"},"score":0,"creation_date":1222827333,"post_id":152811,"comment_id":47260,"body_markdown":"Fair enough: if your JDK upgrade messes up Serializable, the clients of the your big boy JDK (i.e. Sun, BEA, IBM, etc.) should scream bloody murder (and I have). Admittedly the question wasn&#39;t clear whether it was only about JDK classes.","body":"Fair enough: if your JDK upgrade messes up Serializable, the clients of the your big boy JDK (i.e. Sun, BEA, IBM, etc.) should scream bloody murder (and I have). Admittedly the question wasn&#39;t clear whether it was only about JDK classes."}],"tags":[],"owner":{"account_id":9336,"reputation":7066,"user_id":17205,"accept_rate":64,"display_name":"Alan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222777663,"creation_date":1222777663,"answer_id":152811,"question_id":152757,"body_markdown":"I would quickly add that it is possible to change the class but *forget* to change the serialVersionUID. So it is incorrect that &quot;If the class defines a serialVersionUID, and this does not change, the class is guaranteed to be compatible.&quot; Rather, having the same serialVersionUID is the way an API promises backward compatibility.\r\n\r\n","title":"Is java object serialization compatible between 1.5 and 1.6","body":"<p>I would quickly add that it is possible to change the class but <em>forget</em> to change the serialVersionUID. So it is incorrect that \"If the class defines a serialVersionUID, and this does not change, the class is guaranteed to be compatible.\" Rather, having the same serialVersionUID is the way an API promises backward compatibility.</p>\n"},{"comments":[{"owner":{"account_id":11769,"reputation":55893,"user_id":22850,"accept_rate":60,"display_name":"Tom"},"score":0,"creation_date":1222778322,"post_id":152826,"comment_id":45488,"body_markdown":"Binary compatiblity is about the public and protected interface, while serialization compatibility deals with usually private fields. Are you sure one implies the other ?","body":"Binary compatiblity is about the public and protected interface, while serialization compatibility deals with usually private fields. Are you sure one implies the other ?"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1223301846,"post_id":152826,"comment_id":59103,"body_markdown":"Technically it is not binary compatibility as defined by Chapter 13 of the JLS. However binary compatibility with respect to serialisation is required between Java versions, unless otherwise specified. If you find a problem, report a bug.","body":"Technically it is not binary compatibility as defined by Chapter 13 of the JLS. However binary compatibility with respect to serialisation is required between Java versions, unless otherwise specified. If you find a problem, report a bug."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700595366,"creation_date":1222777873,"answer_id":152826,"question_id":152757,"body_markdown":"Unless otherwise stated, this should be part of binary compatibility. Swing classes are explicitly not compatible between versions. If you find a problem with other classes, report a bug in the [Java Bug Database][1].\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/","title":"Is java object serialization compatible between 1.5 and 1.6","body":"<p>Unless otherwise stated, this should be part of binary compatibility. Swing classes are explicitly not compatible between versions. If you find a problem with other classes, report a bug in the <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">Java Bug Database</a>.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222778983,"creation_date":1222778983,"answer_id":152895,"question_id":152757,"body_markdown":"Have you read the [Java Object Serialization Specification][1]? There is a topic on [versioning][2]. There is also an article for class implementers: [Discover the secrets of the Java Serialization API][3]. Each release of Java is accompanied by [compatibility notes][4].\r\n\r\nFrom the Java 6 spec on serialization:\r\n\r\n----------\r\n\r\n\r\nThe goals are to:\r\n\r\n  * Support bidirectional communication between different versions of a class operating in different virtual machines by:\r\n    * Defining a mechanism that allows JavaTM classes to read streams written by older versions of the same class.\r\n    * Defining a mechanism that allows JavaTM classes to write streams intended to be read by older versions of the same class.\r\n  * Provide default serialization for persistence and for RMI.\r\n  * Perform well and produce compact streams in simple cases, so that RMI can use serialization.\r\n  * Be able to identify and load classes that match the exact class used to write the stream.\r\n  * Keep the overhead low for nonversioned classes.\r\n  * Use a stream format that allows the traversal of the stream without having to invoke methods specific to the objects saved in the stream.\r\n\r\n----------\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/platform/serialization/spec/serialTOC.html\r\n  [2]: http://java.sun.com/javase/6/docs/platform/serialization/spec/version.html\r\n  [3]: http://java.sun.com/developer/technicalArticles/Programming/serialization/\r\n  [4]: http://java.sun.com/javase/6/webnotes/compatibility.html","title":"Is java object serialization compatible between 1.5 and 1.6","body":"<p>Have you read the <a href=\"http://java.sun.com/javase/6/docs/platform/serialization/spec/serialTOC.html\" rel=\"nofollow noreferrer\">Java Object Serialization Specification</a>? There is a topic on <a href=\"http://java.sun.com/javase/6/docs/platform/serialization/spec/version.html\" rel=\"nofollow noreferrer\">versioning</a>. There is also an article for class implementers: <a href=\"http://java.sun.com/developer/technicalArticles/Programming/serialization/\" rel=\"nofollow noreferrer\">Discover the secrets of the Java Serialization API</a>. Each release of Java is accompanied by <a href=\"http://java.sun.com/javase/6/webnotes/compatibility.html\" rel=\"nofollow noreferrer\">compatibility notes</a>.</p>\n\n<p>From the Java 6 spec on serialization:</p>\n\n<hr>\n\n<p>The goals are to:</p>\n\n<ul>\n<li>Support bidirectional communication between different versions of a class operating in different virtual machines by:\n\n<ul>\n<li>Defining a mechanism that allows JavaTM classes to read streams written by older versions of the same class.</li>\n<li>Defining a mechanism that allows JavaTM classes to write streams intended to be read by older versions of the same class.</li>\n</ul></li>\n<li>Provide default serialization for persistence and for RMI.</li>\n<li>Perform well and produce compact streams in simple cases, so that RMI can use serialization.</li>\n<li>Be able to identify and load classes that match the exact class used to write the stream.</li>\n<li>Keep the overhead low for nonversioned classes.</li>\n<li>Use a stream format that allows the traversal of the stream without having to invoke methods specific to the objects saved in the stream.</li>\n</ul>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1222779945,"creation_date":1222779945,"answer_id":152943,"question_id":152757,"body_markdown":"The serialization mechanism in 1.5 and 1.6 is compatible. Thus, the same code compiled/running in a 1.5 and 1.6 context can exchange serialized objects. Whether the two VM instances have the same/compatible version of the class (as may be indicated by the serialVersionUID field) is a different question not related to the JDK version.\r\n\r\nIf you have one serializable Foo.java and use this in a 1.5 and 1.6 JDK/VM, serialized instances of Foo created by one V; can be deserialized by the other.","title":"Is java object serialization compatible between 1.5 and 1.6","body":"<p>The serialization mechanism in 1.5 and 1.6 is compatible. Thus, the same code compiled/running in a 1.5 and 1.6 context can exchange serialized objects. Whether the two VM instances have the same/compatible version of the class (as may be indicated by the serialVersionUID field) is a different question not related to the JDK version.</p>\n\n<p>If you have one serializable Foo.java and use this in a 1.5 and 1.6 JDK/VM, serialized instances of Foo created by one V; can be deserialized by the other.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222816007,"creation_date":1222816007,"answer_id":155521,"question_id":152757,"body_markdown":"Note that the Java Beans specification details a version-independent serialization method which allows for strong backwards-compatibility. It also results in readable &quot;serialized&quot; forms. In fact a serialized object can be created pretty easily using the mechanism.\r\n\r\nLook up the documentation to the `XMLEncoder` and `XMLDecoder` classes.\r\n\r\nI wouldn&#39;t use this for passing an object over the wire necessarily (though if high performance is a requirement,I wouldn&#39;t use serialization either) but it&#39;s invaluable for persistent object storage. ","title":"Is java object serialization compatible between 1.5 and 1.6","body":"<p>Note that the Java Beans specification details a version-independent serialization method which allows for strong backwards-compatibility. It also results in readable \"serialized\" forms. In fact a serialized object can be created pretty easily using the mechanism.</p>\n\n<p>Look up the documentation to the <code>XMLEncoder</code> and <code>XMLDecoder</code> classes.</p>\n\n<p>I wouldn't use this for passing an object over the wire necessarily (though if high performance is a requirement,I wouldn't use serialization either) but it's invaluable for persistent object storage. </p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1483261346,"post_id":359336,"comment_id":70032697,"body_markdown":"It is not safe *for that specific class,* as it clearly states in its own Javadoc. You haven&#39;t stumbled on a law of the universe here.","body":"It is not safe <i>for that specific class,</i> as it clearly states in its own Javadoc. You haven&#39;t stumbled on a law of the universe here."}],"tags":[],"owner":{},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1521537391,"creation_date":1229002045,"answer_id":359336,"question_id":152757,"body_markdown":"It is not safe to mix Java 1.5 and 1.6. For example, I have a Java 1.5 object serialized into a file and tried opening it in Java 1.6 but it came up with the error below.\r\n\r\n    java.io.InvalidClassException: javax.swing.JComponent; local class incompatible: stream classdesc serialVersionUID = 7917968344860800289, local class serialVersionUID = -1030230214076481435\r\n    \tat java.io.ObjectStreamClass.initNonProxy(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readClassDesc(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readClassDesc(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readClassDesc(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readObject0(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readArray(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readObject0(Unknown Source)\r\n    \tat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readSerialData(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readObject0(Unknown Source)\r\n    \tat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readSerialData(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readObject0(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readArray(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readObject0(Unknown Source)\r\n    \tat java.io.ObjectInputStream.defaultReadFields(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readSerialData(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readObject0(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readObject(Unknown Source)\r\n\r\n","title":"Is java object serialization compatible between 1.5 and 1.6","body":"<p>It is not safe to mix Java 1.5 and 1.6. For example, I have a Java 1.5 object serialized into a file and tried opening it in Java 1.6 but it came up with the error below.</p>\n\n<pre><code>java.io.InvalidClassException: javax.swing.JComponent; local class incompatible: stream classdesc serialVersionUID = 7917968344860800289, local class serialVersionUID = -1030230214076481435\n    at java.io.ObjectStreamClass.initNonProxy(Unknown Source)\n    at java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\n    at java.io.ObjectInputStream.readClassDesc(Unknown Source)\n    at java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\n    at java.io.ObjectInputStream.readClassDesc(Unknown Source)\n    at java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\n    at java.io.ObjectInputStream.readClassDesc(Unknown Source)\n    at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\n    at java.io.ObjectInputStream.readObject0(Unknown Source)\n    at java.io.ObjectInputStream.readArray(Unknown Source)\n    at java.io.ObjectInputStream.readObject0(Unknown Source)\n    at java.io.ObjectInputStream.defaultReadFields(Unknown Source)\n    at java.io.ObjectInputStream.readSerialData(Unknown Source)\n    at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\n    at java.io.ObjectInputStream.readObject0(Unknown Source)\n    at java.io.ObjectInputStream.defaultReadFields(Unknown Source)\n    at java.io.ObjectInputStream.readSerialData(Unknown Source)\n    at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\n    at java.io.ObjectInputStream.readObject0(Unknown Source)\n    at java.io.ObjectInputStream.readArray(Unknown Source)\n    at java.io.ObjectInputStream.readObject0(Unknown Source)\n    at java.io.ObjectInputStream.defaultReadFields(Unknown Source)\n    at java.io.ObjectInputStream.readSerialData(Unknown Source)\n    at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\n    at java.io.ObjectInputStream.readObject0(Unknown Source)\n    at java.io.ObjectInputStream.readObject(Unknown Source)\n</code></pre>\n"}],"owner":{"display_name":"Peter Kliem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9360,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":8,"score":21,"last_activity_date":1700595366,"creation_date":1222776474,"question_id":152757,"body_markdown":"I am wondering whether it is safe to mix jdk 1.5 and 1.6 (Java 6) object serialization (biderctional communication). I searched for an explicit statement from sun concerning this question but did not succeed. So, besides the technical feasability I am searching for an &quot;official&quot; statement concerning the problem.","title":"Is java object serialization compatible between 1.5 and 1.6","body":"<p>I am wondering whether it is safe to mix jdk 1.5 and 1.6 (Java 6) object serialization (biderctional communication). I searched for an explicit statement from sun concerning this question but did not succeed. So, besides the technical feasability I am searching for an \"official\" statement concerning the problem.</p>\n"},{"tags":["java","postgresql","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700578407,"post_id":77521954,"comment_id":136670260,"body_markdown":"It&#39;s not clear what you&#39;re asking. You have one `TableView`, populated by data from a database table with two columns. You say that when the user clicks on a row in that table (i.e. selects an item in one of the rows), you want to display another `TableView` with data from another database table. What is the relationship between the two database tables? You haven&#39;t specified how you want to choose the data in the second table that should be displayed, given the selected item in the first table. It&#39;s also not clear exactly which part you&#39;re stuck on.","body":"It&#39;s not clear what you&#39;re asking. You have one <code>TableView</code>, populated by data from a database table with two columns. You say that when the user clicks on a row in that table (i.e. selects an item in one of the rows), you want to display another <code>TableView</code> with data from another database table. What is the relationship between the two database tables? You haven&#39;t specified how you want to choose the data in the second table that should be displayed, given the selected item in the first table. It&#39;s also not clear exactly which part you&#39;re stuck on."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1700585777,"post_id":77521954,"comment_id":136671706,"body_markdown":"Why create a new account?","body":"Why create a new account?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1700585966,"post_id":77521954,"comment_id":136671754,"body_markdown":"We need to see your database schema.","body":"We need to see your database schema."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1700586070,"post_id":77521954,"comment_id":136671773,"body_markdown":"I would have things set up in a way that when I click a table row, the ID for that item is used to query the database for the additional information that will need to be displayed.","body":"I would have things set up in a way that when I click a table row, the ID for that item is used to query the database for the additional information that will need to be displayed."},{"owner":{"account_id":29956101,"reputation":1,"user_id":22956954,"display_name":"Joy Kane"},"score":0,"creation_date":1700650204,"post_id":77521954,"comment_id":136679885,"body_markdown":"when you click on a row in the first TableView, all record data from the database with the same id is called as used to upload data to the first TableView. The record data from the database is uploaded to the second TableView in a new window. The problem is finding the id by the clicked line.","body":"when you click on a row in the first TableView, all record data from the database with the same id is called as used to upload data to the first TableView. The record data from the database is uploaded to the second TableView in a new window. The problem is finding the id by the clicked line."},{"owner":{"account_id":29956101,"reputation":1,"user_id":22956954,"display_name":"Joy Kane"},"score":0,"creation_date":1700650582,"post_id":77521954,"comment_id":136679948,"body_markdown":"In my database I currently have one table - a table with four parameters.","body":"In my database I currently have one table - a table with four parameters."},{"owner":{"account_id":29956101,"reputation":1,"user_id":22956954,"display_name":"Joy Kane"},"score":2,"creation_date":1700659435,"post_id":77521954,"comment_id":136681517,"body_markdown":"I have already solved this problem, thanks for the help!","body":"I have already solved this problem, thanks for the help!"}],"owner":{"account_id":29956101,"reputation":1,"user_id":22956954,"display_name":"Joy Kane"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700594868,"creation_date":1700561547,"question_id":77521954,"body_markdown":"I&#39;m just starting to learn java and I need help. I have a table with two parameters, the table (first photo) is filled with data from a postgresql database view (second photo). \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n    public ObservableList&lt;ViewBiscuit&gt; getViewBiscuit() {\r\n        ObservableList&lt;ViewBiscuit&gt; viewBiscuits = FXCollections.observableArrayList();\r\n        try {\r\n            ResultSet resultSet = connect_to_db().createStatement().executeQuery(String.format(&quot;select * from sum_biscuit&quot;));\r\n            while (resultSet.next()) {\r\n                viewBiscuits.add(new ViewBiscuit(\r\n                        resultSet.getString(&quot;название&quot;),\r\n                        resultSet.getFloat(&quot;sum&quot;)\r\n                ));\r\n            }\r\n            return viewBiscuits;\r\n        } catch (SQLException e) {\r\n            System.out.println(e.getMessage());\r\n            return viewBiscuits;\r\n        }\r\n    }\r\n\r\nThis is the code for filling the table with data from the view\r\n\r\n\r\n    viewBiscuit.setOnMouseClicked(e -&gt; {\r\n        if (e.getClickCount() == 2) {\r\n            ViewBiscuit viewBiscuit1 = viewBiscuit.getSelectionModel().getSelectedItem();\r\n            try {\r\n                FXMLLoader loader2 = new FXMLLoader(getClass().getResource(&quot;/com/example/demo/screens/update-biscuit.fxml&quot;));\r\n                Parent parent2 = loader2.load();\r\n                UpdateBiscuitController updateBiscuitController = loader2.getController();\r\n                updateBiscuitController.setData(viewBiscuit1.getName(), viewBiscuit1.getAmount());\r\n                Stage stage = new Stage();\r\n                stage.initModality(Modality.APPLICATION_MODAL);\r\n                stage.setScene(new Scene(parent2));\r\n                stage.showAndWait();\r\n\r\n            } catch (IOException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n    });\r\n\r\nThis is the code for transferring data from one window to another. But here this method outputs data from the table to text fields\r\n\r\nThis representation is made by a table, it outputs one parameter depending on another parameter.\r\n\r\nThis is the table on which the view is made\r\n\r\n[![some table][3]][3]\r\n\r\nWhen you click on a certain row in the table, another window should open, where the table should be filled with full parameters from the database (3 photo).\r\n\r\n[![some ui][4]][4]\r\n\r\nHow can I do this? I don&#39;t quite understand.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sr2zI.png\r\n  [2]: https://i.stack.imgur.com/sYbDO.png\r\n  [3]: https://i.stack.imgur.com/sFYSz.png\r\n  [4]: https://i.stack.imgur.com/lADRn.png\r\n","title":"How to transfer data from a table to another table in another window","body":"<p>I'm just starting to learn java and I need help. I have a table with two parameters, the table (first photo) is filled with data from a postgresql database view (second photo).</p>\n<p><a href=\"https://i.stack.imgur.com/Sr2zI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sr2zI.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/sYbDO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sYbDO.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public ObservableList&lt;ViewBiscuit&gt; getViewBiscuit() {\n    ObservableList&lt;ViewBiscuit&gt; viewBiscuits = FXCollections.observableArrayList();\n    try {\n        ResultSet resultSet = connect_to_db().createStatement().executeQuery(String.format(&quot;select * from sum_biscuit&quot;));\n        while (resultSet.next()) {\n            viewBiscuits.add(new ViewBiscuit(\n                    resultSet.getString(&quot;название&quot;),\n                    resultSet.getFloat(&quot;sum&quot;)\n            ));\n        }\n        return viewBiscuits;\n    } catch (SQLException e) {\n        System.out.println(e.getMessage());\n        return viewBiscuits;\n    }\n}\n</code></pre>\n<p>This is the code for filling the table with data from the view</p>\n<pre><code>viewBiscuit.setOnMouseClicked(e -&gt; {\n    if (e.getClickCount() == 2) {\n        ViewBiscuit viewBiscuit1 = viewBiscuit.getSelectionModel().getSelectedItem();\n        try {\n            FXMLLoader loader2 = new FXMLLoader(getClass().getResource(&quot;/com/example/demo/screens/update-biscuit.fxml&quot;));\n            Parent parent2 = loader2.load();\n            UpdateBiscuitController updateBiscuitController = loader2.getController();\n            updateBiscuitController.setData(viewBiscuit1.getName(), viewBiscuit1.getAmount());\n            Stage stage = new Stage();\n            stage.initModality(Modality.APPLICATION_MODAL);\n            stage.setScene(new Scene(parent2));\n            stage.showAndWait();\n\n        } catch (IOException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n});\n</code></pre>\n<p>This is the code for transferring data from one window to another. But here this method outputs data from the table to text fields</p>\n<p>This representation is made by a table, it outputs one parameter depending on another parameter.</p>\n<p>This is the table on which the view is made</p>\n<p><a href=\"https://i.stack.imgur.com/sFYSz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sFYSz.png\" alt=\"some table\" /></a></p>\n<p>When you click on a certain row in the table, another window should open, where the table should be filled with full parameters from the database (3 photo).</p>\n<p><a href=\"https://i.stack.imgur.com/lADRn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lADRn.png\" alt=\"some ui\" /></a></p>\n<p>How can I do this? I don't quite understand.</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor","project-loom"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":2,"creation_date":1675440019,"post_id":75314973,"comment_id":132935977,"body_markdown":"There is an open issue for the loom integration in Reactor: https://github.com/reactor/reactor-core/issues/3084 Probably it should be followed for further developments in this topic.","body":"There is an open issue for the loom integration in Reactor: <a href=\"https://github.com/reactor/reactor-core/issues/3084\" rel=\"nofollow noreferrer\">github.com/reactor/reactor-core/issues/3084</a> Probably it should be followed for further developments in this topic."}],"answers":[{"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":3,"creation_date":1677180092,"post_id":75546539,"comment_id":133292148,"body_markdown":"Disclaimer: I refuse to use reactive frameworks unless absolutely necessary so I might be a bit biased.","body":"Disclaimer: I refuse to use reactive frameworks unless absolutely necessary so I might be a bit biased."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1700594829,"creation_date":1677164331,"answer_id":75546539,"question_id":75314973,"body_markdown":"## Blocking in Reactive code\r\n\r\nYou can also block in Reactive code, it&#39;s just normally not a good idea.\r\n\r\nWithout virtual threads, doing a blocking operation would also block the platform thread so you&#39;d essentially be wasting the platform thread if you block in reactive code.\r\n\r\n### with Project Loom\r\n\r\nIf you are using `Executors.newVirtualThreadPerTaskExecutor()`, this is not a problem any more (at least in most cases, there are some exceptions for e.g. native-code or when blocking in `synchronized` blocks - in these cases, the virtual thread, is &#39;pinned&#39; to a platform thread).\r\n\r\n### The problems\r\n\r\nAn issue with that is that you are breaking the paradigm. While your project is reactive, some of your code isn&#39;t and you are ending up with a codebase that uses reactive code for some parts and doesn&#39;t for other parts. However, that might be fine temporarily if you are in the process of migrating an existing Reactive project to synchronous code using virtual threads and you are planning to remove the reactive framework from your project (you could do so incrementally).\r\n\r\n&lt;s&gt;However, note that Virtual Threads are (at the time of writing this) still a preview feature so there may be breaking changes to it. So, you might not want to migrate to virtual threads yet and wait until virtual threads go out of preview as switching back might be pretty difficult.&lt;/s&gt; Virtual Threads were finalized in Java 21.\r\n\r\nIn any way, don&#39;t start a project using a Reactive framework but blocking inside Reactive code just because you are using Loom&#39;s virtual threads. Instead, either choose the Reactive programming style or use virtual threads and write it synchronously. If you have specific work that should be done in a platform thread (e.g. CPU-intensive work), nothing stops you from creating a platform thread for that.\r\n\r\nAfter all, the entire purpose of Reactive programming is not to block threads. If you want to block (virtual) threads, there&#39;s no point in using reactive frameworks (at least in my opinion).\r\n\r\n## Migrating from Reactive to virtual threads\r\n\r\nHow you are migrating from reactive code to virtual threads depends on you and your project. If your project is modularized properly, then it would probably be a good idea to choose the modularized approach and migrate one module after the other.\r\n\r\nIf you have a codebase using a reactive framework and want to switch to virtual threads, you can start by configuring the reactive framework to use virtual threads itself using `Executors.newVirtualThreadPerTaskExecutor()` or similar. This is not necessary for a top-down approach as long as the blocking code runs in virtual threads.\r\n\r\n### Top-down\r\n\r\nYou can try to migrate it top-down - you make sure that the calling code is executed in virtual threads and rewrite that step by step to block. For that, you could (since you are in a virtual thread) run some reactive operation and block for the final result of the operation. You can then later continue rewriting the reactive code that has been called by the reactive operation when no other reactive code is using this operation (all code calling the operation has been rewritten to virtual threads).\r\n\r\n### bottom-up\r\n\r\nReactive frameworks typically provide a way to run non-reactive code using another thread or similar. You can configure this to use virtual threads and then start rewriting the code bottom-up.\r\n\r\nIn order to do this, you would start rewriting reactive code that doesn&#39;t depend on other reactive code and change the calling code to treat it like non-reactive code (while making sure it runs in virtual threads).\r\n\r\n### mixed\r\n\r\nYou could also start in the middle. For that, you really need to make sure that your reactive framework runs your code in virtual threads.\r\n\r\nThen, you would block for called reactive code while the code calling your code treats your rewritten code as non-reactive code.\r\n\r\nHowever, you should note that this will lead to the aforementioned problems with breaking the paradigms. You will probably have half-reactive half-blocking code which might be annoying to deal with.\r\n\r\n### modularized\r\n\r\nIf you do a big rewrite of your codebase, you might end up in a situation where a part is rewritten and other parts aren&#39;t.\r\n\r\nIf your application has clearly separated modules (_could be_ microservices but monolithic applications can also be modularized), you can start by rewriting one module after another. If you are using microservices, you should be able to rewrite one microservice at a time without impacting other microservices.","title":"Using Virtual Threads (Project Loom) with Spring WebFlux/Reactor/Reactive libraries","body":"<h2>Blocking in Reactive code</h2>\n<p>You can also block in Reactive code, it's just normally not a good idea.</p>\n<p>Without virtual threads, doing a blocking operation would also block the platform thread so you'd essentially be wasting the platform thread if you block in reactive code.</p>\n<h3>with Project Loom</h3>\n<p>If you are using <code>Executors.newVirtualThreadPerTaskExecutor()</code>, this is not a problem any more (at least in most cases, there are some exceptions for e.g. native-code or when blocking in <code>synchronized</code> blocks - in these cases, the virtual thread, is 'pinned' to a platform thread).</p>\n<h3>The problems</h3>\n<p>An issue with that is that you are breaking the paradigm. While your project is reactive, some of your code isn't and you are ending up with a codebase that uses reactive code for some parts and doesn't for other parts. However, that might be fine temporarily if you are in the process of migrating an existing Reactive project to synchronous code using virtual threads and you are planning to remove the reactive framework from your project (you could do so incrementally).</p>\n<p><s>However, note that Virtual Threads are (at the time of writing this) still a preview feature so there may be breaking changes to it. So, you might not want to migrate to virtual threads yet and wait until virtual threads go out of preview as switching back might be pretty difficult.</s> Virtual Threads were finalized in Java 21.</p>\n<p>In any way, don't start a project using a Reactive framework but blocking inside Reactive code just because you are using Loom's virtual threads. Instead, either choose the Reactive programming style or use virtual threads and write it synchronously. If you have specific work that should be done in a platform thread (e.g. CPU-intensive work), nothing stops you from creating a platform thread for that.</p>\n<p>After all, the entire purpose of Reactive programming is not to block threads. If you want to block (virtual) threads, there's no point in using reactive frameworks (at least in my opinion).</p>\n<h2>Migrating from Reactive to virtual threads</h2>\n<p>How you are migrating from reactive code to virtual threads depends on you and your project. If your project is modularized properly, then it would probably be a good idea to choose the modularized approach and migrate one module after the other.</p>\n<p>If you have a codebase using a reactive framework and want to switch to virtual threads, you can start by configuring the reactive framework to use virtual threads itself using <code>Executors.newVirtualThreadPerTaskExecutor()</code> or similar. This is not necessary for a top-down approach as long as the blocking code runs in virtual threads.</p>\n<h3>Top-down</h3>\n<p>You can try to migrate it top-down - you make sure that the calling code is executed in virtual threads and rewrite that step by step to block. For that, you could (since you are in a virtual thread) run some reactive operation and block for the final result of the operation. You can then later continue rewriting the reactive code that has been called by the reactive operation when no other reactive code is using this operation (all code calling the operation has been rewritten to virtual threads).</p>\n<h3>bottom-up</h3>\n<p>Reactive frameworks typically provide a way to run non-reactive code using another thread or similar. You can configure this to use virtual threads and then start rewriting the code bottom-up.</p>\n<p>In order to do this, you would start rewriting reactive code that doesn't depend on other reactive code and change the calling code to treat it like non-reactive code (while making sure it runs in virtual threads).</p>\n<h3>mixed</h3>\n<p>You could also start in the middle. For that, you really need to make sure that your reactive framework runs your code in virtual threads.</p>\n<p>Then, you would block for called reactive code while the code calling your code treats your rewritten code as non-reactive code.</p>\n<p>However, you should note that this will lead to the aforementioned problems with breaking the paradigms. You will probably have half-reactive half-blocking code which might be annoying to deal with.</p>\n<h3>modularized</h3>\n<p>If you do a big rewrite of your codebase, you might end up in a situation where a part is rewritten and other parts aren't.</p>\n<p>If your application has clearly separated modules (<em>could be</em> microservices but monolithic applications can also be modularized), you can start by rewriting one module after another. If you are using microservices, you should be able to rewrite one microservice at a time without impacting other microservices.</p>\n"}],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7761,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":1,"score":16,"last_activity_date":1700594829,"creation_date":1675278058,"question_id":75314973,"body_markdown":"# Java Virtual Threads\r\n\r\nIn Java 19 were introduced Virtual Threads [JEP-425][1] as a preview feature.\r\n\r\nAfter some investigation of concept of *Java Virtual Threads (Project Loom)*, called sometimes *lightweight* threads (or sometimes *fibers* or *green threads*), I&#39;m pretty interested in potential usage of them with reactive libraries, like, for example, with Spring WebFlux based on Project Reactor (reactive streams implementation) and Netty, for making **blocking** calls efficiently.\r\n\r\nMost JVM implementations today implement Java threads as thin direct wrappers around operating system threads, called sometimes *heavyweight*, OS-managed threads *platform* threads. \r\n\r\nWhile a *platform* thread can only execute a single thread at a time, the *virtual* threads have the ability to switch to executing a different *virtual* thread when the currently executed *virtual* thread makes a **blocking** call (e.g. network, file system, database call).\r\n\r\n# How do we deal with blocking calls in Reactor?\r\n\r\nSo, when dealing with **blocking** calls in Reactor we use [the following construct](https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking):\r\n\r\n    Mono.fromCallable(() -&gt; {\r\n         return blockingOperation();\r\n    }).subscribeOn(Schedulers.boundedElastic());\r\n\r\nIn `subcribeOn()` we provide a `Scheduler` that creates a dedicated thread for executing that blocking operation. However, it means that the thread will eventually be blocked, so, as we are still on the old-fashioned threading model, we&#39;ll actually block the *platform* thread, which is still not really efficient way of dealing with CPU resources.\r\n\r\n# Here is the question:\r\n\r\nSo, the question is, could we use the *virtual* threads with reactive frameworks directly for making blocking calls like this, using, for example, [Executors.newVirtualThreadPerTaskExecutor()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()) :\r\n\r\n&gt; Creates an Executor that starts a new virtual Thread for each task.\r\n&gt; The number of threads created by the Executor is unbounded.\r\n\r\n    Mono.fromCallable(() -&gt; {\r\n        return blockingOperation();\r\n    }).subscribeOn(Schedulers.fromExecutorService(Executors.newVirtualThreadPerTaskExecutor()));\r\n\r\nWould it work out of the box? Will we actually get the benefits from this approach, in terms of dealing with our CPU-resources more efficiently and increase performance of our application? Does it mean that we can easily integrate reactive library with any blocking library/framework, for example, Spring Data JPA (which is based on JDBC) and millions of others and magically turn them to non-blocking?\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/425","title":"Using Virtual Threads (Project Loom) with Spring WebFlux/Reactor/Reactive libraries","body":"<h1>Java Virtual Threads</h1>\n<p>In Java 19 were introduced Virtual Threads <a href=\"https://openjdk.org/jeps/425\" rel=\"nofollow noreferrer\">JEP-425</a> as a preview feature.</p>\n<p>After some investigation of concept of <em>Java Virtual Threads (Project Loom)</em>, called sometimes <em>lightweight</em> threads (or sometimes <em>fibers</em> or <em>green threads</em>), I'm pretty interested in potential usage of them with reactive libraries, like, for example, with Spring WebFlux based on Project Reactor (reactive streams implementation) and Netty, for making <strong>blocking</strong> calls efficiently.</p>\n<p>Most JVM implementations today implement Java threads as thin direct wrappers around operating system threads, called sometimes <em>heavyweight</em>, OS-managed threads <em>platform</em> threads.</p>\n<p>While a <em>platform</em> thread can only execute a single thread at a time, the <em>virtual</em> threads have the ability to switch to executing a different <em>virtual</em> thread when the currently executed <em>virtual</em> thread makes a <strong>blocking</strong> call (e.g. network, file system, database call).</p>\n<h1>How do we deal with blocking calls in Reactor?</h1>\n<p>So, when dealing with <strong>blocking</strong> calls in Reactor we use <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">the following construct</a>:</p>\n<pre><code>Mono.fromCallable(() -&gt; {\n     return blockingOperation();\n}).subscribeOn(Schedulers.boundedElastic());\n</code></pre>\n<p>In <code>subcribeOn()</code> we provide a <code>Scheduler</code> that creates a dedicated thread for executing that blocking operation. However, it means that the thread will eventually be blocked, so, as we are still on the old-fashioned threading model, we'll actually block the <em>platform</em> thread, which is still not really efficient way of dealing with CPU resources.</p>\n<h1>Here is the question:</h1>\n<p>So, the question is, could we use the <em>virtual</em> threads with reactive frameworks directly for making blocking calls like this, using, for example, <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\" rel=\"nofollow noreferrer\">Executors.newVirtualThreadPerTaskExecutor()</a> :</p>\n<blockquote>\n<p>Creates an Executor that starts a new virtual Thread for each task.\nThe number of threads created by the Executor is unbounded.</p>\n</blockquote>\n<pre><code>Mono.fromCallable(() -&gt; {\n    return blockingOperation();\n}).subscribeOn(Schedulers.fromExecutorService(Executors.newVirtualThreadPerTaskExecutor()));\n</code></pre>\n<p>Would it work out of the box? Will we actually get the benefits from this approach, in terms of dealing with our CPU-resources more efficiently and increase performance of our application? Does it mean that we can easily integrate reactive library with any blocking library/framework, for example, Spring Data JPA (which is based on JDBC) and millions of others and magically turn them to non-blocking?</p>\n"},{"tags":["java","spring","hibernate","jpa","hibernate-envers"],"comments":[{"owner":{"account_id":149784,"reputation":8168,"user_id":362531,"accept_rate":69,"display_name":"adamw"},"score":0,"creation_date":1424078948,"post_id":28528503,"comment_id":45390403,"body_markdown":"Which Hibernate version are you using? Are you using the same Envers and Hibernate versions? How are you deploying your app, does the jar that is deployed contain the META-INF file?","body":"Which Hibernate version are you using? Are you using the same Envers and Hibernate versions? How are you deploying your app, does the jar that is deployed contain the META-INF file?"},{"owner":{"account_id":267864,"reputation":117,"user_id":2378908,"accept_rate":100,"display_name":"kabuche"},"score":0,"creation_date":1424178417,"post_id":28528503,"comment_id":45435141,"body_markdown":"I&#39;ve tried 4.3.7 and 4.3.8. Yes, I&#39;m using the same version for both Envers and Hibernate. Currently I&#39;m not deploying the app, just &quot;testing&quot; it with some code in a Main class. The jar generated by maven does contain the META-INF/services/org.hibernate.spi.Integrator file.","body":"I&#39;ve tried 4.3.7 and 4.3.8. Yes, I&#39;m using the same version for both Envers and Hibernate. Currently I&#39;m not deploying the app, just &quot;testing&quot; it with some code in a Main class. The jar generated by maven does contain the META-INF/services/org.hibernate.spi.Integrator file."},{"owner":{"account_id":4296953,"reputation":1636,"user_id":3511751,"accept_rate":70,"display_name":"Ricardo Vila"},"score":0,"creation_date":1440602513,"post_id":28528503,"comment_id":52343584,"body_markdown":"How you test with your main class? Do you load full Spring Context?","body":"How you test with your main class? Do you load full Spring Context?"}],"answers":[{"tags":[],"owner":{"account_id":2333774,"reputation":514,"user_id":2046572,"accept_rate":33,"display_name":"St&#233;phane"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700594683,"creation_date":1440602188,"answer_id":32230474,"question_id":28528503,"body_markdown":"I think the problem is the name the of the file under `META-INF/services`. According to the documentation, it should be\r\n\r\n```text\r\norg.hibernate.integrator.spi.Integrator\r\n```\r\n\r\nand _not_\r\n\r\n```\r\norg.hibernate.spi.Integrator\r\n```\r\n\r\nas in your post.","title":"Hibernate Envers conditional auditing, custom EnversIntegrator ignored at runtime","body":"<p>I think the problem is the name the of the file under <code>META-INF/services</code>. According to the documentation, it should be</p>\n<pre><code>org.hibernate.integrator.spi.Integrator\n</code></pre>\n<p>and <em>not</em></p>\n<pre><code>org.hibernate.spi.Integrator\n</code></pre>\n<p>as in your post.</p>\n"}],"owner":{"account_id":267864,"reputation":117,"user_id":2378908,"accept_rate":100,"display_name":"kabuche"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32230474,"answer_count":1,"score":0,"last_activity_date":1700594683,"creation_date":1424019098,"question_id":28528503,"body_markdown":"I need to configure conditional auditing using Hibernate Envers and Spring.\r\n\r\nThe default configuration works, but I want only the delete operations to be audited, saving the deleted entity in the audit table.\r\n\r\nI&#39;ve followed [all the documentation steps][1] but when I try the application with a simple main that creates and deletes an entity, my CustomEnversIntegrator is not called, instead the org.hibernate.envers.event.spi.EnversIntegrator is called.\r\n\r\nHere is my spring-config.xml:\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t&lt;property name=&quot;jpaProperties&quot;&gt;\r\n\t        &lt;props&gt;\r\n\t            &lt;prop key=&quot;org.hibernate.envers.default_schema&quot;&gt;macap_auditoria&lt;/prop&gt;\r\n\t            &lt;prop key=&quot;org.hibernate.envers.audit_table_prefix&quot;&gt;aud_&lt;/prop&gt;\r\n\t            &lt;prop key=&quot;org.hibernate.envers.audit_table_suffix&quot;&gt;&lt;/prop&gt;\r\n\t            &lt;prop key=&quot;org.hibernate.envers.store_data_at_delete&quot;&gt;true&lt;/prop&gt;\r\n\t        \t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n\t        \t&lt;prop key=&quot;hibernate.listeners.envers.autoRegister&quot;&gt;false&lt;/prop&gt;\r\n\t        \t&lt;prop key=&quot;org.hibernate.envers.cascade_delete_revision&quot;&gt;true&lt;/prop&gt;\r\n\t        &lt;/props&gt;\r\n\t    &lt;/property&gt;\r\n        ......\r\n   &lt;/bean&gt;\r\n\r\n\r\nCustomEnversIntegrator.java, listening only to the delete operation:\r\n\r\n        public class CustomEnversIntegrator extends EnversIntegrator {\r\n\t\r\n\tprivate AuditConfiguration enversConfiguration;\r\n\r\n\t@Override\r\n\tpublic void integrate(Configuration configuration, SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry) {\r\n\t    final EventListenerRegistry listenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\r\n\t    listenerRegistry.addDuplicationStrategy(EnversListenerDuplicationStrategy.INSTANCE);\r\n\t    enversConfiguration = AuditConfiguration.getFor(configuration, serviceRegistry.getService(ClassLoaderService.class));\r\n\t    if (enversConfiguration.getEntCfg().hasAuditedEntities()) {\r\n\t        listenerRegistry.prependListeners(EventType.POST_DELETE, new CustomEnversPostDeleteEventListener(enversConfiguration));\r\n\t    }\r\n\t}\r\n\t\r\n}\r\n\r\nAnd lastly, I&#39;ve added the file META-INF/services/org.hibernate.spi.Integrator\r\nwith one line inside: uy.com.macap.ccd.services.persistence.audit.CustomEnversIntegrator\r\n\r\n\r\nThe jar generated in my .m2 folder contains the META-INF/services/org.hibernate.spi.Integrator file inside, so I don&#39;t know what else to try besides recompiling envers with the EnversIntegrator class modified by me.\r\n\r\nThanks.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.3/devguide/en-US/html/ch15.html#d5e4477","title":"Hibernate Envers conditional auditing, custom EnversIntegrator ignored at runtime","body":"<p>I need to configure conditional auditing using Hibernate Envers and Spring.</p>\n\n<p>The default configuration works, but I want only the delete operations to be audited, saving the deleted entity in the audit table.</p>\n\n<p>I've followed <a href=\"http://docs.jboss.org/hibernate/orm/4.3/devguide/en-US/html/ch15.html#d5e4477\" rel=\"nofollow\">all the documentation steps</a> but when I try the application with a simple main that creates and deletes an entity, my CustomEnversIntegrator is not called, instead the org.hibernate.envers.event.spi.EnversIntegrator is called.</p>\n\n<p>Here is my spring-config.xml:</p>\n\n<pre><code>&lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"jpaProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"org.hibernate.envers.default_schema\"&gt;macap_auditoria&lt;/prop&gt;\n            &lt;prop key=\"org.hibernate.envers.audit_table_prefix\"&gt;aud_&lt;/prop&gt;\n            &lt;prop key=\"org.hibernate.envers.audit_table_suffix\"&gt;&lt;/prop&gt;\n            &lt;prop key=\"org.hibernate.envers.store_data_at_delete\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/prop&gt;\n            &lt;prop key=\"hibernate.listeners.envers.autoRegister\"&gt;false&lt;/prop&gt;\n            &lt;prop key=\"org.hibernate.envers.cascade_delete_revision\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n    ......\n</code></pre>\n\n<p></p>\n\n<p>CustomEnversIntegrator.java, listening only to the delete operation:</p>\n\n<pre><code>    public class CustomEnversIntegrator extends EnversIntegrator {\n\nprivate AuditConfiguration enversConfiguration;\n\n@Override\npublic void integrate(Configuration configuration, SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry) {\n    final EventListenerRegistry listenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\n    listenerRegistry.addDuplicationStrategy(EnversListenerDuplicationStrategy.INSTANCE);\n    enversConfiguration = AuditConfiguration.getFor(configuration, serviceRegistry.getService(ClassLoaderService.class));\n    if (enversConfiguration.getEntCfg().hasAuditedEntities()) {\n        listenerRegistry.prependListeners(EventType.POST_DELETE, new CustomEnversPostDeleteEventListener(enversConfiguration));\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And lastly, I've added the file META-INF/services/org.hibernate.spi.Integrator\nwith one line inside: uy.com.macap.ccd.services.persistence.audit.CustomEnversIntegrator</p>\n\n<p>The jar generated in my .m2 folder contains the META-INF/services/org.hibernate.spi.Integrator file inside, so I don't know what else to try besides recompiling envers with the EnversIntegrator class modified by me.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","string","split"],"comments":[{"owner":{"account_id":7655340,"reputation":1331,"user_id":5802468,"accept_rate":89,"display_name":"Majora320"},"score":1,"creation_date":1455935547,"post_id":35518377,"comment_id":58727225,"body_markdown":"`&quot;MIIIIII&quot;.split(&quot;III&quot;)` returns `[&quot;M&quot;]` (tested).","body":"<code>&quot;MIIIIII&quot;.split(&quot;III&quot;)</code> returns <code>[&quot;M&quot;]</code> (tested)."},{"owner":{"display_name":"user4910279"},"score":1,"creation_date":1455935663,"post_id":35518377,"comment_id":58727248,"body_markdown":"Use `s.replaceAll(&quot;III&quot;, &quot;U&quot;)`.","body":"Use <code>s.replaceAll(&quot;III&quot;, &quot;U&quot;)</code>."},{"owner":{"account_id":6754998,"reputation":11,"user_id":5953309,"display_name":"Robert199110"},"score":1,"creation_date":1455936154,"post_id":35518377,"comment_id":58727348,"body_markdown":"If i used s.replaceAll(&quot;III&quot;,&quot;U&quot;)&#39;\nThen I would get MUI which is one of the results im looking for\nBut the it gets MUI by replacing the first 3 I&#39;s so MIIII becomes MUI.\nI also want to be able to skip the first I and replace the last 3 resulting in MIU if that makes sense,","body":"If i used s.replaceAll(&quot;III&quot;,&quot;U&quot;)&#39; Then I would get MUI which is one of the results im looking for But the it gets MUI by replacing the first 3 I&#39;s so MIIII becomes MUI. I also want to be able to skip the first I and replace the last 3 resulting in MIU if that makes sense,"},{"owner":{"account_id":6754998,"reputation":11,"user_id":5953309,"display_name":"Robert199110"},"score":0,"creation_date":1455936447,"post_id":35518377,"comment_id":58727400,"body_markdown":"suffix[0] returns [&quot;M&quot;] and suffix [1] returns [I]","body":"suffix[0] returns [&quot;M&quot;] and suffix [1] returns [I]"}],"answers":[{"tags":[],"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700594643,"creation_date":1700589656,"answer_id":77524993,"question_id":35518377,"body_markdown":"&gt; Any advice on how to solve this better would be appreciated.\r\n\r\nThe question is old, but maybe a late answer is better than none, for others who have a similar question.\r\n\r\nThe code that you have, using `parts = s.split(&quot;III&quot;)` and then using parts[0] and parts[1], relies on a couple of assumptions that don&#39;t hold:\r\n\r\n 1. The assumption that the substrings between and around the &quot;III&quot; will be included in the result from split(), even if they&#39;re zero-length. This isn&#39;t the case with s = &quot;MIIIIII&quot;, because both the first three I&#39;s and the last three are taken as separators. So while you might expect to get [&quot;M&quot;, &quot;&quot;, &quot;&quot;] as results, the documentation says &#39;Trailing empty strings are therefore not included in the resulting array.&#39; So the result is actually just one part: parts[0] = &quot;M&quot;. parts[1] doesn&#39;t exist. split() really isn&#39;t reliable for this task.\r\n\r\n 2. The assumption that there is a fixed number of occurrences of &quot;III&quot;. Your list.add(...) code seems to expect that you should replace &quot;III&quot; with &quot;U&quot; in exactly two places. But your input string could have just one &quot;III&quot;, or three of them, etc.\r\n\r\nInstead, loop through the occurrences of &quot;III&quot; in your string, replacing each one with a &quot;U&quot;:\r\n\r\n```\r\nint nextIII = s.indexOf(&quot;III&quot;);\r\nwhile (nextIII &gt; -1) {\r\n   list.add(s.substring(0, nextIII) + &quot;U&quot; + s.substring(nextIII + 3));\r\n   nextIII = s.indexOf(&quot;III&quot;, nextIII + 1);\r\n}\r\n```\r\n\r\n(It looks like Gary&#39;s deleted answer had a very similar method, but it wasn&#39;t quite right.)\r\n\r\nNote that you probably don&#39;t have to worry about rule 3 applying zero times, twice or three times etc. in the same string. Assuming that the rest of your program keeps trying to apply the rules over multiple generations, that will take care of multiple applications of any given rule to a single string.\r\n","title":"How should I code rule 3 of the MU puzzle?","body":"<blockquote>\n<p>Any advice on how to solve this better would be appreciated.</p>\n</blockquote>\n<p>The question is old, but maybe a late answer is better than none, for others who have a similar question.</p>\n<p>The code that you have, using <code>parts = s.split(&quot;III&quot;)</code> and then using parts[0] and parts[1], relies on a couple of assumptions that don't hold:</p>\n<ol>\n<li><p>The assumption that the substrings between and around the &quot;III&quot; will be included in the result from split(), even if they're zero-length. This isn't the case with s = &quot;MIIIIII&quot;, because both the first three I's and the last three are taken as separators. So while you might expect to get [&quot;M&quot;, &quot;&quot;, &quot;&quot;] as results, the documentation says 'Trailing empty strings are therefore not included in the resulting array.' So the result is actually just one part: parts[0] = &quot;M&quot;. parts[1] doesn't exist. split() really isn't reliable for this task.</p>\n</li>\n<li><p>The assumption that there is a fixed number of occurrences of &quot;III&quot;. Your list.add(...) code seems to expect that you should replace &quot;III&quot; with &quot;U&quot; in exactly two places. But your input string could have just one &quot;III&quot;, or three of them, etc.</p>\n</li>\n</ol>\n<p>Instead, loop through the occurrences of &quot;III&quot; in your string, replacing each one with a &quot;U&quot;:</p>\n<pre><code>int nextIII = s.indexOf(&quot;III&quot;);\nwhile (nextIII &gt; -1) {\n   list.add(s.substring(0, nextIII) + &quot;U&quot; + s.substring(nextIII + 3));\n   nextIII = s.indexOf(&quot;III&quot;, nextIII + 1);\n}\n</code></pre>\n<p>(It looks like Gary's deleted answer had a very similar method, but it wasn't quite right.)</p>\n<p>Note that you probably don't have to worry about rule 3 applying zero times, twice or three times etc. in the same string. Assuming that the rest of your program keeps trying to apply the rules over multiple generations, that will take care of multiple applications of any given rule to a single string.</p>\n"}],"owner":{"account_id":6754998,"reputation":11,"user_id":5953309,"display_name":"Robert199110"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700594643,"creation_date":1455934895,"question_id":35518377,"body_markdown":"Im looking at the MU puzzle by godel escher bach and I am trying to implement a set of rules.\r\n\r\n The rules are\r\n\r\nRule 1: If your string ends in an I, you can add a U on the end: x I → x IU\r\n\r\nRule 2: If the string starts with M, you can double what comes after the M: M x → M x x\r\n\r\nRule 3: If you have III in a string, you can replace it with a U: x III y → x U y\r\n\r\n\r\nRule 4: If you have UU in a string, you can delete it altogether: x UU y → x y\r\n\r\nI have got results from all of these rules however I dont believe my code for rule 3 works.\r\n\r\nMy String Input is &quot;MIIII&quot;\r\n\r\nI get the output : [MIIIIU, MIIIIIIII, MUI, MIU]\r\n\r\nWhich is the output im looking for.\r\n\r\nHowever I believe the way I have coded it doesn&#39;t replace the U properly.\r\n\r\nI think if my input was &quot;MIIIIII&quot; I believe I should get the result MUU please correct me if im wrong here.\r\n\r\nBut my code returns MU as I use split and add a U to the String but this replaces all 6 I&#39;s with a U when I believe it should return two U&#39;s.\r\n\r\nMy code for this rule is\r\n      \t\r\n    if(s.contains (&quot;III&quot;)){\r\n\t\t\t\r\n\t\t\tString parts[] = s.split(&quot;III&quot;);// split at III and handle empty string\r\n\t\t\t\r\n\t\t\tString x = parts[0]; // Prefix;\r\n\t\t\tString y = parts[1]; //suffix\r\n\t\t\t\r\n\t\t\tlist.add(x+&quot;U&quot;+y);\r\n\t\t\tlist.add(x+y+&quot;U&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\nAny advice on how to solve this better would be appreciated.\r\n\r\nThanks\r\n\r\n","title":"How should I code rule 3 of the MU puzzle?","body":"<p>Im looking at the MU puzzle by godel escher bach and I am trying to implement a set of rules.</p>\n\n<p>The rules are</p>\n\n<p>Rule 1: If your string ends in an I, you can add a U on the end: x I → x IU</p>\n\n<p>Rule 2: If the string starts with M, you can double what comes after the M: M x → M x x</p>\n\n<p>Rule 3: If you have III in a string, you can replace it with a U: x III y → x U y</p>\n\n<p>Rule 4: If you have UU in a string, you can delete it altogether: x UU y → x y</p>\n\n<p>I have got results from all of these rules however I dont believe my code for rule 3 works.</p>\n\n<p>My String Input is \"MIIII\"</p>\n\n<p>I get the output : [MIIIIU, MIIIIIIII, MUI, MIU]</p>\n\n<p>Which is the output im looking for.</p>\n\n<p>However I believe the way I have coded it doesn't replace the U properly.</p>\n\n<p>I think if my input was \"MIIIIII\" I believe I should get the result MUU please correct me if im wrong here.</p>\n\n<p>But my code returns MU as I use split and add a U to the String but this replaces all 6 I's with a U when I believe it should return two U's.</p>\n\n<p>My code for this rule is</p>\n\n<pre><code>if(s.contains (\"III\")){\n\n        String parts[] = s.split(\"III\");// split at III and handle empty string\n\n        String x = parts[0]; // Prefix;\n        String y = parts[1]; //suffix\n\n        list.add(x+\"U\"+y);\n        list.add(x+y+\"U\");\n    }\n}\n</code></pre>\n\n<p>Any advice on how to solve this better would be appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","parameter-passing","liquibase","application.properties"],"answers":[{"tags":[],"owner":{"account_id":22631177,"reputation":46,"user_id":16808500,"display_name":"Roman Sobo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697455837,"creation_date":1697455837,"answer_id":77301611,"question_id":77301370,"body_markdown":"That&#39;s an open issue in Liquibase project.\r\nLink to follow\r\nhttps://github.com/liquibase/liquibase/issues/3230","title":"Unable to set duplicateFileMode property in application.yaml for liquibase","body":"<p>That's an open issue in Liquibase project.\nLink to follow\n<a href=\"https://github.com/liquibase/liquibase/issues/3230\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/issues/3230</a></p>\n"},{"tags":[],"owner":{"account_id":10468425,"reputation":199,"user_id":7717127,"display_name":"Maciej Nawrocki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700594348,"creation_date":1700594348,"answer_id":77525436,"question_id":77301370,"body_markdown":"Other walkaround may be to apply this env variable in gradle\r\n\r\nI added configuration to my `build.gradle.kts`:\r\n\r\n```kotlin\r\n  tasks.withType&lt;Test&gt; {\r\n    environment(&quot;LIQUIBASE_DUPLICATE_FILE_MODE&quot;, &quot;WARN&quot;) // because of bug: https://stackoverflow.com/questions/77301370/unable-to-set-duplicatefilemode-property-in-application-yaml-for-liquibase\r\n  }\r\n```","title":"Unable to set duplicateFileMode property in application.yaml for liquibase","body":"<p>Other walkaround may be to apply this env variable in gradle</p>\n<p>I added configuration to my <code>build.gradle.kts</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  tasks.withType&lt;Test&gt; {\n    environment(&quot;LIQUIBASE_DUPLICATE_FILE_MODE&quot;, &quot;WARN&quot;) // because of bug: https://stackoverflow.com/questions/77301370/unable-to-set-duplicatefilemode-property-in-application-yaml-for-liquibase\n  }\n</code></pre>\n"}],"owner":{"account_id":22631177,"reputation":46,"user_id":16808500,"display_name":"Roman Sobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700594348,"creation_date":1697453708,"question_id":77301370,"body_markdown":"I have a Java project with Liquibase library as database migration tool.\r\nWhen running migrations I&#39;m facing the issue:\r\n&quot;Found 2 files with the path &#39;db/changelog/db.changelog-master.yaml&#39;&quot;\r\nand a suggestion how to fix that:\r\n&quot;You can limit the search path to remove duplicates with the liquibase.searchPath setting. Or, if you KNOW these are the exact same file you can set liquibase.duplicateFileMode=WARN.&quot;\r\n\r\n\r\n\r\nI am able to set the property via **static block** like: \r\n    \r\n```\r\nstatic {\r\n      System.setProperty(&quot;liquibase.duplicateFileMode&quot;, &quot;WARN&quot;);\r\n    }\r\n```\r\nAnd that works fine.\r\nHowever, based on liquibase [documentation](https://docs.liquibase.com/parameters/working-with-command-parameters.html), this should we set as Java property as well, I suppose this value should be set from **application.yaml** like this:\r\n\r\n```\r\nspring:\r\n  liquibase:\r\n    parameters:\r\n      duplicate-file-mode: WARN\r\n```\r\n\r\nor\r\n\r\n\r\n```\r\nspring:\r\n  liquibase:\r\n    parameters:\r\n      duplicateFileMode: WARN\r\n```\r\n\r\n\r\nThe application fails with the initial error:\r\n &quot;Found 2 files with the path &#39;db/changelog/db.changelog-master.yaml&#39;&quot;\r\n\r\n","title":"Unable to set duplicateFileMode property in application.yaml for liquibase","body":"<p>I have a Java project with Liquibase library as database migration tool.\nWhen running migrations I'm facing the issue:\n&quot;Found 2 files with the path 'db/changelog/db.changelog-master.yaml'&quot;\nand a suggestion how to fix that:\n&quot;You can limit the search path to remove duplicates with the liquibase.searchPath setting. Or, if you KNOW these are the exact same file you can set liquibase.duplicateFileMode=WARN.&quot;</p>\n<p>I am able to set the property via <strong>static block</strong> like:</p>\n<pre><code>static {\n      System.setProperty(&quot;liquibase.duplicateFileMode&quot;, &quot;WARN&quot;);\n    }\n</code></pre>\n<p>And that works fine.\nHowever, based on liquibase <a href=\"https://docs.liquibase.com/parameters/working-with-command-parameters.html\" rel=\"nofollow noreferrer\">documentation</a>, this should we set as Java property as well, I suppose this value should be set from <strong>application.yaml</strong> like this:</p>\n<pre><code>spring:\n  liquibase:\n    parameters:\n      duplicate-file-mode: WARN\n</code></pre>\n<p>or</p>\n<pre><code>spring:\n  liquibase:\n    parameters:\n      duplicateFileMode: WARN\n</code></pre>\n<p>The application fails with the initial error:\n&quot;Found 2 files with the path 'db/changelog/db.changelog-master.yaml'&quot;</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":18365332,"reputation":10550,"user_id":13376511,"display_name":"Michael M."},"score":1,"creation_date":1700590874,"post_id":77524258,"comment_id":136672648,"body_markdown":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - [From Review](/review/low-quality-posts/35298735)","body":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - <a href=\"/review/low-quality-posts/35298735\">From Review</a>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700593421,"post_id":77524258,"comment_id":136673062,"body_markdown":"I was answering directly to the OP question however I acknowledge it was missing details. I added an explanation and links.","body":"I was answering directly to the OP question however I acknowledge it was missing details. I added an explanation and links."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700594214,"creation_date":1700582674,"answer_id":77524258,"question_id":77524193,"body_markdown":"Seems an issue related to garbage collection. The last frames are related to the G1 GC algorithm:\r\n```\r\nV  [libjvm.so+0xb6fa6c]  markWord::displaced_mark_helper() const+0x1c\r\nV  [libjvm.so+0x717e73]  G1ParEvacuateFollowersClosure::do_void()+0xf3\r\nV  [libjvm.so+0x71bf86]  G1EvacuateRegionsTask::evacuate_live_objects(G1ParScanThreadState*, unsigned int)+0x96\r\nV  [libjvm.so+0x7197bb]  G1EvacuateRegionsBaseTask::work(unsigned int)+0xab\r\n```\r\nIt could be related to JVM bug [JDK-8273108][1] or [JDK-8313658][2]. \r\n\r\nI&#39;m not sure if the CORBA libraries used could be a factor.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8273108\r\n  [2]: https://bugs.openjdk.org/browse/JDK-8313658.","title":"Java Core file. Only seeing Java code. Is it a JVM issue?","body":"<p>Seems an issue related to garbage collection. The last frames are related to the G1 GC algorithm:</p>\n<pre><code>V  [libjvm.so+0xb6fa6c]  markWord::displaced_mark_helper() const+0x1c\nV  [libjvm.so+0x717e73]  G1ParEvacuateFollowersClosure::do_void()+0xf3\nV  [libjvm.so+0x71bf86]  G1EvacuateRegionsTask::evacuate_live_objects(G1ParScanThreadState*, unsigned int)+0x96\nV  [libjvm.so+0x7197bb]  G1EvacuateRegionsBaseTask::work(unsigned int)+0xab\n</code></pre>\n<p>It could be related to JVM bug <a href=\"https://bugs.openjdk.org/browse/JDK-8273108\" rel=\"nofollow noreferrer\">JDK-8273108</a> or <a href=\"https://bugs.openjdk.org/browse/JDK-8313658.\" rel=\"nofollow noreferrer\">JDK-8313658</a>.</p>\n<p>I'm not sure if the CORBA libraries used could be a factor.</p>\n"}],"owner":{"account_id":4421715,"reputation":1495,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700594214,"creation_date":1700582147,"question_id":77524193,"body_markdown":"Usually when running the &quot;where&quot; command against a Java core file there is usually some reference to one of my function calls. \r\n\r\nHere, there doesn&#39;t appear to be any reference to any of my calls. The stack appears to only contain Java \r\n\r\n    (gdb) where\r\n    #0  0x0000147f7b43770f in raise () from /usr/lib64/libc.so.6\r\n    #1  0x0000147f7b421b25 in abort () from /usr/lib64/libc.so.6\r\n    #2  0x0000147f7a075017 in os::abort(bool, void*, void const*) [clone .cold.42] () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #3  0x0000147f7ad9c47c in VMError::report_and_die(int, char const*, char const*, __va_list_tag*, Thread*, unsigned char*, void*, void*, char const*, int, unsigned long) ()\r\n       from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #4  0x0000147f7ad9cfd1 in VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*, char const*, ...) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #5  0x0000147f7ad9d012 in VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #6  0x0000147f7ac39ad2 in JVM_handle_linux_signal () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #7  &lt;signal handler called&gt;\r\n    #8  0x0000147f7a991a6c in markWord::displaced_mark_helper() const () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #9  0x0000147f7a585f69 in G1ParScanThreadState::steal_and_trim_queue(GenericTaskQueueSet&lt;OverflowTaskQueue&lt;ScannerTask, (MEMFLAGS)5, 131072u&gt;, (MEMFLAGS)5&gt;*) ()\r\n       from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #10 0x0000147f7a539e73 in G1ParEvacuateFollowersClosure::do_void() () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #11 0x0000147f7a53df86 in G1EvacuateRegionsTask::evacuate_live_objects(G1ParScanThreadState*, unsigned int) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #12 0x0000147f7a53b7bb in G1EvacuateRegionsBaseTask::work(unsigned int) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #13 0x0000147f7adcc9f4 in GangWorker::loop() () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #14 0x0000147f7adcca52 in GangWorker::run() () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #15 0x0000147f7ad20d61 in Thread::call_run() () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #16 0x0000147f7aa524a9 in thread_native_entry(Thread*) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\r\n    #17 0x0000147f7b9ce2de in start_thread () from /usr/lib64/libpthread.so.0\r\n    #18 0x0000147f7b4fbe83 in clone () from /usr/lib64/libc.so.6\r\n\r\n\r\nIn the associated dump file is the following :\r\n\r\n\r\n    ---------------  S U M M A R Y ------------\r\n    \r\n    Command Line: -Xbootclasspath/a:/lib/corba-stub.jar:/lib/jacorb.jar:/usr/java/latest/lib/rt.jar:/usr/java/latest/lib/resources.jar:/usr/java/latest/lib/charsets.jar:/usr/java/latest/lib/jce.jar:/usr/java/latest/lib/jsse.jar -Djava.library.path=/xalocal/L/lib/sb:/xalocal/L/lib/es:/opt/CARKaim/sdk -Djava.net.preferIPv4Stack=true -Dorg.omg.CORBA.ORBClass=org.jacorb.orb.ORB -Dorg.omg.CORBA.ORBSingletonClass=org.jacorb.orb.ORB.Singleton -Xverify:none -Xms512M -Xmx2G  MyApp\r\n    \r\n    Host: Intel(R) Xeon(R) Gold 6342 CPU @ 2.80GHz, 4 cores, 11G, Red Hat Enterprise Linux release 8.2 (Ootpa)\r\n    Time: Tue Nov 21 07:54:10 2023 CST elapsed time: 32.259012 seconds (0d 0h 0m 32s)\r\n    \r\n    ---------------  T H R E A D  ---------------\r\n    \r\n    Current thread (0x0000147f38005070):  GCTaskThread &quot;GC Thread#1&quot; [stack: 0x0000147f4800a000,0x0000147f4810a000] [id=972621]\r\n    \r\n    Stack: [0x0000147f4800a000,0x0000147f4810a000],  sp=0x0000147f48108b88,  free space=1018k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    V  [libjvm.so+0xb6fa6c]  markWord::displaced_mark_helper() const+0x1c\r\n    V  [libjvm.so+0x717e73]  G1ParEvacuateFollowersClosure::do_void()+0xf3\r\n    V  [libjvm.so+0x71bf86]  G1EvacuateRegionsTask::evacuate_live_objects(G1ParScanThreadState*, unsigned int)+0x96\r\n    V  [libjvm.so+0x7197bb]  G1EvacuateRegionsBaseTask::work(unsigned int)+0xab\r\n    V  [libjvm.so+0xfaa9f4]  GangWorker::loop()+0x74\r\n    V  [libjvm.so+0xfaaa52]\r\n    V  [libjvm.so+0xefed61]  Thread::call_run()+0x71\r\n    V  [libjvm.so+0xc304a9]  thread_native_entry(Thread*)+0xe9\r\n\r\n\r\n\r\n\r\n    siginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000014\r\n    \r\n    Register to memory mapping:\r\n    \r\n    RAX=0x0000000000000014 is an unknown value\r\n    RBX=0x000000009c4997f8 is an oop: dir.objects.MyObject1\r\n    {0x000000009c4997f8} - klass: &#39;dir/objects/MyObject1&#39;\r\n     - ---- fields (total size 8 words):\r\n     - public &#39;field1&#39; &#39;I&#39; @12  0\r\n     - public &#39;field2&#39; &#39;I&#39; @16  4\r\n     - public &#39;field3&#39; &#39;I&#39; @20  8\r\n     - public &#39;field4&#39; &#39;I&#39; @24  9\r\n     - public &#39;field5&#39; &#39;I&#39; @28  10 (a)\r\n     - public &#39;field6&#39; &#39;I&#39; @32  11 (b)\r\n     - public &#39;field7&#39; &#39;I&#39; @36  12 (c)\r\n     - public &#39;field8&#39; &#39;I&#39; @40  13 (d)\r\n     - public &#39;field9&#39; &#39;I&#39; @44  17 (11)\r\n     - public &#39;field10&#39; &#39;I&#39; @48  0\r\n     - public &#39;field11&#39; &#39;I&#39; @52  0\r\n     - public &#39;field12&#39; &#39;I&#39; @56  0\r\n    RCX=0x0 is NULL\r\n    RDX=0x0000000000000001 is an unknown value\r\n    RSP=0x0000147f48108b88 points into unknown readable memory: 0x0000147f7a585f69 | 69 5f 58 7a 7f 14 00 00\r\n    RBP=0x0000147f48108c40 points into unknown readable memory: 0x0000147f48108d00 | 00 8d 10 48 7f 14 00 00\r\n    RSI=0x0000147f7b375320: &lt;offset 0x0000000001553320&gt; in /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so at 0x0000147f79e22000\r\n    RDI=0x0000147f48108c00 points into unknown readable memory: 0x0000000000000014 | 14 00 00 00 00 00 00 00\r\n    R8 =0x0000000000000001 is an unknown value\r\n    R9 =0x000000dc00000375 is an unknown value\r\n    R10=0x0 is NULL\r\n    R11=0x000000008cac381d is pointing into object: dir.objects.MyObject2\r\n    {0x000000008cac3798} - klass: &#39;dir/objects/MyObject2&#39;\r\n     - ---- fields (total size 26 words):\r\n     - private &#39;field1&#39; &#39;I&#39; @12  360 (168)\r\n     - private &#39;field2&#39; &#39;J&#39; @16  1700574836289 (f228b641 18b)\r\n     - private &#39;field3&#39; &#39;J&#39; @24  1700574849269 (f228e8f5 18b)\r\n     - private &#39;field4&#39; &#39;J&#39; @32  0 (0 0)\r\n     - private volatile &#39;field5&#39; &#39;J&#39; @40  1700574849269 (f228e8f5 18b)\r\n     - private &#39;field6&#39; &#39;I&#39; @48  0\r\n     - private &#39;field7&#39; &#39;I&#39; @52  3\r\n     - private &#39;field8&#39; &#39;I&#39; @56  0\r\n     - private &#39;field9&#39; &#39;I&#39; @60  6\r\n     - private &#39;field10&#39; &#39;Z&#39; @64  true\r\n     - private &#39;field11&#39; &#39;Z&#39; @65  false\r\n     - private &#39;field12&#39; &#39;Z&#39; @66  false\r\n     - private &#39;field13&#39; &#39;Z&#39; @67  false\r\n     - private &#39;field14&#39; &#39;Ljava/lang/Object;&#39; @68  a &#39;java/lang/Object&#39;{0x000000008cac3868} (8cac3868)\r\n     - private &#39;field15&#39; &#39;Ljava/lang/Object;&#39; @72  a &#39;java/lang/Object&#39;{0x000000008cac3878} (8cac3878)\r\n     - private &#39;field16&#39; &#39;Ldir/objects/Timer;&#39; @76  a &#39;dir/objects/Timer&#39;{0x000000008cac3888} (8cac3888)\r\n     - private &#39;field17&#39; &#39;Ldir/objects/Timer;&#39; @80  a &#39;dir/objects/Timer&#39;{0x000000008cac3940} (8cac3940)\r\n     - private &#39;field18&#39; &#39;Ljava/util/HashMap;&#39; @84  a &#39;java/util/HashMap&#39;{0x000000008cac39f8} (8cac39f8)\r\n     - private &#39;field19&#39; &#39;Ljava/util/HashMap;&#39; @88  a &#39;java/util/HashMap&#39;{0x000000008c8b2ca0} (8c8b2ca0)\r\n     - private &#39;field20&#39; &#39;Ljava/util/HashMap;&#39; @92  a &#39;java/util/HashMap&#39;{0x000000008c8b2ce0} (8c8b2ce0)\r\n     - private &#39;field21&#39; &#39;Ljava/util/HashMap;&#39; @96  a &#39;java/util/HashMap&#39;{0x000000008c670578} (8c670578)\r\n     - private &#39;field22&#39; &#39;Ljava/util/HashMap;&#39; @100  a &#39;java/util/HashMap&#39;{0x000000008c6705a8} (8c6705a8)\r\n     - private &#39;field23&#39; &#39;Ljava/util/HashMap;&#39; @104  a &#39;java/util/HashMap&#39;{0x000000008b542058} (8b542058)\r\n     - private &#39;field24&#39; &#39;Ljava/util/HashMap;&#39; @108  a &#39;java/util/HashMap&#39;{0x000000008b542028} (8b542028)\r\n     - private &#39;field25&#39; &#39;Ljava/util/HashMap;&#39; @112  a &#39;java/util/HashMap&#39;{0x000000008b541ff8} (8b541ff8)\r\n     - private &#39;field26&#39; &#39;Ljava/util/HashMap;&#39; @116  a &#39;java/util/HashMap&#39;{0x000000008b541fc8} (8b541fc8)\r\n     - private &#39;field27&#39; &#39;Ljava/util/Vector;&#39; @120  a &#39;java/util/Vector&#39;{0x000000008b541520} (8b541520)\r\n     - private &#39;field28&#39; &#39;Ljava/util/Vector;&#39; @124  a &#39;java/util/Vector&#39;{0x000000008b5413d0} (8b5413d0)\r\n     - private &#39;field29&#39; &#39;Ljava/util/Vector;&#39; @128  a &#39;java/util/Vector&#39;{0x000000008b541378} (8b541378)\r\n     - private &#39;field30&#39; &#39;Ldir/objects/MyObject1;&#39; @132  a &#39;dir/objects/MyObject1&#39;{0x000000009c4997f8} (9c4997f8)\r\n     - private &#39;field31&#39; &#39;Ljava/util/Vector;&#39; @136  a &#39;java/util/Vector&#39;{0x000000008b66e400} (8b66e400)\r\n     - private &#39;field32&#39; &#39;Ljava/util/Vector;&#39; @140  a &#39;java/util/Vector&#39;{0x000000008b66def0} (8b66def0)\r\n     - private &#39;field33&#39; &#39;Ljava/lang/Object;&#39; @144  a &#39;java/lang/Object&#39;{0x000000008b66dee0} (8b66dee0)\r\n     - private &#39;field34&#39; &#39;Ljava/lang/Object;&#39; @148  a &#39;java/lang/Object&#39;{0x000000008b66ded0} (8b66ded0)\r\n     - private &#39;field35&#39; &#39;Ljava/lang/Object;&#39; @152  a &#39;java/lang/Object&#39;{0x000000008b66dec0} (8b66dec0)\r\n     - private &#39;field36&#39; &#39;Ljava/lang/Object;&#39; @156  a &#39;java/lang/Object&#39;{0x000000008b66deb0} (8b66deb0)\r\n     - private &#39;field37&#39; &#39;Ljava/lang/Object;&#39; @160  a &#39;java/lang/Object&#39;{0x000000008b66dea0} (8b66dea0)\r\n     - private &#39;field38&#39; &#39;Ljava/util/Hashtable;&#39; @164  a &#39;java/util/Hashtable&#39;{0x000000008b66de30} (8b66de30)\r\n     - private &#39;field39&#39; &#39;Ljava/util/Vector;&#39; @168  a &#39;java/util/Vector&#39;{0x000000008b66ddd8} (8b66ddd8)\r\n     - private &#39;field40&#39; &#39;Ljava/lang/Object;&#39; @172  a &#39;java/lang/Object&#39;{0x000000008b66ddc8} (8b66ddc8)\r\n     - private &#39;field41&#39; &#39;Ljava/lang/Thread;&#39; @176  NULL (0)\r\n     - private &#39;field42&#39; &#39;Ljava/lang/Object;&#39; @180  a &#39;java/lang/Object&#39;{0x000000008b66ddb8} (8b66ddb8)\r\n     - private &#39;field43&#39; &#39;Ljava/util/HashMap;&#39; @184  a &#39;java/util/HashMap&#39;{0x000000008b66dd78} (8b66dd78)\r\n     - private &#39;field44&#39; &#39;Ljava/lang/Object;&#39; @188  a &#39;java/lang/Object&#39;{0x000000008b376740} (8b376740)\r\n     - private &#39;field45&#39; &#39;Ljava/util/Map;&#39; @192  a &#39;java/util/Collections$SynchronizedMap&#39;{0x000000008b3766f0} (8b3766f0)\r\n     - private &#39;field46&#39; &#39;Ljava/util/Map;&#39; @196  a &#39;java/util/Collections$SynchronizedMap&#39;{0x000000008b3766a0} (8b3766a0)\r\n     - private &#39;field47&#39; &#39;Ljava/util/Map;&#39; @200  a &#39;java/util/Collections$SynchronizedMap&#39;{0x000000008b376538} (8b376538)\r\n     - private &#39;field48&#39; &#39;Ljava/util/Map;&#39; @204  a &#39;java/util/Collections$SynchronizedMap&#39;{0x000000008b3764e8} (8b3764e8)\r\n    R12=0x0000000000000008 is an unknown value\r\n    R13=0x0000147f00140000 points into unknown readable memory: 0x0000147f7b2c4f20 | 20 4f 2c 7b 7f 14 00 00\r\n    R14=0x0000147f74053e90 points into unknown readable memory: 0x0000147f7b2c4130 | 30 41 2c 7b 7f 14 00 00\r\n    R15=0x00000000834e0b5f points into unknown readable memory: 00\r\n\r\n\r\n    Registers:\r\n    RAX=0x0000000000000014, RBX=0x000000009c4997f8, RCX=0x0000000000000000, RDX=0x0000000000000001\r\n    RSP=0x0000147f48108b88, RBP=0x0000147f48108c40, RSI=0x0000147f7b375320, RDI=0x0000147f48108c00\r\n    R8 =0x0000000000000001, R9 =0x000000dc00000375, R10=0x0000000000000000, R11=0x000000008cac381d\r\n    R12=0x0000000000000008, R13=0x0000147f00140000, R14=0x0000147f74053e90, R15=0x00000000834e0b5f\r\n    RIP=0x0000147f7a991a6c, EFLAGS=0x0000000000010246, CSGSFS=0x002b000000000033, ERR=0x0000000000000004\r\n      TRAPNO=0x000000000000000e\r\n\r\n\r\nAlthough it is loading dir.objects.MyObject1 and dir.objects.MyObject2, they both seem to have issues.\r\nBut since it didn&#39;t fail after the first set of errors, it made it appear as though it was not critical. \r\n\r\n\r\nDo you see anything that is specific to the JVM that may be a possible issue?\r\n\r\nIs there anything obvious I can look at?\r\n\r\n\r\n","title":"Java Core file. Only seeing Java code. Is it a JVM issue?","body":"<p>Usually when running the &quot;where&quot; command against a Java core file there is usually some reference to one of my function calls.</p>\n<p>Here, there doesn't appear to be any reference to any of my calls. The stack appears to only contain Java</p>\n<pre><code>(gdb) where\n#0  0x0000147f7b43770f in raise () from /usr/lib64/libc.so.6\n#1  0x0000147f7b421b25 in abort () from /usr/lib64/libc.so.6\n#2  0x0000147f7a075017 in os::abort(bool, void*, void const*) [clone .cold.42] () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#3  0x0000147f7ad9c47c in VMError::report_and_die(int, char const*, char const*, __va_list_tag*, Thread*, unsigned char*, void*, void*, char const*, int, unsigned long) ()\n   from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#4  0x0000147f7ad9cfd1 in VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*, char const*, ...) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#5  0x0000147f7ad9d012 in VMError::report_and_die(Thread*, unsigned int, unsigned char*, void*, void*) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#6  0x0000147f7ac39ad2 in JVM_handle_linux_signal () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#7  &lt;signal handler called&gt;\n#8  0x0000147f7a991a6c in markWord::displaced_mark_helper() const () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#9  0x0000147f7a585f69 in G1ParScanThreadState::steal_and_trim_queue(GenericTaskQueueSet&lt;OverflowTaskQueue&lt;ScannerTask, (MEMFLAGS)5, 131072u&gt;, (MEMFLAGS)5&gt;*) ()\n   from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#10 0x0000147f7a539e73 in G1ParEvacuateFollowersClosure::do_void() () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#11 0x0000147f7a53df86 in G1EvacuateRegionsTask::evacuate_live_objects(G1ParScanThreadState*, unsigned int) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#12 0x0000147f7a53b7bb in G1EvacuateRegionsBaseTask::work(unsigned int) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#13 0x0000147f7adcc9f4 in GangWorker::loop() () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#14 0x0000147f7adcca52 in GangWorker::run() () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#15 0x0000147f7ad20d61 in Thread::call_run() () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#16 0x0000147f7aa524a9 in thread_native_entry(Thread*) () from /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so\n#17 0x0000147f7b9ce2de in start_thread () from /usr/lib64/libpthread.so.0\n#18 0x0000147f7b4fbe83 in clone () from /usr/lib64/libc.so.6\n</code></pre>\n<p>In the associated dump file is the following :</p>\n<pre><code>---------------  S U M M A R Y ------------\n\nCommand Line: -Xbootclasspath/a:/lib/corba-stub.jar:/lib/jacorb.jar:/usr/java/latest/lib/rt.jar:/usr/java/latest/lib/resources.jar:/usr/java/latest/lib/charsets.jar:/usr/java/latest/lib/jce.jar:/usr/java/latest/lib/jsse.jar -Djava.library.path=/xalocal/L/lib/sb:/xalocal/L/lib/es:/opt/CARKaim/sdk -Djava.net.preferIPv4Stack=true -Dorg.omg.CORBA.ORBClass=org.jacorb.orb.ORB -Dorg.omg.CORBA.ORBSingletonClass=org.jacorb.orb.ORB.Singleton -Xverify:none -Xms512M -Xmx2G  MyApp\n\nHost: Intel(R) Xeon(R) Gold 6342 CPU @ 2.80GHz, 4 cores, 11G, Red Hat Enterprise Linux release 8.2 (Ootpa)\nTime: Tue Nov 21 07:54:10 2023 CST elapsed time: 32.259012 seconds (0d 0h 0m 32s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x0000147f38005070):  GCTaskThread &quot;GC Thread#1&quot; [stack: 0x0000147f4800a000,0x0000147f4810a000] [id=972621]\n\nStack: [0x0000147f4800a000,0x0000147f4810a000],  sp=0x0000147f48108b88,  free space=1018k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nV  [libjvm.so+0xb6fa6c]  markWord::displaced_mark_helper() const+0x1c\nV  [libjvm.so+0x717e73]  G1ParEvacuateFollowersClosure::do_void()+0xf3\nV  [libjvm.so+0x71bf86]  G1EvacuateRegionsTask::evacuate_live_objects(G1ParScanThreadState*, unsigned int)+0x96\nV  [libjvm.so+0x7197bb]  G1EvacuateRegionsBaseTask::work(unsigned int)+0xab\nV  [libjvm.so+0xfaa9f4]  GangWorker::loop()+0x74\nV  [libjvm.so+0xfaaa52]\nV  [libjvm.so+0xefed61]  Thread::call_run()+0x71\nV  [libjvm.so+0xc304a9]  thread_native_entry(Thread*)+0xe9\n\n\n\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000014\n\nRegister to memory mapping:\n\nRAX=0x0000000000000014 is an unknown value\nRBX=0x000000009c4997f8 is an oop: dir.objects.MyObject1\n{0x000000009c4997f8} - klass: 'dir/objects/MyObject1'\n - ---- fields (total size 8 words):\n - public 'field1' 'I' @12  0\n - public 'field2' 'I' @16  4\n - public 'field3' 'I' @20  8\n - public 'field4' 'I' @24  9\n - public 'field5' 'I' @28  10 (a)\n - public 'field6' 'I' @32  11 (b)\n - public 'field7' 'I' @36  12 (c)\n - public 'field8' 'I' @40  13 (d)\n - public 'field9' 'I' @44  17 (11)\n - public 'field10' 'I' @48  0\n - public 'field11' 'I' @52  0\n - public 'field12' 'I' @56  0\nRCX=0x0 is NULL\nRDX=0x0000000000000001 is an unknown value\nRSP=0x0000147f48108b88 points into unknown readable memory: 0x0000147f7a585f69 | 69 5f 58 7a 7f 14 00 00\nRBP=0x0000147f48108c40 points into unknown readable memory: 0x0000147f48108d00 | 00 8d 10 48 7f 14 00 00\nRSI=0x0000147f7b375320: &lt;offset 0x0000000001553320&gt; in /usr/lib/jvm/java-17-openjdk-17.0.7.0.7-1.el8_7.x86_64/lib/server/libjvm.so at 0x0000147f79e22000\nRDI=0x0000147f48108c00 points into unknown readable memory: 0x0000000000000014 | 14 00 00 00 00 00 00 00\nR8 =0x0000000000000001 is an unknown value\nR9 =0x000000dc00000375 is an unknown value\nR10=0x0 is NULL\nR11=0x000000008cac381d is pointing into object: dir.objects.MyObject2\n{0x000000008cac3798} - klass: 'dir/objects/MyObject2'\n - ---- fields (total size 26 words):\n - private 'field1' 'I' @12  360 (168)\n - private 'field2' 'J' @16  1700574836289 (f228b641 18b)\n - private 'field3' 'J' @24  1700574849269 (f228e8f5 18b)\n - private 'field4' 'J' @32  0 (0 0)\n - private volatile 'field5' 'J' @40  1700574849269 (f228e8f5 18b)\n - private 'field6' 'I' @48  0\n - private 'field7' 'I' @52  3\n - private 'field8' 'I' @56  0\n - private 'field9' 'I' @60  6\n - private 'field10' 'Z' @64  true\n - private 'field11' 'Z' @65  false\n - private 'field12' 'Z' @66  false\n - private 'field13' 'Z' @67  false\n - private 'field14' 'Ljava/lang/Object;' @68  a 'java/lang/Object'{0x000000008cac3868} (8cac3868)\n - private 'field15' 'Ljava/lang/Object;' @72  a 'java/lang/Object'{0x000000008cac3878} (8cac3878)\n - private 'field16' 'Ldir/objects/Timer;' @76  a 'dir/objects/Timer'{0x000000008cac3888} (8cac3888)\n - private 'field17' 'Ldir/objects/Timer;' @80  a 'dir/objects/Timer'{0x000000008cac3940} (8cac3940)\n - private 'field18' 'Ljava/util/HashMap;' @84  a 'java/util/HashMap'{0x000000008cac39f8} (8cac39f8)\n - private 'field19' 'Ljava/util/HashMap;' @88  a 'java/util/HashMap'{0x000000008c8b2ca0} (8c8b2ca0)\n - private 'field20' 'Ljava/util/HashMap;' @92  a 'java/util/HashMap'{0x000000008c8b2ce0} (8c8b2ce0)\n - private 'field21' 'Ljava/util/HashMap;' @96  a 'java/util/HashMap'{0x000000008c670578} (8c670578)\n - private 'field22' 'Ljava/util/HashMap;' @100  a 'java/util/HashMap'{0x000000008c6705a8} (8c6705a8)\n - private 'field23' 'Ljava/util/HashMap;' @104  a 'java/util/HashMap'{0x000000008b542058} (8b542058)\n - private 'field24' 'Ljava/util/HashMap;' @108  a 'java/util/HashMap'{0x000000008b542028} (8b542028)\n - private 'field25' 'Ljava/util/HashMap;' @112  a 'java/util/HashMap'{0x000000008b541ff8} (8b541ff8)\n - private 'field26' 'Ljava/util/HashMap;' @116  a 'java/util/HashMap'{0x000000008b541fc8} (8b541fc8)\n - private 'field27' 'Ljava/util/Vector;' @120  a 'java/util/Vector'{0x000000008b541520} (8b541520)\n - private 'field28' 'Ljava/util/Vector;' @124  a 'java/util/Vector'{0x000000008b5413d0} (8b5413d0)\n - private 'field29' 'Ljava/util/Vector;' @128  a 'java/util/Vector'{0x000000008b541378} (8b541378)\n - private 'field30' 'Ldir/objects/MyObject1;' @132  a 'dir/objects/MyObject1'{0x000000009c4997f8} (9c4997f8)\n - private 'field31' 'Ljava/util/Vector;' @136  a 'java/util/Vector'{0x000000008b66e400} (8b66e400)\n - private 'field32' 'Ljava/util/Vector;' @140  a 'java/util/Vector'{0x000000008b66def0} (8b66def0)\n - private 'field33' 'Ljava/lang/Object;' @144  a 'java/lang/Object'{0x000000008b66dee0} (8b66dee0)\n - private 'field34' 'Ljava/lang/Object;' @148  a 'java/lang/Object'{0x000000008b66ded0} (8b66ded0)\n - private 'field35' 'Ljava/lang/Object;' @152  a 'java/lang/Object'{0x000000008b66dec0} (8b66dec0)\n - private 'field36' 'Ljava/lang/Object;' @156  a 'java/lang/Object'{0x000000008b66deb0} (8b66deb0)\n - private 'field37' 'Ljava/lang/Object;' @160  a 'java/lang/Object'{0x000000008b66dea0} (8b66dea0)\n - private 'field38' 'Ljava/util/Hashtable;' @164  a 'java/util/Hashtable'{0x000000008b66de30} (8b66de30)\n - private 'field39' 'Ljava/util/Vector;' @168  a 'java/util/Vector'{0x000000008b66ddd8} (8b66ddd8)\n - private 'field40' 'Ljava/lang/Object;' @172  a 'java/lang/Object'{0x000000008b66ddc8} (8b66ddc8)\n - private 'field41' 'Ljava/lang/Thread;' @176  NULL (0)\n - private 'field42' 'Ljava/lang/Object;' @180  a 'java/lang/Object'{0x000000008b66ddb8} (8b66ddb8)\n - private 'field43' 'Ljava/util/HashMap;' @184  a 'java/util/HashMap'{0x000000008b66dd78} (8b66dd78)\n - private 'field44' 'Ljava/lang/Object;' @188  a 'java/lang/Object'{0x000000008b376740} (8b376740)\n - private 'field45' 'Ljava/util/Map;' @192  a 'java/util/Collections$SynchronizedMap'{0x000000008b3766f0} (8b3766f0)\n - private 'field46' 'Ljava/util/Map;' @196  a 'java/util/Collections$SynchronizedMap'{0x000000008b3766a0} (8b3766a0)\n - private 'field47' 'Ljava/util/Map;' @200  a 'java/util/Collections$SynchronizedMap'{0x000000008b376538} (8b376538)\n - private 'field48' 'Ljava/util/Map;' @204  a 'java/util/Collections$SynchronizedMap'{0x000000008b3764e8} (8b3764e8)\nR12=0x0000000000000008 is an unknown value\nR13=0x0000147f00140000 points into unknown readable memory: 0x0000147f7b2c4f20 | 20 4f 2c 7b 7f 14 00 00\nR14=0x0000147f74053e90 points into unknown readable memory: 0x0000147f7b2c4130 | 30 41 2c 7b 7f 14 00 00\nR15=0x00000000834e0b5f points into unknown readable memory: 00\n\n\nRegisters:\nRAX=0x0000000000000014, RBX=0x000000009c4997f8, RCX=0x0000000000000000, RDX=0x0000000000000001\nRSP=0x0000147f48108b88, RBP=0x0000147f48108c40, RSI=0x0000147f7b375320, RDI=0x0000147f48108c00\nR8 =0x0000000000000001, R9 =0x000000dc00000375, R10=0x0000000000000000, R11=0x000000008cac381d\nR12=0x0000000000000008, R13=0x0000147f00140000, R14=0x0000147f74053e90, R15=0x00000000834e0b5f\nRIP=0x0000147f7a991a6c, EFLAGS=0x0000000000010246, CSGSFS=0x002b000000000033, ERR=0x0000000000000004\n  TRAPNO=0x000000000000000e\n</code></pre>\n<p>Although it is loading dir.objects.MyObject1 and dir.objects.MyObject2, they both seem to have issues.\nBut since it didn't fail after the first set of errors, it made it appear as though it was not critical.</p>\n<p>Do you see anything that is specific to the JVM that may be a possible issue?</p>\n<p>Is there anything obvious I can look at?</p>\n"},{"tags":["java","csv","dataset","deep-netts"],"comments":[{"owner":{"account_id":2033576,"reputation":592,"user_id":1816535,"display_name":"Christopher J. Reynolds"},"score":0,"creation_date":1700597956,"post_id":77525174,"comment_id":136673781,"body_markdown":"Are there 3000 values in each row? If not, change that 3000 to the number of values in the row, or that number - 1.","body":"Are there 3000 values in each row? If not, change that 3000 to the number of values in the row, or that number - 1."}],"owner":{"account_id":18931194,"reputation":1,"user_id":13813237,"display_name":"lenn.k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700593589,"creation_date":1700591635,"question_id":77525174,"body_markdown":"I want to program a KI for checking if emails are spam or not. I am using deepNetts. I have a csv training set, which is very large. As you see in the bottom, I used deepNetts function ReadCsv to read the csv. But it only reads one column of a line, but I need it to read the whole line. How do I achieve this?\r\n\r\n    import java.io.IOException;\r\n    import javax.visrec.ml.data.DataSet;\r\n    import deepnetts.data.DataSets;\r\n    import deepnetts.data.preprocessing.scale.MaxScaler;\r\n    import deepnetts.net.FeedForwardNetwork;\r\n    import deepnetts.net.layers.activation.ActivationType;\r\n    import deepnetts.net.loss.LossType;\r\n    import deepnetts.net.train.BackpropagationTrainer;\r\n\r\n    public class Main {\r\n\t    public Main() {\r\n\t\t// TODO Auto-generated constructor stub\r\n    \t    }\r\n\r\n\t    public static void main(String[] args) throws IOException {\r\n\t\t    String csvFile = &quot;emails.csv&quot;;\r\n\t \t    DataSet emailsDataSet= DataSets.readCsv(csvFile , 3000, 1, true); \r\n\t\t    DataSet[] trainAndTestSet = emailsDataSet.split(0.6, 0.4);\r\n\r\n            MaxScaler scaler = new MaxScaler(trainAndTestSet[0]);\r\n            scaler.apply(trainAndTestSet[0]);\r\n            scaler.apply(trainAndTestSet[1]);\r\n\r\n\t\t    FeedForwardNetwork neuralNet = FeedForwardNetwork.builder()\r\n\t\t                                             .addInputLayer(3000)                          \r\n\t\t                                                                                                                                                   \r\n\t\t                                             .addFullyConnectedLayer(50) \r\n\r\n\t\t                                             .addOutputLayer(1,   ActivationType.SIGMOID) \r\n\t\t                                                                             \r\n\t\t                                               .lossFunction(LossType.CROSS_ENTROPY) \r\n\t\t                                             .build();\r\n\t          neuralNet.getTrainer().setMaxError(0.03f)\r\n\t                                  .setMaxEpochs(10000)\r\n\t                                  .setLearningRate(0.001f);\r\n\r\n\t          neuralNet.train(trainAndTestSet[0]);\r\n\t    }\r\n    }\r\n\r\nI get this error in the console:\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 3000 out of bounds \r\n","title":"read a whole line of a csv file and save it to a DataSet","body":"<p>I want to program a KI for checking if emails are spam or not. I am using deepNetts. I have a csv training set, which is very large. As you see in the bottom, I used deepNetts function ReadCsv to read the csv. But it only reads one column of a line, but I need it to read the whole line. How do I achieve this?</p>\n<pre><code>import java.io.IOException;\nimport javax.visrec.ml.data.DataSet;\nimport deepnetts.data.DataSets;\nimport deepnetts.data.preprocessing.scale.MaxScaler;\nimport deepnetts.net.FeedForwardNetwork;\nimport deepnetts.net.layers.activation.ActivationType;\nimport deepnetts.net.loss.LossType;\nimport deepnetts.net.train.BackpropagationTrainer;\n\npublic class Main {\n    public Main() {\n    // TODO Auto-generated constructor stub\n        }\n\n    public static void main(String[] args) throws IOException {\n        String csvFile = &quot;emails.csv&quot;;\n        DataSet emailsDataSet= DataSets.readCsv(csvFile , 3000, 1, true); \n        DataSet[] trainAndTestSet = emailsDataSet.split(0.6, 0.4);\n\n        MaxScaler scaler = new MaxScaler(trainAndTestSet[0]);\n        scaler.apply(trainAndTestSet[0]);\n        scaler.apply(trainAndTestSet[1]);\n\n        FeedForwardNetwork neuralNet = FeedForwardNetwork.builder()\n                                                 .addInputLayer(3000)                          \n                                                                                                                                                       \n                                                 .addFullyConnectedLayer(50) \n\n                                                 .addOutputLayer(1,   ActivationType.SIGMOID) \n                                                                                 \n                                                   .lossFunction(LossType.CROSS_ENTROPY) \n                                                 .build();\n          neuralNet.getTrainer().setMaxError(0.03f)\n                                  .setMaxEpochs(10000)\n                                  .setLearningRate(0.001f);\n\n          neuralNet.train(trainAndTestSet[0]);\n    }\n}\n</code></pre>\n<p>I get this error in the console:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 3000 out of bounds \n</code></pre>\n"},{"tags":["java","hibernate","jakarta-ee"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1584788868,"post_id":60786929,"comment_id":107547657,"body_markdown":"How well do you understand transactions?","body":"How well do you understand transactions?"},{"owner":{"account_id":13779116,"reputation":71,"user_id":9944654,"display_name":"Carol"},"score":2,"creation_date":1584789626,"post_id":60786929,"comment_id":107547826,"body_markdown":"@Kayaman it seem not as much. Please explain if you have a broader understanding","body":"@Kayaman it seem not as much. Please explain if you have a broader understanding"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1584790005,"post_id":60786929,"comment_id":107547934,"body_markdown":"Well, something (an error, or an explicit rollback) has happened to your ongoing transaction to have it marked as rolled back. You&#39;re trying to then perform an operation, but the database won&#39;t allow it and you get the exception. You need to examine logs and any other information you can gather to find your root problem, what you&#39;re seeing here is just a...side effect so to speak.","body":"Well, something (an error, or an explicit rollback) has happened to your ongoing transaction to have it marked as rolled back. You&#39;re trying to then perform an operation, but the database won&#39;t allow it and you get the exception. You need to examine logs and any other information you can gather to find your root problem, what you&#39;re seeing here is just a...side effect so to speak."},{"owner":{"account_id":13779116,"reputation":71,"user_id":9944654,"display_name":"Carol"},"score":0,"creation_date":1584790267,"post_id":60786929,"comment_id":107548006,"body_markdown":"Thanks i will continue to debug and troubleshoot more","body":"Thanks i will continue to debug and troubleshoot more"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":0,"creation_date":1615885344,"post_id":60786929,"comment_id":117823420,"body_markdown":"Hi, any findings?","body":"Hi, any findings?"},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":0,"creation_date":1668714974,"post_id":60786929,"comment_id":131479915,"body_markdown":"Probably a long transaction that exceeded the timeout (as specified in JBoss).","body":"Probably a long transaction that exceeded the timeout (as specified in JBoss)."}],"answers":[{"tags":[],"owner":{"account_id":3732221,"reputation":566,"user_id":4361933,"accept_rate":0,"display_name":"&#214;MER TAŞCI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676662690,"creation_date":1676662690,"answer_id":75488593,"question_id":60786929,"body_markdown":"While you are debugging, transaction can lost connection because of timeout. In my situation, I removed the breakpoints before the transaction statement, the mentioned error has gone.","title":"IJ031070: Transaction cannot proceed: STATUS_MARKED_ROLLBACK","body":"<p>While you are debugging, transaction can lost connection because of timeout. In my situation, I removed the breakpoints before the transaction statement, the mentioned error has gone.</p>\n"}],"owner":{"account_id":13779116,"reputation":71,"user_id":9944654,"display_name":"Carol"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16069,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700593550,"creation_date":1584788107,"question_id":60786929,"body_markdown":"Anyone knows what causes this error?\r\n\r\nBeen struggling with this issue since morning. This error just started and prevents fetching from the DB. After researching i found this link but he just says it was an OPTIMISTIC_LOCK and does not specify how to fix it. When i debug, i notice that i fetch some data then the error shows. The data is in the DB and i am struggling. Please assist: The link i found on internet is below:  https://stackoverflow.com/questions/23399525/transaction-cannot-proceed-status-marked-rollback-when-running-on-jboss-standalo    \r\n\r\n    11:32:39,036 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-38) SQL Error: 0, \r\n    SQLState: null\r\n    11:32:39,038 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-38) IJ031070: \r\n    Transaction cannot proceed: STATUS_MARKED_ROLLBACK\r\n    11:32:39,043 INFO  [org.hibernate.event.internal.DefaultLoadEventListener] (default task-38) \r\n    HHH000327: Error performing load command : org.hibernate.exception.GenericJDBCException: could not \r\n    prepare statement\r\n    11:32:39,046 ERROR [org.jboss.as.ejb3.invocation] (default task-38) WFLYEJB0034: EJB Invocation \r\n    failed on component MyClassImpl for method public abstract com.service.api.entities.ClassDto com.service.api.MyClassApi.myMethod(com.service.api.entities.Dto,java.lang.Object,com.model.user,java.lang.String) throws com.service.api.exceptions.MyException: javax.ejb.EJBTransactionRolledbackException: org.hibernate.exception.GenericJDBCException: could not prepare statement\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleInCallerTx(CMTTxInterceptor.java:159)\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:256)\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:329)\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)\r\n","title":"IJ031070: Transaction cannot proceed: STATUS_MARKED_ROLLBACK","body":"<p>Anyone knows what causes this error?</p>\n\n<p>Been struggling with this issue since morning. This error just started and prevents fetching from the DB. After researching i found this link but he just says it was an OPTIMISTIC_LOCK and does not specify how to fix it. When i debug, i notice that i fetch some data then the error shows. The data is in the DB and i am struggling. Please assist: The link i found on internet is below:  <a href=\"https://stackoverflow.com/questions/23399525/transaction-cannot-proceed-status-marked-rollback-when-running-on-jboss-standalo\">Transaction cannot proceed STATUS_MARKED_ROLLBACK when running on jboss standalone</a>    </p>\n\n<pre><code>11:32:39,036 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-38) SQL Error: 0, \nSQLState: null\n11:32:39,038 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-38) IJ031070: \nTransaction cannot proceed: STATUS_MARKED_ROLLBACK\n11:32:39,043 INFO  [org.hibernate.event.internal.DefaultLoadEventListener] (default task-38) \nHHH000327: Error performing load command : org.hibernate.exception.GenericJDBCException: could not \nprepare statement\n11:32:39,046 ERROR [org.jboss.as.ejb3.invocation] (default task-38) WFLYEJB0034: EJB Invocation \nfailed on component MyClassImpl for method public abstract com.service.api.entities.ClassDto com.service.api.MyClassApi.myMethod(com.service.api.entities.Dto,java.lang.Object,com.model.user,java.lang.String) throws com.service.api.exceptions.MyException: javax.ejb.EJBTransactionRolledbackException: org.hibernate.exception.GenericJDBCException: could not prepare statement\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleInCallerTx(CMTTxInterceptor.java:159)\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:256)\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:329)\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)\n</code></pre>\n"},{"tags":["java","helidon"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700575707,"post_id":77517439,"comment_id":136669714,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":463786,"reputation":668,"user_id":866889,"accept_rate":60,"display_name":"Dmitry Aleksandrov"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700593446,"creation_date":1700593446,"answer_id":77525357,"question_id":77517439,"body_markdown":"Helidon 4 uses its own written-from-scratch Helidon Web Server, based on Virtual threads (previously known as Nima). ","title":"Helidon Nima V4","body":"<p>Helidon 4 uses its own written-from-scratch Helidon Web Server, based on Virtual threads (previously known as Nima).</p>\n"}],"owner":{"account_id":13698017,"reputation":1,"user_id":10732138,"display_name":"Elvis Aldair Anaya Mendoza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1701823810,"answer_count":1,"score":-5,"last_activity_date":1700593446,"creation_date":1700497141,"question_id":77517439,"body_markdown":"When I create a project in helidon MP, what application server does it use? I understand that in version 4 they use Nima or is it only for the SE version or does it also use MP?\r\n\r\nI generated the project in helidon start, but I am not sure which server it runs.\r\n","title":"Helidon Nima V4","body":"<p>When I create a project in helidon MP, what application server does it use? I understand that in version 4 they use Nima or is it only for the SE version or does it also use MP?</p>\n<p>I generated the project in helidon start, but I am not sure which server it runs.</p>\n"},{"tags":["java","ssl","proxy"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1700599161,"post_id":77525347,"comment_id":136673949,"body_markdown":"yes, you can send secure requests to the proxy, where you&#39;ll do a handshake with the proxy first.  Then a tunnel is opened where your secure request to the web site will be  tunneled through the proxy.  (handshake is between you and the web site, proxy just passes all that along)  So when you set the proxy to be insecure, it&#39;ll ignore insecure certs in your handshake between you and the proxy.  That should have no effect on the handshake between you and the web site.","body":"yes, you can send secure requests to the proxy, where you&#39;ll do a handshake with the proxy first.  Then a tunnel is opened where your secure request to the web site will be  tunneled through the proxy.  (handshake is between you and the web site, proxy just passes all that along)  So when you set the proxy to be insecure, it&#39;ll ignore insecure certs in your handshake between you and the proxy.  That should have no effect on the handshake between you and the web site."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1700599642,"post_id":77525347,"comment_id":136674005,"body_markdown":"You should be able to do curl --trace to see the handshakes: https://curl.se/docs/manpage.html#--trace-ascii","body":"You should be able to do curl --trace to see the handshakes: <a href=\"https://curl.se/docs/manpage.html#--trace-ascii\" rel=\"nofollow noreferrer\">curl.se/docs/manpage.html#--trace-ascii</a>"},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1700600759,"post_id":77525347,"comment_id":136674202,"body_markdown":"I&#39;m looking for java code using apache httpclient on how to do this. currently all the samples i found haven&#39;t done it.","body":"I&#39;m looking for java code using apache httpclient on how to do this. currently all the samples i found haven&#39;t done it."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1700602929,"post_id":77525347,"comment_id":136674499,"body_markdown":"ahh, it looks a bit ugly in there... I think you need to create/set a different SSLContext for proxy.  If you just don&#39;t set it for HttpClient it&#39;ll have the default context which should be secure.","body":"ahh, it looks a bit ugly in there... I think you need to create/set a different SSLContext for proxy.  If you just don&#39;t set it for HttpClient it&#39;ll have the default context which should be secure."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1700607772,"post_id":77525347,"comment_id":136675059,"body_markdown":"I think it&#39;ll be much easier to just use http for the proxy.","body":"I think it&#39;ll be much easier to just use http for the proxy."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1700650488,"post_id":77525347,"comment_id":136679927,"body_markdown":"For the proxy, the library only exposes HttpHost for me to manipulate.","body":"For the proxy, the library only exposes HttpHost for me to manipulate."}],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700593376,"creation_date":1700593376,"question_id":77525347,"body_markdown":"In apache httpclient, is there a way to ignore the only the certificate from the proxy, but verify the certificate from the destination. Or is something only configured inside the proxy?\r\n\r\nI want to ignore the certificate issues only for the connection to the proxy. For the connection from the proxy to destination, I want the certificates to be validated. To make a bit more clear I created this ASCII art:\r\n\r\n```\r\n              Trust             Reject\r\n              invalid           invalid\r\n              certs             certs\r\n   ---------          -------            ----------------\r\n  | MyServer|   ---&gt; | Proxy |   ---&gt;   | Destination    |\r\n   ---------          -------           | ex: google.com |\r\n                                         ----------------\r\n```\r\n\r\nNote this is different from all the existing questions that ask to trust self signed certificates because they ask about trusting self signed certificates but do not request separating the trust between proxy and destination. Their solutions are of the pattern:\r\n\r\n```\r\nSSLContext sslContext = new SSLContextBuilder()\r\n  .loadTrustMaterial((chain, authType) -&gt; true)\r\n  .build();\r\n\r\nSSLConnectionSocketFactory sslSocketFactory = new SSLConnectionSocketFactory(\r\n  sslContext,\r\n  NoopHostnameVerifier.INSTANCE);\r\n\r\nCloseableHttpClient httpClient = HttpClients.custom()\r\n  .setSSLSocketFactory(sslSocketFactory)\r\n  .build();\r\n```\r\n\r\n\r\nI believe this should be possible because the command line tool `curl` provides separate options for the proxy part of the connection and the real connection (taken from the `curl` man page:\r\n\r\n```\r\n       -k, --insecure\r\n              (TLS SFTP SCP) By default, every secure connection curl makes is verified to be secure before the transfer takes place. This option makes curl skip the verification step and proceed without checking.\r\n\r\n              When this option is not used for protocols using TLS, curl verifies the server&#39;s TLS certificate before it continues: that the certificate contains the right name which matches the host name used in the URL and that the\r\n              certificate has been signed by a CA certificate present in the cert store.  See this online resource for further details:\r\n               https://curl.se/docs/sslcerts.html\r\n\r\n              For SFTP and SCP, this option makes curl skip the known_hosts verification.  known_hosts is a file normally stored in the user&#39;s home directory in the &quot;.ssh&quot; subdirectory, which contains host names and their public keys.\r\n\r\n              WARNING: using this option makes the transfer insecure.\r\n\r\n              When curl uses secure protocols it trusts responses and allows for example HSTS and Alt-Svc information to be stored and used subsequently. Using -k, --insecure can make curl trust and use such information from malicious\r\n              servers.\r\n\r\n              Providing -k, --insecure multiple times has no extra effect.  Disable it again with --no-insecure.\r\n\r\n              Example:\r\n               curl --insecure https://example.com\r\n\r\n              See also --proxy-insecure, --cacert and --capath.\r\n\r\n       --proxy-insecure\r\n              Same as -k, --insecure but used in HTTPS proxy context.\r\n\r\n              Providing --proxy-insecure multiple times has no extra effect.  Disable it again with --no-proxy-insecure.\r\n\r\n              Example:\r\n               curl --proxy-insecure -x https://proxy https://example.com\r\n\r\n              See also -x, --proxy and -k, --insecure. Added in 7.52.0.\r\n```\r\n\r\nMaybe I&#39;m misunderstanding and the verification of the certificate of the destination can only be configure on the proxy? This was my initial assumption until I noticed curl had two separate options.\r\n","title":"Using apache httpclient, how to you trust invalid certs only for the proxy side of the connection?","body":"<p>In apache httpclient, is there a way to ignore the only the certificate from the proxy, but verify the certificate from the destination. Or is something only configured inside the proxy?</p>\n<p>I want to ignore the certificate issues only for the connection to the proxy. For the connection from the proxy to destination, I want the certificates to be validated. To make a bit more clear I created this ASCII art:</p>\n<pre><code>              Trust             Reject\n              invalid           invalid\n              certs             certs\n   ---------          -------            ----------------\n  | MyServer|   ---&gt; | Proxy |   ---&gt;   | Destination    |\n   ---------          -------           | ex: google.com |\n                                         ----------------\n</code></pre>\n<p>Note this is different from all the existing questions that ask to trust self signed certificates because they ask about trusting self signed certificates but do not request separating the trust between proxy and destination. Their solutions are of the pattern:</p>\n<pre><code>SSLContext sslContext = new SSLContextBuilder()\n  .loadTrustMaterial((chain, authType) -&gt; true)\n  .build();\n\nSSLConnectionSocketFactory sslSocketFactory = new SSLConnectionSocketFactory(\n  sslContext,\n  NoopHostnameVerifier.INSTANCE);\n\nCloseableHttpClient httpClient = HttpClients.custom()\n  .setSSLSocketFactory(sslSocketFactory)\n  .build();\n</code></pre>\n<p>I believe this should be possible because the command line tool <code>curl</code> provides separate options for the proxy part of the connection and the real connection (taken from the <code>curl</code> man page:</p>\n<pre><code>       -k, --insecure\n              (TLS SFTP SCP) By default, every secure connection curl makes is verified to be secure before the transfer takes place. This option makes curl skip the verification step and proceed without checking.\n\n              When this option is not used for protocols using TLS, curl verifies the server's TLS certificate before it continues: that the certificate contains the right name which matches the host name used in the URL and that the\n              certificate has been signed by a CA certificate present in the cert store.  See this online resource for further details:\n               https://curl.se/docs/sslcerts.html\n\n              For SFTP and SCP, this option makes curl skip the known_hosts verification.  known_hosts is a file normally stored in the user's home directory in the &quot;.ssh&quot; subdirectory, which contains host names and their public keys.\n\n              WARNING: using this option makes the transfer insecure.\n\n              When curl uses secure protocols it trusts responses and allows for example HSTS and Alt-Svc information to be stored and used subsequently. Using -k, --insecure can make curl trust and use such information from malicious\n              servers.\n\n              Providing -k, --insecure multiple times has no extra effect.  Disable it again with --no-insecure.\n\n              Example:\n               curl --insecure https://example.com\n\n              See also --proxy-insecure, --cacert and --capath.\n\n       --proxy-insecure\n              Same as -k, --insecure but used in HTTPS proxy context.\n\n              Providing --proxy-insecure multiple times has no extra effect.  Disable it again with --no-proxy-insecure.\n\n              Example:\n               curl --proxy-insecure -x https://proxy https://example.com\n\n              See also -x, --proxy and -k, --insecure. Added in 7.52.0.\n</code></pre>\n<p>Maybe I'm misunderstanding and the verification of the certificate of the destination can only be configure on the proxy? This was my initial assumption until I noticed curl had two separate options.</p>\n"},{"tags":["java","postgresql","java-8"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1700593429,"post_id":77525113,"comment_id":136673064,"body_markdown":"You can try to load data before saving it so entity is in attached state. So JPA gets that you are about to update and not insert. Also you can set CasteTypes to inerst/delete/merge/... which is NONE on default.","body":"You can try to load data before saving it so entity is in attached state. So JPA gets that you are about to update and not insert. Also you can set CasteTypes to inerst/delete/merge/... which is NONE on default."},{"owner":{"account_id":20791692,"reputation":97,"user_id":15269717,"display_name":"Ryan Speciale"},"score":0,"creation_date":1700596184,"post_id":77525113,"comment_id":136673514,"body_markdown":"awesome thank you, gonna try this now.","body":"awesome thank you, gonna try this now."},{"owner":{"account_id":20791692,"reputation":97,"user_id":15269717,"display_name":"Ryan Speciale"},"score":0,"creation_date":1700596556,"post_id":77525113,"comment_id":136673573,"body_markdown":"so would loading the owner side of the relationship, the user in this case, and calling clear work? And then save again\n\nDAOUserRecord record = userRepository.findOne(newUser.getId());\nrecord.getAllowedTrackSystems.clear();","body":"so would loading the owner side of the relationship, the user in this case, and calling clear work? And then save again  DAOUserRecord record = userRepository.findOne(newUser.getId()); record.getAllowedTrackSystems.clear();"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1700597235,"post_id":77525113,"comment_id":136673670,"body_markdown":"It depends on your business usecase where the new relation is owned by. You can also make it bi-directional - just make it suite your usecases and dont mix it up just because it is complex ATM.","body":"It depends on your business usecase where the new relation is owned by. You can also make it bi-directional - just make it suite your usecases and dont mix it up just because it is complex ATM."}],"owner":{"account_id":20791692,"reputation":97,"user_id":15269717,"display_name":"Ryan Speciale"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700593025,"creation_date":1700590985,"question_id":77525113,"body_markdown":"I have a ManyToMany relationship in java 8, that consists of array of id&#39;s on each side, user and track system. I have a linking table in the database that has a pkey on each column userId, trackSystemId. The primary key is a composite key of each id. Everything works fine when the user is first created but whenever I try and update the relationship, if a combination of userID and trackSystemId already exists I get a duplicate pkey error. What is the best way to fix this? Here is my code.\r\n\r\nTrackSystem.java\r\n\r\n        @ManyToMany(fetch = FetchType.LAZY, mappedBy = \r\n         &quot;allowedTrackSystems&quot;)\r\n        private Set&lt;DAOUserRecord&gt; allowedUsers;\r\n\r\nUser.java \r\n\r\n          @ManyToMany(fetch = FetchType.LAZY)\r\n          @JoinTable(\r\n            name = &quot;user_track_systems&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;track_system_id&quot;)\r\n           )\r\n          private Set&lt;DAOTrackSystem&gt; allowedTrackSystems;\r\n    \r\n\r\n","title":"How to fix duplicate key error java 8 @ManyToMany relationship","body":"<p>I have a ManyToMany relationship in java 8, that consists of array of id's on each side, user and track system. I have a linking table in the database that has a pkey on each column userId, trackSystemId. The primary key is a composite key of each id. Everything works fine when the user is first created but whenever I try and update the relationship, if a combination of userID and trackSystemId already exists I get a duplicate pkey error. What is the best way to fix this? Here is my code.</p>\n<p>TrackSystem.java</p>\n<pre><code>    @ManyToMany(fetch = FetchType.LAZY, mappedBy = \n     &quot;allowedTrackSystems&quot;)\n    private Set&lt;DAOUserRecord&gt; allowedUsers;\n</code></pre>\n<p>User.java</p>\n<pre><code>      @ManyToMany(fetch = FetchType.LAZY)\n      @JoinTable(\n        name = &quot;user_track_systems&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;track_system_id&quot;)\n       )\n      private Set&lt;DAOTrackSystem&gt; allowedTrackSystems;\n</code></pre>\n"},{"tags":["java","python","c++","performance","biopython"],"answers":[{"tags":[],"owner":{"account_id":13688336,"reputation":2369,"user_id":9877065,"display_name":"pippo1980"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700592888,"creation_date":1700417341,"answer_id":77511912,"question_id":55549997,"body_markdown":"not sure about your question, about changing format from cartesian coordinates to internal ones using Biopython Python Library ;\r\n\r\nwith input file `test_A.pdb` peptide made with PyMOL `fab &#39;AGW&#39;` :\r\n```\r\nHEADER    peptide made with pymol fab &#39;AGW&#39;                   16-NOV-23   \r\nTITLE     AGW PEPTIDE NO PROPER FOLDING\r\nATOM      1  N   ALA A   1      -0.677  -1.230  -0.491  1.00  0.00           N  \r\nATOM      2  CA  ALA A   1      -0.001   0.064  -0.491  1.00  0.00           C  \r\nATOM      3  C   ALA A   1       1.499  -0.110  -0.491  1.00  0.00           C  \r\nATOM      4  O   ALA A   1       2.030  -1.227  -0.502  1.00  0.00           O  \r\nATOM      5  CB  ALA A   1      -0.509   0.856   0.727  1.00  0.00           C  \r\nATOM      6  H   ALA A   1      -0.131  -2.162  -0.491  1.00  0.00           H  \r\nATOM      7  HA  ALA A   1      -0.269   0.603  -1.418  1.00  0.00           H  \r\nATOM      8 1HB  ALA A   1      -1.605   1.006   0.691  1.00  0.00           H  \r\nATOM      9 2HB  ALA A   1      -0.285   0.342   1.681  1.00  0.00           H  \r\nATOM     10 3HB  ALA A   1      -0.053   1.861   0.784  1.00  0.00           H  \r\nATOM     11  N   GLY A   2       2.250   0.939  -0.479  1.00  0.00           N  \r\nATOM     12  CA  GLY A   2       3.700   0.771  -0.479  1.00  0.00           C  \r\nATOM     13  C   GLY A   2       4.400   2.108  -0.463  1.00  0.00           C  \r\nATOM     14  O   GLY A   2       3.775   3.173  -0.453  1.00  0.00           O  \r\nATOM     15  H   GLY A   2       1.841   1.862  -0.470  1.00  0.00           H  \r\nATOM     16 3HA  GLY A   2       3.972   0.246  -1.347  0.00  0.00           H  \r\nATOM     17  HA  GLY A   2       3.998   0.221   0.434  1.00  0.00           H  \r\nATOM     18  N   TRP A   3       5.689   2.140  -0.462  1.00  0.00           N  \r\nATOM     19  CA  TRP A   3       6.366   3.433  -0.447  1.00  0.00           C  \r\nATOM     20  C   TRP A   3       7.866   3.260  -0.448  1.00  0.00           C  \r\nATOM     21  O   TRP A   3       8.393   2.149  -0.460  1.00  0.00           O  \r\nATOM     22  CB  TRP A   3       5.929   4.221   0.819  1.00  0.00           C  \r\nATOM     23  CG  TRP A   3       4.453   4.629   0.843  1.00  0.00           C  \r\nATOM     24  CD1 TRP A   3       3.416   3.929   1.494  1.00  0.00           C  \r\nATOM     25  CD2 TRP A   3       3.843   5.674   0.179  1.00  0.00           C  \r\nATOM     26  CE2 TRP A   3       2.452   5.600   0.436  1.00  0.00           C  \r\nATOM     27  CE3 TRP A   3       4.369   6.688  -0.662  1.00  0.00           C  \r\nATOM     28  NE1 TRP A   3       2.161   4.520   1.256  1.00  0.00           N  \r\nATOM     29  CZ2 TRP A   3       1.576   6.547  -0.138  1.00  0.00           C  \r\nATOM     30  CZ3 TRP A   3       3.485   7.617  -1.212  1.00  0.00           C  \r\nATOM     31  CH2 TRP A   3       2.109   7.550  -0.952  1.00  0.00           C  \r\nATOM     32  H   TRP A   3       6.223   1.283  -0.470  1.00  0.00           H  \r\nATOM     33  HA  TRP A   3       6.094   3.995  -1.361  1.00  0.00           H  \r\nATOM     34 2HB  TRP A   3       6.531   5.144   0.923  1.00  0.00           H  \r\nATOM     35 3HB  TRP A   3       6.163   3.638   1.731  1.00  0.00           H  \r\nATOM     36 1HD  TRP A   3       3.567   3.021   2.064  1.00  0.00           H  \r\nATOM     37 1HE  TRP A   3       1.238   4.200   1.570  1.00  0.00           H  \r\nATOM     38 3HE  TRP A   3       5.428   6.743  -0.874  1.00  0.00           H  \r\nATOM     39 2HZ  TRP A   3       0.515   6.495   0.054  1.00  0.00           H  \r\nATOM     40 3HZ  TRP A   3       3.870   8.400  -1.849  1.00  0.00           H  \r\nATOM     41 2HH  TRP A   3       1.450   8.285  -1.388  1.00  0.00           H  \r\nTER   \r\nEND\r\n\r\n\r\n```\r\n\r\n\r\nand code stealed from [Bio.PDB.internal_coords module][1] :\r\n\r\n\r\n```\r\n&quot;&quot;&quot;\r\nstealing from  https://biopython.org/docs/dev/api/Bio.PDB.internal_coords.html\r\n\r\n&quot;&quot;&quot;\r\n\r\nimport Bio\r\n\r\nimport Bio\r\nprint(&#39;########## Biopython  VERSION ##########################################&#39;)\r\nprint(&#39;\\n                BIOPYTHON_VERSION : &#39;, Bio.__version__)\r\nprint(&#39;\\n########################################################################\\n\\n&#39;)\r\n\r\n\r\nfrom Bio.PDB.PDBParser import PDBParser\r\nfrom Bio.PDB.internal_coords import *\r\nfrom Bio.PDB.PICIO import write_PIC, read_PIC\r\nfrom Bio.PDB.ic_rebuild import structure_rebuild_test\r\n\r\nfrom Bio.PDB.PDBIO import PDBIO\r\n\r\n\r\n\r\nIC_Residue.accept_atoms = IC_Residue.accept_mainchain + (&#39;H&#39;,) ## * can break buildtest sometimes , see https://biopython.org/docs/latest/api/Bio.PDB.internal_coords.html#Bio.PDB.internal_coords.IC_Residue\r\n\r\nprint(&#39;\\nIC_Residue.accept_atoms : &#39; , IC_Residue.accept_atoms)\r\n\r\nprint(IC_Chain.MaxPeptideBond)\r\n\r\nIC_Chain.MaxPeptideBond = 0.1 ## writes different .pic files but when re-covering them to .pdb file there are no changes\r\n                              ## try changing to 1.4\r\n                              ## .pic file should have different chain name for each aa , but doesnt\r\n \r\nprint(IC_Chain.MaxPeptideBond)\r\n\r\n# load a structure as normal, get first chain\r\n\r\nparser = PDBParser(QUIET = True)\r\n\r\nmyProtein = parser.get_structure(&quot;test&quot;, &quot;test_A.pdb&quot;) # test wrong dihedral angles  ?? peptide made with pymol fab &#39;AGW&#39;\r\n\r\nmyProtein = myProtein[0][&#39;A&#39;]\r\n\r\nmyProtein.atom_to_internal_coordinates(verbose=True)\r\n\r\nresultDict = structure_rebuild_test(myProtein) \r\n\r\nprint(&quot;ASSERTION : \\  resultDict[&#39;pass&#39;] == True ----&gt;  &quot; ,  resultDict[&#39;pass&#39;] == True)  # --&gt; False because of wrong starting tripeptide dihedrals\r\n\r\n# Cant use :  assert resultDict[&#39;pass&#39;] == True  that would break the code\r\n\r\n\r\n# write chain as &#39;protein internal coordinates&#39; (.pic) file\r\nwrite_PIC(myProtein, &quot;myProtein__.pic&quot;)\r\n\r\n\r\n# read .pic file\r\n#reading from .pic file doesnt neeed to use .atom_to_internal_coordinates(verbose=True)\r\nmyProtein2 = read_PIC(&quot;myProtein__.pic&quot;)\r\n\r\nprint(&#39;\\nmyProtein2 : &#39; , myProtein2 , type(myProtein2))\r\n\r\nfor i in myProtein2[0][&#39;A&#39;] :\r\n    \r\n    print(i)\r\n    \r\n    \r\nprint(myProtein2[0][&#39;A&#39;].internal_coord.dihedra)\r\n\r\n&quot;&quot;&quot;\r\n\r\nmodify here your angles\r\n\r\n\r\nUsing as explained in the below (after code , posted links) :\r\n\r\ndictionary_IC : Dict[Tuple[PDB.internal_coords.AtomKey, \r\n                       PDB.internal_coords.AtomKey,\r\n                       PDB.internal_coords.AtomKey,\r\n                       PDB.internal_coords.AtomKey],\r\n                 PDB.internal_coords.Dihedron] = myProtein2[0][&#39;A&#39;].internal_coord.dihedra \r\n\r\n\r\n&quot;&quot;&quot;\r\n    \r\nprint(&#39;\\n\\n&#39;)\r\nmyProtein3 = read_PIC(&#39;myProtein__.pic&#39;, verbose = True , quick = False , defaults = False)\r\n\r\nmyProtein3.internal_to_atom_coordinates(verbose = True)\r\n\r\nio = PDBIO()\r\n\r\nio.set_structure(myProtein3)\r\n\r\nio.save(&#39;protein_from_pic.pdb&#39;)\r\n```\r\n\r\nHow to acces dihedral angles :\r\n\r\n[Read PDB file, extract dihedral angles, modify dihedral angles, reconstruct Cartesian coordinates, and write PDB file][2] or \r\n\r\n[class Bio.PDB.internal_coords.IC_Chain(parent: Chain, verbose: bool = False)][2]\r\n\r\n\r\n\r\nyou get the internal coordinates `protein_from_pic.pdb` file :\r\n```\r\n(&#39;test&#39;, 0, &#39;A&#39;, (&#39; &#39;, 1, &#39; &#39;)) ALA\r\nATOM      1  N   ALA A   1      -0.67700  -1.23000  -0.49100  1.000  0.00           N\r\nATOM      2  CA  ALA A   1      -0.00100   0.06400  -0.49100  1.000  0.00           C\r\nATOM      3  C   ALA A   1       1.49900  -0.11000  -0.49100  1.000  0.00           C\r\n A 1_A_N:1_A_CA:1_A_C   1.4599356281937 110.9663284912222   1.5100582309311\r\n A 1_A_N:1_A_CA:1_A_CB   1.4599356281937 107.6539249931262   1.5391075321658\r\n A 1_A_CA:1_A_C:1_A_O   1.5100582309311 122.0408231232925   1.2368391228534\r\n A 1_A_CB:1_A_CA:1_A_C   1.5391075321658 112.7777186574113   1.5100582309311\r\n A 1_A_H:1_A_N:1_A_CA   1.0801573228592 122.0535853278094   1.4599356281937\r\n A 1_A_N:1_A_CA:1_A_C:1_A_O   0.6011491153007\r\n A 1_A_C:1_A_CA:1_A_N:1_A_H  -0.0000000000000\r\n A 1_A_O:1_A_C:1_A_CA:1_A_CB 121.4745127527640\r\nBFAC: 1_A_N   0.00 1_A_CA   0.00 1_A_C   0.00 1_A_O   0.00 1_A_1HB   0.00\r\nBFAC: 1_A_2HB   0.00 1_A_3HB   0.00 1_A_CB   0.00 1_A_H   0.00 1_A_HA   0.00\r\n(&#39;test&#39;, 0, &#39;A&#39;, (&#39; &#39;, 2, &#39; &#39;)) GLY\r\nATOM     11  N   GLY A   2       2.25000   0.93900  -0.47900  1.000  0.00           N\r\nATOM     12  CA  GLY A   2       3.70000   0.77100  -0.47900  1.000  0.00           C\r\nATOM     13  C   GLY A   2       4.40000   2.10800  -0.46300  1.000  0.00           C\r\n A 2_G_N:2_G_CA:2_G_C   1.4597000145629 111.0245898953170   1.5092465338681\r\n A 2_G_CA:2_G_C:2_G_O   1.5092465338681 121.9611199529751   1.2348887082198\r\n A 2_G_H:2_G_N:2_G_CA   1.0095994213317 120.5067023787684   1.4597000145629\r\n A 2_G_N:2_G_CA:2_G_C:2_G_O  -0.0655685928394\r\n A 2_G_C:2_G_CA:2_G_N:2_G_H   0.0579117354546\r\nBFAC: 2_G_N   0.00 2_G_CA   0.00 2_G_C   0.00 2_G_O   0.00 2_G_3HA_0.0   0.00\r\nBFAC: 2_G_H   0.00 2_G_HA   0.00\r\n(&#39;test&#39;, 0, &#39;A&#39;, (&#39; &#39;, 3, &#39; &#39;)) TRP\r\nATOM     18  N   TRP A   3       5.68900   2.14000  -0.46200  1.000  0.00           N\r\nATOM     19  CA  TRP A   3       6.36600   3.43300  -0.44700  1.000  0.00           C\r\nATOM     20  C   TRP A   3       7.86600   3.26000  -0.44800  1.000  0.00           C\r\n A 3_W_N:3_W_CA:3_W_C   1.4595900171125 111.0554053056338   1.5099437187163\r\n A 3_W_N:3_W_CA:3_W_CB   1.4595900171125 109.0964244104475   1.5539206591801\r\n A 3_W_CA:3_W_C:3_W_O   1.5099437187163 121.9549562239499   1.2297128041268\r\n A 3_W_CA:3_W_CB:3_W_CG   1.5539206591801 114.7641940305710   1.5315402370701\r\n A 3_W_CB:3_W_CA:3_W_C   1.5539206591801 109.7558500446390   1.5099437187163\r\n A 3_W_CB:3_W_CG:3_W_CD1   1.5315402370701 125.7050933265825   1.4103796384618\r\n A 3_W_CB:3_W_CG:3_W_CD2   1.5315402370701 128.3225156449208   1.3802247324184\r\n A 3_W_CG:3_W_CD1:3_W_NE1   1.4103796384618 111.6636250373605   1.4074621641653\r\n A 3_W_CG:3_W_CD2:3_W_CE2   1.3802247324184 107.8886960838606   1.4164766375332\r\n A 3_W_CG:3_W_CD2:3_W_CE3   1.3802247324184 131.4953244410757   1.4185040982489\r\n A 3_W_CD2:3_W_CE2:3_W_CZ2   1.4164766375332 120.0300532767627   1.4119705760319\r\n A 3_W_CE2:3_W_CZ2:3_W_CH2   1.4119705760319 118.7879027230004   1.3973884762513\r\n A 3_W_CZ2:3_W_CH2:3_W_CZ3   1.3973884762513 121.1110777259555   1.4019503499843\r\n A 3_W_H:3_W_N:3_W_CA   1.0097866641569 120.4393494994194   1.4595900171125\r\n A 3_W_N:3_W_CA:3_W_C:3_W_O  -0.0102553301826\r\n A 3_W_N:3_W_CA:3_W_CB:3_W_CG -66.0812643271944\r\n A 3_W_CA:3_W_CB:3_W_CG:3_W_CD1  96.7505848410883\r\n A 3_W_CA:3_W_CB:3_W_CG:3_W_CD2 -78.3824577321078\r\n A 3_W_C:3_W_CA:3_W_N:3_W_H   0.0868587990605\r\n A 3_W_O:3_W_C:3_W_CA:3_W_CB 120.7037597691334\r\n A 3_W_CB:3_W_CG:3_W_CD1:3_W_NE1 -176.3052251151737\r\n A 3_W_CB:3_W_CG:3_W_CD2:3_W_CE2 176.0783225890677\r\n A 3_W_CB:3_W_CG:3_W_CD2:3_W_CE3  -2.4869103253617\r\n A 3_W_CG:3_W_CD2:3_W_CE2:3_W_CZ2 -179.2603454806913\r\n A 3_W_CD2:3_W_CE2:3_W_CZ2:3_W_CH2  -0.2347405513300\r\n A 3_W_CE2:3_W_CZ2:3_W_CH2:3_W_CZ3   0.6321110551692\r\nBFAC: 3_W_N   0.00 3_W_CA   0.00 3_W_C   0.00 3_W_O   0.00 3_W_1HD   0.00\r\nBFAC: 3_W_1HE   0.00 3_W_2HB   0.00 3_W_2HH   0.00 3_W_2HZ   0.00 3_W_3HB   0.00\r\nBFAC: 3_W_3HE   0.00 3_W_3HZ   0.00 3_W_CB   0.00 3_W_CD1   0.00 3_W_CD2   0.00\r\nBFAC: 3_W_CE2   0.00 3_W_CE3   0.00 3_W_CG   0.00 3_W_CH2   0.00 3_W_CZ2   0.00\r\nBFAC: 3_W_CZ3   0.00 3_W_H   0.00 3_W_HA   0.00 3_W_NE1   0.00\r\n```\r\n\r\nand then again a .pdb file , in this case second file is missing the side-chains H because of the `IC_Residue.accept_atoms = IC_Residue.accept_mainchain + (&#39;H&#39;,)` ,\r\n\r\npdbs compared :\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\npdb compared in pymol , one structure is translated a little bit by hand :\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n**ADDENDUM**\r\n\r\nOn an another note without dealing with `.pic` files , using same input above , you could do :\r\n\r\n```\r\nimport Bio\r\n\r\nprint(&#39;########## Biopython  VERSION ##########################################&#39;)\r\nprint(&#39;\\n                BIOPYTHON_VERSION : &#39;, Bio.__version__)\r\nprint(&#39;\\n########################################################################\\n\\n&#39;)\r\n\r\n\r\nfrom Bio.PDB.PDBParser import PDBParser\r\nfrom Bio.PDB.internal_coords import *\r\n\r\nfrom Bio.PDB.PDBIO import PDBIO\r\n\r\n\r\n\r\nIC_Residue.accept_atoms = IC_Residue.accept_mainchain + (&#39;H&#39;,) ## * can break buildtest sometimes , see https://biopython.org/docs/latest/api/Bio.PDB.internal_coords.html#Bio.PDB.internal_coords.IC_Residue\r\n\r\nprint(&#39;\\nIC_Residue.accept_atoms : &#39; , IC_Residue.accept_atoms)\r\n\r\nprint(IC_Chain.MaxPeptideBond)\r\n\r\n# IC_Chain.MaxPeptideBond = 0.1 ## writes different .pic files but when re-covering them to .pdb file there are no changes\r\n                              ## try changing to 1.4\r\n                              ## .pic file should have different chain name for each aa , but doesnt\r\n                              \r\nIC_Chain.MaxPeptideBond = 1.4 ### default ,  with 0.1 I have no peptide bond !!!!!!!!!!!!!!!!!!!!!!!!!!!!                              \r\n                            \r\n \r\nprint(IC_Chain.MaxPeptideBond)\r\n\r\n\r\nparser = PDBParser(QUIET = True)\r\n\r\nmyProtein = parser.get_structure(&quot;test&quot;, &quot;test_A.pdb&quot;) # test wrong dihedral angles  ?? peptide made with pymol fab &#39;AGW&#39;\r\n\r\nmyChain = myProtein[0][&#39;A&#39;]\r\n\r\nmyChain.atom_to_internal_coordinates(verbose=True)\r\n\r\nmyChain.internal_to_atom_coordinates(verbose=True)\r\n\r\n\r\n\r\nfor i in myChain.get_residues() :\r\n    \r\n    print(&#39;\\n&#39;,i)\r\n    \r\n    print(i.internal_coord , type(i.internal_coord))\r\n    \r\n    \r\n    \r\n    for ang in [&quot;psi&quot;, &quot;phi&quot; , &quot;omg&quot; , &quot;chi1&quot; , &quot;chi2&quot; , &quot;chi3&quot; , &quot;chi4&quot; , &quot;chi5&quot;] :\r\n        \r\n    \r\n    # for ang in [&quot;N:CA:C:1N&quot;, &quot;-1C:N:CA:C&quot; , &quot;-1CA:-1C:N:CA&quot; ] :  # psi , phi , omega\r\n    \r\n    ## see https://biopython.org/docs/dev/api/Bio.PDB.internal_coords.html#Bio.PDB.internal_coords.IC_Residue\r\n        \r\n\r\n    \r\n        ric = i.internal_coord.get_angle(ang)\r\n    \r\n        if ric != None :\r\n    \r\n            print(&#39;\\n&#39;, ang, &#39; in &#39;, i ,&#39;  : &#39;,ric , type(ric))\r\n            \r\n            if ang == &#39;chi1&#39; :\r\n                \r\n                \r\n                change = i.internal_coord.set_angle(ang , ric - 47.0)\r\n                \r\n                changed = i.internal_coord.get_angle(ang)\r\n                \r\n                print(&#39;\\n&#39;, ang, &#39; CHANGED !!!!! in &#39;, i ,&#39;  : &#39;,changed , type(changed))\r\n                \r\n            else :\r\n                \r\n                pass\r\n            \r\n        else :\r\n            \r\n            \r\n            print(&#39;\\n&#39;, ang ,&#39;  is not present in &#39; , i)\r\n    \r\n\r\nmyChain.internal_to_atom_coordinates(verbose=True)\r\n \r\nio = PDBIO()\r\n\r\nio.set_structure(myChain)\r\n\r\nio.save(&#39;protein_modified_angles.pdb&#39;)\r\n```\r\n\r\nOutput :\r\n```\r\n.....\r\n &lt;Residue ALA het=  resseq=1 icode= &gt;\r\n(&#39;test&#39;, 0, &#39;A&#39;, (&#39; &#39;, 1, &#39; &#39;)) &lt;class &#39;Bio.PDB.internal_coords.IC_Residue&#39;&gt;\r\n\r\n psi  in  &lt;Residue ALA het=  resseq=1 icode= &gt;   :  -179.39078992201667 &lt;class &#39;numpy.float64&#39;&gt;\r\n\r\n phi   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\r\n\r\n omg   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\r\n\r\n chi1   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\r\n\r\n chi2   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\r\n\r\n chi3   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\r\n\r\n chi4   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\r\n\r\n chi5   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\r\n\r\n &lt;Residue GLY het=  resseq=2 icode= &gt;\r\n(&#39;test&#39;, 0, &#39;A&#39;, (&#39; &#39;, 2, &#39; &#39;)) &lt;class &#39;Bio.PDB.internal_coords.IC_Residue&#39;&gt;\r\n\r\n psi  in  &lt;Residue GLY het=  resseq=2 icode= &gt;   :  -179.94682725665908 &lt;class &#39;numpy.float64&#39;&gt;\r\n\r\n phi  in  &lt;Residue GLY het=  resseq=2 icode= &gt;   :  -179.9585097414913 &lt;class &#39;numpy.float64&#39;&gt;\r\n\r\n omg  in  &lt;Residue GLY het=  resseq=2 icode= &gt;   :  -179.99990519647523 &lt;class &#39;numpy.float64&#39;&gt;\r\n\r\n chi1   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\r\n\r\n chi2   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\r\n\r\n chi3   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\r\n\r\n chi4   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\r\n\r\n chi5   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\r\n\r\n &lt;Residue TRP het=  resseq=3 icode= &gt;\r\n(&#39;test&#39;, 0, &#39;A&#39;, (&#39; &#39;, 3, &#39; &#39;)) &lt;class &#39;Bio.PDB.internal_coords.IC_Residue&#39;&gt;\r\n\r\n psi   is not present in  &lt;Residue TRP het=  resseq=3 icode= &gt;\r\n\r\n phi  in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  179.99102008513498 &lt;class &#39;numpy.float64&#39;&gt;\r\n\r\n omg  in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  179.97874022131657 &lt;class &#39;numpy.float64&#39;&gt;\r\n\r\n chi1  in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  -66.08126432719439 &lt;class &#39;numpy.float64&#39;&gt;\r\n\r\n chi1  CHANGED !!!!! in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  -113.08126432719439 &lt;class &#39;numpy.float64&#39;&gt;\r\n\r\n chi2  in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  96.75058484108833 &lt;class &#39;numpy.float64&#39;&gt;\r\n\r\n chi3   is not present in  &lt;Residue TRP het=  resseq=3 icode= &gt;\r\n\r\n chi4   is not present in  &lt;Residue TRP het=  resseq=3 icode= &gt;\r\n\r\n chi5   is not present in  &lt;Residue TRP het=  resseq=3 icode= &gt;\r\ntest A coordinates for 10 dihedra updated in 6 iterations\r\n```\r\n\r\nwith resulting `protein_modified_angles.pdb` in purple versus original `test_A.pdb` in cyan displayed in PyMOL :\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://biopython.org/docs/latest/api/Bio.PDB.internal_coords.html\r\n  [2]: https://biopython.org/docs/dev/api/Bio.PDB.internal_coords.html#Bio.PDB.internal_coords.IC_Chain\r\n  [3]: https://i.stack.imgur.com/T2wdY.png\r\n  [4]: https://i.stack.imgur.com/LNg3w.png\r\n  [5]: https://i.stack.imgur.com/c33v5.png","title":"PDB files to angles to again converting in PDB format","body":"<p>not sure about your question, about changing format from cartesian coordinates to internal ones using Biopython Python Library ;</p>\n<p>with input file <code>test_A.pdb</code> peptide made with PyMOL <code>fab 'AGW'</code> :</p>\n<pre><code>HEADER    peptide made with pymol fab 'AGW'                   16-NOV-23   \nTITLE     AGW PEPTIDE NO PROPER FOLDING\nATOM      1  N   ALA A   1      -0.677  -1.230  -0.491  1.00  0.00           N  \nATOM      2  CA  ALA A   1      -0.001   0.064  -0.491  1.00  0.00           C  \nATOM      3  C   ALA A   1       1.499  -0.110  -0.491  1.00  0.00           C  \nATOM      4  O   ALA A   1       2.030  -1.227  -0.502  1.00  0.00           O  \nATOM      5  CB  ALA A   1      -0.509   0.856   0.727  1.00  0.00           C  \nATOM      6  H   ALA A   1      -0.131  -2.162  -0.491  1.00  0.00           H  \nATOM      7  HA  ALA A   1      -0.269   0.603  -1.418  1.00  0.00           H  \nATOM      8 1HB  ALA A   1      -1.605   1.006   0.691  1.00  0.00           H  \nATOM      9 2HB  ALA A   1      -0.285   0.342   1.681  1.00  0.00           H  \nATOM     10 3HB  ALA A   1      -0.053   1.861   0.784  1.00  0.00           H  \nATOM     11  N   GLY A   2       2.250   0.939  -0.479  1.00  0.00           N  \nATOM     12  CA  GLY A   2       3.700   0.771  -0.479  1.00  0.00           C  \nATOM     13  C   GLY A   2       4.400   2.108  -0.463  1.00  0.00           C  \nATOM     14  O   GLY A   2       3.775   3.173  -0.453  1.00  0.00           O  \nATOM     15  H   GLY A   2       1.841   1.862  -0.470  1.00  0.00           H  \nATOM     16 3HA  GLY A   2       3.972   0.246  -1.347  0.00  0.00           H  \nATOM     17  HA  GLY A   2       3.998   0.221   0.434  1.00  0.00           H  \nATOM     18  N   TRP A   3       5.689   2.140  -0.462  1.00  0.00           N  \nATOM     19  CA  TRP A   3       6.366   3.433  -0.447  1.00  0.00           C  \nATOM     20  C   TRP A   3       7.866   3.260  -0.448  1.00  0.00           C  \nATOM     21  O   TRP A   3       8.393   2.149  -0.460  1.00  0.00           O  \nATOM     22  CB  TRP A   3       5.929   4.221   0.819  1.00  0.00           C  \nATOM     23  CG  TRP A   3       4.453   4.629   0.843  1.00  0.00           C  \nATOM     24  CD1 TRP A   3       3.416   3.929   1.494  1.00  0.00           C  \nATOM     25  CD2 TRP A   3       3.843   5.674   0.179  1.00  0.00           C  \nATOM     26  CE2 TRP A   3       2.452   5.600   0.436  1.00  0.00           C  \nATOM     27  CE3 TRP A   3       4.369   6.688  -0.662  1.00  0.00           C  \nATOM     28  NE1 TRP A   3       2.161   4.520   1.256  1.00  0.00           N  \nATOM     29  CZ2 TRP A   3       1.576   6.547  -0.138  1.00  0.00           C  \nATOM     30  CZ3 TRP A   3       3.485   7.617  -1.212  1.00  0.00           C  \nATOM     31  CH2 TRP A   3       2.109   7.550  -0.952  1.00  0.00           C  \nATOM     32  H   TRP A   3       6.223   1.283  -0.470  1.00  0.00           H  \nATOM     33  HA  TRP A   3       6.094   3.995  -1.361  1.00  0.00           H  \nATOM     34 2HB  TRP A   3       6.531   5.144   0.923  1.00  0.00           H  \nATOM     35 3HB  TRP A   3       6.163   3.638   1.731  1.00  0.00           H  \nATOM     36 1HD  TRP A   3       3.567   3.021   2.064  1.00  0.00           H  \nATOM     37 1HE  TRP A   3       1.238   4.200   1.570  1.00  0.00           H  \nATOM     38 3HE  TRP A   3       5.428   6.743  -0.874  1.00  0.00           H  \nATOM     39 2HZ  TRP A   3       0.515   6.495   0.054  1.00  0.00           H  \nATOM     40 3HZ  TRP A   3       3.870   8.400  -1.849  1.00  0.00           H  \nATOM     41 2HH  TRP A   3       1.450   8.285  -1.388  1.00  0.00           H  \nTER   \nEND\n\n\n</code></pre>\n<p>and code stealed from <a href=\"https://biopython.org/docs/latest/api/Bio.PDB.internal_coords.html\" rel=\"nofollow noreferrer\">Bio.PDB.internal_coords module</a> :</p>\n<pre><code>&quot;&quot;&quot;\nstealing from  https://biopython.org/docs/dev/api/Bio.PDB.internal_coords.html\n\n&quot;&quot;&quot;\n\nimport Bio\n\nimport Bio\nprint('########## Biopython  VERSION ##########################################')\nprint('\\n                BIOPYTHON_VERSION : ', Bio.__version__)\nprint('\\n########################################################################\\n\\n')\n\n\nfrom Bio.PDB.PDBParser import PDBParser\nfrom Bio.PDB.internal_coords import *\nfrom Bio.PDB.PICIO import write_PIC, read_PIC\nfrom Bio.PDB.ic_rebuild import structure_rebuild_test\n\nfrom Bio.PDB.PDBIO import PDBIO\n\n\n\nIC_Residue.accept_atoms = IC_Residue.accept_mainchain + ('H',) ## * can break buildtest sometimes , see https://biopython.org/docs/latest/api/Bio.PDB.internal_coords.html#Bio.PDB.internal_coords.IC_Residue\n\nprint('\\nIC_Residue.accept_atoms : ' , IC_Residue.accept_atoms)\n\nprint(IC_Chain.MaxPeptideBond)\n\nIC_Chain.MaxPeptideBond = 0.1 ## writes different .pic files but when re-covering them to .pdb file there are no changes\n                              ## try changing to 1.4\n                              ## .pic file should have different chain name for each aa , but doesnt\n \nprint(IC_Chain.MaxPeptideBond)\n\n# load a structure as normal, get first chain\n\nparser = PDBParser(QUIET = True)\n\nmyProtein = parser.get_structure(&quot;test&quot;, &quot;test_A.pdb&quot;) # test wrong dihedral angles  ?? peptide made with pymol fab 'AGW'\n\nmyProtein = myProtein[0]['A']\n\nmyProtein.atom_to_internal_coordinates(verbose=True)\n\nresultDict = structure_rebuild_test(myProtein) \n\nprint(&quot;ASSERTION : \\  resultDict['pass'] == True ----&gt;  &quot; ,  resultDict['pass'] == True)  # --&gt; False because of wrong starting tripeptide dihedrals\n\n# Cant use :  assert resultDict['pass'] == True  that would break the code\n\n\n# write chain as 'protein internal coordinates' (.pic) file\nwrite_PIC(myProtein, &quot;myProtein__.pic&quot;)\n\n\n# read .pic file\n#reading from .pic file doesnt neeed to use .atom_to_internal_coordinates(verbose=True)\nmyProtein2 = read_PIC(&quot;myProtein__.pic&quot;)\n\nprint('\\nmyProtein2 : ' , myProtein2 , type(myProtein2))\n\nfor i in myProtein2[0]['A'] :\n    \n    print(i)\n    \n    \nprint(myProtein2[0]['A'].internal_coord.dihedra)\n\n&quot;&quot;&quot;\n\nmodify here your angles\n\n\nUsing as explained in the below (after code , posted links) :\n\ndictionary_IC : Dict[Tuple[PDB.internal_coords.AtomKey, \n                       PDB.internal_coords.AtomKey,\n                       PDB.internal_coords.AtomKey,\n                       PDB.internal_coords.AtomKey],\n                 PDB.internal_coords.Dihedron] = myProtein2[0]['A'].internal_coord.dihedra \n\n\n&quot;&quot;&quot;\n    \nprint('\\n\\n')\nmyProtein3 = read_PIC('myProtein__.pic', verbose = True , quick = False , defaults = False)\n\nmyProtein3.internal_to_atom_coordinates(verbose = True)\n\nio = PDBIO()\n\nio.set_structure(myProtein3)\n\nio.save('protein_from_pic.pdb')\n</code></pre>\n<p>How to acces dihedral angles :</p>\n<p><a href=\"https://biopython.org/docs/dev/api/Bio.PDB.internal_coords.html#Bio.PDB.internal_coords.IC_Chain\" rel=\"nofollow noreferrer\">Read PDB file, extract dihedral angles, modify dihedral angles, reconstruct Cartesian coordinates, and write PDB file</a> or</p>\n<p><a href=\"https://biopython.org/docs/dev/api/Bio.PDB.internal_coords.html#Bio.PDB.internal_coords.IC_Chain\" rel=\"nofollow noreferrer\">class Bio.PDB.internal_coords.IC_Chain(parent: Chain, verbose: bool = False)</a></p>\n<p>you get the internal coordinates <code>protein_from_pic.pdb</code> file :</p>\n<pre><code>('test', 0, 'A', (' ', 1, ' ')) ALA\nATOM      1  N   ALA A   1      -0.67700  -1.23000  -0.49100  1.000  0.00           N\nATOM      2  CA  ALA A   1      -0.00100   0.06400  -0.49100  1.000  0.00           C\nATOM      3  C   ALA A   1       1.49900  -0.11000  -0.49100  1.000  0.00           C\n A 1_A_N:1_A_CA:1_A_C   1.4599356281937 110.9663284912222   1.5100582309311\n A 1_A_N:1_A_CA:1_A_CB   1.4599356281937 107.6539249931262   1.5391075321658\n A 1_A_CA:1_A_C:1_A_O   1.5100582309311 122.0408231232925   1.2368391228534\n A 1_A_CB:1_A_CA:1_A_C   1.5391075321658 112.7777186574113   1.5100582309311\n A 1_A_H:1_A_N:1_A_CA   1.0801573228592 122.0535853278094   1.4599356281937\n A 1_A_N:1_A_CA:1_A_C:1_A_O   0.6011491153007\n A 1_A_C:1_A_CA:1_A_N:1_A_H  -0.0000000000000\n A 1_A_O:1_A_C:1_A_CA:1_A_CB 121.4745127527640\nBFAC: 1_A_N   0.00 1_A_CA   0.00 1_A_C   0.00 1_A_O   0.00 1_A_1HB   0.00\nBFAC: 1_A_2HB   0.00 1_A_3HB   0.00 1_A_CB   0.00 1_A_H   0.00 1_A_HA   0.00\n('test', 0, 'A', (' ', 2, ' ')) GLY\nATOM     11  N   GLY A   2       2.25000   0.93900  -0.47900  1.000  0.00           N\nATOM     12  CA  GLY A   2       3.70000   0.77100  -0.47900  1.000  0.00           C\nATOM     13  C   GLY A   2       4.40000   2.10800  -0.46300  1.000  0.00           C\n A 2_G_N:2_G_CA:2_G_C   1.4597000145629 111.0245898953170   1.5092465338681\n A 2_G_CA:2_G_C:2_G_O   1.5092465338681 121.9611199529751   1.2348887082198\n A 2_G_H:2_G_N:2_G_CA   1.0095994213317 120.5067023787684   1.4597000145629\n A 2_G_N:2_G_CA:2_G_C:2_G_O  -0.0655685928394\n A 2_G_C:2_G_CA:2_G_N:2_G_H   0.0579117354546\nBFAC: 2_G_N   0.00 2_G_CA   0.00 2_G_C   0.00 2_G_O   0.00 2_G_3HA_0.0   0.00\nBFAC: 2_G_H   0.00 2_G_HA   0.00\n('test', 0, 'A', (' ', 3, ' ')) TRP\nATOM     18  N   TRP A   3       5.68900   2.14000  -0.46200  1.000  0.00           N\nATOM     19  CA  TRP A   3       6.36600   3.43300  -0.44700  1.000  0.00           C\nATOM     20  C   TRP A   3       7.86600   3.26000  -0.44800  1.000  0.00           C\n A 3_W_N:3_W_CA:3_W_C   1.4595900171125 111.0554053056338   1.5099437187163\n A 3_W_N:3_W_CA:3_W_CB   1.4595900171125 109.0964244104475   1.5539206591801\n A 3_W_CA:3_W_C:3_W_O   1.5099437187163 121.9549562239499   1.2297128041268\n A 3_W_CA:3_W_CB:3_W_CG   1.5539206591801 114.7641940305710   1.5315402370701\n A 3_W_CB:3_W_CA:3_W_C   1.5539206591801 109.7558500446390   1.5099437187163\n A 3_W_CB:3_W_CG:3_W_CD1   1.5315402370701 125.7050933265825   1.4103796384618\n A 3_W_CB:3_W_CG:3_W_CD2   1.5315402370701 128.3225156449208   1.3802247324184\n A 3_W_CG:3_W_CD1:3_W_NE1   1.4103796384618 111.6636250373605   1.4074621641653\n A 3_W_CG:3_W_CD2:3_W_CE2   1.3802247324184 107.8886960838606   1.4164766375332\n A 3_W_CG:3_W_CD2:3_W_CE3   1.3802247324184 131.4953244410757   1.4185040982489\n A 3_W_CD2:3_W_CE2:3_W_CZ2   1.4164766375332 120.0300532767627   1.4119705760319\n A 3_W_CE2:3_W_CZ2:3_W_CH2   1.4119705760319 118.7879027230004   1.3973884762513\n A 3_W_CZ2:3_W_CH2:3_W_CZ3   1.3973884762513 121.1110777259555   1.4019503499843\n A 3_W_H:3_W_N:3_W_CA   1.0097866641569 120.4393494994194   1.4595900171125\n A 3_W_N:3_W_CA:3_W_C:3_W_O  -0.0102553301826\n A 3_W_N:3_W_CA:3_W_CB:3_W_CG -66.0812643271944\n A 3_W_CA:3_W_CB:3_W_CG:3_W_CD1  96.7505848410883\n A 3_W_CA:3_W_CB:3_W_CG:3_W_CD2 -78.3824577321078\n A 3_W_C:3_W_CA:3_W_N:3_W_H   0.0868587990605\n A 3_W_O:3_W_C:3_W_CA:3_W_CB 120.7037597691334\n A 3_W_CB:3_W_CG:3_W_CD1:3_W_NE1 -176.3052251151737\n A 3_W_CB:3_W_CG:3_W_CD2:3_W_CE2 176.0783225890677\n A 3_W_CB:3_W_CG:3_W_CD2:3_W_CE3  -2.4869103253617\n A 3_W_CG:3_W_CD2:3_W_CE2:3_W_CZ2 -179.2603454806913\n A 3_W_CD2:3_W_CE2:3_W_CZ2:3_W_CH2  -0.2347405513300\n A 3_W_CE2:3_W_CZ2:3_W_CH2:3_W_CZ3   0.6321110551692\nBFAC: 3_W_N   0.00 3_W_CA   0.00 3_W_C   0.00 3_W_O   0.00 3_W_1HD   0.00\nBFAC: 3_W_1HE   0.00 3_W_2HB   0.00 3_W_2HH   0.00 3_W_2HZ   0.00 3_W_3HB   0.00\nBFAC: 3_W_3HE   0.00 3_W_3HZ   0.00 3_W_CB   0.00 3_W_CD1   0.00 3_W_CD2   0.00\nBFAC: 3_W_CE2   0.00 3_W_CE3   0.00 3_W_CG   0.00 3_W_CH2   0.00 3_W_CZ2   0.00\nBFAC: 3_W_CZ3   0.00 3_W_H   0.00 3_W_HA   0.00 3_W_NE1   0.00\n</code></pre>\n<p>and then again a .pdb file , in this case second file is missing the side-chains H because of the <code>IC_Residue.accept_atoms = IC_Residue.accept_mainchain + ('H',)</code> ,</p>\n<p>pdbs compared :</p>\n<p><a href=\"https://i.stack.imgur.com/T2wdY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T2wdY.png\" alt=\"enter image description here\" /></a></p>\n<p>pdb compared in pymol , one structure is translated a little bit by hand :</p>\n<p><a href=\"https://i.stack.imgur.com/LNg3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LNg3w.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>ADDENDUM</strong></p>\n<p>On an another note without dealing with <code>.pic</code> files , using same input above , you could do :</p>\n<pre><code>import Bio\n\nprint('########## Biopython  VERSION ##########################################')\nprint('\\n                BIOPYTHON_VERSION : ', Bio.__version__)\nprint('\\n########################################################################\\n\\n')\n\n\nfrom Bio.PDB.PDBParser import PDBParser\nfrom Bio.PDB.internal_coords import *\n\nfrom Bio.PDB.PDBIO import PDBIO\n\n\n\nIC_Residue.accept_atoms = IC_Residue.accept_mainchain + ('H',) ## * can break buildtest sometimes , see https://biopython.org/docs/latest/api/Bio.PDB.internal_coords.html#Bio.PDB.internal_coords.IC_Residue\n\nprint('\\nIC_Residue.accept_atoms : ' , IC_Residue.accept_atoms)\n\nprint(IC_Chain.MaxPeptideBond)\n\n# IC_Chain.MaxPeptideBond = 0.1 ## writes different .pic files but when re-covering them to .pdb file there are no changes\n                              ## try changing to 1.4\n                              ## .pic file should have different chain name for each aa , but doesnt\n                              \nIC_Chain.MaxPeptideBond = 1.4 ### default ,  with 0.1 I have no peptide bond !!!!!!!!!!!!!!!!!!!!!!!!!!!!                              \n                            \n \nprint(IC_Chain.MaxPeptideBond)\n\n\nparser = PDBParser(QUIET = True)\n\nmyProtein = parser.get_structure(&quot;test&quot;, &quot;test_A.pdb&quot;) # test wrong dihedral angles  ?? peptide made with pymol fab 'AGW'\n\nmyChain = myProtein[0]['A']\n\nmyChain.atom_to_internal_coordinates(verbose=True)\n\nmyChain.internal_to_atom_coordinates(verbose=True)\n\n\n\nfor i in myChain.get_residues() :\n    \n    print('\\n',i)\n    \n    print(i.internal_coord , type(i.internal_coord))\n    \n    \n    \n    for ang in [&quot;psi&quot;, &quot;phi&quot; , &quot;omg&quot; , &quot;chi1&quot; , &quot;chi2&quot; , &quot;chi3&quot; , &quot;chi4&quot; , &quot;chi5&quot;] :\n        \n    \n    # for ang in [&quot;N:CA:C:1N&quot;, &quot;-1C:N:CA:C&quot; , &quot;-1CA:-1C:N:CA&quot; ] :  # psi , phi , omega\n    \n    ## see https://biopython.org/docs/dev/api/Bio.PDB.internal_coords.html#Bio.PDB.internal_coords.IC_Residue\n        \n\n    \n        ric = i.internal_coord.get_angle(ang)\n    \n        if ric != None :\n    \n            print('\\n', ang, ' in ', i ,'  : ',ric , type(ric))\n            \n            if ang == 'chi1' :\n                \n                \n                change = i.internal_coord.set_angle(ang , ric - 47.0)\n                \n                changed = i.internal_coord.get_angle(ang)\n                \n                print('\\n', ang, ' CHANGED !!!!! in ', i ,'  : ',changed , type(changed))\n                \n            else :\n                \n                pass\n            \n        else :\n            \n            \n            print('\\n', ang ,'  is not present in ' , i)\n    \n\nmyChain.internal_to_atom_coordinates(verbose=True)\n \nio = PDBIO()\n\nio.set_structure(myChain)\n\nio.save('protein_modified_angles.pdb')\n</code></pre>\n<p>Output :</p>\n<pre><code>.....\n &lt;Residue ALA het=  resseq=1 icode= &gt;\n('test', 0, 'A', (' ', 1, ' ')) &lt;class 'Bio.PDB.internal_coords.IC_Residue'&gt;\n\n psi  in  &lt;Residue ALA het=  resseq=1 icode= &gt;   :  -179.39078992201667 &lt;class 'numpy.float64'&gt;\n\n phi   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\n\n omg   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\n\n chi1   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\n\n chi2   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\n\n chi3   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\n\n chi4   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\n\n chi5   is not present in  &lt;Residue ALA het=  resseq=1 icode= &gt;\n\n &lt;Residue GLY het=  resseq=2 icode= &gt;\n('test', 0, 'A', (' ', 2, ' ')) &lt;class 'Bio.PDB.internal_coords.IC_Residue'&gt;\n\n psi  in  &lt;Residue GLY het=  resseq=2 icode= &gt;   :  -179.94682725665908 &lt;class 'numpy.float64'&gt;\n\n phi  in  &lt;Residue GLY het=  resseq=2 icode= &gt;   :  -179.9585097414913 &lt;class 'numpy.float64'&gt;\n\n omg  in  &lt;Residue GLY het=  resseq=2 icode= &gt;   :  -179.99990519647523 &lt;class 'numpy.float64'&gt;\n\n chi1   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\n\n chi2   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\n\n chi3   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\n\n chi4   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\n\n chi5   is not present in  &lt;Residue GLY het=  resseq=2 icode= &gt;\n\n &lt;Residue TRP het=  resseq=3 icode= &gt;\n('test', 0, 'A', (' ', 3, ' ')) &lt;class 'Bio.PDB.internal_coords.IC_Residue'&gt;\n\n psi   is not present in  &lt;Residue TRP het=  resseq=3 icode= &gt;\n\n phi  in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  179.99102008513498 &lt;class 'numpy.float64'&gt;\n\n omg  in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  179.97874022131657 &lt;class 'numpy.float64'&gt;\n\n chi1  in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  -66.08126432719439 &lt;class 'numpy.float64'&gt;\n\n chi1  CHANGED !!!!! in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  -113.08126432719439 &lt;class 'numpy.float64'&gt;\n\n chi2  in  &lt;Residue TRP het=  resseq=3 icode= &gt;   :  96.75058484108833 &lt;class 'numpy.float64'&gt;\n\n chi3   is not present in  &lt;Residue TRP het=  resseq=3 icode= &gt;\n\n chi4   is not present in  &lt;Residue TRP het=  resseq=3 icode= &gt;\n\n chi5   is not present in  &lt;Residue TRP het=  resseq=3 icode= &gt;\ntest A coordinates for 10 dihedra updated in 6 iterations\n</code></pre>\n<p>with resulting <code>protein_modified_angles.pdb</code> in purple versus original <code>test_A.pdb</code> in cyan displayed in PyMOL :</p>\n<p><a href=\"https://i.stack.imgur.com/c33v5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c33v5.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13903630,"reputation":19,"user_id":10038621,"display_name":"Paresh Meal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1700592888,"creation_date":1554560397,"question_id":55549997,"body_markdown":"I have PDB file then i am converting it in file which gives dihedral angles.But now i had modified some angles and need to convert these modified angles again to a new pdb file.Is there any library for it?\r\n\r\nI had converted pdb to angles file using prody , biopython library.","title":"PDB files to angles to again converting in PDB format","body":"<p>I have PDB file then i am converting it in file which gives dihedral angles.But now i had modified some angles and need to convert these modified angles again to a new pdb file.Is there any library for it?</p>\n\n<p>I had converted pdb to angles file using prody , biopython library.</p>\n"},{"tags":["java","oop","static","nosuchelementexception"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700584937,"post_id":77523916,"comment_id":136671553,"body_markdown":"You would be better off using `nextLine()` than `nextDouble()` Try to think why","body":"You would be better off using <code>nextLine()</code> than <code>nextDouble()</code> Try to think why"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1700594714,"post_id":77523916,"comment_id":136673295,"body_markdown":"Don&#39;t post images of sample file data. Place them in your post.","body":"Don&#39;t post images of sample file data. Place them in your post."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700638184,"post_id":77523916,"comment_id":136677798,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25253053,"reputation":11,"user_id":19085249,"display_name":"Ryu Christian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700592064,"creation_date":1700579639,"question_id":77523916,"body_markdown":"Im trying to read out my text note from a text File, but it seems it fails to iterate towards the next line of code due to a NoSuchElementException. How do i fix this?\r\n\r\nI do apologize in advance, due to the lack of writing etiquette i have , due to me being new to this website. But nevertheless here is my code : \r\n\r\n```\r\npublic class Praktikum11_4 {\r\n    private Scanner input;\r\n   \r\n    public void membukaFile()\r\n    {\r\n        try {\r\n            input = new Scanner(new File(&quot;favouriteplace.txt&quot;));\r\n        }   catch(FileNotFoundException e)\r\n        {\r\n            System.err.print(&quot;File yang anda cari&quot; +\r\n                    &quot;Tidak ditemukkan&quot;);\r\n            System.exit(1);\r\n        }   catch(IllegalStateException e)\r\n        {\r\n            System.err.print(&quot;Error membaca File&quot;);\r\n        }\r\n        \r\n    }\r\n    \r\n    public void membacaData()\r\n    {\r\n        try{\r\n            while(input.hasNext())\r\n            {   \r\n                for (int i = 1 ; i &lt;= 7 ; i++ )\r\n                {\r\n                    // Scan the line\r\n                    String location = input.nextLine();\r\n                    double rating = input.nextDouble();\r\n                    System.out.printf(i+&quot;. &quot; + &quot;%s dengan rating %f\\n&quot;, location, rating);\r\n                }\r\n            }\r\n        }catch (NoSuchElementException e)\r\n        {\r\n            System.err.println(&quot;Element not found ERROR 101 &quot;);\r\n        }\r\n    }\r\n    \r\n    public void menutupFile()\r\n    {\r\n        if (input != null)\r\n        {\r\n            input.close();\r\n            System.out.print(&quot;File berhasil untuk ditutup&quot;);\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        \r\n    }\r\n    \r\n\r\n}\r\n```\r\n\r\nThis is the file im trying to iterate over and print towards the output Console:\r\n\r\n[File that consists of the data](https://i.stack.imgur.com/dJ2KC.png)](https://i.stack.imgur.com/dJ2KC.png)\r\n\r\nAnd this is the output i got : \r\n\r\nFive favourite place for UMN Student&#39;s\r\n======================================\r\n1. Bungkushin  dengan rating 4.300000\r\n\r\nElement not found ERROR 101 File berhasil untuk ditutup\r\n\r\n\r\nHence, this is the output that i am expecting: \r\n\r\n[Expected Output](https://i.stack.imgur.com/NtKv4.png)](https://i.stack.imgur.com/NtKv4.png)\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do i iterate and print out the next Line from my Text.txt to my output console in NetBeans?","body":"<p>Im trying to read out my text note from a text File, but it seems it fails to iterate towards the next line of code due to a NoSuchElementException. How do i fix this?</p>\n<p>I do apologize in advance, due to the lack of writing etiquette i have , due to me being new to this website. But nevertheless here is my code :</p>\n<pre><code>public class Praktikum11_4 {\n    private Scanner input;\n   \n    public void membukaFile()\n    {\n        try {\n            input = new Scanner(new File(&quot;favouriteplace.txt&quot;));\n        }   catch(FileNotFoundException e)\n        {\n            System.err.print(&quot;File yang anda cari&quot; +\n                    &quot;Tidak ditemukkan&quot;);\n            System.exit(1);\n        }   catch(IllegalStateException e)\n        {\n            System.err.print(&quot;Error membaca File&quot;);\n        }\n        \n    }\n    \n    public void membacaData()\n    {\n        try{\n            while(input.hasNext())\n            {   \n                for (int i = 1 ; i &lt;= 7 ; i++ )\n                {\n                    // Scan the line\n                    String location = input.nextLine();\n                    double rating = input.nextDouble();\n                    System.out.printf(i+&quot;. &quot; + &quot;%s dengan rating %f\\n&quot;, location, rating);\n                }\n            }\n        }catch (NoSuchElementException e)\n        {\n            System.err.println(&quot;Element not found ERROR 101 &quot;);\n        }\n    }\n    \n    public void menutupFile()\n    {\n        if (input != null)\n        {\n            input.close();\n            System.out.print(&quot;File berhasil untuk ditutup&quot;);\n        }\n    }\n    \n    public static void main(String[] args)\n    {\n        \n    }\n    \n\n}\n</code></pre>\n<p>This is the file im trying to iterate over and print towards the output Console:</p>\n<p><a href=\"https://i.stack.imgur.com/dJ2KC.png\" rel=\"nofollow noreferrer\">File that consists of the data</a>](<a href=\"https://i.stack.imgur.com/dJ2KC.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/dJ2KC.png</a>)</p>\n<p>And this is the output i got :</p>\n<h1>Five favourite place for UMN Student's</h1>\n<ol>\n<li>Bungkushin  dengan rating 4.300000</li>\n</ol>\n<p>Element not found ERROR 101 File berhasil untuk ditutup</p>\n<p>Hence, this is the output that i am expecting:</p>\n<p><a href=\"https://i.stack.imgur.com/NtKv4.png\" rel=\"nofollow noreferrer\">Expected Output</a>](<a href=\"https://i.stack.imgur.com/NtKv4.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/NtKv4.png</a>)</p>\n"},{"tags":["java","maven","cdi","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1687264948,"post_id":76514562,"comment_id":134909789,"body_markdown":"Does project A have the `beans.xml` file?","body":"Does project A have the <code>beans.xml</code> file?"}],"answers":[{"comments":[{"owner":{"account_id":15162,"reputation":1114,"user_id":31749,"accept_rate":88,"display_name":"Robert Ngetich"},"score":1,"creation_date":1700538452,"post_id":76515726,"comment_id":136664052,"body_markdown":"Either a typo or maybe I&#39;m misunderstanding the solution, shouldn&#39;t the 2nd pom in the example reference project-a as a dependency instead of project-b?","body":"Either a typo or maybe I&#39;m misunderstanding the solution, shouldn&#39;t the 2nd pom in the example reference project-a as a dependency instead of project-b?"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1700591974,"post_id":76515726,"comment_id":136672810,"body_markdown":"@RobertNgetich nice catch, thank you. It was just a typo in the xml snipped. I&#39;ve just fixed. Thanks again.","body":"@RobertNgetich nice catch, thank you. It was just a typo in the xml snipped. I&#39;ve just fixed. Thanks again."}],"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700591766,"creation_date":1687270853,"answer_id":76515726,"question_id":76514562,"body_markdown":"From the related [Quarkus guide](https://quarkus.io/guides/maven-tooling)\r\n\r\n&gt;By default, Quarkus will not discover CDI beans inside another module.&lt;br/&gt;&lt;br/&gt;\r\n&gt;The best way to enable CDI bean discovery for a module in a multi-module project would be to include the `jandex-maven-plugin`, unless it is the main application module already configured with the quarkus-maven-plugin, in which case it will be indexed automatically.\r\n\r\nIn project A you should generate the jandex.idx like:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project-a&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n&lt;!-- dependencies and others... --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-index&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jandex&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n&lt;!-- Other plugin configurations e.q. quarkus-maven-plugin... --&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nNow during `project B` build CDI bean which defined in `project A` will be available in `project B`. Just add `project A` as a dependency to `project B`\r\n\r\n```pom.xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project-b&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n&lt;!-- properties and managed dependencies --&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;project-a&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- other  dependencies --&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;!-- plugins, site configurations and so on --&gt;\r\n&lt;/project&gt;\r\n```","title":"Quarkus CDI not working when creating a library","body":"<p>From the related <a href=\"https://quarkus.io/guides/maven-tooling\" rel=\"nofollow noreferrer\">Quarkus guide</a></p>\n<blockquote>\n<p>By default, Quarkus will not discover CDI beans inside another module.<br/><br/>\nThe best way to enable CDI bean discovery for a module in a multi-module project would be to include the <code>jandex-maven-plugin</code>, unless it is the main application module already configured with the quarkus-maven-plugin, in which case it will be indexed automatically.</p>\n</blockquote>\n<p>In project A you should generate the jandex.idx like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project-a&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;!-- dependencies and others... --&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-index&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jandex&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n&lt;!-- Other plugin configurations e.q. quarkus-maven-plugin... --&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Now during <code>project B</code> build CDI bean which defined in <code>project A</code> will be available in <code>project B</code>. Just add <code>project A</code> as a dependency to <code>project B</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project-b&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;!-- properties and managed dependencies --&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;project-a&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- other  dependencies --&gt;\n    &lt;/dependencies&gt;\n\n    &lt;!-- plugins, site configurations and so on --&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76515726,"answer_count":1,"score":1,"last_activity_date":1700591766,"creation_date":1687263155,"question_id":76514562,"body_markdown":"I have two projects A and B in project B and i want to injcet a CDI bean from project A however, this fails due too\r\n\r\n&gt; java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: jakarta.enterprise.inject.spi.DeploymentException: jakarta.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type test.xml.filereader and qualifiers [@Default]\r\n        - java member: org.acme.hibernate.orm.XmlResource#fileReader\r\n        - declared on CLASS bean [types=[org.acme.hibernate.orm.XmlResource, java.lang.Object], qualifiers=[@Default, @Any], target=org.acme.hibernate.orm.XmlResource]\r\n\r\nProject A has a CDI bean like this\r\n\r\n```java\r\n@Slf4j\r\n@ApplicationScoped\r\npublic class FileReader {\r\n\r\n    @Inject\r\n    Configuration configuration;\r\n\r\n    public void testCDIInject() {\r\n    }\r\n    \r\n}\r\n```\r\n\r\nproject B wants to use this\r\n\r\n```java\r\n\r\n@Path(&quot;/test&quot;)\r\npublic class XmlResource {\r\n\r\n  @Inject\r\n  FileReader fileReader;\r\n\r\n  @GET\r\n  public String get() {\r\n    fileReader.testCDIInject();\r\n    return &quot;asdf&quot;;\r\n  }\r\n}\r\n\r\n```\r\n\r\nfor some reason i get the error above. why?\r\n\r\ni install project A with `mvn clean install -U`\r\n\r\nand have it in project Bs pom.xml\r\n","title":"Quarkus CDI not working when creating a library","body":"<p>I have two projects A and B in project B and i want to injcet a CDI bean from project A however, this fails due too</p>\n<blockquote>\n<p>java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: jakarta.enterprise.inject.spi.DeploymentException: jakarta.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type test.xml.filereader and qualifiers [@Default]\n- java member: org.acme.hibernate.orm.XmlResource#fileReader\n- declared on CLASS bean [types=[org.acme.hibernate.orm.XmlResource, java.lang.Object], qualifiers=[@Default, @Any], target=org.acme.hibernate.orm.XmlResource]</p>\n</blockquote>\n<p>Project A has a CDI bean like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@ApplicationScoped\npublic class FileReader {\n\n    @Inject\n    Configuration configuration;\n\n    public void testCDIInject() {\n    }\n    \n}\n</code></pre>\n<p>project B wants to use this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Path(&quot;/test&quot;)\npublic class XmlResource {\n\n  @Inject\n  FileReader fileReader;\n\n  @GET\n  public String get() {\n    fileReader.testCDIInject();\n    return &quot;asdf&quot;;\n  }\n}\n\n</code></pre>\n<p>for some reason i get the error above. why?</p>\n<p>i install project A with <code>mvn clean install -U</code></p>\n<p>and have it in project Bs pom.xml</p>\n"},{"tags":["java","google-cloud-firestore"],"comments":[{"owner":{"account_id":1173964,"reputation":698,"user_id":1150425,"display_name":"rdiachenko"},"score":0,"creation_date":1699912360,"post_id":77476642,"comment_id":136588143,"body_markdown":"It appears that you are using the `grpc` dependency, which is incompatible with the version used by `google-cloud-firestore`. You can inspect the dependency tree using `mvn dependency:tree` and consider upgrading to a newer version of `google-cloud-firestore`. Otherwise, if `grpc` is included as a transitive dependency from another library, you may try exclude it, or if you are using `grpc` as a direct dependency, ensure it has a compatible version with `google-cloud-firestore`.","body":"It appears that you are using the <code>grpc</code> dependency, which is incompatible with the version used by <code>google-cloud-firestore</code>. You can inspect the dependency tree using <code>mvn dependency:tree</code> and consider upgrading to a newer version of <code>google-cloud-firestore</code>. Otherwise, if <code>grpc</code> is included as a transitive dependency from another library, you may try exclude it, or if you are using <code>grpc</code> as a direct dependency, ensure it has a compatible version with <code>google-cloud-firestore</code>."},{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1699915079,"post_id":77476642,"comment_id":136588535,"body_markdown":"Firebase Admin is just a wrapper around (and depends upon) Google Cloud libraries.  It&#39;s never a dependency.","body":"Firebase Admin is just a wrapper around (and depends upon) Google Cloud libraries.  It&#39;s never a dependency."},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1699947874,"post_id":77476642,"comment_id":136591382,"body_markdown":"@rdiachenko I add the tree, but i don&#39;t know which library I have to exclude.","body":"@rdiachenko I add the tree, but i don&#39;t know which library I have to exclude."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1699981503,"post_id":77476642,"comment_id":136597781,"body_markdown":"@Qeychon, please check this [dependency](https://github.com/googleapis/java-firestore/tree/main#quickstart:~:text=%3E%0A%20%20%3C/dependency%3E-,If,-you%20are%20using) if you are using Maven without the BOM.","body":"@Qeychon, please check this <a href=\"https://github.com/googleapis/java-firestore/tree/main#quickstart:~:text=%3E%0A%20%20%3C/dependency%3E-,If,-you%20are%20using\" rel=\"nofollow noreferrer\">dependency</a> if you are using Maven without the BOM."},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1699994729,"post_id":77476642,"comment_id":136599908,"body_markdown":"@RobertG I use a Plugin to analyze the maven dependency conflicts, so I exclude from a dependency io.grpc:grpc now it works. Thank you","body":"@RobertG I use a Plugin to analyze the maven dependency conflicts, so I exclude from a dependency io.grpc:grpc now it works. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700497002,"creation_date":1700497002,"answer_id":77517423,"question_id":77476642,"body_markdown":"Posting as a community wiki based on @Qeychon&#39;s comment:\r\n\r\n&gt; I use a Plugin to analyze the maven dependency conflicts, so I exclude from a dependency `io.grpc:grpc`, now it works.","title":"Firestore throws NoClassDefFoundError","body":"<p>Posting as a community wiki based on @Qeychon's comment:</p>\n<blockquote>\n<p>I use a Plugin to analyze the maven dependency conflicts, so I exclude from a dependency <code>io.grpc:grpc</code>, now it works.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700591688,"creation_date":1700591688,"answer_id":77525182,"question_id":77476642,"body_markdown":"Some of your dependencies are causing downgrades of dependencies. There is a mix of 1.55.1, 1.44.1, 1.30.2, but the 1.30.2 is for grpc-core which is used by the packages that are at 1.55.1.\r\n\r\nIt is not generally safe to downgrade dependencies. Enable Maven Enforcer&#39;s requireUpperBoundDeps:\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;enforce&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;rules&gt;\r\n                &lt;requireUpperBoundDeps/&gt;\r\n              &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nThen, for any failures it finds during the build, add an explicit dependency to your build to force Maven to use the newer version. Sometimes reordering your dependencies can reduce the number of failures, putting newer dependencies at nearer the top.","title":"Firestore throws NoClassDefFoundError","body":"<p>Some of your dependencies are causing downgrades of dependencies. There is a mix of 1.55.1, 1.44.1, 1.30.2, but the 1.30.2 is for grpc-core which is used by the packages that are at 1.55.1.</p>\n<p>It is not generally safe to downgrade dependencies. Enable Maven Enforcer's requireUpperBoundDeps:</p>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;enforce&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;requireUpperBoundDeps/&gt;\n              &lt;/rules&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>Then, for any failures it finds during the build, add an explicit dependency to your build to force Maven to use the newer version. Sometimes reordering your dependencies can reduce the number of failures, putting newer dependencies at nearer the top.</p>\n"}],"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700591688,"creation_date":1699906972,"question_id":77476642,"body_markdown":"I try to implement and test the example code from google page https://cloud.google.com/firestore/docs/create-database-server-client-library \r\n\r\nso I use the dependency:\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n         &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\r\n         &lt;version&gt;3.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nan my code is:\r\n```\r\nFirestoreOptions firestoreOptions =\r\n    FirestoreOptions.getDefaultInstance().toBuilder()\r\n        .setProjectId(projectId)\r\n        .setCredentials(GoogleCredentials.getApplicationDefault())\r\n        .build();\r\nFirestore db = firestoreOptions.getService(); // &lt;--- Exceptions\r\n```\r\nThan I just received the exception:\r\n\r\n&gt; java.lang.NoClassDefFoundError: io/grpc/internal/ManagedChannelImplBuilder$ChannelBuilderDefaultPortProvider\r\n\r\nIt seems like the need an additional dependency, so I thought maybe the admin dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n        &lt;version&gt;9.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut nothing changed. \r\nI also use the firebase admin and when I check the dependency I see the firebase admin use the the same library io gprc.\r\n\r\nmy mvn tree:\r\n```\r\n[INFO] --- dependency:3.6.0:tree (default-cli) @ alpha-editor ---\r\n[INFO] test.project.alpha:alpha-editor:jar:1.0-SNAPSHOT\r\n[INFO] +- io.vertx:vertx-health-check:jar:4.3.7:compile\r\n[INFO] |  +- io.vertx:vertx-core:jar:4.3.7:compile\r\n[INFO] |  |  +- io.netty:netty-common:jar:4.1.86.Final:compile\r\n[INFO] |  |  +- io.netty:netty-buffer:jar:4.1.86.Final:compile\r\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.86.Final:compile\r\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.86.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.86.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.86.Final:compile\r\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.86.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.86.Final:compile\r\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.86.Final:compile\r\n[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.86.Final:compile\r\n[INFO] |  |  +- io.netty:netty-resolver:jar:4.1.86.Final:compile\r\n[INFO] |  |  +- io.netty:netty-resolver-dns:jar:4.1.86.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-codec-dns:jar:4.1.86.Final:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.0:compile\r\n[INFO] |  +- io.vertx:vertx-web:jar:4.3.7:compile\r\n[INFO] |  |  +- io.vertx:vertx-web-common:jar:4.3.7:compile\r\n[INFO] |  |  \\- io.vertx:vertx-bridge-common:jar:4.3.7:compile\r\n[INFO] |  \\- io.vertx:vertx-auth-common:jar:4.3.7:compile\r\n[INFO] +- io.jsonwebtoken:jjwt:jar:0.9.1:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.9.6:compile\r\n[INFO] |     \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.0:compile\r\n[INFO] +- test.project:core:jar:1.0-SNAPSHOT:compile\r\n[INFO] |  +- org.projectlombok:lombok:jar:1.18.24:compile\r\n[INFO] |  +- org.jetbrains:annotations:jar:23.1.0:compile\r\n[INFO] |  +- one.microstream:microstream-storage-embedded:jar:08.01.01-MS-GA:compile\r\n[INFO] |  |  \\- one.microstream:microstream-storage:jar:08.01.01-MS-GA:compile\r\n[INFO] |  |     +- one.microstream:microstream-afs-nio:jar:08.01.01-MS-GA:compile\r\n[INFO] |  |     \\- one.microstream:microstream-persistence-binary:jar:08.01.01-MS-GA:compile\r\n[INFO] |  |        \\- one.microstream:microstream-persistence:jar:08.01.01-MS-GA:compile\r\n[INFO] |  +- one.microstream:microstream-storage-embedded-configuration:jar:08.01.01-MS-GA:compile\r\n[INFO] |  |  \\- one.microstream:microstream-configuration:jar:08.01.01-MS-GA:compile\r\n[INFO] |  |     \\- one.microstream:microstream-base:jar:08.01.01-MS-GA:compile\r\n[INFO] |  +- one.microstream:microstream-afs-googlecloud-firestore:jar:08.01.01-MS-GA:compile\r\n[INFO] |  |  +- com.google.cloud:google-cloud-firestore:jar:3.0.17:compile\r\n[INFO] |  |  |  +- com.google.cloud:google-cloud-core-grpc:jar:2.5.6:compile\r\n[INFO] |  |  |  +- com.google.android:annotations:jar:4.1.1.4:runtime\r\n[INFO] |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  |  |  +- commons-logging:commons-logging:jar:1.2:compile\r\n[INFO] |  |  |  +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.15:compile\r\n[INFO] |  |  |  +- io.opencensus:opencensus-contrib-http-util:jar:0.31.0:compile\r\n[INFO] |  |  |  +- com.google.api.grpc:proto-google-cloud-firestore-v1:jar:3.0.17:compile\r\n[INFO] |  |  |  +- com.google.cloud:proto-google-cloud-firestore-bundle-v1:jar:3.0.17:compile\r\n[INFO] |  |  |  +- com.google.auto.value:auto-value-annotations:jar:1.9:compile\r\n[INFO] |  |  |  +- io.opencensus:opencensus-contrib-grpc-util:jar:0.31.0:compile\r\n[INFO] |  |  |  +- javax.annotation:javax.annotation-api:jar:1.3.2:compile\r\n[INFO] |  |  |  +- io.grpc:grpc-protobuf:jar:1.44.1:compile\r\n[INFO] |  |  |  +- io.grpc:grpc-protobuf-lite:jar:1.44.1:compile\r\n[INFO] |  |  |  +- io.grpc:grpc-context:jar:1.44.1:compile\r\n[INFO] |  |  |  +- com.google.protobuf:protobuf-java:jar:3.19.4:compile\r\n[INFO] |  |  |  +- com.google.api.grpc:proto-google-common-protos:jar:2.7.4:compile\r\n[INFO] |  |  |  +- com.google.api:gax:jar:2.12.2:compile\r\n[INFO] |  |  |  +- com.google.api:gax-grpc:jar:2.12.2:compile\r\n[INFO] |  |  |  +- io.grpc:grpc-alts:jar:1.44.1:compile\r\n[INFO] |  |  |  +- io.grpc:grpc-grpclb:jar:1.44.1:compile\r\n[INFO] |  |  |  +- org.conscrypt:conscrypt-openjdk-uber:jar:2.5.1:compile\r\n[INFO] |  |  |  +- io.grpc:grpc-auth:jar:1.44.1:compile\r\n[INFO] |  |  |  +- io.grpc:grpc-netty-shaded:jar:1.44.1:runtime\r\n[INFO] |  |  |  +- io.grpc:grpc-xds:jar:1.44.1:runtime\r\n[INFO] |  |  |  +- io.grpc:grpc-services:jar:1.44.1:runtime\r\n[INFO] |  |  |  +- com.google.re2j:re2j:jar:1.5:runtime\r\n[INFO] |  |  |  +- org.bouncycastle:bcpkix-jdk15on:jar:1.67:runtime\r\n[INFO] |  |  |  +- org.bouncycastle:bcprov-jdk15on:jar:1.67:runtime\r\n[INFO] |  |  |  +- io.opencensus:opencensus-proto:jar:0.2.0:runtime\r\n[INFO] |  |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n[INFO] |  |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n[INFO] |  |  |  +- org.checkerframework:checker-qual:jar:3.21.3:compile\r\n[INFO] |  |  |  +- com.google.j2objc:j2objc-annotations:jar:1.3:compile\r\n[INFO] |  |  |  +- org.threeten:threetenbp:jar:1.5.2:compile\r\n[INFO] |  |  |  +- io.grpc:grpc-stub:jar:1.44.1:compile\r\n[INFO] |  |  |  +- io.opencensus:opencensus-api:jar:0.31.0:compile\r\n[INFO] |  |  |  +- com.google.auth:google-auth-library-credentials:jar:1.5.3:compile\r\n[INFO] |  |  |  +- com.google.cloud:google-cloud-core:jar:2.5.6:compile\r\n[INFO] |  |  |  +- com.google.api.grpc:proto-google-iam-v1:jar:1.2.6:compile\r\n[INFO] |  |  |  +- com.google.http-client:google-http-client-gson:jar:1.41.4:compile\r\n[INFO] |  |  |  +- com.google.code.gson:gson:jar:2.9.0:compile\r\n[INFO] |  |  |  \\- com.google.protobuf:protobuf-java-util:jar:3.19.4:compile\r\n[INFO] |  |  \\- one.microstream:microstream-afs-blobstore:jar:08.01.01-MS-GA:compile\r\n[INFO] |  |     \\- one.microstream:microstream-afs:jar:08.01.01-MS-GA:compile\r\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.4.0-b180830.0359:compile\r\n[INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.19.0:compile\r\n[INFO] |  |  +- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-core:jar:2.19.0:runtime\r\n[INFO] |  +- io.vertx:vertx-hazelcast:jar:4.4.2:compile\r\n[INFO] |  |  \\- com.hazelcast:hazelcast:jar:4.2.7:compile\r\n[INFO] |  +- com.google.firebase:firebase-admin:jar:9.2.0:compile\r\n[INFO] |  |  +- com.google.api-client:google-api-client:jar:2.2.0:compile\r\n[INFO] |  |  |  +- com.google.oauth-client:google-oauth-client:jar:1.34.1:compile\r\n[INFO] |  |  |  \\- com.google.http-client:google-http-client-apache-v2:jar:1.42.3:compile\r\n[INFO] |  |  +- com.google.api-client:google-api-client-gson:jar:2.2.0:compile\r\n[INFO] |  |  +- com.google.http-client:google-http-client:jar:1.43.1:compile\r\n[INFO] |  |  +- com.google.api:api-common:jar:2.12.0:compile\r\n[INFO] |  |  +- com.google.auth:google-auth-library-oauth2-http:jar:1.17.0:compile\r\n[INFO] |  |  +- com.google.cloud:google-cloud-storage:jar:2.22.4:compile\r\n[INFO] |  |  |  +- com.google.http-client:google-http-client-jackson2:jar:1.43.1:compile\r\n[INFO] |  |  |  +- com.google.apis:google-api-services-storage:jar:v1-rev20230301-2.0.0:compile\r\n[INFO] |  |  |  +- com.google.cloud:google-cloud-core-http:jar:2.19.0:compile\r\n[INFO] |  |  |  +- com.google.http-client:google-http-client-appengine:jar:1.43.1:compile\r\n[INFO] |  |  |  +- com.google.api:gax-httpjson:jar:0.114.0:compile\r\n[INFO] |  |  |  +- com.google.api.grpc:proto-google-cloud-storage-v2:jar:2.22.4-alpha:compile\r\n[INFO] |  |  |  +- com.google.api.grpc:grpc-google-cloud-storage-v2:jar:2.22.4-alpha:compile\r\n[INFO] |  |  |  +- com.google.api.grpc:gapic-google-cloud-storage-v2:jar:2.22.4-alpha:compile\r\n[INFO] |  |  |  +- io.grpc:grpc-googleapis:jar:1.55.1:runtime\r\n[INFO] |  |  |  \\- io.grpc:grpc-rls:jar:1.55.1:runtime\r\n[INFO] |  |  \\- com.google.guava:guava:jar:31.1-jre:compile\r\n[INFO] |  \\- io.grpc:grpc-okhttp:jar:1.30.2:compile\r\n[INFO] |     +- io.grpc:grpc-core:jar:1.30.2:compile\r\n[INFO] |     |  \\- io.grpc:grpc-api:jar:1.30.2:compile\r\n[INFO] |     +- com.squareup.okhttp:okhttp:jar:2.7.4:compile\r\n[INFO] |     +- com.squareup.okio:okio:jar:1.13.0:runtime\r\n[INFO] |     +- com.google.errorprone:error_prone_annotations:jar:2.3.4:compile\r\n[INFO] |     +- io.perfmark:perfmark-api:jar:0.19.0:runtime\r\n[INFO] |     +- org.codehaus.mojo:animal-sniffer-annotations:jar:1.18:runtime\r\n[INFO] |     \\- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] +- org.testng:testng:jar:7.7.0:test\r\n[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.36:compile\r\n[INFO] |  +- com.beust:jcommander:jar:1.82:test\r\n[INFO] |  \\- org.webjars:jquery:jar:3.6.1:test\r\n[INFO] +- org.freemarker:freemarker:jar:2.3.31:compile\r\n[INFO] +- org.apache.commons:commons-csv:jar:1.9.0:compile\r\n[INFO] +- io.vertx:vertx-junit5:jar:4.3.7:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n[INFO] |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |  |  \\- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n[INFO] |  \\- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n[INFO] +- org.junit.jupiter:junit-jupiter-engine:jar:5.7.0:test\r\n[INFO] |  +- org.apiguardian:apiguardian-api:jar:1.1.0:test\r\n[INFO] |  \\- org.junit.platform:junit-platform-engine:jar:1.7.0:test\r\n[INFO] +- org.mockito:mockito-core:jar:5.4.0:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.14.5:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.5:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\r\n[INFO] \\- org.javatuples:javatuples:jar:1.2:compile\r\n```\r\nDoes someone knows why I receive the exceptions?","title":"Firestore throws NoClassDefFoundError","body":"<p>I try to implement and test the example code from google page <a href=\"https://cloud.google.com/firestore/docs/create-database-server-client-library\" rel=\"nofollow noreferrer\">https://cloud.google.com/firestore/docs/create-database-server-client-library</a></p>\n<p>so I use the dependency:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n     &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\n     &lt;version&gt;3.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>an my code is:</p>\n<pre><code>FirestoreOptions firestoreOptions =\n    FirestoreOptions.getDefaultInstance().toBuilder()\n        .setProjectId(projectId)\n        .setCredentials(GoogleCredentials.getApplicationDefault())\n        .build();\nFirestore db = firestoreOptions.getService(); // &lt;--- Exceptions\n</code></pre>\n<p>Than I just received the exception:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: io/grpc/internal/ManagedChannelImplBuilder$ChannelBuilderDefaultPortProvider</p>\n</blockquote>\n<p>It seems like the need an additional dependency, so I thought maybe the admin dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n    &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n    &lt;version&gt;9.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but nothing changed.\nI also use the firebase admin and when I check the dependency I see the firebase admin use the the same library io gprc.</p>\n<p>my mvn tree:</p>\n<pre><code>[INFO] --- dependency:3.6.0:tree (default-cli) @ alpha-editor ---\n[INFO] test.project.alpha:alpha-editor:jar:1.0-SNAPSHOT\n[INFO] +- io.vertx:vertx-health-check:jar:4.3.7:compile\n[INFO] |  +- io.vertx:vertx-core:jar:4.3.7:compile\n[INFO] |  |  +- io.netty:netty-common:jar:4.1.86.Final:compile\n[INFO] |  |  +- io.netty:netty-buffer:jar:4.1.86.Final:compile\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.86.Final:compile\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.86.Final:compile\n[INFO] |  |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.86.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.86.Final:compile\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.86.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.86.Final:compile\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.86.Final:compile\n[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.86.Final:compile\n[INFO] |  |  +- io.netty:netty-resolver:jar:4.1.86.Final:compile\n[INFO] |  |  +- io.netty:netty-resolver-dns:jar:4.1.86.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec-dns:jar:4.1.86.Final:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.0:compile\n[INFO] |  +- io.vertx:vertx-web:jar:4.3.7:compile\n[INFO] |  |  +- io.vertx:vertx-web-common:jar:4.3.7:compile\n[INFO] |  |  \\- io.vertx:vertx-bridge-common:jar:4.3.7:compile\n[INFO] |  \\- io.vertx:vertx-auth-common:jar:4.3.7:compile\n[INFO] +- io.jsonwebtoken:jjwt:jar:0.9.1:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-databind:jar:2.9.6:compile\n[INFO] |     \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.0:compile\n[INFO] +- test.project:core:jar:1.0-SNAPSHOT:compile\n[INFO] |  +- org.projectlombok:lombok:jar:1.18.24:compile\n[INFO] |  +- org.jetbrains:annotations:jar:23.1.0:compile\n[INFO] |  +- one.microstream:microstream-storage-embedded:jar:08.01.01-MS-GA:compile\n[INFO] |  |  \\- one.microstream:microstream-storage:jar:08.01.01-MS-GA:compile\n[INFO] |  |     +- one.microstream:microstream-afs-nio:jar:08.01.01-MS-GA:compile\n[INFO] |  |     \\- one.microstream:microstream-persistence-binary:jar:08.01.01-MS-GA:compile\n[INFO] |  |        \\- one.microstream:microstream-persistence:jar:08.01.01-MS-GA:compile\n[INFO] |  +- one.microstream:microstream-storage-embedded-configuration:jar:08.01.01-MS-GA:compile\n[INFO] |  |  \\- one.microstream:microstream-configuration:jar:08.01.01-MS-GA:compile\n[INFO] |  |     \\- one.microstream:microstream-base:jar:08.01.01-MS-GA:compile\n[INFO] |  +- one.microstream:microstream-afs-googlecloud-firestore:jar:08.01.01-MS-GA:compile\n[INFO] |  |  +- com.google.cloud:google-cloud-firestore:jar:3.0.17:compile\n[INFO] |  |  |  +- com.google.cloud:google-cloud-core-grpc:jar:2.5.6:compile\n[INFO] |  |  |  +- com.google.android:annotations:jar:4.1.1.4:runtime\n[INFO] |  |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  |  |  +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |  |  |  +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.15:compile\n[INFO] |  |  |  +- io.opencensus:opencensus-contrib-http-util:jar:0.31.0:compile\n[INFO] |  |  |  +- com.google.api.grpc:proto-google-cloud-firestore-v1:jar:3.0.17:compile\n[INFO] |  |  |  +- com.google.cloud:proto-google-cloud-firestore-bundle-v1:jar:3.0.17:compile\n[INFO] |  |  |  +- com.google.auto.value:auto-value-annotations:jar:1.9:compile\n[INFO] |  |  |  +- io.opencensus:opencensus-contrib-grpc-util:jar:0.31.0:compile\n[INFO] |  |  |  +- javax.annotation:javax.annotation-api:jar:1.3.2:compile\n[INFO] |  |  |  +- io.grpc:grpc-protobuf:jar:1.44.1:compile\n[INFO] |  |  |  +- io.grpc:grpc-protobuf-lite:jar:1.44.1:compile\n[INFO] |  |  |  +- io.grpc:grpc-context:jar:1.44.1:compile\n[INFO] |  |  |  +- com.google.protobuf:protobuf-java:jar:3.19.4:compile\n[INFO] |  |  |  +- com.google.api.grpc:proto-google-common-protos:jar:2.7.4:compile\n[INFO] |  |  |  +- com.google.api:gax:jar:2.12.2:compile\n[INFO] |  |  |  +- com.google.api:gax-grpc:jar:2.12.2:compile\n[INFO] |  |  |  +- io.grpc:grpc-alts:jar:1.44.1:compile\n[INFO] |  |  |  +- io.grpc:grpc-grpclb:jar:1.44.1:compile\n[INFO] |  |  |  +- org.conscrypt:conscrypt-openjdk-uber:jar:2.5.1:compile\n[INFO] |  |  |  +- io.grpc:grpc-auth:jar:1.44.1:compile\n[INFO] |  |  |  +- io.grpc:grpc-netty-shaded:jar:1.44.1:runtime\n[INFO] |  |  |  +- io.grpc:grpc-xds:jar:1.44.1:runtime\n[INFO] |  |  |  +- io.grpc:grpc-services:jar:1.44.1:runtime\n[INFO] |  |  |  +- com.google.re2j:re2j:jar:1.5:runtime\n[INFO] |  |  |  +- org.bouncycastle:bcpkix-jdk15on:jar:1.67:runtime\n[INFO] |  |  |  +- org.bouncycastle:bcprov-jdk15on:jar:1.67:runtime\n[INFO] |  |  |  +- io.opencensus:opencensus-proto:jar:0.2.0:runtime\n[INFO] |  |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO] |  |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO] |  |  |  +- org.checkerframework:checker-qual:jar:3.21.3:compile\n[INFO] |  |  |  +- com.google.j2objc:j2objc-annotations:jar:1.3:compile\n[INFO] |  |  |  +- org.threeten:threetenbp:jar:1.5.2:compile\n[INFO] |  |  |  +- io.grpc:grpc-stub:jar:1.44.1:compile\n[INFO] |  |  |  +- io.opencensus:opencensus-api:jar:0.31.0:compile\n[INFO] |  |  |  +- com.google.auth:google-auth-library-credentials:jar:1.5.3:compile\n[INFO] |  |  |  +- com.google.cloud:google-cloud-core:jar:2.5.6:compile\n[INFO] |  |  |  +- com.google.api.grpc:proto-google-iam-v1:jar:1.2.6:compile\n[INFO] |  |  |  +- com.google.http-client:google-http-client-gson:jar:1.41.4:compile\n[INFO] |  |  |  +- com.google.code.gson:gson:jar:2.9.0:compile\n[INFO] |  |  |  \\- com.google.protobuf:protobuf-java-util:jar:3.19.4:compile\n[INFO] |  |  \\- one.microstream:microstream-afs-blobstore:jar:08.01.01-MS-GA:compile\n[INFO] |  |     \\- one.microstream:microstream-afs:jar:08.01.01-MS-GA:compile\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.4.0-b180830.0359:compile\n[INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.19.0:compile\n[INFO] |  |  +- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-core:jar:2.19.0:runtime\n[INFO] |  +- io.vertx:vertx-hazelcast:jar:4.4.2:compile\n[INFO] |  |  \\- com.hazelcast:hazelcast:jar:4.2.7:compile\n[INFO] |  +- com.google.firebase:firebase-admin:jar:9.2.0:compile\n[INFO] |  |  +- com.google.api-client:google-api-client:jar:2.2.0:compile\n[INFO] |  |  |  +- com.google.oauth-client:google-oauth-client:jar:1.34.1:compile\n[INFO] |  |  |  \\- com.google.http-client:google-http-client-apache-v2:jar:1.42.3:compile\n[INFO] |  |  +- com.google.api-client:google-api-client-gson:jar:2.2.0:compile\n[INFO] |  |  +- com.google.http-client:google-http-client:jar:1.43.1:compile\n[INFO] |  |  +- com.google.api:api-common:jar:2.12.0:compile\n[INFO] |  |  +- com.google.auth:google-auth-library-oauth2-http:jar:1.17.0:compile\n[INFO] |  |  +- com.google.cloud:google-cloud-storage:jar:2.22.4:compile\n[INFO] |  |  |  +- com.google.http-client:google-http-client-jackson2:jar:1.43.1:compile\n[INFO] |  |  |  +- com.google.apis:google-api-services-storage:jar:v1-rev20230301-2.0.0:compile\n[INFO] |  |  |  +- com.google.cloud:google-cloud-core-http:jar:2.19.0:compile\n[INFO] |  |  |  +- com.google.http-client:google-http-client-appengine:jar:1.43.1:compile\n[INFO] |  |  |  +- com.google.api:gax-httpjson:jar:0.114.0:compile\n[INFO] |  |  |  +- com.google.api.grpc:proto-google-cloud-storage-v2:jar:2.22.4-alpha:compile\n[INFO] |  |  |  +- com.google.api.grpc:grpc-google-cloud-storage-v2:jar:2.22.4-alpha:compile\n[INFO] |  |  |  +- com.google.api.grpc:gapic-google-cloud-storage-v2:jar:2.22.4-alpha:compile\n[INFO] |  |  |  +- io.grpc:grpc-googleapis:jar:1.55.1:runtime\n[INFO] |  |  |  \\- io.grpc:grpc-rls:jar:1.55.1:runtime\n[INFO] |  |  \\- com.google.guava:guava:jar:31.1-jre:compile\n[INFO] |  \\- io.grpc:grpc-okhttp:jar:1.30.2:compile\n[INFO] |     +- io.grpc:grpc-core:jar:1.30.2:compile\n[INFO] |     |  \\- io.grpc:grpc-api:jar:1.30.2:compile\n[INFO] |     +- com.squareup.okhttp:okhttp:jar:2.7.4:compile\n[INFO] |     +- com.squareup.okio:okio:jar:1.13.0:runtime\n[INFO] |     +- com.google.errorprone:error_prone_annotations:jar:2.3.4:compile\n[INFO] |     +- io.perfmark:perfmark-api:jar:0.19.0:runtime\n[INFO] |     +- org.codehaus.mojo:animal-sniffer-annotations:jar:1.18:runtime\n[INFO] |     \\- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] +- org.testng:testng:jar:7.7.0:test\n[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.36:compile\n[INFO] |  +- com.beust:jcommander:jar:1.82:test\n[INFO] |  \\- org.webjars:jquery:jar:3.6.1:test\n[INFO] +- org.freemarker:freemarker:jar:2.3.31:compile\n[INFO] +- org.apache.commons:commons-csv:jar:1.9.0:compile\n[INFO] +- io.vertx:vertx-junit5:jar:4.3.7:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n[INFO] |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  \\- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n[INFO] |  \\- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n[INFO] +- org.junit.jupiter:junit-jupiter-engine:jar:5.7.0:test\n[INFO] |  +- org.apiguardian:apiguardian-api:jar:1.1.0:test\n[INFO] |  \\- org.junit.platform:junit-platform-engine:jar:1.7.0:test\n[INFO] +- org.mockito:mockito-core:jar:5.4.0:test\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.14.5:test\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.5:test\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO] \\- org.javatuples:javatuples:jar:1.2:compile\n</code></pre>\n<p>Does someone knows why I receive the exceptions?</p>\n"},{"tags":["java","multithreading","threadpool","executorservice","thread-dump"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1466621128,"post_id":37975659,"comment_id":63398229,"body_markdown":"What do you mean, &quot;responsible for draining messages from a queue?&quot;  You are constructing a very ordinary looking `ThreadPoolExecutor` here.  You pass it an explicit `ThreadFactory`, but the only thing your `ThreadFactory` does differently from the default thread factory is it gives each new thread a special name.","body":"What do you mean, &quot;responsible for draining messages from a queue?&quot;  You are constructing a very ordinary looking <code>ThreadPoolExecutor</code> here.  You pass it an explicit <code>ThreadFactory</code>, but the only thing your <code>ThreadFactory</code> does differently from the default thread factory is it gives each new thread a special name."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1466621373,"creation_date":1466620991,"answer_id":37975966,"question_id":37975659,"body_markdown":"The thread is waiting because the queue is empty.  That&#39;s what pool threads do:  They pick tasks from the queue and run them, and when the queue is empty, they wait.\r\n\r\n------------------------------\r\n\r\nEdit:  There&#39;s something else that _can_ happen when the queue is empty:  The `ThreadPoolExecutor` can send in a poison pill message that causes a pool thread to die if the number of workers has been greater than the `corePoolSize` for more than `keepAlive` time units.  That won&#39;t happen in your case though because you set the `maximumPoolSize` and the `corePoolSize` to the same number (1).\r\n\r\n------------------------\r\n\r\nI don&#39;t expect your `ThreadPoolExecutor` to behave any differently from the one that would be returned by `Executors.newFixedThreadPool(1)` except that yours can only have one pending task, and it gives the pool thread a special name. ","title":"What could be the reason for thread to be parked at java.util.concurrent.ThreadPoolExecutor.getTask","body":"<p>The thread is waiting because the queue is empty.  That's what pool threads do:  They pick tasks from the queue and run them, and when the queue is empty, they wait.</p>\n\n<hr>\n\n<p>Edit:  There's something else that <em>can</em> happen when the queue is empty:  The <code>ThreadPoolExecutor</code> can send in a poison pill message that causes a pool thread to die if the number of workers has been greater than the <code>corePoolSize</code> for more than <code>keepAlive</code> time units.  That won't happen in your case though because you set the <code>maximumPoolSize</code> and the <code>corePoolSize</code> to the same number (1).</p>\n\n<hr>\n\n<p>I don't expect your <code>ThreadPoolExecutor</code> to behave any differently from the one that would be returned by <code>Executors.newFixedThreadPool(1)</code> except that yours can only have one pending task, and it gives the pool thread a special name. </p>\n"}],"owner":{"account_id":897357,"reputation":633,"user_id":934329,"accept_rate":100,"display_name":"Naresh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4569,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37975966,"answer_count":1,"score":5,"last_activity_date":1700591661,"creation_date":1466619926,"question_id":37975659,"body_markdown":"I have an executor which is responsible for consuming messages from a ArrayBlockingQueue. \r\n\r\n    new ThreadPoolExecutor(1, 1, 0L,\r\n                    TimeUnit.MILLISECONDS,\r\n                    new LinkedBlockingQueue&lt;&gt;(1),  \r\n                    r -&gt; {\r\n                        return new Thread(r, &quot;Request-Queue-Drainer&quot;);\r\n                    });\r\n\r\nRequest-Queue-Drainer thread is in WAITING state (Though tasks are being submitted to this thread). The following is the thread-dump. \r\n\r\n\r\n    Name: Request-Queue-Drainer\r\n    State: WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5b4757a2\r\n    Total blocked: 0  Total waited: 8\r\n    \r\n    Stack trace: \r\n    sun.misc.Unsafe.park(Native Method)\r\n    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n    java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n    java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\r\n    java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    java.lang.Thread.run(Thread.java:745)\r\n\r\nWhat could be the reason for the thread to be in waiting status? ","title":"What could be the reason for thread to be parked at java.util.concurrent.ThreadPoolExecutor.getTask","body":"<p>I have an executor which is responsible for consuming messages from a ArrayBlockingQueue. </p>\n\n<pre><code>new ThreadPoolExecutor(1, 1, 0L,\n                TimeUnit.MILLISECONDS,\n                new LinkedBlockingQueue&lt;&gt;(1),  \n                r -&gt; {\n                    return new Thread(r, \"Request-Queue-Drainer\");\n                });\n</code></pre>\n\n<p>Request-Queue-Drainer thread is in WAITING state (Though tasks are being submitted to this thread). The following is the thread-dump. </p>\n\n<pre><code>Name: Request-Queue-Drainer\nState: WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@5b4757a2\nTotal blocked: 0  Total waited: 8\n\nStack trace: \nsun.misc.Unsafe.park(Native Method)\njava.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\njava.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\njava.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\njava.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\njava.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>What could be the reason for the thread to be in waiting status? </p>\n"},{"tags":["java","android","eclipse","logcat"],"comments":[{"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"score":0,"creation_date":1415228812,"post_id":26768663,"comment_id":42118314,"body_markdown":"post your AndroidManifest.xml","body":"post your AndroidManifest.xml"}],"answers":[{"comments":[{"owner":{"account_id":4844388,"reputation":95,"user_id":3908478,"display_name":"Uğur"},"score":0,"creation_date":1415229444,"post_id":26768748,"comment_id":42118536,"body_markdown":"I tried this but it still doesnt work. I am developing a project to determine the position of people in emergency call. So it is very important for me. Could you please try this source code on your computer to understand problem?","body":"I tried this but it still doesnt work. I am developing a project to determine the position of people in emergency call. So it is very important for me. Could you please try this source code on your computer to understand problem?"},{"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"score":0,"creation_date":1415229830,"post_id":26768748,"comment_id":42118658,"body_markdown":"yep i got in my eclipse right now i just had to add the reference of google play services library :|, i think you typed incorrectly the package in some place of tyour code! :(","body":"yep i got in my eclipse right now i just had to add the reference of google play services library :|, i think you typed incorrectly the package in some place of tyour code! :("},{"owner":{"account_id":4844388,"reputation":95,"user_id":3908478,"display_name":"Uğur"},"score":1,"creation_date":1415230615,"post_id":26768748,"comment_id":42118913,"body_markdown":"Thank you for helping me :). I am checking my code again. I hope find the problem.","body":"Thank you for helping me :). I am checking my code again. I hope find the problem."},{"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"score":0,"creation_date":1415230723,"post_id":26768748,"comment_id":42118946,"body_markdown":"you&#180;re welcome, i think is better/faster download and import the project again =).","body":"you&#180;re welcome, i think is better/faster download and import the project again =)."}],"tags":[],"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1415230384,"creation_date":1415228135,"answer_id":26768748,"question_id":26768663,"body_markdown":"Since your exception is:\r\n\r\n    ClassNotFoundException: Didn&#39;t find class &quot;com.kpbird.fusedlocation.MainActivity&quot;\r\n\r\ninto your `AndroidManifest.xml` add the complete package were your activity is located:\r\n\r\n    &lt;activity\r\n                    android:name=&quot;com.kpbird.fusedlocation.MainActivity&quot;\r\n\r\nor be sure to have to correct package name defined:\r\n\r\n    package=&quot;com.kpbird.fusedlocation&quot;\r\n\r\n\r\n**I think you typed incorrectly the package of your application in some place of your code!** \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wEC1M.png","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{…}: java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>Since your exception is:</p>\n\n<pre><code>ClassNotFoundException: Didn't find class \"com.kpbird.fusedlocation.MainActivity\"\n</code></pre>\n\n<p>into your <code>AndroidManifest.xml</code> add the complete package were your activity is located:</p>\n\n<pre><code>&lt;activity\n                android:name=\"com.kpbird.fusedlocation.MainActivity\"\n</code></pre>\n\n<p>or be sure to have to correct package name defined:</p>\n\n<pre><code>package=\"com.kpbird.fusedlocation\"\n</code></pre>\n\n<p><strong>I think you typed incorrectly the package of your application in some place of your code!</strong> </p>\n\n<p><img src=\"https://i.stack.imgur.com/wEC1M.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2157585,"reputation":15037,"user_id":2129654,"accept_rate":41,"display_name":"Jacob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417854289,"creation_date":1417854289,"answer_id":27329756,"question_id":26768663,"body_markdown":"The same issue occurs while including in `AndroidManifest` reference with:\r\n\r\n      &lt;meta-data\r\n                android:name=&quot;com.google.android.gms.version&quot;\r\n                android:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n\r\nand hardcoded wrong `google_play_services_version` value. ","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{…}: java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>The same issue occurs while including in <code>AndroidManifest</code> reference with:</p>\n\n<pre><code>  &lt;meta-data\n            android:name=\"com.google.android.gms.version\"\n            android:value=\"@integer/google_play_services_version\" /&gt;\n</code></pre>\n\n<p>and hardcoded wrong <code>google_play_services_version</code> value. </p>\n"},{"tags":[],"owner":{"account_id":1106678,"reputation":2139,"user_id":1097944,"accept_rate":11,"display_name":"Mehul"},"comment_count":0,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1431937115,"creation_date":1431937115,"answer_id":30298224,"question_id":26768663,"body_markdown":"After spending much time on this problem i finally got the solution.\r\n\r\nJust remove `setContentView(R.layout.LAYOUT_NAME);` from constructor of class\r\nand put it into `onCreate` method of the class.\r\n\r\n100% it will be solved.","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{…}: java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>After spending much time on this problem i finally got the solution.</p>\n\n<p>Just remove <code>setContentView(R.layout.LAYOUT_NAME);</code> from constructor of class\nand put it into <code>onCreate</code> method of the class.</p>\n\n<p>100% it will be solved.</p>\n"},{"tags":[],"owner":{"account_id":3758327,"reputation":1115,"user_id":3124150,"accept_rate":92,"display_name":"EmmanuelMess"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502074762,"creation_date":1502074762,"answer_id":45538815,"question_id":26768663,"body_markdown":"This happened when I moved an app from one directory to another once, if [@Jorgesys&#39;s solution][1] doesn&#39;t help, consider renaming the module and cleaning the project. Note: I was using Android Studio.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26768748/3124150","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{…}: java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>This happened when I moved an app from one directory to another once, if <a href=\"https://stackoverflow.com/a/26768748/3124150\">@Jorgesys's solution</a> doesn't help, consider renaming the module and cleaning the project. Note: I was using Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":3730765,"reputation":1823,"user_id":3103244,"accept_rate":53,"display_name":"AnR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556782101,"creation_date":1556782101,"answer_id":55947571,"question_id":26768663,"body_markdown":"While updating my MainActivity.java I accidentally changed my package name from `package com.ppg;` to `package com.PPG;` (upper case instead of lower case). When I changed back to lower case it started working.\r\n","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{…}: java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>While updating my MainActivity.java I accidentally changed my package name from <code>package com.ppg;</code> to <code>package com.PPG;</code> (upper case instead of lower case). When I changed back to lower case it started working.</p>\n"},{"comments":[{"owner":{"account_id":6415955,"reputation":106,"user_id":6145441,"display_name":"Courlu"},"score":1,"creation_date":1646229873,"post_id":68185041,"comment_id":126071304,"body_markdown":"Thanks! If like me you were using .kts files for gradle then add `plugins { id(&quot;kotlin-android&quot;) }` to your app level gradle file","body":"Thanks! If like me you were using .kts files for gradle then add <code>plugins { id(&quot;kotlin-android&quot;) }</code> to your app level gradle file"}],"tags":[],"owner":{"account_id":10976817,"reputation":1451,"user_id":8065249,"display_name":"Hamza Khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1624997320,"creation_date":1624997320,"answer_id":68185041,"question_id":26768663,"body_markdown":"In my case the issue was with gradle\r\n\r\nI refactored my code from java to kotlin but forgot to add this in Gradle\r\n\r\n    apply plugin: &#39;kotlin-android&#39;\r\n","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{…}: java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>In my case the issue was with gradle</p>\n<p>I refactored my code from java to kotlin but forgot to add this in Gradle</p>\n<pre><code>apply plugin: 'kotlin-android'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26166379,"reputation":41,"user_id":19852129,"display_name":"Vicky Leekha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700591456,"creation_date":1700591456,"answer_id":77525155,"question_id":26768663,"body_markdown":"This error occurred when you change package name in manifest file but not in main activity .\r\nremember when you changing package name then change it on\r\n1 manifest file \r\nif your building flutter then change it on all 3 mode profile , debug , and release \r\n2 main activity kotlin or java file \r\n\r\n3 In build gradle change the application id \r\n","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{…}: java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>This error occurred when you change package name in manifest file but not in main activity .\nremember when you changing package name then change it on\n1 manifest file\nif your building flutter then change it on all 3 mode profile , debug , and release\n2 main activity kotlin or java file</p>\n<p>3 In build gradle change the application id</p>\n"}],"owner":{"account_id":4844388,"reputation":95,"user_id":3908478,"display_name":"Uğur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18775,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":26768748,"answer_count":7,"score":9,"last_activity_date":1700591456,"creation_date":1415227754,"question_id":26768663,"body_markdown":"I am developing an app using Fused Location Provider. I am getting an error &quot;Unfortunately, appname has stopped&quot; when i attempt to run the program. Eclipse doesnt show that there are any mistakes but there are errors in the logcat. I dont know how to fix them. I downloaded source code [here][1]. Please help me to understand what I did wrong?\r\n\r\n\r\n  [1]: http://www.kpbird.com/2013/06/fused-location-provider-example.html\r\n\r\nLogCat\r\n\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): FATAL EXCEPTION: main\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.kpbird.fusedlocation/com.kpbird.fusedlocation.MainActivity}: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.kpbird.fusedlocation.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.kpbird.fusedlocation-1.apk&quot;],nativeLibraryDirectories=[/data/app-lib/com.kpbird.fusedlocation-1, /system/lib]]\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2137)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2261)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat android.app.ActivityThread.access$600(ActivityThread.java:141)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1256)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat android.os.Looper.loop(Looper.java:137)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat android.app.ActivityThread.main(ActivityThread.java:5103)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat java.lang.reflect.Method.invoke(Method.java:525)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat dalvik.system.NativeStart.main(Native Method)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.kpbird.fusedlocation.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.kpbird.fusedlocation-1.apk&quot;],nativeLibraryDirectories=[/data/app-lib/com.kpbird.fusedlocation-1, /system/lib]]\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:53)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat java.lang.ClassLoader.loadClass(ClassLoader.java:501)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat java.lang.ClassLoader.loadClass(ClassLoader.java:461)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat android.app.Instrumentation.newActivity(Instrumentation.java:1061)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2128)\r\n    11-05 08:31:41.641: E/AndroidRuntime(795): \t... 11 more\r\n\r\n","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{…}: java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>I am developing an app using Fused Location Provider. I am getting an error \"Unfortunately, appname has stopped\" when i attempt to run the program. Eclipse doesnt show that there are any mistakes but there are errors in the logcat. I dont know how to fix them. I downloaded source code <a href=\"http://www.kpbird.com/2013/06/fused-location-provider-example.html\" rel=\"noreferrer\">here</a>. Please help me to understand what I did wrong?</p>\n\n<p>LogCat</p>\n\n<pre><code>11-05 08:31:41.641: E/AndroidRuntime(795): FATAL EXCEPTION: main\n11-05 08:31:41.641: E/AndroidRuntime(795): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.kpbird.fusedlocation/com.kpbird.fusedlocation.MainActivity}: java.lang.ClassNotFoundException: Didn't find class \"com.kpbird.fusedlocation.MainActivity\" on path: DexPathList[[zip file \"/data/app/com.kpbird.fusedlocation-1.apk\"],nativeLibraryDirectories=[/data/app-lib/com.kpbird.fusedlocation-1, /system/lib]]\n11-05 08:31:41.641: E/AndroidRuntime(795):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2137)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2261)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at android.app.ActivityThread.access$600(ActivityThread.java:141)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1256)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at android.os.Handler.dispatchMessage(Handler.java:99)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at android.os.Looper.loop(Looper.java:137)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at android.app.ActivityThread.main(ActivityThread.java:5103)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at java.lang.reflect.Method.invokeNative(Native Method)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at java.lang.reflect.Method.invoke(Method.java:525)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at dalvik.system.NativeStart.main(Native Method)\n11-05 08:31:41.641: E/AndroidRuntime(795): Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.kpbird.fusedlocation.MainActivity\" on path: DexPathList[[zip file \"/data/app/com.kpbird.fusedlocation-1.apk\"],nativeLibraryDirectories=[/data/app-lib/com.kpbird.fusedlocation-1, /system/lib]]\n11-05 08:31:41.641: E/AndroidRuntime(795):  at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:53)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at java.lang.ClassLoader.loadClass(ClassLoader.java:501)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at java.lang.ClassLoader.loadClass(ClassLoader.java:461)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at android.app.Instrumentation.newActivity(Instrumentation.java:1061)\n11-05 08:31:41.641: E/AndroidRuntime(795):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2128)\n11-05 08:31:41.641: E/AndroidRuntime(795):  ... 11 more\n</code></pre>\n"},{"tags":["java","timezone","default","java-6","java-5"],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700591150,"creation_date":1265031428,"answer_id":2176982,"question_id":2176784,"body_markdown":"This was probably done to fix a bug. I&#39;d search the [Java Bug Database][1] to find the rationale for it. _(Clues might also be found in the [release notes][2].)_\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/\r\n  [2]: https://www.oracle.com/java/technologies/javase/6u-relnotes.html","title":"TimeZone.setDefault changes in JDK6","body":"<p>This was probably done to fix a bug. I'd search the <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">Java Bug Database</a> to find the rationale for it. <em>(Clues might also be found in the <a href=\"https://www.oracle.com/java/technologies/javase/6u-relnotes.html\" rel=\"nofollow noreferrer\">release notes</a>.)</em></p>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265031974,"creation_date":1265031974,"answer_id":2177044,"question_id":2176784,"body_markdown":"The API documentation for TimeZone.getDefault() states that &quot;the source of the default TimeZone may vary with implementation.&quot; If your code relies on implementation specific behaviour of the standard API classes (in this case, that the default time zone is kept at a thread local level), you must expect that your code fails with newer versions of the VM or with VMs from different vendors.","title":"TimeZone.setDefault changes in JDK6","body":"<p>The API documentation for TimeZone.getDefault() states that \"the source of the default TimeZone may vary with implementation.\" If your code relies on implementation specific behaviour of the standard API classes (in this case, that the default time zone is kept at a thread local level), you must expect that your code fails with newer versions of the VM or with VMs from different vendors.</p>\n"},{"tags":[],"owner":{"account_id":38281,"reputation":2015,"user_id":109795,"accept_rate":88,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1700591351,"creation_date":1265032880,"answer_id":2177133,"question_id":2176784,"body_markdown":"Searching the [Java Bug Database](https://bugs.java.com/bugdatabase/) was actually quite a good idea :)\r\n\r\n[JDK-6352812 : (tz) REGRESSION: JDK 1.5 TimeZone.setDefault() inconsistent with JDK 1.4 and Mustang](https://bugs.java.com/bugdatabase/view_bug?bug_id=6352812)\r\n\r\nand also (re docs):\r\n\r\n[JDK-6181786 : (tz) Documentation for TimeZone.getDefault() and TimeZone.setDefault() should clearer](https://bugs.java.com/bugdatabase/view_bug?bug_id=6181786)\r\n\r\n\r\nSummary: JDK 1.5 was an exception to the rule, with JDK 1.6 things are back to &#39;normal&#39;, which, according to the docs, is that a timezone change is VM wide.","title":"TimeZone.setDefault changes in JDK6","body":"<p>Searching the <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">Java Bug Database</a> was actually quite a good idea :)</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6352812\" rel=\"nofollow noreferrer\">JDK-6352812 : (tz) REGRESSION: JDK 1.5 TimeZone.setDefault() inconsistent with JDK 1.4 and Mustang</a></p>\n<p>and also (re docs):</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6181786\" rel=\"nofollow noreferrer\">JDK-6181786 : (tz) Documentation for TimeZone.getDefault() and TimeZone.setDefault() should clearer</a></p>\n<p>Summary: JDK 1.5 was an exception to the rule, with JDK 1.6 things are back to 'normal', which, according to the docs, is that a timezone change is VM wide.</p>\n"}],"owner":{"account_id":38281,"reputation":2015,"user_id":109795,"accept_rate":88,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10093,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":2177133,"answer_count":3,"score":19,"last_activity_date":1700591351,"creation_date":1265029410,"question_id":2176784,"body_markdown":"I just noticed that JDK 6 has a different approach to setting a default TimeZone than JDK5. \r\n\r\nPreviously the new default would be stored in a thread-local variable. With JDK6 (I just reviewed 1.6.0.18) the implementation has changed, so that if the user can write to the &quot;user.timezone&quot; property, or if there is no SecurityManager installed, the timezone changes VM-wide! Otherwise a thread-local change occurs.\r\n\r\nAm I wrong? This seems to be quite a drastic change, and I couldn&#39;t find anything on the web about it.\r\n\r\nHere is the JDK6 code:\r\n\r\n     private static boolean hasPermission() {\r\n      boolean hasPermission = true;\r\n      SecurityManager sm = System.getSecurityManager();\r\n      if (sm != null) {\r\n       try {\r\n        sm.checkPermission(new PropertyPermission(&quot;user.timezone&quot;, &quot;write&quot;));\r\n       } catch (SecurityException e) {\r\n        hasPermission = false;\r\n       }\r\n      }\r\n      return hasPermission;\r\n     }\r\n    \r\n     /**\r\n      * Sets the &lt;code&gt;TimeZone&lt;/code&gt; that is\r\n      * returned by the &lt;code&gt;getDefault&lt;/code&gt; method.  If &lt;code&gt;zone&lt;/code&gt;\r\n      * is null, reset the default to the value it had originally when the\r\n      * VM first started.\r\n      * @param zone the new default time zone\r\n      * @see #getDefault\r\n      */\r\n     public static void setDefault(TimeZone zone)\r\n     {\r\n      if (hasPermission()) {\r\n       synchronized (TimeZone.class) {\r\n        defaultTimeZone = zone;\r\n        defaultZoneTL.set(null);\r\n       }\r\n      } else {\r\n       defaultZoneTL.set(zone);\r\n      }\r\n     }\r\n\r\nwhile before (in JDK5) it was simply:\r\n\r\n     /**\r\n      * Sets the &lt;code&gt;TimeZone&lt;/code&gt; that is\r\n      * returned by the &lt;code&gt;getDefault&lt;/code&gt; method.  If &lt;code&gt;zone&lt;/code&gt;\r\n      * is null, reset the default to the value it had originally when the\r\n      * VM first started.\r\n      * @param zone the new default time zone\r\n      * @see #getDefault\r\n      */\r\n     public static synchronized void setDefault(TimeZone zone)\r\n     {\r\n      defaultZoneTL.set(zone);\r\n     }\r\n\r\n","title":"TimeZone.setDefault changes in JDK6","body":"<p>I just noticed that JDK 6 has a different approach to setting a default TimeZone than JDK5. </p>\n\n<p>Previously the new default would be stored in a thread-local variable. With JDK6 (I just reviewed 1.6.0.18) the implementation has changed, so that if the user can write to the \"user.timezone\" property, or if there is no SecurityManager installed, the timezone changes VM-wide! Otherwise a thread-local change occurs.</p>\n\n<p>Am I wrong? This seems to be quite a drastic change, and I couldn't find anything on the web about it.</p>\n\n<p>Here is the JDK6 code:</p>\n\n<pre><code> private static boolean hasPermission() {\n  boolean hasPermission = true;\n  SecurityManager sm = System.getSecurityManager();\n  if (sm != null) {\n   try {\n    sm.checkPermission(new PropertyPermission(\"user.timezone\", \"write\"));\n   } catch (SecurityException e) {\n    hasPermission = false;\n   }\n  }\n  return hasPermission;\n }\n\n /**\n  * Sets the &lt;code&gt;TimeZone&lt;/code&gt; that is\n  * returned by the &lt;code&gt;getDefault&lt;/code&gt; method.  If &lt;code&gt;zone&lt;/code&gt;\n  * is null, reset the default to the value it had originally when the\n  * VM first started.\n  * @param zone the new default time zone\n  * @see #getDefault\n  */\n public static void setDefault(TimeZone zone)\n {\n  if (hasPermission()) {\n   synchronized (TimeZone.class) {\n    defaultTimeZone = zone;\n    defaultZoneTL.set(null);\n   }\n  } else {\n   defaultZoneTL.set(zone);\n  }\n }\n</code></pre>\n\n<p>while before (in JDK5) it was simply:</p>\n\n<pre><code> /**\n  * Sets the &lt;code&gt;TimeZone&lt;/code&gt; that is\n  * returned by the &lt;code&gt;getDefault&lt;/code&gt; method.  If &lt;code&gt;zone&lt;/code&gt;\n  * is null, reset the default to the value it had originally when the\n  * VM first started.\n  * @param zone the new default time zone\n  * @see #getDefault\n  */\n public static synchronized void setDefault(TimeZone zone)\n {\n  defaultZoneTL.set(zone);\n }\n</code></pre>\n"},{"tags":["java","ssl","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":19313108,"reputation":21,"user_id":14118402,"display_name":"Jomin Jose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636007895,"creation_date":1636007895,"answer_id":69835253,"question_id":69554829,"body_markdown":"I resolved the issue my self. I had to import the application url SSL certificate to java keystore. This was not required in the Dev and Staging environment though even the SSL cert was used on all environment. I am glad that issue got fixed after importing cert.\r\n\r\n    keytool -importcert -file ./prod.cer -cacerts -keypass &lt;password&gt; -storepass &lt;password&gt; -noprompt -alias prod-cert","title":"PKIX path validation failed: java.security.cert.CertPathValidatorException: name constraints check failed","body":"<p>I resolved the issue my self. I had to import the application url SSL certificate to java keystore. This was not required in the Dev and Staging environment though even the SSL cert was used on all environment. I am glad that issue got fixed after importing cert.</p>\n<pre><code>keytool -importcert -file ./prod.cer -cacerts -keypass &lt;password&gt; -storepass &lt;password&gt; -noprompt -alias prod-cert\n</code></pre>\n"}],"owner":{"account_id":19313108,"reputation":21,"user_id":14118402,"display_name":"Jomin Jose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2650,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700590983,"creation_date":1634125011,"question_id":69554829,"body_markdown":"I am getting below error while service to service API communication. certificate is already imported in the java keystore. \r\n\r\n\r\n&gt;[ERROR]: I/O error on GET request for &quot;https://url.com/data-api/customer&quot;: PKIX path validation failed: java.security.cert.CertPathValidatorException: name constraints check failed; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path validation failed: java.security.cert.CertPathValidatorException: name constraints check failed","title":"PKIX path validation failed: java.security.cert.CertPathValidatorException: name constraints check failed","body":"<p>I am getting below error while service to service API communication. certificate is already imported in the java keystore.</p>\n<blockquote>\n<p>[ERROR]: I/O error on GET request for &quot;https://url.com/data-api/customer&quot;: PKIX path validation failed: java.security.cert.CertPathValidatorException: name constraints check failed; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path validation failed: java.security.cert.CertPathValidatorException: name constraints check failed</p>\n</blockquote>\n"},{"tags":["java","covariance","stack-overflow","contravariance","typechecking"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1259147001,"post_id":1796144,"comment_id":1683749,"body_markdown":"... and it may be necessary to know the exact version of the javac that shows that behavior.","body":"... and it may be necessary to know the exact version of the javac that shows that behavior."},{"owner":{"account_id":32093,"reputation":650743,"user_id":88656,"display_name":"Eric Lippert"},"score":1,"creation_date":1392747056,"post_id":1796144,"comment_id":33096634,"body_markdown":"You are looking for this paper: http://research.microsoft.com/en-us/um/people/akenn/generics/FOOL2007.pdf","body":"You are looking for this paper: <a href=\"http://research.microsoft.com/en-us/um/people/akenn/generics/FOOL2007.pdf\" rel=\"nofollow noreferrer\">research.microsoft.com/en-us/um/people/akenn/generics/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":72701,"reputation":1580,"user_id":209786,"accept_rate":96,"display_name":"Pimin Konstantin Kefaloukos"},"score":0,"creation_date":1259156562,"post_id":1796563,"comment_id":1684599,"body_markdown":"Nice examples, especially the second one. But the one I&#39;m looking for fails in both 6.0 and 7.0. I can&#39;t quite remember it, but I&#39;d recognize it if I saw it again :)","body":"Nice examples, especially the second one. But the one I&#39;m looking for fails in both 6.0 and 7.0. I can&#39;t quite remember it, but I&#39;d recognize it if I saw it again :)"}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700590980,"creation_date":1259151604,"answer_id":1796563,"question_id":1796144,"body_markdown":"Have you tried the Java Bug Database at [bugs.java.com](https://bugs.java.com/bugdatabase/)? Here&#39;s a `StackOverflowError` in 5.0 only:\r\n\r\n```lang-java\r\nimport java.util.*;\r\n\r\nclass Test&lt;T extends Comparable&lt;? super T&gt;&gt; {\r\n\r\n    abstract class Group&lt;E extends Comparable&lt;? super E&gt;&gt; \r\n    extends ArrayList&lt;E&gt; \r\n    implements Comparable&lt;Group&lt;? extends E&gt;&gt; {}\r\n\r\n    abstract class Sequence&lt;E extends Comparable&lt;? super E&gt;&gt;\r\n    extends TreeSet&lt;E&gt;\r\n    implements Comparable&lt;Sequence&lt;? extends E&gt;&gt; {}\r\n\r\n    public void containsCombination(SortedSet&lt;Group&lt;T&gt;&gt; groups,\r\n                    SortedSet&lt;Sequence&lt;T&gt;&gt; sequences) {\r\n        foo(groups, sequences);\r\n    }\r\n\r\n    &lt;C extends Collection&lt;T&gt;&gt; void foo(SortedSet&lt;? extends C&gt; setToCheck,\r\n                       SortedSet&lt;? extends C&gt; validSet) {}\r\n\r\n}\r\n```\r\n\r\nHere&#39;s another (again 5.0 only):\r\n\r\n```lang-java\r\nclass F&lt;T&gt; {}\r\nclass C&lt;X extends F&lt;F&lt;? super X&gt;&gt;&gt; {\r\n    C(X x) {\r\n        F&lt;? super X&gt; f = x;\r\n    }\r\n}\r\n```","title":"Java snippet that causes stack overflow in the compiler or typechecker (javac)?","body":"<p>Have you tried the Java Bug Database at <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">bugs.java.com</a>? Here's a <code>StackOverflowError</code> in 5.0 only:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass Test&lt;T extends Comparable&lt;? super T&gt;&gt; {\n\n    abstract class Group&lt;E extends Comparable&lt;? super E&gt;&gt; \n    extends ArrayList&lt;E&gt; \n    implements Comparable&lt;Group&lt;? extends E&gt;&gt; {}\n\n    abstract class Sequence&lt;E extends Comparable&lt;? super E&gt;&gt;\n    extends TreeSet&lt;E&gt;\n    implements Comparable&lt;Sequence&lt;? extends E&gt;&gt; {}\n\n    public void containsCombination(SortedSet&lt;Group&lt;T&gt;&gt; groups,\n                    SortedSet&lt;Sequence&lt;T&gt;&gt; sequences) {\n        foo(groups, sequences);\n    }\n\n    &lt;C extends Collection&lt;T&gt;&gt; void foo(SortedSet&lt;? extends C&gt; setToCheck,\n                       SortedSet&lt;? extends C&gt; validSet) {}\n\n}\n</code></pre>\n<p>Here's another (again 5.0 only):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class F&lt;T&gt; {}\nclass C&lt;X extends F&lt;F&lt;? super X&gt;&gt;&gt; {\n    C(X x) {\n        F&lt;? super X&gt; f = x;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":72701,"reputation":1580,"user_id":209786,"accept_rate":96,"display_name":"Pimin Konstantin Kefaloukos"},"score":0,"creation_date":1259329321,"post_id":1808841,"comment_id":1697406,"body_markdown":"ofc it may not cause a StackOverflowException on a machine with infinite storage, but that was implied. Don&#39;t know if that is the case or not.","body":"ofc it may not cause a StackOverflowException on a machine with infinite storage, but that was implied. Don&#39;t know if that is the case or not."},{"owner":{"account_id":1517424,"reputation":8052,"user_id":1418097,"accept_rate":83,"display_name":"Display Name"},"score":0,"creation_date":1393155238,"post_id":1808841,"comment_id":33286134,"body_markdown":"Cool. May it happen in &quot;real life&quot; — with &quot;real&quot; code that has a meaning?","body":"Cool. May it happen in &quot;real life&quot; — with &quot;real&quot; code that has a meaning?"}],"tags":[],"owner":{"account_id":72701,"reputation":1580,"user_id":209786,"accept_rate":96,"display_name":"Pimin Konstantin Kefaloukos"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1259329220,"creation_date":1259329220,"answer_id":1808841,"question_id":1796144,"body_markdown":"Found it (asked the presenter)! It&#39;s a `StackOverflowException` in both 6.0 and 7.0:\r\n\r\n    class T { }\r\n    class N&lt;Z&gt; { }\r\n    class C&lt;X&gt; extends N&lt;N&lt;? super C&lt;C&lt;X&gt;&gt;&gt;&gt; {\r\n      N&lt;? super C&lt;T&gt;&gt; cast(C&lt;T&gt; c) { return c; }\r\n    }\r\n\r\nIt&#39;s from Andrew Kennedy and Benjamin Pierce: On Decidability of Nominal\r\n Subtyping with Variance.  International Workshop on Foundations and\r\n Developments of Object-Oriented Languages g(FOOL/WOOD&#39;07), Nice,\r\n France 2007.","title":"Java snippet that causes stack overflow in the compiler or typechecker (javac)?","body":"<p>Found it (asked the presenter)! It's a <code>StackOverflowException</code> in both 6.0 and 7.0:</p>\n\n<pre><code>class T { }\nclass N&lt;Z&gt; { }\nclass C&lt;X&gt; extends N&lt;N&lt;? super C&lt;C&lt;X&gt;&gt;&gt;&gt; {\n  N&lt;? super C&lt;T&gt;&gt; cast(C&lt;T&gt; c) { return c; }\n}\n</code></pre>\n\n<p>It's from Andrew Kennedy and Benjamin Pierce: On Decidability of Nominal\n Subtyping with Variance.  International Workshop on Foundations and\n Developments of Object-Oriented Languages g(FOOL/WOOD'07), Nice,\n France 2007.</p>\n"}],"owner":{"account_id":72701,"reputation":1580,"user_id":209786,"accept_rate":96,"display_name":"Pimin Konstantin Kefaloukos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":1808841,"answer_count":2,"score":5,"last_activity_date":1700590980,"creation_date":1259146430,"question_id":1796144,"body_markdown":"Yesterday at a seminar the presenter (Peter Sestoft) showed a small java program, with 3 classes, featuring both co-variance and contra-variance. When attempting to compile using javac, the type checker will throw a StackOverflowException. \r\n\r\nThe snippet is developed by some guys that work at Microsoft (think one was called Kennedy).\r\n\r\nCan&#39;t find it using Google. Does anyone know the code snippet, and could you paste it here (it&#39;s max. 10 lines of code), for everyone to see? :)\r\n\r\nIt was quite fun...","title":"Java snippet that causes stack overflow in the compiler or typechecker (javac)?","body":"<p>Yesterday at a seminar the presenter (Peter Sestoft) showed a small java program, with 3 classes, featuring both co-variance and contra-variance. When attempting to compile using javac, the type checker will throw a StackOverflowException. </p>\n\n<p>The snippet is developed by some guys that work at Microsoft (think one was called Kennedy).</p>\n\n<p>Can't find it using Google. Does anyone know the code snippet, and could you paste it here (it's max. 10 lines of code), for everyone to see? :)</p>\n\n<p>It was quite fun...</p>\n"},{"tags":["java","jvm","jnlp"],"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1700590494,"post_id":11366177,"comment_id":136672572,"body_markdown":"Does this answer your question? [Java -Xmx, Max memory on system](https://stackoverflow.com/questions/1190837/java-xmx-max-memory-on-system)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1190837/java-xmx-max-memory-on-system\">Java -Xmx, Max memory on system</a>"}],"answers":[{"comments":[{"owner":{"account_id":156587,"reputation":15475,"user_id":373962,"accept_rate":86,"display_name":"Miquel"},"score":0,"creation_date":1341592502,"post_id":11366212,"comment_id":14974606,"body_markdown":"Is it correct that whatever memory you put in -Xmx will be taken by the JVM and not released until you quit? Because then you could end up with some massive memory hogs...","body":"Is it correct that whatever memory you put in -Xmx will be taken by the JVM and not released until you quit? Because then you could end up with some massive memory hogs..."},{"owner":{"account_id":1130545,"reputation":10547,"user_id":1116739,"display_name":"cha0site"},"score":1,"creation_date":1341592633,"post_id":11366212,"comment_id":14974643,"body_markdown":"@Miquel: No, that&#39;s `-Xms`, the initial heap size. `-Xmx` is the maximum heap size.","body":"@Miquel: No, that&#39;s <code>-Xms</code>, the initial heap size. <code>-Xmx</code> is the maximum heap size."},{"owner":{"display_name":"user177800"},"score":2,"creation_date":1341594087,"post_id":11366212,"comment_id":14975161,"body_markdown":"once the JVM gets hold of memory it doesn&#39;t let it go. there are some *technical* situational arguments against this, but in practice those situations never actually happen, so memory that gets allocated to the heap, stays allocated. That doesn&#39;t mean that the host OS can&#39;t swap it out but that is an entirely different issue.","body":"once the JVM gets hold of memory it doesn&#39;t let it go. there are some <i>technical</i> situational arguments against this, but in practice those situations never actually happen, so memory that gets allocated to the heap, stays allocated. That doesn&#39;t mean that the host OS can&#39;t swap it out but that is an entirely different issue."}],"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1341592383,"creation_date":1341592383,"answer_id":11366212,"question_id":11366177,"body_markdown":"Unfortunately, the best way I&#39;m aware of is to write a simple launcher (possibly a shell script or batch file) that inspects the system, determines an appropriate value for -Xmx, and then launches the Java application.  Once the JVM has initialized, it is not possible to change the values.","title":"Java application to use maximum available memory in the system","body":"<p>Unfortunately, the best way I'm aware of is to write a simple launcher (possibly a shell script or batch file) that inspects the system, determines an appropriate value for -Xmx, and then launches the Java application.  Once the JVM has initialized, it is not possible to change the values.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1700590639,"creation_date":1341599721,"answer_id":11367818,"question_id":11366177,"body_markdown":"```lang-none\r\n-XX:DefaultMaxRAMFraction=1\r\n```\r\n\r\n- [JDK-4408373 : Can we eliminate the -Xmx max heap &quot;glass ceiling&quot;?](https://bugs.java.com/bugdatabase/view_bug?bug_id=4408373)\r\n- [Sun&#39;s 1.5 JVM: the -XX:DefaultMaxRAM option and its cousins](https://web.archive.org/web/20090514085602/http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-12/msg01658.html) \r\n- [Java SE 6 HotSpot[tm] Virtual Machine Garbage Collection Tuning  - Default Heap Size](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html#par_gc.ergonomics.default_size)\r\n\r\nDoesn&#39;t work for web start.  ","title":"Java application to use maximum available memory in the system","body":"<pre class=\"lang-none prettyprint-override\"><code>-XX:DefaultMaxRAMFraction=1\n</code></pre>\n<ul>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4408373\" rel=\"nofollow noreferrer\">JDK-4408373 : Can we eliminate the -Xmx max heap &quot;glass ceiling&quot;?</a></li>\n<li><a href=\"https://web.archive.org/web/20090514085602/http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-12/msg01658.html\" rel=\"nofollow noreferrer\">Sun's 1.5 JVM: the -XX:DefaultMaxRAM option and its cousins</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html#par_gc.ergonomics.default_size\" rel=\"nofollow noreferrer\">Java SE 6 HotSpot[tm] Virtual Machine Garbage Collection Tuning  - Default Heap Size</a></li>\n</ul>\n<p>Doesn't work for web start.</p>\n"}],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":11367818,"answer_count":2,"score":5,"last_activity_date":1700590639,"creation_date":1341592198,"question_id":11366177,"body_markdown":"There are -Xmx and max-heap-size (jnlp) options to set maximum memory java application can use.  \r\nIf these options are not specified application is permitted to use only small amount of available phisical memory in the system.  \r\nThat is the reason people play with -Xmx to allow application to use more memory. But this is really a nightmare as for me because there could be different amont of memory on client machine and even OS should be taken into consideration.  \r\n\r\nIs there any way to alow java application to use maximum available memory in the system?\r\n\r\nThanks.","title":"Java application to use maximum available memory in the system","body":"<p>There are -Xmx and max-heap-size (jnlp) options to set maximum memory java application can use.<br>\nIf these options are not specified application is permitted to use only small amount of available phisical memory in the system.<br>\nThat is the reason people play with -Xmx to allow application to use more memory. But this is really a nightmare as for me because there could be different amont of memory on client machine and even OS should be taken into consideration.  </p>\n\n<p>Is there any way to alow java application to use maximum available memory in the system?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","hibernate","myeclipse"],"answers":[{"tags":[],"owner":{"account_id":1919533,"reputation":956,"user_id":1731383,"accept_rate":14,"display_name":"Kanagaraj M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355890582,"creation_date":1355890582,"answer_id":13945414,"question_id":13944757,"body_markdown":"you should use generic as Batch .\r\nUser your relation like this:\r\nSet&lt;&lt;Batch&gt;Batch&gt; batches=new HashSet&lt;&lt;Batch&gt;Batch&gt;();","title":"why MyEclipse shows join_table not found error at compilation","body":"<p>you should use generic as Batch .\nUser your relation like this:\nSet&lt;Batch> batches=new HashSet&lt;Batch>();</p>\n"}],"owner":{"account_id":277550,"reputation":2448,"user_id":571616,"accept_rate":65,"display_name":"agarwal_achhnera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700590608,"creation_date":1355884637,"question_id":13944757,"body_markdown":"I have the following two entities but in `Trainer` at the `@OneToMany` relation line it shows error message that &quot;join table trainer_batch can not be found&quot;, while I am using `@JoinColumn` annotation. This is my java code:\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;trainer&quot;)\r\npublic class Trainer {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tint id;\r\n\tString name;\r\n\t@OneToMany(cascade=CascadeType.ALL) // this is the line\r\n\t@JoinColumn(name=&quot;trainerid&quot;)\r\n\tSet&lt;Batch&gt; batches=new HashSet&lt;Batch&gt;();\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic Set&lt;Batch&gt; getBatches() {\r\n\t\treturn batches;\r\n\t}\r\n\tpublic void setBatches(Batch batch) {\r\n\t\tbatches.add(batch);\r\n\t}\r\n}\r\n\r\n@Entity\r\n@Table(name=&quot;batch&quot;)\r\npublic class Batch {\r\n\r\n\tpublic String getSlot() {\r\n\t\treturn slot;\r\n\t}\r\n\tpublic void setSlot(String slot) {\r\n\t\tthis.slot = slot;\r\n\t}\r\n\tpublic String getTopic() {\r\n\t\treturn topic;\r\n\t}\r\n\tpublic void setTopic(String topic) {\r\n\t\tthis.topic = topic;\r\n\t}\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tint id;\r\n\tString slot;\r\n\tString topic;\r\n}\r\n```\r\n\r\n`persistance.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\r\n    http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot; version=&quot;1.0&quot;&gt;\r\n    \r\n\t&lt;persistence-unit name=&quot;one_to_many_pk_fkPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n  \t\t&lt;properties&gt;\r\n\t\t\t&lt;property name = &quot;hibernate.connection.driver_class&quot; value = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n\t\t\t&lt;property name = &quot;hibernate.connection.url&quot; value = &quot;jdbc:sqlserver://localhost:1433;DatabaseName=test; MARS_Connection=yes;&quot;/&gt;\r\n\t\t\t&lt;property name = &quot;hibernate.connection.username&quot; value = &quot;sa&quot;/&gt;\r\n\t\t\t&lt;property name = &quot;hibernate.connection.password&quot; value = &quot;test&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.SQLServerDialect&quot;/&gt;\r\n\t  \t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n  \r\n&lt;/persistence&gt;\r\n```","title":"why MyEclipse shows join_table not found error at compilation","body":"<p>I have the following two entities but in <code>Trainer</code> at the <code>@OneToMany</code> relation line it shows error message that &quot;join table trainer_batch can not be found&quot;, while I am using <code>@JoinColumn</code> annotation. This is my java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;trainer&quot;)\npublic class Trainer {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    int id;\n    String name;\n    @OneToMany(cascade=CascadeType.ALL) // this is the line\n    @JoinColumn(name=&quot;trainerid&quot;)\n    Set&lt;Batch&gt; batches=new HashSet&lt;Batch&gt;();\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public Set&lt;Batch&gt; getBatches() {\n        return batches;\n    }\n    public void setBatches(Batch batch) {\n        batches.add(batch);\n    }\n}\n\n@Entity\n@Table(name=&quot;batch&quot;)\npublic class Batch {\n\n    public String getSlot() {\n        return slot;\n    }\n    public void setSlot(String slot) {\n        this.slot = slot;\n    }\n    public String getTopic() {\n        return topic;\n    }\n    public void setTopic(String topic) {\n        this.topic = topic;\n    }\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    int id;\n    String slot;\n    String topic;\n}\n</code></pre>\n<p><code>persistance.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence\n    http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot; version=&quot;1.0&quot;&gt;\n    \n    &lt;persistence-unit name=&quot;one_to_many_pk_fkPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name = &quot;hibernate.connection.driver_class&quot; value = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\n            &lt;property name = &quot;hibernate.connection.url&quot; value = &quot;jdbc:sqlserver://localhost:1433;DatabaseName=test; MARS_Connection=yes;&quot;/&gt;\n            &lt;property name = &quot;hibernate.connection.username&quot; value = &quot;sa&quot;/&gt;\n            &lt;property name = &quot;hibernate.connection.password&quot; value = &quot;test&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.SQLServerDialect&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n  \n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":["java","scala","lambda"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1700590847,"post_id":77524418,"comment_id":136672640,"body_markdown":"I would avoid the issue entirely by using `map.get(key)` rather than the `value` in the gauge callback if you know the keys won&#39;t change.","body":"I would avoid the issue entirely by using <code>map.get(key)</code> rather than the <code>value</code> in the gauge callback if you know the keys won&#39;t change."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1700590925,"post_id":77524418,"comment_id":136672658,"body_markdown":"Btw the issue would happen as well in Java if I understand it correctly. Each time you put a new value in the Map, it would be a new reference.","body":"Btw the issue would happen as well in Java if I understand it correctly. Each time you put a new value in the Map, it would be a new reference."},{"owner":{"account_id":3923295,"reputation":3125,"user_id":3244776,"accept_rate":92,"display_name":"nohup"},"score":0,"creation_date":1700591170,"post_id":77524418,"comment_id":136672688,"body_markdown":"Thank you. Isn&#39;t the value `Long` a wrapper class, which is inside a ConcurrentHashMap, which is also a reference? \nAlso, upon checking the underlying class where this comes from, the type is a `public static ConcurrentHashMap&lt;String, Long&gt; certMetrics = new ConcurrentHashMap&lt;String, Long&gt;();`\nDoes that make any difference?","body":"Thank you. Isn&#39;t the value <code>Long</code> a wrapper class, which is inside a ConcurrentHashMap, which is also a reference?  Also, upon checking the underlying class where this comes from, the type is a <code>public static ConcurrentHashMap&lt;String, Long&gt; certMetrics = new ConcurrentHashMap&lt;String, Long&gt;();</code> Does that make any difference?"},{"owner":{"account_id":3923295,"reputation":3125,"user_id":3244776,"accept_rate":92,"display_name":"nohup"},"score":0,"creation_date":1700591603,"post_id":77524418,"comment_id":136672742,"body_markdown":"@Ga&#235;lJ, I&#39;m sure the value of the keys won&#39;t change at runtime, so rather than using a `value` here, is it advisable to use something like\n`certMetrics.keySet().forEach(key =&gt; metricsGroup.newGauge(key, () =&gt; certMetrics.get(key), providerTag))`\ninstead?\nThanks again.","body":"@Ga&#235;lJ, I&#39;m sure the value of the keys won&#39;t change at runtime, so rather than using a <code>value</code> here, is it advisable to use something like <code>certMetrics.keySet().forEach(key =&gt; metricsGroup.newGauge(key, () =&gt; certMetrics.get(key), providerTag))</code> instead? Thanks again."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1700594469,"post_id":77524418,"comment_id":136673254,"body_markdown":"That&#39;s what I would do indeed. @nohup","body":"That&#39;s what I would do indeed. @nohup"},{"owner":{"account_id":3923295,"reputation":3125,"user_id":3244776,"accept_rate":92,"display_name":"nohup"},"score":0,"creation_date":1700595035,"post_id":77524418,"comment_id":136673344,"body_markdown":"Thank you @Ga&#235;lJ. I will try that and will keep the question open. If it works, I will get back so that you can write it as an answer and I will accept it.","body":"Thank you @Ga&#235;lJ. I will try that and will keep the question open. If it works, I will get back so that you can write it as an answer and I will accept it."},{"owner":{"account_id":3923295,"reputation":3125,"user_id":3244776,"accept_rate":92,"display_name":"nohup"},"score":0,"creation_date":1702181254,"post_id":77524418,"comment_id":136864695,"body_markdown":"@Ga&#235;lJ Apologies for the late come back and thank you for your earlier suggestion. It worked when I re-wrote as you suggested. If you&#39;d be kind enough to write it as an answer, I&#39;ll be more than happy to accept it.\nOn a side note, it works only if the variable is a static variable that&#39;s shared across all the instances. If it&#39;s an instance variable, the behaviour remains the same and won&#39;t get updated. Why is that? I&#39;d be grateful if you could kindly address that in your answer as well.","body":"@Ga&#235;lJ Apologies for the late come back and thank you for your earlier suggestion. It worked when I re-wrote as you suggested. If you&#39;d be kind enough to write it as an answer, I&#39;ll be more than happy to accept it. On a side note, it works only if the variable is a static variable that&#39;s shared across all the instances. If it&#39;s an instance variable, the behaviour remains the same and won&#39;t get updated. Why is that? I&#39;d be grateful if you could kindly address that in your answer as well."}],"owner":{"account_id":3923295,"reputation":3125,"user_id":3244776,"accept_rate":92,"display_name":"nohup"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700590421,"creation_date":1700583979,"question_id":77524418,"body_markdown":"We have a java and scala inter-operable program that&#39;s internal to our org. We have interfaces from Java that&#39;s exposed and is called in scala. I have an `Optional&lt;ConcurrentHashMap&lt;String, Long&gt;&gt;` that&#39;s exposed from a java interface which is being used in our scala code. \r\n\r\nProblem:\r\n\r\nThe value inside the concurrent hashmap gets updated, but the scala code doesn&#39;t reflect the changes from the update. I presume it&#39;s because the values are captured and kept as a copy rather than the reference itself, but please correct me if I&#39;m wrong. \r\n\r\nHere is the code.\r\n\r\n```\r\nOptional&lt;ConcurrentHashMap&lt;String, Long&gt;&gt; certMetrics();\r\n```\r\n\r\nThis is the interface method in the java code.\r\n\r\nNow, in the scala code, the value is read and populated as\r\n\r\n```\r\n  if (channelBuilder.certMetrics.isPresent) {\r\n    val certMetrics = channelBuilder.certMetrics.get\r\n    certMetrics.forEach((key, value) =&gt; metricsGroup.newGauge(key, () =&gt; {value}, providerTag))\r\n  }\r\n```\r\n\r\nThis is yammer metrics which is then exposed by JMX.\r\n\r\nHowever, when the underlying value in the ConcurrentHashMap is updated, the corresponding value is not reflected in the scala code. \r\n\r\nWhat am I doing wrong here? If I wrap the ConcurrentHashMap in an `AtomicReference&lt;&gt;` (or use a map inside AtomicReference) will that be idiomatic and the right way?\r\n\r\n","title":"Updates to Java ConcurrentHashMap not reflecting inside lambda in Scala","body":"<p>We have a java and scala inter-operable program that's internal to our org. We have interfaces from Java that's exposed and is called in scala. I have an <code>Optional&lt;ConcurrentHashMap&lt;String, Long&gt;&gt;</code> that's exposed from a java interface which is being used in our scala code.</p>\n<p>Problem:</p>\n<p>The value inside the concurrent hashmap gets updated, but the scala code doesn't reflect the changes from the update. I presume it's because the values are captured and kept as a copy rather than the reference itself, but please correct me if I'm wrong.</p>\n<p>Here is the code.</p>\n<pre><code>Optional&lt;ConcurrentHashMap&lt;String, Long&gt;&gt; certMetrics();\n</code></pre>\n<p>This is the interface method in the java code.</p>\n<p>Now, in the scala code, the value is read and populated as</p>\n<pre><code>  if (channelBuilder.certMetrics.isPresent) {\n    val certMetrics = channelBuilder.certMetrics.get\n    certMetrics.forEach((key, value) =&gt; metricsGroup.newGauge(key, () =&gt; {value}, providerTag))\n  }\n</code></pre>\n<p>This is yammer metrics which is then exposed by JMX.</p>\n<p>However, when the underlying value in the ConcurrentHashMap is updated, the corresponding value is not reflected in the scala code.</p>\n<p>What am I doing wrong here? If I wrap the ConcurrentHashMap in an <code>AtomicReference&lt;&gt;</code> (or use a map inside AtomicReference) will that be idiomatic and the right way?</p>\n"},{"tags":["java","memory-management"],"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":4,"creation_date":1248731694,"post_id":1190837,"comment_id":1013188,"body_markdown":"So you&#39;re actually asking how to use Java to determine the amount of system memory?","body":"So you&#39;re actually asking how to use Java to determine the amount of system memory?"},{"owner":{"account_id":46406,"reputation":1801,"user_id":137081,"accept_rate":85,"display_name":"Amandeep Grewal"},"score":0,"creation_date":1248731973,"post_id":1190837,"comment_id":1013215,"body_markdown":"Yes that would be one possible solution, and if you know a way, knowing that would be appreciated.","body":"Yes that would be one possible solution, and if you know a way, knowing that would be appreciated."},{"owner":{"account_id":38908,"reputation":8308,"user_id":111991,"accept_rate":76,"display_name":"Ryan Fernandes"},"score":0,"creation_date":1248750918,"post_id":1190837,"comment_id":1014275,"body_markdown":"are you running a 64bit jvm? coz if you&#39;re running a 32 bit, then you will have problems with the &#39;80%&#39; bit if your free mem turns up as 7G, for example","body":"are you running a 64bit jvm? coz if you&#39;re running a 32 bit, then you will have problems with the &#39;80%&#39; bit if your free mem turns up as 7G, for example"},{"owner":{"account_id":57288,"reputation":26555,"user_id":171546,"accept_rate":82,"display_name":"Open the way"},"score":0,"creation_date":1299752883,"post_id":1190837,"comment_id":5921478,"body_markdown":"is there an equivalente for C++???","body":"is there an equivalente for C++???"},{"owner":{"account_id":43736,"reputation":9289,"user_id":127971,"display_name":"michael"},"score":0,"creation_date":1376287059,"post_id":1190837,"comment_id":26637931,"body_markdown":"the available memory assigned to the jvm should be based on the size of the dataset, not the (completely orthogonal) available memory on the local host. For a scalable solution independent of local memory, use a distributed cache.","body":"the available memory assigned to the jvm should be based on the size of the dataset, not the (completely orthogonal) available memory on the local host. For a scalable solution independent of local memory, use a distributed cache."}],"answers":[{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248731646,"creation_date":1248731646,"answer_id":1190859,"question_id":1190837,"body_markdown":"Well, one thing I can tell you is don&#39;t let your app get close to filling up ram.  Java apps don&#39;t swap gracefully at all.  I think because of Garbage Collection, java constantly pulls its memory from swap.\r\n\r\nI ran into a deadlock where I think the system was asking java for memory which would cause a GC and pull stuff out of the swapfile--at this point the system would just spin until I reset it.\r\n\r\nThis was with a LOT of ram and a LOT of swap space (for the time) and an older Java VM, so your mileage may vary.\r\n\r\nAlso, depending on how you are starting that other app, you may have to specify -Xms for your app instead of the other one.  If you are giving it a full command, give it the -Xms, but if you are simply calling the main class in the jar, then your app needs the -Xms. (Oh, you specified, yeah you need to pass it into the &quot;Java&quot; command you are calling. )","title":"Java -Xmx, Max memory on system","body":"<p>Well, one thing I can tell you is don't let your app get close to filling up ram.  Java apps don't swap gracefully at all.  I think because of Garbage Collection, java constantly pulls its memory from swap.</p>\n\n<p>I ran into a deadlock where I think the system was asking java for memory which would cause a GC and pull stuff out of the swapfile--at this point the system would just spin until I reset it.</p>\n\n<p>This was with a LOT of ram and a LOT of swap space (for the time) and an older Java VM, so your mileage may vary.</p>\n\n<p>Also, depending on how you are starting that other app, you may have to specify -Xms for your app instead of the other one.  If you are giving it a full command, give it the -Xms, but if you are simply calling the main class in the jar, then your app needs the -Xms. (Oh, you specified, yeah you need to pass it into the \"Java\" command you are calling. )</p>\n"},{"comments":[{"owner":{"account_id":46406,"reputation":1801,"user_id":137081,"accept_rate":85,"display_name":"Amandeep Grewal"},"score":0,"creation_date":1248732050,"post_id":1190882,"comment_id":1013223,"body_markdown":"Starting the other application or starting my application poses the same issues. If I ran the other application with its main method, I still need my application to be able to use a lot of memory.","body":"Starting the other application or starting my application poses the same issues. If I ran the other application with its main method, I still need my application to be able to use a lot of memory."}],"tags":[],"owner":{"account_id":30969,"reputation":1022,"user_id":84740,"accept_rate":100,"display_name":"Lorin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248731937,"creation_date":1248731937,"answer_id":1190882,"question_id":1190837,"body_markdown":"Is there a reason you are using the OS to execute the program in the jar?  If you don&#39;t need it to execute in a separate process from your application, you could just invoke the main method directly from your code, and start your application with whatever -Xmx you want.","title":"Java -Xmx, Max memory on system","body":"<p>Is there a reason you are using the OS to execute the program in the jar?  If you don't need it to execute in a separate process from your application, you could just invoke the main method directly from your code, and start your application with whatever -Xmx you want.</p>\n"},{"tags":[],"owner":{"account_id":19961,"reputation":8693,"user_id":47222,"accept_rate":69,"display_name":"Geo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298379732,"creation_date":1248732156,"answer_id":1190902,"question_id":1190837,"body_markdown":"There is a complete blog post on how to troubleshoot java applications with jconsole and other tools in the following [blog][1].  Keep in mind that the lack of control of memory use is most probably a memory leak, but it could be due to other reasons as well.  Take a look to the post, try to replicate that scenario, and see if that solved your issue.\r\n\r\nhttp://www.kiragiannis.com/cloud-computing/debug-a-java-application-in-the-cloud/\r\n\r\n  [1]: http://www.kiragiannis.com/cloud-computing/debug-a-java-application-in-the-cloud/","title":"Java -Xmx, Max memory on system","body":"<p>There is a complete blog post on how to troubleshoot java applications with jconsole and other tools in the following <a href=\"http://www.kiragiannis.com/cloud-computing/debug-a-java-application-in-the-cloud/\" rel=\"nofollow noreferrer\">blog</a>.  Keep in mind that the lack of control of memory use is most probably a memory leak, but it could be due to other reasons as well.  Take a look to the post, try to replicate that scenario, and see if that solved your issue.</p>\n\n<p><a href=\"http://www.kiragiannis.com/cloud-computing/debug-a-java-application-in-the-cloud/\" rel=\"nofollow noreferrer\">http://www.kiragiannis.com/cloud-computing/debug-a-java-application-in-the-cloud/</a></p>\n"},{"tags":[],"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248735656,"creation_date":1248735656,"answer_id":1191107,"question_id":1190837,"body_markdown":"If you haven&#39;t done so already, you need to run your program through a memory profiler.  You might find that certain data structures aren&#39;t being disposed of, even though they&#39;re no longer being used.\r\n\r\nJProfiler is pretty nifty, but you can get the same information using HPROF, which was introduced in Java 5: http://java.sun.com/developer/technicalArticles/Programming/HPROF.html\r\n\r\nKeep in mind also that different platforms have different maximum heap sizes, based on architecture (32-bit vs 64-bit), OS, and even the JVM.\r\n\r\nIf you have a lot of values that may be reused (such as strings you&#39;re reading in from an XML file), you could get a huge decrease in memory requirements by pooling your objects.","title":"Java -Xmx, Max memory on system","body":"<p>If you haven't done so already, you need to run your program through a memory profiler.  You might find that certain data structures aren't being disposed of, even though they're no longer being used.</p>\n\n<p>JProfiler is pretty nifty, but you can get the same information using HPROF, which was introduced in Java 5: <a href=\"http://java.sun.com/developer/technicalArticles/Programming/HPROF.html\" rel=\"nofollow noreferrer\">http://java.sun.com/developer/technicalArticles/Programming/HPROF.html</a></p>\n\n<p>Keep in mind also that different platforms have different maximum heap sizes, based on architecture (32-bit vs 64-bit), OS, and even the JVM.</p>\n\n<p>If you have a lot of values that may be reused (such as strings you're reading in from an XML file), you could get a huge decrease in memory requirements by pooling your objects.</p>\n"},{"comments":[{"owner":{"account_id":46406,"reputation":1801,"user_id":137081,"accept_rate":85,"display_name":"Amandeep Grewal"},"score":2,"creation_date":1248739836,"post_id":1191157,"comment_id":1013752,"body_markdown":"Thank you! I tried that command on Windows and Linux, and it worked perfectly.","body":"Thank you! I tried that command on Windows and Linux, and it worked perfectly."},{"owner":{"account_id":7089,"reputation":11989,"user_id":12148,"accept_rate":79,"display_name":"David Waters"},"score":2,"creation_date":1254475427,"post_id":1191157,"comment_id":1362124,"body_markdown":"Looks like this will only work on the sun JVM, I need to deploy to IBM JVM, so can&#39;t run with every one will use sun.","body":"Looks like this will only work on the sun JVM, I need to deploy to IBM JVM, so can&#39;t run with every one will use sun."}],"tags":[],"owner":{"account_id":552972,"reputation":463,"user_id":95999,"display_name":"joe p"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1248736624,"creation_date":1248736624,"answer_id":1191157,"question_id":1190837,"body_markdown":"Depending on your OS, this might work for getting the free and available memory size:\r\n\r\n    java.lang.management.OperatingSystemMXBean mxbean = java.lang.management.ManagementFactory.getOperatingSystemMXBean();\r\n    com.sun.management.OperatingSystemMXBean sunmxbean = (com.sun.management.OperatingSystemMXBean) mxbean;\r\n    long freeMemory = sunmxbean.getFreePhysicalMemorySize();\r\n    long availableMemory = sunmxbean.getTotalPhysicalMemorySize();\r\n\r\nFrom there, you can figure out 80-90% and launch your jar with the max memory size you want.\r\n\r\nI don&#39;t know that this works with all OS&#39;s (i.e. Windows), but it worked when I tested it with both OSX and Linux.\r\n","title":"Java -Xmx, Max memory on system","body":"<p>Depending on your OS, this might work for getting the free and available memory size:</p>\n\n<pre><code>java.lang.management.OperatingSystemMXBean mxbean = java.lang.management.ManagementFactory.getOperatingSystemMXBean();\ncom.sun.management.OperatingSystemMXBean sunmxbean = (com.sun.management.OperatingSystemMXBean) mxbean;\nlong freeMemory = sunmxbean.getFreePhysicalMemorySize();\nlong availableMemory = sunmxbean.getTotalPhysicalMemorySize();\n</code></pre>\n\n<p>From there, you can figure out 80-90% and launch your jar with the max memory size you want.</p>\n\n<p>I don't know that this works with all OS's (i.e. Windows), but it worked when I tested it with both OSX and Linux.</p>\n"},{"tags":[],"owner":{"account_id":2031,"reputation":3715,"user_id":2789,"accept_rate":75,"display_name":"Tim Williscroft"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1357433640,"creation_date":1248736682,"answer_id":1191165,"question_id":1190837,"body_markdown":"The limit for -XmX is -Xmx1500m on 32 bit windows.\r\nShared libraries get in the way of a bigger heap.\r\nYou&#39;ll need about 2Gb of RAM to do this.\r\n\r\nOn non-windows OSes you can go bigger, and 64Bit JVM&#39;s are capable of a LOT more.\r\n\r\nWindows XP will not let you have more than 3Gb of RAM ( doesn&#39;t care if you have 4Gb physical, ever since XP SP3)\r\nVista may be different YMMV.\r\n\r\nI&#39;ve tried -Xmx4000M on a 64 bit JVM on 64 bit Linux and it was fine.\r\nconsidering I had 6Gb of physical ram, it was not a big request.\r\n\r\nYour 80% idea is interesting, but my test systems run higher percentages than that without ill effect. (As long as you don&#39;t try doing anything else.)\r\n\r\nAnd the other commenter is right, paging out your JVM&#39;s in-memory image is not quick.\r\nLater JVM&#39;s are better at doing this less messily ( but they have better garbage collectors too)\r\n\r\nIf you can&#39;t reduce your memory consumption – and I know how hard that is – then have lots of physical ram and allocate most of it. \r\n\r\n","title":"Java -Xmx, Max memory on system","body":"<p>The limit for -XmX is -Xmx1500m on 32 bit windows.\nShared libraries get in the way of a bigger heap.\nYou'll need about 2Gb of RAM to do this.</p>\n\n<p>On non-windows OSes you can go bigger, and 64Bit JVM's are capable of a LOT more.</p>\n\n<p>Windows XP will not let you have more than 3Gb of RAM ( doesn't care if you have 4Gb physical, ever since XP SP3)\nVista may be different YMMV.</p>\n\n<p>I've tried -Xmx4000M on a 64 bit JVM on 64 bit Linux and it was fine.\nconsidering I had 6Gb of physical ram, it was not a big request.</p>\n\n<p>Your 80% idea is interesting, but my test systems run higher percentages than that without ill effect. (As long as you don't try doing anything else.)</p>\n\n<p>And the other commenter is right, paging out your JVM's in-memory image is not quick.\nLater JVM's are better at doing this less messily ( but they have better garbage collectors too)</p>\n\n<p>If you can't reduce your memory consumption – and I know how hard that is – then have lots of physical ram and allocate most of it. </p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1700590243,"creation_date":1341689006,"answer_id":11377984,"question_id":1190837,"body_markdown":"```lang-none\r\n-XX:DefaultMaxRAMFraction=1\r\n```\r\n\r\n- [JDK-4408373 : Can we eliminate the -Xmx max heap &quot;glass ceiling&quot;?](https://bugs.java.com/bugdatabase/view_bug?bug_id=4408373)\r\n- [Sun&#39;s 1.5 JVM: the -XX:DefaultMaxRAM option and its cousins](https://web.archive.org/web/20090514085602/http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-12/msg01658.html)","title":"Java -Xmx, Max memory on system","body":"<pre class=\"lang-none prettyprint-override\"><code>-XX:DefaultMaxRAMFraction=1\n</code></pre>\n<ul>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4408373\" rel=\"nofollow noreferrer\">JDK-4408373 : Can we eliminate the -Xmx max heap &quot;glass ceiling&quot;?</a></li>\n<li><a href=\"https://web.archive.org/web/20090514085602/http://coding.derkeiler.com/Archive/Java/comp.lang.java.programmer/2006-12/msg01658.html\" rel=\"nofollow noreferrer\">Sun's 1.5 JVM: the -XX:DefaultMaxRAM option and its cousins</a></li>\n</ul>\n"}],"owner":{"account_id":46406,"reputation":1801,"user_id":137081,"accept_rate":85,"display_name":"Amandeep Grewal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64528,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":1191157,"answer_count":7,"score":24,"last_activity_date":1700590243,"creation_date":1248731346,"question_id":1190837,"body_markdown":"My Java application runs another Java application, by running the process &quot;java -jar j.jar&quot;. J.jar is known to use a LOT of memory depending on the dataset it is given, and often gets an OutOfMemoryError heap. So I want to use -Xmx on it, so that I can allocate as much memory as possible (or close to). I was thinking of getting the total memory on the system, then specifying 80-90% of that in -Xmx.\r\n\r\nIs there any solution to my problem? And, how does my solution sound?\r\n\r\nEdit: I cant reduce the memory consumption as the memory being used is by Java&#39;s built-in pack200 compression, which I am using to pack some JAR files.","title":"Java -Xmx, Max memory on system","body":"<p>My Java application runs another Java application, by running the process \"java -jar j.jar\". J.jar is known to use a LOT of memory depending on the dataset it is given, and often gets an OutOfMemoryError heap. So I want to use -Xmx on it, so that I can allocate as much memory as possible (or close to). I was thinking of getting the total memory on the system, then specifying 80-90% of that in -Xmx.</p>\n\n<p>Is there any solution to my problem? And, how does my solution sound?</p>\n\n<p>Edit: I cant reduce the memory consumption as the memory being used is by Java's built-in pack200 compression, which I am using to pack some JAR files.</p>\n"},{"tags":["java","javafx","scrollpane"],"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700464030,"post_id":77511989,"comment_id":136653168,"body_markdown":"Are there any sizes which needs to be updated when zooming? Are there fixed sizes, is your UI responsive? The bug might has to do something with &quot;it happens only on smaller devices&quot;.","body":"Are there any sizes which needs to be updated when zooming? Are there fixed sizes, is your UI responsive? The bug might has to do something with &quot;it happens only on smaller devices&quot;."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700521784,"post_id":77511989,"comment_id":136662753,"body_markdown":"You may have better luck receiving an answer if you provide a [mcve].","body":"You may have better luck receiving an answer if you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":0,"creation_date":1700628462,"post_id":77525018,"comment_id":136676759,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77525018/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29959978,"reputation":1,"user_id":22959961,"display_name":"Ken Karsson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700589903,"creation_date":1700589903,"answer_id":77525018,"question_id":77511989,"body_markdown":"Javafx components automatically adjust themselves according to the size available to them. Try removing the prefHeight and prefWidth, as it forces the components to use a particular dimension.","title":"Empty space when scaling ImageView with custom ScrollPane in JavaFX","body":"<p>Javafx components automatically adjust themselves according to the size available to them. Try removing the prefHeight and prefWidth, as it forces the components to use a particular dimension.</p>\n"}],"owner":{"account_id":24594711,"reputation":1,"user_id":18506438,"display_name":"Karim Khasan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700589903,"creation_date":1700418590,"question_id":77511989,"body_markdown":"I am developing an image processing application in JavaFX that involves zooming images using touchpad gestures. To achieve this, I have created a custom implementation of `ScrollPane` that handles both image scrolling and zooming with familiar gestures. I have included relevant code snippets and the FXML configuration of the scene.\r\n\r\n```java\r\npublic class ZoomableScrollPane extends ScrollPane {\r\n    private double scaleValue = 1;\r\n    private double zoomIntensity = 0.02;\r\n    private Node target;\r\n    private Node zoomNode;\r\n\r\n    public ZoomableScrollPane() {\r\n        super();\r\n    }\r\n\r\n    public void setTarget(Node target) {\r\n        this.target = target;\r\n        this.zoomNode = new Group(target);\r\n        setContent(outerNode(zoomNode));\r\n\r\n        setPannable(true);\r\n        setHbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\r\n        setVbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\r\n        setFitToHeight(true);\r\n        setFitToWidth(true);\r\n\r\n        updateScale();\r\n    }\r\n\r\n    private Node outerNode(Node node) {\r\n        Node outerNode = centeredNode(node);\r\n        outerNode.setOnScroll(e -&gt; {\r\n            e.consume();\r\n            onScroll(e.getTextDeltaY(), new Point2D(e.getX(), e.getY()));\r\n        });\r\n        return outerNode;\r\n    }\r\n\r\n    private Node centeredNode(Node node) {\r\n        VBox vBox = new VBox(node);\r\n        vBox.setAlignment(Pos.CENTER);\r\n        return vBox;\r\n    }\r\n\r\n    private void updateScale() {\r\n        target.setScaleX(scaleValue);\r\n        target.setScaleY(scaleValue);\r\n    }\r\n\r\n    private void onScroll(double wheelDelta, Point2D mousePoint) {\r\n        double zoomFactor = Math.exp(wheelDelta * zoomIntensity);\r\n\r\n        Bounds innerBounds = zoomNode.getLayoutBounds();\r\n        Bounds viewportBounds = getViewportBounds();\r\n\r\n        double valX = this.getHvalue() * (innerBounds.getWidth() - viewportBounds.getWidth());\r\n        double valY = this.getVvalue() * (innerBounds.getHeight() - viewportBounds.getHeight());\r\n\r\n        scaleValue = scaleValue * zoomFactor;\r\n        updateScale();\r\n        this.layout();\r\n\r\n        Point2D posInZoomTarget = target.parentToLocal(zoomNode.parentToLocal(mousePoint));\r\n\r\n        Point2D adjustment = target.getLocalToParentTransform().deltaTransform(posInZoomTarget.multiply(zoomFactor - 1));\r\n\r\n        Bounds updatedInnerBounds = zoomNode.getBoundsInLocal();\r\n        this.setHvalue((valX + adjustment.getX()) / (updatedInnerBounds.getWidth() - viewportBounds.getWidth()));\r\n        this.setVvalue((valY + adjustment.getY()) / (updatedInnerBounds.getHeight() - viewportBounds.getHeight()));\r\n    }\r\n}\r\n```\r\n\r\n```xml\r\n&lt;VBox xmlns:fx=&quot;http://javafx.com/fxml/1&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot;\r\n      xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; fx:controller=&quot;ru.itmo.grafix.ui.controllers.MainSceneController&quot;&gt;\r\n    &lt;MenuBar VBox.vgrow=&quot;NEVER&quot;&gt;\r\n      // Some menu stuff\r\n    &lt;/MenuBar&gt;\r\n    &lt;TabPane fx:id=&quot;tabPane&quot; tabClosingPolicy=&quot;ALL_TABS&quot; tabDragPolicy=&quot;REORDER&quot;/&gt;\r\n&lt;/VBox&gt;\r\n\r\n```\r\nThe ZoomableScrollPane instance is then anchored to the TabPane as follows\r\n```java\r\nprivate ImageView setImage(WritableImage img) {\r\n    ImageView imageView = new ImageView(img);\r\n    ZoomableScrollPane scrP = new ZoomableScrollPane();\r\n    scrP.setPrefSize(tabPane.getPrefWidth(), tabPane.getPrefHeight());\r\n    getActiveTab().setContent(scrP);\r\n    scrP.setTarget(imageView);\r\n    return imageView;\r\n}\r\n\r\nprivate Tab getActiveTab() {\r\n    return tabPane.getSelectionModel().getSelectedItem();\r\n}\r\n```\r\n\r\n\r\n\r\nThe issue I am encountering is related to the display of zoomed images. When opening small images and subsequently zooming in, a portion of the image at the bottom becomes overlapped by an empty white space that persists (screenshots available). \r\nThe image looks like this:\r\n[broken display](https://i.stack.imgur.com/vcjuV.jpg)\r\nwhereas expected to be like that:\r\n[Normal image display](https://i.stack.imgur.com/hfIMg.jpg)\r\n\r\n- I extended the ScrollPane class and implemented event handlers for zooming.\r\n- The images are displayed using JavaFX&#39;s ImageView within the ScrollPane.\r\n- The problem occurs specifically when zooming in on small images; larger images do not exhibit this behavior.\r\n- I have experimented with various properties of the ScrollPane, such as fitToWidth and fitToHeight, but have not been able to resolve the issue.\r\n\r\n\r\nHas anyone else encountered a similar problem or can provide insights into what might be causing this overlapping empty white space issue?","title":"Empty space when scaling ImageView with custom ScrollPane in JavaFX","body":"<p>I am developing an image processing application in JavaFX that involves zooming images using touchpad gestures. To achieve this, I have created a custom implementation of <code>ScrollPane</code> that handles both image scrolling and zooming with familiar gestures. I have included relevant code snippets and the FXML configuration of the scene.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ZoomableScrollPane extends ScrollPane {\n    private double scaleValue = 1;\n    private double zoomIntensity = 0.02;\n    private Node target;\n    private Node zoomNode;\n\n    public ZoomableScrollPane() {\n        super();\n    }\n\n    public void setTarget(Node target) {\n        this.target = target;\n        this.zoomNode = new Group(target);\n        setContent(outerNode(zoomNode));\n\n        setPannable(true);\n        setHbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\n        setVbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\n        setFitToHeight(true);\n        setFitToWidth(true);\n\n        updateScale();\n    }\n\n    private Node outerNode(Node node) {\n        Node outerNode = centeredNode(node);\n        outerNode.setOnScroll(e -&gt; {\n            e.consume();\n            onScroll(e.getTextDeltaY(), new Point2D(e.getX(), e.getY()));\n        });\n        return outerNode;\n    }\n\n    private Node centeredNode(Node node) {\n        VBox vBox = new VBox(node);\n        vBox.setAlignment(Pos.CENTER);\n        return vBox;\n    }\n\n    private void updateScale() {\n        target.setScaleX(scaleValue);\n        target.setScaleY(scaleValue);\n    }\n\n    private void onScroll(double wheelDelta, Point2D mousePoint) {\n        double zoomFactor = Math.exp(wheelDelta * zoomIntensity);\n\n        Bounds innerBounds = zoomNode.getLayoutBounds();\n        Bounds viewportBounds = getViewportBounds();\n\n        double valX = this.getHvalue() * (innerBounds.getWidth() - viewportBounds.getWidth());\n        double valY = this.getVvalue() * (innerBounds.getHeight() - viewportBounds.getHeight());\n\n        scaleValue = scaleValue * zoomFactor;\n        updateScale();\n        this.layout();\n\n        Point2D posInZoomTarget = target.parentToLocal(zoomNode.parentToLocal(mousePoint));\n\n        Point2D adjustment = target.getLocalToParentTransform().deltaTransform(posInZoomTarget.multiply(zoomFactor - 1));\n\n        Bounds updatedInnerBounds = zoomNode.getBoundsInLocal();\n        this.setHvalue((valX + adjustment.getX()) / (updatedInnerBounds.getWidth() - viewportBounds.getWidth()));\n        this.setVvalue((valY + adjustment.getY()) / (updatedInnerBounds.getHeight() - viewportBounds.getHeight()));\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;VBox xmlns:fx=&quot;http://javafx.com/fxml/1&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;640.0&quot;\n      xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; fx:controller=&quot;ru.itmo.grafix.ui.controllers.MainSceneController&quot;&gt;\n    &lt;MenuBar VBox.vgrow=&quot;NEVER&quot;&gt;\n      // Some menu stuff\n    &lt;/MenuBar&gt;\n    &lt;TabPane fx:id=&quot;tabPane&quot; tabClosingPolicy=&quot;ALL_TABS&quot; tabDragPolicy=&quot;REORDER&quot;/&gt;\n&lt;/VBox&gt;\n\n</code></pre>\n<p>The ZoomableScrollPane instance is then anchored to the TabPane as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ImageView setImage(WritableImage img) {\n    ImageView imageView = new ImageView(img);\n    ZoomableScrollPane scrP = new ZoomableScrollPane();\n    scrP.setPrefSize(tabPane.getPrefWidth(), tabPane.getPrefHeight());\n    getActiveTab().setContent(scrP);\n    scrP.setTarget(imageView);\n    return imageView;\n}\n\nprivate Tab getActiveTab() {\n    return tabPane.getSelectionModel().getSelectedItem();\n}\n</code></pre>\n<p>The issue I am encountering is related to the display of zoomed images. When opening small images and subsequently zooming in, a portion of the image at the bottom becomes overlapped by an empty white space that persists (screenshots available).\nThe image looks like this:\n<a href=\"https://i.stack.imgur.com/vcjuV.jpg\" rel=\"nofollow noreferrer\">broken display</a>\nwhereas expected to be like that:\n<a href=\"https://i.stack.imgur.com/hfIMg.jpg\" rel=\"nofollow noreferrer\">Normal image display</a></p>\n<ul>\n<li>I extended the ScrollPane class and implemented event handlers for zooming.</li>\n<li>The images are displayed using JavaFX's ImageView within the ScrollPane.</li>\n<li>The problem occurs specifically when zooming in on small images; larger images do not exhibit this behavior.</li>\n<li>I have experimented with various properties of the ScrollPane, such as fitToWidth and fitToHeight, but have not been able to resolve the issue.</li>\n</ul>\n<p>Has anyone else encountered a similar problem or can provide insights into what might be causing this overlapping empty white space issue?</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"score":0,"creation_date":1700674606,"post_id":77524998,"comment_id":136684682,"body_markdown":"Your problem is unclear. Please add xml file, SimpleExpression library and error screenshot","body":"Your problem is unclear. Please add xml file, SimpleExpression library and error screenshot"}],"owner":{"account_id":27756775,"reputation":1,"user_id":21190039,"display_name":"CSharp2023"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700589721,"creation_date":1700589721,"question_id":77524998,"body_markdown":"I&#39;m using android studio so I&#39;m not sure if I change the attributes linked to the xml files or in the MainActivity.java file. I tried to change the color of the text to be the same as the background so 0 would appear invisible but would get insufficient color contrast warnings. If i set that same text view to a transparent color I also get the same warning message. \r\n\r\n    package com.example.calculator;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n\r\n    import android.view.View;\r\n\r\n    import android.widget.TextView;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    //Task 1: Declare UI objects to be referenced\r\n    private TextView mNumberDisplay;\r\n\r\n    //Task 2: Declare variables to compute calculations\r\n\r\n    private SimpleExpression mExpression;\r\n\r\n    private TextView textView1;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my);\r\n\r\n        //Task 3: Get reference to the UI component (TextView)\r\n        mNumberDisplay = (TextView) findViewById(R.id.textView1);\r\n\r\n        //Task 4: Create the data Model for storing numbers\r\n        //and calculating the result\r\n        mExpression = new SimpleExpression();\r\n        }\r\n\r\n        //When the AC button is clicked\r\n        public void goAC (View view) {\r\n            //display 0\r\n            mNumberDisplay.setText(&quot;0&quot;);\r\n            //initialize both operands to 0 in data Model\r\n            mExpression.clearOperands();\r\n        }\r\n\r\n            //When the digit button is clicked, display the number\r\n            public void goOperand (View view) {\r\n            //Get the value that is displayed in TextView1\r\n            String val = (String) mNumberDisplay.getText();\r\n            //Get the single digit that is clicked from the button\r\n            String digit = (String) view.getContentDescription();\r\n            //If the value that is displayed in TextView1\r\n            //is a single digit and 0 and a button is clicked\r\n            //Then display the single digit\r\n            //Else when there is more than a single digit\r\n            //Then append what is displayed in TextView1\r\n            //to the single digit that is clicked\r\n            if (val.equals(&quot;0&quot;)) {\r\n            mNumberDisplay.setText(digit);\r\n            } else {\r\n            mNumberDisplay.setText(String.format(&quot;%s%s&quot;, mNumberDisplay.getText(),digit));  \r\n            }\r\n            }\r\n            //When the operator button is clicked\r\n           public void goOperator (View view) {\r\n           //Get the operator that is clicked from the button\r\n           String operator = (String) view.getContentDescription();\r\n\r\n          //Get operand1 (String) that is displayed in TextView1\r\n          String val = (String) mNumberDisplay.getText();\r\n          //Convert the String to an Integer\r\n          //and send operand1 to the data Model\r\n          mExpression.setOperand1(Integer.parseInt(val));\r\n\r\n          //Send operator to data Model\r\n          mExpression.setOperator(operator);\r\n\r\n          //Display 0 in TextView1 to get ready to take in Operand2\r\n          mNumberDisplay.setText(&quot;0&quot;);\r\n        }\r\n\r\n        //When the = button is clicked, display result\r\n        public void goCompute (View view) {\r\n        //Get operand2 (String) that is displayed in TextView1\r\n        String val = (String) mNumberDisplay.getText();\r\n        //Convert the String to an Integer\r\n        //and send operand2 to the data Model\r\n        mExpression.setOperand2(Integer.parseInt(val));\r\n\r\n        //Display the result in TextView1 by calling getValue()\r\n        //then converting (int)getValue into a String\r\n        mNumberDisplay.setText(String.format(&quot;%s&quot;, mExpression.getValue()));\r\n\r\n        }\r\n        }\r\n\r\n","title":"How do I change the code so that the 0 text operand is not visible only in between entering numbers and operators?","body":"<p>I'm using android studio so I'm not sure if I change the attributes linked to the xml files or in the MainActivity.java file. I tried to change the color of the text to be the same as the background so 0 would appear invisible but would get insufficient color contrast warnings. If i set that same text view to a transparent color I also get the same warning message.</p>\n<pre><code>package com.example.calculator;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\nimport android.view.View;\n\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n//Task 1: Declare UI objects to be referenced\nprivate TextView mNumberDisplay;\n\n//Task 2: Declare variables to compute calculations\n\nprivate SimpleExpression mExpression;\n\nprivate TextView textView1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_my);\n\n    //Task 3: Get reference to the UI component (TextView)\n    mNumberDisplay = (TextView) findViewById(R.id.textView1);\n\n    //Task 4: Create the data Model for storing numbers\n    //and calculating the result\n    mExpression = new SimpleExpression();\n    }\n\n    //When the AC button is clicked\n    public void goAC (View view) {\n        //display 0\n        mNumberDisplay.setText(&quot;0&quot;);\n        //initialize both operands to 0 in data Model\n        mExpression.clearOperands();\n    }\n\n        //When the digit button is clicked, display the number\n        public void goOperand (View view) {\n        //Get the value that is displayed in TextView1\n        String val = (String) mNumberDisplay.getText();\n        //Get the single digit that is clicked from the button\n        String digit = (String) view.getContentDescription();\n        //If the value that is displayed in TextView1\n        //is a single digit and 0 and a button is clicked\n        //Then display the single digit\n        //Else when there is more than a single digit\n        //Then append what is displayed in TextView1\n        //to the single digit that is clicked\n        if (val.equals(&quot;0&quot;)) {\n        mNumberDisplay.setText(digit);\n        } else {\n        mNumberDisplay.setText(String.format(&quot;%s%s&quot;, mNumberDisplay.getText(),digit));  \n        }\n        }\n        //When the operator button is clicked\n       public void goOperator (View view) {\n       //Get the operator that is clicked from the button\n       String operator = (String) view.getContentDescription();\n\n      //Get operand1 (String) that is displayed in TextView1\n      String val = (String) mNumberDisplay.getText();\n      //Convert the String to an Integer\n      //and send operand1 to the data Model\n      mExpression.setOperand1(Integer.parseInt(val));\n\n      //Send operator to data Model\n      mExpression.setOperator(operator);\n\n      //Display 0 in TextView1 to get ready to take in Operand2\n      mNumberDisplay.setText(&quot;0&quot;);\n    }\n\n    //When the = button is clicked, display result\n    public void goCompute (View view) {\n    //Get operand2 (String) that is displayed in TextView1\n    String val = (String) mNumberDisplay.getText();\n    //Convert the String to an Integer\n    //and send operand2 to the data Model\n    mExpression.setOperand2(Integer.parseInt(val));\n\n    //Display the result in TextView1 by calling getValue()\n    //then converting (int)getValue into a String\n    mNumberDisplay.setText(String.format(&quot;%s&quot;, mExpression.getValue()));\n\n    }\n    }\n</code></pre>\n"},{"tags":["java","android","android-activity"],"owner":{"account_id":29957181,"reputation":1,"user_id":22957808,"display_name":"Igor Trud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700589575,"creation_date":1700589575,"question_id":77524988,"body_markdown":"I am trying to open an Activity in my application on VirtualDisplay to capture it and send to DIY hardware screen. VirtualDisplay is created normally, but I got a:\r\nFATAL EXCEPTION: main\r\n```\r\nProcess: igor.test, PID: 3197\r\njava.lang.SecurityException: Permission Denial: starting Intent { cmp=igor.test/.Activity2 } from ProcessRecord{b7e2614 3197:ru.igor.test/u0a184} (pid=3197, uid=10184) with launchDisplayId=45\r\n\tat android.os.Parcel.createExceptionOrNull(Parcel.java:2373)\r\n\tat android.os.Parcel.createException(Parcel.java:2357)\r\n\tat android.os.Parcel.readException(Parcel.java:2340)\r\n\tat android.os.Parcel.readException(Parcel.java:2282)\r\n\tat android.app.IActivityTaskManager$Stub$Proxy.startActivity(IActivityTaskManager.java:3696)\r\n\tat android.app.Instrumentation.execStartActivity(Instrumentation.java:1723)\r\n\tat android.app.Activity.startActivityForResult(Activity.java:5314)\r\n\tat androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\r\n\tat android.app.Activity.startActivity(Activity.java:5654)\r\n\tat igor.test.MainActivity.onClick(MainActivity.java:182)\r\n\tat android.view.View.performClick(View.java:7448)\r\n\tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\r\n\tat android.view.View.performClickInternal(View.java:7425)\r\n\tat android.view.View.access$3600(View.java:810)\r\n\tat android.view.View$PerformClick.run(View.java:28305)\r\n\tat android.os.Handler.handleCallback(Handler.java:938)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loop(Looper.java:223)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7656)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\nCaused by: android.os.RemoteException: Remote stack trace:\r\n\tat com.android.server.wm.SafeActivityOptions.checkPermissions(SafeActivityOptions.java:234)\r\n\tat com.android.server.wm.SafeActivityOptions.getOptions(SafeActivityOptions.java:125)\r\n\tat com.android.server.wm.ActivityStarter.executeRequest(ActivityStarter.java:1023)\r\n\tat com.android.server.wm.ActivityStarter.execute(ActivityStarter.java:669)\r\n\tat com.android.server.wm.ActivityTaskManagerService.startActivityAsUser(ActivityTaskManagerService.java:1100)\r\n```\r\n\r\n\r\nI tried to change VirtualDisplay creating flags, and even got a MediaProjection service started, as it suggested in error description when I try to set flags to:\r\n`flags = DisplayManager.VIRTUAL_DISPLAY_FLAG_PRESENTATION`\r\n\r\nAll this stuff run in a single Application, but error is still there...\r\n\r\nAny suggestions ?","title":"Why I am not able to start Activity on VirtualDisplay created in the same application?","body":"<p>I am trying to open an Activity in my application on VirtualDisplay to capture it and send to DIY hardware screen. VirtualDisplay is created normally, but I got a:\nFATAL EXCEPTION: main</p>\n<pre><code>Process: igor.test, PID: 3197\njava.lang.SecurityException: Permission Denial: starting Intent { cmp=igor.test/.Activity2 } from ProcessRecord{b7e2614 3197:ru.igor.test/u0a184} (pid=3197, uid=10184) with launchDisplayId=45\n    at android.os.Parcel.createExceptionOrNull(Parcel.java:2373)\n    at android.os.Parcel.createException(Parcel.java:2357)\n    at android.os.Parcel.readException(Parcel.java:2340)\n    at android.os.Parcel.readException(Parcel.java:2282)\n    at android.app.IActivityTaskManager$Stub$Proxy.startActivity(IActivityTaskManager.java:3696)\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1723)\n    at android.app.Activity.startActivityForResult(Activity.java:5314)\n    at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:728)\n    at android.app.Activity.startActivity(Activity.java:5654)\n    at igor.test.MainActivity.onClick(MainActivity.java:182)\n    at android.view.View.performClick(View.java:7448)\n    at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1202)\n    at android.view.View.performClickInternal(View.java:7425)\n    at android.view.View.access$3600(View.java:810)\n    at android.view.View$PerformClick.run(View.java:28305)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: android.os.RemoteException: Remote stack trace:\n    at com.android.server.wm.SafeActivityOptions.checkPermissions(SafeActivityOptions.java:234)\n    at com.android.server.wm.SafeActivityOptions.getOptions(SafeActivityOptions.java:125)\n    at com.android.server.wm.ActivityStarter.executeRequest(ActivityStarter.java:1023)\n    at com.android.server.wm.ActivityStarter.execute(ActivityStarter.java:669)\n    at com.android.server.wm.ActivityTaskManagerService.startActivityAsUser(ActivityTaskManagerService.java:1100)\n</code></pre>\n<p>I tried to change VirtualDisplay creating flags, and even got a MediaProjection service started, as it suggested in error description when I try to set flags to:\n<code>flags = DisplayManager.VIRTUAL_DISPLAY_FLAG_PRESENTATION</code></p>\n<p>All this stuff run in a single Application, but error is still there...</p>\n<p>Any suggestions ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1700584330,"post_id":77523898,"comment_id":136671427,"body_markdown":"While return types are covariant, generics are invariant, but you can use bounding to specify a covariant (`List&lt;? extends Parent&gt;`) or contravariant (`List&lt;? super Parent&gt;`) generic type. That said, be mindful of PECS (producer extends, consumer super): you&#39;d want the `?super` syntax for a class which _accepts_ those generic types, and the `?extends` for a class that _produces_ those generic types.","body":"While return types are covariant, generics are invariant, but you can use bounding to specify a covariant (<code>List&lt;? extends Parent&gt;</code>) or contravariant (<code>List&lt;? super Parent&gt;</code>) generic type. That said, be mindful of PECS (producer extends, consumer super): you&#39;d want the <code>?super</code> syntax for a class which <i>accepts</i> those generic types, and the <code>?extends</code> for a class that <i>produces</i> those generic types."}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700581521,"post_id":77524019,"comment_id":136670853,"body_markdown":"I believe in special [JLS 8.4.8.4. Inheriting Methods with Override-Equivalent Signatures](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.8.4): &quot;**One of the inherited methods must be return-type-substitutable for every other inherited method; otherwise, a compile-time error occurs. (The throws clauses do not cause errors in this case.)**&quot; (original emphasis)","body":"I believe in special <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.4.8.4\" rel=\"nofollow noreferrer\">JLS 8.4.8.4. Inheriting Methods with Override-Equivalent Signatures</a>: &quot;<b>One of the inherited methods must be return-type-substitutable for every other inherited method; otherwise, a compile-time error occurs. (The throws clauses do not cause errors in this case.)</b>&quot; (original emphasis)"}],"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700580589,"creation_date":1700580589,"answer_id":77524019,"question_id":77523898,"body_markdown":"That would be long but I&#39;ll explain :)\r\n\r\nFirst of all, [in JLS, section 8.4.8][1], the following is specified:\r\n\r\n&gt; A class C inherits from its direct superclass all concrete methods m (both static and instance) of the superclass for which all of the following are true:\r\n\r\n\r\n\r\nTherefore, your method `calculateList()` is actually overridden by the `Child`. That&#39;s right - the `static` method is inherited from `Parent` although it is bound to a class but not to an instance.\r\n\r\nThus, because you inherit it, by redeclaring it you actually override it (This is also stated in JLS). So you have to retain the signature **and the return type** ([Which is not part of the signature btw][2]). \r\n\r\nFinally, you changed the return type from `List&lt;Parent&gt;` to `List&lt;Child&gt;`, but because in Java [generics are invariant][3], `List&lt;Child&gt;` **is NOT** a subtype of `List&lt;Parent&gt;`. Therefore, you break the return type, thus you get the error.\r\n\r\n\r\nSo, by changing the name of the `static` method in `Child`, you no longer override an inherited `calculateList()`, therefore you do not cause any clash.\r\n\r\nHope it helped, have a nice day.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#:~:text=RuntimeException(%2290%20mph%3F!%22)%3B%20%7D%0A%7D-,8.4.8.%C2%A0Inheritance%2C%20Overriding%2C%20and%20Hiding,-A%20class%20C\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2\r\n  [3]: https://www.cl.cam.ac.uk/teaching/1516/ConceptsPL/variancetypo.pdf","title":"static method on child class with parametrized type","body":"<p>That would be long but I'll explain :)</p>\n<p>First of all, <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#:%7E:text=RuntimeException(%2290%20mph%3F!%22)%3B%20%7D%0A%7D-,8.4.8.%C2%A0Inheritance%2C%20Overriding%2C%20and%20Hiding,-A%20class%20C\" rel=\"nofollow noreferrer\">in JLS, section 8.4.8</a>, the following is specified:</p>\n<blockquote>\n<p>A class C inherits from its direct superclass all concrete methods m (both static and instance) of the superclass for which all of the following are true:</p>\n</blockquote>\n<p>Therefore, your method <code>calculateList()</code> is actually overridden by the <code>Child</code>. That's right - the <code>static</code> method is inherited from <code>Parent</code> although it is bound to a class but not to an instance.</p>\n<p>Thus, because you inherit it, by redeclaring it you actually override it (This is also stated in JLS). So you have to retain the signature <strong>and the return type</strong> (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.2\" rel=\"nofollow noreferrer\">Which is not part of the signature btw</a>).</p>\n<p>Finally, you changed the return type from <code>List&lt;Parent&gt;</code> to <code>List&lt;Child&gt;</code>, but because in Java <a href=\"https://www.cl.cam.ac.uk/teaching/1516/ConceptsPL/variancetypo.pdf\" rel=\"nofollow noreferrer\">generics are invariant</a>, <code>List&lt;Child&gt;</code> <strong>is NOT</strong> a subtype of <code>List&lt;Parent&gt;</code>. Therefore, you break the return type, thus you get the error.</p>\n<p>So, by changing the name of the <code>static</code> method in <code>Child</code>, you no longer override an inherited <code>calculateList()</code>, therefore you do not cause any clash.</p>\n<p>Hope it helped, have a nice day.</p>\n"},{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700583119,"post_id":77524053,"comment_id":136671170,"body_markdown":"My understanding of the question was that the OP didn&#39;t think static functions would override those of a superclass, so why does it matter what type they return? That seems a reasonable expectation: after all, static methods don&#39;t take part in polymorphism, so why should they override?","body":"My understanding of the question was that the OP didn&#39;t think static functions would override those of a superclass, so why does it matter what type they return? That seems a reasonable expectation: after all, static methods don&#39;t take part in polymorphism, so why should they override?"},{"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"score":0,"creation_date":1700583263,"post_id":77524053,"comment_id":136671203,"body_markdown":"correct, I expected a child method to hide the parent method, not override it... the example is synthetic, real life application is a bit more complex, Arrays.asList is just an array wrapped in a list so an Array with extra poking bits... fixed size, mutable elements so exactly as it says on the tin.","body":"correct, I expected a child method to hide the parent method, not override it... the example is synthetic, real life application is a bit more complex, Arrays.asList is just an array wrapped in a list so an Array with extra poking bits... fixed size, mutable elements so exactly as it says on the tin."},{"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"score":0,"creation_date":1700583543,"post_id":77524053,"comment_id":136671265,"body_markdown":"overridden static methods happen all the time, that&#39;s a usual way of getting new object instances like &lt;class&gt;.createInstance()","body":"overridden static methods happen all the time, that&#39;s a usual way of getting new object instances like &lt;class&gt;.createInstance()"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1700618393,"post_id":77524053,"comment_id":136675982,"body_markdown":"Yes, static methods don&#39;t &quot;do&quot; inheritance, nevertheless, java-the-lang-spec erroneously think they do and applies things like `final` and the rules about overriding and what that means for return types to it. Hence, you can either [A] adhere to the rules, even if they don&#39;t accomplish anything, or [B] name your method differently to avoid the issue that the java lang spec is merely imagining exists here.","body":"Yes, static methods don&#39;t &quot;do&quot; inheritance, nevertheless, java-the-lang-spec erroneously think they do and applies things like <code>final</code> and the rules about overriding and what that means for return types to it. Hence, you can either [A] adhere to the rules, even if they don&#39;t accomplish anything, or [B] name your method differently to avoid the issue that the java lang spec is merely imagining exists here."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700580844,"creation_date":1700580844,"answer_id":77524053,"question_id":77523898,"body_markdown":"Generics are invariant _by default_, but you can change that per signature.\r\n\r\n__invariant__ means, only the type is acceptable, not any super- or subtype of it.\r\n\r\nThis is in contrast to __covariant__. Standard java is covariant - a subtype is acceptable anywhere. For a trivial example:\r\n\r\n```\r\nInteger i = 5;\r\nNumber n = i;\r\n```\r\n\r\nis perfectly legal java code. This is covariance: an Integer (a subtype of Number) is acceptable anywhere a Number is needed. In generics, this does not work:\r\n\r\n```\r\nList&lt;Integer&gt; listOfI = List.of(5);\r\nList&lt;Number&gt; listOfN = listOfI; // nope, compiler error\r\n```\r\n\r\nIt&#39;s invariant because it has to be. After all, this is, of course, totally legal and has to be because basic java is covariant:\r\n\r\n```\r\nlistOfN.add(someDoubleValue);\r\n```\r\n\r\nHowever, if that previous snippet (`listOfN = listOfI`) was legal, we just.. added a double to a list of integers, whoooops.\r\n\r\nThe solution is simple. You want to __opt in__ to covariance. That&#39;s done with `extends`. Update your `calculateList` method in parent to:\r\n\r\n```\r\nstatic List&lt;? extends Parent&gt; calculateList() {\r\n  return List.of(...);\r\n}\r\n```\r\n\r\n`List&lt;? extends Parent&gt;` means:\r\n\r\nThis is a list of.. I don&#39;t actually know what the list is restricted to (hence, the question mark: That stands for &quot;I do not know&quot;). However, I do know that, whatever it is, it&#39;s either `Parent`, or some subtype of Parent. Hence, if you call `.get(idx)` on this list, that expression is of type `Parent`. But, `.add()`? You can&#39;t call that, at all. You can only do things to a `List&lt;? extends Parent&gt;` that would be fine for __all__ possible variants (so, fine for `List&lt;Parent&gt;`, fine `List&lt;Child&gt;`, fine for `List&lt;GrandChild&gt;`, and fine for `List&lt;SecondChild&gt;`. Trivially, nothing you can pass as argument to `.add(x)` fits that bill, other than the `null` literal, which indeed, you can do, but that&#39;s academic/pointless).\r\n\r\nA few notes:\r\n\r\n* `Arrays.asList` bad. Use `List.of` (asList is neither fully mutable nor fully immutable; the worst of both worlds. Do not use it).\r\n* `static` methods that you also override is weird. Perhaps you want a factory instead.\r\n","title":"static method on child class with parametrized type","body":"<p>Generics are invariant <em>by default</em>, but you can change that per signature.</p>\n<p><strong>invariant</strong> means, only the type is acceptable, not any super- or subtype of it.</p>\n<p>This is in contrast to <strong>covariant</strong>. Standard java is covariant - a subtype is acceptable anywhere. For a trivial example:</p>\n<pre><code>Integer i = 5;\nNumber n = i;\n</code></pre>\n<p>is perfectly legal java code. This is covariance: an Integer (a subtype of Number) is acceptable anywhere a Number is needed. In generics, this does not work:</p>\n<pre><code>List&lt;Integer&gt; listOfI = List.of(5);\nList&lt;Number&gt; listOfN = listOfI; // nope, compiler error\n</code></pre>\n<p>It's invariant because it has to be. After all, this is, of course, totally legal and has to be because basic java is covariant:</p>\n<pre><code>listOfN.add(someDoubleValue);\n</code></pre>\n<p>However, if that previous snippet (<code>listOfN = listOfI</code>) was legal, we just.. added a double to a list of integers, whoooops.</p>\n<p>The solution is simple. You want to <strong>opt in</strong> to covariance. That's done with <code>extends</code>. Update your <code>calculateList</code> method in parent to:</p>\n<pre><code>static List&lt;? extends Parent&gt; calculateList() {\n  return List.of(...);\n}\n</code></pre>\n<p><code>List&lt;? extends Parent&gt;</code> means:</p>\n<p>This is a list of.. I don't actually know what the list is restricted to (hence, the question mark: That stands for &quot;I do not know&quot;). However, I do know that, whatever it is, it's either <code>Parent</code>, or some subtype of Parent. Hence, if you call <code>.get(idx)</code> on this list, that expression is of type <code>Parent</code>. But, <code>.add()</code>? You can't call that, at all. You can only do things to a <code>List&lt;? extends Parent&gt;</code> that would be fine for <strong>all</strong> possible variants (so, fine for <code>List&lt;Parent&gt;</code>, fine <code>List&lt;Child&gt;</code>, fine for <code>List&lt;GrandChild&gt;</code>, and fine for <code>List&lt;SecondChild&gt;</code>. Trivially, nothing you can pass as argument to <code>.add(x)</code> fits that bill, other than the <code>null</code> literal, which indeed, you can do, but that's academic/pointless).</p>\n<p>A few notes:</p>\n<ul>\n<li><code>Arrays.asList</code> bad. Use <code>List.of</code> (asList is neither fully mutable nor fully immutable; the worst of both worlds. Do not use it).</li>\n<li><code>static</code> methods that you also override is weird. Perhaps you want a factory instead.</li>\n</ul>\n"}],"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77524019,"answer_count":2,"score":0,"last_activity_date":1700589098,"creation_date":1700579535,"question_id":77523898,"body_markdown":"I have a Parent and a Child class:\r\n\r\nParent.java\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Parent {\r\n\r\n  private final String name;\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public Parent(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  static Parent create() {\r\n    return new Parent(&quot;Parent&quot;);\r\n  }\r\n\r\n  static List&lt;Parent&gt; createList() {\r\n    return Arrays.asList(new Parent(&quot;Father&quot;), new Parent(&quot;Mother&quot;));\r\n  }\r\n}\r\n```\r\n\r\nChild.Java\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Child extends Parent {\r\n\r\n  public Child(String name) {\r\n    super(name);\r\n  }\r\n\r\n  static Child create() {\r\n    return new Child(&quot;Child&quot;);\r\n  }\r\n\r\n  static List&lt;Child&gt; createList() {\r\n    return Arrays.asList(new Child(&quot;Brother&quot;), new Child(&quot;Sister&quot;));\r\n  }\r\n}\r\n```\r\n\r\nI get a &quot;The return type is incompatible with Parent.createList() Java(67109268)&quot;, but in this case `List&lt;Parent&gt; Parent.createList()` is static, and so is `List&lt;Child&gt; Child.createList()` and the create() methods works as I would expect.\r\n\r\nChanging method names or return types would solve this issue, but I&#39;m interested in why this is happening with static non abstract class methods, have researched on forums, but haven&#39;t found a solution.\r\n\r\nIn case anyone wonders, the way around this is the same as in instance methods:\r\n\r\nParent:\r\n```\r\n  static List&lt;? extends Parent&gt; createList() {\r\n    return Arrays.asList(new Parent(&quot;father&quot;), new Parent(&quot;mother&quot;));\r\n  }\r\n```\r\nChild:\r\n```\r\n  static List&lt;? extends Child&gt; createList() {\r\n    return Arrays.asList(new Child(&quot;son&quot;), new Child(&quot;daughter&quot;));\r\n  }\r\n```\r\nGrandchild:\r\n```\r\n  static List&lt;? extends GrandChild&gt; createList() {\r\n    return Arrays.asList(new GrandChild(&quot;grandson&quot;), new GrandChild(&quot;granddaughter&quot;));\r\n  }\r\n```\r\nUsage:\r\n```\r\n    {\r\n      List&lt;? extends Child&gt; childList = Child.createList();\r\n      childList.forEach(System.out::println);\r\n    }\r\n    {\r\n      List&lt;Child&gt; childList = new ArrayList&lt;&gt;();\r\n      childList.addAll(Child.createList());\r\n      childList.forEach(System.out::println);\r\n    }\r\n```","title":"static method on child class with parametrized type","body":"<p>I have a Parent and a Child class:</p>\n<p>Parent.java</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic class Parent {\n\n  private final String name;\n\n  public String getName() {\n    return name;\n  }\n\n  public Parent(String name) {\n    this.name = name;\n  }\n\n  static Parent create() {\n    return new Parent(&quot;Parent&quot;);\n  }\n\n  static List&lt;Parent&gt; createList() {\n    return Arrays.asList(new Parent(&quot;Father&quot;), new Parent(&quot;Mother&quot;));\n  }\n}\n</code></pre>\n<p>Child.Java</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic class Child extends Parent {\n\n  public Child(String name) {\n    super(name);\n  }\n\n  static Child create() {\n    return new Child(&quot;Child&quot;);\n  }\n\n  static List&lt;Child&gt; createList() {\n    return Arrays.asList(new Child(&quot;Brother&quot;), new Child(&quot;Sister&quot;));\n  }\n}\n</code></pre>\n<p>I get a &quot;The return type is incompatible with Parent.createList() Java(67109268)&quot;, but in this case <code>List&lt;Parent&gt; Parent.createList()</code> is static, and so is <code>List&lt;Child&gt; Child.createList()</code> and the create() methods works as I would expect.</p>\n<p>Changing method names or return types would solve this issue, but I'm interested in why this is happening with static non abstract class methods, have researched on forums, but haven't found a solution.</p>\n<p>In case anyone wonders, the way around this is the same as in instance methods:</p>\n<p>Parent:</p>\n<pre><code>  static List&lt;? extends Parent&gt; createList() {\n    return Arrays.asList(new Parent(&quot;father&quot;), new Parent(&quot;mother&quot;));\n  }\n</code></pre>\n<p>Child:</p>\n<pre><code>  static List&lt;? extends Child&gt; createList() {\n    return Arrays.asList(new Child(&quot;son&quot;), new Child(&quot;daughter&quot;));\n  }\n</code></pre>\n<p>Grandchild:</p>\n<pre><code>  static List&lt;? extends GrandChild&gt; createList() {\n    return Arrays.asList(new GrandChild(&quot;grandson&quot;), new GrandChild(&quot;granddaughter&quot;));\n  }\n</code></pre>\n<p>Usage:</p>\n<pre><code>    {\n      List&lt;? extends Child&gt; childList = Child.createList();\n      childList.forEach(System.out::println);\n    }\n    {\n      List&lt;Child&gt; childList = new ArrayList&lt;&gt;();\n      childList.addAll(Child.createList());\n      childList.forEach(System.out::println);\n    }\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1680325408,"post_id":75897850,"comment_id":133883264,"body_markdown":"Your code seems to be a incomplete copy of the code of [XSSFWorkbook.java:cloneSheet](https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi-ooxml/src/main/java/org/apache/poi/xssf/usermodel/XSSFWorkbook.java?view=markup#l616). Why not simple using `XSSFWorkbook.cloneSheet`? I guess because this clones sheet into the same workbook only. But if that could be simply changed, Apache POI would have done this, no? Copy the source file as much times as you need and then delete not wanted sheets from each copy. After that you have &quot;split an Excel file with multiple sheets into multiple Excel files&quot;.","body":"Your code seems to be a incomplete copy of the code of <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi-ooxml/src/main/java/org/apache/poi/xssf/usermodel/XSSFWorkbook.java?view=markup#l616\" rel=\"nofollow noreferrer\">XSSFWorkbook.java:cloneSheet</a>. Why not simple using <code>XSSFWorkbook.cloneSheet</code>? I guess because this clones sheet into the same workbook only. But if that could be simply changed, Apache POI would have done this, no? Copy the source file as much times as you need and then delete not wanted sheets from each copy. After that you have &quot;split an Excel file with multiple sheets into multiple Excel files&quot;."},{"owner":{"account_id":14519125,"reputation":85,"user_id":10487259,"display_name":"KhanhND"},"score":0,"creation_date":1680520636,"post_id":75897850,"comment_id":133906908,"body_markdown":"Thank you for your attention. As you mentioned, I have tried to remove all unnecessary sheets from each new xlsx file, but the problem is that when I write out a new WB (which only contains one sheet), the file size is still the same as the original file. But when I opened it with Microsoft Excel and saved it again, the file size decreased as I expected. I&#39;m using removeSheetAt(index) to remove sheet by sheet, but it looks like it still has some sheet relations or the sheet is only marked as deleted but not completely removed. Could you please give me some advice?","body":"Thank you for your attention. As you mentioned, I have tried to remove all unnecessary sheets from each new xlsx file, but the problem is that when I write out a new WB (which only contains one sheet), the file size is still the same as the original file. But when I opened it with Microsoft Excel and saved it again, the file size decreased as I expected. I&#39;m using removeSheetAt(index) to remove sheet by sheet, but it looks like it still has some sheet relations or the sheet is only marked as deleted but not completely removed. Could you please give me some advice?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1680538079,"post_id":75897850,"comment_id":133911661,"body_markdown":"You are correct `Workbook.removeSheetAt` lacks removing the embedded media files when the removed sheet contains a drawing having relations to embedded media files. You could file a bug about this issue here: https://bz.apache.org/bugzilla/buglist.cgi?product=POI.","body":"You are correct <code>Workbook.removeSheetAt</code> lacks removing the embedded media files when the removed sheet contains a drawing having relations to embedded media files. You could file a bug about this issue here: <a href=\"https://bz.apache.org/bugzilla/buglist.cgi?product=POI\" rel=\"nofollow noreferrer\">bz.apache.org/bugzilla/buglist.cgi?product=POI</a>."}],"answers":[{"tags":[],"owner":{"account_id":7604834,"reputation":1,"user_id":5768045,"display_name":"Andrescoutt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700589092,"creation_date":1700160902,"answer_id":77497383,"question_id":75897850,"body_markdown":"\r\nThis worked for me. This method copies an image located at a certain row and column and pastes it into a different excel file that has the same worksheet name. Of course it can be modified to your specific needs.\r\n\r\n\tpublic void copyCellPicturesFromXLSX1_toXLSX2(String srcFilePath, String dstFilePath, String sheetName, int srcRowNum, int colNum, int dstRowNum)\r\n\t{\r\n\t\ttry {\r\n\t\t\tWorkbook srcWB = WorkbookFactory.create(new FileInputStream(srcFilePath));\r\n\t\t\tWorkbook dstWB = WorkbookFactory.create(new FileInputStream(dstFilePath));\r\n\t\t\tSheet srcSH = srcWB.getSheet(sheetName);\r\n\t\t\tSheet dstSH = dstWB.getSheet(sheetName);\r\n\t\t\tDrawing srcdraw = srcSH.createDrawingPatriarch();\r\n\t\t\tDrawing dstdraw = dstSH.createDrawingPatriarch();\r\n\t\t\tList&lt;Picture&gt; pics = new ArrayList&lt;Picture&gt;();\r\n\t\t\tint pictureIdx, row, col;\r\n\t\t\tif (srcdraw instanceof HSSFPatriarch) \r\n\t\t\t{\r\n\t\t\t\tHSSFPatriarch hp = (HSSFPatriarch)srcdraw;\r\n\t\t\t\tfor (HSSFShape hs : hp.getChildren()) \r\n\t\t\t\t{\r\n\t\t\t\t\tif (hs instanceof Picture)  \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Picture found in HSSF&quot;);\r\n\t\t\t\t\t\tpics.add((Picture)hs);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tXSSFDrawing xdraw = (XSSFDrawing)srcdraw;\r\n\t\t\t\tfor (XSSFShape xs : xdraw.getShapes()) \r\n\t\t\t\t{\r\n\t\t\t\t\tif (xs instanceof Picture) \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Picture found in XSSF&quot;);\r\n\t\t\t\t\t\tpics.add((Picture)xs);\r\n\r\n\t\t\t\t\t\tXSSFClientAnchor srcanchor = (XSSFClientAnchor) xs.getAnchor();\r\n\t\t\t\t\t\tcol = srcanchor.getCol1();\r\n\t\t\t\t\t\trow = srcanchor.getRow1();\r\n\r\n\t\t\t\t\t\tif(row==srcRowNum &amp;&amp; col==colNum)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Picture to get from XSSF&quot;);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Row:&quot;+srcRowNum);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Col:&quot;+col);\r\n\t\t\t\t\t\t\tbyte [] bap = ((Picture) xs).getPictureData().getData();\r\n\r\n\t\t\t\t\t\t\tCreationHelper helper = dstWB.getCreationHelper();\r\n\t\t\t\t\t\t\tClientAnchor dstanchor = helper.createClientAnchor();\r\n\t\t\t\t\t\t\tdstanchor.setCol1(col); \r\n\t\t\t\t\t\t\tdstanchor.setCol2(col);\r\n                            dstanchor.setRow1(dstRowNum);\r\n\t\t\t\t\t\t\tdstanchor.setRow2(dstRowNum);\r\n\t\t\t\t\t\t\tdstanchor.setDx1(srcanchor.getDx1());\r\n\t\t\t\t\t\t\tdstanchor.setDx2(srcanchor.getDx2());\r\n\t\t\t\t\t\t\tdstanchor.setDy1(srcanchor.getDy1());\r\n\t\t\t\t\t\t\tdstanchor.setDy2(srcanchor.getDy2());\r\n\t\t\t\t\t\t\tpictureIdx = dstWB.addPicture(bap, Workbook.PICTURE_TYPE_PNG);\r\n\t\t\t\t\t\t\tdstdraw.createPicture(dstanchor, pictureIdx);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdstWB.write(new FileOutputStream(new File(dstFilePath))); //Finally write the changes to the workbook\r\n\t\t\tsrcWB.close();\r\n\t\t\tdstWB.close();\r\n\t\t} catch (EncryptedDocumentException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n","title":"How to copy image from old worksheet into new one","body":"<p>This worked for me. This method copies an image located at a certain row and column and pastes it into a different excel file that has the same worksheet name. Of course it can be modified to your specific needs.</p>\n<pre><code>public void copyCellPicturesFromXLSX1_toXLSX2(String srcFilePath, String dstFilePath, String sheetName, int srcRowNum, int colNum, int dstRowNum)\n{\n    try {\n        Workbook srcWB = WorkbookFactory.create(new FileInputStream(srcFilePath));\n        Workbook dstWB = WorkbookFactory.create(new FileInputStream(dstFilePath));\n        Sheet srcSH = srcWB.getSheet(sheetName);\n        Sheet dstSH = dstWB.getSheet(sheetName);\n        Drawing srcdraw = srcSH.createDrawingPatriarch();\n        Drawing dstdraw = dstSH.createDrawingPatriarch();\n        List&lt;Picture&gt; pics = new ArrayList&lt;Picture&gt;();\n        int pictureIdx, row, col;\n        if (srcdraw instanceof HSSFPatriarch) \n        {\n            HSSFPatriarch hp = (HSSFPatriarch)srcdraw;\n            for (HSSFShape hs : hp.getChildren()) \n            {\n                if (hs instanceof Picture)  \n                {\n                    System.out.println(&quot;Picture found in HSSF&quot;);\n                    pics.add((Picture)hs);\n                }\n            }\n        } \n        else \n        {\n            XSSFDrawing xdraw = (XSSFDrawing)srcdraw;\n            for (XSSFShape xs : xdraw.getShapes()) \n            {\n                if (xs instanceof Picture) \n                {\n                    System.out.println(&quot;Picture found in XSSF&quot;);\n                    pics.add((Picture)xs);\n\n                    XSSFClientAnchor srcanchor = (XSSFClientAnchor) xs.getAnchor();\n                    col = srcanchor.getCol1();\n                    row = srcanchor.getRow1();\n\n                    if(row==srcRowNum &amp;&amp; col==colNum)\n                    {\n                        System.out.println(&quot;Picture to get from XSSF&quot;);\n                        System.out.println(&quot;Row:&quot;+srcRowNum);\n                        System.out.println(&quot;Col:&quot;+col);\n                        byte [] bap = ((Picture) xs).getPictureData().getData();\n\n                        CreationHelper helper = dstWB.getCreationHelper();\n                        ClientAnchor dstanchor = helper.createClientAnchor();\n                        dstanchor.setCol1(col); \n                        dstanchor.setCol2(col);\n                        dstanchor.setRow1(dstRowNum);\n                        dstanchor.setRow2(dstRowNum);\n                        dstanchor.setDx1(srcanchor.getDx1());\n                        dstanchor.setDx2(srcanchor.getDx2());\n                        dstanchor.setDy1(srcanchor.getDy1());\n                        dstanchor.setDy2(srcanchor.getDy2());\n                        pictureIdx = dstWB.addPicture(bap, Workbook.PICTURE_TYPE_PNG);\n                        dstdraw.createPicture(dstanchor, pictureIdx);\n                        \n                    }\n                }\n            }\n        }\n        dstWB.write(new FileOutputStream(new File(dstFilePath))); //Finally write the changes to the workbook\n        srcWB.close();\n        dstWB.close();\n    } catch (EncryptedDocumentException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14519125,"reputation":85,"user_id":10487259,"display_name":"KhanhND"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700589092,"creation_date":1680260966,"question_id":75897850,"body_markdown":"I am working with the Apache POI API to split an Excel file with multiple sheets into multiple Excel files, with each file containing only one sheet.\r\nHowever, it seems that when I attempted to move an image from an old worksheet to a new one, it had no impact; when I opened the excel file, the images should have been displayed, but all I saw was blank images placeholder, as can be seen in the image below.\r\n\r\nHere is my code (to copy an image from an old worksheet into a new worksheet):\r\n\r\n    private void copyImage(XSSFSheet srcSheet_, XSSFSheet dstSheet_) {\r\n        XSSFWorkbook srcWorkbook_ = srcSheet_.getWorkbook();\r\n        XSSFWorkbook dstWorkbook_ = dstSheet_.getWorkbook();\r\n\r\n        List&lt;POIXMLDocumentPart&gt; pdp = srcWorkbook_.getRelations();\r\n        List&lt;POIXMLDocumentPart.RelationPart&gt; rels = srcSheet_.getRelationParts();\r\n        XSSFDrawing dg = null;\r\n        for (POIXMLDocumentPart.RelationPart rp : rels) {\r\n            POIXMLDocumentPart r = rp.getDocumentPart();\r\n            if (r instanceof XSSFDrawing) {\r\n                dg = (XSSFDrawing) r;\r\n                continue;\r\n            }\r\n            addRelation(rp, dstSheet_);\r\n        }\r\n\r\n        try {\r\n            for (PackageRelationship pr : srcSheet_.getPackagePart().getRelationships()) {\r\n                if (pr.getTargetMode() == TargetMode.EXTERNAL) {\r\n                    dstSheet_.getPackagePart().addExternalRelationship(pr.getTargetURI().toASCIIString(), pr.getRelationshipType(), pr.getId());\r\n                }\r\n            }\r\n        } catch (org.apache.poi.openxml4j.exceptions.InvalidFormatException e) {\r\n            throw new POIXMLException(&quot;Failed to clone sheet&quot;, e);\r\n        }\r\n\r\n        CTWorksheet ct = dstSheet_.getCTWorksheet();\r\n        if (ct.isSetLegacyDrawing()) {\r\n            log.atWarn().log(&quot;Cloning sheets with comments is not yet supported.&quot;);\r\n            ct.unsetLegacyDrawing();\r\n        }\r\n        if (ct.isSetPageSetup()) {\r\n            log.atWarn().log(&quot;Cloning sheets with page setup is not yet supported.&quot;);\r\n            ct.unsetPageSetup();\r\n        }\r\n\r\n        dstSheet_.setSelected(false);\r\n\r\n        if (dg != null) {\r\n            if (ct.isSetDrawing()) {\r\n                ct.unsetDrawing();\r\n            }\r\n            XSSFDrawing clonedDg = dstSheet_.createDrawingPatriarch();\r\n            // copy drawing contents\r\n            clonedDg.getCTDrawing().set(dg.getCTDrawing().copy());\r\n\r\n            XSSFDrawing drawingPatriarch = srcSheet_.getDrawingPatriarch();\r\n            if (drawingPatriarch != null) {\r\n                List&lt;POIXMLDocumentPart.RelationPart&gt; srcRels = drawingPatriarch.getRelationParts();\r\n                for (POIXMLDocumentPart.RelationPart rp : srcRels) {\r\n                    POIXMLDocumentPart r = rp.getDocumentPart();\r\n                    int chartNumber = r.getPackagePart().getPackage().getPartsByContentType(XSSFRelation.CHART.getContentType()).size() + 1;\r\n                    int imageNumber = r.getPackagePart().getPackage().getPartsByContentType(XSSFRelation.IMAGE_PNG.getContentType()).size() + 1;\r\n                    if (r instanceof XSSFChart) {\r\n                        POIXMLDocumentPart.RelationPart chartPart = clonedDg.createRelationship(XSSFRelation.CHART, dstWorkbook_.getXssfFactory(), chartNumber, false);\r\n                        XSSFChart chart = chartPart.getDocumentPart();\r\n                        chart.importContent((XSSFChart) r);\r\n                        chart.replaceReferences(dstSheet_);\r\n                    }\r\n                    else if (r instanceof XSSFPictureData){\r\n                        XSSFPictureData img = r.createRelationship(XSSFRelation.IMAGE_PNG, dstWorkbook_.getXssfFactory(), imageNumber,true).getDocumentPart();\r\n                        try (OutputStream out = img.getPackagePart().getOutputStream()){\r\n                            out.write(((XSSFPictureData) r).getData());\r\n                        }catch (IOException e){\r\n                            throw new POIXMLException(e);\r\n                        }\r\n                    }\r\n                    else {\r\n                        addRelation(rp, clonedDg);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\nI also do the trick: rename the extension from &#39;.xlsx&#39; to &#39;.zip&#39; and extract it, then compare the original (renamed and extracted) with the new excel file. I found that in the new excel file, the &#39;media&#39; folder and &#39;drawings/_rel&#39; folder were not created.\r\n\r\nCould you guys help me explain what I&#39;m missing here?\r\n\r\n  [1]: https://i.stack.imgur.com/yT2Tf.png","title":"How to copy image from old worksheet into new one","body":"<p>I am working with the Apache POI API to split an Excel file with multiple sheets into multiple Excel files, with each file containing only one sheet.\nHowever, it seems that when I attempted to move an image from an old worksheet to a new one, it had no impact; when I opened the excel file, the images should have been displayed, but all I saw was blank images placeholder, as can be seen in the image below.</p>\n<p>Here is my code (to copy an image from an old worksheet into a new worksheet):</p>\n<pre><code>private void copyImage(XSSFSheet srcSheet_, XSSFSheet dstSheet_) {\n    XSSFWorkbook srcWorkbook_ = srcSheet_.getWorkbook();\n    XSSFWorkbook dstWorkbook_ = dstSheet_.getWorkbook();\n\n    List&lt;POIXMLDocumentPart&gt; pdp = srcWorkbook_.getRelations();\n    List&lt;POIXMLDocumentPart.RelationPart&gt; rels = srcSheet_.getRelationParts();\n    XSSFDrawing dg = null;\n    for (POIXMLDocumentPart.RelationPart rp : rels) {\n        POIXMLDocumentPart r = rp.getDocumentPart();\n        if (r instanceof XSSFDrawing) {\n            dg = (XSSFDrawing) r;\n            continue;\n        }\n        addRelation(rp, dstSheet_);\n    }\n\n    try {\n        for (PackageRelationship pr : srcSheet_.getPackagePart().getRelationships()) {\n            if (pr.getTargetMode() == TargetMode.EXTERNAL) {\n                dstSheet_.getPackagePart().addExternalRelationship(pr.getTargetURI().toASCIIString(), pr.getRelationshipType(), pr.getId());\n            }\n        }\n    } catch (org.apache.poi.openxml4j.exceptions.InvalidFormatException e) {\n        throw new POIXMLException(&quot;Failed to clone sheet&quot;, e);\n    }\n\n    CTWorksheet ct = dstSheet_.getCTWorksheet();\n    if (ct.isSetLegacyDrawing()) {\n        log.atWarn().log(&quot;Cloning sheets with comments is not yet supported.&quot;);\n        ct.unsetLegacyDrawing();\n    }\n    if (ct.isSetPageSetup()) {\n        log.atWarn().log(&quot;Cloning sheets with page setup is not yet supported.&quot;);\n        ct.unsetPageSetup();\n    }\n\n    dstSheet_.setSelected(false);\n\n    if (dg != null) {\n        if (ct.isSetDrawing()) {\n            ct.unsetDrawing();\n        }\n        XSSFDrawing clonedDg = dstSheet_.createDrawingPatriarch();\n        // copy drawing contents\n        clonedDg.getCTDrawing().set(dg.getCTDrawing().copy());\n\n        XSSFDrawing drawingPatriarch = srcSheet_.getDrawingPatriarch();\n        if (drawingPatriarch != null) {\n            List&lt;POIXMLDocumentPart.RelationPart&gt; srcRels = drawingPatriarch.getRelationParts();\n            for (POIXMLDocumentPart.RelationPart rp : srcRels) {\n                POIXMLDocumentPart r = rp.getDocumentPart();\n                int chartNumber = r.getPackagePart().getPackage().getPartsByContentType(XSSFRelation.CHART.getContentType()).size() + 1;\n                int imageNumber = r.getPackagePart().getPackage().getPartsByContentType(XSSFRelation.IMAGE_PNG.getContentType()).size() + 1;\n                if (r instanceof XSSFChart) {\n                    POIXMLDocumentPart.RelationPart chartPart = clonedDg.createRelationship(XSSFRelation.CHART, dstWorkbook_.getXssfFactory(), chartNumber, false);\n                    XSSFChart chart = chartPart.getDocumentPart();\n                    chart.importContent((XSSFChart) r);\n                    chart.replaceReferences(dstSheet_);\n                }\n                else if (r instanceof XSSFPictureData){\n                    XSSFPictureData img = r.createRelationship(XSSFRelation.IMAGE_PNG, dstWorkbook_.getXssfFactory(), imageNumber,true).getDocumentPart();\n                    try (OutputStream out = img.getPackagePart().getOutputStream()){\n                        out.write(((XSSFPictureData) r).getData());\n                    }catch (IOException e){\n                        throw new POIXMLException(e);\n                    }\n                }\n                else {\n                    addRelation(rp, clonedDg);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yT2Tf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yT2Tf.png\" alt=\"enter image description here\" /></a>\nI also do the trick: rename the extension from '.xlsx' to '.zip' and extract it, then compare the original (renamed and extracted) with the new excel file. I found that in the new excel file, the 'media' folder and 'drawings/_rel' folder were not created.</p>\n<p>Could you guys help me explain what I'm missing here?</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700584268,"post_id":77524397,"comment_id":136671415,"body_markdown":"Does this answer your question? [Running a .sql script using MySQL with JDBC](https://stackoverflow.com/questions/1044194/running-a-sql-script-using-mysql-with-jdbc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1044194/running-a-sql-script-using-mysql-with-jdbc\">Running a .sql script using MySQL with JDBC</a>"},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1700585137,"post_id":77524397,"comment_id":136671586,"body_markdown":"*\\i* is not a Postgres server command it is a meta-command understood only by the client `psql`. I would think that opening the file in Java and executing each command is the way to go.","body":"<i>\\i</i> is not a Postgres server command it is a meta-command understood only by the client <code>psql</code>. I would think that opening the file in Java and executing each command is the way to go."},{"owner":{"account_id":29959114,"reputation":11,"user_id":22959315,"display_name":"Supetorus"},"score":0,"creation_date":1700588462,"post_id":77524397,"comment_id":136672210,"body_markdown":"Ah, that explains a lot @AdrianKlaver.","body":"Ah, that explains a lot @AdrianKlaver."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1701879018,"post_id":77524397,"comment_id":136830081,"body_markdown":"Why not just run psql from java as a process? or is psql not available?","body":"Why not just run psql from java as a process? or is psql not available?"},{"owner":{"account_id":29959114,"reputation":11,"user_id":22959315,"display_name":"Supetorus"},"score":0,"creation_date":1702046925,"post_id":77524397,"comment_id":136853020,"body_markdown":"@siggemannen I would have to figure out how to provide input to psql after it was run. When I run the psql command it immediately prompts for password, there isn&#39;t a way to pass the password with the original command as an argument or anything. I&#39;m sure there is a way I could give it the password but it would take more research. In any case my boss has asked me to do it a different way now.","body":"@siggemannen I would have to figure out how to provide input to psql after it was run. When I run the psql command it immediately prompts for password, there isn&#39;t a way to pass the password with the original command as an argument or anything. I&#39;m sure there is a way I could give it the password but it would take more research. In any case my boss has asked me to do it a different way now."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1702047537,"post_id":77524397,"comment_id":136853139,"body_markdown":"Perhaps it&#39;s better just to convert scripts to something runnable","body":"Perhaps it&#39;s better just to convert scripts to something runnable"}],"answers":[{"comments":[{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1700589344,"post_id":77524902,"comment_id":136672352,"body_markdown":"Using DuckDuckGo and the search phrase *postgresql \\i* gave me in the second result [psql](https://www.postgresql.org/docs/current/app-psql.html) which has section *Meta-Commands* where they are all laid out.","body":"Using DuckDuckGo and the search phrase <i>postgresql \\i</i> gave me in the second result <a href=\"https://www.postgresql.org/docs/current/app-psql.html\" rel=\"nofollow noreferrer\">psql</a> which has section <i>Meta-Commands</i> where they are all laid out."},{"owner":{"account_id":29959114,"reputation":11,"user_id":22959315,"display_name":"Supetorus"},"score":0,"creation_date":1700604423,"post_id":77524902,"comment_id":136674675,"body_markdown":"If only I knew they were called meta-commands, or just had the patience to read that far down the page. I got my degree in game development... now here I am doing full stack web development, learning on the spot.\n\nVery helpful link though. I&#39;ll spend some more time checking that out.","body":"If only I knew they were called meta-commands, or just had the patience to read that far down the page. I got my degree in game development... now here I am doing full stack web development, learning on the spot.  Very helpful link though. I&#39;ll spend some more time checking that out."},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1700604845,"post_id":77524902,"comment_id":136674717,"body_markdown":"In browser Ctrl+F then *\\i*. Altogether significantly &lt; 6 hours.","body":"In browser Ctrl+F then <i>\\i</i>. Altogether significantly &lt; 6 hours."},{"owner":{"account_id":29959114,"reputation":11,"user_id":22959315,"display_name":"Supetorus"},"score":0,"creation_date":1701096917,"post_id":77524902,"comment_id":136729295,"body_markdown":"If only I was that smart. This is why I never use stack overflow. I spend hours trying to solve a problem only to come here and be told that if only I was smart enough to solve the problem then I could have solved the problem.","body":"If only I was that smart. This is why I never use stack overflow. I spend hours trying to solve a problem only to come here and be told that if only I was smart enough to solve the problem then I could have solved the problem."}],"tags":[],"owner":{"account_id":29959114,"reputation":11,"user_id":22959315,"display_name":"Supetorus"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700588886,"creation_date":1700588743,"answer_id":77524902,"question_id":77524397,"body_markdown":"The specific thing I&#39;m trying to do is not possible because as @AdrianKlaver commented, `\\i` is not a postgres server command, but rather a command specifically for the `psql` command line tool. Therefore I would either have to parse and run each command myself, loading the `\\i` referenced files recursively, or find a way to run the `psql` tool and provide the password to it.\r\n\r\nI would suggest that this issue and answer are specific and useful enough to persist on this forum because I spent 6 hours searching for how to do this and did not find the vital information provided by @AdrianKlaver anywhere.","title":"How to execute sql script with PostgreSQL specific features in Java","body":"<p>The specific thing I'm trying to do is not possible because as @AdrianKlaver commented, <code>\\i</code> is not a postgres server command, but rather a command specifically for the <code>psql</code> command line tool. Therefore I would either have to parse and run each command myself, loading the <code>\\i</code> referenced files recursively, or find a way to run the <code>psql</code> tool and provide the password to it.</p>\n<p>I would suggest that this issue and answer are specific and useful enough to persist on this forum because I spent 6 hours searching for how to do this and did not find the vital information provided by @AdrianKlaver anywhere.</p>\n"}],"owner":{"account_id":29959114,"reputation":11,"user_id":22959315,"display_name":"Supetorus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1700588886,"creation_date":1700583817,"question_id":77524397,"body_markdown":"I have a project with a large number of `.sql` files which create a database. We use it when we onboard a new person or add a new client. The sql files use the PostgreSQL \\i command to call each other, so we normally just call the `psql` command to run the `startup.sql` file and it runs all the rest.\r\n\r\nI need to call the `startup.sql` file from a java program. \r\n\r\nI tried using JDBC, but it doesn&#39;t accept the `\\` character so it fails to execute when it reaches `\\i`. I thought using the PgConnection extension would let me get around the restriction of JDBC but it still fails.\r\n```\r\nPgConnection connection = (PgConnection) DriverManager.getConnection(connectionString, username, password);\r\nconnection.createStatement().execute(&quot;\\\\i ./db_init/startup.sql&quot;); // fails on syntax error at or near &quot;\\&quot;\r\nconnection.execSQLQuery(&quot;\\\\i ./db_init/startup.sql&quot;); // fails on syntax error at or near &quot;\\&quot;\r\n```\r\n\r\nI have also looked into using a `Process` to run the `psql` command line tool but it hangs. I think because it requests the user&#39;s password, but that prompt isn&#39;t passed back to the terminal running the java program there is no way to enter the password. Perhaps I could figure out how to wire the input and output up but when I looked into it that seemed pretty complicated. I would prefer to connect directly to the database anyways, rather than having java execute an external program.","title":"How to execute sql script with PostgreSQL specific features in Java","body":"<p>I have a project with a large number of <code>.sql</code> files which create a database. We use it when we onboard a new person or add a new client. The sql files use the PostgreSQL \\i command to call each other, so we normally just call the <code>psql</code> command to run the <code>startup.sql</code> file and it runs all the rest.</p>\n<p>I need to call the <code>startup.sql</code> file from a java program.</p>\n<p>I tried using JDBC, but it doesn't accept the <code>\\</code> character so it fails to execute when it reaches <code>\\i</code>. I thought using the PgConnection extension would let me get around the restriction of JDBC but it still fails.</p>\n<pre><code>PgConnection connection = (PgConnection) DriverManager.getConnection(connectionString, username, password);\nconnection.createStatement().execute(&quot;\\\\i ./db_init/startup.sql&quot;); // fails on syntax error at or near &quot;\\&quot;\nconnection.execSQLQuery(&quot;\\\\i ./db_init/startup.sql&quot;); // fails on syntax error at or near &quot;\\&quot;\n</code></pre>\n<p>I have also looked into using a <code>Process</code> to run the <code>psql</code> command line tool but it hangs. I think because it requests the user's password, but that prompt isn't passed back to the terminal running the java program there is no way to enter the password. Perhaps I could figure out how to wire the input and output up but when I looked into it that seemed pretty complicated. I would prefer to connect directly to the database anyways, rather than having java execute an external program.</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":10597075,"reputation":1975,"user_id":7805359,"display_name":"Nazarii Moshenskiy"},"score":1,"creation_date":1700616027,"post_id":77524713,"comment_id":136675782,"body_markdown":"This answer might resolve the issue: https://stackoverflow.com/a/74425347/7805359","body":"This answer might resolve the issue: <a href=\"https://stackoverflow.com/a/74425347/7805359\">stackoverflow.com/a/74425347/7805359</a>"},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":1,"creation_date":1700642214,"post_id":77524713,"comment_id":136678431,"body_markdown":"Can you add your build.gradle file containing the kotlin version ?","body":"Can you add your build.gradle file containing the kotlin version ?"},{"owner":{"account_id":12799592,"reputation":3910,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"score":0,"creation_date":1700653544,"post_id":77524713,"comment_id":136680495,"body_markdown":"@NazariiMoshenskiy, yes adding `ext.kotlin_version = &#39;1.8.0&#39;` helped.","body":"@NazariiMoshenskiy, yes adding <code>ext.kotlin_version = &#39;1.8.0&#39;</code> helped."},{"owner":{"account_id":12799592,"reputation":3910,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"score":1,"creation_date":1700653603,"post_id":77524713,"comment_id":136680506,"body_markdown":"@ItzDavi There was nothing related to Kotlin in my `build.gradle`, but adding `ext.kotlin_version = &#39;1.8.0&#39;` helped.","body":"@ItzDavi There was nothing related to Kotlin in my <code>build.gradle</code>, but adding <code>ext.kotlin_version = &#39;1.8.0&#39;</code> helped."}],"owner":{"account_id":12799592,"reputation":3910,"user_id":9261322,"accept_rate":75,"display_name":"Alexey Starinsky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700653523,"answer_count":0,"score":0,"last_activity_date":1700588795,"creation_date":1700586878,"question_id":77524713,"body_markdown":"I [updated an SDK][1] in my Android app from\r\n\r\n    implementation &#39;com.yandex.android:mobileads:5.10.0&#39;\r\n    implementation &#39;com.yandex.ads.mediation:mobileads-admob:22.1.0.0&#39;\r\n\r\nto\r\n\r\n    implementation &#39;com.yandex.android:mobileads:6.2.0&#39;\r\n    implementation &#39;com.yandex.ads.mediation:mobileads-google:22.4.0.0&#39;\r\n\r\nin my `build.gradle`, and got the following errors:\r\n\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n    e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\r\n\r\nDoes it mean that I need a newer Java version?\r\n\r\nNow my Java version is probably 1.8, at least I have the following in `build.gradle`:\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\nand build the project with Java from `C:\\Program Files\\Android\\Android Studio\\jbr\\bin`:\r\n\r\n    javac --version\r\n    javac 17.0.6\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77523584/dependency-version-should-be-updated","title":"Module was compiled with an incompatible version of Kotlin, its metadata is 1.8.0, expected version is 1.6.0","body":"<p>I <a href=\"https://stackoverflow.com/questions/77523584/dependency-version-should-be-updated\">updated an SDK</a> in my Android app from</p>\n<pre><code>implementation 'com.yandex.android:mobileads:5.10.0'\nimplementation 'com.yandex.ads.mediation:mobileads-admob:22.1.0.0'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'com.yandex.android:mobileads:6.2.0'\nimplementation 'com.yandex.ads.mediation:mobileads-google:22.4.0.0'\n</code></pre>\n<p>in my <code>build.gradle</code>, and got the following errors:</p>\n<pre><code>e: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/dmitr/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n</code></pre>\n<p>Does it mean that I need a newer Java version?</p>\n<p>Now my Java version is probably 1.8, at least I have the following in <code>build.gradle</code>:</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>and build the project with Java from <code>C:\\Program Files\\Android\\Android Studio\\jbr\\bin</code>:</p>\n<pre><code>javac --version\njavac 17.0.6\n</code></pre>\n"},{"tags":["java","spring-boot","junit","dbunit","spring-test-dbunit"],"owner":{"account_id":25733039,"reputation":1,"user_id":19488313,"display_name":"stripes137"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700588196,"creation_date":1700588196,"question_id":77524857,"body_markdown":"I have a DatabaseUpdateRunner class that executes SQL scripts on an Oracle database. In my unit test, I&#39;m trying to see if a view was created as expected and check the contents.\r\n\r\n```\r\npublic class Mig1OraTests extends MigOraTestsBase {\r\n\r\n\t@Test\r\n\t@DatabaseSetup(connection = ORA_DB_UNIT_CXN, value = &quot;Mig1-i.xml&quot;)\r\n\t@ExpectedDatabase(connection = EXPECTED_ORA_DB_UNIT_CXN, value = &quot;Mig1-e.xml&quot;,\r\n\t\tassertionMode = DatabaseAssertionMode.NON_STRICT_UNORDERED)\r\n\tpublic void whenExecuteMig1_thenPerformOpWithSuccess() {\r\n\t\tdatabaseUpdateRunner.execute();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nThe problem I&#39;m struggling with is that if I define my database connection bean with the property I think I need(so that the view is seen as a table and I can make assertions on it using the @ExpectedDatabase with a given xml)\r\n```\r\n    DatabaseConnection databaseConnection = new DatabaseConnection(dataSource.getConnection());\r\n    DatabaseConfig config = databaseConnection.getConfig();\r\n      config\r\n          .setProperty(DatabaseConfig.PROPERTY_TABLE_TYPE, new String[]{&quot;TABLE&quot;, &quot;VIEW&quot;});\r\n\r\n``` \r\nI get this error suggesting that there are multiple instances of the view, instead of my previous `org.dbunit.dataset.NoSuchTableException` for MY_VIEW:\r\n```\r\nMY_VIEW\r\norg.dbunit.database.AmbiguousTableNameException: MY_VIEW\r\n\tat org.dbunit.dataset.OrderedTableNameMap.add(OrderedTableNameMap.java:198)\r\n\tat org.dbunit.database.DatabaseDataSet.initialize(DatabaseDataSet.java:244)\r\n\tat org.dbunit.database.DatabaseDataSet.getTable(DatabaseDataSet.java:329)\r\n\tat com.github.springtestdbunit.assertion.NonStrictDatabaseAssertion.assertEquals(NonStrictDatabaseAssertion.java:47)\r\n\tat com.github.springtestdbunit.DbUnitRunner.verifyExpected(DbUnitRunner.java:154)\r\n\tat com.github.springtestdbunit.DbUnitRunner.verifyExpected(DbUnitRunner.java:120)\r\n\tat com.github.springtestdbunit.DbUnitRunner.afterTestMethod(DbUnitRunner.java:86)\r\n\tat com.github.springtestdbunit.DbUnitTestExecutionListener.afterTestMethod(DbUnitTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:441)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:121)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n```\r\n\r\nMig1-i.xml structure:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;dataset&gt;\r\n    &lt;TABLE1 COL1=&quot;COL1_VL&quot; COL2=&quot;COL2_VL&quot;/&gt;\r\n    &lt;TABLE2 COL3=&quot;COL3_VL&quot;/&gt;\r\n&lt;/dataset&gt;\r\n```\r\n\r\nMig1-e.xml structure:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;dataset&gt;\r\n    &lt;MY_VIEW COL1=&quot;COL1_VL&quot; COL2=&quot;COL2_VL&quot; COL3=&quot;COL3_VL&quot;/&gt;\r\n&lt;/dataset&gt;\r\n```\r\n\r\n**Any clue how to solve this WITHOUT setting a schema?**","title":"DBUnit behavior when checking view contents","body":"<p>I have a DatabaseUpdateRunner class that executes SQL scripts on an Oracle database. In my unit test, I'm trying to see if a view was created as expected and check the contents.</p>\n<pre><code>public class Mig1OraTests extends MigOraTestsBase {\n\n    @Test\n    @DatabaseSetup(connection = ORA_DB_UNIT_CXN, value = &quot;Mig1-i.xml&quot;)\n    @ExpectedDatabase(connection = EXPECTED_ORA_DB_UNIT_CXN, value = &quot;Mig1-e.xml&quot;,\n        assertionMode = DatabaseAssertionMode.NON_STRICT_UNORDERED)\n    public void whenExecuteMig1_thenPerformOpWithSuccess() {\n        databaseUpdateRunner.execute();\n    }\n}\n</code></pre>\n<p>The problem I'm struggling with is that if I define my database connection bean with the property I think I need(so that the view is seen as a table and I can make assertions on it using the @ExpectedDatabase with a given xml)</p>\n<pre><code>    DatabaseConnection databaseConnection = new DatabaseConnection(dataSource.getConnection());\n    DatabaseConfig config = databaseConnection.getConfig();\n      config\n          .setProperty(DatabaseConfig.PROPERTY_TABLE_TYPE, new String[]{&quot;TABLE&quot;, &quot;VIEW&quot;});\n\n</code></pre>\n<p>I get this error suggesting that there are multiple instances of the view, instead of my previous <code>org.dbunit.dataset.NoSuchTableException</code> for MY_VIEW:</p>\n<pre><code>MY_VIEW\norg.dbunit.database.AmbiguousTableNameException: MY_VIEW\n    at org.dbunit.dataset.OrderedTableNameMap.add(OrderedTableNameMap.java:198)\n    at org.dbunit.database.DatabaseDataSet.initialize(DatabaseDataSet.java:244)\n    at org.dbunit.database.DatabaseDataSet.getTable(DatabaseDataSet.java:329)\n    at com.github.springtestdbunit.assertion.NonStrictDatabaseAssertion.assertEquals(NonStrictDatabaseAssertion.java:47)\n    at com.github.springtestdbunit.DbUnitRunner.verifyExpected(DbUnitRunner.java:154)\n    at com.github.springtestdbunit.DbUnitRunner.verifyExpected(DbUnitRunner.java:120)\n    at com.github.springtestdbunit.DbUnitRunner.afterTestMethod(DbUnitRunner.java:86)\n    at com.github.springtestdbunit.DbUnitTestExecutionListener.afterTestMethod(DbUnitTestExecutionListener.java:190)\n    at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:441)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:94)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:121)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>Mig1-i.xml structure:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;dataset&gt;\n    &lt;TABLE1 COL1=&quot;COL1_VL&quot; COL2=&quot;COL2_VL&quot;/&gt;\n    &lt;TABLE2 COL3=&quot;COL3_VL&quot;/&gt;\n&lt;/dataset&gt;\n</code></pre>\n<p>Mig1-e.xml structure:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;dataset&gt;\n    &lt;MY_VIEW COL1=&quot;COL1_VL&quot; COL2=&quot;COL2_VL&quot; COL3=&quot;COL3_VL&quot;/&gt;\n&lt;/dataset&gt;\n</code></pre>\n<p><strong>Any clue how to solve this WITHOUT setting a schema?</strong></p>\n"},{"tags":["java","linux","swing","32bit-64bit","xubuntu"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1375867957,"post_id":18099614,"comment_id":26494991,"body_markdown":"Can be the problem described [here](http://stackoverflow.com/questions/5576986/servlet-giving-error-java-lang-noclassdeffounderror)","body":"Can be the problem described <a href=\"http://stackoverflow.com/questions/5576986/servlet-giving-error-java-lang-noclassdeffounderror\">here</a>"},{"owner":{"account_id":1389840,"reputation":1793,"user_id":1320945,"accept_rate":75,"display_name":"Bertram Nudelbach"},"score":1,"creation_date":1375868101,"post_id":18099614,"comment_id":26495069,"body_markdown":"I considered that option, but with `-Djava.awt.headless=true` there are a couple of `HeadlessException`s. Is this option meant to work with swing applications, too?","body":"I considered that option, but with <code>-Djava.awt.headless=true</code> there are a couple of <code>HeadlessException</code>s. Is this option meant to work with swing applications, too?"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1375868524,"post_id":18099614,"comment_id":26495334,"body_markdown":"Are exception similar to that described [here](http://stackoverflow.com/questions/5218870/getting-a-headlessexception-no-x11-display-variable-was-set)?","body":"Are exception similar to that described <a href=\"http://stackoverflow.com/questions/5218870/getting-a-headlessexception-no-x11-display-variable-was-set\">here</a>?"},{"owner":{"account_id":1389840,"reputation":1793,"user_id":1320945,"accept_rate":75,"display_name":"Bertram Nudelbach"},"score":0,"creation_date":1375868998,"post_id":18099614,"comment_id":26495590,"body_markdown":"Similar, but no message with X11.","body":"Similar, but no message with X11."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1375869158,"post_id":18099614,"comment_id":26495672,"body_markdown":"http://stackoverflow.com/questions/5362512/unable-to-run-java-gui-programs-with-ubuntu  https://www.ibm.com/developerworks/community/blogs/738b7897-cd38-4f24-9f05-48dd69116837/entry/how_to_resolve_java_exceptions_java_awt_headlessexception7?lang=en","body":"<a href=\"http://stackoverflow.com/questions/5362512/unable-to-run-java-gui-programs-with-ubuntu\" title=\"unable to run java gui programs with ubuntu\">stackoverflow.com/questions/5362512/&hellip;</a>  <a href=\"https://www.ibm.com/developerworks/community/blogs/738b7897-cd38-4f24-9f05-48dd69116837/entry/how_to_resolve_java_exceptions_java_awt_headlessexception7?lang=en\" rel=\"nofollow noreferrer\">ibm.com/developerworks/community/blogs/&hellip;</a>"},{"owner":{"account_id":1389840,"reputation":1793,"user_id":1320945,"accept_rate":75,"display_name":"Bertram Nudelbach"},"score":0,"creation_date":1375871089,"post_id":18099614,"comment_id":26496858,"body_markdown":"@bellabax thanks for the many links! I&#39;ve installed `libxtst6`, `default-jdk`, `default-jre`, `openjdk-6-jdk`, `openjdk-6-jre`, `openjdk-7-jdk`, `openjdk-7-jre`. All of these are mentioned by different Q&amp;A sessions online .. problem still occurs. I&#39;ve no server/client-application, it&#39;s just a client containing the UI. `$ echo $DISPLAY` results in `:0.0`.\nI&#39;ve no idea what I could try else.. maybe I should search if it&#39;s even possible to run applications with 32bit java on 64bit machines.","body":"@bellabax thanks for the many links! I&#39;ve installed <code>libxtst6</code>, <code>default-jdk</code>, <code>default-jre</code>, <code>openjdk-6-jdk</code>, <code>openjdk-6-jre</code>, <code>openjdk-7-jdk</code>, <code>openjdk-7-jre</code>. All of these are mentioned by different Q&amp;A sessions online .. problem still occurs. I&#39;ve no server/client-application, it&#39;s just a client containing the UI. <code>$ echo $DISPLAY</code> results in <code>:0.0</code>. I&#39;ve no idea what I could try else.. maybe I should search if it&#39;s even possible to run applications with 32bit java on 64bit machines."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1375871906,"post_id":18099614,"comment_id":26497349,"body_markdown":"More alternatives [here](http://stackoverflow.com/a/13985919/230513).","body":"More alternatives <a href=\"http://stackoverflow.com/a/13985919/230513\">here</a>."},{"owner":{"account_id":1389840,"reputation":1793,"user_id":1320945,"accept_rate":75,"display_name":"Bertram Nudelbach"},"score":0,"creation_date":1375874694,"post_id":18099614,"comment_id":26499038,"body_markdown":"`Exception in thread &quot;main&quot; java.awt.AWTError: Could not instantiate Toolkit: sun.awt.HeadlessToolkit`","body":"<code>Exception in thread &quot;main&quot; java.awt.AWTError: Could not instantiate Toolkit: sun.awt.HeadlessToolkit</code>"}],"answers":[{"comments":[{"owner":{"account_id":3820008,"reputation":672,"user_id":3168295,"display_name":"jsdev"},"score":1,"creation_date":1414572406,"post_id":18102627,"comment_id":41861229,"body_markdown":"this fixed issue :\n\n      `Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit`","body":"this fixed issue :        <code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit</code>"},{"owner":{"account_id":221121,"reputation":332,"user_id":478930,"accept_rate":83,"display_name":"Gonzague"},"score":3,"creation_date":1533197840,"post_id":18102627,"comment_id":90260988,"body_markdown":"I was missing another library, but your comment helped to guide me, thanks !\nFor me it was  libxi6:i386 that was missing.","body":"I was missing another library, but your comment helped to guide me, thanks ! For me it was  libxi6:i386 that was missing."},{"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"score":0,"creation_date":1700587965,"post_id":18102627,"comment_id":136672118,"body_markdown":"Thanks using this command my issue is resolved. sudo apt-get install libxtst6:i386","body":"Thanks using this command my issue is resolved. sudo apt-get install libxtst6:i386"}],"tags":[],"owner":{"account_id":1389840,"reputation":1793,"user_id":1320945,"accept_rate":75,"display_name":"Bertram Nudelbach"},"comment_count":3,"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1526309530,"creation_date":1375876115,"answer_id":18102627,"question_id":18099614,"body_markdown":"Okay, finally I&#39;ve found the answer. Thanks for the effort! The problem is that I had `libxtst6` installed but only the 64bit-version of it.\r\n\r\n`sudo apt-get install libxtst6:i386` did the trick for me.\r\n\r\nHow did I find this answer? I `ldd`ed around a bit, but nothing, as you can see in the following:\r\n\r\n    $ ldd jdk1.7.0_25_x86/jre/lib/i386/xawt/libmawt.so\r\n    \tlinux-gate.so.1 =&gt;  (0xf7769000)\r\n    \tlibpthread.so.0 =&gt; /lib/i386-linux-gnu/libpthread.so.0 (0xf76ee000)\r\n    \tlibm.so.6 =&gt; /lib/i386-linux-gnu/libm.so.6 (0xf76c2000)\r\n    \tlibawt.so =&gt; jdk1.7.0_25_x86/jre/lib/i386/xawt/../libawt.so (0xf760f000)\r\n    \tlibXext.so.6 =&gt; /usr/lib/i386-linux-gnu/libXext.so.6 (0xf75fd000)\r\n    \tlibX11.so.6 =&gt; /usr/lib/i386-linux-gnu/libX11.so.6 (0xf74c9000)\r\n    \tlibXrender.so.1 =&gt; /usr/lib/i386-linux-gnu/libXrender.so.1 (0xf74bf000)\r\n    \tlibdl.so.2 =&gt; /lib/i386-linux-gnu/libdl.so.2 (0xf74ba000)\r\n    \tlibXtst.so.6 =&gt; /usr/lib/i386-linux-gnu/libXtst.so.6 (0xf74b2000)\r\n    \tlibXi.so.6 =&gt; /usr/lib/i386-linux-gnu/libXi.so.6 (0xf74a2000)\r\n    \tlibjava.so =&gt; jdk1.7.0_25_x86/jre/lib/i386/xawt../libjava.so (0xf747e000)\r\n    \tlibjvm.so =&gt; not found\r\n    \tlibc.so.6 =&gt; /lib/i386-linux-gnu/libc.so.6 (0xf72d5000)\r\n    \t/lib/ld-linux.so.2 (0xf776a000)\r\n    \tlibjvm.so =&gt; not found\r\n    \tlibxcb.so.1 =&gt; /usr/lib/i386-linux-gnu/libxcb.so.1 (0xf72b3000)\r\n    \tlibjvm.so =&gt; not found\r\n    \tlibverify.so =&gt; java/jdk1.7.0_25_x86/jre/lib/i386/xawt/../libverify.so (0xf72a7000)\r\n    \tlibXau.so.6 =&gt; /usr/lib/i386-linux-gnu/libXau.so.6 (0xf72a2000)\r\n    \tlibXdmcp.so.6 =&gt; /usr/lib/i386-linux-gnu/libXdmcp.so.6 (0xf729b000)\r\n    \tlibjvm.so =&gt; not found\r\n\r\nSo that was the point when I ended trusting my IDE and started a sample application on the command line. And the command line again was nice to me:\r\n\r\n    $ jdk1.7.0_25_x86/bin/java Main\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: jdk1.7.0_25_x86/jre/lib/i386/xawt/libmawt.so: libXtst.so.6: cannot open shared object file: No such file or directory\r\n    \tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n    \tat java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1957)\r\n    \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1882)\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1843)\r\n    \tat java.lang.Runtime.load0(Runtime.java:795)\r\n    \tat java.lang.System.load(System.java:1061)\r\n    \tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n    \tat java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1957)\r\n    \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1882)\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1864)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:849)\r\n    \tat java.lang.System.loadLibrary(System.java:1087)\r\n    \tat sun.security.action.LoadLibraryAction.run(LoadLibraryAction.java:67)\r\n    \tat sun.security.action.LoadLibraryAction.run(LoadLibraryAction.java:47)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.awt.Toolkit.loadLibraries(Toolkit.java:1646)\r\n    \tat java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1668)\r\n    \tat java.awt.Component.&lt;clinit&gt;(Component.java:595)\r\n    \tat Main.main(Main.java:5)\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit","body":"<p>Okay, finally I've found the answer. Thanks for the effort! The problem is that I had <code>libxtst6</code> installed but only the 64bit-version of it.</p>\n\n<p><code>sudo apt-get install libxtst6:i386</code> did the trick for me.</p>\n\n<p>How did I find this answer? I <code>ldd</code>ed around a bit, but nothing, as you can see in the following:</p>\n\n<pre><code>$ ldd jdk1.7.0_25_x86/jre/lib/i386/xawt/libmawt.so\n    linux-gate.so.1 =&gt;  (0xf7769000)\n    libpthread.so.0 =&gt; /lib/i386-linux-gnu/libpthread.so.0 (0xf76ee000)\n    libm.so.6 =&gt; /lib/i386-linux-gnu/libm.so.6 (0xf76c2000)\n    libawt.so =&gt; jdk1.7.0_25_x86/jre/lib/i386/xawt/../libawt.so (0xf760f000)\n    libXext.so.6 =&gt; /usr/lib/i386-linux-gnu/libXext.so.6 (0xf75fd000)\n    libX11.so.6 =&gt; /usr/lib/i386-linux-gnu/libX11.so.6 (0xf74c9000)\n    libXrender.so.1 =&gt; /usr/lib/i386-linux-gnu/libXrender.so.1 (0xf74bf000)\n    libdl.so.2 =&gt; /lib/i386-linux-gnu/libdl.so.2 (0xf74ba000)\n    libXtst.so.6 =&gt; /usr/lib/i386-linux-gnu/libXtst.so.6 (0xf74b2000)\n    libXi.so.6 =&gt; /usr/lib/i386-linux-gnu/libXi.so.6 (0xf74a2000)\n    libjava.so =&gt; jdk1.7.0_25_x86/jre/lib/i386/xawt../libjava.so (0xf747e000)\n    libjvm.so =&gt; not found\n    libc.so.6 =&gt; /lib/i386-linux-gnu/libc.so.6 (0xf72d5000)\n    /lib/ld-linux.so.2 (0xf776a000)\n    libjvm.so =&gt; not found\n    libxcb.so.1 =&gt; /usr/lib/i386-linux-gnu/libxcb.so.1 (0xf72b3000)\n    libjvm.so =&gt; not found\n    libverify.so =&gt; java/jdk1.7.0_25_x86/jre/lib/i386/xawt/../libverify.so (0xf72a7000)\n    libXau.so.6 =&gt; /usr/lib/i386-linux-gnu/libXau.so.6 (0xf72a2000)\n    libXdmcp.so.6 =&gt; /usr/lib/i386-linux-gnu/libXdmcp.so.6 (0xf729b000)\n    libjvm.so =&gt; not found\n</code></pre>\n\n<p>So that was the point when I ended trusting my IDE and started a sample application on the command line. And the command line again was nice to me:</p>\n\n<pre><code>$ jdk1.7.0_25_x86/bin/java Main\nException in thread \"main\" java.lang.UnsatisfiedLinkError: jdk1.7.0_25_x86/jre/lib/i386/xawt/libmawt.so: libXtst.so.6: cannot open shared object file: No such file or directory\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1957)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1882)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1843)\n    at java.lang.Runtime.load0(Runtime.java:795)\n    at java.lang.System.load(System.java:1061)\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1957)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1882)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1864)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:849)\n    at java.lang.System.loadLibrary(System.java:1087)\n    at sun.security.action.LoadLibraryAction.run(LoadLibraryAction.java:67)\n    at sun.security.action.LoadLibraryAction.run(LoadLibraryAction.java:47)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.awt.Toolkit.loadLibraries(Toolkit.java:1646)\n    at java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1668)\n    at java.awt.Component.&lt;clinit&gt;(Component.java:595)\n    at Main.main(Main.java:5)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2527323,"reputation":25089,"user_id":2196426,"display_name":"Jakuje"},"score":1,"creation_date":1666714193,"post_id":63930907,"comment_id":131000017,"body_markdown":"FYI, I had to install just the `java-17-openjdk` (I had probably only some older java versions after my Fedora upgrades).","body":"FYI, I had to install just the <code>java-17-openjdk</code> (I had probably only some older java versions after my Fedora upgrades)."}],"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1600313868,"creation_date":1600313868,"answer_id":63930907,"question_id":18099614,"body_markdown":"Thanks for @Bertram&#39;s answer. As a complementary, I met similar issue when I&#39;m using Fedora, for anyone who is using CentOS/Fedora and Redhat, please try `yum install libXtst`. ","title":"java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit","body":"<p>Thanks for @Bertram's answer. As a complementary, I met similar issue when I'm using Fedora, for anyone who is using CentOS/Fedora and Redhat, please try <code>yum install libXtst</code>.</p>\n"},{"comments":[{"owner":{"account_id":1766617,"reputation":2474,"user_id":1612369,"accept_rate":56,"display_name":"Celdor"},"score":2,"creation_date":1629906281,"post_id":68911159,"comment_id":121812670,"body_markdown":"Thanks, this worked for me :)  Obviously as to `openjdk-XX-jre`, one should specify the correct version for `XX`.","body":"Thanks, this worked for me :)  Obviously as to <code>openjdk-XX-jre</code>, one should specify the correct version for <code>XX</code>."},{"owner":{"account_id":4442509,"reputation":3525,"user_id":3616725,"display_name":"user3616725"},"score":0,"creation_date":1692106953,"post_id":68911159,"comment_id":135577493,"body_markdown":"Thank you! This was the solution for me to get Studio3T install to work. \nJust a note: after you install openjdk as above, you need to  **reload your terminal** before re-trying the command that was giving you the error.","body":"Thank you! This was the solution for me to get Studio3T install to work.  Just a note: after you install openjdk as above, you need to  <b>reload your terminal</b> before re-trying the command that was giving you the error."}],"tags":[],"owner":{"account_id":161762,"reputation":2819,"user_id":382784,"display_name":"wedesoft"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1629823541,"creation_date":1629823541,"answer_id":68911159,"question_id":18099614,"body_markdown":"Had the missing awt library problem on Ubuntu 20.04. Fixed it by installing openjdk-11-jre:\r\n\r\n```Bash\r\nsudo apt-get install openjdk-11-jre\r\n```","title":"java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit","body":"<p>Had the missing awt library problem on Ubuntu 20.04. Fixed it by installing openjdk-11-jre:</p>\n<pre><code>sudo apt-get install openjdk-11-jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700588157,"creation_date":1700588157,"answer_id":77524851,"question_id":18099614,"body_markdown":"java.lang.NoClassDefFoundError: Could not initialize class java.awt.Color com.lowagie.text.Font.setColor(Unknown Source)\r\n\r\nOn Ubuntu 22.04 using &quot;sudo apt-get install libxtst6:i386&quot; command issue  resolved.","title":"java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit","body":"<p>java.lang.NoClassDefFoundError: Could not initialize class java.awt.Color com.lowagie.text.Font.setColor(Unknown Source)</p>\n<p>On Ubuntu 22.04 using &quot;sudo apt-get install libxtst6:i386&quot; command issue  resolved.</p>\n"}],"owner":{"account_id":1389840,"reputation":1793,"user_id":1320945,"accept_rate":75,"display_name":"Bertram Nudelbach"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99495,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":18102627,"answer_count":4,"score":21,"last_activity_date":1700588157,"creation_date":1375867537,"question_id":18099614,"body_markdown":"I&#39;m working on XUbuntu 13.04 and developing swing applications. As I just wanted to try that application I ran into `java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit` on startup.\r\n\r\nI&#39;ve found several questions about server/client vms and noticed that I have a server VM and that for Linux 64 there is no client VM anymore. But nevertheless IMHO this problem shouldn&#39;t depend on which VM I&#39;m running on.\r\n\r\nHas anybody else noticed that problem and has solved it? What am I doing wrong? With 64bit jdk everything works fine, but when I try to use the 32bit jdk the startup fails.\r\n\r\nThanks in advance!\r\n\r\nP.S.: Java version is `1.7.0_25` and same with `1.7.0_09`\r\n\r\n__EDIT__\r\n\r\nWhen using headless mode, the following exceptions occur:\r\n\r\n  \r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.awt.EventQueue.invokeAndWait(EventQueue.java:1272)\r\n    \tat java.awt.EventQueue.invokeAndWait(EventQueue.java:1247)\r\n    \tat javax.swing.SwingUtilities.invokeAndWait(SwingUtilities.java:1349)\r\n    \tat Main.main(Main.java:218)\r\n    Caused by: java.awt.HeadlessException\r\n    \tat java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:207)\r\n    \tat java.awt.Window.&lt;init&gt;(Window.java:535)\r\n    \tat java.awt.Frame.&lt;init&gt;(Frame.java:420)\r\n    \tat java.awt.Frame.&lt;init&gt;(Frame.java:385)\r\n    \tat javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\r\n    \tat ..MyFrame.&lt;init&gt;(MyFrame.java:23)","title":"java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit","body":"<p>I'm working on XUbuntu 13.04 and developing swing applications. As I just wanted to try that application I ran into <code>java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit</code> on startup.</p>\n\n<p>I've found several questions about server/client vms and noticed that I have a server VM and that for Linux 64 there is no client VM anymore. But nevertheless IMHO this problem shouldn't depend on which VM I'm running on.</p>\n\n<p>Has anybody else noticed that problem and has solved it? What am I doing wrong? With 64bit jdk everything works fine, but when I try to use the 32bit jdk the startup fails.</p>\n\n<p>Thanks in advance!</p>\n\n<p>P.S.: Java version is <code>1.7.0_25</code> and same with <code>1.7.0_09</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>When using headless mode, the following exceptions occur:</p>\n\n<pre><code>java.lang.reflect.InvocationTargetException\n    at java.awt.EventQueue.invokeAndWait(EventQueue.java:1272)\n    at java.awt.EventQueue.invokeAndWait(EventQueue.java:1247)\n    at javax.swing.SwingUtilities.invokeAndWait(SwingUtilities.java:1349)\n    at Main.main(Main.java:218)\nCaused by: java.awt.HeadlessException\n    at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:207)\n    at java.awt.Window.&lt;init&gt;(Window.java:535)\n    at java.awt.Frame.&lt;init&gt;(Frame.java:420)\n    at java.awt.Frame.&lt;init&gt;(Frame.java:385)\n    at javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\n    at ..MyFrame.&lt;init&gt;(MyFrame.java:23)\n</code></pre>\n"},{"tags":["java","serialization","enums","jackson"],"comments":[{"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1700416432,"post_id":77511769,"comment_id":136648917,"body_markdown":"What happens if you trim the body of the `serialize` method to just `jsonGenerator.writeString(acp.getValue());`?","body":"What happens if you trim the body of the <code>serialize</code> method to just <code>jsonGenerator.writeString(acp.getValue());</code>?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700425063,"post_id":77511769,"comment_id":136649818,"body_markdown":"You want this why?","body":"You want this why?"}],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700585037,"creation_date":1700585037,"answer_id":77524534,"question_id":77511769,"body_markdown":"You can try `@JsonUnwrapped` to get a flatten object. Here you can find some examble [https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonunwrapped.htm][1] \r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonunwrapped.htm","title":"Serialization of compiled Enum java","body":"<p>You can try <code>@JsonUnwrapped</code> to get a flatten object. Here you can find some examble <a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonunwrapped.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jsonunwrapped.htm</a></p>\n"},{"tags":[],"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700588001,"creation_date":1700588001,"answer_id":77524836,"question_id":77511769,"body_markdown":"Just write the value directly without creating an object:\r\n\r\n        @Override\r\n        public void serialize(AttestationConveyancePreference acp, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n            jsonGenerator.writeString(acp.getValue());\r\n        }\r\n","title":"Serialization of compiled Enum java","body":"<p>Just write the value directly without creating an object:</p>\n<pre><code>    @Override\n    public void serialize(AttestationConveyancePreference acp, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeString(acp.getValue());\n    }\n</code></pre>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77524836,"answer_count":2,"score":0,"last_activity_date":1700588001,"creation_date":1700414952,"question_id":77511769,"body_markdown":"I have an enum that&#39;s taken from a compiled library I imported into my project. When an object containing this enum is sent as an api response it contains the enum constant, like:\r\n\r\n    &quot;attestation&quot;: &quot;DIRECT&quot;\r\n\r\nI would like it as:\r\n\r\n    &quot;attestation&quot;: &quot;direct&quot;\r\n\r\nunfortunatly I can&#39;t change the enum class file and override the toString method or do anything similar.\r\n\r\nSo I&#39;ve written a custom serializer for it:\r\n\r\n```\r\npublic class AttestationConveyancePreferenceSerializer extends StdSerializer&lt;AttestationConveyancePreference&gt; {\r\n\r\n    public AttestationConveyancePreferenceSerializer() {\r\n        this(null);\r\n    }\r\n\r\n    public AttestationConveyancePreferenceSerializer(Class&lt;AttestationConveyancePreference&gt; t) {\r\n        super(t);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(AttestationConveyancePreference acp, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n        jsonGenerator.writeStartObject();\r\n        jsonGenerator.writeFieldName(&quot;attestation&quot;);\r\n        jsonGenerator.writeString(acp.getValue());\r\n        jsonGenerator.writeEndObject();\r\n    }\r\n}\r\n\r\n```\r\n\r\nbut now in the response I get:\r\n\r\n```\r\n    &quot;attestation&quot;: {\r\n      &quot;attestation&quot;: &quot;direct&quot;\r\n    },\r\n```\r\n\r\nis there a way to flatten the object?\r\n","title":"Serialization of compiled Enum java","body":"<p>I have an enum that's taken from a compiled library I imported into my project. When an object containing this enum is sent as an api response it contains the enum constant, like:</p>\n<pre><code>&quot;attestation&quot;: &quot;DIRECT&quot;\n</code></pre>\n<p>I would like it as:</p>\n<pre><code>&quot;attestation&quot;: &quot;direct&quot;\n</code></pre>\n<p>unfortunatly I can't change the enum class file and override the toString method or do anything similar.</p>\n<p>So I've written a custom serializer for it:</p>\n<pre><code>public class AttestationConveyancePreferenceSerializer extends StdSerializer&lt;AttestationConveyancePreference&gt; {\n\n    public AttestationConveyancePreferenceSerializer() {\n        this(null);\n    }\n\n    public AttestationConveyancePreferenceSerializer(Class&lt;AttestationConveyancePreference&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(AttestationConveyancePreference acp, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeFieldName(&quot;attestation&quot;);\n        jsonGenerator.writeString(acp.getValue());\n        jsonGenerator.writeEndObject();\n    }\n}\n\n</code></pre>\n<p>but now in the response I get:</p>\n<pre><code>    &quot;attestation&quot;: {\n      &quot;attestation&quot;: &quot;direct&quot;\n    },\n</code></pre>\n<p>is there a way to flatten the object?</p>\n"},{"tags":["java","apache-kafka","etl","informatica-powercenter"],"owner":{"account_id":24567842,"reputation":33,"user_id":18474752,"display_name":"Ashok "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700587780,"creation_date":1700587780,"question_id":77524809,"body_markdown":"I have a mapping where I am trying to read serialized messages in Json format from Kafka topic in informatica PowerCenter and process to flat file. However, when I run the workflow, it reads messages which I can see in monitor and could not write to flat file it shows 0 records on targets and workflow succeeded.  Below is the mapping.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iTk8H.jpg\r\n\r\ncode:\r\n\r\n    On input row:\r\n    O_key=convertBinaryToString(key); O_data=convertBinaryToString(data);\r\n    \r\n    helper code:\r\n    public static byte[] buffer = new byte[7000];\r\n    \r\n    public String convertBinaryToString(byte[] data){\r\n     try{\r\n         buffer = data;\r\n    \r\n    \r\n         String tempstr  = new String(buffer);\r\n    \r\n         logInfo(&quot; Val of tempstr &quot; + tempstr);\r\n         int strlen = tempstr.length(); \r\n         String outstr = tempstr.trim();\r\n         logInfo(&quot; Val of string len &quot; + strlen);\r\n         logInfo(&quot; O_key &quot; + O_key); \r\n        return outstr;\r\n    \r\n    }\r\n     catch (Exception ex) {logInfo(&quot;Caught exception .. &quot; + ex);}\r\n    return &quot;&quot;;\r\n    \r\n    }\r\n\r\nDoes this code convert the serialized data into Json and Informatica able to read?","title":"how to read json messages from kafka and write to flat file in informatica powercentre?","body":"<p>I have a mapping where I am trying to read serialized messages in Json format from Kafka topic in informatica PowerCenter and process to flat file. However, when I run the workflow, it reads messages which I can see in monitor and could not write to flat file it shows 0 records on targets and workflow succeeded.  Below is the mapping.\n<a href=\"https://i.stack.imgur.com/iTk8H.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTk8H.jpg\" alt=\"enter image description here\" /></a></p>\n<p>code:</p>\n<pre><code>On input row:\nO_key=convertBinaryToString(key); O_data=convertBinaryToString(data);\n\nhelper code:\npublic static byte[] buffer = new byte[7000];\n\npublic String convertBinaryToString(byte[] data){\n try{\n     buffer = data;\n\n\n     String tempstr  = new String(buffer);\n\n     logInfo(&quot; Val of tempstr &quot; + tempstr);\n     int strlen = tempstr.length(); \n     String outstr = tempstr.trim();\n     logInfo(&quot; Val of string len &quot; + strlen);\n     logInfo(&quot; O_key &quot; + O_key); \n    return outstr;\n\n}\n catch (Exception ex) {logInfo(&quot;Caught exception .. &quot; + ex);}\nreturn &quot;&quot;;\n\n}\n</code></pre>\n<p>Does this code convert the serialized data into Json and Informatica able to read?</p>\n"},{"tags":["java","string","date","datetime","java-8"],"comments":[{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1496287670,"post_id":44297939,"comment_id":75601788,"body_markdown":"Your string date is in different format than the pattern. Should not you use &quot;yyyyMMdd&quot; format?","body":"Your string date is in different format than the pattern. Should not you use &quot;yyyyMMdd&quot; format?"},{"owner":{"account_id":6801423,"reputation":434,"user_id":5234626,"display_name":"Shashwat Shekhar Shukla"},"score":0,"creation_date":1496287948,"post_id":44297939,"comment_id":75601845,"body_markdown":"Sorry for typo, updated my question. I am passing &quot;yyyyMMdd&quot; only but getting mentioned error.","body":"Sorry for typo, updated my question. I am passing &quot;yyyyMMdd&quot; only but getting mentioned error."},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1496288719,"post_id":44297939,"comment_id":75602054,"body_markdown":"I think your date and formatter have to also specify offset like this date: 2007-12-03T10:15:30+01:00 . See the part after + sign.","body":"I think your date and formatter have to also specify offset like this date: 2007-12-03T10:15:30+01:00 . See the part after + sign."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1496316854,"post_id":44298165,"comment_id":75617854,"body_markdown":"You may then use for example `atStartOfDay().atOffset(yourDesiredOffset)` to convert into an `OffsetDateTime`. Offset could be for instance `ZoneOffset.UTC`. It’s a good thing that the date and time classes often force you to be specific about what you want instead of giving you default values that may not match your needs.","body":"You may then use for example <code>atStartOfDay().atOffset(yourDesiredOffset)</code> to convert into an <code>OffsetDateTime</code>. Offset could be for instance <code>ZoneOffset.UTC</code>. It’s a good thing that the date and time classes often force you to be specific about what you want instead of giving you default values that may not match your needs."}],"tags":[],"owner":{"account_id":8614990,"reputation":1175,"user_id":6452215,"display_name":"Uday"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1496295629,"creation_date":1496288650,"answer_id":44298165,"question_id":44297939,"body_markdown":"Use a LocalDate instead of offsetDatetime for your case as you want to parse only date (no time/offset). The usage of offsetDatetime is very well discussed [here][1]\r\n\r\n  [1]: http://logicbig.com/how-to/code-snippets/jcode-java-8-date-time-api-offsetdatetime-parse/","title":"Convert string to OffsetDateTime in Java","body":"<p>Use a LocalDate instead of offsetDatetime for your case as you want to parse only date (no time/offset). The usage of offsetDatetime is very well discussed <a href=\"http://logicbig.com/how-to/code-snippets/jcode-java-8-date-time-api-offsetdatetime-parse/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":6280390,"reputation":3711,"user_id":4881608,"display_name":"Pallavi Sonal"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1496291440,"creation_date":1496291440,"answer_id":44298572,"question_id":44297939,"body_markdown":"`OffsetDateTime` represents a date-time with an offset , for eg. \r\n\r\n&gt; 2007-12-03T10:15:30+01:00\r\n\r\nThe text you are trying to parse does not conform to the requirements of `OffsetDateTime.` \r\nSee https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n\r\nThe string being parsed neither contains the ZoneOffset nor time. From the string and the pattern of the formatter, it looks like you just need a LocalDate. So, you could use :\r\n   \r\n\r\n    LocalDate.parse(&quot;20150101&quot;, DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;));","title":"Convert string to OffsetDateTime in Java","body":"<p><code>OffsetDateTime</code> represents a date-time with an offset , for eg. </p>\n\n<blockquote>\n  <p>2007-12-03T10:15:30+01:00</p>\n</blockquote>\n\n<p>The text you are trying to parse does not conform to the requirements of <code>OffsetDateTime.</code> \nSee <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html</a></p>\n\n<p>The string being parsed neither contains the ZoneOffset nor time. From the string and the pattern of the formatter, it looks like you just need a LocalDate. So, you could use :</p>\n\n<pre><code>LocalDate.parse(\"20150101\", DateTimeFormatter.ofPattern(\"yyyyMMdd\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1496593711,"post_id":44354091,"comment_id":75714560,"body_markdown":"Correct understanding. Tip: on that last line, I recommend **always passing an explicit `ZoneId` to that `atStartOfDay`** call. Example: `.atStartOfDay( ZoneId.of( &quot; Africa/Lagos&quot; ) )`  Otherwise you are implicitly getting the JVM’s current default time zone. Better to be explicit about your desired/expected time zone. And, that default can be changed at any moment *during* runtime by any code in the JVM, so the default is unreliable. For example, given what you said in you Question, you would be getting the start of a Chicago day rather than the start of a Lagos day.","body":"Correct understanding. Tip: on that last line, I recommend <b>always passing an explicit <code>ZoneId</code> to that <code>atStartOfDay</code></b> call. Example: <code>.atStartOfDay( ZoneId.of( &quot; Africa&#47;Lagos&quot; ) )</code>  Otherwise you are implicitly getting the JVM’s current default time zone. Better to be explicit about your desired/expected time zone. And, that default can be changed at any moment <i>during</i> runtime by any code in the JVM, so the default is unreliable. For example, given what you said in you Question, you would be getting the start of a Chicago day rather than the start of a Lagos day."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1496594126,"post_id":44354091,"comment_id":75714702,"body_markdown":"Another note, `LocalDate` is for `Period` as that class represents a span of time with a granularity of years, months, days. But a `Duration` is a span of time as a total number of seconds plus a fraction of a second in nanoseconds. So a `Duration` applies to date-time values such as `Instant`, `OffsetDateTime`, and `ZonedDateTime` rather than a date-only `LocalDate`.","body":"Another note, <code>LocalDate</code> is for <code>Period</code> as that class represents a span of time with a granularity of years, months, days. But a <code>Duration</code> is a span of time as a total number of seconds plus a fraction of a second in nanoseconds. So a <code>Duration</code> applies to date-time values such as <code>Instant</code>, <code>OffsetDateTime</code>, and <code>ZonedDateTime</code> rather than a date-only <code>LocalDate</code>."}],"tags":[],"owner":{"account_id":6801423,"reputation":434,"user_id":5234626,"display_name":"Shashwat Shekhar Shukla"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1496579255,"creation_date":1496579255,"answer_id":44354091,"question_id":44297939,"body_markdown":"Thanks everyone for your reply. \r\nEarlier I was using joda datetime (look at below method) to handle date and datetime both but I wanted to use Java8 libraries instead of the external libraries. \r\n\r\n    static public DateTime convertStringInDateFormat(String date, String dateFormat){\r\n        DateTimeFormatter formatter = DateTimeFormat.forPattern(dateFormat);\r\n    return formatter.parseDateTime(date);\r\n    }\r\n\r\nI was expecting same with OffsetDateTime but got to know we can use ZonedDateTime or OffsetDateTime if we want to work with a date/time in a certain time zone.\r\nAs I am working on Period and Duration for which LocalDate can help.\r\n\r\nString to DateTime:\r\n\r\n    LocalDate date =\r\n    LocalDate.parse(&quot;20150101&quot;, DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;));\r\n\r\nLocalDate to desired string format:\r\n\r\n    String dateFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;;\r\n    date.atStartOfDay().format(DateTimeFormatter.ofPattern(dateFormat));","title":"Convert string to OffsetDateTime in Java","body":"<p>Thanks everyone for your reply. \nEarlier I was using joda datetime (look at below method) to handle date and datetime both but I wanted to use Java8 libraries instead of the external libraries. </p>\n\n<pre><code>static public DateTime convertStringInDateFormat(String date, String dateFormat){\n    DateTimeFormatter formatter = DateTimeFormat.forPattern(dateFormat);\nreturn formatter.parseDateTime(date);\n}\n</code></pre>\n\n<p>I was expecting same with OffsetDateTime but got to know we can use ZonedDateTime or OffsetDateTime if we want to work with a date/time in a certain time zone.\nAs I am working on Period and Duration for which LocalDate can help.</p>\n\n<p>String to DateTime:</p>\n\n<pre><code>LocalDate date =\nLocalDate.parse(\"20150101\", DateTimeFormatter.ofPattern(\"yyyyMMdd\"));\n</code></pre>\n\n<p>LocalDate to desired string format:</p>\n\n<pre><code>String dateFormat = \"yyyy-MM-dd'T'HH:mm:ss'Z'\";\ndate.atStartOfDay().format(DateTimeFormatter.ofPattern(dateFormat));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":502547,"reputation":1326,"user_id":1241115,"display_name":"Patrice Gagnon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643387335,"creation_date":1643382604,"answer_id":70895940,"question_id":44297939,"body_markdown":"As Pallavi said correctly OffsetDateTime makes only in the context of a offset.\r\nHence to go from a date string to an OffsetDateTime, you need a timezone!\r\n\r\nHere is the recipe. Find yourself a Timezone, UTC or other.\r\n\r\n    ZoneId zoneId = ZoneId.of(&quot;UTC&quot;);   // Or another geographic: Europe/Paris\r\n    ZoneId defaultZone = ZoneId.systemDefault();\r\n\r\nMake the LocalDateTime, works the same with LocalDate.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;);    \r\n    LocalDateTime dateTime = LocalDateTime.parse(&quot;2022-01-28T14:29:10.212&quot;, formatter);\r\n\r\nAn offset makes only sense for a timezone and a time. \r\nFor instance, Eastern Time hovers between GMT-4 and GMT-5 depending on the time of year.\r\n\r\n    ZoneOffset offset = zoneId.getRules().getOffset(dateTime);\r\n\r\n\r\nFinally you can make your OffsetDateTime from both the time and the offset:\r\n\r\n    OffsetDateTime offsetDateTime = OffsetDateTime.of(dateTime, offset);\r\n\r\n\r\nHope this helps anyone.","title":"Convert string to OffsetDateTime in Java","body":"<p>As Pallavi said correctly OffsetDateTime makes only in the context of a offset.\nHence to go from a date string to an OffsetDateTime, you need a timezone!</p>\n<p>Here is the recipe. Find yourself a Timezone, UTC or other.</p>\n<pre><code>ZoneId zoneId = ZoneId.of(&quot;UTC&quot;);   // Or another geographic: Europe/Paris\nZoneId defaultZone = ZoneId.systemDefault();\n</code></pre>\n<p>Make the LocalDateTime, works the same with LocalDate.</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;);    \nLocalDateTime dateTime = LocalDateTime.parse(&quot;2022-01-28T14:29:10.212&quot;, formatter);\n</code></pre>\n<p>An offset makes only sense for a timezone and a time.\nFor instance, Eastern Time hovers between GMT-4 and GMT-5 depending on the time of year.</p>\n<pre><code>ZoneOffset offset = zoneId.getRules().getOffset(dateTime);\n</code></pre>\n<p>Finally you can make your OffsetDateTime from both the time and the offset:</p>\n<pre><code>OffsetDateTime offsetDateTime = OffsetDateTime.of(dateTime, offset);\n</code></pre>\n<p>Hope this helps anyone.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693687491,"post_id":77029907,"comment_id":135794308,"body_markdown":"Perhaps better to use `ZoneOffset.UTC` constant rather than `ZoneId.of(&quot;Etc/UTC&quot;)`. Or choose some arbitrary time zone as an example.","body":"Perhaps better to use <code>ZoneOffset.UTC</code> constant rather than <code>ZoneId.of(&quot;Etc&#47;UTC&quot;)</code>. Or choose some arbitrary time zone as an example."},{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1693690175,"post_id":77029907,"comment_id":135794603,"body_markdown":"Thanks, @BasilBourque for the valuable edits and the recommendation to use `ZoneOffset.UTC`. I wrote the code in my IDE using `ZoneOffset.UTC` but changed it to `ZoneId.of(&quot;Etc/UTC&quot;)` before posting my answer. The reason I did so because many developers do not realise that [`ZoneOffset` extends `ZoneId`](https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html) and get confused with `ZoneId` in [`LocalDate#atStartOfDay(ZoneId)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-).","body":"Thanks, @BasilBourque for the valuable edits and the recommendation to use <code>ZoneOffset.UTC</code>. I wrote the code in my IDE using <code>ZoneOffset.UTC</code> but changed it to <code>ZoneId.of(&quot;Etc&#47;UTC&quot;)</code> before posting my answer. The reason I did so because many developers do not realise that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\"><code>ZoneOffset</code> extends <code>ZoneId</code></a> and get confused with <code>ZoneId</code> in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>LocalDate#atStartOfDay(ZoneId)</code></a>."}],"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1700587363,"creation_date":1693686007,"answer_id":77029907,"question_id":44297939,"body_markdown":"## `Z` not literal\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/44354091/10819573) has a serious problem: it uses the literal, `&#39;Z&#39;` in the pattern to specify the UTC offset. `&#39;Z&#39;` is just a character literal whereas `Z` is the timezone designator for zero-timezone offset. It stands for Zulu and specifies the UTC offset (+00:00 hours). Check **[`&#39;Z&#39;` is not the same as `Z`](https://stackoverflow.com/a/67953075/10819573)** to learn more about it.\r\n\r\n    DateTimeFormatter.ofPattern( &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot; )  // Z is a formatting code, not a string literal.\r\n\r\n## `DateTimeFormatter.BASIC_ISO_DATE`\r\n\r\nApart from this, the parsing code can be improved by using the predefined formatter, [`DateTimeFormatter#BASIC_ISO_DATE`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#BASIC_ISO_DATE).\r\n\r\n    LocalDate.parse(&quot;20150101&quot;, DateTimeFormatter.BASIC_ISO_DATE)\r\n\r\n## Specify time zone\r\n\r\nAlso, one should always specify a timezone explicitly; otherwise, the JVM will use the system&#39;s default timezone, a common cause of many problems developers face.\r\n\r\n**Demo:**\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            LocalDate date = LocalDate.parse(&quot;20150101&quot;, DateTimeFormatter.BASIC_ISO_DATE);\r\n    \r\n            // Convert date into a ZonedDateTime at the start of the day in the \r\n            // desired timezone e.g. ZoneId.of(&quot;Etc/UTC&quot;)\r\n            ZonedDateTime zdt = date.atStartOfDay(ZoneId.of(&quot;Etc/UTC&quot;));\r\n    \r\n            // Convert the obtained ZonedDateTime into an OffsetDateTime\r\n            OffsetDateTime odt = zdt.toOffsetDateTime();\r\n            System.out.println(odt);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    2015-01-01T00:00Z\r\n\r\n[Online Demo](https://ideone.com/HI7GuU)\r\n\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**\r\n","title":"Convert string to OffsetDateTime in Java","body":"<h2><code>Z</code> not literal</h2>\n<p>The <a href=\"https://stackoverflow.com/a/44354091/10819573\">accepted answer</a> has a serious problem: it uses the literal, <code>'Z'</code> in the pattern to specify the UTC offset. <code>'Z'</code> is just a character literal whereas <code>Z</code> is the timezone designator for zero-timezone offset. It stands for Zulu and specifies the UTC offset (+00:00 hours). Check <strong><a href=\"https://stackoverflow.com/a/67953075/10819573\"><code>'Z'</code> is not the same as <code>Z</code></a></strong> to learn more about it.</p>\n<pre><code>DateTimeFormatter.ofPattern( &quot;yyyy-MM-dd'T'HH:mm:ssZ&quot; )  // Z is a formatting code, not a string literal.\n</code></pre>\n<h2><code>DateTimeFormatter.BASIC_ISO_DATE</code></h2>\n<p>Apart from this, the parsing code can be improved by using the predefined formatter, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#BASIC_ISO_DATE\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter#BASIC_ISO_DATE</code></a>.</p>\n<pre><code>LocalDate.parse(&quot;20150101&quot;, DateTimeFormatter.BASIC_ISO_DATE)\n</code></pre>\n<h2>Specify time zone</h2>\n<p>Also, one should always specify a timezone explicitly; otherwise, the JVM will use the system's default timezone, a common cause of many problems developers face.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        LocalDate date = LocalDate.parse(&quot;20150101&quot;, DateTimeFormatter.BASIC_ISO_DATE);\n\n        // Convert date into a ZonedDateTime at the start of the day in the \n        // desired timezone e.g. ZoneId.of(&quot;Etc/UTC&quot;)\n        ZonedDateTime zdt = date.atStartOfDay(ZoneId.of(&quot;Etc/UTC&quot;));\n\n        // Convert the obtained ZonedDateTime into an OffsetDateTime\n        OffsetDateTime odt = zdt.toOffsetDateTime();\n        System.out.println(odt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2015-01-01T00:00Z\n</code></pre>\n<p><a href=\"https://ideone.com/HI7GuU\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong></p>\n"}],"owner":{"account_id":6801423,"reputation":434,"user_id":5234626,"display_name":"Shashwat Shekhar Shukla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93171,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":44354091,"answer_count":5,"score":20,"last_activity_date":1700587363,"creation_date":1496287197,"question_id":44297939,"body_markdown":"I am trying to convert a string in `OffsetDateTime` but getting below error.\r\n\r\n`java.time.format.DateTimeParseException: Text &#39;20150101&#39; could not be parsed: Unable to obtain OffsetDateTime from TemporalAccessor: {},ISO resolved to 2015-01-01 of type java.time.format.Parsed`\r\n\r\nCode : `OffsetDateTime.parse(&quot;20150101&quot;, DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;));`\r\n\r\nExpected output: `OffsetDateTime object with date 20150101.`\r\n\r\nI really appreciate any help you can provide.\r\n\r\nThanks,","title":"Convert string to OffsetDateTime in Java","body":"<p>I am trying to convert a string in <code>OffsetDateTime</code> but getting below error.</p>\n\n<p><code>java.time.format.DateTimeParseException: Text '20150101' could not be parsed: Unable to obtain OffsetDateTime from TemporalAccessor: {},ISO resolved to 2015-01-01 of type java.time.format.Parsed</code></p>\n\n<p>Code : <code>OffsetDateTime.parse(\"20150101\", DateTimeFormatter.ofPattern(\"yyyyMMdd\"));</code></p>\n\n<p>Expected output: <code>OffsetDateTime object with date 20150101.</code></p>\n\n<p>I really appreciate any help you can provide.</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","lwjgl","coredump"],"answers":[{"tags":[],"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496304980,"creation_date":1496304980,"answer_id":44302108,"question_id":44287433,"body_markdown":"You are missing \r\n\r\n`GL.createCapabilities();`\r\n\r\nFrom the [getting started](https://www.lwjgl.org/guide):\r\n\r\n    // This line (~the above) is critical for LWJGL&#39;s interoperation with GLFW&#39;s\r\n    // OpenGL context, or any context that is managed externally.\r\n    // LWJGL detects the context that is current in the current thread,\r\n    // creates the GLCapabilities instance and makes the OpenGL\r\n    // bindings available for use.\r\n\r\nAlso, move `glEnable(GL_DEPTH_TEST);` after that line as well. \r\n\r\nYou do not get a crash now on your machine, but you may with different conditions","title":"Calling the &quot;glClearColor()&quot; function causes core dump","body":"<p>You are missing </p>\n\n<p><code>GL.createCapabilities();</code></p>\n\n<p>From the <a href=\"https://www.lwjgl.org/guide\" rel=\"nofollow noreferrer\">getting started</a>:</p>\n\n<pre><code>// This line (~the above) is critical for LWJGL's interoperation with GLFW's\n// OpenGL context, or any context that is managed externally.\n// LWJGL detects the context that is current in the current thread,\n// creates the GLCapabilities instance and makes the OpenGL\n// bindings available for use.\n</code></pre>\n\n<p>Also, move <code>glEnable(GL_DEPTH_TEST);</code> after that line as well. </p>\n\n<p>You do not get a crash now on your machine, but you may with different conditions</p>\n"}],"owner":{"account_id":5987794,"reputation":93,"user_id":4704813,"display_name":"jts3304"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44302108,"answer_count":1,"score":0,"last_activity_date":1700586928,"creation_date":1496240754,"question_id":44287433,"body_markdown":"I&#39;m new to LWJGL and OpenGL, and I&#39;ve done some google searching and couldn&#39;t seem to find anything else related to this.\r\n\r\nI made a basic test program to create a blank window. I can create the window and run the application fine, but if I try to change the clear color using `glClearColor()`, the application &quot;crashes.&quot;\r\n\r\nHere is the text printed in the console:\r\n\r\n    [error occurred during error reporting (printing problematic frame), id 0xe0000000]\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /*****/*******/eclipse/java-neon/workspace/LWJGL Project/hs_err_pid10749.log\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n    \r\n\r\nThis is the file that the error created (rather large):\r\n    &lt;https://pastebin.com/9h0gsRmT&gt;[link](https://pastebin.com/9h0gsRmT)\r\n\r\nThis is the code:\r\n\r\n    package me.smorce.project;\r\n    \r\n    import static org.lwjgl.glfw.GLFW.*;\r\n    import static org.lwjgl.opengl.GL11.*;\r\n    import static org.lwjgl.system.MemoryUtil.*;\r\n    import org.lwjgl.glfw.GLFWVidMode;\r\n    import me.smorce.project.input.Input;\r\n    \r\n    public class Game\r\n    {\r\n    \tpublic boolean running = false;\r\n    \tprivate long window;\r\n    \tpublic int windowWidth = 1280;\r\n    \tpublic int windowHeight = windowWidth / 16 * 9;\r\n    \r\n    \tpublic void start()\r\n    \t{\r\n    \t\trunning = true;\r\n    \t\tinit();\r\n    \t\twhile(running)\r\n    \t\t{\r\n    \t\t\tupdate();\r\n    \t\t\trender();\r\n    \t\t\tif(glfwWindowShouldClose(window)) running = false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void init()\r\n    \t{\r\n    \t\tif(!glfwInit())\r\n    \t\t{\r\n    \t\t\tSystem.err.println(&quot;GLFW failed to initialize!&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tglfwWindowHint(GLFW_RESIZABLE, GL_TRUE);\r\n    \t\twindow = glfwCreateWindow(windowWidth, windowHeight, &quot;Game&quot;, NULL, NULL);\r\n    \t\tif(window == NULL)\r\n    \t\t{\r\n    \t\t\tSystem.err.println(&quot;GLFW failed to create the window&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tGLFWVidMode videoMode = glfwGetVideoMode(glfwGetPrimaryMonitor());\r\n    \t\tglfwSetWindowPos(window, (videoMode.width() - windowWidth) / 2, (videoMode.height() - windowHeight) / 2);\r\n    \t\tglfwSetKeyCallback(window, new Input());\r\n    \t\tglfwMakeContextCurrent(window);\r\n    \t\tglEnable(GL_DEPTH_TEST);\r\n    \t\tSystem.out.println(&quot;OpenGL: &quot; + glGetString(GL_VERSION));\r\n    \t\tglfwShowWindow(window);\r\n    \t\tglClearColor(1.0f, 1.0f, 1.0f, 1.0f);\r\n    \t}\r\n    \r\n    \tprivate void update()\r\n    \t{\r\n    \t\tglfwPollEvents();\r\n    \t\tif(Input.keys[GLFW_KEY_SPACE])\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;SPACE BAR&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void render()\r\n    \t{\r\n    \t\tglfwSwapBuffers(window);\r\n    \t}\r\n    }\r\n\r\nAny pointers/tips would be helpful. ","title":"Calling the &quot;glClearColor()&quot; function causes core dump","body":"<p>I'm new to LWJGL and OpenGL, and I've done some google searching and couldn't seem to find anything else related to this.</p>\n<p>I made a basic test program to create a blank window. I can create the window and run the application fine, but if I try to change the clear color using <code>glClearColor()</code>, the application &quot;crashes.&quot;</p>\n<p>Here is the text printed in the console:</p>\n<pre><code>[error occurred during error reporting (printing problematic frame), id 0xe0000000]\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# /*****/*******/eclipse/java-neon/workspace/LWJGL Project/hs_err_pid10749.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n<p>This is the file that the error created (rather large):\n<a href=\"https://pastebin.com/9h0gsRmT\" rel=\"nofollow noreferrer\">https://pastebin.com/9h0gsRmT</a><a href=\"https://pastebin.com/9h0gsRmT\" rel=\"nofollow noreferrer\">link</a></p>\n<p>This is the code:</p>\n<pre><code>package me.smorce.project;\n\nimport static org.lwjgl.glfw.GLFW.*;\nimport static org.lwjgl.opengl.GL11.*;\nimport static org.lwjgl.system.MemoryUtil.*;\nimport org.lwjgl.glfw.GLFWVidMode;\nimport me.smorce.project.input.Input;\n\npublic class Game\n{\n    public boolean running = false;\n    private long window;\n    public int windowWidth = 1280;\n    public int windowHeight = windowWidth / 16 * 9;\n\n    public void start()\n    {\n        running = true;\n        init();\n        while(running)\n        {\n            update();\n            render();\n            if(glfwWindowShouldClose(window)) running = false;\n        }\n    }\n\n    private void init()\n    {\n        if(!glfwInit())\n        {\n            System.err.println(&quot;GLFW failed to initialize!&quot;);\n            return;\n        }\n        glfwWindowHint(GLFW_RESIZABLE, GL_TRUE);\n        window = glfwCreateWindow(windowWidth, windowHeight, &quot;Game&quot;, NULL, NULL);\n        if(window == NULL)\n        {\n            System.err.println(&quot;GLFW failed to create the window&quot;);\n            return;\n        }\n        GLFWVidMode videoMode = glfwGetVideoMode(glfwGetPrimaryMonitor());\n        glfwSetWindowPos(window, (videoMode.width() - windowWidth) / 2, (videoMode.height() - windowHeight) / 2);\n        glfwSetKeyCallback(window, new Input());\n        glfwMakeContextCurrent(window);\n        glEnable(GL_DEPTH_TEST);\n        System.out.println(&quot;OpenGL: &quot; + glGetString(GL_VERSION));\n        glfwShowWindow(window);\n        glClearColor(1.0f, 1.0f, 1.0f, 1.0f);\n    }\n\n    private void update()\n    {\n        glfwPollEvents();\n        if(Input.keys[GLFW_KEY_SPACE])\n        {\n            System.out.println(&quot;SPACE BAR&quot;);\n        }\n    }\n\n    private void render()\n    {\n        glfwSwapBuffers(window);\n    }\n}\n</code></pre>\n<p>Any pointers/tips would be helpful.</p>\n"},{"tags":["java","android","flutter","automation","appium"],"owner":{"account_id":17194225,"reputation":11,"user_id":15301745,"display_name":"Robi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700586478,"creation_date":1700586478,"question_id":77524677,"body_markdown":"I have added the following snippet inside main.dart file of my flutter android project\r\n\r\n    enableFlutterDriverExtension(\r\n      commands: [],\r\n      finders: [],\r\n    );\r\n\r\nrunApp(const AppRepoProvider());\r\nalso added the following snippet inside pubspec.yaml file\r\n\r\n    flutter_driver:\r\n      sdk: flutter\r\n\r\nand build debug apk by running the following command\r\n\r\n    flutter build apk --debug\r\n\r\nafter running this in appium inspector, got the above error\r\nBut, for UIAutomator2 , appium inspector is working properly. how to use flutter appium driver here properly","title":"ext.flutter.driver&quot; is not found in &quot;extensionRPCs&quot; and Cannot connect to the Dart Observatory URL ws://127.0.0.1:40615/q2l5tFCaOOs=/ws","body":"<p>I have added the following snippet inside main.dart file of my flutter android project</p>\n<pre><code>enableFlutterDriverExtension(\n  commands: [],\n  finders: [],\n);\n</code></pre>\n<p>runApp(const AppRepoProvider());\nalso added the following snippet inside pubspec.yaml file</p>\n<pre><code>flutter_driver:\n  sdk: flutter\n</code></pre>\n<p>and build debug apk by running the following command</p>\n<pre><code>flutter build apk --debug\n</code></pre>\n<p>after running this in appium inspector, got the above error\nBut, for UIAutomator2 , appium inspector is working properly. how to use flutter appium driver here properly</p>\n"},{"tags":["java","keycloak"],"owner":{"account_id":16202237,"reputation":62,"user_id":11698360,"display_name":"ymt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700586473,"creation_date":1700586473,"question_id":77524675,"body_markdown":"I have created a custom theme on keycloak.\r\nI have an input where i want the user to select his country of birth.\r\n\r\nI want the options of this select to not be harcoded in the ftl file. Is there a way to override the keycloak registration provider to add my custom attribute where i would store the countries ?\r\n\r\nNote : I am using keycloak v19\r\n\r\n\r\nThanks\r\n\r\n\r\nI have already tried to override the &quot;FreeMarkerLoginFormsProvider&quot; without success.\r\nI made a custom js file to update my country input but this is not a good way to do it since the end goal is to get the list of the country from an API and i dont want to call the API using js.","title":"Keycloak - Registration Page - Custom Attributes","body":"<p>I have created a custom theme on keycloak.\nI have an input where i want the user to select his country of birth.</p>\n<p>I want the options of this select to not be harcoded in the ftl file. Is there a way to override the keycloak registration provider to add my custom attribute where i would store the countries ?</p>\n<p>Note : I am using keycloak v19</p>\n<p>Thanks</p>\n<p>I have already tried to override the &quot;FreeMarkerLoginFormsProvider&quot; without success.\nI made a custom js file to update my country input but this is not a good way to do it since the end goal is to get the list of the country from an API and i dont want to call the API using js.</p>\n"},{"tags":["java","xml","xstream"],"comments":[{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1699366453,"post_id":77438843,"comment_id":136520680,"body_markdown":"Wouldn&#39;t it be easier to use XPath to directly extract the attribute values compared to detouring via Java objects?","body":"Wouldn&#39;t it be easier to use XPath to directly extract the attribute values compared to detouring via Java objects?"},{"owner":{"account_id":16901034,"reputation":65,"user_id":12222411,"display_name":"Aindriu"},"score":0,"creation_date":1699367180,"post_id":77438843,"comment_id":136520849,"body_markdown":"@forty-two I am not aware of what you mean? would your suggestion be a simpler and easier approach? this is my first time doing anything like this so I am open to any and all suggestions.","body":"@forty-two I am not aware of what you mean? would your suggestion be a simpler and easier approach? this is my first time doing anything like this so I am open to any and all suggestions."}],"answers":[{"comments":[{"owner":{"account_id":16901034,"reputation":65,"user_id":12222411,"display_name":"Aindriu"},"score":0,"creation_date":1699372745,"post_id":77439562,"comment_id":136522064,"body_markdown":"Thanks for your detailed reply, I have been reading documentation relating to xpath after your earlier comment and it seems like it would be a simpler approach to my problem.","body":"Thanks for your detailed reply, I have been reading documentation relating to xpath after your earlier comment and it seems like it would be a simpler approach to my problem."},{"owner":{"account_id":16901034,"reputation":65,"user_id":12222411,"display_name":"Aindriu"},"score":0,"creation_date":1699955190,"post_id":77439562,"comment_id":136592515,"body_markdown":"I have a question I have created a function for looping through the nodelist, I have posted the code in the main section, I am trying to extract these values to be used in a javaMail email body\n\nthe problem is when I call this function I only get the last name and value from the list?\nwhen I print the messageBody in the for loop I have all the attributes and values I want.","body":"I have a question I have created a function for looping through the nodelist, I have posted the code in the main section, I am trying to extract these values to be used in a javaMail email body  the problem is when I call this function I only get the last name and value from the list? when I print the messageBody in the for loop I have all the attributes and values I want."},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1700586620,"post_id":77439562,"comment_id":136671865,"body_markdown":"Well, you&#39;re overwriting messageBody on every loop ;)","body":"Well, you&#39;re overwriting messageBody on every loop ;)"},{"owner":{"account_id":16901034,"reputation":65,"user_id":12222411,"display_name":"Aindriu"},"score":0,"creation_date":1700730715,"post_id":77439562,"comment_id":136691126,"body_markdown":"I realised that not long after posting this, been staring at the code for too long :(","body":"I realised that not long after posting this, been staring at the code for too long :("}],"tags":[],"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699371553,"creation_date":1699371553,"answer_id":77439562,"question_id":77438843,"body_markdown":"An example using Java and XPath:\r\n\r\n        Document doc = DocumentBuilderFactory.newDefaultInstance()\r\n                .newDocumentBuilder()\r\n                .parse(...);\r\n        XPath xp = XPathFactory.newDefaultInstance().newXPath();\r\n        \r\n        // Get values of known attributes\r\n        System.out.println(&quot;Name: &quot; + xp.evaluate(&quot;/testsuite/@name&quot;, doc));\r\n        System.out.println(&quot;Tests: &quot; + xp.evaluate(&quot;/testsuite/@tests&quot;, doc));\r\n        System.out.println(&quot;Failures: &quot; + xp.evaluate(&quot;/testsuite/@failures&quot;, doc));\r\n        System.out.println(&quot;Skipped: &quot; + xp.evaluate(&quot;/testsuite/@skipped&quot;, doc));\r\n\r\n        // Get name and values of arbitrary attributes\r\n        NodeList nl = (NodeList) xp.evaluate(&quot;/testsuite/@*&quot;, doc, XPathConstants.NODESET);\r\n        for (int i=0; i &lt; nl.getLength(); ++i) {\r\n            Attr a = (Attr) nl.item(i);\r\n            System.out.printf(&quot;%s: %s\\n&quot;, a.getName(), a.getValue());\r\n        }\r\n","title":"Extracting xml attribute data with Java xstream","body":"<p>An example using Java and XPath:</p>\n<pre><code>    Document doc = DocumentBuilderFactory.newDefaultInstance()\n            .newDocumentBuilder()\n            .parse(...);\n    XPath xp = XPathFactory.newDefaultInstance().newXPath();\n    \n    // Get values of known attributes\n    System.out.println(&quot;Name: &quot; + xp.evaluate(&quot;/testsuite/@name&quot;, doc));\n    System.out.println(&quot;Tests: &quot; + xp.evaluate(&quot;/testsuite/@tests&quot;, doc));\n    System.out.println(&quot;Failures: &quot; + xp.evaluate(&quot;/testsuite/@failures&quot;, doc));\n    System.out.println(&quot;Skipped: &quot; + xp.evaluate(&quot;/testsuite/@skipped&quot;, doc));\n\n    // Get name and values of arbitrary attributes\n    NodeList nl = (NodeList) xp.evaluate(&quot;/testsuite/@*&quot;, doc, XPathConstants.NODESET);\n    for (int i=0; i &lt; nl.getLength(); ++i) {\n        Attr a = (Attr) nl.item(i);\n        System.out.printf(&quot;%s: %s\\n&quot;, a.getName(), a.getValue());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699376684,"creation_date":1699376684,"answer_id":77440159,"question_id":77438843,"body_markdown":"If all you need is to grab some attribute values, you may also consider using [Jsoup][1] since it is very intuitive and straight forward. Jsoup is a HTML parser but is also capable of parsing XML. Using Jsoup your code could look like something like:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.parser.Parser;\r\n    \r\n    public class Example {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            final File file = new File(&quot;/path/to/your/file.xml&quot;);\r\n            Document document = Jsoup.parse(file, &quot;UTF-8&quot;, &quot;&quot;, Parser.xmlParser());\r\n    \r\n            Element testsuite = document.selectFirst(&quot;testsuite&quot;);\r\n            \r\n            String failures   = testsuite.attr(&quot;failures&quot;);\r\n            String name       = testsuite.attr(&quot;name&quot;);\r\n            String skipped    = testsuite.attr(&quot;skipped&quot;);\r\n            String tests      = testsuite.attr(&quot;tests&quot;);\r\n    \r\n            System.out.printf(&quot;Failures: %s, Name: %s, Skipped: %s, Tests: %s&quot;, failures, name, skipped, tests);\r\n        }\r\n    }\r\n\r\nAdd [maven][2] dependency or download jar:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSelector syntax can be found here : [Selector][3]\r\n\r\n\r\n  [1]: https://jsoup.org/\r\n  [2]: https://mvnrepository.com/artifact/org.jsoup/jsoup/1.16.2\r\n  [3]: https://jsoup.org/apidocs/org/jsoup/select/Selector.html","title":"Extracting xml attribute data with Java xstream","body":"<p>If all you need is to grab some attribute values, you may also consider using <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a> since it is very intuitive and straight forward. Jsoup is a HTML parser but is also capable of parsing XML. Using Jsoup your code could look like something like:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.parser.Parser;\n\npublic class Example {\n\n    public static void main(String[] args) throws IOException {\n\n        final File file = new File(&quot;/path/to/your/file.xml&quot;);\n        Document document = Jsoup.parse(file, &quot;UTF-8&quot;, &quot;&quot;, Parser.xmlParser());\n\n        Element testsuite = document.selectFirst(&quot;testsuite&quot;);\n        \n        String failures   = testsuite.attr(&quot;failures&quot;);\n        String name       = testsuite.attr(&quot;name&quot;);\n        String skipped    = testsuite.attr(&quot;skipped&quot;);\n        String tests      = testsuite.attr(&quot;tests&quot;);\n\n        System.out.printf(&quot;Failures: %s, Name: %s, Skipped: %s, Tests: %s&quot;, failures, name, skipped, tests);\n    }\n}\n</code></pre>\n<p>Add <a href=\"https://mvnrepository.com/artifact/org.jsoup/jsoup/1.16.2\" rel=\"nofollow noreferrer\">maven</a> dependency or download jar:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n    &lt;version&gt;1.16.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Selector syntax can be found here : <a href=\"https://jsoup.org/apidocs/org/jsoup/select/Selector.html\" rel=\"nofollow noreferrer\">Selector</a></p>\n"}],"owner":{"account_id":16901034,"reputation":65,"user_id":12222411,"display_name":"Aindriu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700586457,"creation_date":1699365747,"question_id":77438843,"body_markdown":"I have an cucumber xml report and I want to extract the information in the attributes of the opening xml tag\r\n\r\nthe XML report looks like this \r\n```\r\n&lt;testsuite failures=&quot;&quot; name=&quot;&quot; skipped=&quot;&quot; tests=&quot;&quot;&gt;\r\n  &lt;testcase&gt;\r\n     &lt;skipped&gt;\r\n      more tags but they are not relevant \r\n     &lt;/skipped&gt;\r\n  &lt;/testcase&gt;\r\n&lt;/testsuite&gt;\r\n\r\n```\r\n\r\nI want to be able to take the information from the testsuite attributes save them as java object so that I can put them in an email body that will be sent out to a mailing list.\r\n\r\nthe information provided in the testsuite xml tag is all I care about.\r\n\r\nwhat would be the best way to approach this? I was creating a Testsuite class, \r\nannotating variables for the attributes I want with @XStreamAsAttribute and getting them that \r\nway but I am fairly unsure if this is correct.\r\n\r\nI have no experience with xstream so trying to go with what information I can find online.\r\n\r\n\r\nUpdate - have an issue in the function where I extract the xml attributes, only the last attribute name and value are being returned.\r\n\r\n```\r\npublic String extractXMLReportAttributes() {\r\n\t\tString messageBody = &quot;&quot;;\r\n\t\r\n\t\tfor (int i = 0; i &lt; nl.getLength(); i++) {\r\n\t\t\tAttr a = (Attr) nl.item(i);\r\n\t\t\tmessageBody = String.format(&quot;%s: %s&quot;, a.getName(), a.getValue());\r\n\t\t\tSystem.out.println(messageBody);\r\n\t\t}\r\n\t\treturn messageBody;\r\n\r\n\t}\r\n```","title":"Extracting xml attribute data with Java xstream","body":"<p>I have an cucumber xml report and I want to extract the information in the attributes of the opening xml tag</p>\n<p>the XML report looks like this</p>\n<pre><code>&lt;testsuite failures=&quot;&quot; name=&quot;&quot; skipped=&quot;&quot; tests=&quot;&quot;&gt;\n  &lt;testcase&gt;\n     &lt;skipped&gt;\n      more tags but they are not relevant \n     &lt;/skipped&gt;\n  &lt;/testcase&gt;\n&lt;/testsuite&gt;\n\n</code></pre>\n<p>I want to be able to take the information from the testsuite attributes save them as java object so that I can put them in an email body that will be sent out to a mailing list.</p>\n<p>the information provided in the testsuite xml tag is all I care about.</p>\n<p>what would be the best way to approach this? I was creating a Testsuite class,\nannotating variables for the attributes I want with @XStreamAsAttribute and getting them that\nway but I am fairly unsure if this is correct.</p>\n<p>I have no experience with xstream so trying to go with what information I can find online.</p>\n<p>Update - have an issue in the function where I extract the xml attributes, only the last attribute name and value are being returned.</p>\n<pre><code>public String extractXMLReportAttributes() {\n        String messageBody = &quot;&quot;;\n    \n        for (int i = 0; i &lt; nl.getLength(); i++) {\n            Attr a = (Attr) nl.item(i);\n            messageBody = String.format(&quot;%s: %s&quot;, a.getName(), a.getValue());\n            System.out.println(messageBody);\n        }\n        return messageBody;\n\n    }\n</code></pre>\n"},{"tags":["java","security","jwt","decode"],"comments":[{"owner":{"account_id":15068489,"reputation":604,"user_id":10874806,"display_name":"Hamza Khattabi"},"score":0,"creation_date":1700587343,"post_id":77524673,"comment_id":136672000,"body_markdown":"How do you know that the token has an invalid signature ? Could you provide a screenshot please ? :)","body":"How do you know that the token has an invalid signature ? Could you provide a screenshot please ? :)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700726376,"post_id":77524673,"comment_id":136690322,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":17859531,"reputation":1,"user_id":12973384,"display_name":"Aayush Bajaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700586449,"creation_date":1700586449,"question_id":77524673,"body_markdown":"I have a program where I am encoding and decoding JWT token but while decoding I am not verifying the signature.\r\n\r\n```\r\n\r\npackage com.immersivelabs.forum.utils;\r\n\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport jakarta.xml.bind.DatatypeConverter;\r\nimport java.security.Key;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.util.Date;\r\n\r\nimport com.immersivelabs.forum.config.Config;\r\nimport io.jsonwebtoken.*;\r\n\r\npublic class JsonWebTokenUtils {\r\n\r\n\r\n    public static String encodeAuthToken(String subject) {\r\n        SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\r\n\r\n        Date issuedAt = getIssuedDate();\r\n        Date expDate = getExpDate();\r\n\r\n        byte[] apiKeySecretBytes = DatatypeConverter.parseBase64Binary(Config.SECRET_KEY);\r\n        Key signingKey = new SecretKeySpec(apiKeySecretBytes, signatureAlgorithm.getJcaName());\r\n\r\n        JwtBuilder builder = Jwts.builder()\r\n                .setIssuedAt(issuedAt)\r\n                .setSubject(subject)\r\n                .signWith(signatureAlgorithm, signingKey);\r\n\r\n        return builder.compact();\r\n    }\r\n\r\n    public static String decodeJWT(String jwt) {\r\n        // Copied from StackOverflow to get around signature verification not working\r\n        String[] splitToken = jwt.split(&quot;\\\\.&quot;);\r\n        Jwt&lt;Header, Claims&gt; token = Jwts.parser().parseClaimsJwt(splitToken[0] + &quot;.&quot; + splitToken[1] + &quot;.&quot;);\r\n        Claims body = token.getBody();\r\n        return body.get(&quot;sub&quot;, String.class);\r\n    }\r\n\r\n    private static Date getIssuedDate() {\r\n        long nowMillis = System.currentTimeMillis();\r\n        return new Date(nowMillis);\r\n    }\r\n\r\n    private static Date getExpDate() {\r\n        LocalDateTime currentLocalDateTime = new Date().toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\r\n        currentLocalDateTime.plusDays(Long.valueOf(Config.TOKEN_EXPIRATION_DAYS));\r\n        currentLocalDateTime.plusSeconds(Long.valueOf(Config.TOKEN_EXPIRATION_SECONDS));\r\n        return Date.from(currentLocalDateTime.atZone(ZoneId.systemDefault()).toInstant());\r\n    }\r\n}\r\n```\r\n\r\n### What the remedition is\r\n\r\n```\r\nJwts.parser()\r\n    .setSigningKey(&quot;secretkey&quot;)\r\n    .parseClaimsJws(jwtString).getBody();\r\n```\r\n\r\nNow while setSiging key I should use same key as one used during encoding\r\nBut I am not able to understand what parameter I shall pass.\r\n\r\nI tried this method for decoding\r\n\r\n        public static String decodeJWT(String jwt) {          \r\n        String\\[\\] splitToken = jwt.split(&quot;\\\\.&quot;);\r\n        SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\r\n        byte[] apiKeySecretBytes = DatatypeConverter.parseBase64Binary(Config.SECRET_KEY);\r\n        Key signingKey = new SecretKeySpec(apiKeySecretBytes, signatureAlgorithm.getJcaName());\r\n    \r\n        Claims body = Jwts.parser().setSigningKey(apiKeySecretBytes)\r\n        .parseClaimsJws(splitToken[0] + &quot;.&quot; + splitToken[1] + &quot;.&quot;).getBody();\r\n        return body.get(&quot;sub&quot;, String.class);\r\n\r\n}","title":"How to validate JWT signature","body":"<p>I have a program where I am encoding and decoding JWT token but while decoding I am not verifying the signature.</p>\n<pre><code>\npackage com.immersivelabs.forum.utils;\n\nimport javax.crypto.spec.SecretKeySpec;\nimport jakarta.xml.bind.DatatypeConverter;\nimport java.security.Key;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.util.Date;\n\nimport com.immersivelabs.forum.config.Config;\nimport io.jsonwebtoken.*;\n\npublic class JsonWebTokenUtils {\n\n\n    public static String encodeAuthToken(String subject) {\n        SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\n\n        Date issuedAt = getIssuedDate();\n        Date expDate = getExpDate();\n\n        byte[] apiKeySecretBytes = DatatypeConverter.parseBase64Binary(Config.SECRET_KEY);\n        Key signingKey = new SecretKeySpec(apiKeySecretBytes, signatureAlgorithm.getJcaName());\n\n        JwtBuilder builder = Jwts.builder()\n                .setIssuedAt(issuedAt)\n                .setSubject(subject)\n                .signWith(signatureAlgorithm, signingKey);\n\n        return builder.compact();\n    }\n\n    public static String decodeJWT(String jwt) {\n        // Copied from StackOverflow to get around signature verification not working\n        String[] splitToken = jwt.split(&quot;\\\\.&quot;);\n        Jwt&lt;Header, Claims&gt; token = Jwts.parser().parseClaimsJwt(splitToken[0] + &quot;.&quot; + splitToken[1] + &quot;.&quot;);\n        Claims body = token.getBody();\n        return body.get(&quot;sub&quot;, String.class);\n    }\n\n    private static Date getIssuedDate() {\n        long nowMillis = System.currentTimeMillis();\n        return new Date(nowMillis);\n    }\n\n    private static Date getExpDate() {\n        LocalDateTime currentLocalDateTime = new Date().toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\n        currentLocalDateTime.plusDays(Long.valueOf(Config.TOKEN_EXPIRATION_DAYS));\n        currentLocalDateTime.plusSeconds(Long.valueOf(Config.TOKEN_EXPIRATION_SECONDS));\n        return Date.from(currentLocalDateTime.atZone(ZoneId.systemDefault()).toInstant());\n    }\n}\n</code></pre>\n<h3>What the remedition is</h3>\n<pre><code>Jwts.parser()\n    .setSigningKey(&quot;secretkey&quot;)\n    .parseClaimsJws(jwtString).getBody();\n</code></pre>\n<p>Now while setSiging key I should use same key as one used during encoding\nBut I am not able to understand what parameter I shall pass.</p>\n<p>I tried this method for decoding</p>\n<pre><code>    public static String decodeJWT(String jwt) {          \n    String\\[\\] splitToken = jwt.split(&quot;\\\\.&quot;);\n    SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\n    byte[] apiKeySecretBytes = DatatypeConverter.parseBase64Binary(Config.SECRET_KEY);\n    Key signingKey = new SecretKeySpec(apiKeySecretBytes, signatureAlgorithm.getJcaName());\n\n    Claims body = Jwts.parser().setSigningKey(apiKeySecretBytes)\n    .parseClaimsJws(splitToken[0] + &quot;.&quot; + splitToken[1] + &quot;.&quot;).getBody();\n    return body.get(&quot;sub&quot;, String.class);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1596917679,"post_id":63319122,"comment_id":111967221,"body_markdown":"Thanks for the suggestion. I tried it but unfortunately it didn&#39;t work. Do note that the provider I&#39;m assigning is a member of the class. I did try the following modification to your proposed code to no avail too:\n\n\n`@Autowired\n  public void configureAuthManager(final AuthenticationManagerBuilder authMB, @Qualifier(&quot;daoAuthenticationProvider&quot;) AuthenticationProvider provider) {\n    setProvider(provider);\n    authMB.authenticationProvider(this.provider);\n  }`","body":"Thanks for the suggestion. I tried it but unfortunately it didn&#39;t work. Do note that the provider I&#39;m assigning is a member of the class. I did try the following modification to your proposed code to no avail too:   <code>@Autowired   public void configureAuthManager(final AuthenticationManagerBuilder authMB, @Qualifier(&quot;daoAuthenticationProvider&quot;) AuthenticationProvider provider) {     setProvider(provider);     authMB.authenticationProvider(this.provider);   }</code>"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1596920637,"post_id":63319122,"comment_id":111967960,"body_markdown":"What did work, however, was your suggestion plus autowiring the entity repository in a class I was using to bootstrap the application with mock data. So it seems your suggestion **did** work and I just had two errors to solve, but the one I initially reported took priority and I only saw the second one after solving the first, but mistook it as your solution not working. I stand corrected, and will accept your answer as correct. Thanks again.","body":"What did work, however, was your suggestion plus autowiring the entity repository in a class I was using to bootstrap the application with mock data. So it seems your suggestion <b>did</b> work and I just had two errors to solve, but the one I initially reported took priority and I only saw the second one after solving the first, but mistook it as your solution not working. I stand corrected, and will accept your answer as correct. Thanks again."}],"tags":[],"owner":{"account_id":7504490,"reputation":596,"user_id":5701542,"display_name":"gaetan224"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1596912605,"creation_date":1596912605,"answer_id":63319122,"question_id":63317928,"body_markdown":"I think your on AuthenticationProvider is not yet ready before configureAuthManager is called, try using  (not tested) \r\n\r\n```` \r\n  @Autowired\r\n  public void configureAuthManager(final AuthenticationManagerBuilder authMB, @Qualifier(&quot;daoAuthenticationProvider&quot;) AuthenticationProvider provider) {\r\n    authMB.authenticationProvider(provider);\r\n  }\r\n","title":"&#39;springSecurityFilterChain&#39; threw java.lang.IllegalArgumentException: providers list cannot contain null values","body":"<p>I think your on AuthenticationProvider is not yet ready before configureAuthManager is called, try using  (not tested)</p>\n<pre><code>  @Autowired\n  public void configureAuthManager(final AuthenticationManagerBuilder authMB, @Qualifier(&quot;daoAuthenticationProvider&quot;) AuthenticationProvider provider) {\n    authMB.authenticationProvider(provider);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15063137,"reputation":21,"user_id":10871196,"display_name":"Akshay Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698242033,"creation_date":1698242033,"answer_id":77360137,"question_id":63317928,"body_markdown":"In case of spring version 3.0 and spring security version 6.0 onwards, if your httpSecurity.authenticationProvider(this.authenticationProvider) is failing with similar error &quot;**providers list cannot contain null values**&quot; then it indicates that the authentication provider must not have been initialized before the SecurityFilterChain bean. Make sure your AuthenticationProvider bean gets initialized before SecurityFilterChain bean. This can be done by using @DependsOn(&quot;authenticationProviderBeanName&quot;) in your SecurityFilterChain bean.\r\n\r\nCode will look something like this -\r\n\r\n@Bean\r\npublic AuthenticationProvider authenticationProvider(args...)\r\n{...}\r\n\r\n@Bean\r\n**@DependsOn(&quot;authenticationProvider&quot;)**\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {...}","title":"&#39;springSecurityFilterChain&#39; threw java.lang.IllegalArgumentException: providers list cannot contain null values","body":"<p>In case of spring version 3.0 and spring security version 6.0 onwards, if your httpSecurity.authenticationProvider(this.authenticationProvider) is failing with similar error &quot;<strong>providers list cannot contain null values</strong>&quot; then it indicates that the authentication provider must not have been initialized before the SecurityFilterChain bean. Make sure your AuthenticationProvider bean gets initialized before SecurityFilterChain bean. This can be done by using @DependsOn(&quot;authenticationProviderBeanName&quot;) in your SecurityFilterChain bean.</p>\n<p>Code will look something like this -</p>\n<p>@Bean\npublic AuthenticationProvider authenticationProvider(args...)\n{...}</p>\n<p>@Bean\n<strong>@DependsOn(&quot;authenticationProvider&quot;)</strong>\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {...}</p>\n"},{"tags":[],"owner":{"account_id":27244621,"reputation":1,"user_id":20770149,"display_name":"Thomas Dubuis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700586368,"creation_date":1700586368,"answer_id":77524657,"question_id":63317928,"body_markdown":"I have the same problem and I resolve it with making my authenticationProvider as public final.\r\nMy code: \r\n\r\n    private final AuthenticationProvider authenticationProvider;\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(authorizeHttpRequests -&gt; authorizeHttpRequests\r\n                        .requestMatchers(&quot;/auth/**&quot;)\r\n                        .permitAll()\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .sessionManagement(sessionManagement -&gt; sessionManagement\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .authenticationProvider(authenticationProvider);\r\n\r\n        return  http.build();\r\n    }\r\n\r\n","title":"&#39;springSecurityFilterChain&#39; threw java.lang.IllegalArgumentException: providers list cannot contain null values","body":"<p>I have the same problem and I resolve it with making my authenticationProvider as public final.\nMy code:</p>\n<pre><code>private final AuthenticationProvider authenticationProvider;\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(authorizeHttpRequests -&gt; authorizeHttpRequests\n                    .requestMatchers(&quot;/auth/**&quot;)\n                    .permitAll()\n                    .anyRequest()\n                    .authenticated())\n            .sessionManagement(sessionManagement -&gt; sessionManagement\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n            .authenticationProvider(authenticationProvider);\n\n    return  http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63319122,"answer_count":3,"score":1,"last_activity_date":1700586368,"creation_date":1596905305,"question_id":63317928,"body_markdown":"I&#39;m trying to build a Spring Boot application, a simple example to be able to load a web interface and create, retrieve, update and delete entities (for example students in a school), with some operations being restricted to certain users (therefore I&#39;m using Spring Security). It was working fine, but after making a few changes suggested by Checkstyle and PMD, it no longer runs, instead throwing the following stack trace:\r\n\r\n```\r\n2020-08-08 18:19:48.608 ERROR 30203 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:311) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:19) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_252]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_252]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.2.RELEASE.jar:2.3.2.RELEASE]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t... 27 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: providers list cannot contain null values\r\n\tat org.springframework.security.authentication.ProviderManager.checkState(ProviderManager.java:149) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.authentication.ProviderManager.&lt;init&gt;(ProviderManager.java:133) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder.performBuild(AuthenticationManagerBuilder.java:236) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder.performBuild(AuthenticationManagerBuilder.java:50) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:333) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:118) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.authenticationManager(WebSecurityConfigurerAdapter.java:269) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:202) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:94) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat com.example.demo.config.SpringSecConfig$$EnhancerBySpringCGLIB$$76cdcc3a.init(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_252]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_252]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t... 28 common frames omitted\r\n```\r\n\r\nThe changes were things like making parameters and variables final where possible, which normally wouldn&#39;t cause this. The only classes of my own referenced in the stack trace are the main class and the Spring Security configuration class:\r\n\r\n**SpringSecConfig.java**\r\n```\r\npackage com.example.demo.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.autoconfigure.security.servlet.PathRequest;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n/**\r\n * Spring Security configuration class.\r\n * @author Me\r\n *\r\n */\r\n@Configuration\r\npublic class SpringSecConfig extends WebSecurityConfigurerAdapter { //NOPMD\r\n  /**\r\n   * The authentication provider.\r\n   */\r\n  private AuthenticationProvider provider; //NOPMD\r\n\r\n  /**\r\n   * Mutator for the authentication provider.\r\n   * @param provider The authentication provider.\r\n   */\r\n  @Autowired\r\n  @Qualifier(&quot;daoAuthenticationProvider&quot;)\r\n  public void setProvider(final AuthenticationProvider provider) {\r\n    this.provider = provider;\r\n  }\r\n\r\n  /**\r\n   * Creates a new BCrypt-based password encoder.\r\n   * @return The password encoder.\r\n   */\r\n  @Bean\r\n  public PasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n  }\r\n\r\n  /**\r\n   * Creates a DaoAuthenticationProvider with BCrypt-based password encryption \r\n   * that uses the provided service.\r\n   * @param service The service to load user data.\r\n   * @return An AuthenticationProvider.\r\n   */\r\n  @Bean(&quot;daoAuthenticationProvider&quot;)\r\n  public AuthenticationProvider daoAuthenticationProvider(final UserDetailsService service) {\r\n    final DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n    provider.setPasswordEncoder(new BCryptPasswordEncoder());\r\n    provider.setUserDetailsService(service);\r\n    return provider;\r\n  }\r\n\r\n  /**\r\n   * Assigns an authentication provider to the Authentication Manager Builder.\r\n   * @param authMB The Authentication Manager Builder.\r\n   */\r\n  @Autowired\r\n  public void configureAuthManager(final AuthenticationManagerBuilder authMB) {\r\n    authMB.authenticationProvider(provider);\r\n  }\r\n\r\n  @Override\r\n  protected void configure(final HttpSecurity httpSecurity) throws Exception {\r\n    httpSecurity //NOPMD\r\n    .authorizeRequests()\r\n    .requestMatchers(PathRequest.toStaticResources() //NOPMD\r\n        .atCommonLocations())\r\n    .permitAll()\r\n    .antMatchers(&quot;/**&quot;, &quot;/people&quot;, &quot;/person/show/*&quot;, &quot;/console/*&quot;, &quot;/h2-console/**&quot;)\r\n    .permitAll()\r\n    .anyRequest()\r\n    .authenticated()\r\n    .and().formLogin().loginPage(&quot;/login&quot;)\r\n    .permitAll()\r\n    .and().logout()\r\n        .permitAll();\r\n\r\n    httpSecurity.csrf().disable(); //NOPMD\r\n    httpSecurity.headers().frameOptions().disable(); //NOPMD\r\n  }\r\n}\r\n```\r\n\r\n**DemoApplication.java**\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n/**\r\n * Point of entry of the application.\r\n * @author Me\r\n *\r\n */\r\n@SpringBootApplication\r\npublic class DemoApplication { //NOPMD\r\n\r\n  /**\r\n   * Main method.\r\n   * @param args The arguments.\r\n   */\r\n  public static void main(final String[] args) {\r\n    SpringApplication.run(DemoApplication.class, args);\r\n  }\r\n\r\n}\r\n```\r\nThere is a related but unanswered question [here][1].\r\n\r\nI understand that the list of providers checked in org.springframework.security.authentication.ProviderManager.checkState() contains a null value and that&#39;s what&#39;s causing the problem. But I can&#39;t figure out why it contains that null value. Any ideas? Thanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62329340/springsecurityfilterchain-threw-exceptionnested-exception-is-java-lang-illega?r=SearchResults&amp;s=1%7C324.8060","title":"&#39;springSecurityFilterChain&#39; threw java.lang.IllegalArgumentException: providers list cannot contain null values","body":"<p>I'm trying to build a Spring Boot application, a simple example to be able to load a web interface and create, retrieve, update and delete entities (for example students in a school), with some operations being restricted to certain users (therefore I'm using Spring Security). It was working fine, but after making a few changes suggested by Checkstyle and PMD, it no longer runs, instead throwing the following stack trace:</p>\n<pre><code>2020-08-08 18:19:48.608 ERROR 30203 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:483) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:311) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.2.RELEASE.jar:2.3.2.RELEASE]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:19) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_252]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_252]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.2.RELEASE.jar:2.3.2.RELEASE]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: providers list cannot contain null values\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    ... 27 common frames omitted\nCaused by: java.lang.IllegalArgumentException: providers list cannot contain null values\n    at org.springframework.security.authentication.ProviderManager.checkState(ProviderManager.java:149) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.authentication.ProviderManager.&lt;init&gt;(ProviderManager.java:133) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder.performBuild(AuthenticationManagerBuilder.java:236) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder.performBuild(AuthenticationManagerBuilder.java:50) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:333) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration.getAuthenticationManager(AuthenticationConfiguration.java:118) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.authenticationManager(WebSecurityConfigurerAdapter.java:269) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:202) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:94) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at com.example.demo.config.SpringSecConfig$$EnhancerBySpringCGLIB$$76cdcc3a.init(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.3.3.RELEASE.jar:5.3.3.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_252]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_252]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    ... 28 common frames omitted\n</code></pre>\n<p>The changes were things like making parameters and variables final where possible, which normally wouldn't cause this. The only classes of my own referenced in the stack trace are the main class and the Spring Security configuration class:</p>\n<p><strong>SpringSecConfig.java</strong></p>\n<pre><code>package com.example.demo.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.security.servlet.PathRequest;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n/**\n * Spring Security configuration class.\n * @author Me\n *\n */\n@Configuration\npublic class SpringSecConfig extends WebSecurityConfigurerAdapter { //NOPMD\n  /**\n   * The authentication provider.\n   */\n  private AuthenticationProvider provider; //NOPMD\n\n  /**\n   * Mutator for the authentication provider.\n   * @param provider The authentication provider.\n   */\n  @Autowired\n  @Qualifier(&quot;daoAuthenticationProvider&quot;)\n  public void setProvider(final AuthenticationProvider provider) {\n    this.provider = provider;\n  }\n\n  /**\n   * Creates a new BCrypt-based password encoder.\n   * @return The password encoder.\n   */\n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n\n  /**\n   * Creates a DaoAuthenticationProvider with BCrypt-based password encryption \n   * that uses the provided service.\n   * @param service The service to load user data.\n   * @return An AuthenticationProvider.\n   */\n  @Bean(&quot;daoAuthenticationProvider&quot;)\n  public AuthenticationProvider daoAuthenticationProvider(final UserDetailsService service) {\n    final DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n    provider.setPasswordEncoder(new BCryptPasswordEncoder());\n    provider.setUserDetailsService(service);\n    return provider;\n  }\n\n  /**\n   * Assigns an authentication provider to the Authentication Manager Builder.\n   * @param authMB The Authentication Manager Builder.\n   */\n  @Autowired\n  public void configureAuthManager(final AuthenticationManagerBuilder authMB) {\n    authMB.authenticationProvider(provider);\n  }\n\n  @Override\n  protected void configure(final HttpSecurity httpSecurity) throws Exception {\n    httpSecurity //NOPMD\n    .authorizeRequests()\n    .requestMatchers(PathRequest.toStaticResources() //NOPMD\n        .atCommonLocations())\n    .permitAll()\n    .antMatchers(&quot;/**&quot;, &quot;/people&quot;, &quot;/person/show/*&quot;, &quot;/console/*&quot;, &quot;/h2-console/**&quot;)\n    .permitAll()\n    .anyRequest()\n    .authenticated()\n    .and().formLogin().loginPage(&quot;/login&quot;)\n    .permitAll()\n    .and().logout()\n        .permitAll();\n\n    httpSecurity.csrf().disable(); //NOPMD\n    httpSecurity.headers().frameOptions().disable(); //NOPMD\n  }\n}\n</code></pre>\n<p><strong>DemoApplication.java</strong></p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n/**\n * Point of entry of the application.\n * @author Me\n *\n */\n@SpringBootApplication\npublic class DemoApplication { //NOPMD\n\n  /**\n   * Main method.\n   * @param args The arguments.\n   */\n  public static void main(final String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n\n}\n</code></pre>\n<p>There is a related but unanswered question <a href=\"https://stackoverflow.com/questions/62329340/springsecurityfilterchain-threw-exceptionnested-exception-is-java-lang-illega?r=SearchResults&amp;s=1%7C324.8060\">here</a>.</p>\n<p>I understand that the list of providers checked in org.springframework.security.authentication.ProviderManager.checkState() contains a null value and that's what's causing the problem. But I can't figure out why it contains that null value. Any ideas? Thanks in advance.</p>\n"},{"tags":["java","arrays","list","kotlin","variadic-functions"],"answers":[{"tags":[],"owner":{"account_id":29956872,"reputation":1,"user_id":22957564,"display_name":"neftLevel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700586153,"creation_date":1700586153,"answer_id":77524639,"question_id":77523279,"body_markdown":"I found my problem:\r\n\r\nThere are two variable types named &quot;LatLng&quot;.\r\n\r\nLatLng(**latitude**: Double, **longitude**: Double) \r\nin com.google.android.gms:play-services-maps:18.2.0\r\n\r\nand\r\n\r\nLatLng(**lat**: Double, **lng**: Double)\r\nin com.google.maps:google-maps-services:2.2.0\r\n\r\nBoth variables are incompatible. So my working code looks like this:\r\n\r\n    fun getRoadsSnapped(\r\n        // First: Snap to Roads to get placeIds\r\n        dirlist: List&lt;LatLng&gt;,\r\n        callback: (Array&lt;Double&gt;) -&gt; Unit\r\n\r\n    ){\r\n\r\n        // Handle Pathlist that it is below 100 in size\r\n\r\n        // Right dependency variable\r\n        var tmpPathlist: Array&lt;com.google.maps.model.LatLng&gt; = emptyArray()\r\n        var divider: Int = 1\r\n\r\n        //RoadsApi only allowed 100 paths in snapToRoads. Reduce them evenly.\r\n        if (dirlist.size &gt; 100){\r\n            divider = ceil((dirlist.size.toFloat() / 100f)).roundToInt()\r\n        }\r\n\r\n        for (i in dirlist.indices step divider){\r\n            // copy by hand\r\n            tmpPathlist += com.google.maps.model.LatLng(dirlist[i].latitude, dirlist[i].longitude)\r\n            \r\n        }\r\n\r\n        println(&quot;Size of handed over Array: &quot; + tmpPathlist.size.toString())\r\n\r\n        val snapped = RoadsApi.snapToRoads(mGeoApiContext, *tmpPathlist )\r\n\r\n        // [...] setCallback...\r\n\r\n       }\r\n\r\n\r\nThat is, when you focus just to the obvious thing, that was that I&#39;m new to Kotlin and varargs.\r\n\r\nThe Kotlin &quot;*&quot; is working.\r\n\r\nI will ask the google team, if this has some reasons.","title":"Complex array to vararg via spread operator in Kotlin does not work","body":"<p>I found my problem:</p>\n<p>There are two variable types named &quot;LatLng&quot;.</p>\n<p>LatLng(<strong>latitude</strong>: Double, <strong>longitude</strong>: Double)\nin com.google.android.gms:play-services-maps:18.2.0</p>\n<p>and</p>\n<p>LatLng(<strong>lat</strong>: Double, <strong>lng</strong>: Double)\nin com.google.maps:google-maps-services:2.2.0</p>\n<p>Both variables are incompatible. So my working code looks like this:</p>\n<pre><code>fun getRoadsSnapped(\n    // First: Snap to Roads to get placeIds\n    dirlist: List&lt;LatLng&gt;,\n    callback: (Array&lt;Double&gt;) -&gt; Unit\n\n){\n\n    // Handle Pathlist that it is below 100 in size\n\n    // Right dependency variable\n    var tmpPathlist: Array&lt;com.google.maps.model.LatLng&gt; = emptyArray()\n    var divider: Int = 1\n\n    //RoadsApi only allowed 100 paths in snapToRoads. Reduce them evenly.\n    if (dirlist.size &gt; 100){\n        divider = ceil((dirlist.size.toFloat() / 100f)).roundToInt()\n    }\n\n    for (i in dirlist.indices step divider){\n        // copy by hand\n        tmpPathlist += com.google.maps.model.LatLng(dirlist[i].latitude, dirlist[i].longitude)\n        \n    }\n\n    println(&quot;Size of handed over Array: &quot; + tmpPathlist.size.toString())\n\n    val snapped = RoadsApi.snapToRoads(mGeoApiContext, *tmpPathlist )\n\n    // [...] setCallback...\n\n   }\n</code></pre>\n<p>That is, when you focus just to the obvious thing, that was that I'm new to Kotlin and varargs.</p>\n<p>The Kotlin &quot;*&quot; is working.</p>\n<p>I will ask the google team, if this has some reasons.</p>\n"}],"owner":{"account_id":29956872,"reputation":1,"user_id":22957564,"display_name":"neftLevel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700586153,"creation_date":1700573965,"question_id":77523279,"body_markdown":"I&#39;m working with Kotlin (Jetpack compose) with the google routes API.\r\n\r\nI have a problem with the snapToRoads function. It accepts only &quot;vararg LatLng!&quot; (Java class)\r\n\r\n\r\n\r\n\r\n\r\nI have tried with Array&lt;LatLng&gt; and List&lt;LatLng&gt; and the spread operator &quot;*&quot; and .toTypeArray but this is just working with simple variables, but not for LatLng. \r\n\r\n\r\n```\r\ncom.google.android.gms.maps.model.LatLng\r\n@Contract(pure = true)  \r\npublic LatLng(     double latitude,\r\n    double longitude )\r\n```\r\n\r\nError from &quot;snapToRoads&quot; function from code below: \r\nNone of the following functions can be called with the arguments supplied.\r\nsnapToRoads(GeoApiContext!, vararg LatLng!) defined in com.google.maps.RoadsApi\r\nsnapToRoads(GeoApiContext!, Boolean, vararg LatLng!) defined in com.google.maps.RoadsApi\r\n\r\nThe GeoApiContext is working perfectly with other calls without varargs.\r\nHow can I hand over my variables?\r\n\r\nHere are my build.gradle.kts dependencies:\r\n```\r\nimplementation(&quot;androidx.core:core-ktx:1.12.0&quot;)\r\n\r\n    implementation(&quot;androidx.activity:activity-compose:1.8.1&quot;)\r\n    implementation(platform(&quot;androidx.compose:compose-bom:2023.03.00&quot;))\r\n    implementation(&quot;androidx.compose.ui:ui&quot;)\r\n    implementation(&quot;androidx.compose.ui:ui-graphics&quot;)\r\n    implementation(&quot;androidx.compose.ui:ui-tooling-preview&quot;)\r\n    implementation(&quot;androidx.compose.material3:material3&quot;)\r\n\r\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\r\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\r\n    androidTestImplementation(platform(&quot;androidx.compose:compose-bom:2023.03.00&quot;))\r\n    androidTestImplementation(&quot;androidx.compose.ui:ui-test-junit4&quot;)\r\n    debugImplementation(&quot;androidx.compose.ui:ui-tooling&quot;)\r\n    debugImplementation(&quot;androidx.compose.ui:ui-test-manifest&quot;)\r\n    implementation(&quot;androidx.constraintlayout:constraintlayout-compose:1.0.1&quot;)\r\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n    //Maps\r\n    implementation (&quot;com.google.maps.android:maps-compose:2.9.0&quot;)\r\n    implementation (&quot;com.google.android.gms:play-services-maps:18.2.0&quot;)\r\n    implementation(&quot;com.google.android.gms:play-services-location:21.0.1&quot;)\r\n\r\n//Lifecycle\r\n    implementation (&quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2&quot;)\r\n    implementation (&quot;androidx.lifecycle:lifecycle-runtime-compose:2.6.2&quot;)\r\n    implementation (&quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.2&quot;)\r\n\r\n\r\n    implementation(&quot;androidx.lifecycle:lifecycle-viewmodel-compose:2.6.2&quot;)\r\n    //DirectionsAPI+\r\n    implementation (&quot;com.google.maps:google-maps-services:2.2.0&quot;)\r\n    implementation (&quot;org.slf4j:slf4j-simple:1.7.25&quot;)\r\n\r\n```\r\n\r\nMy Kotlin function:\r\n```\r\nfun getRoadsSnapped(\r\n        // First: Snap to Roads to get placeIds\r\n        dirlist: List&lt;LatLng&gt;,\r\n        callback: (Array&lt;Double&gt;) -&gt; Unit\r\n\r\n    ){\r\n\r\n        // Handle Pathlist that it is below 100 in size\r\n        var tmpPathlist: Array&lt;LatLng&gt; = emptyArray()\r\n        var divider: Int = 1\r\n\r\n        //RoadsApi only allowed 100 paths in snapToRoads. Reduce them evenly.\r\n        if (dirlist.size &gt; 100){\r\n            divider = ceil((dirlist.size.toFloat() / 100f)).roundToInt()\r\n        }\r\n\r\n        for (i in dirlist.indices step divider){\r\n            tmpPathlist += dirlist[i]\r\n        }\r\n\r\n        println(&quot;Size of handed over Array: &quot; + tmpPathlist.size.toString())\r\n\r\n        val snapped = RoadsApi.snapToRoads(mGeoApiContext, *tmpPathlist)\r\n\r\n        // [...] setCallback...\r\n     }\r\n\r\n```","title":"Complex array to vararg via spread operator in Kotlin does not work","body":"<p>I'm working with Kotlin (Jetpack compose) with the google routes API.</p>\n<p>I have a problem with the snapToRoads function. It accepts only &quot;vararg LatLng!&quot; (Java class)</p>\n<p>I have tried with Array and List and the spread operator &quot;*&quot; and .toTypeArray but this is just working with simple variables, but not for LatLng.</p>\n<pre><code>com.google.android.gms.maps.model.LatLng\n@Contract(pure = true)  \npublic LatLng(     double latitude,\n    double longitude )\n</code></pre>\n<p>Error from &quot;snapToRoads&quot; function from code below:\nNone of the following functions can be called with the arguments supplied.\nsnapToRoads(GeoApiContext!, vararg LatLng!) defined in com.google.maps.RoadsApi\nsnapToRoads(GeoApiContext!, Boolean, vararg LatLng!) defined in com.google.maps.RoadsApi</p>\n<p>The GeoApiContext is working perfectly with other calls without varargs.\nHow can I hand over my variables?</p>\n<p>Here are my build.gradle.kts dependencies:</p>\n<pre><code>implementation(&quot;androidx.core:core-ktx:1.12.0&quot;)\n\n    implementation(&quot;androidx.activity:activity-compose:1.8.1&quot;)\n    implementation(platform(&quot;androidx.compose:compose-bom:2023.03.00&quot;))\n    implementation(&quot;androidx.compose.ui:ui&quot;)\n    implementation(&quot;androidx.compose.ui:ui-graphics&quot;)\n    implementation(&quot;androidx.compose.ui:ui-tooling-preview&quot;)\n    implementation(&quot;androidx.compose.material3:material3&quot;)\n\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n    androidTestImplementation(&quot;androidx.test.ext:junit:1.1.5&quot;)\n    androidTestImplementation(&quot;androidx.test.espresso:espresso-core:3.5.1&quot;)\n    androidTestImplementation(platform(&quot;androidx.compose:compose-bom:2023.03.00&quot;))\n    androidTestImplementation(&quot;androidx.compose.ui:ui-test-junit4&quot;)\n    debugImplementation(&quot;androidx.compose.ui:ui-tooling&quot;)\n    debugImplementation(&quot;androidx.compose.ui:ui-test-manifest&quot;)\n    implementation(&quot;androidx.constraintlayout:constraintlayout-compose:1.0.1&quot;)\n    implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\n    //Maps\n    implementation (&quot;com.google.maps.android:maps-compose:2.9.0&quot;)\n    implementation (&quot;com.google.android.gms:play-services-maps:18.2.0&quot;)\n    implementation(&quot;com.google.android.gms:play-services-location:21.0.1&quot;)\n\n//Lifecycle\n    implementation (&quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2&quot;)\n    implementation (&quot;androidx.lifecycle:lifecycle-runtime-compose:2.6.2&quot;)\n    implementation (&quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.2&quot;)\n\n\n    implementation(&quot;androidx.lifecycle:lifecycle-viewmodel-compose:2.6.2&quot;)\n    //DirectionsAPI+\n    implementation (&quot;com.google.maps:google-maps-services:2.2.0&quot;)\n    implementation (&quot;org.slf4j:slf4j-simple:1.7.25&quot;)\n\n</code></pre>\n<p>My Kotlin function:</p>\n<pre><code>fun getRoadsSnapped(\n        // First: Snap to Roads to get placeIds\n        dirlist: List&lt;LatLng&gt;,\n        callback: (Array&lt;Double&gt;) -&gt; Unit\n\n    ){\n\n        // Handle Pathlist that it is below 100 in size\n        var tmpPathlist: Array&lt;LatLng&gt; = emptyArray()\n        var divider: Int = 1\n\n        //RoadsApi only allowed 100 paths in snapToRoads. Reduce them evenly.\n        if (dirlist.size &gt; 100){\n            divider = ceil((dirlist.size.toFloat() / 100f)).roundToInt()\n        }\n\n        for (i in dirlist.indices step divider){\n            tmpPathlist += dirlist[i]\n        }\n\n        println(&quot;Size of handed over Array: &quot; + tmpPathlist.size.toString())\n\n        val snapped = RoadsApi.snapToRoads(mGeoApiContext, *tmpPathlist)\n\n        // [...] setCallback...\n     }\n\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-sdk","aws-sdk-java-2.0","aws-sdk-java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1700585762,"post_id":77524144,"comment_id":136671705,"body_markdown":"In your question you say &quot;2.21.2&quot; and &quot;2.21.x&quot; but the title says &quot;2.1&quot;. I think the question title should say &quot;v2.x&quot;.","body":"In your question you say &quot;2.21.2&quot; and &quot;2.21.x&quot; but the title says &quot;2.1&quot;. I think the question title should say &quot;v2.x&quot;."},{"owner":{"account_id":3581220,"reputation":171,"user_id":2989397,"display_name":"user2989397"},"score":1,"creation_date":1700586141,"post_id":77524144,"comment_id":136671783,"body_markdown":"Thanks for the catch, I updated the subject of the question.","body":"Thanks for the catch, I updated the subject of the question."}],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700582918,"creation_date":1700582918,"answer_id":77524287,"question_id":77524144,"body_markdown":"I went to the Java SDK [S3 Client documentation][1] and just did a full page search for &quot;ACL&quot;. I see there [are][2] [two][3] `putObjectAcl` methods, which are exactly what you are looking for.\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#putObjectAcl(java.util.function.Consumer)\r\n  [3]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#putObjectAcl(software.amazon.awssdk.services.s3.model.PutObjectAclRequest)","title":"No method for setObjectAcl in AWS Java SDK v2.x","body":"<p>I went to the Java SDK <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html\" rel=\"nofollow noreferrer\">S3 Client documentation</a> and just did a full page search for &quot;ACL&quot;. I see there <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#putObjectAcl(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">are</a> <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#putObjectAcl(software.amazon.awssdk.services.s3.model.PutObjectAclRequest)\" rel=\"nofollow noreferrer\">two</a> <code>putObjectAcl</code> methods, which are exactly what you are looking for.</p>\n"},{"comments":[{"owner":{"account_id":3581220,"reputation":171,"user_id":2989397,"display_name":"user2989397"},"score":0,"creation_date":1700585096,"post_id":77524301,"comment_id":136671579,"body_markdown":"Thanks, I had already converted many other functions for v1.5 over to 2.21, as there were plenty of examples.  I understood the process of the newer api, but was just stuck.  If I would have browsed the java packages, I might have found it.  Thanks for your comment, it helped me quickly move forward.  I&#39;ll update the question with the final solution.","body":"Thanks, I had already converted many other functions for v1.5 over to 2.21, as there were plenty of examples.  I understood the process of the newer api, but was just stuck.  If I would have browsed the java packages, I might have found it.  Thanks for your comment, it helped me quickly move forward.  I&#39;ll update the question with the final solution."}],"tags":[],"owner":{"account_id":22397,"reputation":417280,"user_id":55159,"accept_rate":79,"display_name":"Quassnoi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700583028,"creation_date":1700583028,"answer_id":77524301,"question_id":77524144,"body_markdown":"In v2, they [renamed][1] some of the methods to match API action names:\r\n\r\n&gt; To provide SDK support for the many services that AWS owns, the AWS SDKs make extensive use of code generation. In 1.11.x, all service clients are generated, except for the S3 client. This frequently results in a disconnect between how non-Java AWS SDKs and IAM policies refer to an S3 operation (e.g., `DeleteBucketReplicationConfiguration`), and how the Java AWS SDK would refer to that same operation (`DeleteBucketReplication`). This made creating IAM policies and switching to other SDKs difficult, because the equivalent string was not always well documented.\r\n&gt;\r\n&gt; In 2.x, S3 is generated like every other service, ensuring the operation names, inputs, and outputs will always match those of other SDKs and IAM.\r\n\r\n\r\n\r\nYou&#39;re looking for [`putObjectAcl`][2], which is a wrapper for [`PutObjectAcl`][3] API action.\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-x-released/\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#putObjectAcl(software.amazon.awssdk.services.s3.model.PutObjectAclRequest)\r\n  [3]: https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObjectAcl.html","title":"No method for setObjectAcl in AWS Java SDK v2.x","body":"<p>In v2, they <a href=\"https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-x-released/\" rel=\"nofollow noreferrer\">renamed</a> some of the methods to match API action names:</p>\n<blockquote>\n<p>To provide SDK support for the many services that AWS owns, the AWS SDKs make extensive use of code generation. In 1.11.x, all service clients are generated, except for the S3 client. This frequently results in a disconnect between how non-Java AWS SDKs and IAM policies refer to an S3 operation (e.g., <code>DeleteBucketReplicationConfiguration</code>), and how the Java AWS SDK would refer to that same operation (<code>DeleteBucketReplication</code>). This made creating IAM policies and switching to other SDKs difficult, because the equivalent string was not always well documented.</p>\n<p>In 2.x, S3 is generated like every other service, ensuring the operation names, inputs, and outputs will always match those of other SDKs and IAM.</p>\n</blockquote>\n<p>You're looking for <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#putObjectAcl(software.amazon.awssdk.services.s3.model.PutObjectAclRequest)\" rel=\"nofollow noreferrer\"><code>putObjectAcl</code></a>, which is a wrapper for <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObjectAcl.html\" rel=\"nofollow noreferrer\"><code>PutObjectAcl</code></a> API action.</p>\n"},{"tags":[],"owner":{"account_id":3581220,"reputation":171,"user_id":2989397,"display_name":"user2989397"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700585359,"creation_date":1700585359,"answer_id":77524567,"question_id":77524144,"body_markdown":"Quasnoi pointed me in the right direction.  My method ended up looking something like this:\r\n\r\n    \tpublic void setObjectAcl(String bucket, String key, ObjectCannedACL acl) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tPutObjectAclRequest putObjectAclRequest = PutObjectAclRequest.builder()\r\n\t\t\t\t\t.bucket(bucket)\r\n\t\t\t\t\t.key(key)\r\n\t\t\t\t\t.acl(acl)\r\n\t\t\t\t\t.build();\r\n\t\t\t\r\n\t\t\ts3client.putObjectAcl(putObjectAclRequest);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Error setting new ACL on &quot; + key + &quot;:&quot; + e.getMessage());\r\n\t\t}\r\n\t\t\r\n\t}\r\n","title":"No method for setObjectAcl in AWS Java SDK v2.x","body":"<p>Quasnoi pointed me in the right direction.  My method ended up looking something like this:</p>\n<pre><code>    public void setObjectAcl(String bucket, String key, ObjectCannedACL acl) {\n    \n    try {\n        PutObjectAclRequest putObjectAclRequest = PutObjectAclRequest.builder()\n                .bucket(bucket)\n                .key(key)\n                .acl(acl)\n                .build();\n        \n        s3client.putObjectAcl(putObjectAclRequest);\n        \n    } catch (Exception e) {\n        logger.error(&quot;Error setting new ACL on &quot; + key + &quot;:&quot; + e.getMessage());\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":3581220,"reputation":171,"user_id":2989397,"display_name":"user2989397"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77524301,"answer_count":3,"score":1,"last_activity_date":1700586088,"creation_date":1700581737,"question_id":77524144,"body_markdown":"I am upgrading a legacy java application that used AWS SDK v1.5 for S3 operations, and one of the functions it had to do was to change an objects ACL, from private to public-read, based on certain conditions.  The v1.5 AmazonS3 had a method for this, simple as:\r\n\r\n    s3client.setObjectAcl(bucketName, s3Key, acl);\r\n\r\nBut it appears that feature or capability doesn&#39;t exist in v2.21.2.  I&#39;ve looked through all the posted examples and documentation, and found a rather complex example of how to change the ACL for a bucket, but I need to be able to set a single object acl to public-read or back to private, not the whole bucket.  \r\n\r\nHow do I do this in AWS SDK v2.21.x?\r\n\r\n","title":"No method for setObjectAcl in AWS Java SDK v2.x","body":"<p>I am upgrading a legacy java application that used AWS SDK v1.5 for S3 operations, and one of the functions it had to do was to change an objects ACL, from private to public-read, based on certain conditions.  The v1.5 AmazonS3 had a method for this, simple as:</p>\n<pre><code>s3client.setObjectAcl(bucketName, s3Key, acl);\n</code></pre>\n<p>But it appears that feature or capability doesn't exist in v2.21.2.  I've looked through all the posted examples and documentation, and found a rather complex example of how to change the ACL for a bucket, but I need to be able to set a single object acl to public-read or back to private, not the whole bucket.</p>\n<p>How do I do this in AWS SDK v2.21.x?</p>\n"},{"tags":["java","android","service"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1696613665,"post_id":77246158,"comment_id":136180533,"body_markdown":"&quot;I&#39;m looking to make an app without UI&quot; -- how do you anticipate that the app will ever run? What specifically will move it out of the initial &quot;stopped state&quot;?","body":"&quot;I&#39;m looking to make an app without UI&quot; -- how do you anticipate that the app will ever run? What specifically will move it out of the initial &quot;stopped state&quot;?"},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1696646547,"post_id":77246158,"comment_id":136183912,"body_markdown":"@CommonsWare As told after, my app is started, not closed.","body":"@CommonsWare As told after, my app is started, not closed."}],"answers":[{"comments":[{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1696618281,"post_id":77246351,"comment_id":136181285,"body_markdown":"I deduce from your answer and that of @CommonsWare that what I would have liked to do is not possible, and I perfectly understand why.\nBasically, what I would have simply wanted is for my application to be restarted after reboot (if it was started before the reboot), and that would be enough for me. However, I can clearly see it in the background, but it is not executed. Maybe I just need to handle a state differently.\nI will search in this direction.","body":"I deduce from your answer and that of @CommonsWare that what I would have liked to do is not possible, and I perfectly understand why. Basically, what I would have simply wanted is for my application to be restarted after reboot (if it was started before the reboot), and that would be enough for me. However, I can clearly see it in the background, but it is not executed. Maybe I just need to handle a state differently. I will search in this direction."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696621873,"post_id":77246351,"comment_id":136181771,"body_markdown":"&quot;_Background services are killed after 2 minutes. Always_&quot; – Is this documented? Because [this](https://developer.android.com/guide/components/services) seems to contradict that statement. But I&#39;m definitely not an Android expert.","body":"&quot;<i>Background services are killed after 2 minutes. Always</i>&quot; – Is this documented? Because <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">this</a> seems to contradict that statement. But I&#39;m definitely not an Android expert."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696622244,"post_id":77246351,"comment_id":136181824,"body_markdown":"Never mind. [This](https://developer.android.com/about/versions/oreo/background#services) seems to answer my question.","body":"Never mind. <a href=\"https://developer.android.com/about/versions/oreo/background#services\" rel=\"nofollow noreferrer\">This</a> seems to answer my question."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1696623630,"post_id":77246351,"comment_id":136182035,"body_markdown":"@Slaw The two is experimentally determined (and future builds could tweak it, don&#39;t depend on getting a certain amount).  But yes, the background limitations covers the behavior","body":"@Slaw The two is experimentally determined (and future builds could tweak it, don&#39;t depend on getting a certain amount).  But yes, the background limitations covers the behavior"}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696612595,"creation_date":1696612595,"answer_id":77246351,"question_id":77246158,"body_markdown":"It&#39;s not possible to have a service always running in the background at all.  Background services are killed after 2 minutes.  Always.  Foreground services last longer, but can still be killed at any time.\r\n\r\nHowever, that doesn&#39;t mean you can&#39;t achieve what you actually need.  There&#39;s a variety of ways to have work done asynchronously.  But &quot;keep a service around to do it&quot; isn&#39;t one of those ways.  TO help further, we&#39;d need to know what you&#39;re actually trying to do.\r\n","title":"Is it actually possible to have a background service always runing even after reboot?","body":"<p>It's not possible to have a service always running in the background at all.  Background services are killed after 2 minutes.  Always.  Foreground services last longer, but can still be killed at any time.</p>\n<p>However, that doesn't mean you can't achieve what you actually need.  There's a variety of ways to have work done asynchronously.  But &quot;keep a service around to do it&quot; isn't one of those ways.  TO help further, we'd need to know what you're actually trying to do.</p>\n"},{"comments":[{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1696690289,"post_id":77248579,"comment_id":136187174,"body_markdown":"That&#39;s exactly what I tried, but, as Gabe Sechan told, it can&#39;t work because &quot;Background services are killed after 2 minutes. Always. Foreground services last longer, but can still be killed at any time&quot;","body":"That&#39;s exactly what I tried, but, as Gabe Sechan told, it can&#39;t work because &quot;Background services are killed after 2 minutes. Always. Foreground services last longer, but can still be killed at any time&quot;"}],"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696658894,"creation_date":1696658894,"answer_id":77248579,"question_id":77246158,"body_markdown":"you&#39;ll need to create a BroadcastReceiver that listens for the BOOT_COMPLETED action. This broadcast is sent when the device finishes booting. In this BroadcastReceiver, you&#39;ll start your background service.\r\n\r\n\r\n    public class BootReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_BOOT_COMPLETED)) {\r\n                // Start your background service here\r\n                Intent serviceIntent = new Intent(context, YourBackgroundService.class);\r\n                context.startForegroundService(serviceIntent);\r\n            }\r\n        }\r\n    }\r\n\r\nDeclare Permissions: In your AndroidManifest.xml, you&#39;ll need to declare permissions for receiving the BOOT_COMPLETED broadcast and for running a background service:\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\nCreate Your Background Service: Create a background service that will perform your desired tasks, such as detecting IP changes and making HTTP requests. Extend the Service class and implement the necessary logic in the onStartCommand method.\r\n\r\n    public class YourBackgroundService extends Service {\r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            // Perform your background tasks here\r\n            \r\n            // Return START_STICKY to ensure the service is restarted if it&#39;s killed\r\n            return START_STICKY;\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nRegister BroadcastReceiver: Register your BootReceiver in the AndroidManifest.xml:\r\n\r\n    &lt;receiver\r\n        android:name=&quot;.BootReceiver&quot;\r\n        android:enabled=&quot;true&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nStart Service on App Launch: To start your service when the app is launched, you can do this in your app&#39;s main activity or a launcher activity:\r\n\r\n    Intent serviceIntent = new Intent(this, YourBackgroundService.class);\r\n    startService(serviceIntent);\r\n\r\n\r\n\r\n\r\n","title":"Is it actually possible to have a background service always runing even after reboot?","body":"<p>you'll need to create a BroadcastReceiver that listens for the BOOT_COMPLETED action. This broadcast is sent when the device finishes booting. In this BroadcastReceiver, you'll start your background service.</p>\n<pre><code>public class BootReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_BOOT_COMPLETED)) {\n            // Start your background service here\n            Intent serviceIntent = new Intent(context, YourBackgroundService.class);\n            context.startForegroundService(serviceIntent);\n        }\n    }\n}\n</code></pre>\n<p>Declare Permissions: In your AndroidManifest.xml, you'll need to declare permissions for receiving the BOOT_COMPLETED broadcast and for running a background service:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n</code></pre>\n<p>Create Your Background Service: Create a background service that will perform your desired tasks, such as detecting IP changes and making HTTP requests. Extend the Service class and implement the necessary logic in the onStartCommand method.</p>\n<pre><code>public class YourBackgroundService extends Service {\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        // Perform your background tasks here\n        \n        // Return START_STICKY to ensure the service is restarted if it's killed\n        return START_STICKY;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n}\n</code></pre>\n<p>Register BroadcastReceiver: Register your BootReceiver in the AndroidManifest.xml:</p>\n<pre><code>&lt;receiver\n    android:name=&quot;.BootReceiver&quot;\n    android:enabled=&quot;true&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>Start Service on App Launch: To start your service when the app is launched, you can do this in your app's main activity or a launcher activity:</p>\n<pre><code>Intent serviceIntent = new Intent(this, YourBackgroundService.class);\nstartService(serviceIntent);\n</code></pre>\n"}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700585259,"creation_date":1696610488,"question_id":77246158,"body_markdown":"I&#39;m looking to make an app without UI, which runs in the background (service?).\r\nIts only function will be to detect the IP change, make an HTTP request, and send a notification with the result of the request.\r\n\r\nI know how to do all of this more or less well, even I&#39;m not sure I&#39;m doing it correctly, but I can&#39;t resolve the following point:\r\nWhen rebooting, this &quot;service&quot; should be reactivated without action on the part of the user.\r\n\r\nCould you please tell me if this is possible (I find so many examples that no longer work today) and if so, what are the &quot;bricks&quot; that I must put in place?\r\n\r\n**EDIT:**\r\n\r\nSince clearly what I want is not possible, and I understand why, I will re-specify what I would like, to find out what you could offer me.\r\n\r\nBasically, I would like my application to be restarted after reboot (if it was started before the reboot).\r\nHowever, I can clearly see it in the background, but it is not executed.\r\nThe BroadcastReceiver&#39;s onReceive is activated, but I don&#39;t know what I can do with it since what I want to execute needs to be linked to an activity.\r\n\r\nmy code is more or less:\r\n\r\n    public class MainActivity extends Activity {\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tConnectivityManager connectivityManager = getSystemService(ConnectivityManager.class);\r\n\t\t\tconnectivityManager.registerDefaultNetworkCallback(new ConnectivityManager.NetworkCallback() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onAvailable(@NonNull Network network) {\r\n    \t\t\t\tpokeServer(MainActivity.this);\r\n\t\t\t\t}\r\n\t\t\t});\r\n   \t}\r\n    \r\n    \r\n    private void pokeServer(Activity activity) {\r\n    \tfinal String URL = &quot;https://***&quot;;\r\n    \tfinal String ident = &quot;ident&quot;;\r\n    \tfinal String pwd = &quot;passwd&quot;;\r\n    \tfinal String NOTOK = &quot;injoignable&quot;;\r\n    \tnew BackgroundTask(activity) {\r\n    \tprivate String result;\r\n    \r\n    \t@Override\r\n    \tpublic void doInBackground() {\r\n    \r\n    \t\tInputStream inputStream = null;\r\n    \t\tHttpURLConnection conn = null;\r\n    \r\n    \t\tfinal String basicAuth = &quot;Basic &quot; + Base64.encodeToString((ident + &quot;:&quot; + pwd).getBytes(), Base64.NO_WRAP);\r\n    \r\n    \t\ttry {\r\n    \t\t\tconn = (HttpURLConnection) new URL(URL).openConnection();\r\n    \t\t\tconn.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n    \t\t\tconn.connect();\r\n    \t\t\tint response = conn.getResponseCode();\r\n    \t\t\tif (response != 200) {\r\n    \t\t\t\tthis.result = null;\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \r\n    \t\t\tinputStream = conn.getInputStream();\r\n    \t\t\tif (inputStream == null) {\r\n    \t\t\t\tthis.result = null;\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \r\n    \t\t\tInputStreamReader inputStreamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\r\n    \t\t\tBufferedReader reader = new BufferedReader(inputStreamReader);\r\n    \t\t\tStringBuilder buffer = new StringBuilder();\r\n    \t\t\tString line;\r\n    \t\t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\t\tbuffer.append(line);\r\n    \t\t\t\tbuffer.append(&quot;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\tthis.result = new String(buffer);\r\n    \t\t\treturn;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tthis.result = null;\r\n    \t\t\treturn;\r\n    \t\t} finally {\r\n    \t\t\tif (conn != null) conn.disconnect();\r\n    \t\t\tif (inputStream != null)\r\n    \t\t\ttry {\r\n    \t\t\t\tinputStream.close();\r\n    \t\t\t} catch (IOException ignored) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onPostExecute() {\r\n    \t\tif (this.result == null) this.result = NOTOK;\r\n    \t\tToast vwToast = Toast.makeText(activity, this.result.trim(), Toast.LENGTH_LONG);\r\n    \t\tvwToast.show();\r\n    \t\tNotificationScheduler.notification(activity, this.result);\r\n    \t\tactivity.finishAffinity();\r\n    \t}\r\n    \t}.execute();\r\n    }\r\n\r\n","title":"Is it actually possible to have a background service always runing even after reboot?","body":"<p>I'm looking to make an app without UI, which runs in the background (service?).\nIts only function will be to detect the IP change, make an HTTP request, and send a notification with the result of the request.</p>\n<p>I know how to do all of this more or less well, even I'm not sure I'm doing it correctly, but I can't resolve the following point:\nWhen rebooting, this &quot;service&quot; should be reactivated without action on the part of the user.</p>\n<p>Could you please tell me if this is possible (I find so many examples that no longer work today) and if so, what are the &quot;bricks&quot; that I must put in place?</p>\n<p><strong>EDIT:</strong></p>\n<p>Since clearly what I want is not possible, and I understand why, I will re-specify what I would like, to find out what you could offer me.</p>\n<p>Basically, I would like my application to be restarted after reboot (if it was started before the reboot).\nHowever, I can clearly see it in the background, but it is not executed.\nThe BroadcastReceiver's onReceive is activated, but I don't know what I can do with it since what I want to execute needs to be linked to an activity.</p>\n<p>my code is more or less:</p>\n<pre><code>public class MainActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        ConnectivityManager connectivityManager = getSystemService(ConnectivityManager.class);\n        connectivityManager.registerDefaultNetworkCallback(new ConnectivityManager.NetworkCallback() {\n            @Override\n            public void onAvailable(@NonNull Network network) {\n                pokeServer(MainActivity.this);\n            }\n        });\n}\n\n\nprivate void pokeServer(Activity activity) {\n    final String URL = &quot;https://***&quot;;\n    final String ident = &quot;ident&quot;;\n    final String pwd = &quot;passwd&quot;;\n    final String NOTOK = &quot;injoignable&quot;;\n    new BackgroundTask(activity) {\n    private String result;\n\n    @Override\n    public void doInBackground() {\n\n        InputStream inputStream = null;\n        HttpURLConnection conn = null;\n\n        final String basicAuth = &quot;Basic &quot; + Base64.encodeToString((ident + &quot;:&quot; + pwd).getBytes(), Base64.NO_WRAP);\n\n        try {\n            conn = (HttpURLConnection) new URL(URL).openConnection();\n            conn.setRequestProperty(&quot;Authorization&quot;, basicAuth);\n            conn.connect();\n            int response = conn.getResponseCode();\n            if (response != 200) {\n                this.result = null;\n                return;\n            }\n\n            inputStream = conn.getInputStream();\n            if (inputStream == null) {\n                this.result = null;\n                return;\n            }\n\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\n            BufferedReader reader = new BufferedReader(inputStreamReader);\n            StringBuilder buffer = new StringBuilder();\n            String line;\n            while ((line = reader.readLine()) != null) {\n                buffer.append(line);\n                buffer.append(&quot;\\n&quot;);\n            }\n            this.result = new String(buffer);\n            return;\n        } catch (IOException e) {\n            this.result = null;\n            return;\n        } finally {\n            if (conn != null) conn.disconnect();\n            if (inputStream != null)\n            try {\n                inputStream.close();\n            } catch (IOException ignored) {\n            }\n        }\n    }\n\n    @Override\n    public void onPostExecute() {\n        if (this.result == null) this.result = NOTOK;\n        Toast vwToast = Toast.makeText(activity, this.result.trim(), Toast.LENGTH_LONG);\n        vwToast.show();\n        NotificationScheduler.notification(activity, this.result);\n        activity.finishAffinity();\n    }\n    }.execute();\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1700500276,"post_id":77517438,"comment_id":136659486,"body_markdown":"May be you are missing Context variable in the constructor of `ChatMessageAdapter.java` class and also when you are using it in `ChatActivity.java.` First make the variable of `Context context;` in `ChatMessageAdapter.java` class then pass this in constructor and then when using the constructor of `ChatMessageAdapter.java` class in `ChatActivity.java` class, pass `this` as context in parameter of the constructor.","body":"May be you are missing Context variable in the constructor of <code>ChatMessageAdapter.java</code> class and also when you are using it in <code>ChatActivity.java.</code> First make the variable of <code>Context context;</code> in <code>ChatMessageAdapter.java</code> class then pass this in constructor and then when using the constructor of <code>ChatMessageAdapter.java</code> class in <code>ChatActivity.java</code> class, pass <code>this</code> as context in parameter of the constructor."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1700500737,"post_id":77517438,"comment_id":136659589,"body_markdown":"The code looks correct. You have added logs are they getting triggered? Try adding more logs in the ViewHolders `setData` method, and see if they are getting logged.  Also can you add your xml layout as well just in case.","body":"The code looks correct. You have added logs are they getting triggered? Try adding more logs in the ViewHolders <code>setData</code> method, and see if they are getting logged.  Also can you add your xml layout as well just in case."},{"owner":{"account_id":27749828,"reputation":1,"user_id":21184449,"display_name":"Riosky Liao"},"score":0,"creation_date":1700568857,"post_id":77517438,"comment_id":136668336,"body_markdown":"@SarmadAli, thanks for your response! But I don&#39;t quite understand why should I add the `Context context` variable as it won&#39;t be used. Or should I use it in `onCreateViewHolder()`?","body":"@SarmadAli, thanks for your response! But I don&#39;t quite understand why should I add the <code>Context context</code> variable as it won&#39;t be used. Or should I use it in <code>onCreateViewHolder()</code>?"},{"owner":{"account_id":27749828,"reputation":1,"user_id":21184449,"display_name":"Riosky Liao"},"score":0,"creation_date":1700569061,"post_id":77517438,"comment_id":136668371,"body_markdown":"@PawanHarariya, I appreciate your help! And the added logs are not triggered which really confuses me. Do you have any thoughts on this? I will add my xml so as to make it clear.","body":"@PawanHarariya, I appreciate your help! And the added logs are not triggered which really confuses me. Do you have any thoughts on this? I will add my xml so as to make it clear."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1700596737,"post_id":77517438,"comment_id":136673598,"body_markdown":"@RioskyLiao please read this `https://www.geeksforgeeks.org/what-is-context-in-android/`","body":"@RioskyLiao please read this <code>https:&#47;&#47;www.geeksforgeeks.org&#47;what-is-context-in-android&#47;</code>"}],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700585097,"creation_date":1700585097,"answer_id":77524541,"question_id":77517438,"body_markdown":"The adapter code seems fine, unless I am missing something.\r\n\r\nThe only thing I can notice is that you have set the visibility of your `RecyclerView` to `gone`.\r\n\r\nRemove `android:visibility=&quot;gone&quot;` from your `RecyclerView`.\r\n\r\nYou can also add the `listitem` attribute to your `RecyclerView`. It will show how the `RecyclerView` will look, in the design preview and will avoid such things.\r\n\r\n```\r\ntools:listitem=&quot;@layout/list_item_layout_of_your_reycler_view&quot;\r\n```","title":"Why my RecyclerView doesn&#39;s show anythin?","body":"<p>The adapter code seems fine, unless I am missing something.</p>\n<p>The only thing I can notice is that you have set the visibility of your <code>RecyclerView</code> to <code>gone</code>.</p>\n<p>Remove <code>android:visibility=&quot;gone&quot;</code> from your <code>RecyclerView</code>.</p>\n<p>You can also add the <code>listitem</code> attribute to your <code>RecyclerView</code>. It will show how the <code>RecyclerView</code> will look, in the design preview and will avoid such things.</p>\n<pre><code>tools:listitem=&quot;@layout/list_item_layout_of_your_reycler_view&quot;\n</code></pre>\n"}],"owner":{"account_id":27749828,"reputation":1,"user_id":21184449,"display_name":"Riosky Liao"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700585097,"creation_date":1700497136,"question_id":77517438,"body_markdown":"### Background\r\nI&#39;m developing a chat application, and I&#39;m having trouble displaying the content using RecyclerView. I&#39;m using ViewBinding.\r\n\r\nHere&#39;s the issue I&#39;m facing: Despite my efforts, the RecyclerView doesn&#39;t show any content. I have implemented ViewBinding to bind the views, but I&#39;m not sure what could be causing this issue.\r\n\r\n### My Code\r\nHere is my code. Besides, I followed these videos to build the app: [Android Chat App Development](https://www.youtube.com/watch?v=ENK4ONrRm8s&amp;list=PLam6bY5NszYOhXkY7jOS4EQAKcQwkXrp4).\r\n\r\nIn `ChatMessageAdapter.java`:\r\n\r\n```java\r\nimport ...\r\npublic class ChatMessageAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n    private final List&lt;ChatMessage&gt; chatMessageList;\r\n\r\n    public ChatMessageAdapter(List&lt;ChatMessage&gt; chatMessageList) {\r\n        this.chatMessageList = chatMessageList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n//        Log.d(&quot;tag&quot;, &quot;why!!!!!!&quot;);\r\n\r\n        if (viewType == Constants.VIEW_TYPE_SENT) {\r\n            return new SentMassageViewHolder(\r\n                    ItemContainerSentMessageBinding.inflate(\r\n                            LayoutInflater.from(parent.getContext()),\r\n                            parent,\r\n                            false\r\n                    )\r\n            );\r\n        } else {\r\n            return new ReceivedMassageViewHolder(\r\n                    ItemContainerReceivedMessageBinding.inflate(\r\n                            LayoutInflater.from(parent.getContext()),\r\n                            parent,\r\n                            false\r\n                    )\r\n            );\r\n        }\r\n\r\n//        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_container_sent_message, parent, false);\r\n//        return new testViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        if (getItemViewType(position) == Constants.VIEW_TYPE_SENT) {\r\n            ((SentMassageViewHolder) holder).setData((chatMessageList.get(position)));\r\n        } else {\r\n            ((ReceivedMassageViewHolder) holder).setData(chatMessageList.get(position));\r\n        }\r\n//        ((testViewHolder) holder).test.setText(chatMessageList.get(position).getMessage());\r\n    }\r\n\r\n\r\n    static class testViewHolder extends RecyclerView.ViewHolder {\r\n        TextView test;\r\n        public testViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            test = itemView.findViewById(R.id.textMessage);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return chatMessageList.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return chatMessageList.get(position).getIsSent();\r\n    }\r\n\r\n    static class SentMassageViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private final ItemContainerSentMessageBinding binding;\r\n\r\n        SentMassageViewHolder(ItemContainerSentMessageBinding itemContainerSentMessageBinding) {\r\n            super(itemContainerSentMessageBinding.getRoot());\r\n            binding = itemContainerSentMessageBinding;\r\n        }\r\n\r\n        void setData(ChatMessage chatMessage) {\r\n            binding.textDateTime.setText(chatMessage.getDateTime());\r\n            binding.textMessage.setText(chatMessage.getMessage());\r\n        }\r\n    }\r\n\r\n    static class ReceivedMassageViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private final ItemContainerReceivedMessageBinding binding;\r\n\r\n        ReceivedMassageViewHolder(ItemContainerReceivedMessageBinding itemContainerReceivedMessageBinding) {\r\n            super(itemContainerReceivedMessageBinding.getRoot());\r\n            binding = itemContainerReceivedMessageBinding;\r\n        }\r\n\r\n        void setData(ChatMessage chatMessage) {\r\n            binding.textDateTime.setText(chatMessage.getDateTime());\r\n            binding.textMessage.setText(chatMessage.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn `ChatActivity.java`:\r\n\r\n```java\r\nimport ...\r\n\r\npublic class ChatActivity extends AppCompatActivity {\r\n    private ActivityChatBinding binding;\r\n    private List&lt;ChatMessage&gt; chatMessages;\r\n    private ChatMessageAdapter chatAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityChatBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n\r\n        setListeners();\r\n        init();\r\n    }\r\n\r\n    private void init() {\r\n        LinearLayoutManager manager = new LinearLayoutManager(this);\r\n        manager.setOrientation(RecyclerView.VERTICAL);\r\n        binding.chatRecycleView.setLayoutManager(manager);\r\n//        binding.chatRecycleView.smoothScrollToPosition(0);\r\n\r\n\r\n        initMessageList();\r\n        Log.d(&quot;In init()&quot;, chatMessages.get(0).getMessage());\r\n//        binding.chatRecycleView.notify();\r\n        chatAdapter = new ChatMessageAdapter(chatMessages);\r\n        binding.chatRecycleView.setAdapter(chatAdapter);\r\n    }\r\n\r\n    private void initMessageList() {\r\n        chatMessages = new ArrayList&lt;&gt;();\r\n        ChatMessage msg1 = new ChatMessage(&quot;20231022&quot;, &quot;Hello, World!&quot;, &quot;Jobs&quot;, Constants.VIEW_TYPE_RECEIVED);\r\n        chatMessages.add(msg1);\r\n        ChatMessage msg2 = new ChatMessage(&quot;20231026&quot;, &quot;Beep&quot;, &quot;Me&quot;, Constants.VIEW_TYPE_SENT);\r\n        chatMessages.add(msg2);\r\n        ChatMessage msg3 = new ChatMessage(&quot;20231026&quot;, &quot;Don&#39;t stop me now&quot;, &quot;Jobs&quot;, Constants.VIEW_TYPE_RECEIVED);\r\n        chatMessages.add(msg3);\r\n    }\r\n\r\n    private void setListeners() {\r\n        binding.imageBack.setOnClickListener(v -&gt; finish());\r\n\r\n        String message = binding.inputText.getText().toString();\r\n        binding.send.setOnClickListener(v -&gt; {\r\n            if (!message.equals(&quot;&quot;)) {\r\n                chatMessages.add(new ChatMessage(&quot;20231029&quot;, message, &quot;Me&quot;, Constants.VIEW_TYPE_SENT));\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nIn `activity_chat.xml`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:animateLayoutChanges=&quot;true&quot;\r\n    android:background=&quot;@color/primary&quot;&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/viewBackground&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:background=&quot;@drawable/background_content_top&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/layoutSend&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/headerBackground&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;@color/primary&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/viewSupporter&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatImageView\r\n        android:id=&quot;@+id/imageBack&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginLeft=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        android:src=&quot;@drawable/ic_back&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:tint=&quot;@color/white&quot;/&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatImageView\r\n        android:id=&quot;@+id/imageInfo&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginRight=&quot;16dp&quot;\r\n        android:padding=&quot;4dp&quot;\r\n        android:src=&quot;@drawable/ic_info&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:tint=&quot;@color/white&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textName&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/imageBack&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/imageInfo&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@id/imageBack&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@id/imageBack&quot;/&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/viewSupporter&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;1dp&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/imageBack&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/chatRecycleView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:clipToPadding=&quot;false&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:overScrollMode=&quot;never&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/viewBackground&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/viewSupporter&quot;/&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/layoutSend&quot;\r\n        android:layout_width=&quot;40dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginRight=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;12dp&quot;\r\n        android:background=&quot;@drawable/background_chat_input&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatImageView\r\n            android:id=&quot;@+id/send&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginStart=&quot;4dp&quot;\r\n            android:layout_marginLeft=&quot;4dp&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:src=&quot;@drawable/ic_send&quot;\r\n            app:tint=&quot;@color/white&quot; /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/input_text&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginLeft=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:layout_marginRight=&quot;8dp&quot;\r\n        android:layout_marginBottom=&quot;12dp&quot;\r\n        android:background=&quot;@drawable/background_chat_input&quot;\r\n        android:hint=&quot;请输入信息&quot;\r\n        android:imeOptions=&quot;actionDone&quot;\r\n        android:importantForAutofill=&quot;no&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:paddingStart=&quot;16dp&quot;\r\n        android:paddingEnd=&quot;16dp&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textColorHint=&quot;#5E83AE&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/layoutSend&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nIn the containers:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:padding=&quot;4dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textMessage&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/background_sent_message&quot;\r\n        android:padding=&quot;12dp&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;13sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintWidth_percent=&quot;0.8&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textDateTime&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:textColor=&quot;@color/secondary_text&quot;\r\n            android:textSize=&quot;10sp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/textMessage&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n### What did I try\r\n\r\nAs you can see, I have attempted to use both `binding.chatRecycleView.smoothScrollToPosition(0);` and `binding.chatRecycleView.notify();` However, the problem still persists.\r\n\r\nAlso, the added log `Log.d(&quot;tag&quot;, &quot;why!!!!!!&quot;);` in `onCreateViewHolder()` were not triggered. And that really confused me.\r\n\r\n---\r\n\r\nCould you please guide me on how to troubleshoot this problem and make the content display correctly in the RecyclerView? Thank you so much!","title":"Why my RecyclerView doesn&#39;s show anythin?","body":"<h3>Background</h3>\n<p>I'm developing a chat application, and I'm having trouble displaying the content using RecyclerView. I'm using ViewBinding.</p>\n<p>Here's the issue I'm facing: Despite my efforts, the RecyclerView doesn't show any content. I have implemented ViewBinding to bind the views, but I'm not sure what could be causing this issue.</p>\n<h3>My Code</h3>\n<p>Here is my code. Besides, I followed these videos to build the app: <a href=\"https://www.youtube.com/watch?v=ENK4ONrRm8s&amp;list=PLam6bY5NszYOhXkY7jOS4EQAKcQwkXrp4\" rel=\"nofollow noreferrer\">Android Chat App Development</a>.</p>\n<p>In <code>ChatMessageAdapter.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import ...\npublic class ChatMessageAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    private final List&lt;ChatMessage&gt; chatMessageList;\n\n    public ChatMessageAdapter(List&lt;ChatMessage&gt; chatMessageList) {\n        this.chatMessageList = chatMessageList;\n    }\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n//        Log.d(&quot;tag&quot;, &quot;why!!!!!!&quot;);\n\n        if (viewType == Constants.VIEW_TYPE_SENT) {\n            return new SentMassageViewHolder(\n                    ItemContainerSentMessageBinding.inflate(\n                            LayoutInflater.from(parent.getContext()),\n                            parent,\n                            false\n                    )\n            );\n        } else {\n            return new ReceivedMassageViewHolder(\n                    ItemContainerReceivedMessageBinding.inflate(\n                            LayoutInflater.from(parent.getContext()),\n                            parent,\n                            false\n                    )\n            );\n        }\n\n//        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_container_sent_message, parent, false);\n//        return new testViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        if (getItemViewType(position) == Constants.VIEW_TYPE_SENT) {\n            ((SentMassageViewHolder) holder).setData((chatMessageList.get(position)));\n        } else {\n            ((ReceivedMassageViewHolder) holder).setData(chatMessageList.get(position));\n        }\n//        ((testViewHolder) holder).test.setText(chatMessageList.get(position).getMessage());\n    }\n\n\n    static class testViewHolder extends RecyclerView.ViewHolder {\n        TextView test;\n        public testViewHolder(@NonNull View itemView) {\n            super(itemView);\n            test = itemView.findViewById(R.id.textMessage);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return chatMessageList.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return chatMessageList.get(position).getIsSent();\n    }\n\n    static class SentMassageViewHolder extends RecyclerView.ViewHolder {\n\n        private final ItemContainerSentMessageBinding binding;\n\n        SentMassageViewHolder(ItemContainerSentMessageBinding itemContainerSentMessageBinding) {\n            super(itemContainerSentMessageBinding.getRoot());\n            binding = itemContainerSentMessageBinding;\n        }\n\n        void setData(ChatMessage chatMessage) {\n            binding.textDateTime.setText(chatMessage.getDateTime());\n            binding.textMessage.setText(chatMessage.getMessage());\n        }\n    }\n\n    static class ReceivedMassageViewHolder extends RecyclerView.ViewHolder {\n\n        private final ItemContainerReceivedMessageBinding binding;\n\n        ReceivedMassageViewHolder(ItemContainerReceivedMessageBinding itemContainerReceivedMessageBinding) {\n            super(itemContainerReceivedMessageBinding.getRoot());\n            binding = itemContainerReceivedMessageBinding;\n        }\n\n        void setData(ChatMessage chatMessage) {\n            binding.textDateTime.setText(chatMessage.getDateTime());\n            binding.textMessage.setText(chatMessage.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>In <code>ChatActivity.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import ...\n\npublic class ChatActivity extends AppCompatActivity {\n    private ActivityChatBinding binding;\n    private List&lt;ChatMessage&gt; chatMessages;\n    private ChatMessageAdapter chatAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityChatBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n\n        setListeners();\n        init();\n    }\n\n    private void init() {\n        LinearLayoutManager manager = new LinearLayoutManager(this);\n        manager.setOrientation(RecyclerView.VERTICAL);\n        binding.chatRecycleView.setLayoutManager(manager);\n//        binding.chatRecycleView.smoothScrollToPosition(0);\n\n\n        initMessageList();\n        Log.d(&quot;In init()&quot;, chatMessages.get(0).getMessage());\n//        binding.chatRecycleView.notify();\n        chatAdapter = new ChatMessageAdapter(chatMessages);\n        binding.chatRecycleView.setAdapter(chatAdapter);\n    }\n\n    private void initMessageList() {\n        chatMessages = new ArrayList&lt;&gt;();\n        ChatMessage msg1 = new ChatMessage(&quot;20231022&quot;, &quot;Hello, World!&quot;, &quot;Jobs&quot;, Constants.VIEW_TYPE_RECEIVED);\n        chatMessages.add(msg1);\n        ChatMessage msg2 = new ChatMessage(&quot;20231026&quot;, &quot;Beep&quot;, &quot;Me&quot;, Constants.VIEW_TYPE_SENT);\n        chatMessages.add(msg2);\n        ChatMessage msg3 = new ChatMessage(&quot;20231026&quot;, &quot;Don't stop me now&quot;, &quot;Jobs&quot;, Constants.VIEW_TYPE_RECEIVED);\n        chatMessages.add(msg3);\n    }\n\n    private void setListeners() {\n        binding.imageBack.setOnClickListener(v -&gt; finish());\n\n        String message = binding.inputText.getText().toString();\n        binding.send.setOnClickListener(v -&gt; {\n            if (!message.equals(&quot;&quot;)) {\n                chatMessages.add(new ChatMessage(&quot;20231029&quot;, message, &quot;Me&quot;, Constants.VIEW_TYPE_SENT));\n            }\n        });\n    }\n}\n</code></pre>\n<p>In <code>activity_chat.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:animateLayoutChanges=&quot;true&quot;\n    android:background=&quot;@color/primary&quot;&gt;\n\n    &lt;View\n        android:id=&quot;@+id/viewBackground&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginBottom=&quot;16dp&quot;\n        android:background=&quot;@drawable/background_content_top&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/layoutSend&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;View\n        android:id=&quot;@+id/headerBackground&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:background=&quot;@color/primary&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/viewSupporter&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatImageView\n        android:id=&quot;@+id/imageBack&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n        android:padding=&quot;5dp&quot;\n        android:src=&quot;@drawable/ic_back&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:tint=&quot;@color/white&quot;/&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatImageView\n        android:id=&quot;@+id/imageInfo&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:padding=&quot;4dp&quot;\n        android:src=&quot;@drawable/ic_info&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:tint=&quot;@color/white&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textName&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:ellipsize=&quot;end&quot;\n        android:gravity=&quot;center&quot;\n        android:maxLines=&quot;1&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;14sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/imageBack&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/imageInfo&quot;\n        app:layout_constraintStart_toEndOf=&quot;@id/imageBack&quot;\n        app:layout_constraintTop_toTopOf=&quot;@id/imageBack&quot;/&gt;\n\n    &lt;View\n        android:id=&quot;@+id/viewSupporter&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:layout_marginTop=&quot;12dp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/imageBack&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/chatRecycleView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:clipToPadding=&quot;false&quot;\n        android:orientation=&quot;vertical&quot;\n        android:overScrollMode=&quot;never&quot;\n        android:padding=&quot;20dp&quot;\n        android:visibility=&quot;gone&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/viewBackground&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/viewSupporter&quot;/&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/layoutSend&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginRight=&quot;16dp&quot;\n        android:layout_marginBottom=&quot;12dp&quot;\n        android:background=&quot;@drawable/background_chat_input&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatImageView\n            android:id=&quot;@+id/send&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginStart=&quot;4dp&quot;\n            android:layout_marginLeft=&quot;4dp&quot;\n            android:padding=&quot;8dp&quot;\n            android:src=&quot;@drawable/ic_send&quot;\n            app:tint=&quot;@color/white&quot; /&gt;\n\n    &lt;/FrameLayout&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/input_text&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginRight=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;12dp&quot;\n        android:background=&quot;@drawable/background_chat_input&quot;\n        android:hint=&quot;请输入信息&quot;\n        android:imeOptions=&quot;actionDone&quot;\n        android:importantForAutofill=&quot;no&quot;\n        android:inputType=&quot;text&quot;\n        android:paddingStart=&quot;16dp&quot;\n        android:paddingEnd=&quot;16dp&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textColorHint=&quot;#5E83AE&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/layoutSend&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>In the containers:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:padding=&quot;4dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textMessage&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/background_sent_message&quot;\n        android:padding=&quot;12dp&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;13sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintWidth_percent=&quot;0.8&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textDateTime&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;4dp&quot;\n            android:textColor=&quot;@color/secondary_text&quot;\n            android:textSize=&quot;10sp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/textMessage&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<h3>What did I try</h3>\n<p>As you can see, I have attempted to use both <code>binding.chatRecycleView.smoothScrollToPosition(0);</code> and <code>binding.chatRecycleView.notify();</code> However, the problem still persists.</p>\n<p>Also, the added log <code>Log.d(&quot;tag&quot;, &quot;why!!!!!!&quot;);</code> in <code>onCreateViewHolder()</code> were not triggered. And that really confused me.</p>\n<hr />\n<p>Could you please guide me on how to troubleshoot this problem and make the content display correctly in the RecyclerView? Thank you so much!</p>\n"},{"tags":["java","timeout","httpclient","restlet"],"owner":{"account_id":6887523,"reputation":51,"user_id":5292152,"display_name":"Marek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700585051,"creation_date":1700585051,"question_id":77524535,"body_markdown":"We&#39;re facing here a problem with long term request, which gets a read timeout (java.net.SocketTimeoutException: Read timed out) leading the an HTTP ERROR 1001: Communication Error (1001) - The connector failed to complete the communication with the server\r\n\r\nOut server application is implemented as a class derived from org.restlet.Application and configured via org.restlet.ext.spring.SpringServerServlet in web.xml and Spring context.\r\n\r\nWe can see that there are 2 Client objects being created at the application start (first request) where an implicit read timeout is being set to 60 seconds in org.restlet.Component during the execution of the method startClients(). But it is impossible to override this timeout settings. Any idea how this timeout could be adapted?\r\n\r\nweb.xml:\r\n\r\n    &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;RestletServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.restlet.ext.spring.SpringServerServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;org.restlet.application&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;proxyRestProvider&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;org.restlet.clients&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;HTTP HTTPS&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/servlet&gt;\r\n\r\nSetting timeouts over the context does not work:\r\n\r\n        getContext().getParameters().add(&quot;readTimeout&quot;, String.valueOf(this.proxyReadTimeoutMs));\r\n        getContext().getParameters().add(&quot;socketTimeout&quot;, String.valueOf(this.proxyReadTimeoutMs));\r\n        getContext().getParameters().add(&quot;socketConnectTimeoutMs&quot;, String.valueOf(this.proxyConnectTimeoutMs));\r\n\r\n        getContext().getClientDispatcher().getContext().getParameters().add(&quot;readTimeout&quot;, String.valueOf(this.proxyReadTimeoutMs));\r\n        getContext().getClientDispatcher().getContext().getParameters().add(&quot;socketTimeout&quot;, String.valueOf(this.proxyReadTimeoutMs));\r\n        getContext().getClientDispatcher().getContext().getParameters().add(&quot;socketConnectTimeoutMs&quot;, String.valueOf(this.proxyConnectTimeoutMs));","title":"How to override the read timeout in Restlet Framework","body":"<p>We're facing here a problem with long term request, which gets a read timeout (java.net.SocketTimeoutException: Read timed out) leading the an HTTP ERROR 1001: Communication Error (1001) - The connector failed to complete the communication with the server</p>\n<p>Out server application is implemented as a class derived from org.restlet.Application and configured via org.restlet.ext.spring.SpringServerServlet in web.xml and Spring context.</p>\n<p>We can see that there are 2 Client objects being created at the application start (first request) where an implicit read timeout is being set to 60 seconds in org.restlet.Component during the execution of the method startClients(). But it is impossible to override this timeout settings. Any idea how this timeout could be adapted?</p>\n<p>web.xml:</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;RestletServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.restlet.ext.spring.SpringServerServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;org.restlet.application&lt;/param-name&gt;\n        &lt;param-value&gt;proxyRestProvider&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;org.restlet.clients&lt;/param-name&gt;\n        &lt;param-value&gt;HTTP HTTPS&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n</code></pre>\n<p>Setting timeouts over the context does not work:</p>\n<pre><code>    getContext().getParameters().add(&quot;readTimeout&quot;, String.valueOf(this.proxyReadTimeoutMs));\n    getContext().getParameters().add(&quot;socketTimeout&quot;, String.valueOf(this.proxyReadTimeoutMs));\n    getContext().getParameters().add(&quot;socketConnectTimeoutMs&quot;, String.valueOf(this.proxyConnectTimeoutMs));\n\n    getContext().getClientDispatcher().getContext().getParameters().add(&quot;readTimeout&quot;, String.valueOf(this.proxyReadTimeoutMs));\n    getContext().getClientDispatcher().getContext().getParameters().add(&quot;socketTimeout&quot;, String.valueOf(this.proxyReadTimeoutMs));\n    getContext().getClientDispatcher().getContext().getParameters().add(&quot;socketConnectTimeoutMs&quot;, String.valueOf(this.proxyConnectTimeoutMs));\n</code></pre>\n"},{"tags":["java","neo4j","spring-data","spring-data-neo4j"],"comments":[{"owner":{"account_id":9706496,"reputation":301,"user_id":7199780,"accept_rate":40,"display_name":"Yuvaraj S"},"score":0,"creation_date":1617980822,"post_id":67022604,"comment_id":118471527,"body_markdown":"I hope this link : https://stackoverflow.com/a/38739787/7199780 may be helpful.","body":"I hope this link : <a href=\"https://stackoverflow.com/a/38739787/7199780\">stackoverflow.com/a/38739787/7199780</a> may be helpful."},{"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"score":1,"creation_date":1617986962,"post_id":67022604,"comment_id":118474292,"body_markdown":"The link refers to a very outdated answer. Spring Data Neo4j is at version 6 now, which is completely different from the previous major versions.","body":"The link refers to a very outdated answer. Spring Data Neo4j is at version 6 now, which is completely different from the previous major versions."}],"answers":[{"comments":[{"owner":{"account_id":7637881,"reputation":727,"user_id":5790901,"accept_rate":100,"display_name":"z7r1k3"},"score":0,"creation_date":1700532278,"post_id":67025160,"comment_id":136663650,"body_markdown":"Should at least provide a high-level overview of what the link was supposed to lead to, as the link is dead. Wouldn&#39;t have to be fancy, just enough for a dev to start researching on his own should the link die.","body":"Should at least provide a high-level overview of what the link was supposed to lead to, as the link is dead. Wouldn&#39;t have to be fancy, just enough for a dev to start researching on his own should the link die."},{"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"score":0,"creation_date":1700584771,"post_id":67025160,"comment_id":136671511,"body_markdown":"Link fixed, thanks.","body":"Link fixed, thanks."}],"tags":[],"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700584705,"creation_date":1617986914,"answer_id":67025160,"question_id":67022604,"body_markdown":"I assume you are using (the latest release of) Spring Boot.\r\nIn that case, you are using Spring Data Neo4j 6 and `@QueryResult` is not defined anymore. You can achieve projections as described [there][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/neo4j/docs/6.0.0/reference/html/#projections","title":"Spring does not find the symbol @QueryResult","body":"<p>I assume you are using (the latest release of) Spring Boot.\nIn that case, you are using Spring Data Neo4j 6 and <code>@QueryResult</code> is not defined anymore. You can achieve projections as described <a href=\"https://docs.spring.io/spring-data/neo4j/docs/6.0.0/reference/html/#projections\" rel=\"nofollow noreferrer\">there</a>.</p>\n"}],"owner":{"account_id":20913919,"reputation":11,"user_id":15364102,"display_name":"Iza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700584705,"creation_date":1617977202,"question_id":67022604,"body_markdown":"I am working on linking a Neo4J database to a spring-data application. I would like to add an annotation @QueryResult to a class but it says java: cannot find symbol. And, I cannot import org.springframework.data.neo4j.annotation\r\n\r\nIn my pom.xml I have :\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThank you for your help and answers.","title":"Spring does not find the symbol @QueryResult","body":"<p>I am working on linking a Neo4J database to a spring-data application. I would like to add an annotation @QueryResult to a class but it says java: cannot find symbol. And, I cannot import org.springframework.data.neo4j.annotation</p>\n<p>In my pom.xml I have :</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thank you for your help and answers.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":84127,"reputation":51115,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1527020490,"post_id":50475856,"comment_id":87965242,"body_markdown":"How is Driver defined?","body":"How is Driver defined?"},{"owner":{"account_id":6090632,"reputation":71,"user_id":4753012,"accept_rate":50,"display_name":"Mr. Phil"},"score":0,"creation_date":1527020738,"post_id":50475856,"comment_id":87965374,"body_markdown":"@jspcal It&#39;s just defined as a class in the first section of code.  It isn&#39;t defined in the workerThread.  Perhaps I need to somehow?","body":"@jspcal It&#39;s just defined as a class in the first section of code.  It isn&#39;t defined in the workerThread.  Perhaps I need to somehow?"},{"owner":{"account_id":4167652,"reputation":5072,"user_id":3416272,"accept_rate":84,"display_name":"Md Johirul Islam"},"score":0,"creation_date":1527020776,"post_id":50475856,"comment_id":87965392,"body_markdown":"`public String setMyVariable()` This method should be static if you want to call the way you are calling. https://stackoverflow.com/questions/21204589/static-vs-instance-variables-difference","body":"<code>public String setMyVariable()</code> This method should be static if you want to call the way you are calling. <a href=\"https://stackoverflow.com/questions/21204589/static-vs-instance-variables-difference\" title=\"static vs instance variables difference\">stackoverflow.com/questions/21204589/&hellip;</a>"},{"owner":{"account_id":3667837,"reputation":2435,"user_id":3055724,"display_name":"Duloren"},"score":3,"creation_date":1527020887,"post_id":50475856,"comment_id":87965451,"body_markdown":"I guess you is trying to run before learn to walk. IMHO you should to learn the basic concepts from Java before try to play with threads.","body":"I guess you is trying to run before learn to walk. IMHO you should to learn the basic concepts from Java before try to play with threads."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1527021193,"post_id":50475856,"comment_id":87965587,"body_markdown":"Why do you have `new workerThread(this.getClass());`? You can just pass `this` which is an instance of you class. `getClass` gets the base class. This extends `Application`, is this a javafx app?","body":"Why do you have <code>new workerThread(this.getClass());</code>? You can just pass <code>this</code> which is an instance of you class. <code>getClass</code> gets the base class. This extends <code>Application</code>, is this a javafx app?"},{"owner":{"account_id":6090632,"reputation":71,"user_id":4753012,"accept_rate":50,"display_name":"Mr. Phil"},"score":0,"creation_date":1527021372,"post_id":50475856,"comment_id":87965656,"body_markdown":"@MdJohirulIslam I tried making it static but it didn&#39;t resolve the &quot;cannot resolve symbol&quot; issue.  I still have the same problem as before.","body":"@MdJohirulIslam I tried making it static but it didn&#39;t resolve the &quot;cannot resolve symbol&quot; issue.  I still have the same problem as before."},{"owner":{"account_id":6090632,"reputation":71,"user_id":4753012,"accept_rate":50,"display_name":"Mr. Phil"},"score":0,"creation_date":1527023871,"post_id":50475856,"comment_id":87966692,"body_markdown":"@Duloren I understand the basic concepts of Java.  I am now learning the basic concepts of threading.  My understanding of which was not furthered by your comment.","body":"@Duloren I understand the basic concepts of Java.  I am now learning the basic concepts of threading.  My understanding of which was not furthered by your comment."}],"answers":[{"comments":[{"owner":{"account_id":6090632,"reputation":71,"user_id":4753012,"accept_rate":50,"display_name":"Mr. Phil"},"score":0,"creation_date":1527021307,"post_id":50475933,"comment_id":87965636,"body_markdown":"I see why it needs to be static the way that I&#39;m calling it.  Because I only have one instance of the Driver class I believe that making it static should be fine.  However, doing so didn&#39;t resolve the &quot;cannot resolve symbol&quot; issue.","body":"I see why it needs to be static the way that I&#39;m calling it.  Because I only have one instance of the Driver class I believe that making it static should be fine.  However, doing so didn&#39;t resolve the &quot;cannot resolve symbol&quot; issue."}],"tags":[],"owner":{"account_id":13620101,"reputation":1,"user_id":9824920,"display_name":"Anwera97"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527020749,"creation_date":1527020749,"answer_id":50475933,"question_id":50475856,"body_markdown":"When you call a function from a class directly the system expects it to be a static one (Like you do here: `Driver.setMyVariable(&quot;test&quot;);`) But your function is not static and I think it shouldn&#39;t be as you variable isn&#39;t static as well. If you wish to work with separate objects you need to instantiate them first with it&#39;s constructor","title":"Sharing data between threads in Java","body":"<p>When you call a function from a class directly the system expects it to be a static one (Like you do here: <code>Driver.setMyVariable(\"test\");</code>) But your function is not static and I think it shouldn't be as you variable isn't static as well. If you wish to work with separate objects you need to instantiate them first with it's constructor</p>\n"},{"comments":[{"owner":{"account_id":6090632,"reputation":71,"user_id":4753012,"accept_rate":50,"display_name":"Mr. Phil"},"score":0,"creation_date":1527021297,"post_id":50475945,"comment_id":87965633,"body_markdown":"I see why it needs to be static the way that I&#39;m calling it.  Because I only have one instance of the Driver class I believe that making it static should be fine.  However, doing so didn&#39;t resolve the &quot;cannot resolve symbol&quot; issue.","body":"I see why it needs to be static the way that I&#39;m calling it.  Because I only have one instance of the Driver class I believe that making it static should be fine.  However, doing so didn&#39;t resolve the &quot;cannot resolve symbol&quot; issue."}],"tags":[],"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527021041,"creation_date":1527020822,"answer_id":50475945,"question_id":50475856,"body_markdown":"You&#39;re attempting to call a static method without defining your method as static. Change your method to:\r\n\r\n    public static String setMyVariable() {\r\n        this.MyVariable = MyVariable;\r\n    }\r\n\r\nThen, you&#39;ll have to change the definition of MyVariable to be static as well.\r\n\r\nI&#39;m not sure, though, you understand the consequences of what you&#39;re doing. Creating a static variable will allow you to share your data between threads as there will be one instance of the variable across all instances of your class, but this is a potentially dangerous thing to do if you don&#39;t really understand static variables.\r\n\r\nMake sure you do your homework on this before making this decision.","title":"Sharing data between threads in Java","body":"<p>You're attempting to call a static method without defining your method as static. Change your method to:</p>\n\n<pre><code>public static String setMyVariable() {\n    this.MyVariable = MyVariable;\n}\n</code></pre>\n\n<p>Then, you'll have to change the definition of MyVariable to be static as well.</p>\n\n<p>I'm not sure, though, you understand the consequences of what you're doing. Creating a static variable will allow you to share your data between threads as there will be one instance of the variable across all instances of your class, but this is a potentially dangerous thing to do if you don't really understand static variables.</p>\n\n<p>Make sure you do your homework on this before making this decision.</p>\n"},{"comments":[{"owner":{"account_id":3667837,"reputation":2435,"user_id":3055724,"display_name":"Duloren"},"score":0,"creation_date":1527020966,"post_id":50475953,"comment_id":87965488,"body_markdown":"This also do not compile.","body":"This also do not compile."},{"owner":{"account_id":6090632,"reputation":71,"user_id":4753012,"accept_rate":50,"display_name":"Mr. Phil"},"score":0,"creation_date":1527022066,"post_id":50475953,"comment_id":87965967,"body_markdown":"Thanks for your answer.  I am unable to compile with the error &quot;workerThread (java.sql.Driver) cannot be applied to Driver&quot; at the line &quot;Runnable myNewThread = new workerThread(this, this.getClass());&quot;  It seems that &quot;this&quot; does not match the type that is being expected by the workerThread with &quot;Driver d&quot;","body":"Thanks for your answer.  I am unable to compile with the error &quot;workerThread (java.sql.Driver) cannot be applied to Driver&quot; at the line &quot;Runnable myNewThread = new workerThread(this, this.getClass());&quot;  It seems that &quot;this&quot; does not match the type that is being expected by the workerThread with &quot;Driver d&quot;"},{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":1,"creation_date":1527022138,"post_id":50475953,"comment_id":87966009,"body_markdown":"You need to fix `import` statements in your class to use your `Driver` class instead of `java.sql.Driver`","body":"You need to fix <code>import</code> statements in your class to use your <code>Driver</code> class instead of <code>java.sql.Driver</code>"},{"owner":{"account_id":6090632,"reputation":71,"user_id":4753012,"accept_rate":50,"display_name":"Mr. Phil"},"score":0,"creation_date":1527023644,"post_id":50475953,"comment_id":87966602,"body_markdown":"Ah I see!  For anyone else with a similar issue, simply deleting the `import java.sql.Driver` import at the top of my workerThread class solved the issue for me.","body":"Ah I see!  For anyone else with a similar issue, simply deleting the <code>import java.sql.Driver</code> import at the top of my workerThread class solved the issue for me."}],"tags":[],"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1527021307,"creation_date":1527020839,"answer_id":50475953,"question_id":50475856,"body_markdown":"You are calling `setMyVariable(&quot;test&quot;)` as if it is a static method. You need to pass an instance of `Driver` class to instance of `workerThread`.\r\n\r\n    public class workerThread implements Runnable {\r\n      private Driver driver;\r\n\r\n      public workerThread(Driver d, Class c) {\r\n        this.driver = d;\r\n        //do whatever you are doing with existing Classs parameter\r\n      }\r\n\r\n      public void run() {\r\n        driver.setMyVariable(&quot;test&quot;);\r\n      }\r\n\r\nAnd also make changes to `Driver` class\r\n\r\n    public class Driver extends Application{\r\n\r\n      //create socket handlers\r\n      Runnable myNewThread = new workerThread(this, this.getClass());\r\n\r\n     //variables\r\n     private String lastMessage = &quot;&quot;;\r\n\r\n     //getters and setters\r\n     public String setMyVariable() {\r\n       this.MyVariable = MyVariable;\r\n     }\r\n\r\n     //main\r\n     public static void main(String[] args) {\r\n       //launch threads\r\n       new Thread(new Driver().myNewThread).start();\r\n     }\r\n    }\r\n\r\nUPDATE:\r\n\r\nAnd because `myNewThread` variable is also non-static you have to do the following in `Driver.main()` to be able to compile:\r\n\r\n    new Thread(new Driver().myNewThread).start();","title":"Sharing data between threads in Java","body":"<p>You are calling <code>setMyVariable(\"test\")</code> as if it is a static method. You need to pass an instance of <code>Driver</code> class to instance of <code>workerThread</code>.</p>\n\n<pre><code>public class workerThread implements Runnable {\n  private Driver driver;\n\n  public workerThread(Driver d, Class c) {\n    this.driver = d;\n    //do whatever you are doing with existing Classs parameter\n  }\n\n  public void run() {\n    driver.setMyVariable(\"test\");\n  }\n</code></pre>\n\n<p>And also make changes to <code>Driver</code> class</p>\n\n<pre><code>public class Driver extends Application{\n\n  //create socket handlers\n  Runnable myNewThread = new workerThread(this, this.getClass());\n\n //variables\n private String lastMessage = \"\";\n\n //getters and setters\n public String setMyVariable() {\n   this.MyVariable = MyVariable;\n }\n\n //main\n public static void main(String[] args) {\n   //launch threads\n   new Thread(new Driver().myNewThread).start();\n }\n}\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>And because <code>myNewThread</code> variable is also non-static you have to do the following in <code>Driver.main()</code> to be able to compile:</p>\n\n<pre><code>new Thread(new Driver().myNewThread).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527021615,"creation_date":1527021615,"answer_id":50476128,"question_id":50475856,"body_markdown":"Don&#39;t make it static. Pass an instance of your object.\r\n\r\n    //Runnable myNewThread = new workerThread(this.getClass());\r\n    Runnable myNewThread = new workerThread(this);\r\n\r\nThen your workerThread should have a constructor.\r\n\r\n    public class workerThread implements Runnable{\r\n        Driver driver;\r\n        public workerThread(Driver driver){\r\n            this.driver=driver;\r\n        }\r\n        public void run() {\r\n            driver.setMyVariable(&quot;test&quot;);\r\n        }\r\n    }","title":"Sharing data between threads in Java","body":"<p>Don't make it static. Pass an instance of your object.</p>\n\n<pre><code>//Runnable myNewThread = new workerThread(this.getClass());\nRunnable myNewThread = new workerThread(this);\n</code></pre>\n\n<p>Then your workerThread should have a constructor.</p>\n\n<pre><code>public class workerThread implements Runnable{\n    Driver driver;\n    public workerThread(Driver driver){\n        this.driver=driver;\n    }\n    public void run() {\n        driver.setMyVariable(\"test\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9542944,"reputation":1,"user_id":7090290,"display_name":"Cesar Joel Ramos Cuetlach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527024069,"creation_date":1527024069,"answer_id":50476621,"question_id":50475856,"body_markdown":"    public class Driver extends Application{\r\n\r\n\t   public static Driver instance = new Driver();\r\n\r\n       //create socket handlers\r\n\t   public static Runnable myNewThread = new workerThread();\r\n\r\n\t   //variables\r\n\t   private String lastMessage = &quot;&quot;;\r\n\t   private static String MyVariable = &quot;&quot;;\r\n\r\n\t   //getters and setters\r\n\t   public static String setMyVariable(String MyVariable) {\r\n\t      instance.MyVariable = MyVariable;\r\n\t      return MyVariable;\r\n\t  }\r\n\r\n\t  //main\r\n\t  public static void main(String[] args) {\r\n      //launch threads\r\n\t      new Thread(myNewThread).start();\r\n\t  }\r\n    }","title":"Sharing data between threads in Java","body":"<pre><code>public class Driver extends Application{\n\n   public static Driver instance = new Driver();\n\n   //create socket handlers\n   public static Runnable myNewThread = new workerThread();\n\n   //variables\n   private String lastMessage = \"\";\n   private static String MyVariable = \"\";\n\n   //getters and setters\n   public static String setMyVariable(String MyVariable) {\n      instance.MyVariable = MyVariable;\n      return MyVariable;\n  }\n\n  //main\n  public static void main(String[] args) {\n  //launch threads\n      new Thread(myNewThread).start();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3828914,"reputation":1,"user_id":3175048,"display_name":"user3175048"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700584661,"creation_date":1700584398,"answer_id":77524461,"question_id":50475856,"body_markdown":"If you want to share data between all threads use static variable which is the solution suggested in this thread.\r\n\r\nTo share data between parent and child -\r\n\r\n- If you are using Java 12+ use [SharedData class](https://docs.oracle.com/en/industries/communications/billing-revenue/12.0/ccsdk-java-api/index.html?com/portal/app/comp/SharedData.html).\r\n\r\n - If using &lt; Java 11. Create your own SharedString class . Here is an example -\r\n\r\n\r\n```\r\npublic class DataSharingExample {\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            SharedString sharedString = new SharedString();\r\n\r\n            Thread parentThread = new Thread(() -&gt; {\r\n                sharedString.setString(&quot;Hello from parent thread &quot; + Thread.currentThread().getId());\r\n\r\n                Thread childThread = new Thread(() -&gt; {\r\n                    String data = sharedString.getString();\r\n                    System.out.println(&quot;Child thread &quot; + Thread.currentThread().getId() + &quot; received: &quot; + data);\r\n                });\r\n                childThread.start();\r\n                try {\r\n                    childThread.join(); // Wait for the child thread to complete\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                sharedString.setString(&quot;Modified data from parent thread &quot; + Thread.currentThread().getId());\r\n                String modifiedData = sharedString.getString();\r\n                System.out.println(&quot;Parent thread &quot; + Thread.currentThread().getId() + &quot; received modified data: &quot; + modifiedData);\r\n            });\r\n\r\n            parentThread.start();\r\n            try {\r\n                parentThread.join(); // Wait for the parent thread to complete\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass SharedString {\r\n    private String string;\r\n\r\n    public synchronized void setString(String string) {\r\n        this.string = string;\r\n    }\r\n\r\n    public synchronized String getString() {\r\n        return string;\r\n    }\r\n}\r\n```","title":"Sharing data between threads in Java","body":"<p>If you want to share data between all threads use static variable which is the solution suggested in this thread.</p>\n<p>To share data between parent and child -</p>\n<ul>\n<li><p>If you are using Java 12+ use <a href=\"https://docs.oracle.com/en/industries/communications/billing-revenue/12.0/ccsdk-java-api/index.html?com/portal/app/comp/SharedData.html\" rel=\"nofollow noreferrer\">SharedData class</a>.</p>\n</li>\n<li><p>If using &lt; Java 11. Create your own SharedString class . Here is an example -</p>\n</li>\n</ul>\n<pre><code>public class DataSharingExample {\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 5; i++) {\n            SharedString sharedString = new SharedString();\n\n            Thread parentThread = new Thread(() -&gt; {\n                sharedString.setString(&quot;Hello from parent thread &quot; + Thread.currentThread().getId());\n\n                Thread childThread = new Thread(() -&gt; {\n                    String data = sharedString.getString();\n                    System.out.println(&quot;Child thread &quot; + Thread.currentThread().getId() + &quot; received: &quot; + data);\n                });\n                childThread.start();\n                try {\n                    childThread.join(); // Wait for the child thread to complete\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                sharedString.setString(&quot;Modified data from parent thread &quot; + Thread.currentThread().getId());\n                String modifiedData = sharedString.getString();\n                System.out.println(&quot;Parent thread &quot; + Thread.currentThread().getId() + &quot; received modified data: &quot; + modifiedData);\n            });\n\n            parentThread.start();\n            try {\n                parentThread.join(); // Wait for the parent thread to complete\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\nclass SharedString {\n    private String string;\n\n    public synchronized void setString(String string) {\n        this.string = string;\n    }\n\n    public synchronized String getString() {\n        return string;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6090632,"reputation":71,"user_id":4753012,"accept_rate":50,"display_name":"Mr. Phil"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10989,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50475953,"answer_count":6,"score":3,"last_activity_date":1700584661,"creation_date":1527020364,"question_id":50475856,"body_markdown":"I&#39;m having trouble accessing data in my main thread from my new thread.  I can do this just fine without threading by just using the main class getters/setters.  But when I try to launch a new thread I can no longer do so.\r\n\r\nMain Class:\r\n\r\n    public class Driver extends Application{\r\n\r\n    //create socket handlers\r\n    Runnable myNewThread = new workerThread();\r\n\r\n    //variables\r\n    private String lastMessage = &quot;&quot;;\r\n\r\n    //getters and setters\r\n    public String setMyVariable() {\r\n        this.MyVariable = MyVariable;\r\n    }\r\n\r\n    //main\r\n    public static void main(String[] args) {\r\n        //launch threads\r\n        new Thread(myNewThread).start();\r\n    }\r\n\r\nNewThread Class:\r\n\r\n    public class workerThread implements Runnable{\r\n\r\n    public void run() {\r\n        Driver.setMyVariable(&quot;test&quot;);\r\n    }\r\n\r\nI get the error &quot;Cannot resolve symbol &#39;setMyVariable&#39;&quot; in my `workerThread` class.  As far as I can tell it&#39;s because my workerThread thread doesn&#39;t know what instance of Driver to refer to (there is only one instance, but it doesn&#39;t know that).  Could someone help me understand what I&#39;m missing?  I&#39;ve seen examples of declaring the new class within a function of the main class, but I&#39;m trying to avoid this in the interest of code organization as my worker thread is going to be a bit large.","title":"Sharing data between threads in Java","body":"<p>I'm having trouble accessing data in my main thread from my new thread.  I can do this just fine without threading by just using the main class getters/setters.  But when I try to launch a new thread I can no longer do so.</p>\n\n<p>Main Class:</p>\n\n<pre><code>public class Driver extends Application{\n\n//create socket handlers\nRunnable myNewThread = new workerThread();\n\n//variables\nprivate String lastMessage = \"\";\n\n//getters and setters\npublic String setMyVariable() {\n    this.MyVariable = MyVariable;\n}\n\n//main\npublic static void main(String[] args) {\n    //launch threads\n    new Thread(myNewThread).start();\n}\n</code></pre>\n\n<p>NewThread Class:</p>\n\n<pre><code>public class workerThread implements Runnable{\n\npublic void run() {\n    Driver.setMyVariable(\"test\");\n}\n</code></pre>\n\n<p>I get the error \"Cannot resolve symbol 'setMyVariable'\" in my <code>workerThread</code> class.  As far as I can tell it's because my workerThread thread doesn't know what instance of Driver to refer to (there is only one instance, but it doesn't know that).  Could someone help me understand what I'm missing?  I've seen examples of declaring the new class within a function of the main class, but I'm trying to avoid this in the interest of code organization as my worker thread is going to be a bit large.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9871,"page":46,"page_size":100}
